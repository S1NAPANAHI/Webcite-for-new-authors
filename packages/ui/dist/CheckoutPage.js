import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { useState } from 'react';
import { useCart } from '../../packages/shared/src/CartContext.js';
import { ShoppingCart, ArrowLeft, CreditCard, Lock } from 'lucide-react';
import { useNavigate } from 'react-router-dom';
export const CheckoutPage = () => {
    const { state, clearCart } = useCart();
    const navigate = useNavigate();
    const [isProcessing, setIsProcessing] = useState(false);
    const formatPrice = (amount, currency) => {
        return new Intl.NumberFormat('en-US', {
            style: 'currency',
            currency: currency.toUpperCase(),
        }).format(amount);
    };
    const handleCheckout = async () => {
        setIsProcessing(true);
        // Simulate checkout process
        setTimeout(() => {
            setIsProcessing(false);
            clearCart();
            navigate('/store?checkout=success');
        }, 2000);
    };
    const handleBackToStore = () => {
        navigate('/store');
    };
    if (state.items.length === 0) {
        return (_jsx("div", { className: "min-h-screen bg-gradient-to-br from-background via-background-light to-background flex items-center justify-center", children: _jsxs("div", { className: "text-center", children: [_jsx(ShoppingCart, { className: "w-16 h-16 text-text-dark mx-auto mb-4" }), _jsx("h2", { className: "text-2xl font-heading text-text-light mb-2", children: "Your cart is empty" }), _jsx("p", { className: "text-text-dark mb-6", children: "Add some products to your cart before checking out." }), _jsx("button", { onClick: handleBackToStore, className: "px-6 py-3 bg-secondary text-background rounded-xl hover:bg-secondary-dark transition-colors", children: "Continue Shopping" })] }) }));
    }
    return (_jsx("div", { className: "min-h-screen bg-gradient-to-br from-background via-background-light to-background", children: _jsxs("div", { className: "container mx-auto px-4 py-8", children: [_jsxs("div", { className: "mb-8", children: [_jsxs("button", { onClick: handleBackToStore, className: "flex items-center space-x-2 text-text-light hover:text-secondary transition-colors mb-4", children: [_jsx(ArrowLeft, { className: "w-5 h-5" }), _jsx("span", { children: "Back to Store" })] }), _jsx("h1", { className: "text-4xl font-heading text-text-light mb-2", children: "Checkout" }), _jsx("p", { className: "text-text-light/70", children: "Complete your purchase" })] }), _jsxs("div", { className: "grid grid-cols-1 lg:grid-cols-2 gap-8", children: [_jsxs("div", { className: "bg-background-light/30 backdrop-blur-sm rounded-2xl p-6 border border-border/30", children: [_jsx("h2", { className: "text-2xl font-heading text-text-light mb-6", children: "Order Summary" }), _jsx("div", { className: "space-y-4 mb-6", children: state.items.map((item) => (_jsxs("div", { className: "flex items-center justify-between p-4 bg-background/30 rounded-xl", children: [_jsxs("div", { className: "flex-1", children: [_jsx("h3", { className: "font-medium text-text-light", children: item.title }), _jsx("p", { className: "text-sm text-text-dark", children: item.format.toUpperCase() })] }), _jsxs("div", { className: "text-right", children: [_jsx("p", { className: "text-secondary font-medium", children: formatPrice(item.price, item.currency) }), _jsxs("p", { className: "text-sm text-text-dark", children: ["Qty: ", item.quantity] })] })] }, item.id))) }), _jsxs("div", { className: "border-t border-border/30 pt-4", children: [_jsxs("div", { className: "flex justify-between items-center text-lg font-medium text-text-light mb-2", children: [_jsx("span", { children: "Subtotal:" }), _jsx("span", { children: formatPrice(state.total, 'USD') })] }), _jsxs("div", { className: "flex justify-between items-center text-sm text-text-dark mb-4", children: [_jsx("span", { children: "Tax:" }), _jsx("span", { children: "Calculated at checkout" })] }), _jsxs("div", { className: "flex justify-between items-center text-xl font-bold text-secondary", children: [_jsx("span", { children: "Total:" }), _jsx("span", { children: formatPrice(state.total, 'USD') })] })] })] }), _jsxs("div", { className: "bg-background-light/30 backdrop-blur-sm rounded-2xl p-6 border border-border/30", children: [_jsx("h2", { className: "text-2xl font-heading text-text-light mb-6", children: "Payment Information" }), _jsxs("form", { className: "space-y-6", children: [_jsxs("div", { children: [_jsx("h3", { className: "text-lg font-medium text-text-light mb-4", children: "Customer Information" }), _jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [_jsxs("div", { children: [_jsx("label", { className: "block text-sm font-medium text-text-light mb-2", children: "First Name" }), _jsx("input", { type: "text", className: "w-full px-4 py-3 bg-background/50 border border-border/30 rounded-xl text-text-light placeholder-text-dark/50 focus:outline-none focus:ring-2 focus:ring-secondary/50 focus:border-secondary transition-all", placeholder: "Enter first name" })] }), _jsxs("div", { children: [_jsx("label", { className: "block text-sm font-medium text-text-light mb-2", children: "Last Name" }), _jsx("input", { type: "text", className: "w-full px-4 py-3 bg-background/50 border border-border/30 rounded-xl text-text-light placeholder-text-dark/50 focus:outline-none focus:ring-2 focus:ring-secondary/50 focus:border-secondary transition-all", placeholder: "Enter last name" })] })] }), _jsxs("div", { className: "mt-4", children: [_jsx("label", { className: "block text-sm font-medium text-text-light mb-2", children: "Email" }), _jsx("input", { type: "email", className: "w-full px-4 py-3 bg-background/50 border border-border/30 rounded-xl text-text-light placeholder-text-dark/50 focus:outline-none focus:ring-2 focus:ring-secondary/50 focus:border-secondary transition-all", placeholder: "Enter email address" })] })] }), _jsxs("div", { children: [_jsx("h3", { className: "text-lg font-medium text-text-light mb-4", children: "Payment Method" }), _jsx("div", { className: "space-y-4", children: _jsxs("div", { className: "flex items-center space-x-3 p-4 bg-background/30 rounded-xl border border-border/30", children: [_jsx("input", { type: "radio", name: "payment", id: "card", defaultChecked: true, className: "text-secondary focus:ring-secondary" }), _jsxs("label", { htmlFor: "card", className: "flex items-center space-x-2 cursor-pointer", children: [_jsx(CreditCard, { className: "w-5 h-5 text-secondary" }), _jsx("span", { className: "text-text-light", children: "Credit/Debit Card" })] })] }) })] }), _jsxs("div", { className: "p-4 bg-accent/10 border border-accent/30 rounded-xl", children: [_jsxs("div", { className: "flex items-center space-x-2 text-accent mb-2", children: [_jsx(Lock, { className: "w-5 h-5" }), _jsx("span", { className: "font-medium", children: "Secure Checkout" })] }), _jsx("p", { className: "text-sm text-text-light/70", children: "Your payment information is encrypted and secure. We never store your credit card details." })] }), _jsx("button", { type: "button", onClick: handleCheckout, disabled: isProcessing, className: "w-full bg-secondary text-background py-4 px-6 rounded-xl font-medium hover:bg-secondary-dark focus:outline-none focus:ring-2 focus:ring-secondary/50 focus:ring-offset-2 focus:ring-offset-background-light transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed text-lg", children: isProcessing ? (_jsxs("div", { className: "flex items-center justify-center space-x-2", children: [_jsx("div", { className: "w-5 h-5 border-2 border-background border-t-transparent rounded-full animate-spin" }), _jsx("span", { children: "Processing..." })] })) : (`Complete Purchase - ${formatPrice(state.total, 'USD')}`) })] })] })] })] }) }));
};
//# sourceMappingURL=CheckoutPage.js.map