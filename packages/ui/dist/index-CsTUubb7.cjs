"use strict";var T9=Object.defineProperty;var iC=e=>{throw TypeError(e)};var A9=(e,t,r)=>t in e?T9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var _e=(e,t,r)=>A9(e,typeof t!="symbol"?t+"":t,r),r0=(e,t,r)=>t.has(e)||iC("Cannot "+r);var ce=(e,t,r)=>(r0(e,t,"read from private field"),r?r.call(e):t.get(e)),gt=(e,t,r)=>t.has(e)?iC("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Je=(e,t,r,n)=>(r0(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Pt=(e,t,r)=>(r0(e,t,"access private method"),r);const w=require("react"),Li=require("react-dom");function B$(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const r in e)if(r!=="default"){const n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:()=>e[r]})}}return t.default=e,Object.freeze(t)}const S=B$(w),z$=B$(Li);var ur=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ci(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function P9(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var tw={exports:{}},qd={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oC;function O9(){if(oC)return qd;oC=1;var e=w,t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(a,l,c){var d,f={},h=null,p=null;c!==void 0&&(h=""+c),l.key!==void 0&&(h=""+l.key),l.ref!==void 0&&(p=l.ref);for(d in l)n.call(l,d)&&!i.hasOwnProperty(d)&&(f[d]=l[d]);if(a&&a.defaultProps)for(d in l=a.defaultProps,l)f[d]===void 0&&(f[d]=l[d]);return{$$typeof:t,type:a,key:h,ref:p,props:f,_owner:s.current}}return qd.Fragment=r,qd.jsx=o,qd.jsxs=o,qd}var Vd={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aC;function D9(){return aC||(aC=1,process.env.NODE_ENV!=="production"&&function(){var e=w,t=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.offscreen"),g=Symbol.iterator,m="@@iterator";function y(P){if(P===null||typeof P!="object")return null;var re=g&&P[g]||P[m];return typeof re=="function"?re:null}var v=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function b(P){{for(var re=arguments.length,ge=new Array(re>1?re-1:0),Te=1;Te<re;Te++)ge[Te-1]=arguments[Te];x("error",P,ge)}}function x(P,re,ge){{var Te=v.ReactDebugCurrentFrame,Ye=Te.getStackAddendum();Ye!==""&&(re+="%s",ge=ge.concat([Ye]));var Me=ge.map(function(Xe){return String(Xe)});Me.unshift("Warning: "+re),Function.prototype.apply.call(console[P],console,Me)}}var E=!1,_=!1,N=!1,k=!1,C=!1,T;T=Symbol.for("react.module.reference");function $(P){return!!(typeof P=="string"||typeof P=="function"||P===n||P===i||C||P===s||P===c||P===d||k||P===p||E||_||N||typeof P=="object"&&P!==null&&(P.$$typeof===h||P.$$typeof===f||P.$$typeof===o||P.$$typeof===a||P.$$typeof===l||P.$$typeof===T||P.getModuleId!==void 0))}function M(P,re,ge){var Te=P.displayName;if(Te)return Te;var Ye=re.displayName||re.name||"";return Ye!==""?ge+"("+Ye+")":ge}function L(P){return P.displayName||"Context"}function D(P){if(P==null)return null;if(typeof P.tag=="number"&&b("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof P=="function")return P.displayName||P.name||null;if(typeof P=="string")return P;switch(P){case n:return"Fragment";case r:return"Portal";case i:return"Profiler";case s:return"StrictMode";case c:return"Suspense";case d:return"SuspenseList"}if(typeof P=="object")switch(P.$$typeof){case a:var re=P;return L(re)+".Consumer";case o:var ge=P;return L(ge._context)+".Provider";case l:return M(P,P.render,"ForwardRef");case f:var Te=P.displayName||null;return Te!==null?Te:D(P.type)||"Memo";case h:{var Ye=P,Me=Ye._payload,Xe=Ye._init;try{return D(Xe(Me))}catch{return null}}}return null}var z=Object.assign,U=0,G,q,Z,ie,R,B,X;function oe(){}oe.__reactDisabledLog=!0;function W(){{if(U===0){G=console.log,q=console.info,Z=console.warn,ie=console.error,R=console.group,B=console.groupCollapsed,X=console.groupEnd;var P={configurable:!0,enumerable:!0,value:oe,writable:!0};Object.defineProperties(console,{info:P,log:P,warn:P,error:P,group:P,groupCollapsed:P,groupEnd:P})}U++}}function K(){{if(U--,U===0){var P={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:z({},P,{value:G}),info:z({},P,{value:q}),warn:z({},P,{value:Z}),error:z({},P,{value:ie}),group:z({},P,{value:R}),groupCollapsed:z({},P,{value:B}),groupEnd:z({},P,{value:X})})}U<0&&b("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var ee=v.ReactCurrentDispatcher,te;function ue(P,re,ge){{if(te===void 0)try{throw Error()}catch(Ye){var Te=Ye.stack.trim().match(/\n( *(at )?)/);te=Te&&Te[1]||""}return`
`+te+P}}var V=!1,H;{var se=typeof WeakMap=="function"?WeakMap:Map;H=new se}function O(P,re){if(!P||V)return"";{var ge=H.get(P);if(ge!==void 0)return ge}var Te;V=!0;var Ye=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var Me;Me=ee.current,ee.current=null,W();try{if(re){var Xe=function(){throw Error()};if(Object.defineProperty(Xe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Xe,[])}catch(Or){Te=Or}Reflect.construct(P,[],Xe)}else{try{Xe.call()}catch(Or){Te=Or}P.call(Xe.prototype)}}else{try{throw Error()}catch(Or){Te=Or}P()}}catch(Or){if(Or&&Te&&typeof Or.stack=="string"){for(var Ze=Or.stack.split(`
`),vr=Te.stack.split(`
`),At=Ze.length-1,It=vr.length-1;At>=1&&It>=0&&Ze[At]!==vr[It];)It--;for(;At>=1&&It>=0;At--,It--)if(Ze[At]!==vr[It]){if(At!==1||It!==1)do if(At--,It--,It<0||Ze[At]!==vr[It]){var wt=`
`+Ze[At].replace(" at new "," at ");return P.displayName&&wt.includes("<anonymous>")&&(wt=wt.replace("<anonymous>",P.displayName)),typeof P=="function"&&H.set(P,wt),wt}while(At>=1&&It>=0);break}}}finally{V=!1,ee.current=Me,K(),Error.prepareStackTrace=Ye}var bi=P?P.displayName||P.name:"",Is=bi?ue(bi):"";return typeof P=="function"&&H.set(P,Is),Is}function ye(P,re,ge){return O(P,!1)}function je(P){var re=P.prototype;return!!(re&&re.isReactComponent)}function Be(P,re,ge){if(P==null)return"";if(typeof P=="function")return O(P,je(P));if(typeof P=="string")return ue(P);switch(P){case c:return ue("Suspense");case d:return ue("SuspenseList")}if(typeof P=="object")switch(P.$$typeof){case l:return ye(P.render);case f:return Be(P.type,re,ge);case h:{var Te=P,Ye=Te._payload,Me=Te._init;try{return Be(Me(Ye),re,ge)}catch{}}}return""}var Ue=Object.prototype.hasOwnProperty,nt={},St=v.ReactDebugCurrentFrame;function Ct(P){if(P){var re=P._owner,ge=Be(P.type,P._source,re?re.type:null);St.setExtraStackFrame(ge)}else St.setExtraStackFrame(null)}function I(P,re,ge,Te,Ye){{var Me=Function.call.bind(Ue);for(var Xe in P)if(Me(P,Xe)){var Ze=void 0;try{if(typeof P[Xe]!="function"){var vr=Error((Te||"React class")+": "+ge+" type `"+Xe+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof P[Xe]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw vr.name="Invariant Violation",vr}Ze=P[Xe](re,Xe,Te,ge,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(At){Ze=At}Ze&&!(Ze instanceof Error)&&(Ct(Ye),b("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",Te||"React class",ge,Xe,typeof Ze),Ct(null)),Ze instanceof Error&&!(Ze.message in nt)&&(nt[Ze.message]=!0,Ct(Ye),b("Failed %s type: %s",ge,Ze.message),Ct(null))}}}var Y=Array.isArray;function J(P){return Y(P)}function ve(P){{var re=typeof Symbol=="function"&&Symbol.toStringTag,ge=re&&P[Symbol.toStringTag]||P.constructor.name||"Object";return ge}}function pe(P){try{return me(P),!1}catch{return!0}}function me(P){return""+P}function Se(P){if(pe(P))return b("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",ve(P)),me(P)}var Le=v.ReactCurrentOwner,He={key:!0,ref:!0,__self:!0,__source:!0},Ut,Tt;function zr(P){if(Ue.call(P,"ref")){var re=Object.getOwnPropertyDescriptor(P,"ref").get;if(re&&re.isReactWarning)return!1}return P.ref!==void 0}function yi(P){if(Ue.call(P,"key")){var re=Object.getOwnPropertyDescriptor(P,"key").get;if(re&&re.isReactWarning)return!1}return P.key!==void 0}function ns(P,re){typeof P.ref=="string"&&Le.current}function ss(P,re){{var ge=function(){Ut||(Ut=!0,b("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",re))};ge.isReactWarning=!0,Object.defineProperty(P,"key",{get:ge,configurable:!0})}}function In(P,re){{var ge=function(){Tt||(Tt=!0,b("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",re))};ge.isReactWarning=!0,Object.defineProperty(P,"ref",{get:ge,configurable:!0})}}var Gr=function(P,re,ge,Te,Ye,Me,Xe){var Ze={$$typeof:t,type:P,key:re,ref:ge,props:Xe,_owner:Me};return Ze._store={},Object.defineProperty(Ze._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(Ze,"_self",{configurable:!1,enumerable:!1,writable:!1,value:Te}),Object.defineProperty(Ze,"_source",{configurable:!1,enumerable:!1,writable:!1,value:Ye}),Object.freeze&&(Object.freeze(Ze.props),Object.freeze(Ze)),Ze};function un(P,re,ge,Te,Ye){{var Me,Xe={},Ze=null,vr=null;ge!==void 0&&(Se(ge),Ze=""+ge),yi(re)&&(Se(re.key),Ze=""+re.key),zr(re)&&(vr=re.ref,ns(re,Ye));for(Me in re)Ue.call(re,Me)&&!He.hasOwnProperty(Me)&&(Xe[Me]=re[Me]);if(P&&P.defaultProps){var At=P.defaultProps;for(Me in At)Xe[Me]===void 0&&(Xe[Me]=At[Me])}if(Ze||vr){var It=typeof P=="function"?P.displayName||P.name||"Unknown":P;Ze&&ss(Xe,It),vr&&In(Xe,It)}return Gr(P,Ze,vr,Ye,Te,Le.current,Xe)}}var Pr=v.ReactCurrentOwner,yr=v.ReactDebugCurrentFrame;function dn(P){if(P){var re=P._owner,ge=Be(P.type,P._source,re?re.type:null);yr.setExtraStackFrame(ge)}else yr.setExtraStackFrame(null)}var Mn;Mn=!1;function Ln(P){return typeof P=="object"&&P!==null&&P.$$typeof===t}function is(){{if(Pr.current){var P=D(Pr.current.type);if(P)return`

Check the render method of \``+P+"`."}return""}}function Rs(P){return""}var os={};function Qi(P){{var re=is();if(!re){var ge=typeof P=="string"?P:P.displayName||P.name;ge&&(re=`

Check the top-level render call using <`+ge+">.")}return re}}function as(P,re){{if(!P._store||P._store.validated||P.key!=null)return;P._store.validated=!0;var ge=Qi(re);if(os[ge])return;os[ge]=!0;var Te="";P&&P._owner&&P._owner!==Pr.current&&(Te=" It was passed a child from "+D(P._owner.type)+"."),dn(P),b('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',ge,Te),dn(null)}}function Fn(P,re){{if(typeof P!="object")return;if(J(P))for(var ge=0;ge<P.length;ge++){var Te=P[ge];Ln(Te)&&as(Te,re)}else if(Ln(P))P._store&&(P._store.validated=!0);else if(P){var Ye=y(P);if(typeof Ye=="function"&&Ye!==P.entries)for(var Me=Ye.call(P),Xe;!(Xe=Me.next()).done;)Ln(Xe.value)&&as(Xe.value,re)}}}function Jo(P){{var re=P.type;if(re==null||typeof re=="string")return;var ge;if(typeof re=="function")ge=re.propTypes;else if(typeof re=="object"&&(re.$$typeof===l||re.$$typeof===f))ge=re.propTypes;else return;if(ge){var Te=D(re);I(ge,P.props,"prop",Te,P)}else if(re.PropTypes!==void 0&&!Mn){Mn=!0;var Ye=D(re);b("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",Ye||"Unknown")}typeof re.getDefaultProps=="function"&&!re.getDefaultProps.isReactClassApproved&&b("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Bn(P){{for(var re=Object.keys(P.props),ge=0;ge<re.length;ge++){var Te=re[ge];if(Te!=="children"&&Te!=="key"){dn(P),b("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",Te),dn(null);break}}P.ref!==null&&(dn(P),b("Invalid attribute `ref` supplied to `React.Fragment`."),dn(null))}}var Qo={};function $s(P,re,ge,Te,Ye,Me){{var Xe=$(P);if(!Xe){var Ze="";(P===void 0||typeof P=="object"&&P!==null&&Object.keys(P).length===0)&&(Ze+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var vr=Rs();vr?Ze+=vr:Ze+=is();var At;P===null?At="null":J(P)?At="array":P!==void 0&&P.$$typeof===t?(At="<"+(D(P.type)||"Unknown")+" />",Ze=" Did you accidentally export a JSX literal instead of a component?"):At=typeof P,b("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",At,Ze)}var It=un(P,re,ge,Ye,Me);if(It==null)return It;if(Xe){var wt=re.children;if(wt!==void 0)if(Te)if(J(wt)){for(var bi=0;bi<wt.length;bi++)Fn(wt[bi],P);Object.freeze&&Object.freeze(wt)}else b("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else Fn(wt,P)}if(Ue.call(re,"key")){var Is=D(P),Or=Object.keys(re).filter(function(ta){return ta!=="key"}),ll=Or.length>0?"{key: someKey, "+Or.join(": ..., ")+": ...}":"{key: someKey}";if(!Qo[Is+ll]){var Id=Or.length>0?"{"+Or.join(": ..., ")+": ...}":"{}";b(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,ll,Is,Id,Is),Qo[Is+ll]=!0}}return P===n?Bn(It):Jo(It),It}}function eo(P,re,ge){return $s(P,re,ge,!0)}function ea(P,re,ge){return $s(P,re,ge,!1)}var vi=ea,ae=eo;Vd.Fragment=n,Vd.jsx=vi,Vd.jsxs=ae}()),Vd}process.env.NODE_ENV==="production"?tw.exports=O9():tw.exports=D9();var u=tw.exports;function lC(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function U$(...e){return t=>{let r=!1;const n=e.map(s=>{const i=lC(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():lC(e[s],null)}}}}function Rn(...e){return S.useCallback(U$(...e),e)}function Xf(e){const t=$9(e),r=S.forwardRef((n,s)=>{const{children:i,...o}=n,a=S.Children.toArray(i),l=a.find(M9);if(l){const c=l.props.children,d=a.map(f=>f===l?S.Children.count(c)>1?S.Children.only(null):S.isValidElement(c)?c.props.children:null:f);return u.jsx(t,{...o,ref:s,children:S.isValidElement(c)?S.cloneElement(c,void 0,d):null})}return u.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var R9=Xf("Slot");function $9(e){const t=S.forwardRef((r,n)=>{const{children:s,...i}=r;if(S.isValidElement(s)){const o=F9(s),a=L9(i,s.props);return s.type!==S.Fragment&&(a.ref=n?U$(n,o):o),S.cloneElement(s,a)}return S.Children.count(s)>1?S.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var q$=Symbol("radix.slottable");function I9(e){const t=({children:r})=>u.jsx(u.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=q$,t}function M9(e){return S.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===q$}function L9(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function F9(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function V$(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=V$(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function rt(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=V$(e))&&(n&&(n+=" "),n+=t);return n}const cC=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,uC=rt,zy=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return uC(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(c=>{const d=r==null?void 0:r[c],f=i==null?void 0:i[c];if(d===null)return null;const h=cC(d)||cC(f);return s[c][h]}),a=r&&Object.entries(r).reduce((c,d)=>{let[f,h]=d;return h===void 0||(c[f]=h),c},{}),l=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((c,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(g=>{let[m,y]=g;return Array.isArray(y)?y.includes({...i,...a}[m]):{...i,...a}[m]===y})?[...c,f,h]:c},[]);return uC(e,o,l,r==null?void 0:r.class,r==null?void 0:r.className)},B9=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Promise.resolve().then(()=>ad).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class lS extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class z9 extends lS{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class dC extends lS{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class fC extends lS{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var rw;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(rw||(rw={}));var U9=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class q9{constructor(t,{headers:r={},customFetch:n,region:s=rw.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=B9(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return U9(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let a={},{region:l}=r;l||(l=this.region);const c=new URL(`${this.url}/${t}`);l&&l!=="any"&&(a["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(a["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(a["Content-Type"]="application/json",d=JSON.stringify(o)));const f=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:d}).catch(m=>{throw new z9(m)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new dC(f);if(!f.ok)throw new fC(f);let p=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return p==="application/json"?g=yield f.json():p==="application/octet-stream"?g=yield f.blob():p==="text/event-stream"?g=f:p==="multipart/form-data"?g=yield f.formData():g=yield f.text(),{data:g,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof fC||s instanceof dC?s.context:void 0}}})}}var Cn={},cS={},Uy={},zh={},qy={},Vy={},V9=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},$u=V9();const W9=$u.fetch,W$=$u.fetch.bind($u),K$=$u.Headers,K9=$u.Request,H9=$u.Response,ad=Object.freeze(Object.defineProperty({__proto__:null,Headers:K$,Request:K9,Response:H9,default:W$,fetch:W9},Symbol.toStringTag,{value:"Module"})),Y9=P9(ad);var Wy={};Object.defineProperty(Wy,"__esModule",{value:!0});let G9=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Wy.default=G9;var H$=ur&&ur.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vy,"__esModule",{value:!0});const Z9=H$(Y9),X9=H$(Wy);let J9=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Z9.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l,c;let d=null,f=null,h=null,p=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const b=await i.text();b===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?f=b:f=JSON.parse(b))}const y=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),v=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");y&&v&&v.length>1&&(h=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,p=406,g="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const y=await i.text();try{d=JSON.parse(y),Array.isArray(d)&&i.status===404&&(f=[],d=null,p=200,g="OK")}catch{i.status===404&&y===""?(p=204,g="No Content"):d={message:y}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,p=200,g="OK"),d&&this.shouldThrowOnError)throw new X9.default(d)}return{error:d,data:f,count:h,status:p,statusText:g}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Vy.default=J9;var Q9=ur&&ur.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qy,"__esModule",{value:!0});const eq=Q9(Vy);let tq=class extends eq.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};qy.default=tq;var rq=ur&&ur.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zh,"__esModule",{value:!0});const nq=rq(qy);let sq=class extends nq.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};zh.default=sq;var iq=ur&&ur.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Uy,"__esModule",{value:!0});const Wd=iq(zh);let oq=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new Wd.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var s;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Wd.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Wd.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:r}={}){var n;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new Wd.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Wd.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Uy.default=oq;var Y$=ur&&ur.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cS,"__esModule",{value:!0});const aq=Y$(Uy),lq=Y$(zh);let cq=class G${constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new aq.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new G$(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{l.searchParams.append(f,h)})):(a="POST",c=r);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new lq.default({method:a,url:l,headers:d,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};cS.default=cq;var ld=ur&&ur.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cn,"__esModule",{value:!0});Cn.PostgrestError=Cn.PostgrestBuilder=Cn.PostgrestTransformBuilder=Cn.PostgrestFilterBuilder=Cn.PostgrestQueryBuilder=Cn.PostgrestClient=void 0;const Z$=ld(cS);Cn.PostgrestClient=Z$.default;const X$=ld(Uy);Cn.PostgrestQueryBuilder=X$.default;const J$=ld(zh);Cn.PostgrestFilterBuilder=J$.default;const Q$=ld(qy);Cn.PostgrestTransformBuilder=Q$.default;const eI=ld(Vy);Cn.PostgrestBuilder=eI.default;const tI=ld(Wy);Cn.PostgrestError=tI.default;var uq=Cn.default={PostgrestClient:Z$.default,PostgrestQueryBuilder:X$.default,PostgrestFilterBuilder:J$.default,PostgrestTransformBuilder:Q$.default,PostgrestBuilder:eI.default,PostgrestError:tI.default};const{PostgrestClient:dq,PostgrestQueryBuilder:kRe,PostgrestFilterBuilder:CRe,PostgrestTransformBuilder:TRe,PostgrestBuilder:ARe,PostgrestError:PRe}=uq;class fq{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const hq="2.15.1",pq=`realtime-js/${hq}`,mq="1.0.0",nw=1e4,gq=1e3,yq=100;var Ef;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ef||(Ef={}));var wr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(wr||(wr={}));var Ks;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ks||(Ks={}));var sw;(function(e){e.websocket="websocket"})(sw||(sw={}));var wl;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(wl||(wl={}));class vq{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(t.slice(o,o+s));o=o+s;const l=n.decode(t.slice(o,o+i));o=o+i;const c=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class rI{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Et;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Et||(Et={}));const hC=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=bq(o,e,t,s),i),{})},bq=(e,t,r,n)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?nI(i,o):iw(o)},nI=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Sq(t,r)}switch(e){case Et.bool:return xq(t);case Et.float4:case Et.float8:case Et.int2:case Et.int4:case Et.int8:case Et.numeric:case Et.oid:return wq(t);case Et.json:case Et.jsonb:return _q(t);case Et.timestamp:return Eq(t);case Et.abstime:case Et.date:case Et.daterange:case Et.int4range:case Et.int8range:case Et.money:case Et.reltime:case Et.text:case Et.time:case Et.timestamptz:case Et.timetz:case Et.tsrange:case Et.tstzrange:return iw(t);default:return iw(t)}},iw=e=>e,xq=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},wq=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},_q=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Sq=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>nI(t,a))}return e},Eq=e=>typeof e=="string"?e.replace(" ","T"):e,sI=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class n0{constructor(t,r,n={},s=nw){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var pC;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(pC||(pC={}));class jf{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=jf.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=jf.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=jf.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),a={},l={};return this.map(i,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const f=i[c];if(f){const h=d.map(y=>y.presence_ref),p=f.map(y=>y.presence_ref),g=d.filter(y=>p.indexOf(y.presence_ref)<0),m=f.filter(y=>h.indexOf(y.presence_ref)<0);g.length>0&&(a[c]=g),m.length>0&&(l[c]=m)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const d=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),d.length>0){const f=t[a].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[a].unshift(...h)}n(a,d,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),t[a]=c,s(a,c,l),c.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var mC;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(mC||(mC={}));var Nf;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Nf||(Nf={}));var uo;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(uo||(uo={}));class uS{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=wr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new n0(this,Ks.join,this.params,this.timeout),this.rejoinTimer=new rI(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=wr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=wr.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=wr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=wr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=wr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ks.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new jf(this),this.broadcastEndpointURL=sI(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==wr.closed){const{config:{broadcast:i,presence:o,private:a}}=this.params,l=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[Nf.PRESENCE]&&this.bindings[Nf.PRESENCE].length>0,d={},f={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:c}),postgres_changes:l,private:a};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(h=>t==null?void 0:t(uo.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(uo.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var p;if(this.socket.setAuth(),h===void 0){t==null||t(uo.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,m=(p=g==null?void 0:g.length)!==null&&p!==void 0?p:0,y=[];for(let v=0;v<m;v++){const b=g[v],{filter:{event:x,schema:E,table:_,filter:N}}=b,k=h&&h[v];if(k&&k.event===x&&k.schema===E&&k.table===_&&k.filter===N)y.push(Object.assign(Object.assign({},b),{id:k.id}));else{this.unsubscribe(),this.state=wr.errored,t==null||t(uo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(uo.SUBSCRIBED);return}}).receive("error",h=>{this.state=wr.errored,t==null||t(uo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(uo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===wr.joined&&t===Nf.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=wr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ks.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new n0(this,Ks.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=wr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new n0(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>yq){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=Ks;if(n&&[a,l,c,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var g,m,y;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((y=(m=p.filter)===null||m===void 0?void 0:m.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var g,m,y,v,b,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const E=p.id,_=(g=p.filter)===null||g===void 0?void 0:g.event;return E&&((m=r.ids)===null||m===void 0?void 0:m.includes(E))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const E=(b=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return E==="*"||E===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:m,table:y,commit_timestamp:v,type:b,errors:x}=g;h=Object.assign(Object.assign({},{schema:m,table:y,commit_timestamp:v,eventType:b,new:{},old:{},errors:x}),this._getPayloadRecords(g))}p.callback(h,n)})}_isClosed(){return this.state===wr.closed}_isJoined(){return this.state===wr.joined}_isJoining(){return this.state===wr.joining}_isLeaving(){return this.state===wr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&uS.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ks.close,{},t)}_onError(t){this._on(Ks.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=wr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=hC(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=hC(t.columns,t.old_record)),r}}const gC=()=>{},qp={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},jq=[1e3,2e3,5e3,1e4],Nq=1e4,kq=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Cq{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=nw,this.transport=null,this.heartbeatIntervalMs=qp.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=gC,this.ref=0,this.reconnectTimer=null,this.logger=gC,this.conn=null,this.sendBuffer=[],this.serializer=new vq,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>Promise.resolve().then(()=>ad).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${sw.websocket}`,this.httpEndpoint=sI(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=fq.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:mq}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ef.connecting:return wl.Connecting;case Ef.open:return wl.Open;case Ef.closing:return wl.Closing;default:return wl.Closed}}isConnected(){return this.connectionState()===wl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new uS(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(gq,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},qp.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ks.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([kq],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:pq};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Ks.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new rI(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},qp.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,o,a,l,c;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:nw,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:qp.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(a=t==null?void 0:t.reconnectAfterMs)!==null&&a!==void 0?a:d=>jq[d-1]||Nq,this.encode=(l=t==null?void 0:t.encode)!==null&&l!==void 0?l:(d,f)=>f(JSON.stringify(d)),this.decode=(c=t==null?void 0:t.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class dS extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Sr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Tq extends dS{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ow extends dS{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Aq=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const iI=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Promise.resolve().then(()=>ad).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Pq=()=>Aq(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Promise.resolve().then(()=>ad)).Response:Response}),aw=e=>{if(Array.isArray(e))return e.map(r=>aw(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=aw(n)}),t},Oq=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var lc=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const s0=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Dq=(e,t,r)=>lc(void 0,void 0,void 0,function*(){const n=yield Pq();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const i=e.status||500,o=(s==null?void 0:s.statusCode)||i+"";t(new Tq(s0(s),i,o))}).catch(s=>{t(new ow(s0(s),s))}):t(new ow(s0(e),e))}),Rq=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(Oq(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function Uh(e,t,r,n,s,i){return lc(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,Rq(t,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Dq(l,a,n))})})}function ug(e,t,r,n){return lc(this,void 0,void 0,function*(){return Uh(e,"GET",t,r,n)})}function Si(e,t,r,n,s){return lc(this,void 0,void 0,function*(){return Uh(e,"POST",t,n,s,r)})}function lw(e,t,r,n,s){return lc(this,void 0,void 0,function*(){return Uh(e,"PUT",t,n,s,r)})}function $q(e,t,r,n){return lc(this,void 0,void 0,function*(){return Uh(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function oI(e,t,r,n,s){return lc(this,void 0,void 0,function*(){return Uh(e,"DELETE",t,n,s,r)})}var hn=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const Iq={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},yC={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Mq{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=iI(s)}uploadOrUpdate(t,r,n,s){return hn(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},yC),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),f=yield(t=="PUT"?lw:Si)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(Sr(i))return{data:null,error:i};throw i}})}upload(t,r,n){return hn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return hn(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:yC.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield lw(this.fetch,a.toString(),l,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(l){if(Sr(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return hn(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Si(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new dS("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(Sr(n))return{data:null,error:n};throw n}})}update(t,r,n){return hn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return hn(this,void 0,void 0,function*(){try{return{data:yield Si(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Sr(s))return{data:null,error:s};throw s}})}copy(t,r,n){return hn(this,void 0,void 0,function*(){try{return{data:{path:(yield Si(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Sr(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return hn(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Si(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Sr(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return hn(this,void 0,void 0,function*(){try{const s=yield Si(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Sr(s))return{data:null,error:s};throw s}})}download(t,r){return hn(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield ug(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Sr(a))return{data:null,error:a};throw a}})}info(t){return hn(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield ug(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:aw(n),error:null}}catch(n){if(Sr(n))return{data:null,error:n};throw n}})}exists(t){return hn(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield $q(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Sr(n)&&n instanceof ow){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(t){return hn(this,void 0,void 0,function*(){try{return{data:yield oI(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Sr(r))return{data:null,error:r};throw r}})}list(t,r,n){return hn(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Iq),r),{prefix:t||""});return{data:yield Si(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Sr(s))return{data:null,error:s};throw s}})}listV2(t,r){return hn(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Si(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(Sr(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Lq="2.11.0",Fq={"X-Client-Info":`storage-js/${Lq}`};var jc=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class Bq{constructor(t,r={},n,s){const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},Fq),r),this.fetch=iI(n)}listBuckets(){return jc(this,void 0,void 0,function*(){try{return{data:yield ug(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Sr(t))return{data:null,error:t};throw t}})}getBucket(t){return jc(this,void 0,void 0,function*(){try{return{data:yield ug(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Sr(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return jc(this,void 0,void 0,function*(){try{return{data:yield Si(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Sr(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return jc(this,void 0,void 0,function*(){try{return{data:yield lw(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Sr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return jc(this,void 0,void 0,function*(){try{return{data:yield Si(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Sr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return jc(this,void 0,void 0,function*(){try{return{data:yield oI(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Sr(r))return{data:null,error:r};throw r}})}}class zq extends Bq{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new Mq(this.url,this.headers,t,this.fetch)}}const Uq="2.56.0";let pf="";typeof Deno<"u"?pf="deno":typeof document<"u"?pf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?pf="react-native":pf="node";const qq={"X-Client-Info":`supabase-js-${pf}/${Uq}`},Vq={headers:qq},Wq={schema:"public"},Kq={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Hq={};var Yq=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const Gq=e=>{let t;return e?t=e:typeof fetch>"u"?t=W$:t=fetch,(...r)=>t(...r)},Zq=()=>typeof Headers>"u"?K$:Headers,Xq=(e,t,r)=>{const n=Gq(r),s=Zq();return(i,o)=>Yq(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:c}))})};var Jq=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};function Qq(e){return e.endsWith("/")?e:e+"/"}function eV(e,t){var r,n;const{db:s,auth:i,realtime:o,global:a}=e,{db:l,auth:c,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Jq(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const aI="2.71.1",Lc=30*1e3,cw=3,i0=cw*Lc,tV="http://localhost:9999",rV="supabase.auth.token",nV={"X-Client-Info":`gotrue-js/${aI}`},uw="X-Supabase-Api-Version",lI={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},sV=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,iV=10*60*1e3;class fS extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ke(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class oV extends fS{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function aV(e){return Ke(e)&&e.name==="AuthApiError"}class cI extends fS{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Ka extends fS{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class ua extends Ka{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function lV(e){return Ke(e)&&e.name==="AuthSessionMissingError"}class Vp extends Ka{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Wp extends Ka{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Kp extends Ka{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function cV(e){return Ke(e)&&e.name==="AuthImplicitGrantRedirectError"}class vC extends Ka{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class dw extends Ka{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function o0(e){return Ke(e)&&e.name==="AuthRetryableFetchError"}class bC extends Ka{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class fw extends Ka{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const dg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),xC=` 	
\r=`.split(""),uV=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<xC.length;t+=1)e[xC[t].charCodeAt(0)]=-2;for(let t=0;t<dg.length;t+=1)e[dg[t].charCodeAt(0)]=t;return e})();function wC(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(dg[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(dg[n]),t.queuedBits-=6}}function uI(e,t,r){const n=uV[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function _C(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{hV(o,n,r)};for(let o=0;o<e.length;o+=1)uI(e.charCodeAt(o),s,i);return t.join("")}function dV(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function fV(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}dV(n,t)}}function hV(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function pV(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)uI(e.charCodeAt(s),r,n);return new Uint8Array(t)}function mV(e){const t=[];return fV(e,r=>t.push(r)),new Uint8Array(t)}function gV(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>wC(s,r,n)),wC(null,r,n),t.join("")}function yV(e){return Math.round(Date.now()/1e3)+e}function vV(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Fs=()=>typeof window<"u"&&typeof document<"u",fl={tested:!1,writable:!1},dI=()=>{if(!Fs())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(fl.tested)return fl.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),fl.tested=!0,fl.writable=!0}catch{fl.tested=!0,fl.writable=!1}return fl.writable};function bV(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const fI=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Promise.resolve().then(()=>ad).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},xV=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Fc=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},hl=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},na=async(e,t)=>{await e.removeItem(t)};class Ky{constructor(){this.promise=new Ky.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Ky.promiseConstructor=Promise;function a0(e){const t=e.split(".");if(t.length!==3)throw new fw("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!sV.test(t[n]))throw new fw("JWT not in base64url format");return{header:JSON.parse(_C(t[0])),payload:JSON.parse(_C(t[1])),signature:pV(t[2]),raw:{header:t[0],payload:t[1]}}}async function wV(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function _V(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function SV(e){return("0"+e.toString(16)).substr(-2)}function EV(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,SV).join("")}async function jV(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function NV(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await jV(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Nc(e,t,r=!1){const n=EV();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Fc(e,`${t}-code-verifier`,s);const i=await NV(n);return[i,n===i?"plain":"s256"]}const kV=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function CV(e){const t=e.headers.get(uw);if(!t||!t.match(kV))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function TV(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function AV(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const PV=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function kc(e){if(!PV.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function l0(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function SC(e){return JSON.parse(JSON.stringify(e))}var OV=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const gl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),DV=[502,503,504];async function EC(e){var t;if(!xV(e))throw new dw(gl(e),0);if(DV.includes(e.status))throw new dw(gl(e),e.status);let r;try{r=await e.json()}catch(i){throw new cI(gl(i),i)}let n;const s=CV(e);if(s&&s.getTime()>=lI["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new bC(gl(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ua}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new bC(gl(r),e.status,r.weak_password.reasons);throw new oV(gl(r),e.status||500,n)}const RV=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Qe(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[uw]||(i[uw]=lI["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await $V(e,t,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function $V(e,t,r,n,s,i){const o=RV(t,n,s,i);let a;try{a=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new dw(gl(l),0)}if(a.ok||await EC(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await EC(l)}}function co(e){var t;let r=null;FV(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=yV(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function jC(e){const t=co(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ba(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function IV(e){return{data:e,error:null}}function MV(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=OV(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function LV(e){return e}function FV(e){return e.access_token&&e.refresh_token&&e.expires_in}const c0=["global","local","others"];var BV=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class zV{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=fI(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=c0[0]){if(c0.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${c0.join(", ")}`);try{return await Qe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Qe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ba})}catch(n){if(Ke(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=BV(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Qe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:MV,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ke(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Qe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ba})}catch(r){if(Ke(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await Qe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:LV});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);c[`${y}Page`]=m}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(Ke(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){kc(t);try{return await Qe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ba})}catch(r){if(Ke(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){kc(t);try{return await Qe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ba})}catch(n){if(Ke(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){kc(t);try{return await Qe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ba})}catch(n){if(Ke(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){kc(t.userId);try{const{data:r,error:n}=await Qe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Ke(r))return{data:null,error:r};throw r}}async _deleteFactor(t){kc(t.userId),kc(t.id);try{return{data:await Qe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}}}function NC(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function UV(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Cc={debug:!!(globalThis&&dI()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class hI extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class qV extends hI{}async function VV(e,t,r){Cc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Cc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Cc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Cc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Cc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new qV(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Cc.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}UV();const WV={url:tV,storageKey:rV,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:nV,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function kC(e,t,r){return await r()}const Tc={};class Jf{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Jf.nextInstanceID,Jf.nextInstanceID+=1,this.instanceID>0&&Fs()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},WV),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new zV({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=fI(s.fetch),this.lock=s.lock||kC,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Fs()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=VV:this.lock=kC,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:dI()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=NC(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=NC(this.memoryStorage)),Fs()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Tc[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Tc[this.storageKey]=Object.assign(Object.assign({},Tc[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Tc[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Tc[this.storageKey]=Object.assign(Object.assign({},Tc[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${aI}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=bV(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Fs()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),cV(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ke(r)?{error:r}:{error:new cI("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:co}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Ke(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Nc(this.storage,this.storageKey)),i=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:g},xform:co})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:co})}else throw new Wp("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Ke(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:a}=t;r=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:jC})}else if("phone"in t){const{phone:i,password:o,options:a}=t;r=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:jC})}else throw new Wp("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Vp}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Ke(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,o,a,l,c,d,f,h,p;let g,m;if("message"in t)g=t.message,m=t.signature;else{const{chain:y,wallet:v,statement:b,options:x}=t;let E;if(Fs())if(typeof v=="object")E=v;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))E=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=v}const _=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in E&&E.signIn){const N=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),b?{statement:b}:null));let k;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")k=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)k=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)g=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),m=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${_.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((f=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...x.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const N=await E.signMessage(new TextEncoder().encode(g),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=N}}try{const{data:y,error:v}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:gV(m)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:co});if(v)throw v;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Vp}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:v})}catch(y){if(Ke(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const r=await hl(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:co});if(await na(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Vp}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(Ke(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,a=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:co}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Vp}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(Ke(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Nc(this.storage,this.storageKey));const{error:f}=await Qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:d}=await Qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Wp("You must provide either an email or phone number.")}catch(a){if(Ke(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await Qe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:co});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(Ke(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Nc(this.storage,this.storageKey)),await Qe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:IV})}catch(i){if(Ke(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ua;const{error:s}=await Qe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Ke(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await Qe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:a}=await Qe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Wp("You must provide either an email or phone number and a type")}catch(r){if(Ke(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await hl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<i0:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await hl(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=l0()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ba}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ua}:await Qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:ba})})}catch(r){if(Ke(r))return lV(r)&&(await this._removeSession(),await na(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new ua;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Nc(this.storage,this.storageKey));const{data:c,error:d}=await Qe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:ba});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Ke(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ua;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=a0(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Ke(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:a}=r;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ua;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Ke(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Fs())throw new Kp("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Kp(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new vC("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Kp("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new vC("No code detected.");const{data:b,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!i||!a||!o||!c)throw new Kp("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(a);let h=d+f;l&&(h=parseInt(l));const p=h-d;p*1e3<=Lc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:m,error:y}=await this._getUser(i);if(y)throw y;const v={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(n){if(Ke(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await hl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(aV(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await na(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=vV(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Nc(this.storage,this.storageKey,!0));try{return await Qe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Ke(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,c,d;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Qe(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Fs()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Ke(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await Qe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Ke(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await _V(async s=>(s>0&&await wV(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Qe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:co})),(s,i)=>{const o=200*Math.pow(2,s);return i&&o0(i)&&Date.now()+o-n<Lc})}catch(n){if(this._debug(r,"error",n),Ke(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Fs()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await hl(this.storage,this.storageKey);if(s&&this.userStorage){let o=await hl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Fc(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:l0()}else if(s&&!s.user&&!s.user){const o=await hl(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await na(this.storage,this.storageKey+"-user"),await Fc(this.storage,this.storageKey,s)):s.user=l0()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<i0;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${i0}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),o0(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ua;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ky;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new ua;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),Ke(i)){const o={session:null,error:i};return o0(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Fc(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=SC(s);await Fc(this.storage,this.storageKey,i)}else{const s=SC(r);await Fc(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await na(this.storage,this.storageKey),await na(this.storage,this.storageKey+"-code-verifier"),await na(this.storage,this.storageKey+"-user"),this.userStorage&&await na(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Fs()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Lc);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Lc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Lc}ms, refresh threshold is ${cw} ticks`),s<=cw&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof hI)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Fs()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Nc(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await Qe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ke(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await Qe(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(Ke(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await Qe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(Ke(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await Qe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ke(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=a0(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(a=>a.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+iV>s)return n;const{data:i,error:o}=await Qe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:g}=await this.getSession();if(g||!p.session)return{data:null,error:g};n=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=a0(n);r!=null&&r.allowExpired||TV(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const d=AV(s.alg),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,mV(`${a}.${l}`)))throw new fw("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}}}Jf.nextInstanceID=0;const KV=Jf;class HV extends KV{constructor(t){super(t)}}var YV=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class GV{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=Qq(t),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:Wq,realtime:Hq,auth:Object.assign(Object.assign({},Kq),{storageKey:c}),global:Vq},f=eV(n??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=Xq(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new dq(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new zq(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new q9(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return YV(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:a,debug:l},c,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new HV({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),c),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Cq(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const pI=(e,t,r)=>new GV(e,t,r);function ZV(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}ZV()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const hw=typeof window<"u",fg=process.env.VITE_SUPABASE_URL||"",hS=process.env.VITE_SUPABASE_ANON_KEY||"";process.env.VITE_DEBUG==="true"&&(console.log("Supabase URL:",fg?"✅ Set":"❌ Missing"),console.log("Supabase Anon Key:",hS?"✅ Set":"❌ Missing"));if((!fg||!hS)&&hw){const e=`
    Missing Supabase environment variables.
    Please check your .env file and ensure the following are set:
    - VITE_SUPABASE_URL
    - VITE_SUPABASE_ANON_KEY
  `;throw console.error(e),new Error(e)}let he;var $$;try{he=pI(fg,hS,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:hw?window.localStorage:void 0}}),typeof process<"u"&&(($$=process.env)==null?void 0:$$.NODE_ENV)==="development"&&hw&&console.log("Supabase client initialized with URL:",fg)}catch(e){throw console.error("Error initializing Supabase client:",e),e}const XV=w.createContext(void 0),qh=()=>{const e=w.useContext(XV);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},JV=w.createContext(void 0),mI=()=>{const e=w.useContext(JV);if(e===void 0)throw new Error("useCart must be used within a CartProvider");return e},QV=async e=>{const t=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e),r=he.from("wiki_pages").select(`
      id, created_at, created_by, title, slug, excerpt, is_published, category_id, folder_id, updated_at, view_count,
      content, seo_title, seo_description, seo_keywords,
      category(*),
      user(*)
    `).eq(t?"id":"slug",e),{data:n,error:s}=await r.single();if(s)return console.error("Error fetching wiki page:",s),null;if(n){n.user&&typeof n.user=="object"&&"error"in n.user&&(n.user=null),n.category&&typeof n.category=="object"&&"error"in n.category&&(n.category=null);const{data:i,error:o}=await he.from("wiki_content_blocks").select("id, type, content, position").eq("page_id",n.id).order("position");if(o)throw console.error("Error fetching wiki content:",o),new Error("Failed to fetch wiki content");const a=(i==null?void 0:i.map(c=>({id:c.id,type:c.type,content:c.content,title:""})))||[];return await he.rpc("increment_wiki_page_views",{page_id:n.id}),{...n,sections:a,content:n.content||"",seo_title:n.seo_title||"",seo_description:n.seo_description||"",seo_keywords:n.seo_keywords||[],category:n.category,user:n.user}}return null},eW=async()=>{const{data:e,error:t}=await he.from("wiki_categories").select("*").order("name",{ascending:!0});if(t)throw console.error("Error fetching categories:",t),new Error("Failed to fetch categories");return e||[]},pS="-",tW=e=>{const t=nW(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const a=o.split(pS);return a[0]===""&&a.length!==1&&a.shift(),gI(a,t)||rW(o)},getConflictingClassGroupIds:(o,a)=>{const l=r[o]||[];return a&&n[o]?[...l,...n[o]]:l}}},gI=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?gI(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(pS);return(o=t.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},CC=/^\[(.+)\]$/,rW=e=>{if(CC.test(e)){const t=CC.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},nW=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return iW(Object.entries(e.classGroups),r).forEach(([i,o])=>{pw(o,n,i,t)}),n},pw=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:TC(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(sW(s)){pw(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{pw(o,TC(t,i),r,n)})})},TC=(e,t)=>{let r=e;return t.split(pS).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},sW=e=>e.isThemeGetter,iW=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[t+o,a])):i);return[r,s]}):e,oW=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},yI="!",aW=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=a=>{const l=[];let c=0,d=0,f;for(let y=0;y<a.length;y++){let v=a[y];if(c===0){if(v===s&&(n||a.slice(y,y+i)===t)){l.push(a.slice(d,y)),d=y+i;continue}if(v==="/"){f=y;continue}}v==="["?c++:v==="]"&&c--}const h=l.length===0?a:a.substring(d),p=h.startsWith(yI),g=p?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:m}};return r?a=>r({className:a,parseClassName:o}):o},lW=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},cW=e=>({cache:oW(e.cacheSize),parseClassName:aW(e),...tW(e)}),uW=/\s+/,dW=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(uW);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(c);let g=!!p,m=n(g?h.substring(0,p):h);if(!m){if(!g){a=c+(a.length>0?" "+a:a);continue}if(m=n(h),!m){a=c+(a.length>0?" "+a:a);continue}g=!1}const y=lW(d).join(":"),v=f?y+yI:y,b=v+m;if(i.includes(b))continue;i.push(b);const x=s(m,g);for(let E=0;E<x.length;++E){const _=x[E];i.push(v+_)}a=c+(a.length>0?" "+a:a)}return a};function fW(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=vI(t))&&(n&&(n+=" "),n+=r);return n}const vI=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=vI(e[n]))&&(r&&(r+=" "),r+=t);return r};function hW(e,...t){let r,n,s,i=o;function o(l){const c=t.reduce((d,f)=>f(d),e());return r=cW(c),n=r.cache.get,s=r.cache.set,i=a,a(l)}function a(l){const c=n(l);if(c)return c;const d=dW(l,r);return s(l,d),d}return function(){return i(fW.apply(null,arguments))}}const Ot=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},bI=/^\[(?:([a-z-]+):)?(.+)\]$/i,pW=/^\d+\/\d+$/,mW=new Set(["px","full","screen"]),gW=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,yW=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,vW=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,bW=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,xW=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,so=e=>hu(e)||mW.has(e)||pW.test(e),sa=e=>cd(e,"length",CW),hu=e=>!!e&&!Number.isNaN(Number(e)),u0=e=>cd(e,"number",hu),Kd=e=>!!e&&Number.isInteger(Number(e)),wW=e=>e.endsWith("%")&&hu(e.slice(0,-1)),Ge=e=>bI.test(e),ia=e=>gW.test(e),_W=new Set(["length","size","percentage"]),SW=e=>cd(e,_W,xI),EW=e=>cd(e,"position",xI),jW=new Set(["image","url"]),NW=e=>cd(e,jW,AW),kW=e=>cd(e,"",TW),Hd=()=>!0,cd=(e,t,r)=>{const n=bI.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},CW=e=>yW.test(e)&&!vW.test(e),xI=()=>!1,TW=e=>bW.test(e),AW=e=>xW.test(e),PW=()=>{const e=Ot("colors"),t=Ot("spacing"),r=Ot("blur"),n=Ot("brightness"),s=Ot("borderColor"),i=Ot("borderRadius"),o=Ot("borderSpacing"),a=Ot("borderWidth"),l=Ot("contrast"),c=Ot("grayscale"),d=Ot("hueRotate"),f=Ot("invert"),h=Ot("gap"),p=Ot("gradientColorStops"),g=Ot("gradientColorStopPositions"),m=Ot("inset"),y=Ot("margin"),v=Ot("opacity"),b=Ot("padding"),x=Ot("saturate"),E=Ot("scale"),_=Ot("sepia"),N=Ot("skew"),k=Ot("space"),C=Ot("translate"),T=()=>["auto","contain","none"],$=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",Ge,t],L=()=>[Ge,t],D=()=>["",so,sa],z=()=>["auto",hu,Ge],U=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],G=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Z=()=>["start","end","center","between","around","evenly","stretch"],ie=()=>["","0",Ge],R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[hu,Ge];return{cacheSize:500,separator:":",theme:{colors:[Hd],spacing:[so,sa],blur:["none","",ia,Ge],brightness:B(),borderColor:[e],borderRadius:["none","","full",ia,Ge],borderSpacing:L(),borderWidth:D(),contrast:B(),grayscale:ie(),hueRotate:B(),invert:ie(),gap:L(),gradientColorStops:[e],gradientColorStopPositions:[wW,sa],inset:M(),margin:M(),opacity:B(),padding:L(),saturate:B(),scale:B(),sepia:ie(),skew:B(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",Ge]}],container:["container"],columns:[{columns:[ia]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...U(),Ge]}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Kd,Ge]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ge]}],grow:[{grow:ie()}],shrink:[{shrink:ie()}],order:[{order:["first","last","none",Kd,Ge]}],"grid-cols":[{"grid-cols":[Hd]}],"col-start-end":[{col:["auto",{span:["full",Kd,Ge]},Ge]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[Hd]}],"row-start-end":[{row:["auto",{span:[Kd,Ge]},Ge]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ge]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ge]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...Z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ge,t]}],"min-w":[{"min-w":[Ge,t,"min","max","fit"]}],"max-w":[{"max-w":[Ge,t,"none","full","min","max","fit","prose",{screen:[ia]},ia]}],h:[{h:[Ge,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ge,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ge,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ge,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ia,sa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",u0]}],"font-family":[{font:[Hd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ge]}],"line-clamp":[{"line-clamp":["none",hu,u0]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",so,Ge]}],"list-image":[{"list-image":["none",Ge]}],"list-style-type":[{list:["none","disc","decimal",Ge]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",so,sa]}],"underline-offset":[{"underline-offset":["auto",so,Ge]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...U(),EW]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",SW]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},NW]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...G(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:G()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...G()]}],"outline-offset":[{"outline-offset":[so,Ge]}],"outline-w":[{outline:[so,sa]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[so,sa]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ia,kW]}],"shadow-color":[{shadow:[Hd]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ia,Ge]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ge]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",Ge]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ge]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[Kd,Ge]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ge]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ge]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ge]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[so,sa,u0]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},wI=hW(PW);function We(...e){return wI(rt(e))}const _I=zy("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),tt=S.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const o=n?R9:"button";return u.jsx(o,{className:We(_I({variant:t,size:r,className:e})),ref:i,...s})});tt.displayName="Button";function OW(e,t){const r=S.createContext(t),n=i=>{const{children:o,...a}=i,l=S.useMemo(()=>a,Object.values(a));return u.jsx(r.Provider,{value:l,children:o})};n.displayName=e+"Provider";function s(i){const o=S.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function ud(e,t=[]){let r=[];function n(i,o){const a=S.createContext(o),l=r.length;r=[...r,o];const c=f=>{var v;const{scope:h,children:p,...g}=f,m=((v=h==null?void 0:h[e])==null?void 0:v[l])||a,y=S.useMemo(()=>g,Object.values(g));return u.jsx(m.Provider,{value:y,children:p})};c.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[l])||a,g=S.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=r.map(o=>S.createContext(o));return function(a){const l=(a==null?void 0:a[e])||i;return S.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[n,DW(s,...t)]}function DW(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return S.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Nr(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}var Iu=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},RW=S[" useId ".trim().toString()]||(()=>{}),$W=0;function kf(e){const[t,r]=S.useState(RW());return Iu(()=>{r(n=>n??String($W++))},[e]),t?`radix-${t}`:""}var IW=S[" useInsertionEffect ".trim().toString()]||Iu;function Hy({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,o]=MW({defaultProp:t,onChange:r}),a=e!==void 0,l=a?e:s;{const d=S.useRef(e!==void 0);S.useEffect(()=>{const f=d.current;f!==a&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,n])}const c=S.useCallback(d=>{var f;if(a){const h=LW(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[a,e,i,o]);return[l,c]}function MW({defaultProp:e,onChange:t}){const[r,n]=S.useState(e),s=S.useRef(r),i=S.useRef(t);return IW(()=>{i.current=t},[t]),S.useEffect(()=>{var o;s.current!==r&&((o=i.current)==null||o.call(i,r),s.current=r)},[r,s]),[r,n,i]}function LW(e){return typeof e=="function"}var FW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Lr=FW.reduce((e,t)=>{const r=Xf(`Primitive.${t}`),n=S.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...a,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function BW(e,t){e&&z$.flushSync(()=>e.dispatchEvent(t))}function Mu(e){const t=S.useRef(e);return S.useEffect(()=>{t.current=e}),S.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function zW(e,t=globalThis==null?void 0:globalThis.document){const r=Mu(e);S.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var UW="DismissableLayer",mw="dismissableLayer.update",qW="dismissableLayer.pointerDownOutside",VW="dismissableLayer.focusOutside",AC,SI=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),EI=S.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=e,c=S.useContext(SI),[d,f]=S.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=S.useState({}),g=Rn(t,k=>f(k)),m=Array.from(c.layers),[y]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=m.indexOf(y),b=d?m.indexOf(d):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,E=b>=v,_=HW(k=>{const C=k.target,T=[...c.branches].some($=>$.contains(C));!E||T||(s==null||s(k),o==null||o(k),k.defaultPrevented||a==null||a())},h),N=YW(k=>{const C=k.target;[...c.branches].some($=>$.contains(C))||(i==null||i(k),o==null||o(k),k.defaultPrevented||a==null||a())},h);return zW(k=>{b===c.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&a&&(k.preventDefault(),a()))},h),S.useEffect(()=>{if(d)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(AC=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),PC(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=AC)}},[d,h,r,c]),S.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),PC())},[d,c]),S.useEffect(()=>{const k=()=>p({});return document.addEventListener(mw,k),()=>document.removeEventListener(mw,k)},[]),u.jsx(Lr.div,{...l,ref:g,style:{pointerEvents:x?E?"auto":"none":void 0,...e.style},onFocusCapture:Nr(e.onFocusCapture,N.onFocusCapture),onBlurCapture:Nr(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:Nr(e.onPointerDownCapture,_.onPointerDownCapture)})});EI.displayName=UW;var WW="DismissableLayerBranch",KW=S.forwardRef((e,t)=>{const r=S.useContext(SI),n=S.useRef(null),s=Rn(t,n);return S.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),u.jsx(Lr.div,{...e,ref:s})});KW.displayName=WW;function HW(e,t=globalThis==null?void 0:globalThis.document){const r=Mu(e),n=S.useRef(!1),s=S.useRef(()=>{});return S.useEffect(()=>{const i=a=>{if(a.target&&!n.current){let l=function(){jI(qW,r,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function YW(e,t=globalThis==null?void 0:globalThis.document){const r=Mu(e),n=S.useRef(!1);return S.useEffect(()=>{const s=i=>{i.target&&!n.current&&jI(VW,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function PC(){const e=new CustomEvent(mw);document.dispatchEvent(e)}function jI(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?BW(s,i):s.dispatchEvent(i)}var d0="focusScope.autoFocusOnMount",f0="focusScope.autoFocusOnUnmount",OC={bubbles:!1,cancelable:!0},GW="FocusScope",NI=S.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[a,l]=S.useState(null),c=Mu(s),d=Mu(i),f=S.useRef(null),h=Rn(t,m=>l(m)),p=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(n){let m=function(x){if(p.paused||!a)return;const E=x.target;a.contains(E)?f.current=E:da(f.current,{select:!0})},y=function(x){if(p.paused||!a)return;const E=x.relatedTarget;E!==null&&(a.contains(E)||da(f.current,{select:!0}))},v=function(x){if(document.activeElement===document.body)for(const _ of x)_.removedNodes.length>0&&da(a)};document.addEventListener("focusin",m),document.addEventListener("focusout",y);const b=new MutationObserver(v);return a&&b.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",y),b.disconnect()}}},[n,a,p.paused]),S.useEffect(()=>{if(a){RC.add(p);const m=document.activeElement;if(!a.contains(m)){const v=new CustomEvent(d0,OC);a.addEventListener(d0,c),a.dispatchEvent(v),v.defaultPrevented||(ZW(tK(kI(a)),{select:!0}),document.activeElement===m&&da(a))}return()=>{a.removeEventListener(d0,c),setTimeout(()=>{const v=new CustomEvent(f0,OC);a.addEventListener(f0,d),a.dispatchEvent(v),v.defaultPrevented||da(m??document.body,{select:!0}),a.removeEventListener(f0,d),RC.remove(p)},0)}}},[a,c,d,p]);const g=S.useCallback(m=>{if(!r&&!n||p.paused)return;const y=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,v=document.activeElement;if(y&&v){const b=m.currentTarget,[x,E]=XW(b);x&&E?!m.shiftKey&&v===E?(m.preventDefault(),r&&da(x,{select:!0})):m.shiftKey&&v===x&&(m.preventDefault(),r&&da(E,{select:!0})):v===b&&m.preventDefault()}},[r,n,p.paused]);return u.jsx(Lr.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});NI.displayName=GW;function ZW(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(da(n,{select:t}),document.activeElement!==r)return}function XW(e){const t=kI(e),r=DC(t,e),n=DC(t.reverse(),e);return[r,n]}function kI(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function DC(e,t){for(const r of e)if(!JW(r,{upTo:t}))return r}function JW(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function QW(e){return e instanceof HTMLInputElement&&"select"in e}function da(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&QW(e)&&t&&e.select()}}var RC=eK();function eK(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=$C(e,t),e.unshift(t)},remove(t){var r;e=$C(e,t),(r=e[0])==null||r.resume()}}}function $C(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function tK(e){return e.filter(t=>t.tagName!=="A")}var rK="Portal",CI=S.forwardRef((e,t)=>{var a;const{container:r,...n}=e,[s,i]=S.useState(!1);Iu(()=>i(!0),[]);const o=r||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Li.createPortal(u.jsx(Lr.div,{...n,ref:t}),o):null});CI.displayName=rK;function nK(e,t){return S.useReducer((r,n)=>t[r][n]??r,e)}var Vh=e=>{const{present:t,children:r}=e,n=sK(t),s=typeof r=="function"?r({present:n.isPresent}):S.Children.only(r),i=Rn(n.ref,iK(s));return typeof r=="function"||n.isPresent?S.cloneElement(s,{ref:i}):null};Vh.displayName="Presence";function sK(e){const[t,r]=S.useState(),n=S.useRef(null),s=S.useRef(e),i=S.useRef("none"),o=e?"mounted":"unmounted",[a,l]=nK(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const c=Hp(n.current);i.current=a==="mounted"?c:"none"},[a]),Iu(()=>{const c=n.current,d=s.current;if(d!==e){const h=i.current,p=Hp(c);e?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),Iu(()=>{if(t){let c;const d=t.ownerDocument.defaultView??window,f=p=>{const m=Hp(n.current).includes(CSS.escape(p.animationName));if(p.target===t&&m&&(l("ANIMATION_END"),!s.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",c=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},h=p=>{p.target===t&&(i.current=Hp(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(c),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:S.useCallback(c=>{n.current=c?getComputedStyle(c):null,r(c)},[])}}function Hp(e){return(e==null?void 0:e.animationName)||"none"}function iK(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var h0=0;function oK(){S.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??IC()),document.body.insertAdjacentElement("beforeend",e[1]??IC()),h0++,()=>{h0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),h0--}},[])}function IC(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var nn=function(){return nn=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},nn.apply(this,arguments)};function mS(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function TI(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Cf="right-scroll-bar-position",Tf="width-before-scroll-bar",aK="with-scroll-bars-hidden",lK="--removed-body-scroll-bar-size";function p0(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function cK(e,t){var r=w.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var uK=typeof window<"u"?S.useLayoutEffect:S.useEffect,MC=new WeakMap;function AI(e,t){var r=cK(null,function(n){return e.forEach(function(s){return p0(s,n)})});return uK(function(){var n=MC.get(r);if(n){var s=new Set(n),i=new Set(e),o=r.current;s.forEach(function(a){i.has(a)||p0(a,null)}),i.forEach(function(a){s.has(a)||p0(a,o)})}MC.set(r,e)},[e]),r}function dK(e){return e}function fK(e,t){t===void 0&&(t=dK);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(a){return i(a)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var a=r;r=[],a.forEach(i),o=r}var l=function(){var d=o;o=[],d.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),r={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),r}}}};return s}function PI(e){e===void 0&&(e={});var t=fK(null);return t.options=nn({async:!0,ssr:!1},e),t}var OI=function(e){var t=e.sideCar,r=mS(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return S.createElement(n,nn({},r))};OI.isSideCarExport=!0;function DI(e,t){return e.useMedium(t),OI}var RI=PI(),m0=function(){},Yy=S.forwardRef(function(e,t){var r=S.useRef(null),n=S.useState({onScrollCapture:m0,onWheelCapture:m0,onTouchMoveCapture:m0}),s=n[0],i=n[1],o=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noRelative,g=e.noIsolation,m=e.inert,y=e.allowPinchZoom,v=e.as,b=v===void 0?"div":v,x=e.gapMode,E=mS(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,N=AI([r,t]),k=nn(nn({},E),s);return S.createElement(S.Fragment,null,d&&S.createElement(_,{sideCar:RI,removeScrollBar:c,shards:f,noRelative:p,noIsolation:g,inert:m,setCallbacks:i,allowPinchZoom:!!y,lockRef:r,gapMode:x}),o?S.cloneElement(S.Children.only(a),nn(nn({},k),{ref:N})):S.createElement(b,nn({},k,{className:l,ref:N}),a))});Yy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Yy.classNames={fullWidth:Tf,zeroRight:Cf};var hK=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function pK(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=hK();return t&&e.setAttribute("nonce",t),e}function mK(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function gK(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var yK=function(){var e=0,t=null;return{add:function(r){e==0&&(t=pK())&&(mK(t,r),gK(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},vK=function(){var e=yK();return function(t,r){S.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},gS=function(){var e=vK(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},bK={left:0,top:0,right:0,gap:0},g0=function(e){return parseInt(e||"",10)||0},xK=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[g0(r),g0(n),g0(s)]},wK=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return bK;var t=xK(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},_K=gS(),pu="data-scroll-locked",SK=function(e,t,r,n){var s=e.left,i=e.top,o=e.right,a=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(aK,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(pu,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Cf,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Tf,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Cf," .").concat(Cf,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Tf," .").concat(Tf,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(pu,`] {
    `).concat(lK,": ").concat(a,`px;
  }
`)},LC=function(){var e=parseInt(document.body.getAttribute(pu)||"0",10);return isFinite(e)?e:0},EK=function(){S.useEffect(function(){return document.body.setAttribute(pu,(LC()+1).toString()),function(){var e=LC()-1;e<=0?document.body.removeAttribute(pu):document.body.setAttribute(pu,e.toString())}},[])},$I=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;EK();var i=S.useMemo(function(){return wK(s)},[s]);return S.createElement(_K,{styles:SK(i,!t,s,r?"":"!important")})},gw=!1;if(typeof window<"u")try{var Yp=Object.defineProperty({},"passive",{get:function(){return gw=!0,!0}});window.addEventListener("test",Yp,Yp),window.removeEventListener("test",Yp,Yp)}catch{gw=!1}var Ac=gw?{passive:!1}:!1,jK=function(e){return e.tagName==="TEXTAREA"},II=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!jK(e)&&r[t]==="visible")},NK=function(e){return II(e,"overflowY")},kK=function(e){return II(e,"overflowX")},FC=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=MI(e,n);if(s){var i=LI(e,n),o=i[1],a=i[2];if(o>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},CK=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},TK=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},MI=function(e,t){return e==="v"?NK(t):kK(t)},LI=function(e,t){return e==="v"?CK(t):TK(t)},AK=function(e,t){return e==="h"&&t==="rtl"?-1:1},PK=function(e,t,r,n,s){var i=AK(e,window.getComputedStyle(t).direction),o=i*n,a=r.target,l=t.contains(a),c=!1,d=o>0,f=0,h=0;do{if(!a)break;var p=LI(e,a),g=p[0],m=p[1],y=p[2],v=m-y-i*g;(g||v)&&MI(e,a)&&(f+=v,h+=g);var b=a.parentNode;a=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(c=!0),c},Gp=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},BC=function(e){return[e.deltaX,e.deltaY]},zC=function(e){return e&&"current"in e?e.current:e},OK=function(e,t){return e[0]===t[0]&&e[1]===t[1]},DK=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},RK=0,Pc=[];function $K(e){var t=S.useRef([]),r=S.useRef([0,0]),n=S.useRef(),s=S.useState(RK++)[0],i=S.useState(gS)[0],o=S.useRef(e);S.useEffect(function(){o.current=e},[e]),S.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=TI([e.lockRef.current],(e.shards||[]).map(zC),!0).filter(Boolean);return m.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=S.useCallback(function(m,y){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var v=Gp(m),b=r.current,x="deltaX"in m?m.deltaX:b[0]-v[0],E="deltaY"in m?m.deltaY:b[1]-v[1],_,N=m.target,k=Math.abs(x)>Math.abs(E)?"h":"v";if("touches"in m&&k==="h"&&N.type==="range")return!1;var C=FC(k,N);if(!C)return!0;if(C?_=k:(_=k==="v"?"h":"v",C=FC(k,N)),!C)return!1;if(!n.current&&"changedTouches"in m&&(x||E)&&(n.current=_),!_)return!0;var T=n.current||_;return PK(T,y,m,T==="h"?x:E)},[]),l=S.useCallback(function(m){var y=m;if(!(!Pc.length||Pc[Pc.length-1]!==i)){var v="deltaY"in y?BC(y):Gp(y),b=t.current.filter(function(_){return _.name===y.type&&(_.target===y.target||y.target===_.shadowParent)&&OK(_.delta,v)})[0];if(b&&b.should){y.cancelable&&y.preventDefault();return}if(!b){var x=(o.current.shards||[]).map(zC).filter(Boolean).filter(function(_){return _.contains(y.target)}),E=x.length>0?a(y,x[0]):!o.current.noIsolation;E&&y.cancelable&&y.preventDefault()}}},[]),c=S.useCallback(function(m,y,v,b){var x={name:m,delta:y,target:v,should:b,shadowParent:IK(v)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(E){return E!==x})},1)},[]),d=S.useCallback(function(m){r.current=Gp(m),n.current=void 0},[]),f=S.useCallback(function(m){c(m.type,BC(m),m.target,a(m,e.lockRef.current))},[]),h=S.useCallback(function(m){c(m.type,Gp(m),m.target,a(m,e.lockRef.current))},[]);S.useEffect(function(){return Pc.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Ac),document.addEventListener("touchmove",l,Ac),document.addEventListener("touchstart",d,Ac),function(){Pc=Pc.filter(function(m){return m!==i}),document.removeEventListener("wheel",l,Ac),document.removeEventListener("touchmove",l,Ac),document.removeEventListener("touchstart",d,Ac)}},[]);var p=e.removeScrollBar,g=e.inert;return S.createElement(S.Fragment,null,g?S.createElement(i,{styles:DK(s)}):null,p?S.createElement($I,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function IK(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const MK=DI(RI,$K);var FI=S.forwardRef(function(e,t){return S.createElement(Yy,nn({},e,{ref:t,sideCar:MK}))});FI.classNames=Yy.classNames;var LK=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Oc=new WeakMap,Zp=new WeakMap,Xp={},y0=0,BI=function(e){return e&&(e.host||BI(e.parentNode))},FK=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=BI(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},BK=function(e,t,r,n){var s=FK(t,Array.isArray(e)?e:[e]);Xp[r]||(Xp[r]=new WeakMap);var i=Xp[r],o=[],a=new Set,l=new Set(s),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};s.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))d(h);else try{var p=h.getAttribute(n),g=p!==null&&p!=="false",m=(Oc.get(h)||0)+1,y=(i.get(h)||0)+1;Oc.set(h,m),i.set(h,y),o.push(h),m===1&&g&&Zp.set(h,!0),y===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return d(t),a.clear(),y0++,function(){o.forEach(function(f){var h=Oc.get(f)-1,p=i.get(f)-1;Oc.set(f,h),i.set(f,p),h||(Zp.has(f)||f.removeAttribute(n),Zp.delete(f)),p||f.removeAttribute(r)}),y0--,y0||(Oc=new WeakMap,Oc=new WeakMap,Zp=new WeakMap,Xp={})}},zI=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=LK(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),BK(n,s,r,"aria-hidden")):function(){return null}},Gy="Dialog",[UI,qI]=ud(Gy),[zK,ui]=UI(Gy),VI=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,a=S.useRef(null),l=S.useRef(null),[c,d]=Hy({prop:n,defaultProp:s??!1,onChange:i,caller:Gy});return u.jsx(zK,{scope:t,triggerRef:a,contentRef:l,contentId:kf(),titleId:kf(),descriptionId:kf(),open:c,onOpenChange:d,onOpenToggle:S.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};VI.displayName=Gy;var WI="DialogTrigger",KI=S.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=ui(WI,r),i=Rn(t,s.triggerRef);return u.jsx(Lr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":bS(s.open),...n,ref:i,onClick:Nr(e.onClick,s.onOpenToggle)})});KI.displayName=WI;var yS="DialogPortal",[UK,HI]=UI(yS,{forceMount:void 0}),YI=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=ui(yS,t);return u.jsx(UK,{scope:t,forceMount:r,children:S.Children.map(n,o=>u.jsx(Vh,{present:r||i.open,children:u.jsx(CI,{asChild:!0,container:s,children:o})}))})};YI.displayName=yS;var hg="DialogOverlay",GI=S.forwardRef((e,t)=>{const r=HI(hg,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=ui(hg,e.__scopeDialog);return i.modal?u.jsx(Vh,{present:n||i.open,children:u.jsx(VK,{...s,ref:t})}):null});GI.displayName=hg;var qK=Xf("DialogOverlay.RemoveScroll"),VK=S.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=ui(hg,r);return u.jsx(FI,{as:qK,allowPinchZoom:!0,shards:[s.contentRef],children:u.jsx(Lr.div,{"data-state":bS(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Hl="DialogContent",ZI=S.forwardRef((e,t)=>{const r=HI(Hl,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=ui(Hl,e.__scopeDialog);return u.jsx(Vh,{present:n||i.open,children:i.modal?u.jsx(WK,{...s,ref:t}):u.jsx(KK,{...s,ref:t})})});ZI.displayName=Hl;var WK=S.forwardRef((e,t)=>{const r=ui(Hl,e.__scopeDialog),n=S.useRef(null),s=Rn(t,r.contentRef,n);return S.useEffect(()=>{const i=n.current;if(i)return zI(i)},[]),u.jsx(XI,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Nr(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Nr(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:Nr(e.onFocusOutside,i=>i.preventDefault())})}),KK=S.forwardRef((e,t)=>{const r=ui(Hl,e.__scopeDialog),n=S.useRef(!1),s=S.useRef(!1);return u.jsx(XI,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=r.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),XI=S.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,a=ui(Hl,r),l=S.useRef(null),c=Rn(t,l);return oK(),u.jsxs(u.Fragment,{children:[u.jsx(NI,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:u.jsx(EI,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":bS(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(YK,{titleId:a.titleId}),u.jsx(ZK,{contentRef:l,descriptionId:a.descriptionId})]})]})}),vS="DialogTitle",JI=S.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=ui(vS,r);return u.jsx(Lr.h2,{id:s.titleId,...n,ref:t})});JI.displayName=vS;var QI="DialogDescription",eM=S.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=ui(QI,r);return u.jsx(Lr.p,{id:s.descriptionId,...n,ref:t})});eM.displayName=QI;var tM="DialogClose",rM=S.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=ui(tM,r);return u.jsx(Lr.button,{type:"button",...n,ref:t,onClick:Nr(e.onClick,()=>s.onOpenChange(!1))})});rM.displayName=tM;function bS(e){return e?"open":"closed"}var nM="DialogTitleWarning",[HK,sM]=OW(nM,{contentName:Hl,titleName:vS,docsSlug:"dialog"}),YK=({titleId:e})=>{const t=sM(nM),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return S.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},GK="DialogDescriptionWarning",ZK=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${sM(GK).contentName}}.`;return S.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},iM=VI,oM=KI,aM=YI,xS=GI,wS=ZI,_S=JI,SS=eM,Zy=rM,lM="AlertDialog",[XK,ORe]=ud(lM,[qI]),Uo=qI(),cM=e=>{const{__scopeAlertDialog:t,...r}=e,n=Uo(t);return u.jsx(iM,{...n,...r,modal:!0})};cM.displayName=lM;var JK="AlertDialogTrigger",uM=S.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Uo(r);return u.jsx(oM,{...s,...n,ref:t})});uM.displayName=JK;var QK="AlertDialogPortal",dM=e=>{const{__scopeAlertDialog:t,...r}=e,n=Uo(t);return u.jsx(aM,{...n,...r})};dM.displayName=QK;var eH="AlertDialogOverlay",fM=S.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Uo(r);return u.jsx(xS,{...s,...n,ref:t})});fM.displayName=eH;var mu="AlertDialogContent",[tH,rH]=XK(mu),nH=I9("AlertDialogContent"),hM=S.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,i=Uo(r),o=S.useRef(null),a=Rn(t,o),l=S.useRef(null);return u.jsx(HK,{contentName:mu,titleName:pM,docsSlug:"alert-dialog",children:u.jsx(tH,{scope:r,cancelRef:l,children:u.jsxs(wS,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:Nr(s.onOpenAutoFocus,c=>{var d;c.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[u.jsx(nH,{children:n}),u.jsx(iH,{contentRef:o})]})})})});hM.displayName=mu;var pM="AlertDialogTitle",mM=S.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Uo(r);return u.jsx(_S,{...s,...n,ref:t})});mM.displayName=pM;var gM="AlertDialogDescription",yM=S.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Uo(r);return u.jsx(SS,{...s,...n,ref:t})});yM.displayName=gM;var sH="AlertDialogAction",vM=S.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Uo(r);return u.jsx(Zy,{...s,...n,ref:t})});vM.displayName=sH;var bM="AlertDialogCancel",xM=S.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=rH(bM,r),i=Uo(r),o=Rn(t,s);return u.jsx(Zy,{...i,...n,ref:o})});xM.displayName=bM;var iH=({contentRef:e})=>{const t=`\`${mu}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${mu}\` by passing a \`${gM}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${mu}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return S.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},oH=cM,aH=uM,lH=dM,wM=fM,_M=hM,SM=vM,EM=xM,jM=mM,NM=yM;const kM=oH,cH=aH,CM=lH,ES=S.forwardRef(({className:e,...t},r)=>u.jsx(wM,{className:We("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));ES.displayName=wM.displayName;const jS=S.forwardRef(({className:e,...t},r)=>u.jsxs(CM,{children:[u.jsx(ES,{}),u.jsx(_M,{ref:r,className:We("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));jS.displayName=_M.displayName;const NS=({className:e,...t})=>u.jsx("div",{className:We("flex flex-col space-y-2 text-center sm:text-left",e),...t});NS.displayName="AlertDialogHeader";const kS=({className:e,...t})=>u.jsx("div",{className:We("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});kS.displayName="AlertDialogFooter";const CS=S.forwardRef(({className:e,...t},r)=>u.jsx(jM,{ref:r,className:We("text-lg font-semibold",e),...t}));CS.displayName=jM.displayName;const TS=S.forwardRef(({className:e,...t},r)=>u.jsx(NM,{ref:r,className:We("text-sm text-muted-foreground",e),...t}));TS.displayName=NM.displayName;const AS=S.forwardRef(({className:e,...t},r)=>u.jsx(SM,{ref:r,className:We("inline-flex h-10 items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground ring-offset-background transition-colors hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));AS.displayName=SM.displayName;const PS=S.forwardRef(({className:e,...t},r)=>u.jsx(EM,{ref:r,className:We("inline-flex h-10 items-center justify-center rounded-md border border-input bg-background px-4 py-2 text-sm font-medium ring-offset-background transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=open]:bg-slate-100 data-[state=open]:text-slate-500","sm:mt-0",e),...t}));PS.displayName=EM.displayName;function uH({open:e,onOpenChange:t,onConfirm:r,title:n,description:s,confirmText:i="Confirm",cancelText:o="Cancel"}){return u.jsx(kM,{open:e,onOpenChange:t,children:u.jsxs(jS,{children:[u.jsxs(NS,{children:[u.jsx(CS,{children:n}),u.jsx(TS,{children:s})]}),u.jsxs(kS,{children:[u.jsx(PS,{children:o}),u.jsx(AS,{asChild:!0,children:u.jsx(tt,{variant:"destructive",onClick:r,children:i})})]})]})})}const dH="",fH="";console.error("Missing Supabase environment variables. Please check your .env file.");const UC=pI(dH,fH,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),hH=({folder:e,onUpload:t,onError:r,onStart:n,children:s,accept:i="image/png, image/jpeg, image/jpg, image/gif, image/webp",maxSizeMB:o=5})=>{const[a,l]=w.useState(!1),[c,d]=w.useState(!1),f=w.useRef(null),h=b=>{b.preventDefault(),b.stopPropagation(),a||l(!0)},p=b=>{b.preventDefault(),b.stopPropagation(),l(!1)},g=b=>{if(b.preventDefault(),b.stopPropagation(),l(!1),b.dataTransfer.files&&b.dataTransfer.files.length>0){const x=b.dataTransfer.files[0];v(x)}},m=()=>{var b;(b=f.current)==null||b.click()},y=b=>{if(b.target.files&&b.target.files.length>0){const x=b.target.files[0];v(x)}},v=async b=>{if(!b.type.match("image.*")){r("Only image files are allowed");return}if(b.size>o*1024*1024){r(`File size must be less than ${o}MB`);return}try{n==null||n(),d(!0);const x=b.name.split(".").pop(),E=`${Math.random().toString(36).substring(2)}.${x}`,_=`${e}/${E}`,{error:N}=await UC.storage.from("timeline").upload(_,b,{cacheControl:"3600",upsert:!1});if(N)throw N;const{data:{publicUrl:k}}=UC.storage.from("timeline").getPublicUrl(_);t(k)}catch(x){console.error("Error uploading file:",x),r(x instanceof Error?x.message:"Failed to upload image")}finally{d(!1)}};return w.useEffect(()=>()=>{f.current&&(f.current.value="")},[]),u.jsxs("div",{onClick:m,onDragOver:h,onDragLeave:p,onDrop:g,className:`relative ${c?"opacity-50 pointer-events-none":""} ${a?"ring-2 ring-primary ring-offset-2":""}`,children:[u.jsx("input",{type:"file",ref:f,onChange:y,className:"hidden",accept:i}),s]})};/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function si(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function yw({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function OS(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function TM(e,t,r="/"){return pH(e,t,r,!1)}function pH(e,t,r,n){let s=typeof t=="string"?OS(t):t,i=Ma(s.pathname||"/",r);if(i==null)return null;let o=AM(e);mH(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=NH(i);a=EH(o[l],c,n)}return a}function AM(e,t=[],r=[],n="",s=!1){let i=(o,a,l=s,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&l)return;Mr(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let f=wo([n,d.relativePath]),h=r.concat(d);o.children&&o.children.length>0&&(Mr(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),AM(o.children,t,h,f,l)),!(o.path==null&&!o.index)&&t.push({path:f,score:_H(f,o.index),routesMeta:h})};return e.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,a);else for(let c of PM(o.path))i(o,a,!0,c)}),t}function PM(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=PM(n.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function mH(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:SH(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var gH=/^:[\w-]+$/,yH=3,vH=2,bH=1,xH=10,wH=-2,qC=e=>e==="*";function _H(e,t){let r=e.split("/"),n=r.length;return r.some(qC)&&(n+=wH),t&&(n+=vH),r.filter(s=>!qC(s)).reduce((s,i)=>s+(gH.test(i)?yH:i===""?bH:xH),n)}function SH(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function EH(e,t,r=!1){let{routesMeta:n}=e,s={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=pg({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),h=l.route;if(!f&&c&&r&&!n[n.length-1].route.index&&(f=pg({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:wo([i,f.pathname]),pathnameBase:AH(wo([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=wo([i,f.pathnameBase]))}return o}function pg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=jH(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((c,{paramName:d,isOptional:f},h)=>{if(d==="*"){let g=a[h]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const p=a[h];return f&&!p?c[d]=void 0:c[d]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function jH(e,t=!1,r=!0){si(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function NH(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return si(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ma(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function kH(e,t="/"){let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?OS(e):e;return{pathname:r?r.startsWith("/")?r:CH(r,t):t,search:PH(n),hash:OH(s)}}function CH(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function v0(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function TH(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function DS(e){let t=TH(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function RS(e,t,r,n=!1){let s;typeof e=="string"?s=OS(e):(s={...e},Mr(!s.pathname||!s.pathname.includes("?"),v0("?","pathname","search",s)),Mr(!s.pathname||!s.pathname.includes("#"),v0("#","pathname","hash",s)),Mr(!s.search||!s.search.includes("#"),v0("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}a=f>=0?t[f]:"/"}let l=kH(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}var wo=e=>e.join("/").replace(/\/\/+/g,"/"),AH=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),PH=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,OH=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function DH(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var OM=["POST","PUT","PATCH","DELETE"];new Set(OM);var RH=["GET",...OM];new Set(RH);var dd=S.createContext(null);dd.displayName="DataRouter";var Xy=S.createContext(null);Xy.displayName="DataRouterState";S.createContext(!1);var DM=S.createContext({isTransitioning:!1});DM.displayName="ViewTransition";var $H=S.createContext(new Map);$H.displayName="Fetchers";var IH=S.createContext(null);IH.displayName="Await";var Yi=S.createContext(null);Yi.displayName="Navigation";var $S=S.createContext(null);$S.displayName="Location";var Ts=S.createContext({outlet:null,matches:[],isDataRoute:!1});Ts.displayName="Route";var IS=S.createContext(null);IS.displayName="RouteError";function MH(e,{relative:t}={}){Mr(Wh(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=S.useContext(Yi),{hash:s,pathname:i,search:o}=Kh(e,{relative:t}),a=i;return r!=="/"&&(a=i==="/"?r:wo([r,i])),n.createHref({pathname:a,search:o,hash:s})}function Wh(){return S.useContext($S)!=null}function di(){return Mr(Wh(),"useLocation() may be used only in the context of a <Router> component."),S.useContext($S).location}var RM="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $M(e){S.useContext(Yi).static||S.useLayoutEffect(e)}function Gi(){let{isDataRoute:e}=S.useContext(Ts);return e?JH():LH()}function LH(){Mr(Wh(),"useNavigate() may be used only in the context of a <Router> component.");let e=S.useContext(dd),{basename:t,navigator:r}=S.useContext(Yi),{matches:n}=S.useContext(Ts),{pathname:s}=di(),i=JSON.stringify(DS(n)),o=S.useRef(!1);return $M(()=>{o.current=!0}),S.useCallback((l,c={})=>{if(si(o.current,RM),!o.current)return;if(typeof l=="number"){r.go(l);return}let d=RS(l,JSON.parse(i),s,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:wo([t,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[t,r,i,s,e])}var FH=S.createContext(null);function BH(e){let t=S.useContext(Ts).outlet;return t&&S.createElement(FH.Provider,{value:e},t)}function Jy(){let{matches:e}=S.useContext(Ts),t=e[e.length-1];return t?t.params:{}}function Kh(e,{relative:t}={}){let{matches:r}=S.useContext(Ts),{pathname:n}=di(),s=JSON.stringify(DS(r));return S.useMemo(()=>RS(e,JSON.parse(s),n,t==="path"),[e,s,n,t])}function zH(e,t,r,n,s){Mr(Wh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=S.useContext(Yi),{matches:o}=S.useContext(Ts),a=o[o.length-1],l=a?a.params:{},c=a?a.pathname:"/",d=a?a.pathnameBase:"/",f=a&&a.route;{let b=f&&f.path||"";IM(c,!f||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let h=di(),p;p=h;let g=p.pathname||"/",m=g;if(d!=="/"){let b=d.replace(/^\//,"").split("/");m="/"+g.replace(/^\//,"").split("/").slice(b.length).join("/")}let y=TM(e,{pathname:m});return si(f||y!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),si(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),KH(y&&y.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:wo([d,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?d:wo([d,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,r,n,s)}function UH(){let e=XH(),t=DH(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=S.createElement(S.Fragment,null,S.createElement("p",null,"💿 Hey developer 👋"),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:i},"ErrorBoundary")," or"," ",S.createElement("code",{style:i},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),r?S.createElement("pre",{style:s},r):null,o)}var qH=S.createElement(UH,null),VH=class extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?S.createElement(Ts.Provider,{value:this.props.routeContext},S.createElement(IS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function WH({routeContext:e,match:t,children:r}){let n=S.useContext(dd);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),S.createElement(Ts.Provider,{value:e},r)}function KH(e,t=[],r=null,n=null,s=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=r==null?void 0:r.errors;if(o!=null){let c=i.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);Mr(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let a=!1,l=-1;if(r)for(let c=0;c<i.length;c++){let d=i[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=c),d.route.id){let{loaderData:f,errors:h}=r,p=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!h||h[d.route.id]===void 0);if(d.route.lazy||p){a=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((c,d,f)=>{let h,p=!1,g=null,m=null;r&&(h=o&&d.route.id?o[d.route.id]:void 0,g=d.route.errorElement||qH,a&&(l<0&&f===0?(IM("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,m=null):l===f&&(p=!0,m=d.route.hydrateFallbackElement||null)));let y=t.concat(i.slice(0,f+1)),v=()=>{let b;return h?b=g:p?b=m:d.route.Component?b=S.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=c,S.createElement(WH,{match:d,routeContext:{outlet:c,matches:y,isDataRoute:r!=null},children:b})};return r&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?S.createElement(VH,{location:r.location,revalidation:r.revalidation,component:g,error:h,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0},unstable_onError:n}):v()},null)}function MS(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HH(e){let t=S.useContext(dd);return Mr(t,MS(e)),t}function YH(e){let t=S.useContext(Xy);return Mr(t,MS(e)),t}function GH(e){let t=S.useContext(Ts);return Mr(t,MS(e)),t}function LS(e){let t=GH(e),r=t.matches[t.matches.length-1];return Mr(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function ZH(){return LS("useRouteId")}function XH(){var n;let e=S.useContext(IS),t=YH("useRouteError"),r=LS("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function JH(){let{router:e}=HH("useNavigate"),t=LS("useNavigate"),r=S.useRef(!1);return $M(()=>{r.current=!0}),S.useCallback(async(s,i={})=>{si(r.current,RM),r.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var VC={};function IM(e,t,r){!t&&!VC[e]&&(VC[e]=!0,si(!1,r))}S.memo(QH);function QH({routes:e,future:t,state:r,unstable_onError:n}){return zH(e,void 0,r,n,t)}function eY({to:e,replace:t,state:r,relative:n}){Mr(Wh(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=S.useContext(Yi);si(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=S.useContext(Ts),{pathname:o}=di(),a=Gi(),l=RS(e,DS(i),o,n==="path"),c=JSON.stringify(l);return S.useEffect(()=>{a(JSON.parse(c),{replace:t,state:r,relative:n})},[a,c,n,t,r]),null}function MM(e){return BH(e.context)}var Vm="get",Wm="application/x-www-form-urlencoded";function Qy(e){return e!=null&&typeof e.tagName=="string"}function tY(e){return Qy(e)&&e.tagName.toLowerCase()==="button"}function rY(e){return Qy(e)&&e.tagName.toLowerCase()==="form"}function nY(e){return Qy(e)&&e.tagName.toLowerCase()==="input"}function sY(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function iY(e,t){return e.button===0&&(!t||t==="_self")&&!sY(e)}function vw(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function oY(e,t){let r=vw(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(i=>{r.append(s,i)})}),r}var Jp=null;function aY(){if(Jp===null)try{new FormData(document.createElement("form"),0),Jp=!1}catch{Jp=!0}return Jp}var lY=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function b0(e){return e!=null&&!lY.has(e)?(si(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wm}"`),null):e}function cY(e,t){let r,n,s,i,o;if(rY(e)){let a=e.getAttribute("action");n=a?Ma(a,t):null,r=e.getAttribute("method")||Vm,s=b0(e.getAttribute("enctype"))||Wm,i=new FormData(e)}else if(tY(e)||nY(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(n=l?Ma(l,t):null,r=e.getAttribute("formmethod")||a.getAttribute("method")||Vm,s=b0(e.getAttribute("formenctype"))||b0(a.getAttribute("enctype"))||Wm,i=new FormData(a,e),!aY()){let{name:c,type:d,value:f}=e;if(d==="image"){let h=c?`${c}.`:"";i.append(`${h}x`,"0"),i.append(`${h}y`,"0")}else c&&i.append(c,f)}}else{if(Qy(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Vm,n=null,s=Wm,o=e}return i&&s==="text/plain"&&(o=i,i=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function FS(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function uY(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&Ma(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function dY(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function fY(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function hY(e,t,r){let n=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let o=await dY(i,r);return o.links?o.links():[]}return[]}));return yY(n.flat(1).filter(fY).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function WC(e,t,r,n,s,i){let o=(l,c)=>r[c]?l.route.id!==r[c].route.id:!0,a=(l,c)=>{var d;return r[c].pathname!==l.pathname||((d=r[c].route.path)==null?void 0:d.endsWith("*"))&&r[c].params["*"]!==l.params["*"]};return i==="assets"?t.filter((l,c)=>o(l,c)||a(l,c)):i==="data"?t.filter((l,c)=>{var f;let d=n.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function pY(e,t,{includeHydrateFallback:r}={}){return mY(e.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function mY(e){return[...new Set(e)]}function gY(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function yY(e,t){let r=new Set;return new Set(t),e.reduce((n,s)=>{let i=JSON.stringify(gY(s));return r.has(i)||(r.add(i),n.push({key:i,link:s})),n},[])}function LM(){let e=S.useContext(dd);return FS(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function vY(){let e=S.useContext(Xy);return FS(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var BS=S.createContext(void 0);BS.displayName="FrameworkContext";function FM(){let e=S.useContext(BS);return FS(e,"You must render this element inside a <HydratedRouter> element"),e}function bY(e,t){let r=S.useContext(BS),[n,s]=S.useState(!1),[i,o]=S.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:d,onTouchStart:f}=t,h=S.useRef(null);S.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let m=v=>{v.forEach(b=>{o(b.isIntersecting)})},y=new IntersectionObserver(m,{threshold:.5});return h.current&&y.observe(h.current),()=>{y.disconnect()}}},[e]),S.useEffect(()=>{if(n){let m=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(m)}}},[n]);let p=()=>{s(!0)},g=()=>{s(!1),o(!1)};return r?e!=="intent"?[i,h,{}]:[i,h,{onFocus:Yd(a,p),onBlur:Yd(l,g),onMouseEnter:Yd(c,p),onMouseLeave:Yd(d,g),onTouchStart:Yd(f,p)}]:[!1,h,{}]}function Yd(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function xY({page:e,...t}){let{router:r}=LM(),n=S.useMemo(()=>TM(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?S.createElement(_Y,{page:e,matches:n,...t}):null}function wY(e){let{manifest:t,routeModules:r}=FM(),[n,s]=S.useState([]);return S.useEffect(()=>{let i=!1;return hY(e,t,r).then(o=>{i||s(o)}),()=>{i=!0}},[e,t,r]),n}function _Y({page:e,matches:t,...r}){let n=di(),{manifest:s,routeModules:i}=FM(),{basename:o}=LM(),{loaderData:a,matches:l}=vY(),c=S.useMemo(()=>WC(e,t,l,s,n,"data"),[e,t,l,s,n]),d=S.useMemo(()=>WC(e,t,l,s,n,"assets"),[e,t,l,s,n]),f=S.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let g=new Set,m=!1;if(t.forEach(v=>{var x;let b=s.routes[v.route.id];!b||!b.hasLoader||(!c.some(E=>E.route.id===v.route.id)&&v.route.id in a&&((x=i[v.route.id])!=null&&x.shouldRevalidate)||b.hasClientLoader?m=!0:g.add(v.route.id))}),g.size===0)return[];let y=uY(e,o,"data");return m&&g.size>0&&y.searchParams.set("_routes",t.filter(v=>g.has(v.route.id)).map(v=>v.route.id).join(",")),[y.pathname+y.search]},[o,a,n,s,c,t,e,i]),h=S.useMemo(()=>pY(d,s),[d,s]),p=wY(d);return S.createElement(S.Fragment,null,f.map(g=>S.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...r})),h.map(g=>S.createElement("link",{key:g,rel:"modulepreload",href:g,...r})),p.map(({key:g,link:m})=>S.createElement("link",{key:g,nonce:r.nonce,...m})))}function SY(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var BM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{BM&&(window.__reactRouterVersion="7.8.2")}catch{}var zM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rr=S.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:f,...h},p){let{basename:g}=S.useContext(Yi),m=typeof c=="string"&&zM.test(c),y,v=!1;if(typeof c=="string"&&m&&(y=c,BM))try{let T=new URL(window.location.href),$=c.startsWith("//")?new URL(T.protocol+c):new URL(c),M=Ma($.pathname,g);$.origin===T.origin&&M!=null?c=M+$.search+$.hash:v=!0}catch{si(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=MH(c,{relative:s}),[x,E,_]=bY(n,h),N=NY(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:f});function k(T){t&&t(T),T.defaultPrevented||N(T)}let C=S.createElement("a",{...h,..._,href:y||b,onClick:v||i?t:k,ref:SY(p,E),target:l,"data-discover":!m&&r==="render"?"true":void 0});return x&&!m?S.createElement(S.Fragment,null,C,S.createElement(xY,{page:b})):C});Rr.displayName="Link";var Af=S.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:s=!1,style:i,to:o,viewTransition:a,children:l,...c},d){let f=Kh(o,{relative:c.relative}),h=di(),p=S.useContext(Xy),{navigator:g,basename:m}=S.useContext(Yi),y=p!=null&&OY(f)&&a===!0,v=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,b=h.pathname,x=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(b=b.toLowerCase(),x=x?x.toLowerCase():null,v=v.toLowerCase()),x&&m&&(x=Ma(x,m)||x);const E=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let _=b===v||!s&&b.startsWith(v)&&b.charAt(E)==="/",N=x!=null&&(x===v||!s&&x.startsWith(v)&&x.charAt(v.length)==="/"),k={isActive:_,isPending:N,isTransitioning:y},C=_?t:void 0,T;typeof n=="function"?T=n(k):T=[n,_?"active":null,N?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let $=typeof i=="function"?i(k):i;return S.createElement(Rr,{...c,"aria-current":C,className:T,ref:d,style:$,to:o,viewTransition:a},typeof l=="function"?l(k):l)});Af.displayName="NavLink";var EY=S.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:s,state:i,method:o=Vm,action:a,onSubmit:l,relative:c,preventScrollReset:d,viewTransition:f,...h},p)=>{let g=AY(),m=PY(a,{relative:c}),y=o.toLowerCase()==="get"?"get":"post",v=typeof a=="string"&&zM.test(a),b=x=>{if(l&&l(x),x.defaultPrevented)return;x.preventDefault();let E=x.nativeEvent.submitter,_=(E==null?void 0:E.getAttribute("formmethod"))||o;g(E||x.currentTarget,{fetcherKey:t,method:_,navigate:r,replace:s,state:i,relative:c,preventScrollReset:d,viewTransition:f})};return S.createElement("form",{ref:p,method:y,action:m,onSubmit:n?l:b,...h,"data-discover":!v&&e==="render"?"true":void 0})});EY.displayName="Form";function jY(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function UM(e){let t=S.useContext(dd);return Mr(t,jY(e)),t}function NY(e,{target:t,replace:r,state:n,preventScrollReset:s,relative:i,viewTransition:o}={}){let a=Gi(),l=di(),c=Kh(e,{relative:i});return S.useCallback(d=>{if(iY(d,t)){d.preventDefault();let f=r!==void 0?r:yw(l)===yw(c);a(e,{replace:f,state:n,preventScrollReset:s,relative:i,viewTransition:o})}},[l,a,c,r,n,t,e,s,i,o])}function kY(e){si(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=S.useRef(vw(e)),r=S.useRef(!1),n=di(),s=S.useMemo(()=>oY(n.search,r.current?null:t.current),[n.search]),i=Gi(),o=S.useCallback((a,l)=>{const c=vw(typeof a=="function"?a(new URLSearchParams(s)):a);r.current=!0,i("?"+c,l)},[i,s]);return[s,o]}var CY=0,TY=()=>`__${String(++CY)}__`;function AY(){let{router:e}=UM("useSubmit"),{basename:t}=S.useContext(Yi),r=ZH();return S.useCallback(async(n,s={})=>{let{action:i,method:o,encType:a,formData:l,body:c}=cY(n,t);if(s.navigate===!1){let d=s.fetcherKey||TY();await e.fetch(d,r,s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||o,formEncType:s.encType||a,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||o,formEncType:s.encType||a,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,r])}function PY(e,{relative:t}={}){let{basename:r}=S.useContext(Yi),n=S.useContext(Ts);Mr(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i={...Kh(e||".",{relative:t})},o=di();if(e==null){i.search=o.search;let a=new URLSearchParams(i.search),l=a.getAll("index");if(l.some(d=>d==="")){a.delete("index"),l.filter(f=>f).forEach(f=>a.append("index",f));let d=a.toString();i.search=d?`?${d}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:wo([r,i.pathname])),yw(i)}function OY(e,{relative:t}={}){let r=S.useContext(DM);Mr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=UM("useViewTransitionState"),s=Kh(e,{relative:t});if(!r.isTransitioning)return!1;let i=Ma(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Ma(r.nextLocation.pathname,n)||r.nextLocation.pathname;return pg(s.pathname,o)!=null||pg(s.pathname,i)!=null}const DY=()=>{const[e,t]=w.useState("login"),[r,n]=w.useState(null),[s,i]=w.useState(!1),[o,a]=w.useState(""),[l,c]=w.useState(""),[d,f]=w.useState(""),[h,p]=w.useState(""),[g,m]=w.useState(""),[y,v]=w.useState(""),[b,x]=w.useState(null),E=Gi(),_=(T,$="info")=>{n({text:T,type:$});const M=setTimeout(()=>n(null),6e3);return()=>clearTimeout(M)},N=async T=>{if(T.preventDefault(),!o||!l){_("Please enter both email and password","error");return}i(!0);try{const{error:$}=await he.auth.signInWithPassword({email:o,password:l});if($)throw $;E("/")}catch($){const M=$ instanceof Error?$.message:"Failed to sign in";_(M,"error")}finally{i(!1)}},k=async T=>{if(T.preventDefault(),h!==y){_("Passwords do not match","error");return}i(!0);try{const{error:$}=await he.auth.signUp({email:d,password:h,options:{data:{display_name:g}}});if($)throw $;_("Account created! Please check your email to confirm your account.","success"),t("login")}catch($){const M=$ instanceof Error?$.message:"Failed to create account";_(M,"error")}finally{i(!1)}},C=T=>{if(!T){x(null);return}let $=0;T.length>=8&&$++,/[A-Z]/.test(T)&&$++,/[a-z]/.test(T)&&$++,/[0-9]/.test(T)&&$++,/[^A-Za-z0-9]/.test(T)&&$++,T.length>=12&&$++;const M=[{text:"Weak",className:"weak"},{text:"Fair",className:"fair"},{text:"Good",className:"good"},{text:"Strong",className:"strong"},{text:"Very Strong",className:"very-strong"}],L=Math.min($,M.length-1);x(M[L])};return u.jsx("div",{className:"auth-page",children:u.jsxs("div",{className:"auth-container",children:[u.jsxs("div",{className:"auth-header",children:[u.jsx("h1",{children:e==="login"?"Welcome Back":"Create Account"}),u.jsx("p",{children:e==="login"?"Sign in to access your account":"Join our community today"})]}),r&&u.jsx("div",{className:`message ${r.type}`,children:r.text}),u.jsxs("div",{className:"tabs",children:[u.jsx("button",{className:`tab ${e==="login"?"active":""}`,onClick:()=>t("login"),type:"button",children:"Sign In"}),u.jsx("button",{className:`tab ${e==="signup"?"active":""}`,onClick:()=>t("signup"),type:"button",children:"Create Account"})]}),e==="login"?u.jsxs("form",{className:"auth-form",onSubmit:N,children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"loginEmail",children:"Email"}),u.jsx("input",{type:"email",id:"loginEmail",value:o,onChange:T=>a(T.target.value),placeholder:"Enter your email",required:!0,disabled:s})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"loginPassword",children:"Password"}),u.jsx("input",{type:"password",id:"loginPassword",value:l,onChange:T=>c(T.target.value),placeholder:"Enter your password",required:!0,disabled:s})]}),u.jsx("button",{type:"submit",className:"btn primary",disabled:s,children:s?"Signing in...":"Sign In"}),u.jsx("div",{className:"form-footer",children:u.jsx(Rr,{to:"/forgot-password",children:"Forgot password?"})})]}):u.jsxs("form",{className:"auth-form",onSubmit:k,children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"signupDisplayName",children:"Display Name"}),u.jsx("input",{type:"text",id:"signupDisplayName",value:g,onChange:T=>m(T.target.value),placeholder:"Enter your name",required:!0,disabled:s})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"signupEmail",children:"Email"}),u.jsx("input",{type:"email",id:"signupEmail",value:d,onChange:T=>f(T.target.value),placeholder:"your.email@example.com",required:!0,disabled:s})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"signupPassword",children:"Password"}),u.jsx("input",{type:"password",id:"signupPassword",value:h,onChange:T=>{p(T.target.value),C(T.target.value)},placeholder:"Create a strong password",required:!0,disabled:s}),b&&u.jsxs("div",{className:`password-strength ${b.className}`,children:["Password strength: ",b.text]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),u.jsx("input",{type:"password",id:"confirmPassword",value:y,onChange:T=>v(T.target.value),placeholder:"Re-enter your password",required:!0,disabled:s})]}),u.jsx("button",{type:"submit",className:"btn primary",disabled:s,children:s?"Creating account...":"Create Account"})]}),u.jsx("div",{className:"auth-divider",children:u.jsx("span",{children:"or continue with"})}),u.jsxs("div",{className:"social-logins",children:[u.jsx("button",{type:"button",className:"btn social google",onClick:()=>_("Google login is not yet implemented","info"),disabled:s,children:"Google"}),u.jsx("button",{type:"button",className:"btn social github",onClick:()=>_("GitHub login is not yet implemented","info"),disabled:s,children:"GitHub"})]}),u.jsx("div",{className:"auth-footer",children:e==="login"?u.jsxs(u.Fragment,{children:["Don't have an account?"," ",u.jsx("button",{type:"button",className:"text-link",onClick:()=>t("signup"),children:"Sign up"})]}):u.jsxs(u.Fragment,{children:["Already have an account?"," ",u.jsx("button",{type:"button",className:"text-link",onClick:()=>t("login"),children:"Sign in"})]})})]})})};/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RY=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qM=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $Y={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IY=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...a},l)=>w.createElement("svg",{ref:l,...$Y,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:qM("lucide",s),...a},[...o.map(([c,d])=>w.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=(e,t)=>{const r=w.forwardRef(({className:n,...s},i)=>w.createElement(IY,{ref:i,iconNode:t,className:qM(`lucide-${RY(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=De("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=De("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MY=De("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=De("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LY=De("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FY=De("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=De("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=De("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BY=De("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=De("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=De("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=De("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zY=De("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=De("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=De("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UY=De("CloudUpload",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qY=De("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=De("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VY=De("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=De("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WY=De("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=De("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KY=De("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=De("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HY=De("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YY=De("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=De("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GY=De("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZY=De("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XY=De("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JY=De("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=De("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=De("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=De("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=De("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=De("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=De("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QY=De("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eG=De("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tG=De("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=De("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=De("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=De("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=De("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=De("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=De("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rG=De("SquareCheckBig",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nG=De("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=De("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sG=De("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=De("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iG=De("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oG=De("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aG=De("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lG=De("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=De("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=De("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=De("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cG=De("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),QM=({userProfile:e})=>u.jsxs("div",{children:[u.jsx("h2",{className:"section-title text-2xl font-semibold text-secondary mb-4 border-b-2 border-primary-dark pb-2",children:"Dashboard Overview"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[u.jsxs("div",{className:"bg-primary-dark/20 border border-primary-dark rounded-lg p-4 text-center",children:[u.jsx("span",{className:"block text-3xl font-bold text-secondary",children:e.books_read}),u.jsx("div",{className:"text-sm text-primary-light mt-1",children:"Books Read"})]}),u.jsxs("div",{className:"bg-primary-dark/20 border border-primary-dark rounded-lg p-4 text-center",children:[u.jsx("span",{className:"block text-3xl font-bold text-secondary",children:e.currently_reading}),u.jsx("div",{className:"text-sm text-primary-light mt-1",children:"Currently Reading"})]}),u.jsxs("div",{className:"bg-primary-dark/20 border border-primary-dark rounded-lg p-4 text-center",children:[u.jsx("span",{className:"block text-3xl font-bold text-secondary",children:e.reading_hours}),u.jsx("div",{className:"text-sm text-primary-light mt-1",children:"Reading Hours"})]}),u.jsxs("div",{className:"bg-primary-dark/20 border border-primary-dark rounded-lg p-4 text-center",children:[u.jsx("span",{className:"block text-3xl font-bold text-secondary",children:e.achievements_count}),u.jsx("div",{className:"text-sm text-primary-light mt-1",children:"Achievements"})]})]}),u.jsx("h3",{className:"text-xl font-semibold text-secondary mb-4",children:"Recent Activity"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-background-dark/50 border border-background-dark rounded-lg p-4 flex items-center gap-4",children:[u.jsx("div",{className:"w-16 h-20 bg-primary-dark flex items-center justify-center text-lg font-bold rounded-md",children:"V1"}),u.jsxs("div",{children:[u.jsx("div",{className:"font-semibold text-text-light",children:"Volume 1: Foundations of Ruin"}),u.jsx("div",{className:"text-sm text-primary-light",children:"Completed • Read 3 days ago"})]})]}),u.jsxs("div",{className:"bg-background-dark/50 border border-background-dark rounded-lg p-4 flex items-center gap-4",children:[u.jsx("div",{className:"w-16 h-20 bg-primary-dark flex items-center justify-center text-lg font-bold rounded-md",children:"A3"}),u.jsxs("div",{children:[u.jsx("div",{className:"font-semibold text-text-light",children:"Arc 3: The Silent Accord"}),u.jsx("div",{className:"text-sm text-primary-light",children:"Chapter 5 of 8"}),u.jsx("div",{className:"w-full bg-primary-dark/30 rounded-full h-1.5 mt-1",children:u.jsx("div",{className:"bg-secondary h-1.5 rounded-full",style:{width:"62.5%"}})})]})]})]})]}),eL=({userProfile:e,onProfileUpdate:t})=>{const[r,n]=w.useState(e.display_name||""),[s,i]=w.useState(e.bio||""),[o,a]=w.useState(e.location||""),[l,c]=w.useState(e.favorite_genre||""),[d,f]=w.useState(e.reading_goal||0),[h,p]=w.useState(!1);w.useEffect(()=>{n(e.display_name||""),i(e.bio||""),a(e.location||""),c(e.favorite_genre||""),f(e.reading_goal||0)},[e]);const g=async m=>{m.preventDefault(),p(!0);const y={display_name:r,bio:s,location:o,favorite_genre:l,reading_goal:d,updated_at:new Date().toISOString()},{error:v}=await he.from("profiles").update(y).eq("id",e.id);v?(console.error("Error updating profile:",v.message),alert("Error updating profile!")):(alert("Profile updated successfully!"),t({...e,...y})),p(!1)};return u.jsxs("div",{children:[u.jsx("h2",{className:"section-title text-2xl font-semibold text-secondary mb-4 border-b-2 border-primary-dark pb-2",children:"Edit Profile"}),u.jsxs("form",{onSubmit:g,children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"block text-text-light text-sm font-bold mb-2",children:"Username"}),u.jsx("input",{type:"text",className:"w-full p-2 rounded-md bg-background-dark border border-primary-dark text-text-light",value:e.username,readOnly:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"block text-text-light text-sm font-bold mb-2",children:"Display Name"}),u.jsx("input",{type:"text",className:"w-full p-2 rounded-md bg-background-dark border border-primary-dark text-text-light",value:r,onChange:m=>n(m.target.value)})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"block text-text-light text-sm font-bold mb-2",children:"Email"}),u.jsx("input",{type:"email",className:"w-full p-2 rounded-md bg-background-dark border border-primary-dark text-text-light",value:e.email||"N/A",readOnly:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"block text-text-light text-sm font-bold mb-2",children:"Location"}),u.jsx("input",{type:"text",className:"w-full p-2 rounded-md bg-background-dark border border-primary-dark text-text-light",value:o,onChange:m=>a(m.target.value)})]})]}),u.jsxs("div",{className:"form-group mb-4",children:[u.jsx("label",{className:"block text-text-light text-sm font-bold mb-2",children:"Bio"}),u.jsx("textarea",{className:"w-full p-2 rounded-md bg-background-dark border border-primary-dark text-text-light h-24 resize-y",value:s,onChange:m=>i(m.target.value)})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"block text-text-light text-sm font-bold mb-2",children:"Favorite Genre"}),u.jsx("input",{type:"text",className:"w-full p-2 rounded-md bg-background-dark border border-primary-dark text-text-light",value:l,onChange:m=>c(m.target.value)})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"block text-text-light text-sm font-bold mb-2",children:"Reading Goal (Books/Year)"}),u.jsx("input",{type:"number",className:"w-full p-2 rounded-md bg-background-dark border border-primary-dark text-text-light",value:d,onChange:m=>f(parseInt(m.target.value))})]})]}),u.jsx("button",{type:"submit",className:"bg-secondary hover:bg-secondary-dark text-background-dark font-bold py-2 px-4 rounded-md transition-colors duration-300",disabled:h,children:h?"Saving...":"Save Changes"})]})]})},tL=({userProfile:e})=>{const[t,r]=w.useState([]),[n,s]=w.useState(!0),[i,o]=w.useState(null);w.useEffect(()=>{(async()=>{try{s(!0);const{data:{user:c}}=await he.auth.getUser();if(!c){o("User not authenticated."),s(!1);return}const d=new Date().toISOString();let h=he.from("subscriptions").select("id").eq("user_id",c.id).eq("is_active",!0).lte("start_date",d);h=h.or(`current_period_end.gte.${d},current_period_end.is.null`);const{data:p,error:g}=await h;if(g)throw g;const m=p;if(!m||m.length===0){o("No active subscriptions found."),s(!1);return}const{data:y,error:v}=await he.from("entitlements").select("scope").eq("user_id",c.id);if(v)throw v;if(!y||y.length===0){o("No content entitlements found for your active subscription."),s(!1);return}const b=y.map(_=>_.scope.split(":")[1]),{data:x,error:E}=await he.from("chapters").select("*").in("work_id",b).eq("is_published",!0).order("chapter_number",{ascending:!0});if(E)throw E;r(x||[])}catch(c){console.error("Error fetching chapters:",c.message),o("Failed to load chapters: "+c.message)}finally{s(!1)}})()},[]);const a=async l=>{var c;try{const d=await fetch(`/api/chapters/secure/${l}`,{headers:{Authorization:`Bearer ${(c=(await he.auth.getSession()).data.session)==null?void 0:c.access_token}`}});if(!d.ok){const h=await d.json();throw new Error(h.error||"Failed to get signed URL.")}const f=await d.json();window.open(f.signedUrl,"_blank")}catch(d){console.error("Error reading chapter:",d.message),alert("Error reading chapter: "+d.message)}};return n?u.jsx("div",{className:"text-center py-4",children:"Loading chapters..."}):i?u.jsx("div",{className:"text-center py-4 text-red-500",children:i}):t.length===0?u.jsx("div",{className:"text-center py-4",children:"No chapters found for your active subscriptions."}):u.jsxs("div",{className:"p-4",children:[u.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Your Chapters"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(l=>u.jsxs("div",{className:"bg-background-dark p-4 rounded-lg shadow-md",children:[u.jsx("h3",{className:"text-xl font-medium text-primary",children:l.title}),u.jsxs("p",{className:"text-text-light",children:["Chapter ",l.chapter_number]}),u.jsxs("p",{className:"text-text-light text-sm",children:["Work ID: ",l.work_id]}),u.jsx("button",{className:"mt-4 bg-primary hover:bg-primary-dark text-white font-bold py-2 px-4 rounded",onClick:()=>a(l.id),children:"Read Chapter"})]},l.id))})]})},rL=({userProfile:e})=>u.jsxs("div",{children:[u.jsx("h2",{className:"section-title text-2xl font-semibold text-secondary mb-4 border-b-2 border-primary-dark pb-2",children:"Achievements"}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"bg-primary-dark/20 border border-primary-dark rounded-lg p-4 text-center transition-all duration-300 hover:scale-105",children:[u.jsx("span",{className:"block text-4xl mb-2",children:"📚"}),u.jsx("div",{className:"font-semibold text-text-light text-sm",children:"First Chapter"})]}),u.jsxs("div",{className:"bg-primary-dark/20 border border-primary-dark rounded-lg p-4 text-center transition-all duration-300 hover:scale-105",children:[u.jsx("span",{className:"block text-4xl mb-2",children:"⭐"}),u.jsx("div",{className:"font-semibold text-text-light text-sm",children:"Book Reviewer"})]}),u.jsxs("div",{className:"bg-primary-dark/20 border border-primary-dark rounded-lg p-4 text-center transition-all duration-300 hover:scale-105",children:[u.jsx("span",{className:"block text-4xl mb-2",children:"🔥"}),u.jsx("div",{className:"font-semibold text-text-light text-sm",children:"Reading Streak"})]}),u.jsxs("div",{className:"bg-primary-dark/20 border border-primary-dark rounded-lg p-4 text-center transition-all duration-300 hover:scale-105",children:[u.jsx("span",{className:"block text-4xl mb-2",children:"🏆"}),u.jsx("div",{className:"font-semibold text-text-light text-sm",children:"Beta Reader"})]}),u.jsxs("div",{className:"bg-background-dark/50 border border-background-dark rounded-lg p-4 text-center transition-all duration-300 hover:scale-105",children:[u.jsx("span",{className:"block text-4xl mb-2",children:"💎"}),u.jsx("div",{className:"font-semibold text-text-light text-sm",children:"Completionist"})]}),u.jsxs("div",{className:"bg-background-dark/50 border border-background-dark rounded-lg p-4 text-center transition-all duration-300 hover:scale-105",children:[u.jsx("span",{className:"block text-4xl mb-2",children:"🌟"}),u.jsx("div",{className:"font-semibold text-text-light text-sm",children:"Super Fan"})]})]})]}),nL=({userProfile:e})=>u.jsxs("div",{children:[u.jsx("h2",{className:"section-title text-2xl font-semibold text-secondary mb-4 border-b-2 border-primary-dark pb-2",children:"Preferences"}),u.jsxs("div",{className:"bg-background-dark/50 rounded-lg p-6 mb-6",children:[u.jsx("h3",{className:"text-xl font-semibold text-secondary mb-4",children:"Reading Preferences"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"darkMode",className:"form-checkbox h-5 w-5 text-secondary rounded",defaultChecked:!0}),u.jsx("label",{htmlFor:"darkMode",className:"ml-2 text-text-light",children:"Dark mode"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"autoBookmark",className:"form-checkbox h-5 w-5 text-secondary rounded"}),u.jsx("label",{htmlFor:"autoBookmark",className:"ml-2 text-text-light",children:"Auto-bookmark progress"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"readingReminders",className:"form-checkbox h-5 w-5 text-secondary rounded",defaultChecked:!0}),u.jsx("label",{htmlFor:"readingReminders",className:"ml-2 text-text-light",children:"Reading reminders"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"spoilerWarnings",className:"form-checkbox h-5 w-5 text-secondary rounded",defaultChecked:!0}),u.jsx("label",{htmlFor:"spoilerWarnings",className:"ml-2 text-text-light",children:"Spoiler warnings"})]})]})]}),u.jsxs("div",{className:"bg-background-dark/50 rounded-lg p-6 mb-6",children:[u.jsx("h3",{className:"text-xl font-semibold text-secondary mb-4",children:"Notifications"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"newReleases",className:"form-checkbox h-5 w-5 text-secondary rounded",defaultChecked:!0}),u.jsx("label",{htmlFor:"newReleases",className:"ml-2 text-text-light",children:"New releases"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"blogUpdates",className:"form-checkbox h-5 w-5 text-secondary rounded",defaultChecked:!0}),u.jsx("label",{htmlFor:"blogUpdates",className:"ml-2 text-text-light",children:"Blog updates"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"communityUpdates",className:"form-checkbox h-5 w-5 text-secondary rounded"}),u.jsx("label",{htmlFor:"communityUpdates",className:"ml-2 text-text-light",children:"Community updates"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"betaInvites",className:"form-checkbox h-5 w-5 text-secondary rounded",defaultChecked:!0}),u.jsx("label",{htmlFor:"betaInvites",className:"ml-2 text-text-light",children:"Beta reader invites"})]})]})]}),u.jsx("button",{className:"bg-secondary hover:bg-secondary-dark text-background-dark font-bold py-2 px-4 rounded-md transition-colors duration-300",children:"Save Preferences"})]}),sL=({userProfile:e})=>u.jsxs("div",{children:[u.jsx("h2",{className:"section-title text-2xl font-semibold text-secondary mb-4 border-b-2 border-primary-dark pb-2",children:"Security Settings"}),u.jsxs("div",{className:"bg-background-dark/50 rounded-lg p-6 mb-6",children:[u.jsx("h3",{className:"text-xl font-semibold text-secondary mb-4",children:"Change Password"}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-text-light text-sm font-bold mb-2",children:"Current Password"}),u.jsx("input",{type:"password",className:"w-full p-2 rounded-md bg-background-dark border border-primary-dark text-text-light"})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-text-light text-sm font-bold mb-2",children:"New Password"}),u.jsx("input",{type:"password",className:"w-full p-2 rounded-md bg-background-dark border border-primary-dark text-text-light"})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-text-light text-sm font-bold mb-2",children:"Confirm New Password"}),u.jsx("input",{type:"password",className:"w-full p-2 rounded-md bg-background-dark border border-primary-dark text-text-light"})]}),u.jsx("button",{className:"bg-secondary hover:bg-secondary-dark text-background-dark font-bold py-2 px-4 rounded-md transition-colors duration-300",children:"Update Password"})]}),u.jsxs("div",{className:"bg-background-dark/50 rounded-lg p-6 mb-6",children:[u.jsx("h3",{className:"text-xl font-semibold text-secondary mb-4",children:"Account Settings"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"twoFactor",className:"form-checkbox h-5 w-5 text-secondary rounded"}),u.jsx("label",{htmlFor:"twoFactor",className:"ml-2 text-text-light",children:"Enable two-factor authentication"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"loginNotifications",className:"form-checkbox h-5 w-5 text-secondary rounded",defaultChecked:!0}),u.jsx("label",{htmlFor:"loginNotifications",className:"ml-2 text-text-light",children:"Login notifications"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"profilePublic",className:"form-checkbox h-5 w-5 text-secondary rounded",defaultChecked:!0}),u.jsx("label",{htmlFor:"profilePublic",className:"ml-2 text-text-light",children:"Public profile"})]})]})]}),u.jsxs("div",{className:"bg-red-900/20 border border-red-700 rounded-lg p-6",children:[u.jsx("h3",{className:"text-xl font-semibold text-red-500 mb-4",children:"Danger Zone"}),u.jsx("button",{className:"bg-red-700 hover:bg-red-800 text-white font-bold py-2 px-4 rounded-md transition-colors duration-300",children:"Delete Account"})]})]}),uG=()=>{var m;const{user:e,userProfile:t,isLoading:r,isAuthenticated:n}=qh(),[s,i]=w.useState("overview"),[o,a]=w.useState(null),l=Gi(),c=t;w.useEffect(()=>{!r&&!n&&l("/login")},[r,n,l]);const d=async()=>{await he.auth.signOut(),l("/login")},f=y=>{};if(r)return u.jsxs("div",{className:"flex justify-center items-center min-h-screen",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"}),u.jsx("span",{className:"ml-4 text-text-light",children:"Loading your profile..."})]});if(o)return u.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:[u.jsxs("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 w-full max-w-2xl",role:"alert",children:[u.jsx("p",{className:"font-bold",children:"Error"}),u.jsx("p",{children:o})]}),u.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-primary text-white rounded hover:bg-primary-dark transition-colors",children:"Try Again"})]});if(!c)return u.jsx("div",{className:"flex justify-center items-center min-h-screen",children:u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-text-light text-lg mb-4",children:"No profile data found."}),u.jsx("button",{onClick:()=>l("/login"),className:"px-4 py-2 bg-primary text-white rounded hover:bg-primary-dark transition-colors",children:"Go to Login"})]})});const h=y=>{i(y)},p=[{id:"overview",name:"Overview",icon:u.jsx(gu,{size:18}),component:u.jsx(QM,{userProfile:c})},{id:"profile",name:"Profile",icon:u.jsx(gu,{size:18}),component:u.jsx(eL,{userProfile:c,onProfileUpdate:f})},{id:"reading",name:"Reading",icon:u.jsx(Lu,{size:18}),component:u.jsx(tL,{userProfile:c})},{id:"achievements",name:"Achievements",icon:u.jsx(MY,{size:18}),component:u.jsx(rL,{userProfile:c})},{id:"preferences",name:"Preferences",icon:u.jsx(XM,{size:18}),component:u.jsx(nL,{userProfile:c})},{id:"security",name:"Security",icon:u.jsx(HC,{size:18}),component:u.jsx(sL,{userProfile:c})}],g=[{label:"Books Read",value:c.books_read||0,icon:u.jsx(FY,{size:16})},{label:"Reading Goal",value:`${c.reading_goal||0} books`,icon:u.jsx(tv,{size:16})},{label:"Reading Streak",value:`${c.reading_streak||0} days`,icon:u.jsx(US,{size:16})},{label:"Account Security",value:"Strong",icon:u.jsx(YM,{size:16})}];return u.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background-dark to-background-darker text-text-light",children:[u.jsx("div",{className:"bg-background-darker/50 backdrop-blur-md border-b border-gray-800",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-white",children:"Account Dashboard"}),u.jsx("p",{className:"mt-2 text-gray-400",children:"Manage your profile and preferences"})]}),u.jsxs("button",{onClick:d,className:"mt-4 md:mt-0 inline-flex items-center px-4 py-2 border border-red-600 text-red-400 rounded-md hover:bg-red-600/10 transition-colors duration-200",children:[u.jsx(GM,{size:16,className:"mr-2"}),"Sign Out"]})]})})}),u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:u.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[u.jsxs("aside",{className:"w-full lg:w-64 flex-shrink-0",children:[u.jsxs("div",{className:"bg-background-light/50 backdrop-blur-sm rounded-xl overflow-hidden border border-gray-800",children:[u.jsxs("div",{className:"p-6 text-center border-b border-gray-800",children:[u.jsxs("div",{className:"relative inline-block",children:[u.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-primary to-secondary flex items-center justify-center text-4xl font-bold text-white",children:c.display_name?c.display_name.charAt(0).toUpperCase():c.username.charAt(0).toUpperCase()}),u.jsx("button",{className:"absolute -bottom-1 -right-1 bg-primary w-8 h-8 rounded-full flex items-center justify-center text-white hover:bg-primary/90 transition-colors",children:u.jsx(gu,{size:16})})]}),u.jsx("h2",{className:"mt-4 text-xl font-semibold text-white",children:c.display_name||c.username}),u.jsx("p",{className:"text-sm text-gray-400",children:c.role||"Member"})]}),u.jsx("nav",{className:"p-2",children:u.jsxs("ul",{className:"space-y-1",children:[p.map(y=>u.jsx("li",{children:u.jsxs("button",{onClick:()=>h(y.id),className:`w-full flex items-center justify-between px-4 py-3 text-sm font-medium rounded-lg transition-colors ${s===y.id?"bg-primary/10 text-primary":"text-gray-300 hover:bg-gray-800/50 hover:text-white"}`,children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"mr-3",children:y.icon}),y.name]}),u.jsx(Qf,{size:16,className:"text-gray-500"})]})},y.id)),c.role==="admin"&&u.jsx("li",{children:u.jsxs("a",{href:"/admin",className:"w-full flex items-center justify-between px-4 py-3 text-sm font-medium text-amber-400 rounded-lg hover:bg-amber-900/20 transition-colors",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(HC,{size:18,className:"mr-3"}),"Admin Dashboard"]}),u.jsx(Qf,{size:16})]})})]})})]}),s==="overview"&&u.jsxs("div",{className:"mt-6 bg-background-light/50 backdrop-blur-sm rounded-xl p-6 border border-gray-800",children:[u.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-4",children:"YOUR STATS"}),u.jsx("div",{className:"space-y-4",children:g.map((y,v)=>u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-lg bg-primary/10 flex items-center justify-center text-primary",children:y.icon}),u.jsxs("div",{className:"ml-3",children:[u.jsx("p",{className:"text-sm font-medium text-gray-300",children:y.label}),u.jsx("p",{className:"text-lg font-semibold text-white",children:y.value})]})]},v))})]})]}),u.jsx("main",{className:"flex-1",children:u.jsx("div",{className:"bg-background-light/50 backdrop-blur-sm rounded-xl border border-gray-800 overflow-hidden",children:u.jsx("div",{className:"p-6",children:(m=p.find(y=>y.id===s))==null?void 0:m.component})})})]})})]})},dG=[{name:"Dashboard",href:"/account/admin",icon:ZY},{name:"Posts",href:"/account/admin/posts",icon:WY},{name:"Media",href:"/account/admin/media",icon:aG},{name:"Users",href:"/account/admin/users",icon:yg},{name:"Beta Applications",href:"/account/admin/beta-applications",icon:yg},{name:"Store",href:"/account/admin/store",icon:sG},{name:"Works",href:"/account/admin/works",icon:Lu},{name:"Timeline",href:"/account/admin/timeline/events",icon:WM},{name:"Settings",href:"/account/admin/settings",icon:XM}],fG=()=>{var d,f;const[e,t]=w.useState(!1),[r,n]=w.useState(!1),s=di(),i=Gi(),{user:o,userProfile:a}=qh();w.useEffect(()=>{n(!1)},[s]);const l=()=>{t(!e)},c=async()=>{await he.auth.signOut(),i("/login")};return u.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 transition-colors duration-200 flex",children:[u.jsx("button",{onClick:l,className:We("fixed top-4 left-0 z-50 p-2 rounded-r-lg bg-white dark:bg-gray-800 shadow-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-all duration-300",e?"translate-x-0":"translate-x-64","lg:hidden"),"aria-label":e?"Expand sidebar":"Collapse sidebar",children:e?u.jsx(Qf,{size:20}):u.jsx(BY,{size:20})}),u.jsx("aside",{className:We("fixed top-0 left-0 z-40 h-screen bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 transition-all duration-300 ease-in-out",e?"w-0 opacity-0":"w-64 opacity-100",r?"translate-x-0":"-translate-x-full lg:translate-x-0","lg:opacity-100"),children:u.jsxs("div",{className:"h-full flex flex-col",children:[u.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:u.jsx("h2",{className:"text-xl font-bold",children:"Admin"})}),u.jsx("nav",{className:"flex-1 overflow-y-auto py-4 px-2",children:u.jsx("ul",{className:"space-y-1",children:dG.map(h=>u.jsx("li",{children:u.jsxs(Af,{to:h.href,end:h.href==="/account/admin",className:({isActive:p})=>We("flex items-center p-3 rounded-lg transition-colors",p?"bg-blue-50 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400":"hover:bg-gray-100 dark:hover:bg-gray-700",e?"justify-center":"space-x-3"),children:[u.jsx(h.icon,{size:20,className:"flex-shrink-0"}),!e&&u.jsx("span",{children:h.name})]})},h.name))})}),u.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:u.jsxs("div",{className:We("flex items-center",e?"justify-center":"justify-between"),children:[!e&&u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-9 h-9 rounded-full bg-blue-500 flex items-center justify-center text-white font-bold",children:((d=a==null?void 0:a.display_name)==null?void 0:d.charAt(0))||((f=o==null?void 0:o.email)==null?void 0:f.charAt(0).toUpperCase())}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium truncate max-w-[140px]",children:(a==null?void 0:a.display_name)||"Admin User"}),u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate max-w-[140px]",children:o==null?void 0:o.email})]})]}),u.jsx("button",{onClick:c,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",title:"Sign out",children:u.jsx(GM,{size:18})})]})})]})}),u.jsx("div",{className:We("transition-all duration-300 min-h-screen",e?"lg:ml-0":"lg:ml-64","ml-0 w-full"),children:u.jsx("div",{className:"w-full max-w-[2000px] mx-auto px-4 py-6",children:u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4 md:p-6",children:u.jsx(MM,{})})})})]})},hG=({children:e})=>{var o,a;const[t,r]=w.useState(!0),[n,s]=w.useState({isAuthenticated:!1,isAdmin:!1}),i=di();return w.useEffect(()=>{(async()=>{console.log("⏳ [AdminProtectedRoute] Checking session and admin status...");const{data:{session:c},error:d}=await he.auth.getSession();if(d||!c){console.log("🔒 [AdminProtectedRoute] No authenticated session found."),s({isAuthenticated:!1,isAdmin:!1}),r(!1);return}console.log("✅ [AdminProtectedRoute] Session found. User:",c.user.email);const{data:f,error:h}=await he.rpc("is_admin");h&&console.error("❌ [AdminProtectedRoute] Error calling is_admin RPC:",h);const g={isAuthenticated:!0,isAdmin:f===!0,user:c.user};console.log("✅ [AdminProtectedRoute] Final auth state:",g),s(g),r(!1)})()},[]),t?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900 text-white",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-400 mx-auto"}),u.jsx("p",{className:"mt-4",children:"Verifying Admin Privileges..."})]})}):n.isAuthenticated?n.isAdmin?u.jsx(u.Fragment,{children:e}):(console.log("❌ [AdminProtectedRoute] Access Denied. User is not an admin."),u.jsx("div",{className:"min-h-screen bg-gray-900 py-12 px-4 sm:px-6 lg:px-8 text-white",children:u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsxs("div",{className:"bg-gray-800 shadow-lg rounded-lg overflow-hidden",children:[u.jsxs("div",{className:"bg-red-600 p-6",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Access Denied"}),u.jsx("p",{className:"text-red-100",children:"You do not have the necessary permissions to view this page."})]}),u.jsxs("div",{className:"p-6 space-y-4",children:[u.jsx("p",{children:"The page you are trying to access is restricted to administrators only."}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-medium text-gray-300 mb-2",children:"Your Account Details"}),u.jsxs("dl",{className:"bg-gray-700/50 rounded-lg p-4 space-y-2 text-sm",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("dt",{className:"text-gray-400",children:"User ID"}),u.jsx("dd",{className:"font-mono",children:((o=n.user)==null?void 0:o.id)||"N/A"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("dt",{className:"text-gray-400",children:"Email"}),u.jsx("dd",{children:((a=n.user)==null?void 0:a.email)||"N/A"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("dt",{className:"text-gray-400",children:"Admin Status"}),u.jsx("dd",{className:"font-semibold text-red-400",children:"Not an Admin"})]})]})]}),u.jsx("p",{children:"If you believe this is an error, please contact support."}),u.jsx("div",{className:"pt-4",children:u.jsx("a",{href:"/",className:"px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:"Go to Homepage"})})]})]})})})):(console.log("🛑 [AdminProtectedRoute] Not authenticated, redirecting to login."),u.jsx(eY,{to:"/login",state:{from:i},replace:!0}))},pG="_zoroHeader_6lzsp_2",mG="_logo_6lzsp_16",gG="_navbar_6lzsp_23",yG="_navMenu_6lzsp_27",vG="_navLink_6lzsp_39",bG="_dropdownMenu_6lzsp_53",xG="_dropdownMenuItem_6lzsp_73",wG="_dropdown_6lzsp_53",_G="_headerControls_6lzsp_96",SG="_searchForm_6lzsp_121",EG="_themeToggle_6lzsp_165",jG="_icon_6lzsp_186",NG="_iconSun_6lzsp_197",kG="_iconMoon_6lzsp_203",Qr={zoroHeader:pG,logo:mG,navbar:gG,navMenu:yG,navLink:vG,dropdownMenu:bG,dropdownMenuItem:xG,dropdown:wG,headerControls:_G,searchForm:SG,themeToggle:EG,icon:jG,iconSun:NG,iconMoon:kG},YC="zoro-theme",CG=()=>{const[e,t]=w.useState(()=>{if(typeof window<"u"){const n=localStorage.getItem(YC),s=window.matchMedia("(prefers-color-scheme: dark)").matches;return n??(s?"dark":"light")}return"dark"});w.useEffect(()=>{const n=window.document.documentElement;n.setAttribute("data-theme",e),localStorage.setItem(YC,e),e==="dark"?(n.classList.add("dark"),n.classList.remove("light")):(n.classList.add("light"),n.classList.remove("dark"))},[e]);const r=()=>{t(n=>n==="dark"?"light":"dark")};return u.jsxs("button",{id:"theme-toggle",className:Qr.themeToggle,"aria-label":"Toggle dark mode","aria-pressed":e==="dark"?"true":"false",title:e==="dark"?"Switch to light mode":"Switch to dark mode",onClick:r,children:[u.jsxs("svg",{className:`${Qr.icon} ${Qr.iconSun}`,viewBox:"0 0 24 24",width:"22",height:"22","aria-hidden":"true",children:[u.jsx("circle",{cx:"12",cy:"12",r:"4",fill:"currentColor"}),u.jsxs("g",{stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",children:[u.jsx("line",{x1:"12",y1:"2",x2:"12",y2:"5"}),u.jsx("line",{x1:"12",y1:"19",x2:"12",y2:"22"}),u.jsx("line",{x1:"2",y1:"12",x2:"5",y2:"12"}),u.jsx("line",{x1:"19",y1:"12",x2:"22",y2:"12"}),u.jsx("line",{x1:"4.2",y1:"4.2",x2:"6.3",y2:"6.3"}),u.jsx("line",{x1:"17.7",y1:"17.7",x2:"19.8",y2:"19.8"}),u.jsx("line",{x1:"4.2",y1:"19.8",x2:"6.3",y2:"17.7"}),u.jsx("line",{x1:"17.7",y1:"6.3",x2:"19.8",y2:"4.2"})]})]}),u.jsx("svg",{className:`${Qr.icon} ${Qr.iconMoon}`,viewBox:"0 0 24 24",width:"22",height:"22","aria-hidden":"true",children:u.jsx("path",{d:`M21 14.5a9 9 0 1 1-8.5-12
                 a8 8 0 0 0 8.5 12z`,fill:"currentColor"})})]})},TG=()=>{const[e,t]=w.useState(!1),[r,n]=w.useState(!1),[s,i]=w.useState("none"),o=Gi();w.useEffect(()=>{(async()=>{var h,p;const{data:{session:f}}=await he.auth.getSession();n(!!f),(p=(h=f==null?void 0:f.user)==null?void 0:h.user_metadata)!=null&&p.betaApplicationStatus&&i(f.user.user_metadata.betaApplicationStatus)})();const{data:d}=he.auth.onAuthStateChange((f,h)=>{var p,g;n(!!h),(g=(p=h==null?void 0:h.user)==null?void 0:p.user_metadata)!=null&&g.betaApplicationStatus&&i(h.user.user_metadata.betaApplicationStatus)});return()=>{d.subscription.unsubscribe()}},[]);const a=async()=>{await he.auth.signOut(),o("/")},l=[{name:"Home",path:"/"},{name:"Explore",path:"#",children:[{name:"Library",path:"/library"},{name:"Wiki",path:"/wiki"},{name:"Timelines",path:"/timelines"},{name:"Characters",path:"/characters"},{name:"Blog",path:"/blog"}]},{name:"Beta Program",path:"/beta/application"}];if(r){const c=[];c.push({name:"Store",path:"/store"}),c.push({name:"Subscriptions",path:"/subscriptions"}),s==="accepted"&&c.push({name:"Beta Portal",path:"/beta/portal"}),c.push({name:"My Account",path:"/account"}),l.push({name:"Account",path:"#",children:c}),l.push({name:"Logout",path:"#",onClick:a})}else l.push({name:"Login",path:"/login"});return u.jsxs("header",{className:Qr.zoroHeader,children:[u.jsx("div",{className:Qr.logo,children:u.jsx(Af,{to:"/",children:u.jsx("h1",{children:"Zoroasterverse"})})}),u.jsxs("div",{className:Qr.headerControls,children:[" ",u.jsxs("form",{className:Qr.searchForm,children:[u.jsx("input",{type:"text",placeholder:"Search..."}),u.jsxs("button",{type:"submit",children:[u.jsx(cc,{})," "]})]}),u.jsx(CG,{})," "]}),u.jsx("nav",{className:Qr.navbar,children:u.jsx("ul",{className:Qr.navMenu,children:l.map(c=>u.jsxs("li",{className:c.children?Qr.dropdown:"",children:[c.onClick?u.jsx("button",{onClick:c.onClick,className:Qr.navLink,children:c.name}):u.jsxs(Af,{to:c.path,className:Qr.navLink,children:[c.name," ",c.children?"▾":""]}),c.children&&u.jsx("ul",{className:Qr.dropdownMenu,children:c.children.map(d=>u.jsx("li",{children:u.jsx(Af,{to:d.path,className:Qr.dropdownMenuItem,children:d.name})},d.name))})]},c.name))})})]})},AG="_zoroFooter_8qpog_1",PG="_footerContent_8qpog_8",OG="_footerColumns_8qpog_13",DG="_column_8qpog_20",RG="_socialIcons_8qpog_50",$G="_footerQuote_8qpog_59",oa={zoroFooter:AG,footerContent:PG,footerColumns:OG,column:DG,socialIcons:RG,footerQuote:$G},IG=()=>u.jsx("footer",{className:oa.zoroFooter,children:u.jsxs("div",{className:oa.footerContent,children:[u.jsxs("div",{className:oa.footerColumns,children:[u.jsxs("div",{className:oa.column,children:[u.jsx("h4",{children:"Zoroasterverse"}),u.jsx("p",{children:"“Truth is the architect of happiness.”"}),u.jsxs("p",{children:["© ",new Date().getFullYear()," Zoroasterverse. All rights reserved."]})]}),u.jsxs("div",{className:oa.column,children:[u.jsx("h4",{children:"Explore"}),u.jsxs("ul",{children:[u.jsx("li",{children:u.jsx("a",{href:"/about",children:"About"})}),u.jsx("li",{children:u.jsx("a",{href:"/books",children:"Books"})}),u.jsx("li",{children:u.jsx("a",{href:"/collaborate",children:"Artist Collaboration"})}),u.jsx("li",{children:u.jsx("a",{href:"/contact",children:"Contact"})})]})]}),u.jsxs("div",{className:oa.column,children:[u.jsx("h4",{children:"Connect"}),u.jsxs("ul",{className:oa.socialIcons,children:[u.jsx("li",{children:u.jsx("a",{href:"#",children:u.jsx(oG,{})})}),u.jsx("li",{children:u.jsx("a",{href:"#",children:u.jsx(GY,{})})}),u.jsx("li",{children:u.jsx("a",{href:"#",children:u.jsx(ZM,{})})})]})]})]}),u.jsx("div",{className:oa.footerQuote,children:u.jsx("em",{children:"“Let your conscience be the altar where right intention dwells.”"})})]})}),MG=()=>u.jsxs("div",{className:"zr-root",children:[u.jsx(TG,{}),u.jsx("main",{children:u.jsx(MM,{})}),u.jsx(IG,{})]});var rv=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},th=typeof window>"u"||"Deno"in globalThis;function vg(){}function GC(e){return typeof e=="number"&&e>=0&&e!==1/0}function LG(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Of(e,t){return typeof e=="function"?e(t):e}function Hs(e,t){return typeof e=="function"?e(t):e}function ZC(e){return JSON.stringify(e,(t,r)=>xw(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function bw(e,t){if(e===t)return e;const r=XC(e)&&XC(t);if(r||xw(e)&&xw(t)){const n=r?e:Object.keys(e),s=n.length,i=r?t:Object.keys(t),o=i.length,a=r?[]:{},l=new Set(n);let c=0;for(let d=0;d<o;d++){const f=r?d:i[d];(!r&&l.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(a[f]=void 0,c++):(a[f]=bw(e[f],t[f]),a[f]===e[f]&&e[f]!==void 0&&c++)}return s===o&&c===s?e:a}return t}function bg(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function XC(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function xw(e){if(!JC(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!JC(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function JC(e){return Object.prototype.toString.call(e)==="[object Object]"}function QC(e,t,r){if(typeof r.structuralSharing=="function")return r.structuralSharing(e,t);if(r.structuralSharing!==!1){if(process.env.NODE_ENV!=="production")try{return bw(e,t)}catch(n){throw console.error(`Structural sharing requires data to be JSON serializable. To fix this, turn off structuralSharing or return JSON-serializable data from your queryFn. [${r.queryHash}]: ${n}`),n}return bw(e,t)}return t}function iL(e,t){return typeof e=="function"?e(...t):!!e}var Ol,Ea,Cu,I$,FG=(I$=class extends rv{constructor(){super();gt(this,Ol);gt(this,Ea);gt(this,Cu);Je(this,Cu,t=>{if(!th&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){ce(this,Ea)||this.setEventListener(ce(this,Cu))}onUnsubscribe(){var t;this.hasListeners()||((t=ce(this,Ea))==null||t.call(this),Je(this,Ea,void 0))}setEventListener(t){var r;Je(this,Cu,t),(r=ce(this,Ea))==null||r.call(this),Je(this,Ea,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){ce(this,Ol)!==t&&(Je(this,Ol,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof ce(this,Ol)=="boolean"?ce(this,Ol):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ol=new WeakMap,Ea=new WeakMap,Cu=new WeakMap,I$),BG=new FG,Tu,ja,Au,M$,zG=(M$=class extends rv{constructor(){super();gt(this,Tu,!0);gt(this,ja);gt(this,Au);Je(this,Au,t=>{if(!th&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){ce(this,ja)||this.setEventListener(ce(this,Au))}onUnsubscribe(){var t;this.hasListeners()||((t=ce(this,ja))==null||t.call(this),Je(this,ja,void 0))}setEventListener(t){var r;Je(this,Au,t),(r=ce(this,ja))==null||r.call(this),Je(this,ja,t(this.setOnline.bind(this)))}setOnline(t){ce(this,Tu)!==t&&(Je(this,Tu,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return ce(this,Tu)}},Tu=new WeakMap,ja=new WeakMap,Au=new WeakMap,M$),UG=new zG;function eT(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function qG(e){return(e??"online")==="online"?UG.isOnline():!0}var VG=e=>setTimeout(e,0);function WG(){let e=[],t=0,r=a=>{a()},n=a=>{a()},s=VG;const i=a=>{t?e.push(a):s(()=>{r(a)})},o=()=>{const a=e;e=[],a.length&&s(()=>{n(()=>{a.forEach(l=>{r(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{s=a}}}var nv=WG();function KG(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:qG(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function HG(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var En,et,Fh,pn,Dl,Pu,po,Na,Bh,Ou,Du,Rl,$l,ka,Ru,ht,mf,ww,_w,Sw,Ew,jw,Nw,kw,oL,L$,YG=(L$=class extends rv{constructor(t,r){super();gt(this,ht);gt(this,En);gt(this,et);gt(this,Fh);gt(this,pn);gt(this,Dl);gt(this,Pu);gt(this,po);gt(this,Na);gt(this,Bh);gt(this,Ou);gt(this,Du);gt(this,Rl);gt(this,$l);gt(this,ka);gt(this,Ru,new Set);this.options=r,Je(this,En,t),Je(this,Na,null),Je(this,po,eT()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ce(this,et).addObserver(this),tT(ce(this,et),this.options)?Pt(this,ht,mf).call(this):this.updateResult(),Pt(this,ht,Ew).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Cw(ce(this,et),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Cw(ce(this,et),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Pt(this,ht,jw).call(this),Pt(this,ht,Nw).call(this),ce(this,et).removeObserver(this)}setOptions(t){const r=this.options,n=ce(this,et);if(this.options=ce(this,En).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Hs(this.options.enabled,ce(this,et))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Pt(this,ht,kw).call(this),ce(this,et).setOptions(this.options),r._defaulted&&!bg(this.options,r)&&ce(this,En).getQueryCache().notify({type:"observerOptionsUpdated",query:ce(this,et),observer:this});const s=this.hasListeners();s&&rT(ce(this,et),n,this.options,r)&&Pt(this,ht,mf).call(this),this.updateResult(),s&&(ce(this,et)!==n||Hs(this.options.enabled,ce(this,et))!==Hs(r.enabled,ce(this,et))||Of(this.options.staleTime,ce(this,et))!==Of(r.staleTime,ce(this,et)))&&Pt(this,ht,ww).call(this);const i=Pt(this,ht,_w).call(this);s&&(ce(this,et)!==n||Hs(this.options.enabled,ce(this,et))!==Hs(r.enabled,ce(this,et))||i!==ce(this,ka))&&Pt(this,ht,Sw).call(this,i)}getOptimisticResult(t){const r=ce(this,En).getQueryCache().build(ce(this,En),t),n=this.createResult(r,t);return ZG(this,n)&&(Je(this,pn,n),Je(this,Pu,this.options),Je(this,Dl,ce(this,et).state)),n}getCurrentResult(){return ce(this,pn)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),s==="promise"&&!this.options.experimental_prefetchInRender&&ce(this,po).status==="pending"&&ce(this,po).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(n,s))})}trackProp(t){ce(this,Ru).add(t)}getCurrentQuery(){return ce(this,et)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=ce(this,En).defaultQueryOptions(t),n=ce(this,En).getQueryCache().build(ce(this,En),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Pt(this,ht,mf).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),ce(this,pn)))}createResult(t,r){var T;const n=ce(this,et),s=this.options,i=ce(this,pn),o=ce(this,Dl),a=ce(this,Pu),c=t!==n?t.state:ce(this,Fh),{state:d}=t;let f={...d},h=!1,p;if(r._optimisticResults){const $=this.hasListeners(),M=!$&&tT(t,r),L=$&&rT(t,n,r,s);(M||L)&&(f={...f,...KG(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:g,errorUpdatedAt:m,status:y}=f;p=f.data;let v=!1;if(r.placeholderData!==void 0&&p===void 0&&y==="pending"){let $;i!=null&&i.isPlaceholderData&&r.placeholderData===(a==null?void 0:a.placeholderData)?($=i.data,v=!0):$=typeof r.placeholderData=="function"?r.placeholderData((T=ce(this,Du))==null?void 0:T.state.data,ce(this,Du)):r.placeholderData,$!==void 0&&(y="success",p=QC(i==null?void 0:i.data,$,r),h=!0)}if(r.select&&p!==void 0&&!v)if(i&&p===(o==null?void 0:o.data)&&r.select===ce(this,Bh))p=ce(this,Ou);else try{Je(this,Bh,r.select),p=r.select(p),p=QC(i==null?void 0:i.data,p,r),Je(this,Ou,p),Je(this,Na,null)}catch($){Je(this,Na,$)}ce(this,Na)&&(g=ce(this,Na),p=ce(this,Ou),m=Date.now(),y="error");const b=f.fetchStatus==="fetching",x=y==="pending",E=y==="error",_=x&&b,N=p!==void 0,C={status:y,fetchStatus:f.fetchStatus,isPending:x,isSuccess:y==="success",isError:E,isInitialLoading:_,isLoading:_,data:p,dataUpdatedAt:f.dataUpdatedAt,error:g,errorUpdatedAt:m,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>c.dataUpdateCount||f.errorUpdateCount>c.errorUpdateCount,isFetching:b,isRefetching:b&&!x,isLoadingError:E&&!N,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:E&&N,isStale:VS(t,r),refetch:this.refetch,promise:ce(this,po),isEnabled:Hs(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const $=D=>{C.status==="error"?D.reject(C.error):C.data!==void 0&&D.resolve(C.data)},M=()=>{const D=Je(this,po,C.promise=eT());$(D)},L=ce(this,po);switch(L.status){case"pending":t.queryHash===n.queryHash&&$(L);break;case"fulfilled":(C.status==="error"||C.data!==L.value)&&M();break;case"rejected":(C.status!=="error"||C.error!==L.reason)&&M();break}}return C}updateResult(){const t=ce(this,pn),r=this.createResult(ce(this,et),this.options);if(Je(this,Dl,ce(this,et).state),Je(this,Pu,this.options),ce(this,Dl).data!==void 0&&Je(this,Du,ce(this,et)),bg(r,t))return;Je(this,pn,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!ce(this,Ru).size)return!0;const o=new Set(i??ce(this,Ru));return this.options.throwOnError&&o.add("error"),Object.keys(ce(this,pn)).some(a=>{const l=a;return ce(this,pn)[l]!==t[l]&&o.has(l)})};Pt(this,ht,oL).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Pt(this,ht,Ew).call(this)}},En=new WeakMap,et=new WeakMap,Fh=new WeakMap,pn=new WeakMap,Dl=new WeakMap,Pu=new WeakMap,po=new WeakMap,Na=new WeakMap,Bh=new WeakMap,Ou=new WeakMap,Du=new WeakMap,Rl=new WeakMap,$l=new WeakMap,ka=new WeakMap,Ru=new WeakMap,ht=new WeakSet,mf=function(t){Pt(this,ht,kw).call(this);let r=ce(this,et).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(vg)),r},ww=function(){Pt(this,ht,jw).call(this);const t=Of(this.options.staleTime,ce(this,et));if(th||ce(this,pn).isStale||!GC(t))return;const n=LG(ce(this,pn).dataUpdatedAt,t)+1;Je(this,Rl,setTimeout(()=>{ce(this,pn).isStale||this.updateResult()},n))},_w=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ce(this,et)):this.options.refetchInterval)??!1},Sw=function(t){Pt(this,ht,Nw).call(this),Je(this,ka,t),!(th||Hs(this.options.enabled,ce(this,et))===!1||!GC(ce(this,ka))||ce(this,ka)===0)&&Je(this,$l,setInterval(()=>{(this.options.refetchIntervalInBackground||BG.isFocused())&&Pt(this,ht,mf).call(this)},ce(this,ka)))},Ew=function(){Pt(this,ht,ww).call(this),Pt(this,ht,Sw).call(this,Pt(this,ht,_w).call(this))},jw=function(){ce(this,Rl)&&(clearTimeout(ce(this,Rl)),Je(this,Rl,void 0))},Nw=function(){ce(this,$l)&&(clearInterval(ce(this,$l)),Je(this,$l,void 0))},kw=function(){const t=ce(this,En).getQueryCache().build(ce(this,En),this.options);if(t===ce(this,et))return;const r=ce(this,et);Je(this,et,t),Je(this,Fh,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},oL=function(t){nv.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(ce(this,pn))}),ce(this,En).getQueryCache().notify({query:ce(this,et),type:"observerResultsUpdated"})})},L$);function GG(e,t){return Hs(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function tT(e,t){return GG(e,t)||e.state.data!==void 0&&Cw(e,t,t.refetchOnMount)}function Cw(e,t,r){if(Hs(t.enabled,e)!==!1&&Of(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&VS(e,t)}return!1}function rT(e,t,r,n){return(e!==t||Hs(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&VS(e,r)}function VS(e,t){return Hs(t.enabled,e)!==!1&&e.isStaleByTime(Of(t.staleTime,e))}function ZG(e,t){return!bg(e.getCurrentResult(),t)}var Ca,Ta,jn,mo,Eo,Km,Tw,F$,XG=(F$=class extends rv{constructor(r,n){super();gt(this,Eo);gt(this,Ca);gt(this,Ta);gt(this,jn);gt(this,mo);Je(this,Ca,r),this.setOptions(n),this.bindMethods(),Pt(this,Eo,Km).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=ce(this,Ca).defaultMutationOptions(r),bg(this.options,n)||ce(this,Ca).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ce(this,jn),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&ZC(n.mutationKey)!==ZC(this.options.mutationKey)?this.reset():((s=ce(this,jn))==null?void 0:s.state.status)==="pending"&&ce(this,jn).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=ce(this,jn))==null||r.removeObserver(this)}onMutationUpdate(r){Pt(this,Eo,Km).call(this),Pt(this,Eo,Tw).call(this,r)}getCurrentResult(){return ce(this,Ta)}reset(){var r;(r=ce(this,jn))==null||r.removeObserver(this),Je(this,jn,void 0),Pt(this,Eo,Km).call(this),Pt(this,Eo,Tw).call(this)}mutate(r,n){var s;return Je(this,mo,n),(s=ce(this,jn))==null||s.removeObserver(this),Je(this,jn,ce(this,Ca).getMutationCache().build(ce(this,Ca),this.options)),ce(this,jn).addObserver(this),ce(this,jn).execute(r)}},Ca=new WeakMap,Ta=new WeakMap,jn=new WeakMap,mo=new WeakMap,Eo=new WeakSet,Km=function(){var n;const r=((n=ce(this,jn))==null?void 0:n.state)??HG();Je(this,Ta,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Tw=function(r){nv.batch(()=>{var n,s,i,o,a,l,c,d;if(ce(this,mo)&&this.hasListeners()){const f=ce(this,Ta).variables,h=ce(this,Ta).context;(r==null?void 0:r.type)==="success"?((s=(n=ce(this,mo)).onSuccess)==null||s.call(n,r.data,f,h),(o=(i=ce(this,mo)).onSettled)==null||o.call(i,r.data,null,f,h)):(r==null?void 0:r.type)==="error"&&((l=(a=ce(this,mo)).onError)==null||l.call(a,r.error,f,h),(d=(c=ce(this,mo)).onSettled)==null||d.call(c,void 0,r.error,f,h))}this.listeners.forEach(f=>{f(ce(this,Ta))})})},F$),JG=S.createContext(void 0),qo=e=>{const t=S.useContext(JG);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},aL=S.createContext(!1),QG=()=>S.useContext(aL);aL.Provider;function eZ(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var tZ=S.createContext(eZ()),rZ=()=>S.useContext(tZ),nZ=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},sZ=e=>{S.useEffect(()=>{e.clearReset()},[e])},iZ=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||iL(r,[e.error,n])),oZ=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},aZ=(e,t)=>e.isLoading&&e.isFetching&&!t,lZ=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,nT=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function cZ(e,t,r){var f,h,p,g,m;if(process.env.NODE_ENV!=="production"&&(typeof e!="object"||Array.isArray(e)))throw new Error('Bad argument type. Starting with v5, only the "Object" form is allowed when calling query related functions. Please use the error stack to find the culprit call. More info here: https://tanstack.com/query/latest/docs/react/guides/migrating-to-v5#supports-a-single-signature-one-object');const n=QG(),s=rZ(),i=qo(),o=i.defaultQueryOptions(e);(h=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,o),process.env.NODE_ENV!=="production"&&(o.queryFn||console.error(`[${o.queryHash}]: No queryFn was passed as an option, and no default queryFn was found. The queryFn parameter is only optional when using a default queryFn. More info here: https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function`)),o._optimisticResults=n?"isRestoring":"optimistic",oZ(o),nZ(o,s),sZ(s);const a=!i.getQueryCache().get(o.queryHash),[l]=S.useState(()=>new t(i,o)),c=l.getOptimisticResult(o),d=!n&&e.subscribed!==!1;if(S.useSyncExternalStore(S.useCallback(y=>{const v=d?l.subscribe(nv.batchCalls(y)):vg;return l.updateResult(),v},[l,d]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),S.useEffect(()=>{l.setOptions(o)},[o,l]),lZ(o,c))throw nT(o,l,s);if(iZ({result:c,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw c.error;if((g=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||g.call(p,o,c),o.experimental_prefetchInRender&&!th&&aZ(c,n)){const y=a?nT(o,l,s):(m=i.getQueryCache().get(o.queryHash))==null?void 0:m.promise;y==null||y.catch(vg).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?c:l.trackResult(c)}function dr(e,t){return cZ(e,YG)}function Xt(e,t){const r=qo(),[n]=S.useState(()=>new XG(r,e));S.useEffect(()=>{n.setOptions(e)},[n,e]);const s=S.useSyncExternalStore(S.useCallback(o=>n.subscribe(nv.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=S.useCallback((o,a)=>{n.mutate(o,a).catch(vg)},[n]);if(s.error&&iL(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const uZ="_zrHero_1fsok_1",dZ="_parchmentCard_1fsok_12",fZ="_zrHeroContent_1fsok_70",hZ="_zrTitle_1fsok_74",pZ="_zrQuote_1fsok_88",mZ="_zrIntro_1fsok_97",gZ="_zrCta_1fsok_105",yZ="_zrHeroArt_1fsok_123",vZ="_videoFire_1fsok_156",bZ="_prophecyMask_1fsok_168",xZ="_prophecyReel_1fsok_183",wZ="_prophecyReelSpinning_1fsok_189",_Z="_prophecyItem_1fsok_193",SZ="_englishText_1fsok_207",EZ="_zrSection_1fsok_256",jZ="_zrH2_1fsok_263",NZ="_srOnly_1fsok_279",kZ="_spinsIndicator_1fsok_286",CZ="_spinDot_1fsok_295",TZ="_spinDotActive_1fsok_322",it={zrHero:uZ,parchmentCard:dZ,zrHeroContent:fZ,zrTitle:hZ,zrQuote:pZ,zrIntro:mZ,zrCta:gZ,zrHeroArt:yZ,videoFire:vZ,prophecyMask:bZ,prophecyReel:xZ,prophecyReelSpinning:wZ,prophecyItem:_Z,englishText:SZ,zrSection:EZ,zrH2:jZ,srOnly:NZ,spinsIndicator:kZ,spinDot:CZ,spinDotActive:TZ},AZ=async()=>{const{data:e,error:t}=await he.from("homepage_content").select("*");if(t)throw new Error(t.message);return e},PZ=async()=>{const{data:e,error:t}=await he.from("posts").select("id, title, slug, content, created_at").eq("status","published").order("created_at",{ascending:!1}).limit(3);if(t)throw new Error(t.message);return e},OZ=async()=>{const{data:e,error:t}=await he.from("release_items").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e},DZ=({spinsLeft:e,setSpinsLeft:t})=>{const r=w.useRef(null),[n,s]=w.useState(!1),i=150,o=[{english:"Your heart is a compass that always points toward love—trust it, follow it, honor it."},{english:"You are not who you were yesterday unless you choose to be—each day offers the gift of becoming."},{english:"The friend of truth shall be the friend of my spirit, O Ahura Mazda. (Yasna 46.2)"},{english:"Every moment is sacred when approached with reverence, every task holy when performed with love."},{english:"The mind aligned with truth thinks God's thoughts after Him, sees with divine eyes, loves with cosmic heart."},{english:"May the beneficent spirit help us to speak truth and act righteously. (Yasna 47.6)"},{english:"Hope is the thing with feathers that perches in the soul and sings without words."},{english:"Self-knowledge is the beginning of wisdom, self-acceptance the foundation of growth."},{english:"Grant me, O Truth, the rewards of good thinking that bring joy and satisfaction. (Yasna 50.4)"},{english:"The sacred fire burns brightest in the heart that chooses truth over comfort. Let your conscience be the altar where right intention dwells."},{english:"Truth without compassion is cruelty; compassion without truth is sentimentality—balance both."},{english:"I praise You as the greatest and best, as the most beautiful, O Mazda Ahura. (Yasna 43.16)"},{english:"Truth is the architect of happiness, the foundation of peace, the cornerstone of wisdom. Build your life upon this rock."},{english:"The weight of moral choice is the proof of human dignity—angels don't choose, demons can't choose, but you can."},{english:"Plant seeds of hope in winter and trust them to bloom when spring returns to your life."},{english:"Appreciation is the highest form of prayer—seeing the divine in every blessing."},{english:"The future is not predetermined but is being written by every choice you make right now."},{english:"When shadows of doubt gather, kindle the inner flame of discernment. Fire purifies not by destroying, but by revealing what is true."},{english:"Begin each day as if it were your first—with wonder. End each day as if it were your last—with gratitude."},{english:"Morning brings the gift of choice renewed. Stand at the crossroads of thought and deed—which path serves the light?"},{english:"We invoke good thinking, truth, and the beneficent spirit of Ahura Mazda. (Yasna 37.4)"},{english:"Where truth flourishes, freedom follows; where freedom is genuine, truth is honored."},{english:"The divine dwells not only in temples but in every heart that welcomes it, every life that serves it."},{english:"The sacred fire asks no permission to burn, needs no fuel but truth, casts no shadow but illumination."},{english:"May we be instruments of peace, servants of truth, children of light. (Benediction)"},{english:"Let the fire within you remember the spark of dawn—every choice a new horizon to the world's unfolding. Walk in watchfulness, and the light of Good Mind will not fail you."},{english:"Devotion asks not what you can receive but what you can give, not what you deserve but what you can serve."},{english:"Freedom is not the absence of constraints but the presence of meaningful options."},{english:"Through the beneficent spirit, may we overcome all obstacles to righteousness. (Prayer)"},{english:"The light of understanding grows not by accumulating facts but by illuminating connections."},{english:"The peaceful heart creates peaceful surroundings; the harmonious soul attracts harmonious relationships."},{english:"I take refuge in good thinking, truth, and Your lordship, Mazda, from whom comes the most beneficent spirit. (Yasna 33.5)"},{english:"Rational thought and intuitive wisdom are not opposites but partners in the dance of understanding."},{english:"When you have the power to help and choose not to, you become complicit in the suffering you could have prevented."},{english:"Like a candle lights a thousand candles without diminishing, share your inner light freely with all."},{english:"You are both the author and the main character of your life story—write it well."},{english:"The good mind is not the mind that knows everything but the mind that remains open to learning."},{english:"The stranger is just a friend you haven't met yet, a teacher you haven't learned from yet, a gift you haven't unwrapped yet."},{english:"Those who seek to destroy my family and clan, Mazda, I put them in Your hands through good thinking and truth. (Yasna 48.8)"},{english:"I pray to You with outstretched hands, O Mazda, seeking Your help through the beneficent spirit. (Yasna 50.8)"},{english:"Every decision is a seed planted in the soil of time. What kind of forest are you growing?"},{english:"Devotion is gratitude in action, love expressing itself through loyal service."},{english:"The fire of truth burns away all that is false in you, leaving only what is real and precious."},{english:"The unexamined life scatters like leaves in the wind; the examined life grows deep roots in truth."},{english:"The arc of justice bends only when people like you choose to bend it—be a force for righteousness."},{english:"Choose as if your choice matters to everyone who will ever live—because it does."},{english:"When Good Mind came to me, I first learned to proclaim Your words, O Mazda. (Yasna 43.15)"},{english:"To You, the beneficent ones shall come for refuge, Mazda, not to the followers of falsehood. (Yasna 48.4)"},{english:"Understanding comes not from standing above others but from standing with them in shared humanity."},{english:"The doorway to wisdom opens inward—the journey begins when you stop looking outside and start looking within."},{english:"May we be worthy of Your friendship through righteous actions, O Mazda. (Yasna 46.6)"},{english:"This I ask You: tell me truly, Ahura—what craftsman created light and darkness? (Yasna 44.5)"},{english:"Harmony does not require uniformity—an orchestra creates beauty through coordinated differences."},{english:"May Ahura Mazda be praised! May the beneficent spirit be glorified! (Traditional praise)"},{english:"Wisdom whispers while foolishness shouts—train your ear to hear the quiet voice of truth."},{english:"The measure of a society is how it treats those who cannot defend themselves."},{english:"What doesn't challenge you doesn't change you; what doesn't stretch you doesn't strengthen you."},{english:"Fair is not everyone getting the same thing; fair is everyone getting what they need to thrive."},{english:"Through Your fire, show me the rewards that come through truth for both parties—those who uphold righteousness and those who do not. (Yasna 31.3)"},{english:"The world is changed not by those who point out what's wrong but by those who do what's right."},{english:"Service is love made visible, compassion made practical, faith made fruitful."},{english:"I have recognized You as beneficent through truth and good thinking, O Mazda. (Yasna 49.5)"},{english:"The holy is not somewhere else or some time else but here and now, in this place, at this moment."},{english:"Let your presence be a sanctuary where others can find rest from the storms of life."},{english:"Friendship is truth telling and burden sharing, celebration and consolation, walking together toward the light."},{english:"Small daily improvements lead to stunning yearly results—be consistent rather than dramatic."},{english:"The mind that dwells in truth becomes a sanctuary where peace is always available."},{english:"Your life is a sacred text written one choice at a time—make it a beautiful story."},{english:"Blessed is he who brings happiness to others through truth and good deeds. (Traditional blessing)"},{english:"You are the protector of the righteous, O Mazda, through Your beneficent spirit. (Yasna 47.3)"},{english:"This I ask You: tell me truly, Ahura—who established the path of the sun and stars? (Yasna 44.5)"},{english:"At the crossroads of decision, remember: you are always choosing not just for yourself but for all who will follow."},{english:"I approach You, O Mazda, with good thinking, so that You may grant me both the blessings of this existence and that of the spirit. (Yasna 28.4)"},{english:"Your life is your offering—what will you place on the altar of existence?"},{english:"Learning from others shortens your path to wisdom; teaching others deepens your own understanding."},{english:"Pure thoughts birth noble words; noble words inspire righteous deeds; righteous deeds purify thoughts in return."},{english:"Every meal is communion when shared with gratitude, every conversation prayer when spoken with love."},{english:"The freedom to choose your response to any situation is the last of human freedoms—exercise it wisely."},{english:"Your conscience is your connection to cosmic justice—honor it by living in alignment with its guidance."},{english:"Every sunrise is nature's way of saying, 'Try again'—accept the invitation with gratitude."},{english:"Truth is patient but not passive, gentle but not weak, humble but not uncertain of its worth."},{english:"Action without reflection is blind; reflection without action is empty; but action guided by reflection is transformative."},{english:"Righteousness is the best good. Happiness to him who is righteous for the sake of righteousness alone. (Ashem Vohu variation)"},{english:"Community is not a place but a relationship, not a location but a connection."},{english:"Good thinking leads to good feeling, good feeling leads to good willing, good willing leads to good living."},{english:"Every crossroads is a classroom, every decision a teacher, every consequence a lesson."},{english:"The present moment is the only moment over which you have power—make it count."},{english:"Hope is not naive optimism but courageous commitment to work for what ought to be."},{english:"Every mistake is a teacher in disguise, every failure a step toward success, every setback a setup for comeback."},{english:"The inner fire burns brightest not when fed by passion but when fueled by principle."},{english:"Your privilege is not your fault, but your responsibility. Use whatever advantages you have to lift others."},{english:"Through Your radiant fire, assign the destiny of the righteous and the unrighteous, O Mazda, that our teaching may spread among the living. (Yasna 31.19)"},{english:"Knowledge builds walls to separate us from ignorance; wisdom builds bridges to connect us with all beings."},{english:"As long as I have strength and power, I shall teach people to seek truth. (Yasna 45.4)"},{english:"The beneficent spirit manifests wherever love meets action. Be the hands and heart through which goodness enters the world."},{english:"The bounteous mentality sees abundance everywhere—in every sunrise, every breath, every opportunity to serve the good."},{english:"The mind illuminated by truth sees possibilities where others see only problems. Think with hope, and hope becomes reality."},{english:"Peace begins with each person choosing to be peaceful, harmony starts with each individual choosing to be harmonious."},{english:"Let gratitude be your first thought at dawn, your last thought at dusk, your constant companion throughout the day."},{english:"I realized You, Mazda, to be beneficent when I was encircled by Good Mind, when he taught me to proclaim: 'Let not men seek to please the followers of falsehood.' (Yasna 43.11)"},{english:"Compassion is not feeling sorry for others but feeling with them, sharing their burden until it becomes lighter."},{english:"Count your blessings, not your problems; focus on your gains, not your losses; see your progress, not your perfection."},{english:"Compassion is not pity from above but solidarity from within—suffer with, celebrate with, grow with."},{english:"At every moment you are choosing who you are becoming—choose the highest version of yourself."},{english:"Evening reflection is the mirror of morning intention. End as mindfully as you began."},{english:"True knowledge transforms the knower. If you remain unchanged by what you learn, you have learned nothing."},{english:"The paradox of freedom: you are most free when you choose to serve something greater than yourself."},{english:"The ripple effects of your actions extend far beyond what you can see—act as if the future depends on you."},{english:"The fire of wisdom burns without consuming. Feed it with honest reflection, and it will illumine your path forever."},{english:"Let your thoughts be seeds of kindness, your words be rain of encouragement, your deeds be sunshine of hope."},{english:"For whom did You create this earth and sky? Who made the luminaries and the darkness? (Yasna 29.1)"},{english:"Your presence in the world matters more than you know—show up fully, authentically, lovingly."},{english:"When the world seems broken beyond repair, remember that you are part of the repair."},{english:"The darkness is never permanent, the light is never extinguished completely. Keep the vigil."},{english:"To help the world progress, O Mazda, we have sought You through good thinking. (Yasna 30.6)"},{english:"Let your spirit be a fountain, not a drain. Pour out blessing upon blessing, and watch the desert of despair bloom."},{english:"Loneliness is the human condition; connection is the human choice. Choose connection."},{english:"For a wise Lord I knew You to be, Mazda, when Good Mind came to me and asked: 'Who are you? To whom do you belong?' (Yasna 43.7)"},{english:"True strength is not in never falling but in how gracefully you rise each time you fall."},{english:"Disorder is not the opposite of truth but its absence—fill the void with authentic being."},{english:"The path of wisdom begins with a single step: the decision to begin walking."},{english:"True justice considers not only what is legal but what is right, not only what is permitted but what is beneficial."},{english:"Grant me, O Mazda, through Your most beneficent spirit, through truth, the rewards of good thinking, through which I may bring joy to my supporters. (Yasna 28.11)"},{english:"The fire of Ahura Mazda brings light to the righteous and terror to the wicked. (Fire prayer)"},{english:"Your choices are your prayers—they reveal what you truly worship, what you genuinely value."},{english:"The false teacher leads people astray from the path of good thinking and truth. (Yasna 32.3)"},{english:"The phoenix rises not in spite of the ashes but because of them—let your failures fuel your renewal."},{english:"Forgiveness is not condoning what was wrong but choosing to be free from the burden of carrying resentment."},{english:"I praise good thoughts, good words, good deeds, and the good religion. (Fravarane prayer)"},{english:"The greatest among you will be your servant—greatness is measured by how much you give, not how much you get."},{english:"The morning star reminds us: even in the darkest hour, light is already on its way."},{english:"Where differences divide, find common ground; where similarities unite, celebrate diversity."},{english:"You who are Mazda, through Your spirit and fire, through truth and good thinking, grant me integrity and strength. (Yasna 28.7)"},{english:"In the garden of the heart, plant seeds of truthful speech. Words watered with wisdom bloom into lasting peace."},{english:"Your daily habits are votes for the type of person you wish to become—vote wisely."},{english:"May we receive the promised reward, the joy that comes from truth, O Mazda. (Yasna 33.11)"},{english:"Hope plants seeds in winter, trusting in the promise of spring."},{english:"You are not just in the community; the community is in you—you carry it wherever you go."},{english:"Your presence is often more healing than your words, your listening more valuable than your advice."},{english:"You are a unique note in the symphony of existence—play your part beautifully and boldly."},{english:"Bridge-builders are more valuable than wall-builders, peacemakers more needed than warriors."},{english:"Growth requires leaving your comfort zone regularly—comfort and growth cannot coexist."},{english:"But the righteous man chooses truth and good thinking as his allies. (Yasna 32.2)"},{english:"The threefold path begins in the silence of right thinking, flows through the beauty of truthful speech, and culminates in the power of loving action."},{english:"Truth needs no defense, only expression. Speak it simply and let its power do the rest."},{english:"Through good deeds may we come to You, O Mazda, with joy and gladness. (Yasna 50.10)"},{english:"I beheld You clearly in my mind's eye as the first one at the birth of life, when You made actions have consequences—evil for the evil, good reward for the good. (Yasna 43.5)"},{english:"Inner peace is not a luxury but a necessity, not a retreat from the world but preparation for effective engagement."},{english:"The wise heart holds both confidence and humility, certainty and openness, in perfect balance."},{english:"Your breath connects you to every living being—breathe consciously, live connectedly."},{english:"Whoever upholds truth most, whether man or woman, O Mazda Ahura, is most dear to You. (Yasna 46.11)"},{english:"Yes, there are two fundamental spirits, twins, renowned to be in conflict. In thought and word, in action, they are two: the good and the bad. Between these two, the beneficent have correctly chosen. (Yasna 30.3)"},{english:"Transformation happens not when you try to become someone else but when you become more fully yourself."},{english:"Where injustice flourishes, it is not enough to be personally righteous. Stand up, speak out, act decisively."},{english:"Then spoke Ahura Mazda: We have no pastor here who is both knowing and holy. (Yasna 29.6)"},{english:"The practice of gratitude transforms ordinary moments into sacred experiences."},{english:"Truth is like the sun—you cannot look directly at it for long, but it lights everything else."},{english:"I shall serve You with good thinking, with truth and righteous action, so that You may grant me that which leads to the straight path. (Yasna 28.5)"},{english:"May good thinking and truth dwell in our house forever, O Ahura Mazda. (Yasna 60.6)"},{english:"Look within with the same honesty you demand from others, the same compassion you show to friends."},{english:"The healing the world needs begins with the healing you give yourself—be gentle, be patient, be kind."},{english:"Hope is not a feeling but a decision—decide to hope and then live as if your hope is justified."},{english:"One chooses that rule of good thinking allied with truth in order to serve the beneficent spirit. (Yasna 51.18)"},{english:"The good mind is a gift that grows with giving. Share your wisdom freely, and watch understanding multiply among all beings."},{english:"When thought, word, and deed align like three rivers meeting, their combined power can move mountains of indifference."},{english:"The music of the spheres plays on—attune your heart to hear the cosmic symphony of love."},{english:"We rise by lifting others, we succeed by serving others, we find ourselves by losing ourselves in love."},{english:"The truth you speak has a past—it comes from your experience. Make sure that past is worthy of the truth."},{english:"The beneficent spirit breathes in every act of kindness. When you lift another's burden, you lighten the world."},{english:"Your talents are gifts to be shared, not treasures to be hoarded—invest them in making the world better."},{english:"The grateful heart attracts more to be grateful for—appreciation is the magnet for abundance."},{english:"The person who knows their weaknesses is stronger than the person who denies them."},{english:"May good fortune come through truth to those who proclaim these teachings, O Mazda. (Yasna 51.16)"},{english:"Meditation is the art of listening to the still small voice that whispers your deepest truth."},{english:"The most important choice you make each day is who you choose to become in that day."},{english:"Order emerges not from control but from harmony—the willing cooperation of free beings choosing good."},{english:"True intelligence is not the ability to solve problems but to see the connections between all things."},{english:"Thus speaks the maiden: 'You are the support of good thinking, of truth, and of the lordship desired by Mazda.' (Yasna 53.3)"},{english:"The spiral of growth means you will revisit the same lessons at deeper levels—embrace the journey."},{english:"When you choose increase over decrease, healing over harm, you align with the progressive spirit of creation itself."},{english:"When someone trusts you with their vulnerability, you hold sacred ground. Tread carefully and gratefully."},{english:"Renewal comes not from changing everything at once but from changing one thing completely."},{english:"When will the noble warriors come who shall drive out from here the thirst of the wicked? (Yasna 32.1)"},{english:"The sacred space is wherever you are when you remember who you really are and why you are here."},{english:"Good thinking, good words, and good deeds—these three bring a person to paradise, the best existence, light, and all good things. (Traditional summary)"},{english:"The progressive spirit never asks 'Why me?' but always 'How can I help?' Be an answer to someone's prayer today."},{english:"Then shall I recognize You as mighty, Mazda, when through good thinking You shall grant the blessings that the truthful and untruthful seek. (Yasna 45.8)"},{english:"I know You to be the first and the last, O Ahura Mazda—You are father of good thinking, creator of truth, judge of our actions. (Yasna 31.8)"},{english:"Wisdom is not knowing all the answers but asking better questions. Begin with: How can I serve?"},{english:"Conscience is the ember of the divine fire planted in every human heart—tend it carefully."},{english:"By Your beneficent spirit and by fire, O Mazda, show me truth and good thinking, through whose work one goes to Your abode. (Yasna 31.20)"},{english:"Come to my help, O Mazda, grant me strength through truth and good thinking. (Yasna 33.6)"},{english:"Through good deeds and righteous words, may we please Your spirit, O Mazda. (Yasna 49.10)"},{english:"Through truth we serve the Lord of Wisdom with good mind and beneficial action. (Summary verse)"},{english:"Service is not about being needed but about being useful, not about being thanked but about being trustworthy."},{english:"I who shall serve You with good thinking... may I thus bring solace to the soul of Earth. (Yasna 28.2)"},{english:"Holiness is not about being perfect but about being present, not about being pure but about being real."},{english:"May we be guides for those who seek the path of truth and righteousness. (Yasna 31.22)"},{english:"Wisdom is like water—it takes the shape of whatever vessel contains it, yet never loses its essence."},{english:"The enlightened mind is like clear water—it reflects perfectly what is, without adding or subtracting anything."},{english:"A thankful heart is a magnet for miracles, drawing goodness from the infinite storehouse of grace."},{english:"The pattern that connects all things is love expressing itself as truth, truth expressing itself as justice."},{english:"We are all connected—what helps one helps all, what harms one harms all."},{english:"Both bridegroom and bride, bring your minds into agreement for the practice of the best thoughts. (Yasna 53.4)"},{english:"The questions you ask shape the life you live—ask better questions, live a better life."},{english:"May the light of good thinking shine in our hearts forever. (Prayer verse)"},{english:"True self-knowledge includes knowing not just what you are but what you could become."},{english:"I know You to be mighty when You help me with good thinking, O Mazda Ahura. (Yasna 31.5)"},{english:"Justice is not revenge but restoration—making right what has been wrong, healing what has been harmed."},{english:"The sun rises not because you need it but because it is the nature of the sun to shine—be like the sun."},{english:"Justice is love applied to systems, compassion embodied in institutions, kindness made structural."},{english:"Grant victory to those who speak truth and live righteously, O Ahura Mazda. (Yasna 48.12)"},{english:"The journey inward is the most courageous journey—it requires facing yourself without flinching."},{english:"I have realized You as beneficent, Mazda Ahura, when You came to me with good thinking and asked: 'Who are you willing to please?' (Yasna 49.3)"},{english:"Each choice carves a channel for future choices to follow. Choose wisely what river you dig for tomorrow."},{english:"Therefore may we be among those who make this world fresh and new! (Yasna 30.9)"},{english:"Truth is the gravity of the moral universe—what goes up in lies must come down in consequences."},{english:"The weight of choice is the price of consciousness. Bear it gladly, for it makes you a partner in creation's unfolding."},{english:"This I ask You: Which is the first and which the last? (Yasna 44.6)"},{english:"Thank the sunrise for its faithfulness, the earth for its generosity, life for its infinite possibilities."},{english:"The sacred is not separate from the ordinary but hidden within it, waiting to be discovered."},{english:"Reflect with a clear mind—each person for themselves—before the Great Event of Choices. Awaken to this doctrine: there is no compromise between right and wrong. (Yasna 30.2)"},{english:"Your choices reveal your values more accurately than your words—choose as if your character depends on it."},{english:"You are not just in the world; the world is in you—take care of both."},{english:"Time is the canvas, your choices the paint, your life the masterpiece—create something beautiful."},{english:"I entrust my soul to You, O Mazda, seeking Your protection through good thinking. (Yasna 48.9)"},{english:"The isolated tree falls in the storm; the forest of trees stands strong together."},{english:"Sacred living means recognizing the extraordinary within the ordinary, the eternal within the temporal."},{english:"The arc of the moral universe bends toward justice only when conscious beings like you and me choose to bend it."},{english:"The cosmic order is written in every sunrise, every heartbeat, every act of genuine kindness."},{english:"This I ask You: Who holds up the earth below and keeps the sky from falling? (Yasna 44.4)"},{english:"Let the fire within purify your motives, clarify your vision, energize your compassion."},{english:"The strength of the individual is the community; the strength of the community is the individual."},{english:"The hands that heal are holier than the hands that pray without helping."},{english:"The grateful heart sees abundance everywhere; the ungrateful heart finds scarcity in plenty."},{english:"This I ask You: tell me truly, Ahura—how shall I drive deceit far from us who seek to promote truth in the world? (Yasna 51.4)"},{english:"Every ending contains a beginning; every death, a birth; every loss, an opportunity for growth."},{english:"Know yourself not to become self-absorbed but to become self-aware, not to focus inward but to focus clearly."},{english:"When these two spirits came together in the beginning, they established life and not-life, and how at the end the worst existence shall be for the followers of falsehood, but the best mind for the truthful. (Yasna 30.4)"},{english:"Wisdom is the art of living skillfully, the science of choosing well, the practice of loving wisely."},{english:"In the morning, set your mind like a compass toward truth; let all your steps follow this direction."},{english:"May Your fire shine forth to help the supporter of truth, O Mazda. (Yasna 34.4)"},{english:"The curious mind stays young, the learning heart stays open, the growing soul stays alive."},{english:"The bridge between what is and what could be is built with the materials of hope and hard work."},{english:"The mirror of self-reflection shows not what you want to see but what you need to see."},{english:"Let truth be our guide, good thinking our companion, right action our path. (Summary)"},{english:"The universe conspires to help those who help themselves and others—be part of the conspiracy of good."},{english:"Every act of love is a victory over the forces that diminish life—love boldly, love widely, love deeply."},{english:"The paradox of wisdom: the more you truly know, the more you realize how much you don't know."},{english:"Each day offers lessons if you are willing to be a student, opportunities if you are willing to try."},{english:"Justice is not just a destination but a journey—walk it one step at a time, one choice at a time."},{english:"The beginner's mind sees possibilities everywhere; the expert mind sees problems in everything."},{english:"Every choice is a prayer, every decision a vote for the kind of world you want to live in."},{english:"Justice delayed is often justice denied, but justice rushed is sometimes injustice accomplished. Seek the balanced way."},{english:"To what land to flee? Where shall I go to flee? They exclude me from family and clan. (Yasna 46.1)"},{english:"You are the one who rewards both the truthful and the untruthful according to their deeds. (Yasna 43.12)"},{english:"Who, Mazda, is the faithful friend of Your spirit? Let him teach me the straight paths of good thinking and of truth. (Yasna 47.4)"},{english:"With outstretched hands I pray to You, O Mazda, first of all through truth. (Yasna 28.1)"},{english:"Self-reflection without self-compassion becomes self-criticism; self-compassion without self-reflection becomes self-deception."},{english:"May good thinking reign supreme, may truth be established in the world. (Yasna 45.10)"},{english:"True belonging doesn't require you to change who you are; it requires you to be who you are."},{english:"When you light the lamp of compassion, you illuminate your own path as well as others'."},{english:"The order of existence rewards those who align with it, not to punish those who don't, but to heal what is broken."},{english:"The good mind seeks first to understand, then to be understood; first to serve, then to be served."},{english:"The trinity of human goodness—think well, speak well, act well—echoes the divine harmony that sustains all worlds."},{english:"Freedom is not the absence of consequences but the power to choose which consequences you will embrace."},{english:"Every moment is a fresh beginning, every breath a new chance, every choice a sacred opportunity."},{english:"Begin each day by asking: How can I make today better than yesterday? End each day by answering: How did I succeed?"},{english:"Through Your most beneficent spirit, O Mazda, I seek to do Your will. (Yasna 47.1)"},{english:"The greatest sermon is a life well-lived in service to truth, beauty, and goodness."},{english:"The deepest truth is often the most simple: be kind, be honest, be helpful, be present."},{english:"Peace is not the absence of conflict but the presence of justice, not the silence of oppression but the harmony of mutual respect."},{english:"The darkest night produces the brightest stars—your current darkness may be developing your greatest light."},{english:"Connection is the energy that exists between people when they feel seen, heard, and valued."},{english:"Like fire transforms wood to light, let your choices transform the world from what it is to what it should be."},{english:"Through good thinking, truth, and the spirit's power, they shall overcome the violence of the deceitful. (Yasna 32.16)"},{english:"The day unfolds like a scroll waiting to be written. What story will your choices tell?"},{english:"The gift of choice is also the burden of choice—embrace both aspects with equal courage."},{english:"The scales of justice are balanced not by equal punishment but by proportional restoration."},{english:"The seeds of tomorrow are planted in the soil of today—plant wisely."},{english:"Good thinking is the bridge between knowing and acting. Cross it with courage, and find yourself in the land of fulfillment."},{english:"I approach You, Mazda, with hands outstretched, with good thinking, with truth, hoping to please Your spirit with righteous actions. (Yasna 50.5)"},{english:"The heart that has been broken and healed is stronger than one that has never been tested."},{english:"Thanksgiving is not just a day but a way of life—live thankfully and you will have much to be thankful for."},{english:"Begin each day by asking: How shall I increase the good in the world through my being here?"},{english:"The wise person learns from everyone, teaches everyone, and judges no one harshly."},{english:"Each breath is a gift, each heartbeat a blessing, each moment an opportunity for thankfulness."},{english:"Like a lighthouse guides ships safely home, let your conscience guide you through moral storms to peaceful harbors."},{english:"Your legacy is not what you leave behind but what you build in others while you are here."},{english:"The growing edge is always uncomfortable—that's how you know you're growing."},{english:"We seek Your blessing through fire, through truth, through good thinking. (Yasna 36.3)"},{english:"This I ask You: tell me truly, Ahura—who was the first father of truth by begetting? (Yasna 44.3)"},{english:"Morning is creation's invitation to begin again. Accept it with gratitude and intentional presence."},{english:"Your conscience is the hearth of heaven—tend it with thoughts of justice, words of compassion, deeds of righteousness."},{english:"Your life may be a drop in the ocean, but without your drop the ocean would be less."},{english:"When moral darkness surrounds you, be the flame that others can navigate by."},{english:"Grant us, O Mazda, the straight paths of good thinking and truth. (Yasna 33.5)"},{english:"Your conscience is the sacred fire that never sleeps, never lies, never abandons you in darkness."},{english:"Your work in the world is your worship—do it with the reverence you would bring to the most sacred task."},{english:"True leadership is not about being served but about serving, not about having followers but about creating leaders."},{english:"Renewal comes not from changing your circumstances but from changing your relationship to your circumstances."},{english:"Speak to me as friend speaks to friend! Show me the supports on which both worlds rest. (Yasna 31.3)"},{english:"The light you seek is the light you are—stop looking for it and start being it."},{english:"Honesty is telling the truth to other people; integrity is telling the truth to yourself."},{english:"The wise person is not one who has never erred but one who learns from every mistake."},{english:"When the mind is clear like mountain water, right decisions flow naturally. Still the turbulent thoughts and find your center."},{english:"Through the beneficent spirit, Mazda, give me strength for good thinking, that I may find the straight paths of life. (Yasna 47.2)"},{english:"May we be among those who make this world progress, who are the healers of this world, O Mazda and You, O Truth. (Yasna 30.9)"},{english:"The wise Lord rewards those who serve truth with sincerity and devotion. (Teaching verse)"},{english:"The divine spark within you knows the difference between right and wrong—trust it, follow it, serve it."},{english:"The inner flame burns brightest when fed by deeds of righteousness, words of truth, thoughts of love."},{english:"The deepest wisdom is often the simplest truth, lived with complete sincerity."},{english:"Every person you meet is fighting a battle you know nothing about—be kind, be patient, be present."},{english:"The man of good life speaks to him of ill life: 'May your conscience torment you continuously!' (Yasna 46.11)"},{english:"The flame that burns for justice never consumes the just, only the injustice they oppose."},{english:"We approach You, O Ahura Mazda, with good thinking and truth, seeking Your blessing. (Yasna 34.1)"},{english:"Personal evolution is not about perfection but about progression, not about arrival but about journey."},{english:"Gratitude is the memory of the heart—it never forgets a kindness received or given."},{english:"I shall worship You with good thinking, O Mazda Ahura, so that You may teach me truth through Your spirit. (Yasna 45.6)"},{english:"Each dawn brings the covenant renewed: to think with clarity, speak with truth, act with love."},{english:"Kindness is the universal language that the deaf can hear and the blind can see."},{english:"Even in the darkest times, remember: you are here for a reason, at this time, in this place."},{english:"The phoenix is not reborn from ashes but through them—transformation requires embracing the fire."},{english:"As the first, O Mazda, You gave bodies and breath to the corporeal world through Your thought. (Yasna 31.11)"},{english:"Your inner fire is not yours alone—it is borrowed from the eternal flame that lights all worlds."},{english:"The river that moves you also moves through you—you are not separate from the flow of life."},{english:"The ultimate measure of your life is not what you accomplish but who you become."},{english:"The most precious gift you can give another person is your full, undivided, loving attention."},{english:"Truth is not a destination but a way of walking. Each step in harmony with what is right brings the world closer to wholeness."},{english:"May Ahura Mazda grant us that good which we seek through truth and good thinking. (Yasna 60.12)"},{english:"Gratitude turns what we have into enough, transforms ordinary days into thanksgivings, routine jobs into joy."},{english:"Love is the recognition that the other person's happiness is as important as your own—maybe more important."},{english:"Every person you meet is your teacher—some teach by example, others by cautionary tale."},{english:"Through righteousness may we attain that world of good thinking. (Yasna 34.15)"},{english:"The deceitful one chose to bring to realization the worst things. But the very beneficent spirit chose truth, and so shall those who satisfy the Wise Lord continuously with true actions. (Yasna 30.5)"},{english:"Each breath is a chance to choose life over death, hope over despair, love over fear."},{english:"True understanding comes not from accumulating facts but from seeing the patterns that connect all things."},{english:"Every act of service is a prayer, every moment of helpfulness a hymn, every gesture of kindness a blessing."},{english:"Where truth blooms, falsehood cannot take root. Cultivate the garden of your life with seeds of honesty and integrity."},{english:"The future is not fixed because you are still choosing—make your next choice count."},{english:"The most powerful force in the universe is a human being living in alignment with their highest truth."},{english:"When you see injustice and do nothing, you become part of the injustice—speak up, stand up, act up."},{english:"As rivers seek the sea, let your thoughts flow toward truth. In the silence of right action, wisdom speaks without words."},{english:"Your daily work is your temple, your loving relationships your prayer, your kind actions your worship."},{english:"The true order of existence is good; the most-good existence it is; desire it! Wish it! Happiness, bliss, enlightenment it is for that existence which is the true order of existence. (Ashem Vohu)"},{english:"The heart that has known pain is the heart most capable of healing others' pain."},{english:"Conflict is often the birth-pain of greater understanding—do not avoid it, but engage it constructively."},{english:"Clear thinking leads to clear speaking, which leads to clear acting. Begin each day by clarifying your deepest intentions."},{english:"The order of existence reveals itself to those who seek with sincere hearts. Look closely—truth hides in plain sight."},{english:"Let the actions of good thinking come to fruition for the man who teaches truth to Zarathustra. (Yasna 28.6)"},{english:"The loving man who brings help to the truthful, whether kinsman or fellow-member of the community, is in good accord with truth. (Yasna 46.2)"},{english:"When shall I know that You have power over those who cause harm to me, O Mazda? Let fire accompanied by good thinking make this known to me through truth. (Yasna 48.7)"},{english:"Clarity comes not from having all the answers but from asking the right questions."},{english:"Wisdom is knowing what to do; virtue is doing it; integrity is being consistent in both."},{english:"And when punishment comes to the wicked, then shall Your power be revealed to all, O Mazda. (Yasna 30.8)"},{english:"Your network is not about who can help you but who you can help, not who you know but who knows they can count on you."},{english:"Every ending is a new beginning in disguise—look for the hidden gift in every goodbye."},{english:"Through truth I complete my worship and my praise with actions, O Mazda Ahura. (Yasna 50.11)"},{english:"Where shall the righteous man find refuge when the wicked overwhelm the land? (Yasna 46.1)"},{english:"Like a river finds its course, truth finds its way through every obstacle. Be the clear channel through which it flows."},{english:"Every moment offers the great choice: will you add to the world's burden or its blessing? Choose consciously."},{english:"The rhythm of sunrise and sunset teaches the sacred pace of effort and rest, engagement and reflection."},{english:"Your fire, strong through truth, is a visible help to Your supporter, but visible harm to Your enemy, O Ahura Mazda. (Yasna 34.4)"},{english:"The soul of the earth cries out: For whom did You fashion me? Who created me? (Yasna 29.1)"},{english:"Service is the rent we pay for living on this planet—pay it gladly and generously."}],a=5,l=o.length,c=[];for(let h=0;h<a;h++)c.push(...o);const d=[...c.slice(c.length-l),...c,...c.slice(0,l)],f=async()=>{if(n||!r.current||e<=0){console.log("No spins left or already spinning.");return}console.log("handleSpin called");try{new Audio("/gear-click-351962.mp3").play().catch(v=>console.error("Error playing sound:",v))}catch(y){console.error("Error creating Audio object:",y)}s(!0),t(y=>y-1);const{data:{user:h}}=await he.auth.getUser();if(h){const y=new Date().toISOString().slice(0,10),{error:v}=await he.from("daily_spins").upsert({user_id:h.id,spin_date:y,spin_count:3-e+1},{onConflict:"user_id, spin_date"});v&&console.error("Error updating daily spin count:",v)}const p=Math.floor(Math.random()*o.length),m=(l+p+o.length*Math.floor(a/2))*i;r.current.classList.add(it.prophecyReelSpinning),r.current.style.transform=`translateY(-${m}px)`,setTimeout(()=>{if(!r.current)return;r.current.classList.remove(it.prophecyReelSpinning),r.current.style.transition="none";const y=p*i;r.current.style.transform=`translateY(-${y}px)`,r.current.offsetHeight,r.current.style.transition="transform 1.5s cubic-bezier(0.25, 1, 0.5, 1)",s(!1)},1600)};return u.jsx(u.Fragment,{children:u.jsx("div",{className:`${it.prophecyMask} ${it.englishMask}`,onClick:f,children:u.jsx("div",{ref:r,className:it.prophecyReel,children:d.map((h,p)=>u.jsx("div",{className:it.prophecyItem,children:u.jsx("span",{className:it.englishText,children:h.english})},p))})})})},RZ=({contentMap:e,spinsLeft:t,setSpinsLeft:r})=>{var o,a,l;const n=((o=e.get("hero_title"))==null?void 0:o.content)||"Zoroasterverse",s=((a=e.get("hero_quote"))==null?void 0:a.content)||"“Happiness comes to them who bring happiness to others.”",i=((l=e.get("hero_description"))==null?void 0:l.content)||"Learn about the teachings of the prophet Zarathustra, the history of one of the world’s oldest religions, and the principles of Good Thoughts, Good Words, and Good Deeds.";return u.jsxs("section",{id:"home",className:it.zrHero,children:[u.jsxs("div",{className:it.zrHeroContent,children:[u.jsx("h1",{className:it.zrTitle,children:n}),u.jsx("p",{className:it.zrQuote,children:s}),u.jsx("p",{className:it.zrIntro,children:i}),u.jsx(Rr,{className:it.zrCta,to:"/blog/about",children:"Learn More"})]}),u.jsxs("figure",{className:it.zrHeroArt,"aria-labelledby":"art-caption",children:[u.jsx("video",{src:"/200716-913538378.mp4",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:it.videoFire}),u.jsx("div",{className:it.spinsIndicator,children:[...Array(3)].map((c,d)=>u.jsx("div",{className:`${it.spinDot} ${d<t?it.spinDotActive:""}`},d))}),u.jsx(DZ,{spinsLeft:t,setSpinsLeft:r}),u.jsx("figcaption",{id:"art-caption",className:it.srOnly,children:"A stylized winged figure above a sacred fire."})]})]})},$Z=({posts:e})=>u.jsxs("section",{className:it.zrSection,children:[u.jsx("h2",{className:it.zrH2,children:"Latest News & Updates"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:e.map(t=>{const r=t.content.length>100?t.content.substring(0,100)+"...":t.content;return u.jsxs("div",{className:it.parchmentCard,children:[u.jsx("h3",{children:t.title}),u.jsx("p",{className:"mt-2",dangerouslySetInnerHTML:{__html:r}}),u.jsx(Rr,{to:`/blog/${t.slug}`,className:"mt-4 inline-block",children:"Read More"})]},t.id)})})]}),IZ=({releases:e})=>u.jsxs("section",{className:it.zrSection,children:[u.jsx("h2",{className:it.zrH2,children:"Latest Releases"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:e.map(t=>u.jsxs("div",{className:it.parchmentCard,children:[u.jsx("h3",{children:t.title}),u.jsxs("p",{className:"mt-2",children:["Type: ",t.type]}),u.jsx("a",{href:t.link||"#",className:"mt-4 inline-block",children:"View Details / Purchase"})]},t.id))})]}),MZ=()=>{var y,v,b,x;const{data:e,isLoading:t,isError:r}=dr({queryKey:["homepageContent"],queryFn:AZ}),{data:n,isLoading:s,isError:i}=dr({queryKey:["latestPosts"],queryFn:PZ}),{data:o,isLoading:a,isError:l}=dr({queryKey:["releaseItems"],queryFn:OZ}),[c,d]=w.useState(3),[f,h]=w.useState(null);w.useEffect(()=>{(async()=>{const{data:{user:_}}=await he.auth.getUser();if(!_){d(0);return}const N=new Date().toISOString().slice(0,10),{data:k,error:C}=await he.from("daily_spins").select("*").eq("user_id",_.id).eq("spin_date",N).single();if(C&&C.code!=="PGRST116"){console.error("Error fetching daily spins:",C),d(0);return}if(k)d(3-k.spin_count),h(k.spin_date);else{d(3),h(N);const{error:T}=await he.from("daily_spins").insert({user_id:_.id,spin_date:N,spin_count:0});T&&console.error("Error inserting new daily spin entry:",T)}})()},[]);const p=t||s||a,g=r||i||l;if(p)return u.jsx("div",{className:"text-center py-8",children:"Loading homepage content..."});if(g)return u.jsx("div",{className:"text-center py-8 text-red-400",children:"Error loading homepage content."});const m=new Map(e==null?void 0:e.map(E=>[E.section,E]));return u.jsxs("div",{children:[u.jsx(RZ,{contentMap:m,spinsLeft:c,setSpinsLeft:d}),u.jsxs("section",{className:it.zrSection,children:[u.jsx("h2",{className:it.zrH2,children:"Our Progress"}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 text-center",children:[u.jsxs("div",{className:it.parchmentCard,children:[u.jsx("h3",{className:"text-4xl font-bold text-primary",children:((y=m.get("statistics_words_written"))==null?void 0:y.content)||"0"}),u.jsx("p",{className:"text-muted-foreground",children:"Words Written"})]}),u.jsxs("div",{className:it.parchmentCard,children:[u.jsx("h3",{className:"text-4xl font-bold text-primary",children:((v=m.get("statistics_beta_readers"))==null?void 0:v.content)||"0"}),u.jsx("p",{className:"text-muted-foreground",children:"Beta Readers"})]}),u.jsxs("div",{className:it.parchmentCard,children:[u.jsx("h3",{className:"text-4xl font-bold text-primary",children:((b=m.get("statistics_average_rating"))==null?void 0:b.content)||"0"}),u.jsx("p",{className:"text-muted-foreground",children:"Average Rating"})]}),u.jsxs("div",{className:it.parchmentCard,children:[u.jsx("h3",{className:"text-4xl font-bold text-primary",children:((x=m.get("statistics_books_published"))==null?void 0:x.content)||"0"}),u.jsx("p",{className:"text-muted-foreground",children:"Books Published"})]})]})]}),u.jsx($Z,{posts:n||[]}),u.jsx(IZ,{releases:o||[]}),u.jsxs("section",{className:it.zrSection,children:[u.jsx("h2",{className:it.zrH2,children:"Artist Collaboration"}),u.jsxs("div",{className:"relative rounded-lg shadow-lg overflow-hidden w-full",children:[u.jsx("img",{src:"/images/invite_to_Colab_card.png",alt:"Artist Collaboration Invitation",className:"w-full h-full object-contain"}),u.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex flex-col items-center justify-center p-8",children:[u.jsx("h3",{className:"text-2xl font-bold text-white mb-4 text-shadow-md",children:"Join Our Creative Team!"}),u.jsx("p",{className:"text-white mb-6 text-shadow-sm",children:"We're looking for talented artists to help shape the visual identity of the Zangar/Spandam Series. Explore revenue-share opportunities and bring your vision to life."}),u.jsx(Rr,{to:"/artist-collaboration",className:"inline-block bg-primary hover:bg-primary-dark text-white font-bold py-3 px-6 rounded-lg transition duration-300 ease-in-out transform hover:scale-105",children:"Apply Now"})]})]})]})]})};function LZ(e){const t=e+"CollectionProvider",[r,n]=ud(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:y,children:v}=m,b=w.useRef(null),x=w.useRef(new Map).current;return u.jsx(s,{scope:y,itemMap:x,collectionRef:b,children:v})};o.displayName=t;const a=e+"CollectionSlot",l=Xf(a),c=w.forwardRef((m,y)=>{const{scope:v,children:b}=m,x=i(a,v),E=Rn(y,x.collectionRef);return u.jsx(l,{ref:E,children:b})});c.displayName=a;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=Xf(d),p=w.forwardRef((m,y)=>{const{scope:v,children:b,...x}=m,E=w.useRef(null),_=Rn(y,E),N=i(d,v);return w.useEffect(()=>(N.itemMap.set(E,{ref:E,...x}),()=>void N.itemMap.delete(E))),u.jsx(h,{[f]:"",ref:_,children:b})});p.displayName=d;function g(m){const y=i(e+"CollectionConsumer",m);return w.useCallback(()=>{const b=y.collectionRef.current;if(!b)return[];const x=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((N,k)=>x.indexOf(N.ref.current)-x.indexOf(k.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:c,ItemSlot:p},g,n]}var FZ=S.createContext(void 0);function lL(e){const t=S.useContext(FZ);return e||t||"ltr"}var x0="rovingFocusGroup.onEntryFocus",BZ={bubbles:!1,cancelable:!0},Yh="RovingFocusGroup",[Aw,cL,zZ]=LZ(Yh),[UZ,uL]=ud(Yh,[zZ]),[qZ,VZ]=UZ(Yh),dL=S.forwardRef((e,t)=>u.jsx(Aw.Provider,{scope:e.__scopeRovingFocusGroup,children:u.jsx(Aw.Slot,{scope:e.__scopeRovingFocusGroup,children:u.jsx(WZ,{...e,ref:t})})}));dL.displayName=Yh;var WZ=S.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...f}=e,h=S.useRef(null),p=Rn(t,h),g=lL(i),[m,y]=Hy({prop:o,defaultProp:a??null,onChange:l,caller:Yh}),[v,b]=S.useState(!1),x=Mu(c),E=cL(r),_=S.useRef(!1),[N,k]=S.useState(0);return S.useEffect(()=>{const C=h.current;if(C)return C.addEventListener(x0,x),()=>C.removeEventListener(x0,x)},[x]),u.jsx(qZ,{scope:r,orientation:n,dir:g,loop:s,currentTabStopId:m,onItemFocus:S.useCallback(C=>y(C),[y]),onItemShiftTab:S.useCallback(()=>b(!0),[]),onFocusableItemAdd:S.useCallback(()=>k(C=>C+1),[]),onFocusableItemRemove:S.useCallback(()=>k(C=>C-1),[]),children:u.jsx(Lr.div,{tabIndex:v||N===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:Nr(e.onMouseDown,()=>{_.current=!0}),onFocus:Nr(e.onFocus,C=>{const T=!_.current;if(C.target===C.currentTarget&&T&&!v){const $=new CustomEvent(x0,BZ);if(C.currentTarget.dispatchEvent($),!$.defaultPrevented){const M=E().filter(G=>G.focusable),L=M.find(G=>G.active),D=M.find(G=>G.id===m),U=[L,D,...M].filter(Boolean).map(G=>G.ref.current);pL(U,d)}}_.current=!1}),onBlur:Nr(e.onBlur,()=>b(!1))})})}),fL="RovingFocusGroupItem",hL=S.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:o,...a}=e,l=kf(),c=i||l,d=VZ(fL,r),f=d.currentTabStopId===c,h=cL(r),{onFocusableItemAdd:p,onFocusableItemRemove:g,currentTabStopId:m}=d;return S.useEffect(()=>{if(n)return p(),()=>g()},[n,p,g]),u.jsx(Aw.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:u.jsx(Lr.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...a,ref:t,onMouseDown:Nr(e.onMouseDown,y=>{n?d.onItemFocus(c):y.preventDefault()}),onFocus:Nr(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:Nr(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const v=YZ(y,d.orientation,d.dir);if(v!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let x=h().filter(E=>E.focusable).map(E=>E.ref.current);if(v==="last")x.reverse();else if(v==="prev"||v==="next"){v==="prev"&&x.reverse();const E=x.indexOf(y.currentTarget);x=d.loop?GZ(x,E+1):x.slice(E+1)}setTimeout(()=>pL(x))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:m!=null}):o})})});hL.displayName=fL;var KZ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function HZ(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function YZ(e,t,r){const n=HZ(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return KZ[n]}function pL(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function GZ(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var ZZ=dL,XZ=hL,sv="Tabs",[JZ,RRe]=ud(sv,[uL]),mL=uL(),[QZ,WS]=JZ(sv),gL=S.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=e,d=lL(a),[f,h]=Hy({prop:n,onChange:s,defaultProp:i??"",caller:sv});return u.jsx(QZ,{scope:r,baseId:kf(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:l,children:u.jsx(Lr.div,{dir:d,"data-orientation":o,...c,ref:t})})});gL.displayName=sv;var yL="TabsList",vL=S.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=WS(yL,r),o=mL(r);return u.jsx(ZZ,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:u.jsx(Lr.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});vL.displayName=yL;var bL="TabsTrigger",xL=S.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,o=WS(bL,r),a=mL(r),l=SL(o.baseId,n),c=EL(o.baseId,n),d=n===o.value;return u.jsx(XZ,{asChild:!0,...a,focusable:!s,active:d,children:u.jsx(Lr.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:t,onMouseDown:Nr(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:Nr(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:Nr(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(n)})})})});xL.displayName=bL;var wL="TabsContent",_L=S.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=e,a=WS(wL,r),l=SL(a.baseId,n),c=EL(a.baseId,n),d=n===a.value,f=S.useRef(d);return S.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),u.jsx(Vh,{present:s||d,children:({present:h})=>u.jsx(Lr.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:c,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});_L.displayName=wL;function SL(e,t){return`${e}-trigger-${t}`}function EL(e,t){return`${e}-content-${t}`}var eX=gL,jL=vL,NL=xL,kL=_L;const CL=eX,KS=S.forwardRef(({className:e,...t},r)=>u.jsx(jL,{ref:r,className:We("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));KS.displayName=jL.displayName;const Gc=S.forwardRef(({className:e,...t},r)=>u.jsx(NL,{ref:r,className:We("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Gc.displayName=NL.displayName;const Zc=S.forwardRef(({className:e,...t},r)=>u.jsx(kL,{ref:r,className:We("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Zc.displayName=kL.displayName;var Gh=e=>e.type==="checkbox",Sl=e=>e instanceof Date,mn=e=>e==null;const TL=e=>typeof e=="object";var tr=e=>!mn(e)&&!Array.isArray(e)&&TL(e)&&!Sl(e),AL=e=>tr(e)&&e.target?Gh(e.target)?e.target.checked:e.target.value:e,tX=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,PL=(e,t)=>e.has(tX(t)),rX=e=>{const t=e.constructor&&e.constructor.prototype;return tr(t)&&t.hasOwnProperty("isPrototypeOf")},HS=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function _r(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(HS&&(e instanceof Blob||n))&&(r||tr(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!rX(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=_r(e[s]));else return e;return t}var iv=e=>/^\w*$/.test(e),er=e=>e===void 0,YS=e=>Array.isArray(e)?e.filter(Boolean):[],GS=e=>YS(e.replace(/["|']|\]/g,"").split(/\.|\[/)),xe=(e,t,r)=>{if(!t||!tr(e))return r;const n=(iv(t)?[t]:GS(t)).reduce((s,i)=>mn(s)?s:s[i],e);return er(n)||n===e?er(e[t])?r:e[t]:n},Vn=e=>typeof e=="boolean",pt=(e,t,r)=>{let n=-1;const s=iv(t)?[t]:GS(t),i=s.length,o=i-1;for(;++n<i;){const a=s[n];let l=r;if(n!==o){const c=e[a];l=tr(c)||Array.isArray(c)?c:isNaN(+s[n+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;e[a]=l,e=e[a]}};const xg={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Xs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},io={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},OL=w.createContext(null);OL.displayName="HookFormContext";const ZS=()=>w.useContext(OL);var DL=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Xs.all&&(t._proxyFormState[o]=!n||Xs.all),r&&(r[o]=!0),e[o]}});return s};const XS=typeof window<"u"?w.useLayoutEffect:w.useEffect;function nX(e){const t=ZS(),{control:r=t.control,disabled:n,name:s,exact:i}=e||{},[o,a]=w.useState(r._formState),l=w.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return XS(()=>r._subscribe({name:s,formState:l.current,exact:i,callback:c=>{!n&&a({...r._formState,...c})}}),[s,n,i]),w.useEffect(()=>{l.current.isValid&&r._setValid(!0)},[r]),w.useMemo(()=>DL(o,r,l.current,!1),[o,r])}var ki=e=>typeof e=="string",RL=(e,t,r,n,s)=>ki(e)?(n&&t.watch.add(e),xe(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),xe(r,i))):(n&&(t.watchAll=!0),r),Pw=e=>mn(e)||!TL(e);function go(e,t,r=new WeakSet){if(Pw(e)||Pw(t))return e===t;if(Sl(e)&&Sl(t))return e.getTime()===t.getTime();const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const o=e[i];if(!s.includes(i))return!1;if(i!=="ref"){const a=t[i];if(Sl(o)&&Sl(a)||tr(o)&&tr(a)||Array.isArray(o)&&Array.isArray(a)?!go(o,a,r):o!==a)return!1}}return!0}function sX(e){const t=ZS(),{control:r=t.control,name:n,defaultValue:s,disabled:i,exact:o,compute:a}=e||{},l=w.useRef(s),c=w.useRef(a),d=w.useRef(void 0);c.current=a;const f=w.useMemo(()=>r._getWatch(n,l.current),[r,n]),[h,p]=w.useState(c.current?c.current(f):f);return XS(()=>r._subscribe({name:n,formState:{values:!0},exact:o,callback:g=>{if(!i){const m=RL(n,r._names,g.values||r._formValues,!1,l.current);if(c.current){const y=c.current(m);go(y,d.current)||(p(y),d.current=y)}else p(m)}}}),[r,i,n,o]),w.useEffect(()=>r._removeUnmounted()),h}function iX(e){const t=ZS(),{name:r,disabled:n,control:s=t.control,shouldUnregister:i,defaultValue:o}=e,a=PL(s._names.array,r),l=w.useMemo(()=>xe(s._formValues,r,xe(s._defaultValues,r,o)),[s,r,o]),c=sX({control:s,name:r,defaultValue:l,exact:!0}),d=nX({control:s,name:r,exact:!0}),f=w.useRef(e),h=w.useRef(s.register(r,{...e.rules,value:c,...Vn(e.disabled)?{disabled:e.disabled}:{}}));f.current=e;const p=w.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!xe(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!xe(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!xe(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!xe(d.validatingFields,r)},error:{enumerable:!0,get:()=>xe(d.errors,r)}}),[d,r]),g=w.useCallback(b=>h.current.onChange({target:{value:AL(b),name:r},type:xg.CHANGE}),[r]),m=w.useCallback(()=>h.current.onBlur({target:{value:xe(s._formValues,r),name:r},type:xg.BLUR}),[r,s._formValues]),y=w.useCallback(b=>{const x=xe(s._fields,r);x&&b&&(x._f.ref={focus:()=>b.focus&&b.focus(),select:()=>b.select&&b.select(),setCustomValidity:E=>b.setCustomValidity(E),reportValidity:()=>b.reportValidity()})},[s._fields,r]),v=w.useMemo(()=>({name:r,value:c,...Vn(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:g,onBlur:m,ref:y}),[r,n,d.disabled,g,m,y,c]);return w.useEffect(()=>{const b=s._options.shouldUnregister||i;s.register(r,{...f.current.rules,...Vn(f.current.disabled)?{disabled:f.current.disabled}:{}});const x=(E,_)=>{const N=xe(s._fields,E);N&&N._f&&(N._f.mount=_)};if(x(r,!0),b){const E=_r(xe(s._options.defaultValues,r));pt(s._defaultValues,r,E),er(xe(s._formValues,r))&&pt(s._formValues,r,E)}return!a&&s.register(r),()=>{(a?b&&!s._state.action:b)?s.unregister(r):x(r,!1)}},[r,s,a,i]),w.useEffect(()=>{s._setDisabledField({disabled:n,name:r})},[n,r,s]),w.useMemo(()=>({field:v,formState:d,fieldState:p}),[v,d,p])}const w0=e=>e.render(iX(e));var JS=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},Df=e=>Array.isArray(e)?e:[e],sT=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},Nn=e=>tr(e)&&!Object.keys(e).length,QS=e=>e.type==="file",Js=e=>typeof e=="function",wg=e=>{if(!HS)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},$L=e=>e.type==="select-multiple",eE=e=>e.type==="radio",oX=e=>eE(e)||Gh(e),_0=e=>wg(e)&&e.isConnected;function aX(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=er(e)?n++:e[t[n++]];return e}function lX(e){for(const t in e)if(e.hasOwnProperty(t)&&!er(e[t]))return!1;return!0}function lr(e,t){const r=Array.isArray(t)?t:iv(t)?[t]:GS(t),n=r.length===1?e:aX(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(tr(n)&&Nn(n)||Array.isArray(n)&&lX(n))&&lr(e,r.slice(0,-1)),e}var IL=e=>{for(const t in e)if(Js(e[t]))return!0;return!1};function _g(e,t={}){const r=Array.isArray(e);if(tr(e)||r)for(const n in e)Array.isArray(e[n])||tr(e[n])&&!IL(e[n])?(t[n]=Array.isArray(e[n])?[]:{},_g(e[n],t[n])):mn(e[n])||(t[n]=!0);return t}function ML(e,t,r){const n=Array.isArray(e);if(tr(e)||n)for(const s in e)Array.isArray(e[s])||tr(e[s])&&!IL(e[s])?er(t)||Pw(r[s])?r[s]=Array.isArray(e[s])?_g(e[s],[]):{..._g(e[s])}:ML(e[s],mn(t)?{}:t[s],r[s]):r[s]=!go(e[s],t[s]);return r}var Gd=(e,t)=>ML(e,t,_g(t));const iT={value:!1,isValid:!1},oT={value:!0,isValid:!0};var LL=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!er(e[0].attributes.value)?er(e[0].value)||e[0].value===""?oT:{value:e[0].value,isValid:!0}:oT:iT}return iT},FL=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>er(e)?e:t?e===""?NaN:e&&+e:r&&ki(e)?new Date(e):n?n(e):e;const aT={isValid:!1,value:null};var BL=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,aT):aT;function lT(e){const t=e.ref;return QS(t)?t.files:eE(t)?BL(e.refs).value:$L(t)?[...t.selectedOptions].map(({value:r})=>r):Gh(t)?LL(e.refs).value:FL(er(t.value)?e.ref.value:t.value,e)}var cX=(e,t,r,n)=>{const s={};for(const i of e){const o=xe(t,i);o&&pt(s,i,o._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},Sg=e=>e instanceof RegExp,Zd=e=>er(e)?e:Sg(e)?e.source:tr(e)?Sg(e.value)?e.value.source:e.value:e,cT=e=>({isOnSubmit:!e||e===Xs.onSubmit,isOnBlur:e===Xs.onBlur,isOnChange:e===Xs.onChange,isOnAll:e===Xs.all,isOnTouch:e===Xs.onTouched});const uT="AsyncFunction";var uX=e=>!!e&&!!e.validate&&!!(Js(e.validate)&&e.validate.constructor.name===uT||tr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===uT)),dX=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),dT=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Rf=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=xe(e,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Rf(a,t))break}else if(tr(a)&&Rf(a,t))break}}};function fT(e,t,r){const n=xe(e,r);if(n||iv(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),o=xe(t,i),a=xe(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(a&&a.type)return{name:i,error:a};if(a&&a.root&&a.root.type)return{name:`${i}.root`,error:a.root};s.pop()}return{name:r}}var fX=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return Nn(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||Xs.all))},hX=(e,t,r)=>!e||!t||e===t||Df(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),pX=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,mX=(e,t)=>!YS(xe(e,t)).length&&lr(e,t),gX=(e,t,r)=>{const n=Df(xe(e,r));return pt(n,"root",t[r]),pt(e,r,n),e},Hm=e=>ki(e);function hT(e,t,r="validate"){if(Hm(e)||Array.isArray(e)&&e.every(Hm)||Vn(e)&&!e)return{type:r,message:Hm(e)?e:"",ref:t}}var Dc=e=>tr(e)&&!Sg(e)?e:{value:e,message:""},pT=async(e,t,r,n,s,i)=>{const{ref:o,refs:a,required:l,maxLength:c,minLength:d,min:f,max:h,pattern:p,validate:g,name:m,valueAsNumber:y,mount:v}=e._f,b=xe(r,m);if(!v||t.has(m))return{};const x=a?a[0]:o,E=L=>{s&&x.reportValidity&&(x.setCustomValidity(Vn(L)?"":L||""),x.reportValidity())},_={},N=eE(o),k=Gh(o),C=N||k,T=(y||QS(o))&&er(o.value)&&er(b)||wg(o)&&o.value===""||b===""||Array.isArray(b)&&!b.length,$=JS.bind(null,m,n,_),M=(L,D,z,U=io.maxLength,G=io.minLength)=>{const q=L?D:z;_[m]={type:L?U:G,message:q,ref:o,...$(L?U:G,q)}};if(i?!Array.isArray(b)||!b.length:l&&(!C&&(T||mn(b))||Vn(b)&&!b||k&&!LL(a).isValid||N&&!BL(a).isValid)){const{value:L,message:D}=Hm(l)?{value:!!l,message:l}:Dc(l);if(L&&(_[m]={type:io.required,message:D,ref:x,...$(io.required,D)},!n))return E(D),_}if(!T&&(!mn(f)||!mn(h))){let L,D;const z=Dc(h),U=Dc(f);if(!mn(b)&&!isNaN(b)){const G=o.valueAsNumber||b&&+b;mn(z.value)||(L=G>z.value),mn(U.value)||(D=G<U.value)}else{const G=o.valueAsDate||new Date(b),q=R=>new Date(new Date().toDateString()+" "+R),Z=o.type=="time",ie=o.type=="week";ki(z.value)&&b&&(L=Z?q(b)>q(z.value):ie?b>z.value:G>new Date(z.value)),ki(U.value)&&b&&(D=Z?q(b)<q(U.value):ie?b<U.value:G<new Date(U.value))}if((L||D)&&(M(!!L,z.message,U.message,io.max,io.min),!n))return E(_[m].message),_}if((c||d)&&!T&&(ki(b)||i&&Array.isArray(b))){const L=Dc(c),D=Dc(d),z=!mn(L.value)&&b.length>+L.value,U=!mn(D.value)&&b.length<+D.value;if((z||U)&&(M(z,L.message,D.message),!n))return E(_[m].message),_}if(p&&!T&&ki(b)){const{value:L,message:D}=Dc(p);if(Sg(L)&&!b.match(L)&&(_[m]={type:io.pattern,message:D,ref:o,...$(io.pattern,D)},!n))return E(D),_}if(g){if(Js(g)){const L=await g(b,r),D=hT(L,x);if(D&&(_[m]={...D,...$(io.validate,D.message)},!n))return E(D.message),_}else if(tr(g)){let L={};for(const D in g){if(!Nn(L)&&!n)break;const z=hT(await g[D](b,r),x,D);z&&(L={...z,...$(D,z.message)},E(z.message),n&&(_[m]=L))}if(!Nn(L)&&(_[m]={ref:x,...L},!n))return _}}return E(!0),_};const yX={mode:Xs.onSubmit,reValidateMode:Xs.onChange,shouldFocusError:!0};function vX(e={}){let t={...yX,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Js(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=tr(t.defaultValues)||tr(t.values)?_r(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:_r(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:sT(),state:sT()},p=t.criteriaMode===Xs.all,g=I=>Y=>{clearTimeout(c),c=setTimeout(I,Y)},m=async I=>{if(!t.disabled&&(d.isValid||f.isValid||I)){const Y=t.resolver?Nn((await k()).errors):await T(n,!0);Y!==r.isValid&&h.state.next({isValid:Y})}},y=(I,Y)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((I||Array.from(a.mount)).forEach(J=>{J&&(Y?pt(r.validatingFields,J,Y):lr(r.validatingFields,J))}),h.state.next({validatingFields:r.validatingFields,isValidating:!Nn(r.validatingFields)}))},v=(I,Y=[],J,ve,pe=!0,me=!0)=>{if(ve&&J&&!t.disabled){if(o.action=!0,me&&Array.isArray(xe(n,I))){const Se=J(xe(n,I),ve.argA,ve.argB);pe&&pt(n,I,Se)}if(me&&Array.isArray(xe(r.errors,I))){const Se=J(xe(r.errors,I),ve.argA,ve.argB);pe&&pt(r.errors,I,Se),mX(r.errors,I)}if((d.touchedFields||f.touchedFields)&&me&&Array.isArray(xe(r.touchedFields,I))){const Se=J(xe(r.touchedFields,I),ve.argA,ve.argB);pe&&pt(r.touchedFields,I,Se)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=Gd(s,i)),h.state.next({name:I,isDirty:M(I,Y),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else pt(i,I,Y)},b=(I,Y)=>{pt(r.errors,I,Y),h.state.next({errors:r.errors})},x=I=>{r.errors=I,h.state.next({errors:r.errors,isValid:!1})},E=(I,Y,J,ve)=>{const pe=xe(n,I);if(pe){const me=xe(i,I,er(J)?xe(s,I):J);er(me)||ve&&ve.defaultChecked||Y?pt(i,I,Y?me:lT(pe._f)):z(I,me),o.mount&&m()}},_=(I,Y,J,ve,pe)=>{let me=!1,Se=!1;const Le={name:I};if(!t.disabled){if(!J||ve){(d.isDirty||f.isDirty)&&(Se=r.isDirty,r.isDirty=Le.isDirty=M(),me=Se!==Le.isDirty);const He=go(xe(s,I),Y);Se=!!xe(r.dirtyFields,I),He?lr(r.dirtyFields,I):pt(r.dirtyFields,I,!0),Le.dirtyFields=r.dirtyFields,me=me||(d.dirtyFields||f.dirtyFields)&&Se!==!He}if(J){const He=xe(r.touchedFields,I);He||(pt(r.touchedFields,I,J),Le.touchedFields=r.touchedFields,me=me||(d.touchedFields||f.touchedFields)&&He!==J)}me&&pe&&h.state.next(Le)}return me?Le:{}},N=(I,Y,J,ve)=>{const pe=xe(r.errors,I),me=(d.isValid||f.isValid)&&Vn(Y)&&r.isValid!==Y;if(t.delayError&&J?(l=g(()=>b(I,J)),l(t.delayError)):(clearTimeout(c),l=null,J?pt(r.errors,I,J):lr(r.errors,I)),(J?!go(pe,J):pe)||!Nn(ve)||me){const Se={...ve,...me&&Vn(Y)?{isValid:Y}:{},errors:r.errors,name:I};r={...r,...Se},h.state.next(Se)}},k=async I=>{y(I,!0);const Y=await t.resolver(i,t.context,cX(I||a.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return y(I),Y},C=async I=>{const{errors:Y}=await k(I);if(I)for(const J of I){const ve=xe(Y,J);ve?pt(r.errors,J,ve):lr(r.errors,J)}else r.errors=Y;return Y},T=async(I,Y,J={valid:!0})=>{for(const ve in I){const pe=I[ve];if(pe){const{_f:me,...Se}=pe;if(me){const Le=a.array.has(me.name),He=pe._f&&uX(pe._f);He&&d.validatingFields&&y([ve],!0);const Ut=await pT(pe,a.disabled,i,p,t.shouldUseNativeValidation&&!Y,Le);if(He&&d.validatingFields&&y([ve]),Ut[me.name]&&(J.valid=!1,Y))break;!Y&&(xe(Ut,me.name)?Le?gX(r.errors,Ut,me.name):pt(r.errors,me.name,Ut[me.name]):lr(r.errors,me.name))}!Nn(Se)&&await T(Se,Y,J)}}return J.valid},$=()=>{for(const I of a.unMount){const Y=xe(n,I);Y&&(Y._f.refs?Y._f.refs.every(J=>!_0(J)):!_0(Y._f.ref))&&te(I)}a.unMount=new Set},M=(I,Y)=>!t.disabled&&(I&&Y&&pt(i,I,Y),!go(R(),s)),L=(I,Y,J)=>RL(I,a,{...o.mount?i:er(Y)?s:ki(I)?{[I]:Y}:Y},J,Y),D=I=>YS(xe(o.mount?i:s,I,t.shouldUnregister?xe(s,I,[]):[])),z=(I,Y,J={})=>{const ve=xe(n,I);let pe=Y;if(ve){const me=ve._f;me&&(!me.disabled&&pt(i,I,FL(Y,me)),pe=wg(me.ref)&&mn(Y)?"":Y,$L(me.ref)?[...me.ref.options].forEach(Se=>Se.selected=pe.includes(Se.value)):me.refs?Gh(me.ref)?me.refs.forEach(Se=>{(!Se.defaultChecked||!Se.disabled)&&(Array.isArray(pe)?Se.checked=!!pe.find(Le=>Le===Se.value):Se.checked=pe===Se.value||!!pe)}):me.refs.forEach(Se=>Se.checked=Se.value===pe):QS(me.ref)?me.ref.value="":(me.ref.value=pe,me.ref.type||h.state.next({name:I,values:_r(i)})))}(J.shouldDirty||J.shouldTouch)&&_(I,pe,J.shouldTouch,J.shouldDirty,!0),J.shouldValidate&&ie(I)},U=(I,Y,J)=>{for(const ve in Y){if(!Y.hasOwnProperty(ve))return;const pe=Y[ve],me=I+"."+ve,Se=xe(n,me);(a.array.has(I)||tr(pe)||Se&&!Se._f)&&!Sl(pe)?U(me,pe,J):z(me,pe,J)}},G=(I,Y,J={})=>{const ve=xe(n,I),pe=a.array.has(I),me=_r(Y);pt(i,I,me),pe?(h.array.next({name:I,values:_r(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&J.shouldDirty&&h.state.next({name:I,dirtyFields:Gd(s,i),isDirty:M(I,me)})):ve&&!ve._f&&!mn(me)?U(I,me,J):z(I,me,J),dT(I,a)&&h.state.next({...r,name:I}),h.state.next({name:o.mount?I:void 0,values:_r(i)})},q=async I=>{o.mount=!0;const Y=I.target;let J=Y.name,ve=!0;const pe=xe(n,J),me=He=>{ve=Number.isNaN(He)||Sl(He)&&isNaN(He.getTime())||go(He,xe(i,J,He))},Se=cT(t.mode),Le=cT(t.reValidateMode);if(pe){let He,Ut;const Tt=Y.type?lT(pe._f):AL(I),zr=I.type===xg.BLUR||I.type===xg.FOCUS_OUT,yi=!dX(pe._f)&&!t.resolver&&!xe(r.errors,J)&&!pe._f.deps||pX(zr,xe(r.touchedFields,J),r.isSubmitted,Le,Se),ns=dT(J,a,zr);pt(i,J,Tt),zr?(!Y||!Y.readOnly)&&(pe._f.onBlur&&pe._f.onBlur(I),l&&l(0)):pe._f.onChange&&pe._f.onChange(I);const ss=_(J,Tt,zr),In=!Nn(ss)||ns;if(!zr&&h.state.next({name:J,type:I.type,values:_r(i)}),yi)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?zr&&m():zr||m()),In&&h.state.next({name:J,...ns?{}:ss});if(!zr&&ns&&h.state.next({...r}),t.resolver){const{errors:Gr}=await k([J]);if(me(Tt),ve){const un=fT(r.errors,n,J),Pr=fT(Gr,n,un.name||J);He=Pr.error,J=Pr.name,Ut=Nn(Gr)}}else y([J],!0),He=(await pT(pe,a.disabled,i,p,t.shouldUseNativeValidation))[J],y([J]),me(Tt),ve&&(He?Ut=!1:(d.isValid||f.isValid)&&(Ut=await T(n,!0)));ve&&(pe._f.deps&&ie(pe._f.deps),N(J,Ut,He,ss))}},Z=(I,Y)=>{if(xe(r.errors,Y)&&I.focus)return I.focus(),1},ie=async(I,Y={})=>{let J,ve;const pe=Df(I);if(t.resolver){const me=await C(er(I)?I:pe);J=Nn(me),ve=I?!pe.some(Se=>xe(me,Se)):J}else I?(ve=(await Promise.all(pe.map(async me=>{const Se=xe(n,me);return await T(Se&&Se._f?{[me]:Se}:Se)}))).every(Boolean),!(!ve&&!r.isValid)&&m()):ve=J=await T(n);return h.state.next({...!ki(I)||(d.isValid||f.isValid)&&J!==r.isValid?{}:{name:I},...t.resolver||!I?{isValid:J}:{},errors:r.errors}),Y.shouldFocus&&!ve&&Rf(n,Z,I?pe:a.mount),ve},R=I=>{const Y={...o.mount?i:s};return er(I)?Y:ki(I)?xe(Y,I):I.map(J=>xe(Y,J))},B=(I,Y)=>({invalid:!!xe((Y||r).errors,I),isDirty:!!xe((Y||r).dirtyFields,I),error:xe((Y||r).errors,I),isValidating:!!xe(r.validatingFields,I),isTouched:!!xe((Y||r).touchedFields,I)}),X=I=>{I&&Df(I).forEach(Y=>lr(r.errors,Y)),h.state.next({errors:I?r.errors:{}})},oe=(I,Y,J)=>{const ve=(xe(n,I,{_f:{}})._f||{}).ref,pe=xe(r.errors,I)||{},{ref:me,message:Se,type:Le,...He}=pe;pt(r.errors,I,{...He,...Y,ref:ve}),h.state.next({name:I,errors:r.errors,isValid:!1}),J&&J.shouldFocus&&ve&&ve.focus&&ve.focus()},W=(I,Y)=>Js(I)?h.state.subscribe({next:J=>"values"in J&&I(L(void 0,Y),J)}):L(I,Y,!0),K=I=>h.state.subscribe({next:Y=>{hX(I.name,Y.name,I.exact)&&fX(Y,I.formState||d,nt,I.reRenderRoot)&&I.callback({values:{...i},...r,...Y,defaultValues:s})}}).unsubscribe,ee=I=>(o.mount=!0,f={...f,...I.formState},K({...I,formState:f})),te=(I,Y={})=>{for(const J of I?Df(I):a.mount)a.mount.delete(J),a.array.delete(J),Y.keepValue||(lr(n,J),lr(i,J)),!Y.keepError&&lr(r.errors,J),!Y.keepDirty&&lr(r.dirtyFields,J),!Y.keepTouched&&lr(r.touchedFields,J),!Y.keepIsValidating&&lr(r.validatingFields,J),!t.shouldUnregister&&!Y.keepDefaultValue&&lr(s,J);h.state.next({values:_r(i)}),h.state.next({...r,...Y.keepDirty?{isDirty:M()}:{}}),!Y.keepIsValid&&m()},ue=({disabled:I,name:Y})=>{(Vn(I)&&o.mount||I||a.disabled.has(Y))&&(I?a.disabled.add(Y):a.disabled.delete(Y))},V=(I,Y={})=>{let J=xe(n,I);const ve=Vn(Y.disabled)||Vn(t.disabled);return pt(n,I,{...J||{},_f:{...J&&J._f?J._f:{ref:{name:I}},name:I,mount:!0,...Y}}),a.mount.add(I),J?ue({disabled:Vn(Y.disabled)?Y.disabled:t.disabled,name:I}):E(I,!0,Y.value),{...ve?{disabled:Y.disabled||t.disabled}:{},...t.progressive?{required:!!Y.required,min:Zd(Y.min),max:Zd(Y.max),minLength:Zd(Y.minLength),maxLength:Zd(Y.maxLength),pattern:Zd(Y.pattern)}:{},name:I,onChange:q,onBlur:q,ref:pe=>{if(pe){V(I,Y),J=xe(n,I);const me=er(pe.value)&&pe.querySelectorAll&&pe.querySelectorAll("input,select,textarea")[0]||pe,Se=oX(me),Le=J._f.refs||[];if(Se?Le.find(He=>He===me):me===J._f.ref)return;pt(n,I,{_f:{...J._f,...Se?{refs:[...Le.filter(_0),me,...Array.isArray(xe(s,I))?[{}]:[]],ref:{type:me.type,name:I}}:{ref:me}}}),E(I,!1,void 0,me)}else J=xe(n,I,{}),J._f&&(J._f.mount=!1),(t.shouldUnregister||Y.shouldUnregister)&&!(PL(a.array,I)&&o.action)&&a.unMount.add(I)}}},H=()=>t.shouldFocusError&&Rf(n,Z,a.mount),se=I=>{Vn(I)&&(h.state.next({disabled:I}),Rf(n,(Y,J)=>{const ve=xe(n,J);ve&&(Y.disabled=ve._f.disabled||I,Array.isArray(ve._f.refs)&&ve._f.refs.forEach(pe=>{pe.disabled=ve._f.disabled||I}))},0,!1))},O=(I,Y)=>async J=>{let ve;J&&(J.preventDefault&&J.preventDefault(),J.persist&&J.persist());let pe=_r(i);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:me,values:Se}=await k();r.errors=me,pe=_r(Se)}else await T(n);if(a.disabled.size)for(const me of a.disabled)lr(pe,me);if(lr(r.errors,"root"),Nn(r.errors)){h.state.next({errors:{}});try{await I(pe,J)}catch(me){ve=me}}else Y&&await Y({...r.errors},J),H(),setTimeout(H);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Nn(r.errors)&&!ve,submitCount:r.submitCount+1,errors:r.errors}),ve)throw ve},ye=(I,Y={})=>{xe(n,I)&&(er(Y.defaultValue)?G(I,_r(xe(s,I))):(G(I,Y.defaultValue),pt(s,I,_r(Y.defaultValue))),Y.keepTouched||lr(r.touchedFields,I),Y.keepDirty||(lr(r.dirtyFields,I),r.isDirty=Y.defaultValue?M(I,_r(xe(s,I))):M()),Y.keepError||(lr(r.errors,I),d.isValid&&m()),h.state.next({...r}))},je=(I,Y={})=>{const J=I?_r(I):s,ve=_r(J),pe=Nn(I),me=pe?s:ve;if(Y.keepDefaultValues||(s=J),!Y.keepValues){if(Y.keepDirtyValues){const Se=new Set([...a.mount,...Object.keys(Gd(s,i))]);for(const Le of Array.from(Se))xe(r.dirtyFields,Le)?pt(me,Le,xe(i,Le)):G(Le,xe(me,Le))}else{if(HS&&er(I))for(const Se of a.mount){const Le=xe(n,Se);if(Le&&Le._f){const He=Array.isArray(Le._f.refs)?Le._f.refs[0]:Le._f.ref;if(wg(He)){const Ut=He.closest("form");if(Ut){Ut.reset();break}}}}if(Y.keepFieldsRef)for(const Se of a.mount)G(Se,xe(me,Se));else n={}}i=t.shouldUnregister?Y.keepDefaultValues?_r(s):{}:_r(me),h.array.next({values:{...me}}),h.state.next({values:{...me}})}a={mount:Y.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!Y.keepIsValid||!!Y.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:Y.keepSubmitCount?r.submitCount:0,isDirty:pe?!1:Y.keepDirty?r.isDirty:!!(Y.keepDefaultValues&&!go(I,s)),isSubmitted:Y.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:pe?{}:Y.keepDirtyValues?Y.keepDefaultValues&&i?Gd(s,i):r.dirtyFields:Y.keepDefaultValues&&I?Gd(s,I):Y.keepDirty?r.dirtyFields:{},touchedFields:Y.keepTouched?r.touchedFields:{},errors:Y.keepErrors?r.errors:{},isSubmitSuccessful:Y.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},Be=(I,Y)=>je(Js(I)?I(i):I,Y),Ue=(I,Y={})=>{const J=xe(n,I),ve=J&&J._f;if(ve){const pe=ve.refs?ve.refs[0]:ve.ref;pe.focus&&(pe.focus(),Y.shouldSelect&&Js(pe.select)&&pe.select())}},nt=I=>{r={...r,...I}},Ct={control:{register:V,unregister:te,getFieldState:B,handleSubmit:O,setError:oe,_subscribe:K,_runSchema:k,_focusError:H,_getWatch:L,_getDirty:M,_setValid:m,_setFieldArray:v,_setDisabledField:ue,_setErrors:x,_getFieldArray:D,_reset:je,_resetDefaultValues:()=>Js(t.defaultValues)&&t.defaultValues().then(I=>{Be(I,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:$,_disableForm:se,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(I){o=I},get _defaultValues(){return s},get _names(){return a},set _names(I){a=I},get _formState(){return r},get _options(){return t},set _options(I){t={...t,...I}}},subscribe:ee,trigger:ie,register:V,handleSubmit:O,watch:W,setValue:G,getValues:R,reset:Be,resetField:ye,clearErrors:X,unregister:te,setError:oe,setFocus:Ue,getFieldState:B};return{...Ct,formControl:Ct}}function bX(e={}){const t=w.useRef(void 0),r=w.useRef(void 0),[n,s]=w.useState({isDirty:!1,isValidating:!1,isLoading:Js(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Js(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Js(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...a}=vX(e);t.current={...a,formState:n}}const i=t.current.control;return i._options=e,XS(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(a=>({...a,isReady:!0})),i._formState.isReady=!0,o},[i]),w.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),w.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),w.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),w.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),w.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),w.useEffect(()=>{e.values&&!go(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,s(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),w.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=DL(n,i),t.current}const mT=(e,t,r)=>{if(e&&"reportValidity"in e){const n=xe(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},Ow=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?mT(n.ref,r,e):n&&n.refs&&n.refs.forEach(s=>mT(s,r,e))}},gT=(e,t)=>{t.shouldUseNativeValidation&&Ow(e,t);const r={};for(const n in e){const s=xe(t.fields,n),i=Object.assign(e[n]||{},{ref:s&&s.ref});if(xX(t.names||Object.keys(e),n)){const o=Object.assign({},xe(r,n));pt(o,"root",i),pt(r,n,o)}else pt(r,n,i)}return r},xX=(e,t)=>{const r=yT(t);return e.some(n=>yT(n).match(`^${r}\\.\\d+`))};function yT(e){return e.replace(/\]|\[/g,"")}function fe(e,t,r){function n(a,l){var c;Object.defineProperty(a,"_zod",{value:a._zod??{},enumerable:!1}),(c=a._zod).traits??(c.traits=new Set),a._zod.traits.add(e),t(a,l);for(const d in o.prototype)d in a||Object.defineProperty(a,d,{value:o.prototype[d].bind(a)});a._zod.constr=o,a._zod.def=l}const s=(r==null?void 0:r.Parent)??Object;class i extends s{}Object.defineProperty(i,"name",{value:e});function o(a){var l;const c=r!=null&&r.Parent?new i:this;n(c,a),(l=c._zod).deferred??(l.deferred=[]);for(const d of c._zod.deferred)d();return c}return Object.defineProperty(o,"init",{value:n}),Object.defineProperty(o,Symbol.hasInstance,{value:a=>{var l,c;return r!=null&&r.Parent&&a instanceof r.Parent?!0:(c=(l=a==null?void 0:a._zod)==null?void 0:l.traits)==null?void 0:c.has(e)}}),Object.defineProperty(o,"name",{value:e}),o}class yu extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class zL extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const UL={};function Yl(e){return UL}function wX(e){const t=Object.values(e).filter(n=>typeof n=="number");return Object.entries(e).filter(([n,s])=>t.indexOf(+n)===-1).map(([n,s])=>s)}function Dw(e,t){return typeof t=="bigint"?t.toString():t}function tE(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function rE(e){return e==null}function nE(e){const t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}const vT=Symbol("evaluating");function kt(e,t,r){let n;Object.defineProperty(e,t,{get(){if(n!==vT)return n===void 0&&(n=vT,n=r()),n},set(s){Object.defineProperty(e,t,{value:s})},configurable:!0})}function _X(e){return Object.create(Object.getPrototypeOf(e),Object.getOwnPropertyDescriptors(e))}function Ha(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function fd(...e){const t={};for(const r of e){const n=Object.getOwnPropertyDescriptors(r);Object.assign(t,n)}return Object.defineProperties({},t)}function bT(e){return JSON.stringify(e)}const qL="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Eg(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const SX=tE(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function rh(e){if(Eg(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(Eg(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function VL(e){return rh(e)?{...e}:e}const EX=new Set(["string","number","symbol"]);function ov(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ya(e,t,r){const n=new e._zod.constr(t??e._zod.def);return(!t||r!=null&&r.parent)&&(n._zod.parent=e),n}function ze(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function jX(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}function NX(e,t){const r=e._zod.def,n=fd(e._zod.def,{get shape(){const s={};for(const i in t){if(!(i in r.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&(s[i]=r.shape[i])}return Ha(this,"shape",s),s},checks:[]});return Ya(e,n)}function kX(e,t){const r=e._zod.def,n=fd(e._zod.def,{get shape(){const s={...e._zod.def.shape};for(const i in t){if(!(i in r.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&delete s[i]}return Ha(this,"shape",s),s},checks:[]});return Ya(e,n)}function CX(e,t){if(!rh(t))throw new Error("Invalid input to extend: expected a plain object");const r=e._zod.def.checks;if(r&&r.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const s=fd(e._zod.def,{get shape(){const i={...e._zod.def.shape,...t};return Ha(this,"shape",i),i},checks:[]});return Ya(e,s)}function TX(e,t){if(!rh(t))throw new Error("Invalid input to safeExtend: expected a plain object");const r={...e._zod.def,get shape(){const n={...e._zod.def.shape,...t};return Ha(this,"shape",n),n},checks:e._zod.def.checks};return Ya(e,r)}function AX(e,t){const r=fd(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return Ha(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return Ya(e,r)}function PX(e,t,r){const n=fd(t._zod.def,{get shape(){const s=t._zod.def.shape,i={...s};if(r)for(const o in r){if(!(o in s))throw new Error(`Unrecognized key: "${o}"`);r[o]&&(i[o]=e?new e({type:"optional",innerType:s[o]}):s[o])}else for(const o in s)i[o]=e?new e({type:"optional",innerType:s[o]}):s[o];return Ha(this,"shape",i),i},checks:[]});return Ya(t,n)}function OX(e,t,r){const n=fd(t._zod.def,{get shape(){const s=t._zod.def.shape,i={...s};if(r)for(const o in r){if(!(o in i))throw new Error(`Unrecognized key: "${o}"`);r[o]&&(i[o]=new e({type:"nonoptional",innerType:s[o]}))}else for(const o in s)i[o]=new e({type:"nonoptional",innerType:s[o]});return Ha(this,"shape",i),i},checks:[]});return Ya(t,n)}function Xc(e,t=0){var r;if(e.aborted===!0)return!0;for(let n=t;n<e.issues.length;n++)if(((r=e.issues[n])==null?void 0:r.continue)!==!0)return!0;return!1}function WL(e,t){return t.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(e),r})}function Qp(e){return typeof e=="string"?e:e==null?void 0:e.message}function Gl(e,t,r){var s,i,o,a,l,c;const n={...e,path:e.path??[]};if(!e.message){const d=Qp((o=(i=(s=e.inst)==null?void 0:s._zod.def)==null?void 0:i.error)==null?void 0:o.call(i,e))??Qp((a=t==null?void 0:t.error)==null?void 0:a.call(t,e))??Qp((l=r.customError)==null?void 0:l.call(r,e))??Qp((c=r.localeError)==null?void 0:c.call(r,e))??"Invalid input";n.message=d}return delete n.inst,delete n.continue,t!=null&&t.reportInput||delete n.input,n}function sE(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function nh(...e){const[t,r,n]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:n}:{...t}}const KL=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Dw,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},iE=fe("$ZodError",KL),av=fe("$ZodError",KL,{Parent:Error});function DX(e,t=r=>r.message){const r={},n=[];for(const s of e.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):n.push(t(s));return{formErrors:n,fieldErrors:r}}function RX(e,t){const r=t||function(i){return i.message},n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(a=>s({issues:a}));else if(o.code==="invalid_key")s({issues:o.issues});else if(o.code==="invalid_element")s({issues:o.issues});else if(o.path.length===0)n._errors.push(r(o));else{let a=n,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(r(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return s(e),n}const lv=e=>(t,r,n,s)=>{const i=n?Object.assign(n,{async:!1}):{async:!1},o=t._zod.run({value:r,issues:[]},i);if(o instanceof Promise)throw new yu;if(o.issues.length){const a=new((s==null?void 0:s.Err)??e)(o.issues.map(l=>Gl(l,i,Yl())));throw qL(a,s==null?void 0:s.callee),a}return o.value},$X=lv(av),cv=e=>async(t,r,n,s)=>{const i=n?Object.assign(n,{async:!0}):{async:!0};let o=t._zod.run({value:r,issues:[]},i);if(o instanceof Promise&&(o=await o),o.issues.length){const a=new((s==null?void 0:s.Err)??e)(o.issues.map(l=>Gl(l,i,Yl())));throw qL(a,s==null?void 0:s.callee),a}return o.value},IX=cv(av),uv=e=>(t,r,n)=>{const s=n?{...n,async:!1}:{async:!1},i=t._zod.run({value:r,issues:[]},s);if(i instanceof Promise)throw new yu;return i.issues.length?{success:!1,error:new(e??iE)(i.issues.map(o=>Gl(o,s,Yl())))}:{success:!0,data:i.value}},MX=uv(av),dv=e=>async(t,r,n)=>{const s=n?Object.assign(n,{async:!0}):{async:!0};let i=t._zod.run({value:r,issues:[]},s);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new e(i.issues.map(o=>Gl(o,s,Yl())))}:{success:!0,data:i.value}},LX=dv(av),FX=e=>(t,r,n)=>{const s=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return lv(e)(t,r,s)},BX=e=>(t,r,n)=>lv(e)(t,r,n),zX=e=>async(t,r,n)=>{const s=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return cv(e)(t,r,s)},UX=e=>async(t,r,n)=>cv(e)(t,r,n),qX=e=>(t,r,n)=>{const s=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return uv(e)(t,r,s)},VX=e=>(t,r,n)=>uv(e)(t,r,n),WX=e=>async(t,r,n)=>{const s=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return dv(e)(t,r,s)},KX=e=>async(t,r,n)=>dv(e)(t,r,n),HX=/^[cC][^\s-]{8,}$/,YX=/^[0-9a-z]+$/,GX=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,ZX=/^[0-9a-vA-V]{20}$/,XX=/^[A-Za-z0-9]{27}$/,JX=/^[a-zA-Z0-9_-]{21}$/,QX=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,eJ=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,xT=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,tJ=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,rJ="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function nJ(){return new RegExp(rJ,"u")}const sJ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,iJ=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,oJ=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,aJ=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,lJ=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,HL=/^[A-Za-z0-9_-]*$/,cJ=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,uJ=/^\+(?:[0-9]){6,14}[0-9]$/,YL="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",dJ=new RegExp(`^${YL}$`);function GL(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function fJ(e){return new RegExp(`^${GL(e)}$`)}function hJ(e){const t=GL({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const n=`${t}(?:${r.join("|")})`;return new RegExp(`^${YL}T(?:${n})$`)}const pJ=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},mJ=/true|false/i,gJ=/^[^A-Z]*$/,yJ=/^[^a-z]*$/,Zi=fe("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),vJ=fe("$ZodCheckMaxLength",(e,t)=>{var r;Zi.init(e,t),(r=e._zod.def).when??(r.when=n=>{const s=n.value;return!rE(s)&&s.length!==void 0}),e._zod.onattach.push(n=>{const s=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<s&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const s=n.value;if(s.length<=t.maximum)return;const o=sE(s);n.issues.push({origin:o,code:"too_big",maximum:t.maximum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),bJ=fe("$ZodCheckMinLength",(e,t)=>{var r;Zi.init(e,t),(r=e._zod.def).when??(r.when=n=>{const s=n.value;return!rE(s)&&s.length!==void 0}),e._zod.onattach.push(n=>{const s=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>s&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const s=n.value;if(s.length>=t.minimum)return;const o=sE(s);n.issues.push({origin:o,code:"too_small",minimum:t.minimum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),xJ=fe("$ZodCheckLengthEquals",(e,t)=>{var r;Zi.init(e,t),(r=e._zod.def).when??(r.when=n=>{const s=n.value;return!rE(s)&&s.length!==void 0}),e._zod.onattach.push(n=>{const s=n._zod.bag;s.minimum=t.length,s.maximum=t.length,s.length=t.length}),e._zod.check=n=>{const s=n.value,i=s.length;if(i===t.length)return;const o=sE(s),a=i>t.length;n.issues.push({origin:o,...a?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),fv=fe("$ZodCheckStringFormat",(e,t)=>{var r,n;Zi.init(e,t),e._zod.onattach.push(s=>{const i=s._zod.bag;i.format=t.format,t.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=s=>{t.pattern.lastIndex=0,!t.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:t.format,input:s.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),wJ=fe("$ZodCheckRegex",(e,t)=>{fv.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),_J=fe("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=gJ),fv.init(e,t)}),SJ=fe("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=yJ),fv.init(e,t)}),EJ=fe("$ZodCheckIncludes",(e,t)=>{Zi.init(e,t);const r=ov(t.includes),n=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(s=>{const i=s._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=s=>{s.value.includes(t.includes,t.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:s.value,inst:e,continue:!t.abort})}}),jJ=fe("$ZodCheckStartsWith",(e,t)=>{Zi.init(e,t);const r=new RegExp(`^${ov(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const s=n._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),NJ=fe("$ZodCheckEndsWith",(e,t)=>{Zi.init(e,t);const r=new RegExp(`.*${ov(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const s=n._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}}),kJ=fe("$ZodCheckOverwrite",(e,t)=>{Zi.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});class CJ{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const n=t.split(`
`).filter(o=>o),s=Math.min(...n.map(o=>o.length-o.trimStart().length)),i=n.map(o=>o.slice(s)).map(o=>" ".repeat(this.indent*2)+o);for(const o of i)this.content.push(o)}compile(){const t=Function,r=this==null?void 0:this.args,s=[...((this==null?void 0:this.content)??[""]).map(i=>`  ${i}`)];return new t(...r,s.join(`
`))}}const TJ={major:4,minor:1,patch:3},gr=fe("$ZodType",(e,t)=>{var s;var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=TJ;const n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(const i of n)for(const o of i._zod.onattach)o(e);if(n.length===0)(r=e._zod).deferred??(r.deferred=[]),(s=e._zod.deferred)==null||s.push(()=>{e._zod.run=e._zod.parse});else{const i=(a,l,c)=>{let d=Xc(a),f;for(const h of l){if(h._zod.def.when){if(!h._zod.def.when(a))continue}else if(d)continue;const p=a.issues.length,g=h._zod.check(a);if(g instanceof Promise&&(c==null?void 0:c.async)===!1)throw new yu;if(f||g instanceof Promise)f=(f??Promise.resolve()).then(async()=>{await g,a.issues.length!==p&&(d||(d=Xc(a,p)))});else{if(a.issues.length===p)continue;d||(d=Xc(a,p))}}return f?f.then(()=>a):a},o=(a,l,c)=>{if(Xc(a))return a.aborted=!0,a;const d=i(l,n,c);if(d instanceof Promise){if(c.async===!1)throw new yu;return d.then(f=>e._zod.parse(f,c))}return e._zod.parse(d,c)};e._zod.run=(a,l)=>{if(l.skipChecks)return e._zod.parse(a,l);if(l.direction==="backward"){const d=e._zod.parse({value:a.value,issues:[]},{...l,skipChecks:!0});return d instanceof Promise?d.then(f=>o(f,a,l)):o(d,a,l)}const c=e._zod.parse(a,l);if(c instanceof Promise){if(l.async===!1)throw new yu;return c.then(d=>i(d,n,l))}return i(c,n,l)}}e["~standard"]={validate:i=>{var o;try{const a=MX(e,i);return a.success?{value:a.data}:{issues:(o=a.error)==null?void 0:o.issues}}catch{return LX(e,i).then(l=>{var c;return l.success?{value:l.data}:{issues:(c=l.error)==null?void 0:c.issues}})}},vendor:"zod",version:1}}),oE=fe("$ZodString",(e,t)=>{var r;gr.init(e,t),e._zod.pattern=[...((r=e==null?void 0:e._zod.bag)==null?void 0:r.patterns)??[]].pop()??pJ(e._zod.bag),e._zod.parse=(n,s)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),Bt=fe("$ZodStringFormat",(e,t)=>{fv.init(e,t),oE.init(e,t)}),AJ=fe("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=eJ),Bt.init(e,t)}),PJ=fe("$ZodUUID",(e,t)=>{if(t.version){const n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(n===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=xT(n))}else t.pattern??(t.pattern=xT());Bt.init(e,t)}),OJ=fe("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=tJ),Bt.init(e,t)}),DJ=fe("$ZodURL",(e,t)=>{Bt.init(e,t),e._zod.check=r=>{try{const n=r.value.trim(),s=new URL(n);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(s.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:cJ.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=s.href:r.value=n;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),RJ=fe("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=nJ()),Bt.init(e,t)}),$J=fe("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=JX),Bt.init(e,t)}),IJ=fe("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=HX),Bt.init(e,t)}),MJ=fe("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=YX),Bt.init(e,t)}),LJ=fe("$ZodULID",(e,t)=>{t.pattern??(t.pattern=GX),Bt.init(e,t)}),FJ=fe("$ZodXID",(e,t)=>{t.pattern??(t.pattern=ZX),Bt.init(e,t)}),BJ=fe("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=XX),Bt.init(e,t)}),zJ=fe("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=hJ(t)),Bt.init(e,t)}),UJ=fe("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=dJ),Bt.init(e,t)}),qJ=fe("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=fJ(t)),Bt.init(e,t)}),VJ=fe("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=QX),Bt.init(e,t)}),WJ=fe("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=sJ),Bt.init(e,t),e._zod.onattach.push(r=>{const n=r._zod.bag;n.format="ipv4"})}),KJ=fe("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=iJ),Bt.init(e,t),e._zod.onattach.push(r=>{const n=r._zod.bag;n.format="ipv6"}),e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),HJ=fe("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=oJ),Bt.init(e,t)}),YJ=fe("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=aJ),Bt.init(e,t),e._zod.check=r=>{const[n,s]=r.value.split("/");try{if(!s)throw new Error;const i=Number(s);if(`${i}`!==s)throw new Error;if(i<0||i>128)throw new Error;new URL(`http://[${n}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function ZL(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const GJ=fe("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=lJ),Bt.init(e,t),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64"}),e._zod.check=r=>{ZL(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function ZJ(e){if(!HL.test(e))return!1;const t=e.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return ZL(r)}const XJ=fe("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=HL),Bt.init(e,t),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64url"}),e._zod.check=r=>{ZJ(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),JJ=fe("$ZodE164",(e,t)=>{t.pattern??(t.pattern=uJ),Bt.init(e,t)});function QJ(e,t=null){try{const r=e.split(".");if(r.length!==3)return!1;const[n]=r;if(!n)return!1;const s=JSON.parse(atob(n));return!("typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&(!("alg"in s)||s.alg!==t))}catch{return!1}}const eQ=fe("$ZodJWT",(e,t)=>{Bt.init(e,t),e._zod.check=r=>{QJ(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),tQ=fe("$ZodBoolean",(e,t)=>{gr.init(e,t),e._zod.pattern=mJ,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=!!r.value}catch{}const s=r.value;return typeof s=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:s,inst:e}),r}}),rQ=fe("$ZodUnknown",(e,t)=>{gr.init(e,t),e._zod.parse=r=>r}),nQ=fe("$ZodNever",(e,t)=>{gr.init(e,t),e._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)});function wT(e,t,r){e.issues.length&&t.issues.push(...WL(r,e.issues)),t.value[r]=e.value}const sQ=fe("$ZodArray",(e,t)=>{gr.init(e,t),e._zod.parse=(r,n)=>{const s=r.value;if(!Array.isArray(s))return r.issues.push({expected:"array",code:"invalid_type",input:s,inst:e}),r;r.value=Array(s.length);const i=[];for(let o=0;o<s.length;o++){const a=s[o],l=t.element._zod.run({value:a,issues:[]},n);l instanceof Promise?i.push(l.then(c=>wT(c,r,o))):wT(l,r,o)}return i.length?Promise.all(i).then(()=>r):r}});function jg(e,t,r,n){e.issues.length&&t.issues.push(...WL(r,e.issues)),e.value===void 0?r in n&&(t.value[r]=void 0):t.value[r]=e.value}function XL(e){const t=Object.keys(e.shape);for(const n of t)if(!e.shape[n]._zod.traits.has("$ZodType"))throw new Error(`Invalid element at key "${n}": expected a Zod schema`);const r=jX(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)}}function JL(e,t,r,n,s,i){const o=[],a=s.keySet,l=s.catchall._zod,c=l.def.type;for(const d of Object.keys(t)){if(a.has(d))continue;if(c==="never"){o.push(d);continue}const f=l.run({value:t[d],issues:[]},n);f instanceof Promise?e.push(f.then(h=>jg(h,r,d,t))):jg(f,r,d,t)}return o.length&&r.issues.push({code:"unrecognized_keys",keys:o,input:t,inst:i}),e.length?Promise.all(e).then(()=>r):r}const iQ=fe("$ZodObject",(e,t)=>{gr.init(e,t);const r=tE(()=>XL(t));kt(e._zod,"propValues",()=>{const o=t.shape,a={};for(const l in o){const c=o[l]._zod;if(c.values){a[l]??(a[l]=new Set);for(const d of c.values)a[l].add(d)}}return a});const n=Eg,s=t.catchall;let i;e._zod.parse=(o,a)=>{i??(i=r.value);const l=o.value;if(!n(l))return o.issues.push({expected:"object",code:"invalid_type",input:l,inst:e}),o;o.value={};const c=[],d=i.shape;for(const f of i.keys){const p=d[f]._zod.run({value:l[f],issues:[]},a);p instanceof Promise?c.push(p.then(g=>jg(g,o,f,l))):jg(p,o,f,l)}return s?JL(c,l,o,a,r.value,e):c.length?Promise.all(c).then(()=>o):o}}),oQ=fe("$ZodObjectJIT",(e,t)=>{iQ.init(e,t);const r=e._zod.parse,n=tE(()=>XL(t)),s=h=>{const p=new CJ(["shape","payload","ctx"]),g=n.value,m=x=>{const E=bT(x);return`shape[${E}]._zod.run({ value: input[${E}], issues: [] }, ctx)`};p.write("const input = payload.value;");const y=Object.create(null);let v=0;for(const x of g.keys)y[x]=`key_${v++}`;p.write("const newResult = {}");for(const x of g.keys){const E=y[x],_=bT(x);p.write(`const ${E} = ${m(x)};`),p.write(`
        if (${E}.issues.length) {
          payload.issues = payload.issues.concat(${E}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${_}, ...iss.path] : [${_}]
          })));
        }
        
        if (${E}.value === undefined) {
          if (${_} in input) {
            newResult[${_}] = undefined;
          }
        } else {
          newResult[${_}] = ${E}.value;
        }
      `)}p.write("payload.value = newResult;"),p.write("return payload;");const b=p.compile();return(x,E)=>b(h,x,E)};let i;const o=Eg,a=!UL.jitless,c=a&&SX.value,d=t.catchall;let f;e._zod.parse=(h,p)=>{f??(f=n.value);const g=h.value;return o(g)?a&&c&&(p==null?void 0:p.async)===!1&&p.jitless!==!0?(i||(i=s(t.shape)),h=i(h,p),d?JL([],g,h,p,f,e):h):r(h,p):(h.issues.push({expected:"object",code:"invalid_type",input:g,inst:e}),h)}});function _T(e,t,r,n){for(const i of e)if(i.issues.length===0)return t.value=i.value,t;const s=e.filter(i=>!Xc(i));return s.length===1?(t.value=s[0].value,s[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(i=>i.issues.map(o=>Gl(o,n,Yl())))}),t)}const aQ=fe("$ZodUnion",(e,t)=>{gr.init(e,t),kt(e._zod,"optin",()=>t.options.some(s=>s._zod.optin==="optional")?"optional":void 0),kt(e._zod,"optout",()=>t.options.some(s=>s._zod.optout==="optional")?"optional":void 0),kt(e._zod,"values",()=>{if(t.options.every(s=>s._zod.values))return new Set(t.options.flatMap(s=>Array.from(s._zod.values)))}),kt(e._zod,"pattern",()=>{if(t.options.every(s=>s._zod.pattern)){const s=t.options.map(i=>i._zod.pattern);return new RegExp(`^(${s.map(i=>nE(i.source)).join("|")})$`)}});const r=t.options.length===1,n=t.options[0]._zod.run;e._zod.parse=(s,i)=>{if(r)return n(s,i);let o=!1;const a=[];for(const l of t.options){const c=l._zod.run({value:s.value,issues:[]},i);if(c instanceof Promise)a.push(c),o=!0;else{if(c.issues.length===0)return c;a.push(c)}}return o?Promise.all(a).then(l=>_T(l,s,e,i)):_T(a,s,e,i)}}),lQ=fe("$ZodIntersection",(e,t)=>{gr.init(e,t),e._zod.parse=(r,n)=>{const s=r.value,i=t.left._zod.run({value:s,issues:[]},n),o=t.right._zod.run({value:s,issues:[]},n);return i instanceof Promise||o instanceof Promise?Promise.all([i,o]).then(([l,c])=>ST(r,l,c)):ST(r,i,o)}});function Rw(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(rh(e)&&rh(t)){const r=Object.keys(t),n=Object.keys(e).filter(i=>r.indexOf(i)!==-1),s={...e,...t};for(const i of n){const o=Rw(e[i],t[i]);if(!o.valid)return{valid:!1,mergeErrorPath:[i,...o.mergeErrorPath]};s[i]=o.data}return{valid:!0,data:s}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let n=0;n<e.length;n++){const s=e[n],i=t[n],o=Rw(s,i);if(!o.valid)return{valid:!1,mergeErrorPath:[n,...o.mergeErrorPath]};r.push(o.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function ST(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),Xc(e))return e;const n=Rw(t.value,r.value);if(!n.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return e.value=n.data,e}const cQ=fe("$ZodEnum",(e,t)=>{gr.init(e,t);const r=wX(t.entries),n=new Set(r);e._zod.values=n,e._zod.pattern=new RegExp(`^(${r.filter(s=>EX.has(typeof s)).map(s=>typeof s=="string"?ov(s):s.toString()).join("|")})$`),e._zod.parse=(s,i)=>{const o=s.value;return n.has(o)||s.issues.push({code:"invalid_value",values:r,input:o,inst:e}),s}}),uQ=fe("$ZodTransform",(e,t)=>{gr.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new zL(e.constructor.name);const s=t.transform(r.value,r);if(n.async)return(s instanceof Promise?s:Promise.resolve(s)).then(o=>(r.value=o,r));if(s instanceof Promise)throw new yu;return r.value=s,r}});function ET(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const dQ=fe("$ZodOptional",(e,t)=>{gr.init(e,t),e._zod.optin="optional",e._zod.optout="optional",kt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),kt(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${nE(r.source)})?$`):void 0}),e._zod.parse=(r,n)=>{if(t.innerType._zod.optin==="optional"){const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(i=>ET(i,r.value)):ET(s,r.value)}return r.value===void 0?r:t.innerType._zod.run(r,n)}}),fQ=fe("$ZodNullable",(e,t)=>{gr.init(e,t),kt(e._zod,"optin",()=>t.innerType._zod.optin),kt(e._zod,"optout",()=>t.innerType._zod.optout),kt(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${nE(r.source)}|null)$`):void 0}),kt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,n)=>r.value===null?r:t.innerType._zod.run(r,n)}),hQ=fe("$ZodDefault",(e,t)=>{gr.init(e,t),e._zod.optin="optional",kt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);if(r.value===void 0)return r.value=t.defaultValue,r;const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(i=>jT(i,t)):jT(s,t)}});function jT(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const pQ=fe("$ZodPrefault",(e,t)=>{gr.init(e,t),e._zod.optin="optional",kt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>(n.direction==="backward"||r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,n))}),mQ=fe("$ZodNonOptional",(e,t)=>{gr.init(e,t),kt(e._zod,"values",()=>{const r=t.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),e._zod.parse=(r,n)=>{const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(i=>NT(i,e)):NT(s,e)}});function NT(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const gQ=fe("$ZodCatch",(e,t)=>{gr.init(e,t),kt(e._zod,"optin",()=>t.innerType._zod.optin),kt(e._zod,"optout",()=>t.innerType._zod.optout),kt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(i=>(r.value=i.value,i.issues.length&&(r.value=t.catchValue({...r,error:{issues:i.issues.map(o=>Gl(o,n,Yl()))},input:r.value}),r.issues=[]),r)):(r.value=s.value,s.issues.length&&(r.value=t.catchValue({...r,error:{issues:s.issues.map(i=>Gl(i,n,Yl()))},input:r.value}),r.issues=[]),r)}}),yQ=fe("$ZodPipe",(e,t)=>{gr.init(e,t),kt(e._zod,"values",()=>t.in._zod.values),kt(e._zod,"optin",()=>t.in._zod.optin),kt(e._zod,"optout",()=>t.out._zod.optout),kt(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{if(n.direction==="backward"){const i=t.out._zod.run(r,n);return i instanceof Promise?i.then(o=>em(o,t.in,n)):em(i,t.in,n)}const s=t.in._zod.run(r,n);return s instanceof Promise?s.then(i=>em(i,t.out,n)):em(s,t.out,n)}});function em(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}const vQ=fe("$ZodReadonly",(e,t)=>{gr.init(e,t),kt(e._zod,"propValues",()=>t.innerType._zod.propValues),kt(e._zod,"values",()=>t.innerType._zod.values),kt(e._zod,"optin",()=>t.innerType._zod.optin),kt(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(kT):kT(s)}});function kT(e){return e.value=Object.freeze(e.value),e}const bQ=fe("$ZodCustom",(e,t)=>{Zi.init(e,t),gr.init(e,t),e._zod.parse=(r,n)=>r,e._zod.check=r=>{const n=r.value,s=t.fn(n);if(s instanceof Promise)return s.then(i=>CT(i,r,n,e));CT(s,r,n,e)}});function CT(e,t,r,n){if(!e){const s={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(s.params=n._zod.def.params),t.issues.push(nh(s))}}class xQ{constructor(){this._map=new Map,this._idmap=new Map}add(t,...r){const n=r[0];if(this._map.set(t,n),n&&typeof n=="object"&&"id"in n){if(this._idmap.has(n.id))throw new Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,t)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(t){const r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){const r=t._zod.parent;if(r){const n={...this.get(r)??{}};delete n.id;const s={...n,...this._map.get(t)};return Object.keys(s).length?s:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function wQ(){return new xQ}const tm=wQ();function _Q(e,t){return new e({type:"string",...ze(t)})}function SQ(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...ze(t)})}function TT(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...ze(t)})}function EQ(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...ze(t)})}function jQ(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...ze(t)})}function NQ(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...ze(t)})}function kQ(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...ze(t)})}function CQ(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...ze(t)})}function TQ(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...ze(t)})}function AQ(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...ze(t)})}function PQ(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...ze(t)})}function OQ(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...ze(t)})}function DQ(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...ze(t)})}function RQ(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...ze(t)})}function $Q(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...ze(t)})}function IQ(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...ze(t)})}function MQ(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...ze(t)})}function LQ(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...ze(t)})}function FQ(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...ze(t)})}function BQ(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...ze(t)})}function zQ(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...ze(t)})}function UQ(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...ze(t)})}function qQ(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...ze(t)})}function VQ(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...ze(t)})}function WQ(e,t){return new e({type:"string",format:"date",check:"string_format",...ze(t)})}function KQ(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...ze(t)})}function HQ(e,t){return new e({type:"string",format:"duration",check:"string_format",...ze(t)})}function YQ(e,t){return new e({type:"boolean",...ze(t)})}function GQ(e){return new e({type:"unknown"})}function ZQ(e,t){return new e({type:"never",...ze(t)})}function QL(e,t){return new vJ({check:"max_length",...ze(t),maximum:e})}function Ng(e,t){return new bJ({check:"min_length",...ze(t),minimum:e})}function e4(e,t){return new xJ({check:"length_equals",...ze(t),length:e})}function XQ(e,t){return new wJ({check:"string_format",format:"regex",...ze(t),pattern:e})}function JQ(e){return new _J({check:"string_format",format:"lowercase",...ze(e)})}function QQ(e){return new SJ({check:"string_format",format:"uppercase",...ze(e)})}function eee(e,t){return new EJ({check:"string_format",format:"includes",...ze(t),includes:e})}function tee(e,t){return new jJ({check:"string_format",format:"starts_with",...ze(t),prefix:e})}function ree(e,t){return new NJ({check:"string_format",format:"ends_with",...ze(t),suffix:e})}function Zh(e){return new kJ({check:"overwrite",tx:e})}function nee(e){return Zh(t=>t.normalize(e))}function see(){return Zh(e=>e.trim())}function iee(){return Zh(e=>e.toLowerCase())}function oee(){return Zh(e=>e.toUpperCase())}function aee(e,t,r){return new e({type:"array",element:t,...ze(r)})}function lee(e,t,r){return new e({type:"custom",check:"custom",fn:t,...ze(r)})}function cee(e){const t=uee(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(nh(n,r.value,t._zod.def));else{const s=n;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=r.value),s.inst??(s.inst=t),s.continue??(s.continue=!t._zod.def.abort),r.issues.push(nh(s))}},e(r.value,r)));return t}function uee(e,t){const r=new Zi({check:"custom",...ze(t)});return r._zod.check=e,r}function AT(e,t){try{var r=e()}catch(n){return t(n)}return r&&r.then?r.then(void 0,t):r}function dee(e,t){for(var r={};e.length;){var n=e[0],s=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var a=n.unionErrors[0].errors[0];r[o]={message:a.message,type:a.code}}else r[o]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var l=r[o].types,c=l&&l[n.code];r[o]=JS(o,t,r,s,c?[].concat(c,n.message):n.message)}e.shift()}return r}function fee(e,t){for(var r={};e.length;){var n=e[0],s=n.code,i=n.message,o=n.path.join(".");if(!r[o])if(n.code==="invalid_union"&&n.errors.length>0){var a=n.errors[0][0];r[o]={message:a.message,type:a.code}}else r[o]={message:i,type:s};if(n.code==="invalid_union"&&n.errors.forEach(function(d){return d.forEach(function(f){return e.push(f)})}),t){var l=r[o].types,c=l&&l[n.code];r[o]=JS(o,t,r,s,c?[].concat(c,n.message):n.message)}e.shift()}return r}function hee(e,t,r){if(r===void 0&&(r={}),function(n){return"_def"in n&&typeof n._def=="object"&&"typeName"in n._def}(e))return function(n,s,i){try{return Promise.resolve(AT(function(){return Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(o){return i.shouldUseNativeValidation&&Ow({},i),{errors:{},values:r.raw?Object.assign({},n):o}})},function(o){if(function(a){return Array.isArray(a==null?void 0:a.issues)}(o))return{values:{},errors:gT(dee(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}};if(function(n){return"_zod"in n&&typeof n._zod=="object"}(e))return function(n,s,i){try{return Promise.resolve(AT(function(){return Promise.resolve((r.mode==="sync"?$X:IX)(e,n,t)).then(function(o){return i.shouldUseNativeValidation&&Ow({},i),{errors:{},values:r.raw?Object.assign({},n):o}})},function(o){if(function(a){return a instanceof iE}(o))return{values:{},errors:gT(fee(o.issues,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}};throw new Error("Invalid input: not a Zod schema")}const pee=fe("ZodISODateTime",(e,t)=>{zJ.init(e,t),Yt.init(e,t)});function mee(e){return VQ(pee,e)}const gee=fe("ZodISODate",(e,t)=>{UJ.init(e,t),Yt.init(e,t)});function yee(e){return WQ(gee,e)}const vee=fe("ZodISOTime",(e,t)=>{qJ.init(e,t),Yt.init(e,t)});function bee(e){return KQ(vee,e)}const xee=fe("ZodISODuration",(e,t)=>{VJ.init(e,t),Yt.init(e,t)});function wee(e){return HQ(xee,e)}const _ee=(e,t)=>{iE.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>RX(e,r)},flatten:{value:r=>DX(e,r)},addIssue:{value:r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,Dw,2)}},addIssues:{value:r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,Dw,2)}},isEmpty:{get(){return e.issues.length===0}}})},As=fe("ZodError",_ee,{Parent:Error}),See=lv(As),Eee=cv(As),jee=uv(As),Nee=dv(As),kee=FX(As),Cee=BX(As),Tee=zX(As),Aee=UX(As),Pee=qX(As),Oee=VX(As),Dee=WX(As),Ree=KX(As),kr=fe("ZodType",(e,t)=>(gr.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone({...t,checks:[...t.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]}),e.clone=(r,n)=>Ya(e,r,n),e.brand=()=>e,e.register=(r,n)=>(r.add(e,n),e),e.parse=(r,n)=>See(e,r,n,{callee:e.parse}),e.safeParse=(r,n)=>jee(e,r,n),e.parseAsync=async(r,n)=>Eee(e,r,n,{callee:e.parseAsync}),e.safeParseAsync=async(r,n)=>Nee(e,r,n),e.spa=e.safeParseAsync,e.encode=(r,n)=>kee(e,r,n),e.decode=(r,n)=>Cee(e,r,n),e.encodeAsync=async(r,n)=>Tee(e,r,n),e.decodeAsync=async(r,n)=>Aee(e,r,n),e.safeEncode=(r,n)=>Pee(e,r,n),e.safeDecode=(r,n)=>Oee(e,r,n),e.safeEncodeAsync=async(r,n)=>Dee(e,r,n),e.safeDecodeAsync=async(r,n)=>Ree(e,r,n),e.refine=(r,n)=>e.check(Ete(r,n)),e.superRefine=r=>e.check(jte(r)),e.overwrite=r=>e.check(Zh(r)),e.optional=()=>RT(e),e.nullable=()=>$T(e),e.nullish=()=>RT($T(e)),e.nonoptional=r=>yte(e,r),e.array=()=>r4(e),e.or=r=>ate([e,r]),e.and=r=>cte(e,r),e.transform=r=>IT(e,dte(r)),e.default=r=>pte(e,r),e.prefault=r=>gte(e,r),e.catch=r=>bte(e,r),e.pipe=r=>IT(e,r),e.readonly=()=>_te(e),e.describe=r=>{const n=e.clone();return tm.add(n,{description:r}),n},Object.defineProperty(e,"description",{get(){var r;return(r=tm.get(e))==null?void 0:r.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return tm.get(e);const n=e.clone();return tm.add(n,r[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),t4=fe("_ZodString",(e,t)=>{oE.init(e,t),kr.init(e,t);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...n)=>e.check(XQ(...n)),e.includes=(...n)=>e.check(eee(...n)),e.startsWith=(...n)=>e.check(tee(...n)),e.endsWith=(...n)=>e.check(ree(...n)),e.min=(...n)=>e.check(Ng(...n)),e.max=(...n)=>e.check(QL(...n)),e.length=(...n)=>e.check(e4(...n)),e.nonempty=(...n)=>e.check(Ng(1,...n)),e.lowercase=n=>e.check(JQ(n)),e.uppercase=n=>e.check(QQ(n)),e.trim=()=>e.check(see()),e.normalize=(...n)=>e.check(nee(...n)),e.toLowerCase=()=>e.check(iee()),e.toUpperCase=()=>e.check(oee())}),$ee=fe("ZodString",(e,t)=>{oE.init(e,t),t4.init(e,t),e.email=r=>e.check(SQ(Iee,r)),e.url=r=>e.check(CQ(Mee,r)),e.jwt=r=>e.check(qQ(Jee,r)),e.emoji=r=>e.check(TQ(Lee,r)),e.guid=r=>e.check(TT(PT,r)),e.uuid=r=>e.check(EQ(nm,r)),e.uuidv4=r=>e.check(jQ(nm,r)),e.uuidv6=r=>e.check(NQ(nm,r)),e.uuidv7=r=>e.check(kQ(nm,r)),e.nanoid=r=>e.check(AQ(Fee,r)),e.guid=r=>e.check(TT(PT,r)),e.cuid=r=>e.check(PQ(Bee,r)),e.cuid2=r=>e.check(OQ(zee,r)),e.ulid=r=>e.check(DQ(Uee,r)),e.base64=r=>e.check(BQ(Gee,r)),e.base64url=r=>e.check(zQ(Zee,r)),e.xid=r=>e.check(RQ(qee,r)),e.ksuid=r=>e.check($Q(Vee,r)),e.ipv4=r=>e.check(IQ(Wee,r)),e.ipv6=r=>e.check(MQ(Kee,r)),e.cidrv4=r=>e.check(LQ(Hee,r)),e.cidrv6=r=>e.check(FQ(Yee,r)),e.e164=r=>e.check(UQ(Xee,r)),e.datetime=r=>e.check(mee(r)),e.date=r=>e.check(yee(r)),e.time=r=>e.check(bee(r)),e.duration=r=>e.check(wee(r))});function rm(e){return _Q($ee,e)}const Yt=fe("ZodStringFormat",(e,t)=>{Bt.init(e,t),t4.init(e,t)}),Iee=fe("ZodEmail",(e,t)=>{OJ.init(e,t),Yt.init(e,t)}),PT=fe("ZodGUID",(e,t)=>{AJ.init(e,t),Yt.init(e,t)}),nm=fe("ZodUUID",(e,t)=>{PJ.init(e,t),Yt.init(e,t)}),Mee=fe("ZodURL",(e,t)=>{DJ.init(e,t),Yt.init(e,t)}),Lee=fe("ZodEmoji",(e,t)=>{RJ.init(e,t),Yt.init(e,t)}),Fee=fe("ZodNanoID",(e,t)=>{$J.init(e,t),Yt.init(e,t)}),Bee=fe("ZodCUID",(e,t)=>{IJ.init(e,t),Yt.init(e,t)}),zee=fe("ZodCUID2",(e,t)=>{MJ.init(e,t),Yt.init(e,t)}),Uee=fe("ZodULID",(e,t)=>{LJ.init(e,t),Yt.init(e,t)}),qee=fe("ZodXID",(e,t)=>{FJ.init(e,t),Yt.init(e,t)}),Vee=fe("ZodKSUID",(e,t)=>{BJ.init(e,t),Yt.init(e,t)}),Wee=fe("ZodIPv4",(e,t)=>{WJ.init(e,t),Yt.init(e,t)}),Kee=fe("ZodIPv6",(e,t)=>{KJ.init(e,t),Yt.init(e,t)}),Hee=fe("ZodCIDRv4",(e,t)=>{HJ.init(e,t),Yt.init(e,t)}),Yee=fe("ZodCIDRv6",(e,t)=>{YJ.init(e,t),Yt.init(e,t)}),Gee=fe("ZodBase64",(e,t)=>{GJ.init(e,t),Yt.init(e,t)}),Zee=fe("ZodBase64URL",(e,t)=>{XJ.init(e,t),Yt.init(e,t)}),Xee=fe("ZodE164",(e,t)=>{JJ.init(e,t),Yt.init(e,t)}),Jee=fe("ZodJWT",(e,t)=>{eQ.init(e,t),Yt.init(e,t)}),Qee=fe("ZodBoolean",(e,t)=>{tQ.init(e,t),kr.init(e,t)});function ete(e){return YQ(Qee,e)}const tte=fe("ZodUnknown",(e,t)=>{rQ.init(e,t),kr.init(e,t)});function OT(){return GQ(tte)}const rte=fe("ZodNever",(e,t)=>{nQ.init(e,t),kr.init(e,t)});function nte(e){return ZQ(rte,e)}const ste=fe("ZodArray",(e,t)=>{sQ.init(e,t),kr.init(e,t),e.element=t.element,e.min=(r,n)=>e.check(Ng(r,n)),e.nonempty=r=>e.check(Ng(1,r)),e.max=(r,n)=>e.check(QL(r,n)),e.length=(r,n)=>e.check(e4(r,n)),e.unwrap=()=>e.element});function r4(e,t){return aee(ste,e,t)}const ite=fe("ZodObject",(e,t)=>{oQ.init(e,t),kr.init(e,t),kt(e,"shape",()=>t.shape),e.keyof=()=>Iw(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:OT()}),e.loose=()=>e.clone({...e._zod.def,catchall:OT()}),e.strict=()=>e.clone({...e._zod.def,catchall:nte()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>CX(e,r),e.safeExtend=r=>TX(e,r),e.merge=r=>AX(e,r),e.pick=r=>NX(e,r),e.omit=r=>kX(e,r),e.partial=(...r)=>PX(n4,e,r[0]),e.required=(...r)=>OX(s4,e,r[0])});function DT(e,t){const r={type:"object",get shape(){return Ha(this,"shape",e?_X(e):{}),this.shape},...ze(t)};return new ite(r)}const ote=fe("ZodUnion",(e,t)=>{aQ.init(e,t),kr.init(e,t),e.options=t.options});function ate(e,t){return new ote({type:"union",options:e,...ze(t)})}const lte=fe("ZodIntersection",(e,t)=>{lQ.init(e,t),kr.init(e,t)});function cte(e,t){return new lte({type:"intersection",left:e,right:t})}const $w=fe("ZodEnum",(e,t)=>{cQ.init(e,t),kr.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const r=new Set(Object.keys(t.entries));e.extract=(n,s)=>{const i={};for(const o of n)if(r.has(o))i[o]=t.entries[o];else throw new Error(`Key ${o} not found in enum`);return new $w({...t,checks:[],...ze(s),entries:i})},e.exclude=(n,s)=>{const i={...t.entries};for(const o of n)if(r.has(o))delete i[o];else throw new Error(`Key ${o} not found in enum`);return new $w({...t,checks:[],...ze(s),entries:i})}});function Iw(e,t){const r=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new $w({type:"enum",entries:r,...ze(t)})}const ute=fe("ZodTransform",(e,t)=>{uQ.init(e,t),kr.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new zL(e.constructor.name);r.addIssue=i=>{if(typeof i=="string")r.issues.push(nh(i,r.value,t));else{const o=i;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=r.value),o.inst??(o.inst=e),r.issues.push(nh(o))}};const s=t.transform(r.value,r);return s instanceof Promise?s.then(i=>(r.value=i,r)):(r.value=s,r)}});function dte(e){return new ute({type:"transform",transform:e})}const n4=fe("ZodOptional",(e,t)=>{dQ.init(e,t),kr.init(e,t),e.unwrap=()=>e._zod.def.innerType});function RT(e){return new n4({type:"optional",innerType:e})}const fte=fe("ZodNullable",(e,t)=>{fQ.init(e,t),kr.init(e,t),e.unwrap=()=>e._zod.def.innerType});function $T(e){return new fte({type:"nullable",innerType:e})}const hte=fe("ZodDefault",(e,t)=>{hQ.init(e,t),kr.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function pte(e,t){return new hte({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():VL(t)}})}const mte=fe("ZodPrefault",(e,t)=>{pQ.init(e,t),kr.init(e,t),e.unwrap=()=>e._zod.def.innerType});function gte(e,t){return new mte({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():VL(t)}})}const s4=fe("ZodNonOptional",(e,t)=>{mQ.init(e,t),kr.init(e,t),e.unwrap=()=>e._zod.def.innerType});function yte(e,t){return new s4({type:"nonoptional",innerType:e,...ze(t)})}const vte=fe("ZodCatch",(e,t)=>{gQ.init(e,t),kr.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function bte(e,t){return new vte({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const xte=fe("ZodPipe",(e,t)=>{yQ.init(e,t),kr.init(e,t),e.in=t.in,e.out=t.out});function IT(e,t){return new xte({type:"pipe",in:e,out:t})}const wte=fe("ZodReadonly",(e,t)=>{vQ.init(e,t),kr.init(e,t),e.unwrap=()=>e._zod.def.innerType});function _te(e){return new wte({type:"readonly",innerType:e})}const Ste=fe("ZodCustom",(e,t)=>{bQ.init(e,t),kr.init(e,t)});function Ete(e,t={}){return lee(Ste,e,t)}function jte(e){return cee(e)}const bs=S.forwardRef(({className:e,type:t,...r},n)=>u.jsx("input",{type:t,className:We("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));bs.displayName="Input";var Nte="Label",i4=S.forwardRef((e,t)=>u.jsx(Lr.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));i4.displayName=Nte;var o4=i4;const kte=zy("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Kn=S.forwardRef(({className:e,...t},r)=>u.jsx(o4,{ref:r,className:We(kte(),e),...t}));Kn.displayName=o4.displayName;const hv=S.forwardRef(({className:e,...t},r)=>u.jsx("textarea",{className:We("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));hv.displayName="Textarea";function bt(){return bt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bt.apply(null,arguments)}function MT(e,[t,r]){return Math.min(r,Math.max(t,e))}function gn(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function aE(e,t=[]){let r=[];function n(i,o){const a=w.createContext(o),l=r.length;r=[...r,o];function c(f){const{scope:h,children:p,...g}=f,m=(h==null?void 0:h[e][l])||a,y=w.useMemo(()=>g,Object.values(g));return w.createElement(m.Provider,{value:y},p)}function d(f,h){const p=(h==null?void 0:h[e][l])||a,g=w.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=r.map(o=>w.createContext(o));return function(a){const l=(a==null?void 0:a[e])||i;return w.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[n,Cte(s,...t)]}function Cte(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Tte(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function a4(...e){return t=>e.forEach(r=>Tte(r,t))}function $n(...e){return w.useCallback(a4(...e),e)}const sh=w.forwardRef((e,t)=>{const{children:r,...n}=e,s=w.Children.toArray(r),i=s.find(Pte);if(i){const o=i.props.children,a=s.map(l=>l===i?w.Children.count(o)>1?w.Children.only(null):w.isValidElement(o)?o.props.children:null:l);return w.createElement(Mw,bt({},n,{ref:t}),w.isValidElement(o)?w.cloneElement(o,void 0,a):null)}return w.createElement(Mw,bt({},n,{ref:t}),r)});sh.displayName="Slot";const Mw=w.forwardRef((e,t)=>{const{children:r,...n}=e;return w.isValidElement(r)?w.cloneElement(r,{...Ote(n,r.props),ref:t?a4(t,r.ref):r.ref}):w.Children.count(r)>1?w.Children.only(null):null});Mw.displayName="SlotClone";const Ate=({children:e})=>w.createElement(w.Fragment,null,e);function Pte(e){return w.isValidElement(e)&&e.type===Ate}function Ote(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{i(...a),s(...a)}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function Dte(e){const t=e+"CollectionProvider",[r,n]=aE(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:g,children:m}=p,y=w.useRef(null),v=w.useRef(new Map).current;return w.createElement(s,{scope:g,itemMap:v,collectionRef:y},m)},a=e+"CollectionSlot",l=w.forwardRef((p,g)=>{const{scope:m,children:y}=p,v=i(a,m),b=$n(g,v.collectionRef);return w.createElement(sh,{ref:b},y)}),c=e+"CollectionItemSlot",d="data-radix-collection-item",f=w.forwardRef((p,g)=>{const{scope:m,children:y,...v}=p,b=w.useRef(null),x=$n(g,b),E=i(c,m);return w.useEffect(()=>(E.itemMap.set(b,{ref:b,...v}),()=>void E.itemMap.delete(b))),w.createElement(sh,{[d]:"",ref:x},y)});function h(p){const g=i(e+"CollectionConsumer",p);return w.useCallback(()=>{const y=g.collectionRef.current;if(!y)return[];const v=Array.from(y.querySelectorAll(`[${d}]`));return Array.from(g.itemMap.values()).sort((E,_)=>v.indexOf(E.ref.current)-v.indexOf(_.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:l,ItemSlot:f},h,n]}const Rte=w.createContext(void 0);function $te(e){const t=w.useContext(Rte);return e||t||"ltr"}const Ite=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Yr=Ite.reduce((e,t)=>{const r=w.forwardRef((n,s)=>{const{asChild:i,...o}=n,a=i?sh:t;return w.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),w.createElement(a,bt({},o,{ref:s}))});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Mte(e,t){e&&Li.flushSync(()=>e.dispatchEvent(t))}function jo(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...r)=>{var n;return(n=t.current)===null||n===void 0?void 0:n.call(t,...r)},[])}function Lte(e,t=globalThis==null?void 0:globalThis.document){const r=jo(e);w.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n),()=>t.removeEventListener("keydown",n)},[r,t])}const Lw="dismissableLayer.update",Fte="dismissableLayer.pointerDownOutside",Bte="dismissableLayer.focusOutside";let LT;const zte=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ute=w.forwardRef((e,t)=>{var r;const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...c}=e,d=w.useContext(zte),[f,h]=w.useState(null),p=(r=f==null?void 0:f.ownerDocument)!==null&&r!==void 0?r:globalThis==null?void 0:globalThis.document,[,g]=w.useState({}),m=$n(t,C=>h(C)),y=Array.from(d.layers),[v]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),b=y.indexOf(v),x=f?y.indexOf(f):-1,E=d.layersWithOutsidePointerEventsDisabled.size>0,_=x>=b,N=qte(C=>{const T=C.target,$=[...d.branches].some(M=>M.contains(T));!_||$||(i==null||i(C),a==null||a(C),C.defaultPrevented||l==null||l())},p),k=Vte(C=>{const T=C.target;[...d.branches].some(M=>M.contains(T))||(o==null||o(C),a==null||a(C),C.defaultPrevented||l==null||l())},p);return Lte(C=>{x===d.layers.size-1&&(s==null||s(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},p),w.useEffect(()=>{if(f)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(LT=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),FT(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=LT)}},[f,p,n,d]),w.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),FT())},[f,d]),w.useEffect(()=>{const C=()=>g({});return document.addEventListener(Lw,C),()=>document.removeEventListener(Lw,C)},[]),w.createElement(Yr.div,bt({},c,{ref:m,style:{pointerEvents:E?_?"auto":"none":void 0,...e.style},onFocusCapture:gn(e.onFocusCapture,k.onFocusCapture),onBlurCapture:gn(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:gn(e.onPointerDownCapture,N.onPointerDownCapture)}))});function qte(e,t=globalThis==null?void 0:globalThis.document){const r=jo(e),n=w.useRef(!1),s=w.useRef(()=>{});return w.useEffect(()=>{const i=a=>{if(a.target&&!n.current){let c=function(){l4(Fte,r,l,{discrete:!0})};const l={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Vte(e,t=globalThis==null?void 0:globalThis.document){const r=jo(e),n=w.useRef(!1);return w.useEffect(()=>{const s=i=>{i.target&&!n.current&&l4(Bte,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function FT(){const e=new CustomEvent(Lw);document.dispatchEvent(e)}function l4(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Mte(s,i):s.dispatchEvent(i)}let S0=0;function Wte(){w.useEffect(()=>{var e,t;const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=r[0])!==null&&e!==void 0?e:BT()),document.body.insertAdjacentElement("beforeend",(t=r[1])!==null&&t!==void 0?t:BT()),S0++,()=>{S0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),S0--}},[])}function BT(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}const E0="focusScope.autoFocusOnMount",j0="focusScope.autoFocusOnUnmount",zT={bubbles:!1,cancelable:!0},Kte=w.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[a,l]=w.useState(null),c=jo(s),d=jo(i),f=w.useRef(null),h=$n(t,m=>l(m)),p=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(n){let m=function(x){if(p.paused||!a)return;const E=x.target;a.contains(E)?f.current=E:fa(f.current,{select:!0})},y=function(x){if(p.paused||!a)return;const E=x.relatedTarget;E!==null&&(a.contains(E)||fa(f.current,{select:!0}))},v=function(x){const E=document.activeElement;for(const _ of x)_.removedNodes.length>0&&(a!=null&&a.contains(E)||fa(a))};document.addEventListener("focusin",m),document.addEventListener("focusout",y);const b=new MutationObserver(v);return a&&b.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",y),b.disconnect()}}},[n,a,p.paused]),w.useEffect(()=>{if(a){qT.add(p);const m=document.activeElement;if(!a.contains(m)){const v=new CustomEvent(E0,zT);a.addEventListener(E0,c),a.dispatchEvent(v),v.defaultPrevented||(Hte(Jte(c4(a)),{select:!0}),document.activeElement===m&&fa(a))}return()=>{a.removeEventListener(E0,c),setTimeout(()=>{const v=new CustomEvent(j0,zT);a.addEventListener(j0,d),a.dispatchEvent(v),v.defaultPrevented||fa(m??document.body,{select:!0}),a.removeEventListener(j0,d),qT.remove(p)},0)}}},[a,c,d,p]);const g=w.useCallback(m=>{if(!r&&!n||p.paused)return;const y=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,v=document.activeElement;if(y&&v){const b=m.currentTarget,[x,E]=Yte(b);x&&E?!m.shiftKey&&v===E?(m.preventDefault(),r&&fa(x,{select:!0})):m.shiftKey&&v===x&&(m.preventDefault(),r&&fa(E,{select:!0})):v===b&&m.preventDefault()}},[r,n,p.paused]);return w.createElement(Yr.div,bt({tabIndex:-1},o,{ref:h,onKeyDown:g}))});function Hte(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(fa(n,{select:t}),document.activeElement!==r)return}function Yte(e){const t=c4(e),r=UT(t,e),n=UT(t.reverse(),e);return[r,n]}function c4(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function UT(e,t){for(const r of e)if(!Gte(r,{upTo:t}))return r}function Gte(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Zte(e){return e instanceof HTMLInputElement&&"select"in e}function fa(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Zte(e)&&t&&e.select()}}const qT=Xte();function Xte(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=VT(e,t),e.unshift(t)},remove(t){var r;e=VT(e,t),(r=e[0])===null||r===void 0||r.resume()}}}function VT(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Jte(e){return e.filter(t=>t.tagName!=="A")}const No=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},Qte=S.useId||(()=>{});let ere=0;function lE(e){const[t,r]=S.useState(Qte());return No(()=>{r(n=>n??String(ere++))},[e]),t?`radix-${t}`:""}const tre=["top","right","bottom","left"],Fa=Math.min,Hn=Math.max,kg=Math.round,sm=Math.floor,Pi=e=>({x:e,y:e}),rre={left:"right",right:"left",bottom:"top",top:"bottom"},nre={start:"end",end:"start"};function Fw(e,t,r){return Hn(e,Fa(t,r))}function ko(e,t){return typeof e=="function"?e(t):e}function Co(e){return e.split("-")[0]}function hd(e){return e.split("-")[1]}function cE(e){return e==="x"?"y":"x"}function uE(e){return e==="y"?"height":"width"}const sre=new Set(["top","bottom"]);function Ci(e){return sre.has(Co(e))?"y":"x"}function dE(e){return cE(Ci(e))}function ire(e,t,r){r===void 0&&(r=!1);const n=hd(e),s=dE(e),i=uE(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Cg(o)),[o,Cg(o)]}function ore(e){const t=Cg(e);return[Bw(e),t,Bw(t)]}function Bw(e){return e.replace(/start|end/g,t=>nre[t])}const WT=["left","right"],KT=["right","left"],are=["top","bottom"],lre=["bottom","top"];function cre(e,t,r){switch(e){case"top":case"bottom":return r?t?KT:WT:t?WT:KT;case"left":case"right":return t?are:lre;default:return[]}}function ure(e,t,r,n){const s=hd(e);let i=cre(Co(e),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(Bw)))),i}function Cg(e){return e.replace(/left|right|bottom|top/g,t=>rre[t])}function dre(e){return{top:0,right:0,bottom:0,left:0,...e}}function u4(e){return typeof e!="number"?dre(e):{top:e,right:e,bottom:e,left:e}}function Tg(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function HT(e,t,r){let{reference:n,floating:s}=e;const i=Ci(t),o=dE(t),a=uE(o),l=Co(t),c=i==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[a]/2-s[a]/2;let p;switch(l){case"top":p={x:d,y:n.y-s.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-s.width,y:f};break;default:p={x:n.x,y:n.y}}switch(hd(t)){case"start":p[o]-=h*(r&&c?-1:1);break;case"end":p[o]+=h*(r&&c?-1:1);break}return p}const fre=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=HT(c,n,l),h=n,p={},g=0;for(let m=0;m<a.length;m++){const{name:y,fn:v}=a[m],{x:b,y:x,data:E,reset:_}=await v({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:p,rects:c,platform:o,elements:{reference:e,floating:t}});d=b??d,f=x??f,p={...p,[y]:{...p[y],...E}},_&&g<=50&&(g++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(c=_.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):_.rects),{x:d,y:f}=HT(c,h,l)),m=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:p}};async function ih(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:o,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=ko(t,e),g=u4(p),y=a[h?f==="floating"?"reference":"floating":f],v=Tg(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(y)))==null||r?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),b=f==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),E=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},_=Tg(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:x,strategy:l}):b);return{top:(v.top-_.top+g.top)/E.y,bottom:(_.bottom-v.bottom+g.bottom)/E.y,left:(v.left-_.left+g.left)/E.x,right:(_.right-v.right+g.right)/E.x}}const hre=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=t,{element:c,padding:d=0}=ko(e,t)||{};if(c==null)return{};const f=u4(d),h={x:r,y:n},p=dE(s),g=uE(p),m=await o.getDimensions(c),y=p==="y",v=y?"top":"left",b=y?"bottom":"right",x=y?"clientHeight":"clientWidth",E=i.reference[g]+i.reference[p]-h[p]-i.floating[g],_=h[p]-i.reference[p],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let k=N?N[x]:0;(!k||!await(o.isElement==null?void 0:o.isElement(N)))&&(k=a.floating[x]||i.floating[g]);const C=E/2-_/2,T=k/2-m[g]/2-1,$=Fa(f[v],T),M=Fa(f[b],T),L=$,D=k-m[g]-M,z=k/2-m[g]/2+C,U=Fw(L,z,D),G=!l.arrow&&hd(s)!=null&&z!==U&&i.reference[g]/2-(z<L?$:M)-m[g]/2<0,q=G?z<L?z-L:z-D:0;return{[p]:h[p]+q,data:{[p]:U,centerOffset:z-U-q,...G&&{alignmentOffset:q}},reset:G}}}),pre=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...y}=ko(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const v=Co(s),b=Ci(a),x=Co(a)===a,E=await(l.isRTL==null?void 0:l.isRTL(c.floating)),_=h||(x||!m?[Cg(a)]:ore(a)),N=g!=="none";!h&&N&&_.push(...ure(a,m,g,E));const k=[a,..._],C=await ih(t,y),T=[];let $=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&T.push(C[v]),f){const z=ire(s,o,E);T.push(C[z[0]],C[z[1]])}if($=[...$,{placement:s,overflows:T}],!T.every(z=>z<=0)){var M,L;const z=(((M=i.flip)==null?void 0:M.index)||0)+1,U=k[z];if(U&&(!(f==="alignment"?b!==Ci(U):!1)||$.every(Z=>Ci(Z.placement)===b?Z.overflows[0]>0:!0)))return{data:{index:z,overflows:$},reset:{placement:U}};let G=(L=$.filter(q=>q.overflows[0]<=0).sort((q,Z)=>q.overflows[1]-Z.overflows[1])[0])==null?void 0:L.placement;if(!G)switch(p){case"bestFit":{var D;const q=(D=$.filter(Z=>{if(N){const ie=Ci(Z.placement);return ie===b||ie==="y"}return!0}).map(Z=>[Z.placement,Z.overflows.filter(ie=>ie>0).reduce((ie,R)=>ie+R,0)]).sort((Z,ie)=>Z[1]-ie[1])[0])==null?void 0:D[0];q&&(G=q);break}case"initialPlacement":G=a;break}if(s!==G)return{reset:{placement:G}}}return{}}}};function YT(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function GT(e){return tre.some(t=>e[t]>=0)}const mre=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=ko(e,t);switch(n){case"referenceHidden":{const i=await ih(t,{...s,elementContext:"reference"}),o=YT(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:GT(o)}}}case"escaped":{const i=await ih(t,{...s,altBoundary:!0}),o=YT(i,r.floating);return{data:{escapedOffsets:o,escaped:GT(o)}}}default:return{}}}}},d4=new Set(["left","top"]);async function gre(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Co(r),a=hd(r),l=Ci(r)==="y",c=d4.has(o)?-1:1,d=i&&l?-1:1,f=ko(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof g=="number"&&(p=a==="end"?g*-1:g),l?{x:p*d,y:h*c}:{x:h*c,y:p*d}}const yre=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:o,middlewareData:a}=t,l=await gre(t,e);return o===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},vre=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:v,y:b}=y;return{x:v,y:b}}},...l}=ko(e,t),c={x:r,y:n},d=await ih(t,l),f=Ci(Co(s)),h=cE(f);let p=c[h],g=c[f];if(i){const y=h==="y"?"top":"left",v=h==="y"?"bottom":"right",b=p+d[y],x=p-d[v];p=Fw(b,p,x)}if(o){const y=f==="y"?"top":"left",v=f==="y"?"bottom":"right",b=g+d[y],x=g-d[v];g=Fw(b,g,x)}const m=a.fn({...t,[h]:p,[f]:g});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:i,[f]:o}}}}}},bre=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=ko(e,t),d={x:r,y:n},f=Ci(s),h=cE(f);let p=d[h],g=d[f];const m=ko(a,t),y=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const x=h==="y"?"height":"width",E=i.reference[h]-i.floating[x]+y.mainAxis,_=i.reference[h]+i.reference[x]-y.mainAxis;p<E?p=E:p>_&&(p=_)}if(c){var v,b;const x=h==="y"?"width":"height",E=d4.has(Co(s)),_=i.reference[f]-i.floating[x]+(E&&((v=o.offset)==null?void 0:v[f])||0)+(E?0:y.crossAxis),N=i.reference[f]+i.reference[x]+(E?0:((b=o.offset)==null?void 0:b[f])||0)-(E?y.crossAxis:0);g<_?g=_:g>N&&(g=N)}return{[h]:p,[f]:g}}}},xre=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:o,elements:a}=t,{apply:l=()=>{},...c}=ko(e,t),d=await ih(t,c),f=Co(s),h=hd(s),p=Ci(s)==="y",{width:g,height:m}=i.floating;let y,v;f==="top"||f==="bottom"?(y=f,v=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(v=f,y=h==="end"?"top":"bottom");const b=m-d.top-d.bottom,x=g-d.left-d.right,E=Fa(m-d[y],b),_=Fa(g-d[v],x),N=!t.middlewareData.shift;let k=E,C=_;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(C=x),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=b),N&&!h){const $=Hn(d.left,0),M=Hn(d.right,0),L=Hn(d.top,0),D=Hn(d.bottom,0);p?C=g-2*($!==0||M!==0?$+M:Hn(d.left,d.right)):k=m-2*(L!==0||D!==0?L+D:Hn(d.top,d.bottom))}await l({...t,availableWidth:C,availableHeight:k});const T=await o.getDimensions(a.floating);return g!==T.width||m!==T.height?{reset:{rects:!0}}:{}}}};function pv(){return typeof window<"u"}function pd(e){return f4(e)?(e.nodeName||"").toLowerCase():"#document"}function Jn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Xi(e){var t;return(t=(f4(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function f4(e){return pv()?e instanceof Node||e instanceof Jn(e).Node:!1}function ii(e){return pv()?e instanceof Element||e instanceof Jn(e).Element:!1}function Bi(e){return pv()?e instanceof HTMLElement||e instanceof Jn(e).HTMLElement:!1}function ZT(e){return!pv()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Jn(e).ShadowRoot}const wre=new Set(["inline","contents"]);function Xh(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=oi(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!wre.has(s)}const _re=new Set(["table","td","th"]);function Sre(e){return _re.has(pd(e))}const Ere=[":popover-open",":modal"];function mv(e){return Ere.some(t=>{try{return e.matches(t)}catch{return!1}})}const jre=["transform","translate","scale","rotate","perspective"],Nre=["transform","translate","scale","rotate","perspective","filter"],kre=["paint","layout","strict","content"];function fE(e){const t=hE(),r=ii(e)?oi(e):e;return jre.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||Nre.some(n=>(r.willChange||"").includes(n))||kre.some(n=>(r.contain||"").includes(n))}function Cre(e){let t=Ba(e);for(;Bi(t)&&!Bu(t);){if(fE(t))return t;if(mv(t))return null;t=Ba(t)}return null}function hE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Tre=new Set(["html","body","#document"]);function Bu(e){return Tre.has(pd(e))}function oi(e){return Jn(e).getComputedStyle(e)}function gv(e){return ii(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ba(e){if(pd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ZT(e)&&e.host||Xi(e);return ZT(t)?t.host:t}function h4(e){const t=Ba(e);return Bu(t)?e.ownerDocument?e.ownerDocument.body:e.body:Bi(t)&&Xh(t)?t:h4(t)}function oh(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=h4(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=Jn(s);if(i){const a=zw(o);return t.concat(o,o.visualViewport||[],Xh(s)?s:[],a&&r?oh(a):[])}return t.concat(s,oh(s,[],r))}function zw(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function p4(e){const t=oi(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Bi(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,a=kg(r)!==i||kg(n)!==o;return a&&(r=i,n=o),{width:r,height:n,$:a}}function pE(e){return ii(e)?e:e.contextElement}function vu(e){const t=pE(e);if(!Bi(t))return Pi(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=p4(t);let o=(i?kg(r.width):r.width)/n,a=(i?kg(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Are=Pi(0);function m4(e){const t=Jn(e);return!hE()||!t.visualViewport?Are:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Pre(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Jn(e)?!1:t}function Zl(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=pE(e);let o=Pi(1);t&&(n?ii(n)&&(o=vu(n)):o=vu(e));const a=Pre(i,r,n)?m4(i):Pi(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const h=Jn(i),p=n&&ii(n)?Jn(n):n;let g=h,m=zw(g);for(;m&&n&&p!==g;){const y=vu(m),v=m.getBoundingClientRect(),b=oi(m),x=v.left+(m.clientLeft+parseFloat(b.paddingLeft))*y.x,E=v.top+(m.clientTop+parseFloat(b.paddingTop))*y.y;l*=y.x,c*=y.y,d*=y.x,f*=y.y,l+=x,c+=E,g=Jn(m),m=zw(g)}}return Tg({width:d,height:f,x:l,y:c})}function yv(e,t){const r=gv(e).scrollLeft;return t?t.left+r:Zl(Xi(e)).left+r}function g4(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-yv(e,r),s=r.top+t.scrollTop;return{x:n,y:s}}function Ore(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",o=Xi(n),a=t?mv(t.floating):!1;if(n===o||a&&i)return r;let l={scrollLeft:0,scrollTop:0},c=Pi(1);const d=Pi(0),f=Bi(n);if((f||!f&&!i)&&((pd(n)!=="body"||Xh(o))&&(l=gv(n)),Bi(n))){const p=Zl(n);c=vu(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=o&&!f&&!i?g4(o,l):Pi(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+d.x+h.x,y:r.y*c.y-l.scrollTop*c.y+d.y+h.y}}function Dre(e){return Array.from(e.getClientRects())}function Rre(e){const t=Xi(e),r=gv(e),n=e.ownerDocument.body,s=Hn(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Hn(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+yv(e);const a=-r.scrollTop;return oi(n).direction==="rtl"&&(o+=Hn(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:a}}const XT=25;function $re(e,t){const r=Jn(e),n=Xi(e),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const d=hE();(!d||d&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}const c=yv(n);if(c<=0){const d=n.ownerDocument,f=d.body,h=getComputedStyle(f),p=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,g=Math.abs(n.clientWidth-f.clientWidth-p);g<=XT&&(i-=g)}else c<=XT&&(i+=c);return{width:i,height:o,x:a,y:l}}const Ire=new Set(["absolute","fixed"]);function Mre(e,t){const r=Zl(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=Bi(e)?vu(e):Pi(1),o=e.clientWidth*i.x,a=e.clientHeight*i.y,l=s*i.x,c=n*i.y;return{width:o,height:a,x:l,y:c}}function JT(e,t,r){let n;if(t==="viewport")n=$re(e,r);else if(t==="document")n=Rre(Xi(e));else if(ii(t))n=Mre(t,r);else{const s=m4(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Tg(n)}function y4(e,t){const r=Ba(e);return r===t||!ii(r)||Bu(r)?!1:oi(r).position==="fixed"||y4(r,t)}function Lre(e,t){const r=t.get(e);if(r)return r;let n=oh(e,[],!1).filter(a=>ii(a)&&pd(a)!=="body"),s=null;const i=oi(e).position==="fixed";let o=i?Ba(e):e;for(;ii(o)&&!Bu(o);){const a=oi(o),l=fE(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&Ire.has(s.position)||Xh(o)&&!l&&y4(e,o))?n=n.filter(d=>d!==o):s=a,o=Ba(o)}return t.set(e,n),n}function Fre(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?mv(t)?[]:Lre(t,this._c):[].concat(r),n],a=o[0],l=o.reduce((c,d)=>{const f=JT(t,d,s);return c.top=Hn(f.top,c.top),c.right=Fa(f.right,c.right),c.bottom=Fa(f.bottom,c.bottom),c.left=Hn(f.left,c.left),c},JT(t,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Bre(e){const{width:t,height:r}=p4(e);return{width:t,height:r}}function zre(e,t,r){const n=Bi(t),s=Xi(t),i=r==="fixed",o=Zl(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const l=Pi(0);function c(){l.x=yv(s)}if(n||!n&&!i)if((pd(t)!=="body"||Xh(s))&&(a=gv(t)),n){const p=Zl(t,!0,i,t);l.x=p.x+t.clientLeft,l.y=p.y+t.clientTop}else s&&c();i&&!n&&s&&c();const d=s&&!n&&!i?g4(s,a):Pi(0),f=o.left+a.scrollLeft-l.x-d.x,h=o.top+a.scrollTop-l.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function N0(e){return oi(e).position==="static"}function QT(e,t){if(!Bi(e)||oi(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Xi(e)===r&&(r=r.ownerDocument.body),r}function v4(e,t){const r=Jn(e);if(mv(e))return r;if(!Bi(e)){let s=Ba(e);for(;s&&!Bu(s);){if(ii(s)&&!N0(s))return s;s=Ba(s)}return r}let n=QT(e,t);for(;n&&Sre(n)&&N0(n);)n=QT(n,t);return n&&Bu(n)&&N0(n)&&!fE(n)?r:n||Cre(e)||r}const Ure=async function(e){const t=this.getOffsetParent||v4,r=this.getDimensions,n=await r(e.floating);return{reference:zre(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function qre(e){return oi(e).direction==="rtl"}const Vre={convertOffsetParentRelativeRectToViewportRelativeRect:Ore,getDocumentElement:Xi,getClippingRect:Fre,getOffsetParent:v4,getElementRects:Ure,getClientRects:Dre,getDimensions:Bre,getScale:vu,isElement:ii,isRTL:qre};function b4(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Wre(e,t){let r=null,n;const s=Xi(e);function i(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=c;if(a||t(),!h||!p)return;const g=sm(f),m=sm(s.clientWidth-(d+h)),y=sm(s.clientHeight-(f+p)),v=sm(d),x={rootMargin:-g+"px "+-m+"px "+-y+"px "+-v+"px",threshold:Hn(0,Fa(1,l))||1};let E=!0;function _(N){const k=N[0].intersectionRatio;if(k!==l){if(!E)return o();k?o(!1,k):n=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!b4(c,e.getBoundingClientRect())&&o(),E=!1}try{r=new IntersectionObserver(_,{...x,root:s.ownerDocument})}catch{r=new IntersectionObserver(_,x)}r.observe(e)}return o(!0),i}function Kre(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=pE(e),d=s||i?[...c?oh(c):[],...oh(t)]:[];d.forEach(v=>{s&&v.addEventListener("scroll",r,{passive:!0}),i&&v.addEventListener("resize",r)});const f=c&&a?Wre(c,r):null;let h=-1,p=null;o&&(p=new ResizeObserver(v=>{let[b]=v;b&&b.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var x;(x=p)==null||x.observe(t)})),r()}),c&&!l&&p.observe(c),p.observe(t));let g,m=l?Zl(e):null;l&&y();function y(){const v=Zl(e);m&&!b4(m,v)&&r(),m=v,g=requestAnimationFrame(y)}return r(),()=>{var v;d.forEach(b=>{s&&b.removeEventListener("scroll",r),i&&b.removeEventListener("resize",r)}),f==null||f(),(v=p)==null||v.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const Hre=yre,Yre=vre,Gre=pre,Zre=xre,Xre=mre,eA=hre,Jre=bre,Qre=(e,t,r)=>{const n=new Map,s={platform:Vre,...r},i={...s.platform,_c:n};return fre(e,t,{...s,platform:i})};var ene=typeof document<"u",tne=function(){},Ym=ene?w.useLayoutEffect:tne;function Ag(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Ag(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!Ag(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function x4(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function tA(e,t){const r=x4(e);return Math.round(t*r)/r}function k0(e){const t=S.useRef(e);return Ym(()=>{t.current=e}),t}function rne(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[d,f]=S.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=S.useState(n);Ag(h,n)||p(n);const[g,m]=S.useState(null),[y,v]=S.useState(null),b=S.useCallback(Z=>{Z!==N.current&&(N.current=Z,m(Z))},[]),x=S.useCallback(Z=>{Z!==k.current&&(k.current=Z,v(Z))},[]),E=i||g,_=o||y,N=S.useRef(null),k=S.useRef(null),C=S.useRef(d),T=l!=null,$=k0(l),M=k0(s),L=k0(c),D=S.useCallback(()=>{if(!N.current||!k.current)return;const Z={placement:t,strategy:r,middleware:h};M.current&&(Z.platform=M.current),Qre(N.current,k.current,Z).then(ie=>{const R={...ie,isPositioned:L.current!==!1};z.current&&!Ag(C.current,R)&&(C.current=R,z$.flushSync(()=>{f(R)}))})},[h,t,r,M,L]);Ym(()=>{c===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(Z=>({...Z,isPositioned:!1})))},[c]);const z=S.useRef(!1);Ym(()=>(z.current=!0,()=>{z.current=!1}),[]),Ym(()=>{if(E&&(N.current=E),_&&(k.current=_),E&&_){if($.current)return $.current(E,_,D);D()}},[E,_,D,$,T]);const U=S.useMemo(()=>({reference:N,floating:k,setReference:b,setFloating:x}),[b,x]),G=S.useMemo(()=>({reference:E,floating:_}),[E,_]),q=S.useMemo(()=>{const Z={position:r,left:0,top:0};if(!G.floating)return Z;const ie=tA(G.floating,d.x),R=tA(G.floating,d.y);return a?{...Z,transform:"translate("+ie+"px, "+R+"px)",...x4(G.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ie,top:R}},[r,a,G.floating,d.x,d.y]);return S.useMemo(()=>({...d,update:D,refs:U,elements:G,floatingStyles:q}),[d,D,U,G,q])}const nne=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?eA({element:n.current,padding:s}).fn(r):{}:n?eA({element:n,padding:s}).fn(r):{}}}},sne=(e,t)=>({...Hre(e),options:[e,t]}),ine=(e,t)=>({...Yre(e),options:[e,t]}),one=(e,t)=>({...Jre(e),options:[e,t]}),ane=(e,t)=>({...Gre(e),options:[e,t]}),lne=(e,t)=>({...Zre(e),options:[e,t]}),cne=(e,t)=>({...Xre(e),options:[e,t]}),une=(e,t)=>({...nne(e),options:[e,t]});function dne(e){const[t,r]=w.useState(void 0);return No(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=e.offsetWidth,a=e.offsetHeight;r({width:o,height:a})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}const w4="Popper",[_4,S4]=aE(w4),[fne,E4]=_4(w4),hne=e=>{const{__scopePopper:t,children:r}=e,[n,s]=w.useState(null);return w.createElement(fne,{scope:t,anchor:n,onAnchorChange:s},r)},pne="PopperAnchor",mne=w.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=E4(pne,r),o=w.useRef(null),a=$n(t,o);return w.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:w.createElement(Yr.div,bt({},s,{ref:a}))}),j4="PopperContent",[gne,$Re]=_4(j4),yne=w.forwardRef((e,t)=>{var r,n,s,i,o,a,l,c;const{__scopePopper:d,side:f="bottom",sideOffset:h=0,align:p="center",alignOffset:g=0,arrowPadding:m=0,collisionBoundary:y=[],collisionPadding:v=0,sticky:b="partial",hideWhenDetached:x=!1,avoidCollisions:E=!0,onPlaced:_,...N}=e,k=E4(j4,d),[C,T]=w.useState(null),$=$n(t,je=>T(je)),[M,L]=w.useState(null),D=dne(M),z=(r=D==null?void 0:D.width)!==null&&r!==void 0?r:0,U=(n=D==null?void 0:D.height)!==null&&n!==void 0?n:0,G=f+(p!=="center"?"-"+p:""),q=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},Z=Array.isArray(y)?y:[y],ie=Z.length>0,R={padding:q,boundary:Z.filter(vne),altBoundary:ie},{refs:B,floatingStyles:X,placement:oe,isPositioned:W,middlewareData:K}=rne({strategy:"fixed",placement:G,whileElementsMounted:Kre,elements:{reference:k.anchor},middleware:[sne({mainAxis:h+U,alignmentAxis:g}),E&&ine({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?one():void 0,...R}),E&&ane({...R}),lne({...R,apply:({elements:je,rects:Be,availableWidth:Ue,availableHeight:nt})=>{const{width:St,height:Ct}=Be.reference,I=je.floating.style;I.setProperty("--radix-popper-available-width",`${Ue}px`),I.setProperty("--radix-popper-available-height",`${nt}px`),I.setProperty("--radix-popper-anchor-width",`${St}px`),I.setProperty("--radix-popper-anchor-height",`${Ct}px`)}}),M&&une({element:M,padding:m}),bne({arrowWidth:z,arrowHeight:U}),x&&cne({strategy:"referenceHidden"})]}),[ee,te]=N4(oe),ue=jo(_);No(()=>{W&&(ue==null||ue())},[W,ue]);const V=(s=K.arrow)===null||s===void 0?void 0:s.x,H=(i=K.arrow)===null||i===void 0?void 0:i.y,se=((o=K.arrow)===null||o===void 0?void 0:o.centerOffset)!==0,[O,ye]=w.useState();return No(()=>{C&&ye(window.getComputedStyle(C).zIndex)},[C]),w.createElement("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:W?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:O,"--radix-popper-transform-origin":[(a=K.transformOrigin)===null||a===void 0?void 0:a.x,(l=K.transformOrigin)===null||l===void 0?void 0:l.y].join(" ")},dir:e.dir},w.createElement(gne,{scope:d,placedSide:ee,onArrowChange:L,arrowX:V,arrowY:H,shouldHideArrow:se},w.createElement(Yr.div,bt({"data-side":ee,"data-align":te},N,{ref:$,style:{...N.style,animation:W?void 0:"none",opacity:(c=K.hide)!==null&&c!==void 0&&c.referenceHidden?0:void 0}}))))});function vne(e){return e!==null}const bne=e=>({name:"transformOrigin",options:e,fn(t){var r,n,s,i,o;const{placement:a,rects:l,middlewareData:c}=t,f=((r=c.arrow)===null||r===void 0?void 0:r.centerOffset)!==0,h=f?0:e.arrowWidth,p=f?0:e.arrowHeight,[g,m]=N4(a),y={start:"0%",center:"50%",end:"100%"}[m],v=((n=(s=c.arrow)===null||s===void 0?void 0:s.x)!==null&&n!==void 0?n:0)+h/2,b=((i=(o=c.arrow)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0)+p/2;let x="",E="";return g==="bottom"?(x=f?y:`${v}px`,E=`${-p}px`):g==="top"?(x=f?y:`${v}px`,E=`${l.floating.height+p}px`):g==="right"?(x=`${-p}px`,E=f?y:`${b}px`):g==="left"&&(x=`${l.floating.width+p}px`,E=f?y:`${b}px`),{data:{x,y:E}}}});function N4(e){const[t,r="center"]=e.split("-");return[t,r]}const xne=hne,wne=mne,_ne=yne,Sne=w.forwardRef((e,t)=>{var r;const{container:n=globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,...s}=e;return n?Li.createPortal(w.createElement(Yr.div,bt({},s,{ref:t})),n):null});function rA({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=Ene({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:n,a=jo(r),l=w.useCallback(c=>{if(i){const f=typeof c=="function"?c(e):c;f!==e&&a(f)}else s(c)},[i,e,s,a]);return[o,l]}function Ene({defaultProp:e,onChange:t}){const r=w.useState(e),[n]=r,s=w.useRef(n),i=jo(t);return w.useEffect(()=>{s.current!==n&&(i(n),s.current=n)},[n,s,i]),r}function jne(e){const t=w.useRef({value:e,previous:e});return w.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}const Nne=w.forwardRef((e,t)=>w.createElement(Yr.span,bt({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}})));var k4=PI(),C0=function(){},vv=S.forwardRef(function(e,t){var r=S.useRef(null),n=S.useState({onScrollCapture:C0,onWheelCapture:C0,onTouchMoveCapture:C0}),s=n[0],i=n[1],o=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noIsolation,g=e.inert,m=e.allowPinchZoom,y=e.as,v=y===void 0?"div":y,b=mS(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),x=h,E=AI([r,t]),_=nn(nn({},b),s);return S.createElement(S.Fragment,null,d&&S.createElement(x,{sideCar:k4,removeScrollBar:c,shards:f,noIsolation:p,inert:g,setCallbacks:i,allowPinchZoom:!!m,lockRef:r}),o?S.cloneElement(S.Children.only(a),nn(nn({},_),{ref:E})):S.createElement(v,nn({},_,{className:l,ref:E}),a))});vv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};vv.classNames={fullWidth:Tf,zeroRight:Cf};var Uw=!1;if(typeof window<"u")try{var im=Object.defineProperty({},"passive",{get:function(){return Uw=!0,!0}});window.addEventListener("test",im,im),window.removeEventListener("test",im,im)}catch{Uw=!1}var Rc=Uw?{passive:!1}:!1,kne=function(e){return e.tagName==="TEXTAREA"},C4=function(e,t){var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!kne(e)&&r[t]==="visible")},Cne=function(e){return C4(e,"overflowY")},Tne=function(e){return C4(e,"overflowX")},nA=function(e,t){var r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var n=T4(e,r);if(n){var s=A4(e,r),i=s[1],o=s[2];if(i>o)return!0}r=r.parentNode}while(r&&r!==document.body);return!1},Ane=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Pne=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},T4=function(e,t){return e==="v"?Cne(t):Tne(t)},A4=function(e,t){return e==="v"?Ane(t):Pne(t)},One=function(e,t){return e==="h"&&t==="rtl"?-1:1},Dne=function(e,t,r,n,s){var i=One(e,window.getComputedStyle(t).direction),o=i*n,a=r.target,l=t.contains(a),c=!1,d=o>0,f=0,h=0;do{var p=A4(e,a),g=p[0],m=p[1],y=p[2],v=m-y-i*g;(g||v)&&T4(e,a)&&(f+=v,h+=g),a=a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(d&&f===0||!d&&h===0)&&(c=!0),c},om=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},sA=function(e){return[e.deltaX,e.deltaY]},iA=function(e){return e&&"current"in e?e.current:e},Rne=function(e,t){return e[0]===t[0]&&e[1]===t[1]},$ne=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Ine=0,$c=[];function Mne(e){var t=S.useRef([]),r=S.useRef([0,0]),n=S.useRef(),s=S.useState(Ine++)[0],i=S.useState(function(){return gS()})[0],o=S.useRef(e);S.useEffect(function(){o.current=e},[e]),S.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=TI([e.lockRef.current],(e.shards||[]).map(iA),!0).filter(Boolean);return m.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=S.useCallback(function(m,y){if("touches"in m&&m.touches.length===2)return!o.current.allowPinchZoom;var v=om(m),b=r.current,x="deltaX"in m?m.deltaX:b[0]-v[0],E="deltaY"in m?m.deltaY:b[1]-v[1],_,N=m.target,k=Math.abs(x)>Math.abs(E)?"h":"v";if("touches"in m&&k==="h"&&N.type==="range")return!1;var C=nA(k,N);if(!C)return!0;if(C?_=k:(_=k==="v"?"h":"v",C=nA(k,N)),!C)return!1;if(!n.current&&"changedTouches"in m&&(x||E)&&(n.current=_),!_)return!0;var T=n.current||_;return Dne(T,y,m,T==="h"?x:E)},[]),l=S.useCallback(function(m){var y=m;if(!(!$c.length||$c[$c.length-1]!==i)){var v="deltaY"in y?sA(y):om(y),b=t.current.filter(function(_){return _.name===y.type&&_.target===y.target&&Rne(_.delta,v)})[0];if(b&&b.should){y.cancelable&&y.preventDefault();return}if(!b){var x=(o.current.shards||[]).map(iA).filter(Boolean).filter(function(_){return _.contains(y.target)}),E=x.length>0?a(y,x[0]):!o.current.noIsolation;E&&y.cancelable&&y.preventDefault()}}},[]),c=S.useCallback(function(m,y,v,b){var x={name:m,delta:y,target:v,should:b};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(E){return E!==x})},1)},[]),d=S.useCallback(function(m){r.current=om(m),n.current=void 0},[]),f=S.useCallback(function(m){c(m.type,sA(m),m.target,a(m,e.lockRef.current))},[]),h=S.useCallback(function(m){c(m.type,om(m),m.target,a(m,e.lockRef.current))},[]);S.useEffect(function(){return $c.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Rc),document.addEventListener("touchmove",l,Rc),document.addEventListener("touchstart",d,Rc),function(){$c=$c.filter(function(m){return m!==i}),document.removeEventListener("wheel",l,Rc),document.removeEventListener("touchmove",l,Rc),document.removeEventListener("touchstart",d,Rc)}},[]);var p=e.removeScrollBar,g=e.inert;return S.createElement(S.Fragment,null,g?S.createElement(i,{styles:$ne(s)}):null,p?S.createElement($I,{gapMode:"margin"}):null)}const Lne=DI(k4,Mne);var P4=S.forwardRef(function(e,t){return S.createElement(vv,nn({},e,{ref:t,sideCar:Lne}))});P4.classNames=vv.classNames;const Fne=[" ","Enter","ArrowUp","ArrowDown"],Bne=[" ","Enter"],bv="Select",[xv,mE,zne]=Dte(bv),[md,IRe]=aE(bv,[zne,S4]),gE=S4(),[Une,dc]=md(bv),[qne,Vne]=md(bv),Wne=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:h,required:p}=e,g=gE(t),[m,y]=w.useState(null),[v,b]=w.useState(null),[x,E]=w.useState(!1),_=$te(c),[N=!1,k]=rA({prop:n,defaultProp:s,onChange:i}),[C,T]=rA({prop:o,defaultProp:a,onChange:l}),$=w.useRef(null),M=m?!!m.closest("form"):!0,[L,D]=w.useState(new Set),z=Array.from(L).map(U=>U.props.value).join(";");return w.createElement(xne,g,w.createElement(Une,{required:p,scope:t,trigger:m,onTriggerChange:y,valueNode:v,onValueNodeChange:b,valueNodeHasChildren:x,onValueNodeHasChildrenChange:E,contentId:lE(),value:C,onValueChange:T,open:N,onOpenChange:k,dir:_,triggerPointerDownPosRef:$,disabled:h},w.createElement(xv.Provider,{scope:t},w.createElement(qne,{scope:e.__scopeSelect,onNativeOptionAdd:w.useCallback(U=>{D(G=>new Set(G).add(U))},[]),onNativeOptionRemove:w.useCallback(U=>{D(G=>{const q=new Set(G);return q.delete(U),q})},[])},r)),M?w.createElement(R4,{key:z,"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:C,onChange:U=>T(U.target.value),disabled:h},C===void 0?w.createElement("option",{value:""}):null,Array.from(L)):null))},Kne="SelectTrigger",Hne=w.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=gE(r),o=dc(Kne,r),a=o.disabled||n,l=$n(t,o.onTriggerChange),c=mE(r),[d,f,h]=$4(g=>{const m=c().filter(b=>!b.disabled),y=m.find(b=>b.value===o.value),v=I4(m,g,y);v!==void 0&&o.onValueChange(v.value)}),p=()=>{a||(o.onOpenChange(!0),h())};return w.createElement(wne,bt({asChild:!0},i),w.createElement(Yr.button,bt({type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":o.value===void 0?"":void 0},s,{ref:l,onClick:gn(s.onClick,g=>{g.currentTarget.focus()}),onPointerDown:gn(s.onPointerDown,g=>{const m=g.target;m.hasPointerCapture(g.pointerId)&&m.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&(p(),o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)},g.preventDefault())}),onKeyDown:gn(s.onKeyDown,g=>{const m=d.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&f(g.key),!(m&&g.key===" ")&&Fne.includes(g.key)&&(p(),g.preventDefault())})})))}),Yne="SelectValue",Gne=w.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o,...a}=e,l=dc(Yne,r),{onValueNodeHasChildrenChange:c}=l,d=i!==void 0,f=$n(t,l.onValueNodeChange);return No(()=>{c(d)},[c,d]),w.createElement(Yr.span,bt({},a,{ref:f,style:{pointerEvents:"none"}}),l.value===void 0&&o!==void 0?o:i)}),Zne=w.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return w.createElement(Yr.span,bt({"aria-hidden":!0},s,{ref:t}),n||"▼")}),Xne=e=>w.createElement(Sne,bt({asChild:!0},e)),zu="SelectContent",Jne=w.forwardRef((e,t)=>{const r=dc(zu,e.__scopeSelect),[n,s]=w.useState();if(No(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?Li.createPortal(w.createElement(O4,{scope:e.__scopeSelect},w.createElement(xv.Slot,{scope:e.__scopeSelect},w.createElement("div",null,e.children))),i):null}return w.createElement(Qne,bt({},e,{ref:t}))}),fo=10,[O4,wv]=md(zu),Qne=w.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:y,...v}=e,b=dc(zu,r),[x,E]=w.useState(null),[_,N]=w.useState(null),k=$n(t,te=>E(te)),[C,T]=w.useState(null),[$,M]=w.useState(null),L=mE(r),[D,z]=w.useState(!1),U=w.useRef(!1);w.useEffect(()=>{if(x)return zI(x)},[x]),Wte();const G=w.useCallback(te=>{const[ue,...V]=L().map(O=>O.ref.current),[H]=V.slice(-1),se=document.activeElement;for(const O of te)if(O===se||(O==null||O.scrollIntoView({block:"nearest"}),O===ue&&_&&(_.scrollTop=0),O===H&&_&&(_.scrollTop=_.scrollHeight),O==null||O.focus(),document.activeElement!==se))return},[L,_]),q=w.useCallback(()=>G([C,x]),[G,C,x]);w.useEffect(()=>{D&&q()},[D,q]);const{onOpenChange:Z,triggerPointerDownPosRef:ie}=b;w.useEffect(()=>{if(x){let te={x:0,y:0};const ue=H=>{var se,O,ye,je;te={x:Math.abs(Math.round(H.pageX)-((se=(O=ie.current)===null||O===void 0?void 0:O.x)!==null&&se!==void 0?se:0)),y:Math.abs(Math.round(H.pageY)-((ye=(je=ie.current)===null||je===void 0?void 0:je.y)!==null&&ye!==void 0?ye:0))}},V=H=>{te.x<=10&&te.y<=10?H.preventDefault():x.contains(H.target)||Z(!1),document.removeEventListener("pointermove",ue),ie.current=null};return ie.current!==null&&(document.addEventListener("pointermove",ue),document.addEventListener("pointerup",V,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ue),document.removeEventListener("pointerup",V,{capture:!0})}}},[x,Z,ie]),w.useEffect(()=>{const te=()=>Z(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[Z]);const[R,B]=$4(te=>{const ue=L().filter(se=>!se.disabled),V=ue.find(se=>se.ref.current===document.activeElement),H=I4(ue,te,V);H&&setTimeout(()=>H.ref.current.focus())}),X=w.useCallback((te,ue,V)=>{const H=!U.current&&!V;(b.value!==void 0&&b.value===ue||H)&&(T(te),H&&(U.current=!0))},[b.value]),oe=w.useCallback(()=>x==null?void 0:x.focus(),[x]),W=w.useCallback((te,ue,V)=>{const H=!U.current&&!V;(b.value!==void 0&&b.value===ue||H)&&M(te)},[b.value]),K=n==="popper"?oA:ese,ee=K===oA?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:y}:{};return w.createElement(O4,{scope:r,content:x,viewport:_,onViewportChange:N,itemRefCallback:X,selectedItem:C,onItemLeave:oe,itemTextRefCallback:W,focusSelectedItem:q,selectedItemText:$,position:n,isPositioned:D,searchRef:R},w.createElement(P4,{as:sh,allowPinchZoom:!0},w.createElement(Kte,{asChild:!0,trapped:b.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:gn(s,te=>{var ue;(ue=b.trigger)===null||ue===void 0||ue.focus({preventScroll:!0}),te.preventDefault()})},w.createElement(Ute,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>b.onOpenChange(!1)},w.createElement(K,bt({role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:te=>te.preventDefault()},v,ee,{onPlaced:()=>z(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:gn(v.onKeyDown,te=>{const ue=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!ue&&te.key.length===1&&B(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let H=L().filter(se=>!se.disabled).map(se=>se.ref.current);if(["ArrowUp","End"].includes(te.key)&&(H=H.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const se=te.target,O=H.indexOf(se);H=H.slice(O+1)}setTimeout(()=>G(H)),te.preventDefault()}})}))))))}),ese=w.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=dc(zu,r),o=wv(zu,r),[a,l]=w.useState(null),[c,d]=w.useState(null),f=$n(t,k=>d(k)),h=mE(r),p=w.useRef(!1),g=w.useRef(!0),{viewport:m,selectedItem:y,selectedItemText:v,focusSelectedItem:b}=o,x=w.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&m&&y&&v){const k=i.trigger.getBoundingClientRect(),C=c.getBoundingClientRect(),T=i.valueNode.getBoundingClientRect(),$=v.getBoundingClientRect();if(i.dir!=="rtl"){const se=$.left-C.left,O=T.left-se,ye=k.left-O,je=k.width+ye,Be=Math.max(je,C.width),Ue=window.innerWidth-fo,nt=MT(O,[fo,Ue-Be]);a.style.minWidth=je+"px",a.style.left=nt+"px"}else{const se=C.right-$.right,O=window.innerWidth-T.right-se,ye=window.innerWidth-k.right-O,je=k.width+ye,Be=Math.max(je,C.width),Ue=window.innerWidth-fo,nt=MT(O,[fo,Ue-Be]);a.style.minWidth=je+"px",a.style.right=nt+"px"}const M=h(),L=window.innerHeight-fo*2,D=m.scrollHeight,z=window.getComputedStyle(c),U=parseInt(z.borderTopWidth,10),G=parseInt(z.paddingTop,10),q=parseInt(z.borderBottomWidth,10),Z=parseInt(z.paddingBottom,10),ie=U+G+D+Z+q,R=Math.min(y.offsetHeight*5,ie),B=window.getComputedStyle(m),X=parseInt(B.paddingTop,10),oe=parseInt(B.paddingBottom,10),W=k.top+k.height/2-fo,K=L-W,ee=y.offsetHeight/2,te=y.offsetTop+ee,ue=U+G+te,V=ie-ue;if(ue<=W){const se=y===M[M.length-1].ref.current;a.style.bottom="0px";const O=c.clientHeight-m.offsetTop-m.offsetHeight,ye=Math.max(K,ee+(se?oe:0)+O+q),je=ue+ye;a.style.height=je+"px"}else{const se=y===M[0].ref.current;a.style.top="0px";const ye=Math.max(W,U+m.offsetTop+(se?X:0)+ee)+V;a.style.height=ye+"px",m.scrollTop=ue-W+m.offsetTop}a.style.margin=`${fo}px 0`,a.style.minHeight=R+"px",a.style.maxHeight=L+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,i.trigger,i.valueNode,a,c,m,y,v,i.dir,n]);No(()=>x(),[x]);const[E,_]=w.useState();No(()=>{c&&_(window.getComputedStyle(c).zIndex)},[c]);const N=w.useCallback(k=>{k&&g.current===!0&&(x(),b==null||b(),g.current=!1)},[x,b]);return w.createElement(tse,{scope:r,contentWrapper:a,shouldExpandOnScrollRef:p,onScrollButtonChange:N},w.createElement("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E}},w.createElement(Yr.div,bt({},s,{ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}}))))}),oA=w.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=fo,...i}=e,o=gE(r);return w.createElement(_ne,bt({},o,i,{ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[tse,rse]=md(zu,{}),aA="SelectViewport",nse=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=wv(aA,r),i=rse(aA,r),o=$n(t,s.onViewportChange),a=w.useRef(0);return w.createElement(w.Fragment,null,w.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),w.createElement(xv.Slot,{scope:r},w.createElement(Yr.div,bt({"data-radix-select-viewport":"",role:"presentation"},n,{ref:o,style:{position:"relative",flex:1,overflow:"auto",...n.style},onScroll:gn(n.onScroll,l=>{const c=l.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:f}=i;if(f!=null&&f.current&&d){const h=Math.abs(a.current-c.scrollTop);if(h>0){const p=window.innerHeight-fo*2,g=parseFloat(d.style.minHeight),m=parseFloat(d.style.height),y=Math.max(g,m);if(y<p){const v=y+h,b=Math.min(p,v),x=v-b;d.style.height=b+"px",d.style.bottom==="0px"&&(c.scrollTop=x>0?x:0,d.style.justifyContent="flex-end")}}}a.current=c.scrollTop})}))))}),sse="SelectGroup",[ise,ose]=md(sse),ase=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=lE();return w.createElement(ise,{scope:r,id:s},w.createElement(Yr.div,bt({role:"group","aria-labelledby":s},n,{ref:t})))}),lse="SelectLabel",cse=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=ose(lse,r);return w.createElement(Yr.div,bt({id:s.id},n,{ref:t}))}),qw="SelectItem",[use,D4]=md(qw),dse=w.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=e,a=dc(qw,r),l=wv(qw,r),c=a.value===n,[d,f]=w.useState(i??""),[h,p]=w.useState(!1),g=$n(t,v=>{var b;return(b=l.itemRefCallback)===null||b===void 0?void 0:b.call(l,v,n,s)}),m=lE(),y=()=>{s||(a.onValueChange(n),a.onOpenChange(!1))};return w.createElement(use,{scope:r,value:n,disabled:s,textId:m,isSelected:c,onItemTextChange:w.useCallback(v=>{f(b=>{var x;return b||((x=v==null?void 0:v.textContent)!==null&&x!==void 0?x:"").trim()})},[])},w.createElement(xv.ItemSlot,{scope:r,value:n,disabled:s,textValue:d},w.createElement(Yr.div,bt({role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1},o,{ref:g,onFocus:gn(o.onFocus,()=>p(!0)),onBlur:gn(o.onBlur,()=>p(!1)),onPointerUp:gn(o.onPointerUp,y),onPointerMove:gn(o.onPointerMove,v=>{if(s){var b;(b=l.onItemLeave)===null||b===void 0||b.call(l)}else v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:gn(o.onPointerLeave,v=>{if(v.currentTarget===document.activeElement){var b;(b=l.onItemLeave)===null||b===void 0||b.call(l)}}),onKeyDown:gn(o.onKeyDown,v=>{var b;((b=l.searchRef)===null||b===void 0?void 0:b.current)!==""&&v.key===" "||(Bne.includes(v.key)&&y(),v.key===" "&&v.preventDefault())})}))))}),am="SelectItemText",fse=w.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,o=dc(am,r),a=wv(am,r),l=D4(am,r),c=Vne(am,r),[d,f]=w.useState(null),h=$n(t,v=>f(v),l.onItemTextChange,v=>{var b;return(b=a.itemTextRefCallback)===null||b===void 0?void 0:b.call(a,v,l.value,l.disabled)}),p=d==null?void 0:d.textContent,g=w.useMemo(()=>w.createElement("option",{key:l.value,value:l.value,disabled:l.disabled},p),[l.disabled,l.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:y}=c;return No(()=>(m(g),()=>y(g)),[m,y,g]),w.createElement(w.Fragment,null,w.createElement(Yr.span,bt({id:l.textId},i,{ref:h})),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Li.createPortal(i.children,o.valueNode):null)}),hse="SelectItemIndicator",pse=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return D4(hse,r).isSelected?w.createElement(Yr.span,bt({"aria-hidden":!0},n,{ref:t})):null}),mse=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return w.createElement(Yr.div,bt({"aria-hidden":!0},n,{ref:t}))}),R4=w.forwardRef((e,t)=>{const{value:r,...n}=e,s=w.useRef(null),i=$n(t,s),o=jne(r);return w.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==r&&d){const f=new Event("change",{bubbles:!0});d.call(a,r),a.dispatchEvent(f)}},[o,r]),w.createElement(Nne,{asChild:!0},w.createElement("select",bt({},n,{ref:i,defaultValue:r})))});R4.displayName="BubbleSelect";function $4(e){const t=jo(e),r=w.useRef(""),n=w.useRef(0),s=w.useCallback(o=>{const a=r.current+o;t(a),function l(c){r.current=c,window.clearTimeout(n.current),c!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(a)},[t]),i=w.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function I4(e,t,r){const s=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=gse(e,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==r));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==r?l:void 0}function gse(e,t){return e.map((r,n)=>e[(t+n)%e.length])}const yse=Wne,M4=Hne,vse=Gne,bse=Zne,xse=Xne,L4=Jne,wse=nse,_se=ase,F4=cse,B4=dse,Sse=fse,Ese=pse,z4=mse;function nr(...e){return wI(rt(e))}const gf=yse,jse=_se,yf=vse,Jc=S.forwardRef(({className:e,children:t,...r},n)=>u.jsxs(M4,{ref:n,className:nr("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,u.jsx(bse,{asChild:!0,children:u.jsx(KM,{className:"h-4 w-4 opacity-50"})})]}));Jc.displayName=M4.displayName;const Qc=S.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>u.jsx(xse,{children:u.jsx(L4,{ref:s,className:nr("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:duration-75",r==="popper"&&"data-[state=open]:slide-in-from-top-[60%] data-[state=closed]:slide-out-to-top-[60%] data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:u.jsx(wse,{className:nr("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t})})}));Qc.displayName=L4.displayName;const U4=S.forwardRef(({className:e,...t},r)=>u.jsx(F4,{ref:r,className:nr("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));U4.displayName=F4.displayName;const zs=S.forwardRef(({className:e,children:t,...r},n)=>u.jsxs(B4,{ref:n,className:nr("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(Ese,{children:u.jsx(KM,{className:"h-4 w-4"})})}),u.jsx(Sse,{children:t})]}));zs.displayName=B4.displayName;const q4=S.forwardRef(({className:e,...t},r)=>u.jsx(z4,{ref:r,className:nr("-mx-1 my-1 h-px bg-muted",e),...t}));q4.displayName=z4.displayName;function Nse(e){const t=S.useRef({value:e,previous:e});return S.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function kse(e){const[t,r]=S.useState(void 0);return Iu(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=e.offsetWidth,a=e.offsetHeight;r({width:o,height:a})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var _v="Switch",[Cse,MRe]=ud(_v),[Tse,Ase]=Cse(_v),V4=S.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:i,required:o,disabled:a,value:l="on",onCheckedChange:c,form:d,...f}=e,[h,p]=S.useState(null),g=Rn(t,x=>p(x)),m=S.useRef(!1),y=h?d||!!h.closest("form"):!0,[v,b]=Hy({prop:s,defaultProp:i??!1,onChange:c,caller:_v});return u.jsxs(Tse,{scope:r,checked:v,disabled:a,children:[u.jsx(Lr.button,{type:"button",role:"switch","aria-checked":v,"aria-required":o,"data-state":Y4(v),"data-disabled":a?"":void 0,disabled:a,value:l,...f,ref:g,onClick:Nr(e.onClick,x=>{b(E=>!E),y&&(m.current=x.isPropagationStopped(),m.current||x.stopPropagation())})}),y&&u.jsx(H4,{control:h,bubbles:!m.current,name:n,value:l,checked:v,required:o,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});V4.displayName=_v;var W4="SwitchThumb",K4=S.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=Ase(W4,r);return u.jsx(Lr.span,{"data-state":Y4(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});K4.displayName=W4;var Pse="SwitchBubbleInput",H4=S.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},i)=>{const o=S.useRef(null),a=Rn(o,i),l=Nse(r),c=kse(t);return S.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&p){const g=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(g)}},[l,r,n]),u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:a,style:{...s.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});H4.displayName=Pse;function Y4(e){return e?"checked":"unchecked"}var G4=V4,Ose=K4;const ah=S.forwardRef(({className:e,...t},r)=>u.jsx(G4,{className:We("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:u.jsx(Ose,{className:We("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));ah.displayName=G4.displayName;const Dse=zy("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:h-4 [&>svg]:w-4",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",success:"border-emerald-500/50 text-emerald-600 dark:text-emerald-400 [&>svg]:text-emerald-600 dark:[&>svg]:text-emerald-400"}},defaultVariants:{variant:"default"}}),Sv=S.forwardRef(({className:e,variant:t,...r},n)=>u.jsx("div",{ref:n,role:"alert",className:nr(Dse({variant:t}),e),...r}));Sv.displayName="Alert";const Ev=S.forwardRef(({className:e,...t},r)=>u.jsx("h5",{ref:r,className:nr("mb-1 font-medium leading-none tracking-tight",e),...t}));Ev.displayName="AlertTitle";const lh=S.forwardRef(({className:e,...t},r)=>u.jsx("div",{ref:r,className:nr("text-sm [&_p]:leading-relaxed",e),...t}));lh.displayName="AlertDescription";const Z4=S.forwardRef(({className:e,variant:t="default",children:r,icon:n,...s},i)=>{const o={default:HM,destructive:zS,success:zY}[t]||Ni;return u.jsxs(Sv,{ref:i,variant:t,className:nr("flex items-start gap-3",e),...s,children:[n||u.jsx(o,{className:"h-4 w-4 flex-shrink-0 mt-0.5"}),u.jsx("div",{children:S.Children.map(r,a=>S.isValidElement(a)&&(a.type===Ev||a.type===lh)?a:u.jsx(lh,{children:a}))})]})});Z4.displayName="AlertWithIcon";const Rse=DT({name:rm().min(1,"Name is required").max(100,"Name is too long"),description:rm().max(500,"Description is too long").optional(),product_type:Iw(["single_issue","bundle","chapter_pass","arc_pass"]),active:ete(),work_id:rm().nullable().optional(),content_grants:r4(DT({type:Iw(["work","chapter"]),id:rm().min(1,"Content ID is required")}))}),$se=({product:e,onSave:t,onCancel:r,isSubmitting:n=!1})=>{var N,k;const[s,i]=w.useState([]),[o,a]=w.useState(!0),[l,c]=w.useState(null),{control:d,register:f,handleSubmit:h,reset:p,watch:g,setValue:m,formState:{errors:y}}=bX({resolver:hee(Rse),defaultValues:{name:(e==null?void 0:e.name)||"",description:(e==null?void 0:e.description)||"",product_type:(e==null?void 0:e.product_type)||"single_issue",active:(e==null?void 0:e.active)??!0,work_id:(e==null?void 0:e.work_id)||null,content_grants:Array.isArray(e==null?void 0:e.content_grants)?e.content_grants:[]}}),v=g("product_type");w.useEffect(()=>{(async()=>{a(!0),c(null);try{const T=await fetch("/api/content/works");if(!T.ok)throw new Error(`Failed to fetch works: ${T.statusText}`);const $=await T.json();i($.works||[])}catch(T){console.error("Error fetching works:",T),c("Failed to load content. Please try again later.")}finally{a(!1)}})()},[]);const b=C=>{const T={...C,work_id:C.work_id||null};t(T)},x=()=>{const C=g("content_grants")||[];m("content_grants",[...C,{type:"work",id:""}],{shouldValidate:!0})},E=C=>{const $=(g("content_grants")||[]).filter((M,L)=>L!==C);m("content_grants",$,{shouldValidate:!0})},_=(C,T,$)=>{const L=[...g("content_grants")||[]];L[C]={...L[C],[T]:$},m("content_grants",L,{shouldValidate:!0})};return o?u.jsxs("div",{className:"flex items-center justify-center p-8",children:[u.jsx(Fu,{className:"h-6 w-6 animate-spin text-primary mr-2"}),u.jsx("span",{children:"Loading form..."})]}):u.jsxs("form",{onSubmit:h(b),className:"space-y-6",children:[l&&u.jsxs(Sv,{variant:"destructive",children:[u.jsx(Ni,{className:"h-4 w-4"}),u.jsx(Ev,{children:"Error"}),u.jsx(lh,{children:l})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Kn,{htmlFor:"name",children:"Product Name *"}),u.jsx(bs,{id:"name",placeholder:"e.g., Issue #1, Premium Bundle",...f("name"),className:y.name?"border-destructive":""}),y.name&&u.jsx("p",{className:"text-sm font-medium text-destructive",children:y.name.message})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Kn,{htmlFor:"description",children:"Description"}),u.jsx(hv,{id:"description",placeholder:"A brief description of the product...",rows:3,...f("description"),className:y.description?"border-destructive":""}),y.description&&u.jsx("p",{className:"text-sm font-medium text-destructive",children:y.description.message})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Kn,{htmlFor:"product_type",children:"Product Type *"}),u.jsx(w0,{name:"product_type",control:d,render:({field:C})=>u.jsxs(gf,{onValueChange:C.onChange,value:C.value,children:[u.jsx(Jc,{className:"w-full",children:u.jsx(yf,{placeholder:"Select a product type"})}),u.jsxs(Qc,{children:[u.jsx(zs,{value:"single_issue",children:"Single Issue"}),u.jsx(zs,{value:"bundle",children:"Bundle"}),u.jsx(zs,{value:"chapter_pass",children:"Chapter Pass"}),u.jsx(zs,{value:"arc_pass",children:"Arc Pass"})]})]})}),y.product_type&&u.jsx("p",{className:"text-sm font-medium text-destructive",children:y.product_type.message})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(w0,{name:"active",control:d,render:({field:C})=>u.jsx(ah,{id:"active",checked:C.value,onCheckedChange:C.onChange})}),u.jsx(Kn,{htmlFor:"active",children:"Active"})]}),v==="single_issue"&&u.jsxs("div",{className:"space-y-2",children:[u.jsx(Kn,{htmlFor:"work_id",children:"Associated Work (Issue/Book)"}),u.jsx(w0,{name:"work_id",control:d,render:({field:C})=>u.jsxs(gf,{onValueChange:C.onChange,value:C.value||"",children:[u.jsx(Jc,{children:u.jsx(yf,{placeholder:"Select an associated work"})}),u.jsxs(Qc,{children:[u.jsx(zs,{value:"",children:"None"}),s.map(T=>u.jsxs(zs,{value:T.id,children:[T.title," (",T.type,")"]},T.id))]})]})}),y.work_id&&u.jsx("p",{className:"text-sm font-medium text-destructive",children:y.work_id.message})]}),(v==="bundle"||v==="chapter_pass"||v==="arc_pass")&&u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(Kn,{children:"Content Grants"}),u.jsxs(tt,{type:"button",variant:"outline",size:"sm",onClick:x,className:"text-sm",children:[u.jsx(Fi,{className:"h-3.5 w-3.5 mr-1.5"}),"Add Grant"]})]}),u.jsxs("div",{className:"space-y-3",children:[(N=g("content_grants"))==null?void 0:N.map((C,T)=>u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-2 flex-1",children:[u.jsx("div",{className:"space-y-1",children:u.jsxs(gf,{value:C.type,onValueChange:$=>_(T,"type",$),children:[u.jsx(Jc,{children:u.jsx(yf,{})}),u.jsxs(Qc,{children:[u.jsx(zs,{value:"work",children:"Work"}),u.jsx(zs,{value:"chapter",children:"Chapter"})]})]})}),u.jsx("div",{className:"space-y-1",children:u.jsxs(gf,{value:C.id,onValueChange:$=>_(T,"id",$),children:[u.jsx(Jc,{children:u.jsx(yf,{placeholder:`Select ${C.type}...`})}),u.jsxs(Qc,{children:[s.filter($=>C.type==="work"||$.type===C.type).map($=>u.jsxs(zs,{value:$.id,children:[$.title," (",$.type,")"]},$.id)),s.length===0&&u.jsxs("div",{className:"p-2 text-sm text-muted-foreground",children:["No ",C.type,"s found"]})]})]})})]}),u.jsxs(tt,{type:"button",variant:"ghost",size:"icon",className:"h-10 w-10 text-destructive hover:bg-destructive/10",onClick:()=>E(T),children:[u.jsx(La,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Remove"})]})]},T)),((k=g("content_grants"))==null?void 0:k.length)===0&&u.jsx("div",{className:"rounded-md border border-dashed p-4 text-center",children:u.jsx("p",{className:"text-sm text-muted-foreground",children:'No content grants added yet. Click "Add Grant" to get started.'})})]}),y.content_grants&&u.jsx("p",{className:"text-sm font-medium text-destructive",children:y.content_grants.message||"Please check the content grants"})]}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[u.jsx(tt,{type:"button",variant:"outline",onClick:r,disabled:n,children:"Cancel"}),u.jsx(tt,{type:"submit",disabled:n,children:n?u.jsxs(u.Fragment,{children:[u.jsx(Fu,{className:"mr-2 h-4 w-4 animate-spin"}),e?"Updating...":"Creating..."]}):u.jsx(u.Fragment,{children:e?"Update Product":"Create Product"})})]})]})},yE=S.forwardRef(({className:e,...t},r)=>u.jsx("div",{className:"w-full overflow-auto",children:u.jsx("table",{ref:r,className:We("w-full caption-bottom text-sm",e),...t})}));yE.displayName="Table";const vE=S.forwardRef(({className:e,...t},r)=>u.jsx("thead",{ref:r,className:We("[&_tr]:border-b",e),...t}));vE.displayName="TableHeader";const bE=S.forwardRef(({className:e,...t},r)=>u.jsx("tbody",{ref:r,className:We("[&_tr:last-child]:border-0",e),...t}));bE.displayName="TableBody";const X4=S.forwardRef(({className:e,...t},r)=>u.jsx("tfoot",{ref:r,className:We("bg-primary font-medium text-primary-foreground",e),...t}));X4.displayName="TableFooter";const $f=S.forwardRef(({className:e,...t},r)=>u.jsx("tr",{ref:r,className:We("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));$f.displayName="TableRow";const _l=S.forwardRef(({className:e,...t},r)=>u.jsx("th",{ref:r,className:We("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));_l.displayName="TableHead";const ga=S.forwardRef(({className:e,...t},r)=>u.jsx("td",{ref:r,className:We("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));ga.displayName="TableCell";const J4=S.forwardRef(({className:e,...t},r)=>u.jsx("caption",{ref:r,className:We("mt-4 text-sm text-muted-foreground",e),...t}));J4.displayName="TableCaption";const Q4=iM,e5=oM,t5=aM,Ise=Zy,xE=S.forwardRef(({className:e,...t},r)=>u.jsx(xS,{ref:r,className:We("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));xE.displayName=xS.displayName;const wE=S.forwardRef(({className:e,children:t,...r},n)=>u.jsxs(t5,{children:[u.jsx(xE,{}),u.jsxs(wS,{ref:n,className:We("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,u.jsxs(Zy,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[u.jsx(La,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));wE.displayName=wS.displayName;const _E=({className:e,...t})=>u.jsx("div",{className:We("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});_E.displayName="DialogHeader";const r5=({className:e,...t})=>u.jsx("div",{className:We("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});r5.displayName="DialogFooter";const SE=S.forwardRef(({className:e,...t},r)=>u.jsx(_S,{ref:r,className:We("text-lg font-semibold leading-none tracking-tight",e),...t}));SE.displayName=_S.displayName;const n5=S.forwardRef(({className:e,...t},r)=>u.jsx(SS,{ref:r,className:We("text-sm text-muted-foreground",e),...t}));n5.displayName=SS.displayName;function Mse(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}Array(12).fill(0);let Vw=1;class Lse{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...s}=t,i=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:Vw++,o=this.toasts.find(l=>l.id===i),a=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...t,id:i,title:n}),{...l,...t,id:i,dismissible:a,title:n}):l):this.addToast({title:n,...s,dismissible:a,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const s=Promise.resolve(t instanceof Function?t():t);let i=n!==void 0,o;const a=s.then(async c=>{if(o=["resolve",c],w.isValidElement(c))i=!1,this.create({id:n,type:"default",message:c});else if(Bse(c)&&!c.ok){i=!1;const f=typeof r.error=="function"?await r.error(`HTTP error! status: ${c.status}`):r.error,h=typeof r.description=="function"?await r.description(`HTTP error! status: ${c.status}`):r.description,g=typeof f=="object"&&!w.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:h,...g})}else if(c instanceof Error){i=!1;const f=typeof r.error=="function"?await r.error(c):r.error,h=typeof r.description=="function"?await r.description(c):r.description,g=typeof f=="object"&&!w.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:h,...g})}else if(r.success!==void 0){i=!1;const f=typeof r.success=="function"?await r.success(c):r.success,h=typeof r.description=="function"?await r.description(c):r.description,g=typeof f=="object"&&!w.isValidElement(f)?f:{message:f};this.create({id:n,type:"success",description:h,...g})}}).catch(async c=>{if(o=["reject",c],r.error!==void 0){i=!1;const d=typeof r.error=="function"?await r.error(c):r.error,f=typeof r.description=="function"?await r.description(c):r.description,p=typeof d=="object"&&!w.isValidElement(d)?d:{message:d};this.create({id:n,type:"error",description:f,...p})}}).finally(()=>{i&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),l=()=>new Promise((c,d)=>a.then(()=>o[0]==="reject"?d(o[1]):c(o[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(t,r)=>{const n=(r==null?void 0:r.id)||Vw++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const ms=new Lse,Fse=(e,t)=>{const r=(t==null?void 0:t.id)||Vw++;return ms.addToast({title:e,...t,id:r}),r},Bse=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",zse=Fse,Use=()=>ms.toasts,qse=()=>ms.getActiveToasts(),qe=Object.assign(zse,{success:ms.success,info:ms.info,warning:ms.warning,error:ms.error,custom:ms.custom,message:ms.message,promise:ms.promise,dismiss:ms.dismiss,loading:ms.loading},{getHistory:Use,getToasts:qse});Mse("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const Vse=()=>{const[e,t]=w.useState([]),[r,n]=w.useState(!1),[s,i]=w.useState(!0),[o,a]=w.useState(!1),[l,c]=w.useState(null),d=async()=>{i(!0);try{const m=await fetch("/api/products");if(!m.ok)throw new Error(`HTTP error! status: ${m.status}`);const y=await m.json();t(y.products),qe.success("Products loaded successfully")}catch(m){console.error("Error fetching products:",m),qe.error("Failed to load products")}finally{i(!1)}};w.useEffect(()=>{d()},[]);const f=async m=>{a(!0);try{let y;if(l?y=await fetch(`/api/products/${l.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...m,active:m.active??!0})}):y=await fetch("/api/products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...m,active:m.active??!0})}),!y.ok){const b=await y.json();throw new Error(b.message||"Failed to save product")}const v=await y.json();qe.success(l?"Product updated successfully":"Product created successfully"),n(!1),c(null),await d()}catch(y){console.error("Error saving product:",y),qe.error((y instanceof Error?y.message:String(y))||"Failed to save product")}finally{a(!1)}},h=async m=>{if(window.confirm("Are you sure you want to archive this product?"))try{const y=await fetch(`/api/products/${m}`,{method:"DELETE"});if(!y.ok){const v=await y.json();throw new Error(v.message||"Failed to delete product")}qe.success("Product archived successfully"),await d()}catch(y){console.error("Error deleting product:",y),qe.error((y instanceof Error?y.message:String(y))||"Failed to archive product")}},p=m=>{c(m),n(!0)},g=()=>{n(!1),c(null)};return s?u.jsxs("div",{className:"flex items-center justify-center p-8",children:[u.jsx(Fu,{className:"h-8 w-8 animate-spin text-primary"}),u.jsx("span",{className:"ml-2",children:"Loading products..."})]}):u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Products"}),u.jsxs("p",{className:"text-muted-foreground",children:[e.length," product",e.length!==1?"s":""," in your store"]})]}),u.jsxs(Q4,{open:r,onOpenChange:g,children:[u.jsx(e5,{asChild:!0,children:u.jsxs(tt,{onClick:()=>n(!0),children:[u.jsx(Fi,{className:"mr-2 h-4 w-4"}),"Add Product"]})}),u.jsxs(wE,{className:"sm:max-w-[700px]",children:[u.jsx(_E,{children:u.jsx(SE,{children:l?"Edit Product":"Create New Product"})}),u.jsx($se,{product:l,onSave:f,onCancel:g,isSubmitting:o})]})]})]}),u.jsx("div",{className:"rounded-md border",children:u.jsxs(yE,{children:[u.jsx(vE,{children:u.jsxs($f,{children:[u.jsx(_l,{className:"w-[300px]",children:"Name"}),u.jsx(_l,{children:"Type"}),u.jsx(_l,{children:"Status"}),u.jsx(_l,{children:"Created"}),u.jsx(_l,{className:"text-right",children:"Actions"})]})}),u.jsx(bE,{children:e.length===0?u.jsx($f,{children:u.jsx(ga,{colSpan:5,className:"h-24 text-center",children:"No products found."})}):e.map(m=>{var y;return u.jsxs($f,{children:[u.jsxs(ga,{className:"font-medium",children:[u.jsx("div",{className:"font-medium",children:m.name}),u.jsx("div",{className:"text-sm text-muted-foreground line-clamp-2",children:m.description||"No description"})]}),u.jsx(ga,{children:u.jsx("span",{className:"inline-flex items-center rounded-full bg-secondary px-2.5 py-0.5 text-xs font-medium text-secondary-foreground capitalize",children:(y=m.product_type)==null?void 0:y.replace("_"," ")})}),u.jsx(ga,{children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:`h-2.5 w-2.5 rounded-full mr-2 ${m.active?"bg-green-500":"bg-gray-300"}`}),m.active?"Active":"Inactive"]})}),u.jsx(ga,{children:new Date(m.created_at).toLocaleDateString()}),u.jsx(ga,{className:"text-right",children:u.jsxs("div",{className:"flex justify-end space-x-2",children:[u.jsxs(tt,{variant:"outline",size:"sm",onClick:()=>p(m),children:[u.jsx(eG,{className:"h-4 w-4 mr-1"}),"Edit"]}),u.jsxs(tt,{variant:"outline",size:"sm",onClick:()=>h(m.id),className:"text-destructive hover:bg-destructive/10 hover:text-destructive",children:[u.jsx(uc,{className:"h-4 w-4 mr-1"}),"Archive"]})]})})]},m.id)})})]})})]})};function T0({className:e,...t}){return u.jsx("div",{className:`animate-pulse bg-gray-200 dark:bg-gray-700 rounded-md ${e||""}`,...t})}const eu=S.forwardRef(({className:e,...t},r)=>u.jsx("div",{ref:r,className:We("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));eu.displayName="Card";const tu=S.forwardRef(({className:e,...t},r)=>u.jsx("div",{ref:r,className:We("flex flex-col space-y-1.5 p-6",e),...t}));tu.displayName="CardHeader";const ru=S.forwardRef(({className:e,...t},r)=>u.jsx("h3",{ref:r,className:We("text-2xl font-semibold leading-none tracking-tight",e),...t}));ru.displayName="CardTitle";const s5=S.forwardRef(({className:e,...t},r)=>u.jsx("p",{ref:r,className:We("text-sm text-muted-foreground",e),...t}));s5.displayName="CardDescription";const nu=S.forwardRef(({className:e,...t},r)=>u.jsx("div",{ref:r,className:We("p-6 pt-0",e),...t}));nu.displayName="CardContent";const i5=S.forwardRef(({className:e,...t},r)=>u.jsx("div",{ref:r,className:We("flex items-center p-6 pt-0",e),...t}));i5.displayName="CardFooter";const Wse=w.lazy(()=>Promise.resolve().then(()=>require("./PriceManager-DeAb5MBq.cjs"))),Kse=()=>u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(T0,{className:"h-9 w-32"}),u.jsx(T0,{className:"h-9 w-24"})]}),u.jsx("div",{className:"space-y-2",children:[...Array(5)].map((e,t)=>u.jsx(T0,{className:"h-12 w-full"},t))})]}),Hse=()=>u.jsxs("div",{className:"container mx-auto p-4 space-y-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Store Management"}),u.jsx("p",{className:"text-muted-foreground",children:"Manage your store's products, pricing, and customer purchases"})]}),u.jsxs(CL,{defaultValue:"products",className:"w-full space-y-6",children:[u.jsxs(KS,{className:"grid w-full md:w-[400px] grid-cols-2",children:[u.jsx(Gc,{value:"products",children:"Products"}),u.jsx(Gc,{value:"prices",children:"Pricing"}),u.jsx(Gc,{value:"purchases",children:"Purchases"}),u.jsx(Gc,{value:"analytics",children:"Analytics"})]}),u.jsx(Zc,{value:"products",className:"space-y-4",children:u.jsxs(eu,{children:[u.jsx(tu,{children:u.jsx(ru,{children:"Product Catalog"})}),u.jsx(nu,{children:u.jsx(Vse,{})})]})}),u.jsx(Zc,{value:"prices",className:"space-y-4",children:u.jsxs(eu,{children:[u.jsx(tu,{children:u.jsx(ru,{children:"Pricing & Plans"})}),u.jsx(nu,{children:u.jsx(w.Suspense,{fallback:u.jsx(Kse,{}),children:u.jsx(Wse,{})})})]})}),u.jsx(Zc,{value:"purchases",className:"space-y-4",children:u.jsxs(eu,{children:[u.jsx(tu,{children:u.jsx(ru,{children:"Purchase History"})}),u.jsx(nu,{children:u.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[u.jsx("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center mb-4",children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-8 w-8 text-muted-foreground",children:[u.jsx("path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"}),u.jsx("path",{d:"M3 6h18"}),u.jsx("path",{d:"M16 10a4 4 0 0 1-8 0"})]})}),u.jsx("h3",{className:"text-lg font-medium mb-2",children:"Purchase History"}),u.jsx("p",{className:"text-sm text-muted-foreground max-w-md",children:"View and manage customer purchases, refunds, and order history."})]})})]})}),u.jsx(Zc,{value:"analytics",className:"space-y-4",children:u.jsxs(eu,{children:[u.jsx(tu,{children:u.jsx(ru,{children:"Store Analytics"})}),u.jsx(nu,{children:u.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[u.jsx("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center mb-4",children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-8 w-8 text-muted-foreground",children:[u.jsx("path",{d:"M3 3v18h18"}),u.jsx("path",{d:"m19 9-5 5-4-4-3 3"})]})}),u.jsx("h3",{className:"text-lg font-medium mb-2",children:"Sales Analytics"}),u.jsx("p",{className:"text-sm text-muted-foreground max-w-md mb-4",children:"View detailed analytics and reports about your store's performance."}),u.jsx(tt,{disabled:!0,children:"Coming Soon"})]})})]})})]})]}),Yse=async()=>{const{data:e,error:t}=await he.from("works").select("*").order("order_in_parent",{ascending:!0});if(t)throw new Error(t.message);return e},Gse=async e=>{if(!e)return[];const{data:t,error:r}=await he.from("purchases").select(`
      id,
      user_id,
      product_id,
      purchased_at,
      status,
      products (
        name,
        description,
        product_type,
        work_id
      )
    `).eq("user_id",e);if(r)throw new Error(r.message);return t.map(n=>{var s,i,o,a;return{id:n.id,user_id:n.user_id,product_id:n.product_id,purchased_at:n.purchased_at,status:n.status,product_title:((s=n.products)==null?void 0:s.name)||"Unknown Product",product_description:(i=n.products)==null?void 0:i.description,product_type:((o=n.products)==null?void 0:o.product_type)||"single_issue",work_id:(a=n.products)==null?void 0:a.work_id}})},Zse=async(e,t)=>{if(!e||!t)return null;const{data:r,error:n}=await he.from("user_ratings").select("rating").eq("user_id",e).eq("work_id",t).single();if(n&&n.code!=="PGRST116")throw new Error(n.message);return r?r.rating:null},Xse=async(e,t,r)=>{const{data:n,error:s}=await he.from("user_ratings").upsert({user_id:e,work_id:t,rating:r},{onConflict:"user_id,work_id"}).select();if(s)throw new Error(s.message);return n[0]},Jse=({work:e,userLibraryItem:t,queryClient:r})=>{var m,y;const{user:n}=qh(),[s,i]=w.useState(null),[o,a]=w.useState(!1),[l,c]=w.useState(!1),{data:d}=dr({queryKey:["userRating",n==null?void 0:n.id,e.id],queryFn:()=>Zse((n==null?void 0:n.id)||"",e.id),enabled:!!(n!=null&&n.id)});w.useEffect(()=>{d!==void 0&&i(d)},[d]);const f=Xt({mutationFn:({userId:v,workId:b,rating:x})=>Xse(v,b,x),onSuccess:()=>{r.invalidateQueries({queryKey:["userRating",n==null?void 0:n.id,e.id]}),r.invalidateQueries({queryKey:["allWorks"]})},onError:v=>{alert(`Error submitting rating: ${v.message}`)}}),h=v=>{if(!n){alert("Please log in to submit a rating.");return}n.id&&f.mutate({userId:n.id,workId:e.id,rating:v})},p=e.word_count&&e.target_word_count?Math.min(100,Math.round(e.word_count/e.target_word_count*100)):e.progress_percentage||0,g="S. Azar";return u.jsxs("article",{className:"book-card","data-book-id":e.id,"aria-label":`Book card: ${e.title} by ${g}`,children:[u.jsxs("div",{className:"book-main",children:[u.jsx("div",{className:"cover",role:"img","aria-label":`Book cover: ${e.title} by ${g}`,style:{background:e.cover_image_url?`url(${e.cover_image_url}) center center / cover`:"var(--teal)"},children:!e.cover_image_url&&u.jsxs("div",{className:"cover-content",children:[u.jsx("div",{className:"cover-title",children:e.title}),u.jsx("div",{className:"cover-author",children:g})]})}),u.jsxs("div",{className:"details",children:[u.jsxs("div",{className:"book-header",children:[u.jsx("h3",{className:"book-title",children:e.title}),u.jsx("div",{className:"author",children:g})]}),(e.release_date||e.estimated_release)&&u.jsx("div",{className:"release-info text-sm text-muted mt-1",children:e.release_date?u.jsxs("span",{children:["Released: ",new Date(e.release_date).toLocaleDateString()]}):u.jsxs("span",{children:["Estimated Release: ",e.estimated_release]})}),(e.status==="planning"||e.status==="writing"||e.status==="editing")&&u.jsxs("div",{className:"progress","aria-label":"Author writing progress",children:[u.jsxs("div",{className:"progress-head",children:[u.jsxs("span",{children:[p,"% written"]}),u.jsxs("span",{"aria-live":"polite",children:[p,"%"]})]}),u.jsx("div",{className:"bar",role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":p,"aria-label":"Author writing progress",children:u.jsx("span",{style:{width:`${p}%`}})})]}),u.jsx("p",{className:"desc",children:e.description||"No description available."}),u.jsxs("div",{className:"rating","aria-label":`Rating ${((m=e.rating)==null?void 0:m.toFixed(1))||"0.0"} out of 5 based on ${e.reviews_count||0} reviews`,children:[u.jsx("span",{className:"stars","aria-hidden":"true",children:[...Array(5)].map((v,b)=>u.jsx(tv,{className:`star ${b<(s!==null?s:Math.floor(e.rating||0))?"filled":""}`,onClick:()=>h(b+1),onMouseEnter:()=>n&&i(b+1),onMouseLeave:()=>n&&i(d!==null?d:null),style:{cursor:n?"pointer":"default"}},b))}),u.jsx("span",{children:((y=e.rating)==null?void 0:y.toFixed(1))||"0.0"}),u.jsxs("small",{children:["• ",e.reviews_count||0," reviews"]})]}),u.jsx("div",{className:"actions",children:t?u.jsx(u.Fragment,{children:u.jsx("button",{className:"btn primary",children:"Open"})}):u.jsx("button",{className:"btn primary",children:"Buy now"})}),e.sample_content&&u.jsxs("button",{className:"sample-toggle-btn",onClick:()=>a(!o),"aria-expanded":o,children:[u.jsx("span",{children:"Read Sample"}),u.jsx("svg",{className:`toggle-arrow ${o?"expanded":""}`,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:u.jsx("polyline",{points:"6,9 12,15 18,9"})})]})]})]}),o&&e.sample_content&&u.jsxs("div",{className:"sample-card expanded",children:[u.jsx("div",{className:"sample-header",children:u.jsxs("h4",{children:['Sample from "',e.title,'"']})}),u.jsx("div",{className:"sample-excerpt",children:u.jsx("p",{children:e.sample_content})}),u.jsx("div",{className:"sample-actions",children:t?u.jsx("button",{className:"continue-btn",children:"Continue reading"}):u.jsx("button",{className:"buy-btn",children:"Buy now"})})]})]})},Qse=()=>{const{user:e}=qh(),t=qo(),{data:r,isLoading:n,isError:s,error:i}=dr({queryKey:["allWorks"],queryFn:Yse}),{data:o,isLoading:a,isError:l,error:c}=dr({queryKey:["userLibraryItems",e==null?void 0:e.id],queryFn:()=>Gse((e==null?void 0:e.id)||""),enabled:!!(e!=null&&e.id)}),[d,f]=w.useState(!0),[h,p]=w.useState("All"),[g,m]=w.useState("All"),y=(r==null?void 0:r.filter(v=>{const b=h==="All"||v.type===h.toLowerCase(),x=g==="All"||v.status===g.toLowerCase();return b&&x}))||[];return n||a?u.jsx("div",{className:"text-center py-8 text-text-light",children:"Loading library..."}):s?u.jsxs("div",{className:"text-center py-8 text-red-400",children:["Error loading works: ",i==null?void 0:i.message]}):l?u.jsxs("div",{className:"text-center py-8 text-red-400",children:["Error loading user library: ",c==null?void 0:c.message]}):u.jsxs("div",{className:"container mx-auto px-4 py-8 bg-background-dark text-text-light min-h-screen",children:[u.jsx("h1",{className:"text-4xl font-bold text-text-light mb-6",children:"Your Library"}),d&&u.jsxs("div",{className:"bg-blue-900 bg-opacity-30 border border-blue-700 text-blue-200 p-4 rounded-md mb-6 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(HM,{size:20}),u.jsx("p",{className:"text-sm",children:"Files may include a purchaser-specific watermark. Download limits: 5 per format."})]}),u.jsx("button",{onClick:()=>f(!1),className:"text-blue-200 hover:text-white",children:u.jsx(zS,{size:20})})]}),u.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[u.jsx("button",{onClick:()=>p("All"),className:`px-4 py-2 rounded-full text-sm font-semibold ${h==="All"?"bg-primary-DEFAULT text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"All"}),u.jsx("button",{onClick:()=>p("Book"),className:`px-4 py-2 rounded-full text-sm font-semibold ${h==="Book"?"bg-primary-DEFAULT text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Books"}),u.jsx("button",{onClick:()=>p("Volume"),className:`px-4 py-2 rounded-full text-sm font-semibold ${h==="Volume"?"bg-primary-DEFAULT text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Volumes"}),u.jsx("button",{onClick:()=>p("Saga"),className:`px-4 py-2 rounded-full text-sm font-semibold ${h==="Saga"?"bg-primary-DEFAULT text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Sagas"}),u.jsx("button",{onClick:()=>p("Arc"),className:`px-4 py-2 rounded-full text-sm font-semibold ${h==="Arc"?"bg-primary-DEFAULT text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Arcs"}),u.jsx("button",{onClick:()=>p("Issue"),className:`px-4 py-2 rounded-full text-sm font-semibold ${h==="Issue"?"bg-primary-DEFAULT text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Issues"}),u.jsxs("select",{value:g,onChange:v=>m(v.target.value),className:"px-3 py-2 rounded-full text-sm font-semibold bg-gray-700 text-gray-300 hover:bg-gray-600",children:[u.jsx("option",{value:"All",children:"All Status"}),u.jsx("option",{value:"Published",children:"Published"}),u.jsx("option",{value:"Planning",children:"Planning"}),u.jsx("option",{value:"Writing",children:"Writing"}),u.jsx("option",{value:"Editing",children:"Editing"}),u.jsx("option",{value:"On_hold",children:"On Hold"})]})]}),u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:u.jsx("div",{className:"lg:col-span-3",children:u.jsx("div",{className:"grid grid-cols-1 gap-6 mb-8",children:y.map(v=>{const b=o==null?void 0:o.find(x=>x.work_id===v.id);return u.jsx(Jse,{work:v,userLibraryItem:b,queryClient:t},v.id)})})})})]})};var o5="basil",eie=function(t){return t===3?"v3":t},a5="https://js.stripe.com",tie="".concat(a5,"/").concat(o5,"/stripe.js"),rie=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,nie=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var sie=function(t){return rie.test(t)||nie.test(t)},iie=function(){for(var t=document.querySelectorAll('script[src^="'.concat(a5,'"]')),r=0;r<t.length;r++){var n=t[r];if(sie(n.src))return n}return null},lA=function(t){var r="",n=document.createElement("script");n.src="".concat(tie).concat(r);var s=document.head||document.body;if(!s)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(n),n},oie=function(t,r){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"7.9.0",startTime:r})},Xd=null,lm=null,cm=null,aie=function(t){return function(r){t(new Error("Failed to load Stripe.js",{cause:r}))}},lie=function(t,r){return function(){window.Stripe?t(window.Stripe):r(new Error("Stripe.js not available"))}},cie=function(t){return Xd!==null?Xd:(Xd=new Promise(function(r,n){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe){r(window.Stripe);return}try{var s=iie();if(!(s&&t)){if(!s)s=lA(t);else if(s&&cm!==null&&lm!==null){var i;s.removeEventListener("load",cm),s.removeEventListener("error",lm),(i=s.parentNode)===null||i===void 0||i.removeChild(s),s=lA(t)}}cm=lie(r,n),lm=aie(n),s.addEventListener("load",cm),s.addEventListener("error",lm)}catch(o){n(o);return}}),Xd.catch(function(r){return Xd=null,Promise.reject(r)}))},uie=function(t,r,n){if(t===null)return null;var s=r[0],i=s.match(/^pk_test/),o=eie(t.version),a=o5;i&&o!==a&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("7.9.0"," expected Stripe.js@").concat(a,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var l=t.apply(void 0,r);return oie(l,n),l},Jd,l5=!1,c5=function(){return Jd||(Jd=cie(null).catch(function(t){return Jd=null,Promise.reject(t)}),Jd)};Promise.resolve().then(function(){return c5()}).catch(function(e){l5||console.warn(e)});var die=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];l5=!0;var s=Date.now();return c5().then(function(i){return uie(i,r,s)})},Ww={exports:{}},um={exports:{}},ut={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cA;function fie(){if(cA)return ut;cA=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,n=e?Symbol.for("react.fragment"):60107,s=e?Symbol.for("react.strict_mode"):60108,i=e?Symbol.for("react.profiler"):60114,o=e?Symbol.for("react.provider"):60109,a=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,d=e?Symbol.for("react.forward_ref"):60112,f=e?Symbol.for("react.suspense"):60113,h=e?Symbol.for("react.suspense_list"):60120,p=e?Symbol.for("react.memo"):60115,g=e?Symbol.for("react.lazy"):60116,m=e?Symbol.for("react.block"):60121,y=e?Symbol.for("react.fundamental"):60117,v=e?Symbol.for("react.responder"):60118,b=e?Symbol.for("react.scope"):60119;function x(_){if(typeof _=="object"&&_!==null){var N=_.$$typeof;switch(N){case t:switch(_=_.type,_){case l:case c:case n:case i:case s:case f:return _;default:switch(_=_&&_.$$typeof,_){case a:case d:case g:case p:case o:return _;default:return N}}case r:return N}}}function E(_){return x(_)===c}return ut.AsyncMode=l,ut.ConcurrentMode=c,ut.ContextConsumer=a,ut.ContextProvider=o,ut.Element=t,ut.ForwardRef=d,ut.Fragment=n,ut.Lazy=g,ut.Memo=p,ut.Portal=r,ut.Profiler=i,ut.StrictMode=s,ut.Suspense=f,ut.isAsyncMode=function(_){return E(_)||x(_)===l},ut.isConcurrentMode=E,ut.isContextConsumer=function(_){return x(_)===a},ut.isContextProvider=function(_){return x(_)===o},ut.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===t},ut.isForwardRef=function(_){return x(_)===d},ut.isFragment=function(_){return x(_)===n},ut.isLazy=function(_){return x(_)===g},ut.isMemo=function(_){return x(_)===p},ut.isPortal=function(_){return x(_)===r},ut.isProfiler=function(_){return x(_)===i},ut.isStrictMode=function(_){return x(_)===s},ut.isSuspense=function(_){return x(_)===f},ut.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===n||_===c||_===i||_===s||_===f||_===h||typeof _=="object"&&_!==null&&(_.$$typeof===g||_.$$typeof===p||_.$$typeof===o||_.$$typeof===a||_.$$typeof===d||_.$$typeof===y||_.$$typeof===v||_.$$typeof===b||_.$$typeof===m)},ut.typeOf=x,ut}var dt={};/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uA;function hie(){return uA||(uA=1,process.env.NODE_ENV!=="production"&&function(){var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,n=e?Symbol.for("react.fragment"):60107,s=e?Symbol.for("react.strict_mode"):60108,i=e?Symbol.for("react.profiler"):60114,o=e?Symbol.for("react.provider"):60109,a=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,d=e?Symbol.for("react.forward_ref"):60112,f=e?Symbol.for("react.suspense"):60113,h=e?Symbol.for("react.suspense_list"):60120,p=e?Symbol.for("react.memo"):60115,g=e?Symbol.for("react.lazy"):60116,m=e?Symbol.for("react.block"):60121,y=e?Symbol.for("react.fundamental"):60117,v=e?Symbol.for("react.responder"):60118,b=e?Symbol.for("react.scope"):60119;function x(O){return typeof O=="string"||typeof O=="function"||O===n||O===c||O===i||O===s||O===f||O===h||typeof O=="object"&&O!==null&&(O.$$typeof===g||O.$$typeof===p||O.$$typeof===o||O.$$typeof===a||O.$$typeof===d||O.$$typeof===y||O.$$typeof===v||O.$$typeof===b||O.$$typeof===m)}function E(O){if(typeof O=="object"&&O!==null){var ye=O.$$typeof;switch(ye){case t:var je=O.type;switch(je){case l:case c:case n:case i:case s:case f:return je;default:var Be=je&&je.$$typeof;switch(Be){case a:case d:case g:case p:case o:return Be;default:return ye}}case r:return ye}}}var _=l,N=c,k=a,C=o,T=t,$=d,M=n,L=g,D=p,z=r,U=i,G=s,q=f,Z=!1;function ie(O){return Z||(Z=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),R(O)||E(O)===l}function R(O){return E(O)===c}function B(O){return E(O)===a}function X(O){return E(O)===o}function oe(O){return typeof O=="object"&&O!==null&&O.$$typeof===t}function W(O){return E(O)===d}function K(O){return E(O)===n}function ee(O){return E(O)===g}function te(O){return E(O)===p}function ue(O){return E(O)===r}function V(O){return E(O)===i}function H(O){return E(O)===s}function se(O){return E(O)===f}dt.AsyncMode=_,dt.ConcurrentMode=N,dt.ContextConsumer=k,dt.ContextProvider=C,dt.Element=T,dt.ForwardRef=$,dt.Fragment=M,dt.Lazy=L,dt.Memo=D,dt.Portal=z,dt.Profiler=U,dt.StrictMode=G,dt.Suspense=q,dt.isAsyncMode=ie,dt.isConcurrentMode=R,dt.isContextConsumer=B,dt.isContextProvider=X,dt.isElement=oe,dt.isForwardRef=W,dt.isFragment=K,dt.isLazy=ee,dt.isMemo=te,dt.isPortal=ue,dt.isProfiler=V,dt.isStrictMode=H,dt.isSuspense=se,dt.isValidElementType=x,dt.typeOf=E}()),dt}var dA;function u5(){return dA||(dA=1,process.env.NODE_ENV==="production"?um.exports=fie():um.exports=hie()),um.exports}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var A0,fA;function pie(){if(fA)return A0;fA=1;var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function n(i){if(i==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(i)}function s(){try{if(!Object.assign)return!1;var i=new String("abc");if(i[5]="de",Object.getOwnPropertyNames(i)[0]==="5")return!1;for(var o={},a=0;a<10;a++)o["_"+String.fromCharCode(a)]=a;var l=Object.getOwnPropertyNames(o).map(function(d){return o[d]});if(l.join("")!=="0123456789")return!1;var c={};return"abcdefghijklmnopqrst".split("").forEach(function(d){c[d]=d}),Object.keys(Object.assign({},c)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return A0=s()?Object.assign:function(i,o){for(var a,l=n(i),c,d=1;d<arguments.length;d++){a=Object(arguments[d]);for(var f in a)t.call(a,f)&&(l[f]=a[f]);if(e){c=e(a);for(var h=0;h<c.length;h++)r.call(a,c[h])&&(l[c[h]]=a[c[h]])}}return l},A0}var P0,hA;function EE(){if(hA)return P0;hA=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return P0=e,P0}var O0,pA;function d5(){return pA||(pA=1,O0=Function.call.bind(Object.prototype.hasOwnProperty)),O0}var D0,mA;function mie(){if(mA)return D0;mA=1;var e=function(){};if(process.env.NODE_ENV!=="production"){var t=EE(),r={},n=d5();e=function(i){var o="Warning: "+i;typeof console<"u"&&console.error(o);try{throw new Error(o)}catch{}}}function s(i,o,a,l,c){if(process.env.NODE_ENV!=="production"){for(var d in i)if(n(i,d)){var f;try{if(typeof i[d]!="function"){var h=Error((l||"React class")+": "+a+" type `"+d+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof i[d]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw h.name="Invariant Violation",h}f=i[d](o,d,l,a,null,t)}catch(g){f=g}if(f&&!(f instanceof Error)&&e((l||"React class")+": type specification of "+a+" `"+d+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof f+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),f instanceof Error&&!(f.message in r)){r[f.message]=!0;var p=c?c():"";e("Failed "+a+" type: "+f.message+(p??""))}}}}return s.resetWarningCache=function(){process.env.NODE_ENV!=="production"&&(r={})},D0=s,D0}var R0,gA;function gie(){if(gA)return R0;gA=1;var e=u5(),t=pie(),r=EE(),n=d5(),s=mie(),i=function(){};process.env.NODE_ENV!=="production"&&(i=function(a){var l="Warning: "+a;typeof console<"u"&&console.error(l);try{throw new Error(l)}catch{}});function o(){return null}return R0=function(a,l){var c=typeof Symbol=="function"&&Symbol.iterator,d="@@iterator";function f(R){var B=R&&(c&&R[c]||R[d]);if(typeof B=="function")return B}var h="<<anonymous>>",p={array:v("array"),bigint:v("bigint"),bool:v("boolean"),func:v("function"),number:v("number"),object:v("object"),string:v("string"),symbol:v("symbol"),any:b(),arrayOf:x,element:E(),elementType:_(),instanceOf:N,node:$(),objectOf:C,oneOf:k,oneOfType:T,shape:L,exact:D};function g(R,B){return R===B?R!==0||1/R===1/B:R!==R&&B!==B}function m(R,B){this.message=R,this.data=B&&typeof B=="object"?B:{},this.stack=""}m.prototype=Error.prototype;function y(R){if(process.env.NODE_ENV!=="production")var B={},X=0;function oe(K,ee,te,ue,V,H,se){if(ue=ue||h,H=H||te,se!==r){if(l){var O=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw O.name="Invariant Violation",O}else if(process.env.NODE_ENV!=="production"&&typeof console<"u"){var ye=ue+":"+te;!B[ye]&&X<3&&(i("You are manually calling a React.PropTypes validation function for the `"+H+"` prop on `"+ue+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),B[ye]=!0,X++)}}return ee[te]==null?K?ee[te]===null?new m("The "+V+" `"+H+"` is marked as required "+("in `"+ue+"`, but its value is `null`.")):new m("The "+V+" `"+H+"` is marked as required in "+("`"+ue+"`, but its value is `undefined`.")):null:R(ee,te,ue,V,H)}var W=oe.bind(null,!1);return W.isRequired=oe.bind(null,!0),W}function v(R){function B(X,oe,W,K,ee,te){var ue=X[oe],V=G(ue);if(V!==R){var H=q(ue);return new m("Invalid "+K+" `"+ee+"` of type "+("`"+H+"` supplied to `"+W+"`, expected ")+("`"+R+"`."),{expectedType:R})}return null}return y(B)}function b(){return y(o)}function x(R){function B(X,oe,W,K,ee){if(typeof R!="function")return new m("Property `"+ee+"` of component `"+W+"` has invalid PropType notation inside arrayOf.");var te=X[oe];if(!Array.isArray(te)){var ue=G(te);return new m("Invalid "+K+" `"+ee+"` of type "+("`"+ue+"` supplied to `"+W+"`, expected an array."))}for(var V=0;V<te.length;V++){var H=R(te,V,W,K,ee+"["+V+"]",r);if(H instanceof Error)return H}return null}return y(B)}function E(){function R(B,X,oe,W,K){var ee=B[X];if(!a(ee)){var te=G(ee);return new m("Invalid "+W+" `"+K+"` of type "+("`"+te+"` supplied to `"+oe+"`, expected a single ReactElement."))}return null}return y(R)}function _(){function R(B,X,oe,W,K){var ee=B[X];if(!e.isValidElementType(ee)){var te=G(ee);return new m("Invalid "+W+" `"+K+"` of type "+("`"+te+"` supplied to `"+oe+"`, expected a single ReactElement type."))}return null}return y(R)}function N(R){function B(X,oe,W,K,ee){if(!(X[oe]instanceof R)){var te=R.name||h,ue=ie(X[oe]);return new m("Invalid "+K+" `"+ee+"` of type "+("`"+ue+"` supplied to `"+W+"`, expected ")+("instance of `"+te+"`."))}return null}return y(B)}function k(R){if(!Array.isArray(R))return process.env.NODE_ENV!=="production"&&(arguments.length>1?i("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):i("Invalid argument supplied to oneOf, expected an array.")),o;function B(X,oe,W,K,ee){for(var te=X[oe],ue=0;ue<R.length;ue++)if(g(te,R[ue]))return null;var V=JSON.stringify(R,function(se,O){var ye=q(O);return ye==="symbol"?String(O):O});return new m("Invalid "+K+" `"+ee+"` of value `"+String(te)+"` "+("supplied to `"+W+"`, expected one of "+V+"."))}return y(B)}function C(R){function B(X,oe,W,K,ee){if(typeof R!="function")return new m("Property `"+ee+"` of component `"+W+"` has invalid PropType notation inside objectOf.");var te=X[oe],ue=G(te);if(ue!=="object")return new m("Invalid "+K+" `"+ee+"` of type "+("`"+ue+"` supplied to `"+W+"`, expected an object."));for(var V in te)if(n(te,V)){var H=R(te,V,W,K,ee+"."+V,r);if(H instanceof Error)return H}return null}return y(B)}function T(R){if(!Array.isArray(R))return process.env.NODE_ENV!=="production"&&i("Invalid argument supplied to oneOfType, expected an instance of array."),o;for(var B=0;B<R.length;B++){var X=R[B];if(typeof X!="function")return i("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+Z(X)+" at index "+B+"."),o}function oe(W,K,ee,te,ue){for(var V=[],H=0;H<R.length;H++){var se=R[H],O=se(W,K,ee,te,ue,r);if(O==null)return null;O.data&&n(O.data,"expectedType")&&V.push(O.data.expectedType)}var ye=V.length>0?", expected one of type ["+V.join(", ")+"]":"";return new m("Invalid "+te+" `"+ue+"` supplied to "+("`"+ee+"`"+ye+"."))}return y(oe)}function $(){function R(B,X,oe,W,K){return z(B[X])?null:new m("Invalid "+W+" `"+K+"` supplied to "+("`"+oe+"`, expected a ReactNode."))}return y(R)}function M(R,B,X,oe,W){return new m((R||"React class")+": "+B+" type `"+X+"."+oe+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+W+"`.")}function L(R){function B(X,oe,W,K,ee){var te=X[oe],ue=G(te);if(ue!=="object")return new m("Invalid "+K+" `"+ee+"` of type `"+ue+"` "+("supplied to `"+W+"`, expected `object`."));for(var V in R){var H=R[V];if(typeof H!="function")return M(W,K,ee,V,q(H));var se=H(te,V,W,K,ee+"."+V,r);if(se)return se}return null}return y(B)}function D(R){function B(X,oe,W,K,ee){var te=X[oe],ue=G(te);if(ue!=="object")return new m("Invalid "+K+" `"+ee+"` of type `"+ue+"` "+("supplied to `"+W+"`, expected `object`."));var V=t({},X[oe],R);for(var H in V){var se=R[H];if(n(R,H)&&typeof se!="function")return M(W,K,ee,H,q(se));if(!se)return new m("Invalid "+K+" `"+ee+"` key `"+H+"` supplied to `"+W+"`.\nBad object: "+JSON.stringify(X[oe],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(R),null,"  "));var O=se(te,H,W,K,ee+"."+H,r);if(O)return O}return null}return y(B)}function z(R){switch(typeof R){case"number":case"string":case"undefined":return!0;case"boolean":return!R;case"object":if(Array.isArray(R))return R.every(z);if(R===null||a(R))return!0;var B=f(R);if(B){var X=B.call(R),oe;if(B!==R.entries){for(;!(oe=X.next()).done;)if(!z(oe.value))return!1}else for(;!(oe=X.next()).done;){var W=oe.value;if(W&&!z(W[1]))return!1}}else return!1;return!0;default:return!1}}function U(R,B){return R==="symbol"?!0:B?B["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&B instanceof Symbol:!1}function G(R){var B=typeof R;return Array.isArray(R)?"array":R instanceof RegExp?"object":U(B,R)?"symbol":B}function q(R){if(typeof R>"u"||R===null)return""+R;var B=G(R);if(B==="object"){if(R instanceof Date)return"date";if(R instanceof RegExp)return"regexp"}return B}function Z(R){var B=q(R);switch(B){case"array":case"object":return"an "+B;case"boolean":case"date":case"regexp":return"a "+B;default:return B}}function ie(R){return!R.constructor||!R.constructor.name?h:R.constructor.name}return p.checkPropTypes=s,p.resetWarningCache=s.resetWarningCache,p.PropTypes=p,p},R0}var $0,yA;function yie(){if(yA)return $0;yA=1;var e=EE();function t(){}function r(){}return r.resetWarningCache=t,$0=function(){function n(o,a,l,c,d,f){if(f!==e){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}n.isRequired=n;function s(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:s,element:n,elementType:n,instanceOf:s,node:n,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:r,resetWarningCache:t};return i.PropTypes=i,i},$0}if(process.env.NODE_ENV!=="production"){var vie=u5(),bie=!0;Ww.exports=gie()(vie.isElement,bie)}else Ww.exports=yie()();var xie=Ww.exports;const qt=ci(xie);function vA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function bA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vA(Object(r),!0).forEach(function(n){f5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gm(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Gm=function(t){return typeof t}:Gm=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gm(e)}function f5(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wie(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function _ie(e,t){if(e==null)return{};var r=wie(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Sie(e,t){return Eie(e)||jie(e,t)||Nie(e,t)||kie()}function Eie(e){if(Array.isArray(e))return e}function jie(e,t){var r=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(r!=null){var n=[],s=!0,i=!1,o,a;try{for(r=r.call(e);!(s=(o=r.next()).done)&&(n.push(o.value),!(t&&n.length===t));s=!0);}catch(l){i=!0,a=l}finally{try{!s&&r.return!=null&&r.return()}finally{if(i)throw a}}return n}}function Nie(e,t){if(e){if(typeof e=="string")return xA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xA(e,t)}}function xA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var zn=function(t,r,n){var s=!!n,i=w.useRef(n);w.useEffect(function(){i.current=n},[n]),w.useEffect(function(){if(!s||!t)return function(){};var o=function(){i.current&&i.current.apply(i,arguments)};return t.on(r,o),function(){t.off(r,o)}},[s,r,t,i])},Cie=function(t){var r=w.useRef(t);return w.useEffect(function(){r.current=t},[t]),r.current},Pg=function(t){return t!==null&&Gm(t)==="object"},wA="[object Object]",Tie=function e(t,r){if(!Pg(t)||!Pg(r))return t===r;var n=Array.isArray(t),s=Array.isArray(r);if(n!==s)return!1;var i=Object.prototype.toString.call(t)===wA,o=Object.prototype.toString.call(r)===wA;if(i!==o)return!1;if(!i&&!n)return t===r;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(var c={},d=0;d<a.length;d+=1)c[a[d]]=!0;for(var f=0;f<l.length;f+=1)c[l[f]]=!0;var h=Object.keys(c);if(h.length!==a.length)return!1;var p=t,g=r,m=function(v){return e(p[v],g[v])};return h.every(m)},Aie=function(t,r,n){return Pg(t)?Object.keys(t).reduce(function(s,i){var o=!Pg(r)||!Tie(t[i],r[i]);return n.includes(i)?(o&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),s):o?bA(bA({},s||{}),{},f5({},i,t[i])):s},null):null},h5=w.createContext(null);h5.displayName="ElementsContext";var Pie=function(t,r){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(r," in an <Elements> provider."));return t};qt.any,qt.object;qt.func.isRequired;var p5=w.createContext(null);p5.displayName="CheckoutSdkContext";var Oie=function(t,r){if(!t)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(r," in an <CheckoutProvider> provider."));return t},Die=w.createContext(null);Die.displayName="CheckoutContext";qt.any,qt.shape({fetchClientSecret:qt.func.isRequired,elementsOptions:qt.object}).isRequired;var _A=function(t){var r=w.useContext(p5),n=w.useContext(h5);if(r&&n)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CheckoutProvider> and <Elements> providers."));return r?Oie(r,t):Pie(n,t)},Rie=["mode"],$ie=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},sr=function(t,r){var n="".concat($ie(t),"Element"),s=function(l){var c=l.id,d=l.className,f=l.options,h=f===void 0?{}:f,p=l.onBlur,g=l.onFocus,m=l.onReady,y=l.onChange,v=l.onEscape,b=l.onClick,x=l.onLoadError,E=l.onLoaderStart,_=l.onNetworksChange,N=l.onConfirm,k=l.onCancel,C=l.onShippingAddressChange,T=l.onShippingRateChange,$=_A("mounts <".concat(n,">")),M="elements"in $?$.elements:null,L="checkoutSdk"in $?$.checkoutSdk:null,D=w.useState(null),z=Sie(D,2),U=z[0],G=z[1],q=w.useRef(null),Z=w.useRef(null);zn(U,"blur",p),zn(U,"focus",g),zn(U,"escape",v),zn(U,"click",b),zn(U,"loaderror",x),zn(U,"loaderstart",E),zn(U,"networkschange",_),zn(U,"confirm",N),zn(U,"cancel",k),zn(U,"shippingaddresschange",C),zn(U,"shippingratechange",T),zn(U,"change",y);var ie;m&&(t==="expressCheckout"?ie=m:ie=function(){m(U)}),zn(U,"ready",ie),w.useLayoutEffect(function(){if(q.current===null&&Z.current!==null&&(M||L)){var B=null;if(L)switch(t){case"payment":B=L.createPaymentElement(h);break;case"address":if("mode"in h){var X=h.mode,oe=_ie(h,Rie);if(X==="shipping")B=L.createShippingAddressElement(oe);else if(X==="billing")B=L.createBillingAddressElement(oe);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":B=L.createExpressCheckoutElement(h);break;case"currencySelector":B=L.createCurrencySelectorElement();break;case"taxId":B=L.createTaxIdElement(h);break;default:throw new Error("Invalid Element type ".concat(n,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else M&&(B=M.create(t,h));q.current=B,G(B),B&&B.mount(Z.current)}},[M,L,h]);var R=Cie(h);return w.useEffect(function(){if(q.current){var B=Aie(h,R,["paymentRequest"]);B&&"update"in q.current&&q.current.update(B)}},[h,R]),w.useLayoutEffect(function(){return function(){if(q.current&&typeof q.current.destroy=="function")try{q.current.destroy(),q.current=null}catch{}}},[]),w.createElement("div",{id:c,className:d,ref:Z})},i=function(l){_A("mounts <".concat(n,">"));var c=l.id,d=l.className;return w.createElement("div",{id:c,className:d})},o=r?i:s;return o.propTypes={id:qt.string,className:qt.string,onChange:qt.func,onBlur:qt.func,onFocus:qt.func,onReady:qt.func,onEscape:qt.func,onClick:qt.func,onLoadError:qt.func,onLoaderStart:qt.func,onNetworksChange:qt.func,onConfirm:qt.func,onCancel:qt.func,onShippingAddressChange:qt.func,onShippingRateChange:qt.func,options:qt.object},o.displayName=n,o.__elementType=t,o},ir=typeof window>"u",Iie=w.createContext(null);Iie.displayName="EmbeddedCheckoutProviderContext";sr("auBankAccount",ir);sr("card",ir);sr("cardNumber",ir);sr("cardExpiry",ir);sr("cardCvc",ir);sr("fpxBank",ir);sr("iban",ir);sr("idealBank",ir);sr("p24Bank",ir);sr("epsBank",ir);sr("payment",ir);sr("expressCheckout",ir);sr("currencySelector",ir);sr("paymentRequestButton",ir);sr("linkAuthentication",ir);sr("address",ir);sr("shippingAddress",ir);sr("paymentMethodMessaging",ir);sr("affirmMessage",ir);sr("afterpayClearpayMessage",ir);sr("taxId",ir);die("pk_test_your_key_here");const m5=e=>u.jsx("div",{className:"max-w-md mx-auto bg-background-light rounded-2xl p-6 border border-border/30",children:u.jsxs("div",{className:"text-center",children:[u.jsx(iG,{className:"w-16 h-16 text-warning mx-auto mb-4"}),u.jsx("h3",{className:"text-xl font-bold text-text-light mb-2",children:"Stripe Not Configured"}),u.jsx("p",{className:"text-text-dark mb-4",children:"Please configure your Stripe publishable key in the environment variables to enable checkout functionality."}),u.jsx("div",{className:"bg-background/30 p-4 rounded-xl border border-border/30",children:u.jsx("p",{className:"text-sm text-text-dark font-mono",children:"VITE_STRIPE_PUBLISHABLE_KEY=pk_test_your_actual_key_here"})}),u.jsx("button",{onClick:e.onCancel,className:"mt-4 px-6 py-2 bg-secondary text-background rounded-xl hover:bg-secondary-dark transition-colors",children:"Close"})]})}),g5=w.createContext({});function Mie(e){const t=w.useRef(null);return t.current===null&&(t.current=e()),t.current}const jE=typeof window<"u",Lie=jE?w.useLayoutEffect:w.useEffect,NE=w.createContext(null);function kE(e,t){e.indexOf(t)===-1&&e.push(t)}function CE(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const To=(e,t,r)=>r>t?t:r<e?e:r;function Kw(e,t){return t?`${e}. For more information and steps for solving, visit https://motion.dev/troubleshooting/${t}`:e}let gd=()=>{},Ao=()=>{};process.env.NODE_ENV!=="production"&&(gd=(e,t,r)=>{!e&&typeof console<"u"&&console.warn(Kw(t,r))},Ao=(e,t,r)=>{if(!e)throw new Error(Kw(t,r))});const Po={},y5=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function v5(e){return typeof e=="object"&&e!==null}const b5=e=>/^0[^.\s]+$/u.test(e);function TE(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ss=e=>e,Fie=(e,t)=>r=>t(e(r)),Jh=(...e)=>e.reduce(Fie),ch=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class AE{constructor(){this.subscriptions=[]}add(t){return kE(this.subscriptions,t),()=>CE(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ti=e=>e*1e3,Oi=e=>e/1e3;function x5(e,t){return t?e*(1e3/t):0}const SA=new Set;function PE(e,t,r){e||SA.has(t)||(console.warn(Kw(t,r)),SA.add(t))}const w5=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,Bie=1e-7,zie=12;function Uie(e,t,r,n,s){let i,o,a=0;do o=t+(r-t)/2,i=w5(o,n,s)-e,i>0?r=o:t=o;while(Math.abs(i)>Bie&&++a<zie);return o}function Qh(e,t,r,n){if(e===t&&r===n)return Ss;const s=i=>Uie(i,0,1,e,r);return i=>i===0||i===1?i:w5(s(i),t,n)}const _5=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,S5=e=>t=>1-e(1-t),E5=Qh(.33,1.53,.69,.99),OE=S5(E5),j5=_5(OE),N5=e=>(e*=2)<1?.5*OE(e):.5*(2-Math.pow(2,-10*(e-1))),DE=e=>1-Math.sin(Math.acos(e)),k5=S5(DE),C5=_5(DE),qie=Qh(.42,0,1,1),Vie=Qh(0,0,.58,1),T5=Qh(.42,0,.58,1),Wie=e=>Array.isArray(e)&&typeof e[0]!="number",A5=e=>Array.isArray(e)&&typeof e[0]=="number",EA={linear:Ss,easeIn:qie,easeInOut:T5,easeOut:Vie,circIn:DE,circInOut:C5,circOut:k5,backIn:OE,backInOut:j5,backOut:E5,anticipate:N5},Kie=e=>typeof e=="string",jA=e=>{if(A5(e)){Ao(e.length===4,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");const[t,r,n,s]=e;return Qh(t,r,n,s)}else if(Kie(e))return Ao(EA[e]!==void 0,`Invalid easing type '${e}'`,"invalid-easing-type"),EA[e];return e},dm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Hie(e,t){let r=new Set,n=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(d){o.has(d)&&(c.schedule(d),e()),d(a)}const c={schedule:(d,f=!1,h=!1)=>{const g=h&&s?r:n;return f&&o.add(d),g.has(d)||g.add(d),d},cancel:d=>{n.delete(d),o.delete(d)},process:d=>{if(a=d,s){i=!0;return}s=!0,[r,n]=[n,r],r.forEach(l),r.clear(),s=!1,i&&(i=!1,c.process(d))}};return c}const Yie=40;function P5(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=dm.reduce((x,E)=>(x[E]=Hie(i),x),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:d,update:f,preRender:h,render:p,postRender:g}=o,m=()=>{const x=Po.useManualTiming?s.timestamp:performance.now();r=!1,Po.useManualTiming||(s.delta=n?1e3/60:Math.max(Math.min(x-s.timestamp,Yie),1)),s.timestamp=x,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),d.process(s),f.process(s),h.process(s),p.process(s),g.process(s),s.isProcessing=!1,r&&t&&(n=!1,e(m))},y=()=>{r=!0,n=!0,s.isProcessing||e(m)};return{schedule:dm.reduce((x,E)=>{const _=o[E];return x[E]=(N,k=!1,C=!1)=>(r||y(),_.schedule(N,k,C)),x},{}),cancel:x=>{for(let E=0;E<dm.length;E++)o[dm[E]].cancel(x)},state:s,steps:o}}const{schedule:Lt,cancel:za,state:Vr,steps:I0}=P5(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ss,!0);let Zm;function Gie(){Zm=void 0}const Pn={now:()=>(Zm===void 0&&Pn.set(Vr.isProcessing||Po.useManualTiming?Vr.timestamp:performance.now()),Zm),set:e=>{Zm=e,queueMicrotask(Gie)}},O5=e=>t=>typeof t=="string"&&t.startsWith(e),RE=O5("--"),Zie=O5("var(--"),$E=e=>Zie(e)?Xie.test(e.split("/*")[0].trim()):!1,Xie=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,yd={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},uh={...yd,transform:e=>To(0,1,e)},fm={...yd,default:1},If=e=>Math.round(e*1e5)/1e5,IE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Jie(e){return e==null}const Qie=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ME=(e,t)=>r=>!!(typeof r=="string"&&Qie.test(r)&&r.startsWith(e)||t&&!Jie(r)&&Object.prototype.hasOwnProperty.call(r,t)),D5=(e,t,r)=>n=>{if(typeof n!="string")return n;const[s,i,o,a]=n.match(IE);return{[e]:parseFloat(s),[t]:parseFloat(i),[r]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},eoe=e=>To(0,255,e),M0={...yd,transform:e=>Math.round(eoe(e))},El={test:ME("rgb","red"),parse:D5("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+M0.transform(e)+", "+M0.transform(t)+", "+M0.transform(r)+", "+If(uh.transform(n))+")"};function toe(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const Hw={test:ME("#"),parse:toe,transform:El.transform},ep=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ha=ep("deg"),Di=ep("%"),Fe=ep("px"),roe=ep("vh"),noe=ep("vw"),NA={...Di,parse:e=>Di.parse(e)/100,transform:e=>Di.transform(e*100)},su={test:ME("hsl","hue"),parse:D5("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Di.transform(If(t))+", "+Di.transform(If(r))+", "+If(uh.transform(n))+")"},cr={test:e=>El.test(e)||Hw.test(e)||su.test(e),parse:e=>El.test(e)?El.parse(e):su.test(e)?su.parse(e):Hw.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?El.transform(e):su.transform(e),getAnimatableNone:e=>{const t=cr.parse(e);return t.alpha=0,cr.transform(t)}},soe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ioe(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(IE))==null?void 0:t.length)||0)+(((r=e.match(soe))==null?void 0:r.length)||0)>0}const R5="number",$5="color",ooe="var",aoe="var(",kA="${}",loe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function dh(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},s=[];let i=0;const a=t.replace(loe,l=>(cr.test(l)?(n.color.push(i),s.push($5),r.push(cr.parse(l))):l.startsWith(aoe)?(n.var.push(i),s.push(ooe),r.push(l)):(n.number.push(i),s.push(R5),r.push(parseFloat(l))),++i,kA)).split(kA);return{values:r,split:a,indexes:n,types:s}}function I5(e){return dh(e).values}function M5(e){const{split:t,types:r}=dh(e),n=t.length;return s=>{let i="";for(let o=0;o<n;o++)if(i+=t[o],s[o]!==void 0){const a=r[o];a===R5?i+=If(s[o]):a===$5?i+=cr.transform(s[o]):i+=s[o]}return i}}const coe=e=>typeof e=="number"?0:cr.test(e)?cr.getAnimatableNone(e):e;function uoe(e){const t=I5(e);return M5(e)(t.map(coe))}const Ua={test:ioe,parse:I5,createTransformer:M5,getAnimatableNone:uoe};function L0(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function doe({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,i=0,o=0;if(!t)s=i=o=r;else{const a=r<.5?r*(1+t):r+t-r*t,l=2*r-a;s=L0(l,a,e+1/3),i=L0(l,a,e),o=L0(l,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function Og(e,t){return r=>r>0?t:e}const Kt=(e,t,r)=>e+(t-e)*r,F0=(e,t,r)=>{const n=e*e,s=r*(t*t-n)+n;return s<0?0:Math.sqrt(s)},foe=[Hw,El,su],hoe=e=>foe.find(t=>t.test(e));function CA(e){const t=hoe(e);if(gd(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!t)return!1;let r=t.parse(e);return t===su&&(r=doe(r)),r}const TA=(e,t)=>{const r=CA(e),n=CA(t);if(!r||!n)return Og(e,t);const s={...r};return i=>(s.red=F0(r.red,n.red,i),s.green=F0(r.green,n.green,i),s.blue=F0(r.blue,n.blue,i),s.alpha=Kt(r.alpha,n.alpha,i),El.transform(s))},Yw=new Set(["none","hidden"]);function poe(e,t){return Yw.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function moe(e,t){return r=>Kt(e,t,r)}function LE(e){return typeof e=="number"?moe:typeof e=="string"?$E(e)?Og:cr.test(e)?TA:voe:Array.isArray(e)?L5:typeof e=="object"?cr.test(e)?TA:goe:Og}function L5(e,t){const r=[...e],n=r.length,s=e.map((i,o)=>LE(i)(i,t[o]));return i=>{for(let o=0;o<n;o++)r[o]=s[o](i);return r}}function goe(e,t){const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=LE(e[s])(e[s],t[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}}function yoe(e,t){const r=[],n={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],o=e.indexes[i][n[i]],a=e.values[o]??0;r[s]=a,n[i]++}return r}const voe=(e,t)=>{const r=Ua.createTransformer(t),n=dh(e),s=dh(t);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?Yw.has(e)&&!s.values.length||Yw.has(t)&&!n.values.length?poe(e,t):Jh(L5(yoe(n,s),s.values),r):(gd(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),Og(e,t))};function F5(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Kt(e,t,r):LE(e)(e,t)}const boe=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>Lt.update(t,r),stop:()=>za(t),now:()=>Vr.isProcessing?Vr.timestamp:Pn.now()}},B5=(e,t,r=10)=>{let n="";const s=Math.max(Math.round(t/r),2);for(let i=0;i<s;i++)n+=Math.round(e(i/(s-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},Dg=2e4;function FE(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<Dg;)t+=r,n=e.next(t);return t>=Dg?1/0:t}function xoe(e,t=100,r){const n=r({...e,keyframes:[0,t]}),s=Math.min(FE(n),Dg);return{type:"keyframes",ease:i=>n.next(s*i).value/t,duration:Oi(s)}}const woe=5;function z5(e,t,r){const n=Math.max(t-woe,0);return x5(r-e(n),t-n)}const Vt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},B0=.001;function _oe({duration:e=Vt.duration,bounce:t=Vt.bounce,velocity:r=Vt.velocity,mass:n=Vt.mass}){let s,i;gd(e<=ti(Vt.maxDuration),"Spring duration must be 10 seconds or less","spring-duration-limit");let o=1-t;o=To(Vt.minDamping,Vt.maxDamping,o),e=To(Vt.minDuration,Vt.maxDuration,Oi(e)),o<1?(s=c=>{const d=c*o,f=d*e,h=d-r,p=Gw(c,o),g=Math.exp(-f);return B0-h/p*g},i=c=>{const f=c*o*e,h=f*r+r,p=Math.pow(o,2)*Math.pow(c,2)*e,g=Math.exp(-f),m=Gw(Math.pow(c,2),o);return(-s(c)+B0>0?-1:1)*((h-p)*g)/m}):(s=c=>{const d=Math.exp(-c*e),f=(c-r)*e+1;return-B0+d*f},i=c=>{const d=Math.exp(-c*e),f=(r-c)*(e*e);return d*f});const a=5/e,l=Eoe(s,i,a);if(e=ti(e),isNaN(l))return{stiffness:Vt.stiffness,damping:Vt.damping,duration:e};{const c=Math.pow(l,2)*n;return{stiffness:c,damping:o*2*Math.sqrt(n*c),duration:e}}}const Soe=12;function Eoe(e,t,r){let n=r;for(let s=1;s<Soe;s++)n=n-e(n)/t(n);return n}function Gw(e,t){return e*Math.sqrt(1-t*t)}const joe=["duration","bounce"],Noe=["stiffness","damping","mass"];function AA(e,t){return t.some(r=>e[r]!==void 0)}function koe(e){let t={velocity:Vt.velocity,stiffness:Vt.stiffness,damping:Vt.damping,mass:Vt.mass,isResolvedFromDuration:!1,...e};if(!AA(e,Noe)&&AA(e,joe))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,i=2*To(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Vt.mass,stiffness:s,damping:i}}else{const r=_oe(e);t={...t,...r,mass:Vt.mass},t.isResolvedFromDuration=!0}return t}function Rg(e=Vt.visualDuration,t=Vt.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:s}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:f,velocity:h,isResolvedFromDuration:p}=koe({...r,velocity:-Oi(r.velocity||0)}),g=h||0,m=c/(2*Math.sqrt(l*d)),y=o-i,v=Oi(Math.sqrt(l/d)),b=Math.abs(y)<5;n||(n=b?Vt.restSpeed.granular:Vt.restSpeed.default),s||(s=b?Vt.restDelta.granular:Vt.restDelta.default);let x;if(m<1){const _=Gw(v,m);x=N=>{const k=Math.exp(-m*v*N);return o-k*((g+m*v*y)/_*Math.sin(_*N)+y*Math.cos(_*N))}}else if(m===1)x=_=>o-Math.exp(-v*_)*(y+(g+v*y)*_);else{const _=v*Math.sqrt(m*m-1);x=N=>{const k=Math.exp(-m*v*N),C=Math.min(_*N,300);return o-k*((g+m*v*y)*Math.sinh(C)+_*y*Math.cosh(C))/_}}const E={calculatedDuration:p&&f||null,next:_=>{const N=x(_);if(p)a.done=_>=f;else{let k=_===0?g:0;m<1&&(k=_===0?ti(g):z5(x,_,N));const C=Math.abs(k)<=n,T=Math.abs(o-N)<=s;a.done=C&&T}return a.value=a.done?o:N,a},toString:()=>{const _=Math.min(FE(E),Dg),N=B5(k=>E.next(_*k).value,_,30);return _+"ms "+N},toTransition:()=>{}};return E}Rg.applyToOptions=e=>{const t=xoe(e,100,Rg);return e.ease=t.ease,e.duration=ti(t.duration),e.type="keyframes",e};function Zw({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},p=C=>a!==void 0&&C<a||l!==void 0&&C>l,g=C=>a===void 0?l:l===void 0||Math.abs(a-C)<Math.abs(l-C)?a:l;let m=r*t;const y=f+m,v=o===void 0?y:o(y);v!==y&&(m=v-f);const b=C=>-m*Math.exp(-C/n),x=C=>v+b(C),E=C=>{const T=b(C),$=x(C);h.done=Math.abs(T)<=c,h.value=h.done?v:$};let _,N;const k=C=>{p(h.value)&&(_=C,N=Rg({keyframes:[h.value,g(h.value)],velocity:z5(x,C,h.value),damping:s,stiffness:i,restDelta:c,restSpeed:d}))};return k(0),{calculatedDuration:null,next:C=>{let T=!1;return!N&&_===void 0&&(T=!0,E(C),k(C)),_!==void 0&&C>=_?N.next(C-_):(!T&&E(C),h)}}}function Coe(e,t,r){const n=[],s=r||Po.mix||F5,i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Ss:t;a=Jh(l,a)}n.push(a)}return n}function Toe(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const i=e.length;if(Ao(i===t.length,"Both input and output ranges must be the same length","range-length"),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=Coe(t,n,s),l=a.length,c=d=>{if(o&&d<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=ch(e[f],e[f+1],d);return a[f](h)};return r?d=>c(To(e[0],e[i-1],d)):c}function Aoe(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=ch(0,t,n);e.push(Kt(r,1,s))}}function Poe(e){const t=[0];return Aoe(t,e.length-1),t}function Ooe(e,t){return e.map(r=>r*t)}function Doe(e,t){return e.map(()=>t||T5).splice(0,e.length-1)}function iu({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=Wie(n)?n.map(jA):jA(n),i={done:!1,value:t[0]},o=Ooe(r&&r.length===t.length?r:Poe(t),e),a=Toe(o,t,{ease:Array.isArray(s)?s:Doe(t,s)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}const Roe=e=>e!==null;function BE(e,{repeat:t,repeatType:r="loop"},n,s=1){const i=e.filter(Roe),a=s<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!a||n===void 0?i[a]:n}const $oe={decay:Zw,inertia:Zw,tween:iu,keyframes:iu,spring:Rg};function U5(e){typeof e.type=="string"&&(e.type=$oe[e.type])}class zE{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const Ioe=e=>e/100;class UE extends zE{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,s;const{motionValue:r}=this.options;r&&r.updatedAt!==Pn.now()&&this.tick(Pn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(n=this.options).onStop)==null||s.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;U5(t);const{type:r=iu,repeat:n=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=t;let{keyframes:a}=t;const l=r||iu;process.env.NODE_ENV!=="production"&&l!==iu&&Ao(a.length<=2,`Only two keyframes currently supported with spring and inertia animations. Trying to animate ${a}`,"spring-two-frames"),l!==iu&&typeof a[0]!="number"&&(this.mixKeyframes=Jh(Ioe,F5(a[0],a[1])),a=[0,100]);const c=l({...t,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=FE(c));const{calculatedDuration:d}=c;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(n+1)-s,this.generator=c}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:c=0,keyframes:d,repeat:f,repeatType:h,repeatDelay:p,type:g,onUpdate:m,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const v=this.currentTime-c*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?v<0:v>s;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let x=this.currentTime,E=n;if(f){const C=Math.min(this.currentTime,s)/a;let T=Math.floor(C),$=C%1;!$&&C>=1&&($=1),$===1&&T--,T=Math.min(T,f+1),!!(T%2)&&(h==="reverse"?($=1-$,p&&($-=p/a)):h==="mirror"&&(E=o)),x=To(0,1,$)*a}const _=b?{done:!1,value:d[0]}:E.next(x);i&&(_.value=i(_.value));let{done:N}=_;!b&&l!==null&&(N=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return k&&g!==Zw&&(_.value=BE(d,this.options,y,this.speed)),m&&m(_.value),k&&this.finish(),_}then(t,r){return this.finished.then(t,r)}get duration(){return Oi(this.calculatedDuration)}get time(){return Oi(this.currentTime)}set time(t){var r;t=ti(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Pn.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Oi(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:t=boe,startTime:r}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Pn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function Moe(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const jl=e=>e*180/Math.PI,Xw=e=>{const t=jl(Math.atan2(e[1],e[0]));return Jw(t)},Loe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Xw,rotateZ:Xw,skewX:e=>jl(Math.atan(e[1])),skewY:e=>jl(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Jw=e=>(e=e%360,e<0&&(e+=360),e),PA=Xw,OA=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),DA=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Foe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:OA,scaleY:DA,scale:e=>(OA(e)+DA(e))/2,rotateX:e=>Jw(jl(Math.atan2(e[6],e[5]))),rotateY:e=>Jw(jl(Math.atan2(-e[2],e[0]))),rotateZ:PA,rotate:PA,skewX:e=>jl(Math.atan(e[4])),skewY:e=>jl(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Qw(e){return e.includes("scale")?1:0}function e1(e,t){if(!e||e==="none")return Qw(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(r)n=Foe,s=r;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Loe,s=a}if(!s)return Qw(t);const i=n[t],o=s[1].split(",").map(zoe);return typeof i=="function"?i(o):o[i]}const Boe=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return e1(r,t)};function zoe(e){return parseFloat(e.trim())}const vd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],bd=new Set(vd),RA=e=>e===yd||e===Fe,Uoe=new Set(["x","y","z"]),qoe=vd.filter(e=>!Uoe.has(e));function Voe(e){const t=[];return qoe.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Il={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>e1(t,"x"),y:(e,{transform:t})=>e1(t,"y")};Il.translateX=Il.x;Il.translateY=Il.y;const Ml=new Set;let t1=!1,r1=!1,n1=!1;function q5(){if(r1){const e=Array.from(Ml).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const s=Voe(n);s.length&&(r.set(n,s),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([i,o])=>{var a;(a=n.getValue(i))==null||a.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}r1=!1,t1=!1,Ml.forEach(e=>e.complete(n1)),Ml.clear()}function V5(){Ml.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(r1=!0)})}function Woe(){n1=!0,V5(),q5(),n1=!1}class qE{constructor(t,r,n,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Ml.add(this),t1||(t1=!0,Lt.read(V5),Lt.resolveKeyframes(q5))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const a=n.readValue(r,o);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=o),s&&i===void 0&&s.set(t[0])}Moe(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ml.delete(this)}cancel(){this.state==="scheduled"&&(Ml.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Koe=e=>e.startsWith("--");function Hoe(e,t,r){Koe(t)?e.style.setProperty(t,r):e.style[t]=r}const Yoe=TE(()=>window.ScrollTimeline!==void 0),Goe={};function Zoe(e,t){const r=TE(e);return()=>Goe[t]??r()}const W5=Zoe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),vf=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,$A={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:vf([0,.65,.55,1]),circOut:vf([.55,0,1,.45]),backIn:vf([.31,.01,.66,-.59]),backOut:vf([.33,1.53,.69,.99])};function K5(e,t){if(e)return typeof e=="function"?W5()?B5(e,t):"ease-out":A5(e)?vf(e):Array.isArray(e)?e.map(r=>K5(r,t)||$A.easeOut):$A[e]}function Xoe(e,t,r,{delay:n=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const d={[t]:r};l&&(d.offset=l);const f=K5(a,s);Array.isArray(f)&&(d.easing=f);const h={delay:n,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return c&&(h.pseudoElement=c),e.animate(d,h)}function H5(e){return typeof e=="function"&&"applyToOptions"in e}function Joe({type:e,...t}){return H5(e)&&W5()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Qoe extends zE{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,Ao(typeof t.type!="string",`Mini animate() doesn't support "type" as a string.`,"mini-spring");const c=Joe(t);this.animation=Xoe(r,n,s,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=BE(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):Hoe(r,n,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return Oi(Number(t))}get time(){return Oi(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=ti(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Yoe()?(this.animation.timeline=t,Ss):r(this)}}const Y5={anticipate:N5,backInOut:j5,circInOut:C5};function eae(e){return e in Y5}function tae(e){typeof e.ease=="string"&&eae(e.ease)&&(e.ease=Y5[e.ease])}const IA=10;class rae extends Qoe{constructor(t){tae(t),U5(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:s,element:i,...o}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const a=new UE({...o,autoplay:!1}),l=ti(this.finishedTime??this.time);r.setWithVelocity(a.sample(l-IA).value,a.sample(l).value,IA),a.stop()}}const MA=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ua.test(e)||e==="0")&&!e.startsWith("url("));function nae(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function sae(e,t,r,n){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=MA(s,t),a=MA(i,t);return gd(o===a,`You are trying to animate ${t} from "${s}" to "${i}". "${o?i:s}" is not an animatable value.`,"value-not-animatable"),!o||!a?!1:nae(e)||(r==="spring"||H5(r))&&n}function s1(e){e.duration=0,e.type}const iae=new Set(["opacity","clipPath","filter","transform"]),oae=TE(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function aae(e){var d;const{motionValue:t,name:r,repeatDelay:n,repeatType:s,damping:i,type:o}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return oae()&&r&&iae.has(r)&&(r!=="transform"||!c)&&!l&&!n&&s!=="mirror"&&i!==0&&o!=="inertia"}const lae=40;class cae extends zE{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:d,...f}){var g;super(),this.stop=()=>{var m,y;this._animation&&(this._animation.stop(),(m=this.stopTimeline)==null||m.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=Pn.now();const h={autoplay:t,delay:r,type:n,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:c,element:d,...f},p=(d==null?void 0:d.KeyframeResolver)||qE;this.keyframeResolver=new p(a,(m,y,v)=>this.onKeyframesResolved(m,y,h,!v),l,c,d),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(t,r,n,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:d}=n;this.resolvedAt=Pn.now(),sae(t,i,o,a)||((Po.instantAnimations||!l)&&(d==null||d(BE(t,n,r))),t[0]=t[t.length-1],s1(n),n.repeat=0);const h={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>lae?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},p=!c&&aae(h)?new rae({...h,element:h.motionValue.owner.current}):new UE(h);p.finished.then(()=>this.notifyFinished()).catch(Ss),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Woe()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const uae=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function dae(e){const t=uae.exec(e);if(!t)return[,];const[,r,n,s]=t;return[`--${r??n}`,s]}const fae=4;function G5(e,t,r=1){Ao(r<=fae,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`,"max-css-var-depth");const[n,s]=dae(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return y5(o)?parseFloat(o):o}return $E(s)?G5(s,t,r+1):s}function VE(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Z5=new Set(["width","height","top","left","right","bottom",...vd]),hae={test:e=>e==="auto",parse:e=>e},X5=e=>t=>t.test(e),J5=[yd,Fe,Di,ha,noe,roe,hae],LA=e=>J5.find(X5(e));function pae(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||b5(e):!0}const mae=new Set(["brightness","contrast","saturate","opacity"]);function gae(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(IE)||[];if(!n)return e;const s=r.replace(n,"");let i=mae.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+s+")"}const yae=/\b([a-z-]*)\(.*?\)/gu,i1={...Ua,getAnimatableNone:e=>{const t=e.match(yae);return t?t.map(gae).join(" "):e}},FA={...yd,transform:Math.round},vae={rotate:ha,rotateX:ha,rotateY:ha,rotateZ:ha,scale:fm,scaleX:fm,scaleY:fm,scaleZ:fm,skew:ha,skewX:ha,skewY:ha,distance:Fe,translateX:Fe,translateY:Fe,translateZ:Fe,x:Fe,y:Fe,z:Fe,perspective:Fe,transformPerspective:Fe,opacity:uh,originX:NA,originY:NA,originZ:Fe},WE={borderWidth:Fe,borderTopWidth:Fe,borderRightWidth:Fe,borderBottomWidth:Fe,borderLeftWidth:Fe,borderRadius:Fe,radius:Fe,borderTopLeftRadius:Fe,borderTopRightRadius:Fe,borderBottomRightRadius:Fe,borderBottomLeftRadius:Fe,width:Fe,maxWidth:Fe,height:Fe,maxHeight:Fe,top:Fe,right:Fe,bottom:Fe,left:Fe,padding:Fe,paddingTop:Fe,paddingRight:Fe,paddingBottom:Fe,paddingLeft:Fe,margin:Fe,marginTop:Fe,marginRight:Fe,marginBottom:Fe,marginLeft:Fe,backgroundPositionX:Fe,backgroundPositionY:Fe,...vae,zIndex:FA,fillOpacity:uh,strokeOpacity:uh,numOctaves:FA},bae={...WE,color:cr,backgroundColor:cr,outlineColor:cr,fill:cr,stroke:cr,borderColor:cr,borderTopColor:cr,borderRightColor:cr,borderBottomColor:cr,borderLeftColor:cr,filter:i1,WebkitFilter:i1},Q5=e=>bae[e];function e3(e,t){let r=Q5(e);return r!==i1&&(r=Ua),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const xae=new Set(["auto","none","0"]);function wae(e,t,r){let n=0,s;for(;n<e.length&&!s;){const i=e[n];typeof i=="string"&&!xae.has(i)&&dh(i).values.length&&(s=e[n]),n++}if(s&&r)for(const i of t)e[i]=e3(r,s)}class _ae extends qE{constructor(t,r,n,s,i){super(t,r,n,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),$E(c))){const d=G5(c,r.current);d!==void 0&&(t[l]=d),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!Z5.has(n)||t.length!==2)return;const[s,i]=t,o=LA(s),a=LA(i);if(o!==a)if(RA(o)&&RA(a))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else Il[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let s=0;s<t.length;s++)(t[s]===null||pae(t[s]))&&n.push(s);n.length&&wae(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Il[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(n,s).jump(s,!1)}measureEndState(){var a;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const s=t.getValue(r);s&&s.jump(this.measuredOrigin,!1);const i=n.length-1,o=n[i];n[i]=Il[r](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function Sae(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const s=(r==null?void 0:r[e])??n.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const t3=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Eae(e){return v5(e)&&"offsetHeight"in e}const BA=30,jae=e=>!isNaN(parseFloat(e));class Nae{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var i;const s=Pn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Pn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=jae(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return process.env.NODE_ENV!=="production"&&PE(!1,'value.onChange(callback) is deprecated. Switch to value.on("change", callback).'),this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new AE);const n=this.events[t].add(r);return t==="change"?()=>{n(),Lt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Pn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>BA)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,BA);return x5(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Uu(e,t){return new Nae(e,t)}const{schedule:KE}=P5(queueMicrotask,!1),Us={x:!1,y:!1};function r3(){return Us.x||Us.y}function kae(e){return e==="x"||e==="y"?Us[e]?null:(Us[e]=!0,()=>{Us[e]=!1}):Us.x||Us.y?null:(Us.x=Us.y=!0,()=>{Us.x=Us.y=!1})}function n3(e,t){const r=Sae(e),n=new AbortController,s={passive:!0,...t,signal:n.signal};return[r,s,()=>n.abort()]}function zA(e){return!(e.pointerType==="touch"||r3())}function Cae(e,t,r={}){const[n,s,i]=n3(e,r),o=a=>{if(!zA(a))return;const{target:l}=a,c=t(l,a);if(typeof c!="function"||!l)return;const d=f=>{zA(f)&&(c(f),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,s)};return n.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const s3=(e,t)=>t?e===t?!0:s3(e,t.parentElement):!1,HE=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Tae=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Aae(e){return Tae.has(e.tagName)||e.tabIndex!==-1}const Xm=new WeakSet;function UA(e){return t=>{t.key==="Enter"&&e(t)}}function z0(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Pae=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=UA(()=>{if(Xm.has(r))return;z0(r,"down");const s=UA(()=>{z0(r,"up")}),i=()=>z0(r,"cancel");r.addEventListener("keyup",s,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function qA(e){return HE(e)&&!r3()}function Oae(e,t,r={}){const[n,s,i]=n3(e,r),o=a=>{const l=a.currentTarget;if(!qA(a))return;Xm.add(l);const c=t(l,a),d=(p,g)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),Xm.has(l)&&Xm.delete(l),qA(p)&&typeof c=="function"&&c(p,{success:g})},f=p=>{d(p,l===window||l===document||r.useGlobalTarget||s3(l,p.target))},h=p=>{d(p,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",h,s)};return n.forEach(a=>{(r.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),Eae(a)&&(a.addEventListener("focus",c=>Pae(c,s)),!Aae(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function i3(e){return v5(e)&&"ownerSVGElement"in e}function Dae(e){return i3(e)&&e.tagName==="svg"}const on=e=>!!(e&&e.getVelocity),Rae=[...J5,cr,Ua],$ae=e=>Rae.find(X5(e)),o3=w.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Iae(e=!0){const t=w.useContext(NE);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=t,i=w.useId();w.useEffect(()=>{if(e)return s(i)},[e]);const o=w.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,o]:[!0]}const a3=w.createContext({strict:!1}),VA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},qu={};for(const e in VA)qu[e]={isEnabled:t=>VA[e].some(r=>!!t[r])};function Mae(e){for(const t in e)qu[t]={...qu[t],...e[t]}}const Lae=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function $g(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Lae.has(e)}let l3=e=>!$g(e);function Fae(e){typeof e=="function"&&(l3=t=>t.startsWith("on")?!$g(t):e(t))}try{Fae(require("@emotion/is-prop-valid").default)}catch{}function Bae(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(l3(s)||r===!0&&$g(s)||!t&&!$g(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}const jv=w.createContext({});function Nv(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function fh(e){return typeof e=="string"||Array.isArray(e)}const YE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],GE=["initial",...YE];function kv(e){return Nv(e.animate)||GE.some(t=>fh(e[t]))}function c3(e){return!!(kv(e)||e.variants)}function zae(e,t){if(kv(e)){const{initial:r,animate:n}=e;return{initial:r===!1||fh(r)?r:void 0,animate:fh(n)?n:void 0}}return e.inherit!==!1?t:{}}function Uae(e){const{initial:t,animate:r}=zae(e,w.useContext(jv));return w.useMemo(()=>({initial:t,animate:r}),[WA(t),WA(r)])}function WA(e){return Array.isArray(e)?e.join(" "):e}const hh={};function qae(e){for(const t in e)hh[t]=e[t],RE(t)&&(hh[t].isCSSVariable=!0)}function u3(e,{layout:t,layoutId:r}){return bd.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!hh[e]||e==="opacity")}const Vae={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Wae=vd.length;function Kae(e,t,r){let n="",s=!0;for(let i=0;i<Wae;i++){const o=vd[i],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||r){const c=t3(a,WE[o]);if(!l){s=!1;const d=Vae[o]||o;n+=`${d}(${c}) `}r&&(t[o]=c)}}return n=n.trim(),r?n=r(t,s?"":n):s&&(n="none"),n}function ZE(e,t,r){const{style:n,vars:s,transformOrigin:i}=e;let o=!1,a=!1;for(const l in t){const c=t[l];if(bd.has(l)){o=!0;continue}else if(RE(l)){s[l]=c;continue}else{const d=t3(c,WE[l]);l.startsWith("origin")?(a=!0,i[l]=d):n[l]=d}}if(t.transform||(o||r?n.transform=Kae(t,e.transform,r):n.transform&&(n.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=i;n.transformOrigin=`${l} ${c} ${d}`}}const XE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function d3(e,t,r){for(const n in t)!on(t[n])&&!u3(n,r)&&(e[n]=t[n])}function Hae({transformTemplate:e},t){return w.useMemo(()=>{const r=XE();return ZE(r,t,e),Object.assign({},r.vars,r.style)},[t])}function Yae(e,t){const r=e.style||{},n={};return d3(n,r,e),Object.assign(n,Hae(e,t)),n}function Gae(e,t){const r={},n=Yae(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const Zae={offset:"stroke-dashoffset",array:"stroke-dasharray"},Xae={offset:"strokeDashoffset",array:"strokeDasharray"};function Jae(e,t,r=1,n=0,s=!0){e.pathLength=1;const i=s?Zae:Xae;e[i.offset]=Fe.transform(-n);const o=Fe.transform(t),a=Fe.transform(r);e[i.array]=`${o} ${a}`}function f3(e,{attrX:t,attrY:r,attrScale:n,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,c,d){if(ZE(e,a,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),s!==void 0&&Jae(f,s,i,o,!1)}const h3=()=>({...XE(),attrs:{}}),p3=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Qae(e,t,r,n){const s=w.useMemo(()=>{const i=h3();return f3(i,t,p3(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};d3(i,e.style,e),s.style={...i,...s.style}}return s}const ele=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function JE(e){return typeof e!="string"||e.includes("-")?!1:!!(ele.indexOf(e)>-1||/[A-Z]/u.test(e))}function tle(e,t,r,{latestValues:n},s,i=!1){const a=(JE(e)?Qae:Gae)(t,n,s,e),l=Bae(t,typeof e=="string",i),c=e!==w.Fragment?{...l,...a,ref:r}:{},{children:d}=t,f=w.useMemo(()=>on(d)?d.get():d,[d]);return w.createElement(e,{...c,children:f})}function KA(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function QE(e,t,r,n){if(typeof t=="function"){const[s,i]=KA(n);t=t(r!==void 0?r:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=KA(n);t=t(r!==void 0?r:e.custom,s,i)}return t}function Jm(e){return on(e)?e.get():e}function rle({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,s){return{latestValues:nle(r,n,s,e),renderState:t()}}function nle(e,t,r,n){const s={},i=n(e,{});for(const h in i)s[h]=Jm(i[h]);let{initial:o,animate:a}=e;const l=kv(e),c=c3(e);t&&c&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const f=d?a:o;if(f&&typeof f!="boolean"&&!Nv(f)){const h=Array.isArray(f)?f:[f];for(let p=0;p<h.length;p++){const g=QE(e,h[p]);if(g){const{transitionEnd:m,transition:y,...v}=g;for(const b in v){let x=v[b];if(Array.isArray(x)){const E=d?x.length-1:0;x=x[E]}x!==null&&(s[b]=x)}for(const b in m)s[b]=m[b]}}}return s}const m3=e=>(t,r)=>{const n=w.useContext(jv),s=w.useContext(NE),i=()=>rle(e,t,n,s);return r?i():Mie(i)};function ej(e,t,r){var i;const{style:n}=e,s={};for(const o in n)(on(n[o])||t.style&&on(t.style[o])||u3(o,e)||((i=r==null?void 0:r.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=n[o]);return s}const sle=m3({scrapeMotionValuesFromProps:ej,createRenderState:XE});function g3(e,t,r){const n=ej(e,t,r);for(const s in e)if(on(e[s])||on(t[s])){const i=vd.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[i]=e[s]}return n}const ile=m3({scrapeMotionValuesFromProps:g3,createRenderState:h3}),ole=Symbol.for("motionComponentSymbol");function ou(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function ale(e,t,r){return w.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):ou(r)&&(r.current=n))},[t])}const tj=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),lle="framerAppearId",y3="data-"+tj(lle),v3=w.createContext({});function cle(e,t,r,n,s){var m,y;const{visualElement:i}=w.useContext(jv),o=w.useContext(a3),a=w.useContext(NE),l=w.useContext(o3).reducedMotion,c=w.useRef(null);n=n||o.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:i,props:r,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=c.current,f=w.useContext(v3);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&ule(c.current,r,s,f);const h=w.useRef(!1);w.useInsertionEffect(()=>{d&&h.current&&d.update(r,a)});const p=r[y3],g=w.useRef(!!p&&!((m=window.MotionHandoffIsComplete)!=null&&m.call(window,p))&&((y=window.MotionHasOptimisedAnimation)==null?void 0:y.call(window,p)));return Lie(()=>{d&&(h.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),g.current&&d.animationState&&d.animationState.animateChanges())}),w.useEffect(()=>{d&&(!g.current&&d.animationState&&d.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,p)}),g.current=!1),d.enteringChildren=void 0)}),d}function ule(e,t,r,n){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:b3(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&ou(a),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:l,layoutRoot:c})}function b3(e){if(e)return e.options.allowProjection!==!1?e.projection:b3(e.parent)}function U0(e,{forwardMotionProps:t=!1}={},r,n){r&&Mae(r);const s=JE(e)?ile:sle;function i(a,l){let c;const d={...w.useContext(o3),...a,layoutId:dle(a)},{isStatic:f}=d,h=Uae(a),p=s(a,f);if(!f&&jE){fle(d,r);const g=hle(d);c=g.MeasureLayout,h.visualElement=cle(e,p,d,n,g.ProjectionNode)}return u.jsxs(jv.Provider,{value:h,children:[c&&h.visualElement?u.jsx(c,{visualElement:h.visualElement,...d}):null,tle(e,a,ale(p,h.visualElement,l),p,f,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=w.forwardRef(i);return o[ole]=e,o}function dle({layoutId:e}){const t=w.useContext(g5).id;return t&&e!==void 0?t+"-"+e:e}function fle(e,t){const r=w.useContext(a3).strict;if(process.env.NODE_ENV!=="production"&&t&&r){const n="You have rendered a `motion` component within a `LazyMotion` component. This will break tree shaking. Import and render a `m` component instead.";e.ignoreStrict?gd(!1,n,"lazy-strict-mode"):Ao(!1,n,"lazy-strict-mode")}}function hle(e){const{drag:t,layout:r}=qu;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function ple(e,t){if(typeof Proxy>"u")return U0;const r=new Map,n=(i,o)=>U0(i,o,e,t),s=(i,o)=>(process.env.NODE_ENV!=="production"&&PE(!1,"motion() is deprecated. Use motion.create() instead."),n(i,o));return new Proxy(s,{get:(i,o)=>o==="create"?n:(r.has(o)||r.set(o,U0(o,void 0,e,t)),r.get(o))})}function x3({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function mle({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function gle(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function q0(e){return e===void 0||e===1}function o1({scale:e,scaleX:t,scaleY:r}){return!q0(e)||!q0(t)||!q0(r)}function yl(e){return o1(e)||w3(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function w3(e){return HA(e.x)||HA(e.y)}function HA(e){return e&&e!=="0%"}function Ig(e,t,r){const n=e-r,s=t*n;return r+s}function YA(e,t,r,n,s){return s!==void 0&&(e=Ig(e,s,n)),Ig(e,r,n)+t}function a1(e,t=0,r=1,n,s){e.min=YA(e.min,t,r,n,s),e.max=YA(e.max,t,r,n,s)}function _3(e,{x:t,y:r}){a1(e.x,t.translate,t.scale,t.originPoint),a1(e.y,r.translate,r.scale,r.originPoint)}const GA=.999999999999,ZA=1.0000000000001;function yle(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=r[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&lu(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,_3(e,o)),n&&yl(i.latestValues)&&lu(e,i.latestValues))}t.x<ZA&&t.x>GA&&(t.x=1),t.y<ZA&&t.y>GA&&(t.y=1)}function au(e,t){e.min=e.min+t,e.max=e.max+t}function XA(e,t,r,n,s=.5){const i=Kt(e.min,e.max,s);a1(e,t,r,i,n)}function lu(e,t){XA(e.x,t.x,t.scaleX,t.scale,t.originX),XA(e.y,t.y,t.scaleY,t.scale,t.originY)}function S3(e,t){return x3(gle(e.getBoundingClientRect(),t))}function vle(e,t,r){const n=S3(e,r),{scroll:s}=t;return s&&(au(n.x,s.offset.x),au(n.y,s.offset.y)),n}const JA=()=>({translate:0,scale:1,origin:0,originPoint:0}),cu=()=>({x:JA(),y:JA()}),QA=()=>({min:0,max:0}),Qt=()=>({x:QA(),y:QA()}),l1={current:null},E3={current:!1};function ble(){if(E3.current=!0,!!jE)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>l1.current=e.matches;e.addEventListener("change",t),t()}else l1.current=!1}const xle=new WeakMap;function wle(e,t,r){for(const n in t){const s=t[n],i=r[n];if(on(s))e.addValue(n,s);else if(on(i))e.addValue(n,Uu(s,{owner:e}));else if(i!==s)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(n);e.addValue(n,Uu(o!==void 0?o:s,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const eP=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class _le{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=qE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Pn.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Lt.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=kv(r),this.isVariantNode=c3(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const p=f[h];l[h]!==void 0&&on(p)&&p.set(l[h])}}mount(t){var r;this.current=t,xle.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),E3.current||ble(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:l1.current,process.env.NODE_ENV!=="production"&&PE(this.shouldReduceMotion!==!0,"You have Reduced Motion enabled on your device. Animations may not appear as expected.","reduced-motion-disabled"),(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),za(this.notifyUpdate),za(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=bd.has(t);n&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Lt.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{s(),i&&i(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in qu){const r=qu[t];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[t]&&s&&n(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<eP.length;n++){const s=eP[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=wle(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Uu(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(y5(n)||b5(n))?n=parseFloat(n):!$ae(n)&&Ua.test(r)&&(n=e3(t,r)),this.setBaseTarget(t,on(n)?n.get():n)),on(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const o=QE(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);o&&(n=o[t])}if(r&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!on(s)?s:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new AE),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){KE.render(this.render)}}class j3 extends _le{constructor(){super(...arguments),this.KeyframeResolver=_ae}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;on(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function N3(e,{style:t,vars:r},n,s){const i=e.style;let o;for(o in t)i[o]=t[o];s==null||s.applyProjectionStyles(i,n);for(o in r)i.setProperty(o,r[o])}function Sle(e){return window.getComputedStyle(e)}class Ele extends j3{constructor(){super(...arguments),this.type="html",this.renderInstance=N3}readValueFromInstance(t,r){var n;if(bd.has(r))return(n=this.projection)!=null&&n.isProjecting?Qw(r):Boe(t,r);{const s=Sle(t),i=(RE(r)?s.getPropertyValue(r):s[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return S3(t,r)}build(t,r,n){ZE(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return ej(t,r,n)}}const k3=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function jle(e,t,r,n){N3(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(k3.has(s)?s:tj(s),t.attrs[s])}class Nle extends j3{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Qt}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(bd.has(r)){const n=Q5(r);return n&&n.default||0}return r=k3.has(r)?r:tj(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return g3(t,r,n)}build(t,r,n){f3(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,s){jle(t,r,n,s)}mount(t){this.isSVGTag=p3(t.tagName),super.mount(t)}}const kle=(e,t)=>JE(e)?new Nle(t):new Ele(t,{allowProjection:e!==w.Fragment});function bu(e,t,r){const n=e.getProps();return QE(n,t,r!==void 0?r:n.custom,e)}const c1=e=>Array.isArray(e);function Cle(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Uu(r))}function Tle(e){return c1(e)?e[e.length-1]||0:e}function Ale(e,t){const r=bu(e,t);let{transitionEnd:n={},transition:s={},...i}=r||{};i={...i,...n};for(const o in i){const a=Tle(i[o]);Cle(e,o,a)}}function Ple(e){return!!(on(e)&&e.add)}function u1(e,t){const r=e.getValue("willChange");if(Ple(r))return r.add(t);if(!r&&Po.WillChange){const n=new Po.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function C3(e){return e.props[y3]}const Ole=e=>e!==null;function Dle(e,{repeat:t,repeatType:r="loop"},n){const s=e.filter(Ole),i=t&&r!=="loop"&&t%2===1?0:s.length-1;return s[i]}const Rle={type:"spring",stiffness:500,damping:25,restSpeed:10},$le=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Ile={type:"keyframes",duration:.8},Mle={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Lle=(e,{keyframes:t})=>t.length>2?Ile:bd.has(e)?e.startsWith("scale")?$le(t[1]):Rle:Mle;function Fle({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const rj=(e,t,r,n={},s,i)=>o=>{const a=VE(n,e)||{},l=a.delay||n.delay||0;let{elapsed:c=0}=n;c=c-ti(l);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:h=>{t.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:i?void 0:s};Fle(a)||Object.assign(d,Lle(e,d)),d.duration&&(d.duration=ti(d.duration)),d.repeatDelay&&(d.repeatDelay=ti(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(s1(d),d.delay===0&&(f=!0)),(Po.instantAnimations||Po.skipAnimations)&&(f=!0,s1(d),d.delay=0),d.allowFlatten=!a.type&&!a.ease,f&&!i&&t.get()!==void 0){const h=Dle(d.keyframes,a);if(h!==void 0){Lt.update(()=>{d.onUpdate(h),d.onComplete()});return}}return a.isSync?new UE(d):new cae(d)};function Ble({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function T3(e,t,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...a}=t;n&&(i=n);const l=[],c=s&&e.animationState&&e.animationState.getState()[s];for(const d in a){const f=e.getValue(d,e.latestValues[d]??null),h=a[d];if(h===void 0||c&&Ble(c,d))continue;const p={delay:r,...VE(i||{},d)},g=f.get();if(g!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===g&&!p.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){const v=C3(e);if(v){const b=window.MotionHandoffAnimation(v,d,Lt);b!==null&&(p.startTime=b,m=!0)}}u1(e,d),f.start(rj(d,f,h,e.shouldReduceMotion&&Z5.has(d)?{type:!1}:p,e,m));const y=f.animation;y&&l.push(y)}return o&&Promise.all(l).then(()=>{Lt.update(()=>{o&&Ale(e,o)})}),l}function A3(e,t,r,n=0,s=1){const i=Array.from(e).sort((c,d)=>c.sortNodePosition(d)).indexOf(t),o=e.size,a=(o-1)*n;return typeof r=="function"?r(i,o):s===1?i*n:a-i*n}function d1(e,t,r={}){var l;const n=bu(e,t,r.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const i=n?()=>Promise.all(T3(e,n,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=s;return zle(e,t,c,d,f,h,r)}:()=>Promise.resolve(),{when:a}=s;if(a){const[c,d]=a==="beforeChildren"?[i,o]:[o,i];return c().then(()=>d())}else return Promise.all([i(),o(r.delay)])}function zle(e,t,r=0,n=0,s=0,i=1,o){const a=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),a.push(d1(l,t,{...o,delay:r+(typeof n=="function"?0:n)+A3(e.variantChildren,l,n,s,i)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(a)}function Ule(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(i=>d1(e,i,r));n=Promise.all(s)}else if(typeof t=="string")n=d1(e,t,r);else{const s=typeof t=="function"?bu(e,t,r.custom):t;n=Promise.all(T3(e,s,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function P3(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const qle=GE.length;function O3(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?O3(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<qle;r++){const n=GE[r],s=e.props[n];(fh(s)||s===!1)&&(t[n]=s)}return t}const Vle=[...YE].reverse(),Wle=YE.length;function Kle(e){return t=>Promise.all(t.map(({animation:r,options:n})=>Ule(e,r,n)))}function Hle(e){let t=Kle(e),r=tP(),n=!0;const s=l=>(c,d)=>{var h;const f=bu(e,d,l==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:g,...m}=f;c={...c,...m,...g}}return c};function i(l){t=l(e)}function o(l){const{props:c}=e,d=O3(e.parent)||{},f=[],h=new Set;let p={},g=1/0;for(let y=0;y<Wle;y++){const v=Vle[y],b=r[v],x=c[v]!==void 0?c[v]:d[v],E=fh(x),_=v===l?b.isActive:null;_===!1&&(g=y);let N=x===d[v]&&x!==c[v]&&E;if(N&&n&&e.manuallyAnimateOnMount&&(N=!1),b.protectedKeys={...p},!b.isActive&&_===null||!x&&!b.prevProp||Nv(x)||typeof x=="boolean")continue;const k=Yle(b.prevProp,x);let C=k||v===l&&b.isActive&&!N&&E||y>g&&E,T=!1;const $=Array.isArray(x)?x:[x];let M=$.reduce(s(v),{});_===!1&&(M={});const{prevResolvedValues:L={}}=b,D={...L,...M},z=q=>{C=!0,h.has(q)&&(T=!0,h.delete(q)),b.needsAnimating[q]=!0;const Z=e.getValue(q);Z&&(Z.liveStyle=!1)};for(const q in D){const Z=M[q],ie=L[q];if(p.hasOwnProperty(q))continue;let R=!1;c1(Z)&&c1(ie)?R=!P3(Z,ie):R=Z!==ie,R?Z!=null?z(q):h.add(q):Z!==void 0&&h.has(q)?z(q):b.protectedKeys[q]=!0}b.prevProp=x,b.prevResolvedValues=M,b.isActive&&(p={...p,...M}),n&&e.blockInitialAnimation&&(C=!1);const U=N&&k;C&&(!U||T)&&f.push(...$.map(q=>{const Z={type:v};if(typeof q=="string"&&n&&!U&&e.manuallyAnimateOnMount&&e.parent){const{parent:ie}=e,R=bu(ie,q);if(ie.enteringChildren&&R){const{delayChildren:B}=R.transition||{};Z.delay=A3(ie.enteringChildren,e,B)}}return{animation:q,options:Z}}))}if(h.size){const y={};if(typeof c.initial!="boolean"){const v=bu(e,Array.isArray(c.initial)?c.initial[0]:c.initial);v&&v.transition&&(y.transition=v.transition)}h.forEach(v=>{const b=e.getBaseTarget(v),x=e.getValue(v);x&&(x.liveStyle=!0),y[v]=b??null}),f.push({animation:y})}let m=!!f.length;return n&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(m=!1),n=!1,m?t(f):Promise.resolve()}function a(l,c){var f;if(r[l].isActive===c)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var p;return(p=h.animationState)==null?void 0:p.setActive(l,c)}),r[l].isActive=c;const d=o(l);for(const h in r)r[h].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>r,reset:()=>{r=tP(),n=!0}}}function Yle(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!P3(t,e):!1}function pl(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function tP(){return{animate:pl(!0),whileInView:pl(),whileHover:pl(),whileTap:pl(),whileDrag:pl(),whileFocus:pl(),exit:pl()}}class Ga{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Gle extends Ga{constructor(t){super(t),t.animationState||(t.animationState=Hle(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Nv(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Zle=0;class Xle extends Ga{constructor(){super(...arguments),this.id=Zle++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Jle={animation:{Feature:Gle},exit:{Feature:Xle}};function ph(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function tp(e){return{point:{x:e.pageX,y:e.pageY}}}const Qle=e=>t=>HE(t)&&e(t,tp(t));function Mf(e,t,r,n){return ph(e,t,Qle(r),n)}const D3=1e-4,ece=1-D3,tce=1+D3,R3=.01,rce=0-R3,nce=0+R3;function vn(e){return e.max-e.min}function sce(e,t,r){return Math.abs(e-t)<=r}function rP(e,t,r,n=.5){e.origin=n,e.originPoint=Kt(t.min,t.max,e.origin),e.scale=vn(r)/vn(t),e.translate=Kt(r.min,r.max,e.origin)-e.originPoint,(e.scale>=ece&&e.scale<=tce||isNaN(e.scale))&&(e.scale=1),(e.translate>=rce&&e.translate<=nce||isNaN(e.translate))&&(e.translate=0)}function Lf(e,t,r,n){rP(e.x,t.x,r.x,n?n.originX:void 0),rP(e.y,t.y,r.y,n?n.originY:void 0)}function nP(e,t,r){e.min=r.min+t.min,e.max=e.min+vn(t)}function ice(e,t,r){nP(e.x,t.x,r.x),nP(e.y,t.y,r.y)}function sP(e,t,r){e.min=t.min-r.min,e.max=e.min+vn(t)}function Ff(e,t,r){sP(e.x,t.x,r.x),sP(e.y,t.y,r.y)}function hs(e){return[e("x"),e("y")]}const $3=({current:e})=>e?e.ownerDocument.defaultView:null,iP=(e,t)=>Math.abs(e-t);function oce(e,t){const r=iP(e.x,t.x),n=iP(e.y,t.y);return Math.sqrt(r**2+n**2)}class I3{constructor(t,r,{transformPagePoint:n,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=W0(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=oce(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!g)return;const{point:m}=h,{timestamp:y}=Vr;this.history.push({...m,timestamp:y});const{onStart:v,onMove:b}=this.handlers;p||(v&&v(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=V0(p,this.transformPagePoint),Lt.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:g,onSessionEnd:m,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=W0(h.type==="pointercancel"?this.lastMoveEventInfo:V0(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,v),m&&m(h,v)},!HE(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=s||window;const a=tp(t),l=V0(a,this.transformPagePoint),{point:c}=l,{timestamp:d}=Vr;this.history=[{...c,timestamp:d}];const{onSessionStart:f}=r;f&&f(t,W0(l,this.history)),this.removeListeners=Jh(Mf(this.contextWindow,"pointermove",this.handlePointerMove),Mf(this.contextWindow,"pointerup",this.handlePointerUp),Mf(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),za(this.updatePoint)}}function V0(e,t){return t?{point:t(e.point)}:e}function oP(e,t){return{x:e.x-t.x,y:e.y-t.y}}function W0({point:e},t){return{point:e,delta:oP(e,M3(t)),offset:oP(e,ace(t)),velocity:lce(t,.1)}}function ace(e){return e[0]}function M3(e){return e[e.length-1]}function lce(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=M3(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>ti(t)));)r--;if(!n)return{x:0,y:0};const i=Oi(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function cce(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Kt(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Kt(r,e,n.max):Math.min(e,r)),e}function aP(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function uce(e,{top:t,left:r,bottom:n,right:s}){return{x:aP(e.x,r,s),y:aP(e.y,t,n)}}function lP(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function dce(e,t){return{x:lP(e.x,t.x),y:lP(e.y,t.y)}}function fce(e,t){let r=.5;const n=vn(e),s=vn(t);return s>n?r=ch(t.min,t.max-n,e.min):n>s&&(r=ch(e.min,e.max-s,t.min)),To(0,1,r)}function hce(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const f1=.35;function pce(e=f1){return e===!1?e=0:e===!0&&(e=f1),{x:cP(e,"left","right"),y:cP(e,"top","bottom")}}function cP(e,t,r){return{min:uP(e,t),max:uP(e,r)}}function uP(e,t){return typeof e=="number"?e:e[t]||0}const mce=new WeakMap;class gce{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(tp(f).point)},o=(f,h)=>{const{drag:p,dragPropagation:g,onDragStart:m}=this.getProps();if(p&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=kae(p),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),hs(v=>{let b=this.getAxisMotionValue(v).get()||0;if(Di.test(b)){const{projection:x}=this.visualElement;if(x&&x.layout){const E=x.layout.layoutBox[v];E&&(b=vn(E)*(parseFloat(b)/100))}}this.originPoint[v]=b}),m&&Lt.postRender(()=>m(f,h)),u1(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:m,onDrag:y}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:v}=h;if(g&&this.currentDirection===null){this.currentDirection=yce(v),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",h.point,v),this.updateAxis("y",h.point,v),this.visualElement.render(),y&&y(f,h)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>hs(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new I3(t,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:n,contextWindow:$3(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,s=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!n)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Lt.postRender(()=>a(n,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!hm(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=cce(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&ou(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=uce(n.layoutBox,t):this.constraints=!1,this.elastic=pce(r),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&hs(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=hce(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!ou(t))return!1;const n=t.current;Ao(n!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");const{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=vle(n,s.root,this.visualElement.getTransformPagePoint());let o=dce(s.layout.layoutBox,i);if(r){const a=r(mle(o));this.hasMutatedConstraints=!!a,a&&(o=x3(a))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=hs(d=>{if(!hm(d,r,this.currentDirection))return;let f=l&&l[d]||{};o&&(f={min:0,max:0});const h=s?200:1e6,p=s?40:1e7,g={type:"inertia",velocity:n?t[d]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,g)});return Promise.all(c).then(a)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return u1(this.visualElement,t),n.start(rj(t,n,0,r,this.visualElement,!1))}stopAnimation(){hs(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){hs(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){hs(r=>{const{drag:n}=this.getProps();if(!hm(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[r];i.set(t[r]-Kt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!ou(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};hs(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=fce({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),hs(o=>{if(!hm(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Kt(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;mce.set(this.visualElement,this);const t=this.visualElement.current,r=Mf(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();ou(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Lt.read(n);const o=ph(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(hs(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=f1,dragMomentum:a=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function hm(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function yce(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class vce extends Ga{constructor(t){super(t),this.removeGroupControls=Ss,this.removeListeners=Ss,this.controls=new gce(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ss}unmount(){this.removeGroupControls(),this.removeListeners()}}const dP=e=>(t,r)=>{e&&Lt.postRender(()=>e(t,r))};class bce extends Ga{constructor(){super(...arguments),this.removePointerDownListener=Ss}onPointerDown(t){this.session=new I3(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:$3(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:dP(t),onStart:dP(r),onMove:n,onEnd:(i,o)=>{delete this.session,s&&Lt.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Mf(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Qm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function fP(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Qd={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Fe.test(e))e=parseFloat(e);else return e;const r=fP(e,t.target.x),n=fP(e,t.target.y);return`${r}% ${n}%`}},xce={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=Ua.parse(e);if(s.length>5)return n;const i=Ua.createTransformer(e),o=typeof s[0]!="number"?1:0,a=r.x.scale*t.x,l=r.y.scale*t.y;s[0+o]/=a,s[1+o]/=l;const c=Kt(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};let K0=!1;class wce extends w.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=t;qae(_ce),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),K0&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Qm.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,{projection:o}=n;return o&&(o.isPresent=i,K0=!0,s||t.layoutDependency!==r||r===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Lt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),KE.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;K0=!0,s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function L3(e){const[t,r]=Iae(),n=w.useContext(g5);return u.jsx(wce,{...e,layoutGroup:n,switchLayoutGroup:w.useContext(v3),isPresent:t,safeToRemove:r})}const _ce={borderRadius:{...Qd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Qd,borderTopRightRadius:Qd,borderBottomLeftRadius:Qd,borderBottomRightRadius:Qd,boxShadow:xce};function Sce(e,t,r){const n=on(e)?e:Uu(e);return n.start(rj("",n,t,r)),n.animation}const Ece=(e,t)=>e.depth-t.depth;class jce{constructor(){this.children=[],this.isDirty=!1}add(t){kE(this.children,t),this.isDirty=!0}remove(t){CE(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Ece),this.isDirty=!1,this.children.forEach(t)}}function Nce(e,t){const r=Pn.now(),n=({timestamp:s})=>{const i=s-r;i>=t&&(za(n),e(i-t))};return Lt.setup(n,!0),()=>za(n)}const F3=["TopLeft","TopRight","BottomLeft","BottomRight"],kce=F3.length,hP=e=>typeof e=="string"?parseFloat(e):e,pP=e=>typeof e=="number"||Fe.test(e);function Cce(e,t,r,n,s,i){s?(e.opacity=Kt(0,r.opacity??1,Tce(n)),e.opacityExit=Kt(t.opacity??1,0,Ace(n))):i&&(e.opacity=Kt(t.opacity??1,r.opacity??1,n));for(let o=0;o<kce;o++){const a=`border${F3[o]}Radius`;let l=mP(t,a),c=mP(r,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||pP(l)===pP(c)?(e[a]=Math.max(Kt(hP(l),hP(c),n),0),(Di.test(c)||Di.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||r.rotate)&&(e.rotate=Kt(t.rotate||0,r.rotate||0,n))}function mP(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Tce=B3(0,.5,k5),Ace=B3(.5,.95,Ss);function B3(e,t,r){return n=>n<e?0:n>t?1:r(ch(e,t,n))}function gP(e,t){e.min=t.min,e.max=t.max}function ls(e,t){gP(e.x,t.x),gP(e.y,t.y)}function yP(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function vP(e,t,r,n,s){return e-=t,e=Ig(e,1/r,n),s!==void 0&&(e=Ig(e,1/s,n)),e}function Pce(e,t=0,r=1,n=.5,s,i=e,o=e){if(Di.test(t)&&(t=parseFloat(t),t=Kt(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=Kt(i.min,i.max,n);e===i&&(a-=t),e.min=vP(e.min,t,r,a,s),e.max=vP(e.max,t,r,a,s)}function bP(e,t,[r,n,s],i,o){Pce(e,t[r],t[n],t[s],t.scale,i,o)}const Oce=["x","scaleX","originX"],Dce=["y","scaleY","originY"];function xP(e,t,r,n){bP(e.x,t,Oce,r?r.x:void 0,n?n.x:void 0),bP(e.y,t,Dce,r?r.y:void 0,n?n.y:void 0)}function wP(e){return e.translate===0&&e.scale===1}function z3(e){return wP(e.x)&&wP(e.y)}function _P(e,t){return e.min===t.min&&e.max===t.max}function Rce(e,t){return _P(e.x,t.x)&&_P(e.y,t.y)}function SP(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function U3(e,t){return SP(e.x,t.x)&&SP(e.y,t.y)}function EP(e){return vn(e.x)/vn(e.y)}function jP(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class $ce{constructor(){this.members=[]}add(t){kE(this.members,t),t.scheduleRender()}remove(t){if(CE(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Ice(e,t,r){let n="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(r==null?void 0:r.z)||0;if((s||i||o)&&(n=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:c,rotate:d,rotateX:f,rotateY:h,skewX:p,skewY:g}=r;c&&(n=`perspective(${c}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),p&&(n+=`skewX(${p}deg) `),g&&(n+=`skewY(${g}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(n+=`scale(${a}, ${l})`),n||"none"}const H0=["","X","Y","Z"],Mce=1e3;let Lce=0;function Y0(e,t,r,n){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),n&&(n[e]=0))}function q3(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=C3(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Lt,!(s||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&q3(n)}function V3({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=Lce++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(zce),this.nodes.forEach(Wce),this.nodes.forEach(Kce),this.nodes.forEach(Uce)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new jce)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new AE),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=i3(o)&&!Dae(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let d,f=0;const h=()=>this.root.updateBlockedByResize=!1;Lt.read(()=>{f=window.innerWidth}),e(o,()=>{const p=window.innerWidth;p!==f&&(f=p,this.root.updateBlockedByResize=!0,d&&d(),d=Nce(h,250),Qm.hasAnimatedSinceResize&&(Qm.hasAnimatedSinceResize=!1,this.nodes.forEach(CP)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||c.getDefaultTransition()||Xce,{onLayoutAnimationStart:m,onLayoutAnimationComplete:y}=c.getProps(),v=!this.targetLayout||!U3(this.targetLayout,p),b=!f&&h;if(this.options.layoutRoot||this.resumeFrom||b||f&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const x={...VE(g,"layout"),onPlay:m,onComplete:y};(c.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x),this.setAnimationOrigin(d,b)}else f||CP(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),za(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Hce),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&q3(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(NP);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(kP);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Vce),this.nodes.forEach(Fce),this.nodes.forEach(Bce)):this.nodes.forEach(kP),this.clearAllSnapshots();const a=Pn.now();Vr.delta=To(0,1e3/60,a-Vr.timestamp),Vr.timestamp=a,Vr.isProcessing=!0,I0.update.process(Vr),I0.preRender.process(Vr),I0.render.process(Vr),Vr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,KE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(qce),this.sharedNodes.forEach(Yce)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Lt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Lt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!vn(this.snapshot.measuredBox.x)&&!vn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Qt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!z3(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||yl(this.latestValues)||d)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Jce(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return Qt();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(Qce))){const{scroll:d}=this.root;d&&(au(a.x,d.offset.x),au(a.y,d.offset.y))}return a}removeElementScroll(o){var l;const a=Qt();if(ls(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&ls(a,o),au(a.x,f.offset.x),au(a.y,f.offset.y))}return a}applyTransform(o,a=!1){const l=Qt();ls(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&lu(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),yl(d.latestValues)&&lu(l,d.latestValues)}return yl(this.latestValues)&&lu(l,this.latestValues),l}removeTransform(o){const a=Qt();ls(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!yl(c.latestValues))continue;o1(c.latestValues)&&c.updateSnapshot();const d=Qt(),f=c.measurePageBox();ls(d,f),xP(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return yl(this.latestValues)&&xP(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Vr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var h;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=Vr.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qt(),this.relativeTargetOrigin=Qt(),Ff(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),ls(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Qt(),this.targetWithTransforms=Qt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ice(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ls(this.target,this.layout.layoutBox),_3(this.target,this.targetDelta)):ls(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qt(),this.relativeTargetOrigin=Qt(),Ff(this.relativeTargetOrigin,this.target,p.target),ls(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||o1(this.parent.latestValues)||w3(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var g;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Vr.timestamp&&(l=!1),l)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;ls(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;yle(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Qt());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(yP(this.prevProjectionDelta.x,this.projectionDelta.x),yP(this.prevProjectionDelta.y,this.projectionDelta.y)),Lf(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!jP(this.projectionDelta.x,this.prevProjectionDelta.x)||!jP(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=cu(),this.projectionDelta=cu(),this.projectionDeltaWithTransform=cu()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},f=cu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=Qt(),p=l?l.source:void 0,g=this.layout?this.layout.source:void 0,m=p!==g,y=this.getStack(),v=!y||y.members.length<=1,b=!!(m&&!v&&this.options.crossfade===!0&&!this.path.some(Zce));this.animationProgress=0;let x;this.mixTargetDelta=E=>{const _=E/1e3;TP(f.x,o.x,_),TP(f.y,o.y,_),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ff(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Gce(this.relativeTarget,this.relativeTargetOrigin,h,_),x&&Rce(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Qt()),ls(x,this.relativeTarget)),m&&(this.animationValues=d,Cce(d,c,this.latestValues,_,b,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(za(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Lt.update(()=>{Qm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Uu(0)),this.currentAnimation=Sce(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Mce),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&W3(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Qt();const f=vn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const h=vn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}ls(a,l),lu(a,d),Lf(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new $ce),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Y0("z",o,c,this.animationValues);for(let d=0;d<H0.length;d++)Y0(`rotate${H0[d]}`,o,c,this.animationValues),Y0(`skew${H0[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Jm(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Jm(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!yl(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=c.animationValues||c.latestValues;this.applyTransformsToTarget();let f=Ice(this.projectionDeltaWithTransform,this.treeScale,d);l&&(f=l(d,f)),o.transform=f;const{x:h,y:p}=this.projectionDelta;o.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,c.animationValues?o.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const g in hh){if(d[g]===void 0)continue;const{correct:m,applyTo:y,isCSSVariable:v}=hh[g],b=f==="none"?d[g]:m(d[g],c);if(y){const x=y.length;for(let E=0;E<x;E++)o[y[E]]=b}else v?this.options.visualElement.renderState.vars[g]=b:o[g]=b}this.options.layoutId&&(o.pointerEvents=c===this?Jm(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(NP),this.root.sharedNodes.clear()}}}function Fce(e){e.updateLayout()}function Bce(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?hs(f=>{const h=o?t.measuredBox[f]:t.layoutBox[f],p=vn(h);h.min=n[f].min,h.max=h.min+p}):W3(i,t.layoutBox,n)&&hs(f=>{const h=o?t.measuredBox[f]:t.layoutBox[f],p=vn(n[f]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+p)});const a=cu();Lf(a,n,t.layoutBox);const l=cu();o?Lf(l,e.applyTransform(s,!0),t.measuredBox):Lf(l,n,t.layoutBox);const c=!z3(a);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const g=Qt();Ff(g,t.layoutBox,h.layoutBox);const m=Qt();Ff(m,n,p.layoutBox),U3(g,m)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=g,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function zce(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Uce(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function qce(e){e.clearSnapshot()}function NP(e){e.clearMeasurements()}function kP(e){e.isLayoutDirty=!1}function Vce(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function CP(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Wce(e){e.resolveTargetDelta()}function Kce(e){e.calcProjection()}function Hce(e){e.resetSkewAndRotation()}function Yce(e){e.removeLeadSnapshot()}function TP(e,t,r){e.translate=Kt(t.translate,0,r),e.scale=Kt(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function AP(e,t,r,n){e.min=Kt(t.min,r.min,n),e.max=Kt(t.max,r.max,n)}function Gce(e,t,r,n){AP(e.x,t.x,r.x,n),AP(e.y,t.y,r.y,n)}function Zce(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Xce={duration:.45,ease:[.4,0,.1,1]},PP=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),OP=PP("applewebkit/")&&!PP("chrome/")?Math.round:Ss;function DP(e){e.min=OP(e.min),e.max=OP(e.max)}function Jce(e){DP(e.x),DP(e.y)}function W3(e,t,r){return e==="position"||e==="preserve-aspect"&&!sce(EP(t),EP(r),.2)}function Qce(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const eue=V3({attachResizeListener:(e,t)=>ph(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),G0={current:void 0},K3=V3({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!G0.current){const e=new eue({});e.mount(window),e.setOptions({layoutScroll:!0}),G0.current=e}return G0.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),tue={pan:{Feature:bce},drag:{Feature:vce,ProjectionNode:K3,MeasureLayout:L3}};function RP(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,i=n[s];i&&Lt.postRender(()=>i(t,tp(t)))}class rue extends Ga{mount(){const{current:t}=this.node;t&&(this.unmount=Cae(t,(r,n)=>(RP(this.node,n,"Start"),s=>RP(this.node,s,"End"))))}unmount(){}}class nue extends Ga{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Jh(ph(this.node.current,"focus",()=>this.onFocus()),ph(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function $P(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),i=n[s];i&&Lt.postRender(()=>i(t,tp(t)))}class sue extends Ga{mount(){const{current:t}=this.node;t&&(this.unmount=Oae(t,(r,n)=>($P(this.node,n,"Start"),(s,{success:i})=>$P(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const h1=new WeakMap,Z0=new WeakMap,iue=e=>{const t=h1.get(e.target);t&&t(e)},oue=e=>{e.forEach(iue)};function aue({root:e,...t}){const r=e||document;Z0.has(r)||Z0.set(r,{});const n=Z0.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(oue,{root:e,...t})),n[s]}function lue(e,t,r){const n=aue(t);return h1.set(e,r),n.observe(e),()=>{h1.delete(e),n.unobserve(e)}}const cue={some:0,all:1};class uue extends Ga{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:cue[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=c?d:f;h&&h(l)};return lue(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(due(t,r))&&this.startObserver()}unmount(){}}function due({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const fue={inView:{Feature:uue},tap:{Feature:sue},focus:{Feature:nue},hover:{Feature:rue}},hue={layout:{ProjectionNode:K3,MeasureLayout:L3}},pue={...Jle,...fue,...tue,...hue},X0=ple(pue,kle),mue=()=>{const{isAuthenticated:e}=qh(),[t,r]=w.useState(null),[n,s]=w.useState(!1),i=[{id:"monthly",name:"Monthly Membership",price:9.99,interval:"month",features:["Access to all released content","New chapters as they release","Exclusive behind-the-scenes","Early character reveals","Community discussions","Author notes and insights"],paypalPlanId:"monthly_plan_id",highlight:"Perfect for new readers"},{id:"yearly",name:"Annual Membership",price:99.99,interval:"year",features:["Everything in Monthly plan","2 months free (17% savings)","Priority content access","Exclusive annual content","Direct Q&A with author","Member-only events"],popular:!0,paypalPlanId:"yearly_plan_id",highlight:"Best value - Save $19.89"}],o=c=>{if(!e){window.location.href="/login?returnTo=/subscribe";return}r(i.find(d=>d.id===c)||null),s(!0)},a=()=>s(!1),l=()=>s(!1);return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx("section",{className:"relative bg-gradient-to-br from-primary/10 to-background",children:u.jsx("div",{className:"container mx-auto px-4 py-24 md:py-32",children:u.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[u.jsxs(X0.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[u.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-foreground mb-6 leading-tight",children:"Unlock the Full Zoroasterverse Experience"}),u.jsx("p",{className:"text-xl md:text-2xl text-muted-foreground mb-8 max-w-3xl mx-auto",children:"Join our community of readers and get exclusive access to the complete story as it unfolds."})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mt-10 w-full max-w-6xl mx-auto",children:i.map((c,d)=>u.jsxs(X0.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:d*.1+.3,duration:.5},className:`relative w-full ${c.popular?"z-10 transform md:-translate-y-4":""}`,children:[c.popular&&u.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 z-20",children:u.jsxs("div",{className:"bg-gradient-to-r from-amber-400 to-amber-600 text-amber-900 px-4 py-1.5 rounded-full text-xs font-bold flex items-center gap-1.5 shadow-lg shadow-amber-500/20",children:[u.jsx(eh,{className:"w-3.5 h-3.5"}),u.jsx("span",{children:"MOST POPULAR"})]})}),u.jsxs("div",{className:`bg-card border rounded-xl p-6 transition-all duration-300 ${c.popular?"border-amber-500/30 shadow-xl shadow-amber-500/10":"border-border hover:border-primary/50 hover:shadow-lg"}`,children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("h3",{className:"text-2xl font-bold text-foreground mb-2",children:c.name}),c.highlight&&u.jsx("p",{className:"text-sm text-primary font-medium mb-3",children:c.highlight}),u.jsxs("div",{className:"mb-2",children:[u.jsxs("span",{className:"text-4xl font-bold bg-gradient-to-r from-primary to-primary/80 bg-clip-text text-transparent",children:["$",c.price]}),u.jsxs("span",{className:"text-muted-foreground text-lg",children:["/",c.interval]})]}),c.interval==="year"&&u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Only $",(c.price/12).toFixed(2)," per month"]})]}),u.jsx("ul",{className:"space-y-3 mb-8",children:c.features.map((f,h)=>u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx(xa,{className:`flex-shrink-0 mt-0.5 ${c.popular?"text-amber-500":"text-primary"}`,size:18}),u.jsx("span",{className:"text-muted-foreground text-sm",children:f})]},h))}),u.jsxs("button",{onClick:()=>o(c.id),className:`w-full py-3 px-6 rounded-lg font-medium transition-all duration-300 flex items-center justify-center gap-2 ${c.popular?"bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-white shadow-lg shadow-amber-500/20":"bg-primary/10 hover:bg-primary/20 text-primary border border-primary/20"}`,children:["Get Started",u.jsx(Pf,{className:"w-4 h-4"})]})]})]},c.id))})]})})}),u.jsx("section",{className:"py-16 md:py-24 bg-card/30",children:u.jsxs("div",{className:"container mx-auto px-4",children:[u.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-16",children:"What You'll Get"}),u.jsx("div",{className:"grid md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:[{icon:u.jsx(Lu,{className:"w-8 h-8 text-primary"}),title:"Exclusive Content",description:"Access to all chapters, including early releases and subscriber-only content."},{icon:u.jsx(US,{className:"w-8 h-8 text-primary"}),title:"Regular Updates",description:"New chapters delivered on a consistent schedule. No waiting for complete books!"},{icon:u.jsx(cG,{className:"w-8 h-8 text-primary"}),title:"Early Access",description:"Be the first to experience new chapters and special releases."},{icon:u.jsx(HY,{className:"w-8 h-8 text-primary"}),title:"Community",description:"Join discussions, share theories, and connect with other readers."},{icon:u.jsx(tv,{className:"w-8 h-8 text-primary"}),title:"Behind the Scenes",description:"Exclusive insights into the creative process and world-building."},{icon:u.jsx(xa,{className:"w-8 h-8 text-primary"}),title:"Ad-Free Experience",description:"Enjoy your reading without any distractions or interruptions."}].map((c,d)=>u.jsxs(X0.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:d*.1,duration:.5},className:"bg-background/50 backdrop-blur-sm p-6 rounded-xl border border-border hover:border-primary/30 transition-colors",children:[u.jsx("div",{className:"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center mb-4",children:c.icon}),u.jsx("h3",{className:"text-xl font-semibold mb-2",children:c.title}),u.jsx("p",{className:"text-muted-foreground text-sm",children:c.description})]},d))})]})}),u.jsx("section",{className:"py-16 bg-gradient-to-r from-primary/5 to-primary/10",children:u.jsxs("div",{className:"container mx-auto px-4 text-center",children:[u.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Ready to Begin Your Journey?"}),u.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto mb-8",children:"Join thousands of readers who are already exploring the Zoroasterverse."}),u.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[u.jsxs("button",{onClick:()=>o("yearly"),className:"px-8 py-3 bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-white font-medium rounded-lg shadow-lg shadow-amber-500/20 transition-all flex items-center gap-2",children:["Start Reading Now",u.jsx(Pf,{className:"w-4 h-4"})]}),u.jsx("button",{className:"px-6 py-3 border border-border hover:border-primary/50 hover:bg-background/50 text-foreground font-medium rounded-lg transition-all",children:"Learn More"})]})]})}),n&&t&&u.jsx(m5,{product:{id:t.id,name:t.name,price:t.price*100,currency:"usd",interval:t.interval,is_subscription:!0,trial_period_days:void 0},onCancel:a,onSuccess:l})]})},gue=()=>{const[e]=kY(),[t,r]=w.useState(null),[n,s]=w.useState(!0);return w.useEffect(()=>{const i=e.get("session_id");r(i),s(!1)},[e]),n?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-gray-900 flex items-center justify-center",children:u.jsx("div",{className:"text-white text-xl",children:"Loading..."})}):u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-gray-900",children:[u.jsxs("div",{className:"relative overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-black opacity-50"}),u.jsx("div",{className:"relative z-10 container mx-auto px-4 py-20 text-center",children:u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsx("div",{className:"w-24 h-24 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-8",children:u.jsx(xa,{className:"w-12 h-12 text-white"})}),u.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-white mb-6",children:"Welcome to the Zoroasterverse!"}),u.jsx("p",{className:"text-xl md:text-2xl text-gray-300 mb-8 leading-relaxed",children:"Your subscription is now active. You're ready to dive into the world of episodic storytelling and join our community of readers."}),t&&u.jsx("div",{className:"bg-gray-800 bg-opacity-50 rounded-lg p-4 mb-8 inline-block",children:u.jsxs("p",{className:"text-gray-300 text-sm",children:["Session ID: ",u.jsx("span",{className:"font-mono text-green-400",children:t})]})})]})})]}),u.jsx("div",{className:"py-20 bg-gray-800",children:u.jsxs("div",{className:"container mx-auto px-4",children:[u.jsx("h2",{className:"text-4xl font-bold text-white text-center mb-16",children:"What Happens Next?"}),u.jsxs("div",{className:"grid md:grid-cols-3 gap-8 max-w-5xl mx-auto",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-20 h-20 bg-purple-600 rounded-full flex items-center justify-center mx-auto mb-6",children:u.jsx(Lu,{className:"w-10 h-10 text-white"})}),u.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Access Your Library"}),u.jsx("p",{className:"text-gray-300",children:"Visit your library to read all available chapters and exclusive content."})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-20 h-20 bg-purple-600 rounded-full flex items-center justify-center mx-auto mb-6",children:u.jsx(tv,{className:"w-10 h-10 text-white"})}),u.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Stay Updated"}),u.jsx("p",{className:"text-gray-300",children:"You'll receive notifications when new chapters are ready to read."})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-20 h-20 bg-purple-600 rounded-full flex items-center justify-center mx-auto mb-6",children:u.jsx(yg,{className:"w-10 h-10 text-white"})}),u.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Join the Community"}),u.jsx("p",{className:"text-gray-300",children:"Connect with fellow readers and discuss theories in our community."})]})]})]})}),u.jsx("div",{className:"py-20 bg-gray-900",children:u.jsxs("div",{className:"container mx-auto px-4",children:[u.jsx("h2",{className:"text-4xl font-bold text-white text-center mb-16",children:"Get Started Right Away"}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[u.jsx(Rr,{to:"/library",className:"bg-purple-600 hover:bg-purple-700 text-white p-8 rounded-2xl transition-all duration-300 hover:scale-105 group",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Visit Your Library"}),u.jsx("p",{className:"text-purple-100 mb-6",children:"Access all available chapters and start reading immediately."})]}),u.jsx(Pf,{className:"w-8 h-8 group-hover:translate-x-2 transition-transform"})]})}),u.jsx(Rr,{to:"/account",className:"bg-gray-700 hover:bg-gray-600 text-white p-8 rounded-2xl transition-all duration-300 hover:scale-105 group",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Manage Subscription"}),u.jsx("p",{className:"text-gray-300 mb-6",children:"View your subscription details and manage your account."})]}),u.jsx(Pf,{className:"w-8 h-8 group-hover:translate-x-2 transition-transform"})]})})]})]})}),u.jsx("div",{className:"py-20 bg-gradient-to-r from-purple-900 to-blue-900",children:u.jsx("div",{className:"container mx-auto px-4 text-center",children:u.jsxs("div",{className:"max-w-3xl mx-auto",children:[u.jsx("div",{className:"w-20 h-20 bg-yellow-500 rounded-full flex items-center justify-center mx-auto mb-6",children:u.jsx(eh,{className:"w-10 h-10 text-white"})}),u.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Welcome Bonus Unlocked!"}),u.jsx("p",{className:"text-xl text-gray-300 mb-8",children:"As a new subscriber, you now have access to exclusive content including:"}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-6 text-left mb-8",children:[u.jsxs("div",{className:"bg-white bg-opacity-10 rounded-lg p-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Behind the Scenes"}),u.jsx("p",{className:"text-gray-300",children:"Author notes, character development insights, and world-building details."})]}),u.jsxs("div",{className:"bg-white bg-opacity-10 rounded-lg p-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Community Access"}),u.jsx("p",{className:"text-gray-300",children:"Join discussions, share theories, and connect with fellow readers."})]})]}),u.jsxs(Rr,{to:"/library",className:"bg-yellow-500 hover:bg-yellow-600 text-gray-900 px-8 py-4 rounded-xl text-xl font-bold transition-all duration-300 hover:scale-105 shadow-lg inline-flex items-center gap-2",children:["Explore Your Library",u.jsx(Pf,{className:"w-6 h-6"})]})]})})}),u.jsx("div",{className:"py-16 bg-gray-800",children:u.jsxs("div",{className:"container mx-auto px-4 text-center",children:[u.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Questions or Need Help?"}),u.jsx("p",{className:"text-gray-300 mb-6",children:"Our support team is here to help you get the most out of your subscription."}),u.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[u.jsx(Rr,{to:"/account",className:"bg-gray-700 hover:bg-gray-600 text-white px-6 py-3 rounded-lg transition-colors",children:"Contact Support"}),u.jsx(Rr,{to:"/",className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg transition-colors",children:"Return Home"})]})]})})]})},yue=e=>e.resultType==="page",vue=e=>e.resultType==="folder";function bue({page:e,onEdit:t}){var z,U,G;const{folderSlug:r,pageSlug:n}=Jy(),[s,i]=w.useState([]),[o,a]=w.useState([]),[l,c]=w.useState(null),[d,f]=w.useState(""),[h,p]=w.useState([]),[g,m]=w.useState(!1),[y,v]=w.useState(!0),[b,x]=w.useState(!1),[E,_]=w.useState(!0),[N,k]=w.useState([]),C=w.useRef(null),T=w.useRef(null);e.excerpt;const $=async q=>{if(!q.trim()){p([]);return}try{m(!0);const{data:Z,error:ie}=await he.from("wiki_pages").select(`
          *,
          content, seo_title, seo_description, seo_keywords, sections,
          category:wiki_categories(*),
          user:profiles(*)
        `).or(`title.ilike.%${q}%,excerpt.ilike.%${q}%`);if(ie)throw ie;const R=(Z||[]).map(B=>{let X=null;B.user&&typeof B.user=="object"&&!("error"in B.user)&&(X=B.user);let oe=null;return B.category&&typeof B.category=="object"&&!("error"in B.category)&&(oe=B.category),{...B,resultType:"page",sections:B.sections||[],content:B.content||"",excerpt:B.excerpt||"",is_published:B.is_published??!0,category_id:B.category_id??null,folder_id:B.folder_id??null,created_at:B.created_at||new Date().toISOString(),updated_at:new Date().toISOString(),created_by:B.created_by||"",view_count:B.view_count||0,slug:B.slug||"",seo_title:B.seo_title||null,seo_description:B.seo_description||null,seo_keywords:B.seo_keywords||[],category:oe,user:X}});p(R)}catch(Z){console.error("Search error:",Z),qe.error("Failed to perform search")}finally{m(!1)}};w.useEffect(()=>{(async()=>{try{_(!0);const{data:Z,error:ie}=await he.from("wiki_pages").select("*, content, seo_title, seo_description, seo_keywords, sections, category:wiki_categories(*), user:profiles(*)").order("title");if(ie)throw ie;const R=(Z||[]).map(B=>{let X=null;B.user&&typeof B.user=="object"&&!("error"in B.user)&&(X=B.user);let oe=null;return B.category&&typeof B.category=="object"&&!("error"in B.category)&&(oe=B.category),{...B,sections:B.sections||[],content:B.content||"",seo_title:B.seo_title||"",seo_description:B.seo_description||"",seo_keywords:B.seo_keywords||[],category:oe,user:X,resultType:"page"}});i(R)}catch(Z){console.error("Error fetching data:",Z),qe.error("Failed to load wiki pages")}finally{_(!1)}})()},[n]);const M=q=>{const Z=new Map,ie=[];return q.forEach(R=>{Z.set(R.id,{...R,children:[]})}),Z.forEach(R=>{if(R.parent_id&&Z.has(R.parent_id)){const B=Z.get(R.parent_id);B&&(B.children=[...B.children||[],R])}else ie.push(R)}),ie},L=q=>{var Z,ie,R,B,X,oe,W,K,ee,te,ue;if(!q)return null;switch(q.type){case"heading_1":case"heading_2":case"heading_3":const H=`h${parseInt(q.type.split("_")[1])}`;return u.jsx(H,{id:`heading-${q.id}`,className:"mt-6 mb-4 font-semibold",children:(Z=q.content)==null?void 0:Z.text});case"paragraph":return u.jsx("p",{className:"mb-4 leading-relaxed",children:(ie=q.content)==null?void 0:ie.text});case"bullet_list":return u.jsx("ul",{className:"list-disc pl-6 mb-4 space-y-1",children:(B=(R=q.content)==null?void 0:R.items)==null?void 0:B.map((se,O)=>u.jsx("li",{children:se},O))});case"ordered_list":return u.jsx("ol",{className:"list-decimal pl-6 mb-4 space-y-1",children:(oe=(X=q.content)==null?void 0:X.items)==null?void 0:oe.map((se,O)=>u.jsx("li",{children:se},O))});case"quote":return u.jsx("blockquote",{className:"border-l-4 border-gray-300 pl-4 py-1 my-4 text-gray-600 italic",children:(W=q.content)==null?void 0:W.text});case"code":return u.jsx("pre",{className:"bg-gray-100 p-4 rounded-md my-4 overflow-x-auto",children:u.jsx("code",{children:(K=q.content)==null?void 0:K.code})});case"image":return u.jsxs("div",{className:"my-6",children:[u.jsx("img",{src:(ee=q.content)==null?void 0:ee.url,alt:((te=q.content)==null?void 0:te.alt)||"",className:"max-w-full h-auto rounded-md"}),((ue=q.content)==null?void 0:ue.caption)&&u.jsx("p",{className:"text-sm text-gray-500 text-center mt-2",children:q.content.caption})]});default:return null}},D=(q,Z=0)=>q.map(ie=>u.jsxs("div",{className:"pl-2",children:[u.jsxs("div",{className:"flex items-center py-1 px-2 rounded hover:bg-accent cursor-pointer",children:[u.jsx(Qf,{size:16,className:"mr-1 text-muted-foreground"}),u.jsx(gg,{size:14,className:"mr-2 text-blue-500"}),u.jsx("span",{className:"text-sm",children:ie.name})]}),ie.children&&ie.children.length>0&&u.jsx("div",{className:"pl-4 border-l border-border ml-1",children:D(ie.children,Z+1)}),u.jsx("div",{className:"pl-6",children:s.filter(R=>R.folder_id===ie.id).map(R=>u.jsxs(Rr,{to:`/wiki/${ie.slug}/${R.slug}`,className:`flex items-center py-1 px-2 rounded text-sm ${n===R.slug?"bg-accent font-medium":"text-muted-foreground hover:bg-accent"}`,children:[u.jsx(mg,{size:12,className:"mr-2 text-gray-500"}),u.jsx("span",{className:"truncate",children:R.title})]},R.id))})]},ie.id));return w.useEffect(()=>{const q=async()=>{if(!d.trim()){p([]);return}m(!0);try{await $(d)}catch(ie){console.error("Search error:",ie),qe.error("Failed to perform search")}finally{m(!1)}};C.current!==null&&(window.clearTimeout(C.current),C.current=null);const Z=window.setTimeout(q,500);return C.current=Z,()=>{C.current!==null&&(window.clearTimeout(C.current),C.current=null)}},[d]),w.useEffect(()=>{f(""),p([])},[r,n]),e?u.jsxs("div",{className:"flex h-screen bg-background",children:[y&&u.jsxs("div",{className:"w-64 bg-card border-r border-border flex flex-col",children:[u.jsxs("div",{className:"p-4 border-b border-border",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h2",{className:"font-semibold flex items-center",children:[u.jsx(Lu,{size:16,className:"mr-2"}),"Wiki"]}),u.jsx(tt,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>v(!1),children:u.jsx(La,{size:16})})]}),u.jsxs("div",{className:"relative",children:[u.jsx(cc,{size:16,className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),u.jsx(bs,{type:"search",placeholder:"Search wiki...",className:"w-full pl-8 h-8 text-sm",value:d,onChange:q=>f(q.target.value)})]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:E?u.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading..."}):D(M(o))}),d&&u.jsxs("div",{className:"mt-2 border-t border-border pt-2",children:[u.jsx("div",{className:"text-xs font-medium text-muted-foreground mb-2 px-2",children:g?"Searching...":`Found ${h.length} results`}),!g&&h.length===0?u.jsxs("div",{className:"text-xs text-muted-foreground px-2 py-1",children:['No results found for "',d,'"']}):u.jsx("div",{className:"space-y-1 max-h-60 overflow-y-auto",children:h.map(q=>u.jsx(Rr,{to:q.resultType==="page"?`/wiki/${q.folder_id?`${q.folder_id}/`:""}${q.slug}`:`/wiki/folder/${q.id}`,className:"flex items-center px-2 py-1.5 text-sm rounded hover:bg-accent",onClick:()=>f(""),children:yue(q)?u.jsxs("div",{className:"flex items-center",children:[u.jsx(mg,{className:"h-4 w-4 mr-2 text-gray-500"}),u.jsx("span",{children:q.title})]}):vue(q)?u.jsxs("div",{className:"flex items-center",children:[u.jsx(gg,{className:"h-4 w-4 mr-2 text-yellow-500"}),u.jsx("span",{children:q.name})]}):null},`${q.resultType}-${q.id}`))})]})]}),u.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[u.jsxs("header",{className:"h-14 border-b border-border flex items-center px-4",children:[!y&&u.jsx(tt,{variant:"ghost",size:"icon",className:"mr-2",onClick:()=>v(!0),children:u.jsx(KC,{size:18})}),u.jsx("div",{className:"flex-1",children:u.jsx("h1",{className:"font-semibold",children:(l==null?void 0:l.title)||"Welcome to the Wiki"})}),u.jsx(tt,{variant:"ghost",size:"icon",onClick:()=>x(!b),children:u.jsx(KC,{size:18})})]}),u.jsx("main",{ref:T,className:"flex-1 overflow-y-auto p-6 max-w-4xl mx-auto w-full",children:l?u.jsxs("article",{className:"prose max-w-none",children:[(z=l.sections)==null?void 0:z.map(q=>u.jsx("div",{children:L(q)},q.id)),u.jsxs("div",{className:"mt-12 pt-6 border-t border-border text-sm text-muted-foreground",children:["Last updated: ",new Date(l.updated_at).toLocaleDateString()]})]}):u.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center text-muted-foreground",children:[u.jsx(Lu,{size:48,className:"mb-4 text-muted-foreground/50"}),u.jsx("h2",{className:"text-xl font-medium mb-2",children:"Welcome to the Wiki"}),u.jsx("p",{className:"max-w-md",children:"Select a page from the sidebar or create a new one to get started."})]})})]}),b&&u.jsxs("div",{className:"w-64 border-l border-border bg-card overflow-y-auto",children:[u.jsx("div",{className:"p-4 border-b border-border",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"font-medium",children:"Table of Contents"}),u.jsx(tt,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>x(!1),children:u.jsx(La,{size:16})})]})}),u.jsx("div",{className:"p-4",children:N.length>0?u.jsx("nav",{className:"space-y-1",children:N.map((q,Z)=>u.jsx("a",{href:`#${q.id}`,className:`block py-1 text-sm ${q.level===1?"font-medium":"text-muted-foreground"} hover:text-foreground`,style:{marginLeft:`${(q.level-1)*8}px`},children:q.text},Z))}):u.jsx("p",{className:"text-sm text-muted-foreground",children:"No headings found"})})]}),u.jsxs("div",{className:"prose dark:prose-invert max-w-none",children:[u.jsx("h1",{children:e.title}),(U=e.sections)!=null&&U.length?u.jsx("div",{className:"space-y-6",children:(G=e.sections)==null?void 0:G.sort((q,Z)=>(q.order_index??0)-(Z.order_index??0)).map(q=>u.jsxs("div",{className:"section",children:[q.title&&u.jsx("h2",{className:"text-2xl font-semibold mb-2",children:q.title}),u.jsx("div",{className:"prose dark:prose-invert max-w-none",dangerouslySetInnerHTML:{__html:q.content||""}})]},q.id))}):u.jsx("div",{className:"prose dark:prose-invert max-w-none",dangerouslySetInnerHTML:{__html:e.excerpt||""}})]})]}):u.jsx("div",{children:"Loading..."})}const xue=async()=>{const{data:e,error:t}=await he.from("characters").select("*").order("created_at",{ascending:!0});if(t)throw new Error(t.message);return e},wue=()=>{const{data:e,isLoading:t,isError:r,error:n}=dr({queryKey:["characters"],queryFn:xue}),s=w.useRef(null);w.useRef({});const i=w.useRef([]);return w.useEffect(()=>{if(s.current){const o=s.current;for(let a=0;a<20;a++){const l=document.createElement("div");l.className="floating-dot",l.style.left=Math.random()*100+"%",l.style.top=Math.random()*100+"%",l.style.animationDelay=Math.random()*6+"s",l.style.animationDuration=4+Math.random()*4+"s",o.appendChild(l)}}},[]),w.useEffect(()=>{const o=new IntersectionObserver(a=>{a.forEach(l=>{l.isIntersecting&&l.target.classList.add("visible")})},{threshold:.2,rootMargin:"-50px"});return i.current.forEach(a=>{a&&o.observe(a)}),()=>{i.current.forEach(a=>{a&&o.unobserve(a)})}},[e]),w.useEffect(()=>{const o=()=>{var c;const a=window.pageYOffset,l=(c=s.current)==null?void 0:c.querySelectorAll(".floating-dot");l==null||l.forEach((d,f)=>{const h=.5+f%3*.2;d.style.transform=`translateY(${a*h}px) rotate(${a*.1}deg)`})};return window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)},[]),t?u.jsx("div",{className:"text-center py-8 text-text-light",children:"Loading characters..."}):r?u.jsxs("div",{className:"text-center py-8 text-red-400",children:["Error loading characters: ",n==null?void 0:n.message]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{ref:s,className:"floating-elements"}),u.jsx("section",{className:"hero-section",children:u.jsxs("div",{children:[u.jsx("h1",{className:"hero-title",children:"Meet the Characters"}),u.jsx("p",{className:"hero-subtitle",children:"Journey into the world of extraordinary souls"}),u.jsx("div",{className:"scroll-indicator",children:u.jsx("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})})]})}),e==null?void 0:e.map((o,a)=>{var l;return u.jsxs("section",{ref:c=>{i.current[a]=c},className:`character-section ${a%2===0,""}`,children:[u.jsx("div",{className:"character-silhouette",children:u.jsx("div",{className:"silhouette-container",children:o.image_url?u.jsxs(u.Fragment,{children:[u.jsx("img",{src:o.image_url,alt:o.name,className:"character-image"}),u.jsx("div",{className:"silhouette-overlay",style:{"--mask-image":`url(${o.silhouette_url||o.image_url})`}})]}):u.jsxs("div",{className:"upload-placeholder",children:[u.jsx("div",{className:"upload-icon",children:"📷"}),u.jsx("div",{children:"No Image"})]})})}),u.jsxs("div",{className:"character-info",children:[u.jsx("h2",{className:"character-name",children:o.name}),u.jsx("p",{className:"character-title",children:o.title}),u.jsx("p",{className:"character-description",children:o.description}),u.jsx("div",{className:"character-traits",children:(l=o.traits)==null?void 0:l.map((c,d)=>u.jsx("span",{className:"trait",children:c},d))})]})]},o.id)})]})},_ue=()=>u.jsx("div",{children:u.jsx("h1",{className:"text-3xl font-bold",children:"Locations & Factions"})}),Sue=()=>u.jsx("div",{children:u.jsx("h1",{className:"text-3xl font-bold",children:"Glossary"})}),Eue=()=>u.jsx("div",{children:u.jsx("h1",{className:"text-3xl font-bold",children:"Reviews"})}),jue=async()=>{const{data:e,error:t}=await he.from("posts").select("*").eq("status","published").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e},Nue=()=>{const{data:e,isLoading:t,isError:r,error:n}=dr({queryKey:["blogPosts"],queryFn:jue});return t?u.jsx("div",{className:"text-center py-8",children:"Loading blog posts..."}):r?u.jsxs("div",{className:"text-center py-8 text-red-500",children:["Error loading posts: ",n==null?void 0:n.message]}):u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-8",children:"Blog & News"}),e&&e.length>0?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(s=>u.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:u.jsxs("div",{className:"p-6",children:[u.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-2",children:s.title}),u.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Published on ",new Date(s.created_at).toLocaleDateString()]}),u.jsx("div",{className:"text-gray-700 leading-relaxed line-clamp-3",dangerouslySetInnerHTML:{__html:s.content}}),u.jsx(Rr,{to:`/blog/${s.slug}`,className:"mt-4 inline-block text-blue-600 hover:text-blue-800 font-medium",children:"Read More →"})]})},s.id))}):u.jsxs("div",{className:"text-center py-12 text-gray-600",children:[u.jsx("p",{className:"text-xl mb-4",children:"No blog posts published yet."}),u.jsx("p",{children:"Check back soon for new content!"})]})]})},kue=()=>u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-4xl font-bold",children:"404 - Not Found"}),u.jsx("p",{className:"mt-4",children:"Sorry, the page you are looking for does not exist."}),u.jsx(Rr,{to:"/",className:"mt-6 inline-block bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600",children:"Go to Home"})]}),Cue=()=>{const e=()=>{localStorage.removeItem("isAuthenticated"),localStorage.removeItem("betaApplicationStatus"),window.location.href="/login"},t={title:"The Obsidian Gate - Issue 7",chaptersRead:5,totalChapters:10,readingWindowEnd:"August 30, 2025",feedbackWindowEnd:"September 7, 2025",launchDay:"September 15, 2025",downloadLink:"#"},r=[{id:1,description:"Read the Material",completed:!1},{id:2,description:"Submit Structured Feedback",completed:!1},{id:3,description:"Convert to Public Review",completed:!1}],n=[{name:"Beta Alumni",description:"Completed 1+ beta cycles"}],s=[{id:1,title:"New Feedback Form Available!",date:"August 20, 2025",content:"The feedback form for Issue 7 is now live. Please submit your thoughts by the deadline."},{id:2,title:"Reminder: Reading Window Ends Soon",date:"August 25, 2025",content:"Just a friendly reminder that the reading window for Issue 7 closes on August 30th."}];return u.jsxs("div",{className:"p-4",children:[u.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Welcome to the Beta Reader Portal!"}),u.jsx("p",{className:"mb-4",children:"This is your central hub for all active beta reading projects and resources."}),u.jsxs("div",{className:"bg-card shadow-md rounded-lg p-6 mb-6",children:[u.jsxs("h2",{className:"text-2xl font-semibold mb-4",children:["Current Beta Cycle: ",t.title]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Reading Window Ends:"})," ",t.readingWindowEnd]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Feedback Window Ends:"})," ",t.feedbackWindowEnd]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Launch Day:"})," ",t.launchDay]}),u.jsxs("p",{className:"mt-2",children:[u.jsx("strong",{children:"Your Progress:"})," Chapters Read ",t.chaptersRead,"/",t.totalChapters]}),u.jsx("a",{href:t.downloadLink,className:"mt-4 inline-block bg-primary hover:bg-primary-dark text-white font-bold py-2 px-4 rounded",children:"Download Material"})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Mandatory Tasks"}),u.jsx("ul",{className:"list-none",children:r.map(i=>u.jsxs("li",{className:"flex items-center mb-1",children:[u.jsx("input",{type:"checkbox",checked:i.completed,readOnly:!0,className:"mr-2"}),i.description]},i.id))}),u.jsx("a",{href:"/beta/feedback",className:"mt-4 inline-block bg-primary hover:bg-primary-dark text-white font-bold py-2 px-4 rounded",children:"Submit Feedback"})]})]})]}),u.jsxs("div",{className:"bg-card shadow-md rounded-lg p-6 mb-6",children:[u.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Announcements"}),s.length>0?u.jsx("ul",{children:s.map(i=>u.jsxs("li",{className:"mb-4 pb-4 border-b last:border-b-0",children:[u.jsx("h3",{className:"font-bold text-lg",children:i.title}),u.jsx("p",{className:"text-sm text-muted-foreground",children:i.date}),u.jsx("p",{className:"mt-1",children:i.content})]},i.id))}):u.jsx("p",{className:"text-muted-foreground",children:"No new announcements at this time."})]}),u.jsxs("div",{className:"bg-card shadow-md rounded-lg p-6 mb-6",children:[u.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Your Rewards & Recognition"}),n.length>0?u.jsx("div",{className:"flex flex-wrap gap-4",children:n.map(i=>u.jsxs("span",{className:"bg-muted text-muted-foreground text-sm font-medium px-3 py-1 rounded-full",children:[i.name," - ",i.description]},i.name))}):u.jsx("p",{className:"text-muted-foreground",children:"Complete your first beta cycle to earn your first badge!"}),u.jsx("p",{className:"mt-4 text-muted-foreground",children:"Upon successful completion of a beta cycle, you will receive a store discount coupon."})]}),u.jsxs("div",{className:"bg-card shadow-md rounded-lg p-6 mb-6",children:[u.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Important Links"}),u.jsxs("ul",{className:"list-disc list-inside text-primary",children:[u.jsx("li",{children:u.jsx("a",{href:"/beta/handbook",className:"hover:underline",children:"Beta Reader Handbook"})}),u.jsx("li",{children:u.jsx("a",{href:"/beta/timeline",className:"hover:underline",children:"Operational Timeline"})}),u.jsx("li",{children:u.jsx("a",{href:"#",className:"hover:underline",children:"Community Forum (Discord/Private Channel)"})}),u.jsx("li",{children:u.jsx("a",{href:"/beta/nda",className:"hover:underline",children:"View NDA"})})]})]}),u.jsx("button",{onClick:e,className:"mt-8 bg-destructive hover:bg-destructive-dark text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Logout"})]})},Tue=()=>{const e=localStorage.getItem("betaApplicationStatus")||"none";let t="",r="text-gray-800",n=null;switch(e){case"none":t="You have not yet submitted a beta reader application.",r="text-blue-700",n=u.jsx(Rr,{to:"/beta/application",className:"text-blue-500 hover:underline",children:"Apply now"});break;case"pending":t="Your beta reader application is currently under review. We will notify you of our decision soon.",r="text-yellow-700";break;case"accepted":t="Congratulations! Your beta reader application has been accepted. Welcome to the program!",r="text-green-700",n=u.jsx(Rr,{to:"/beta/portal",className:"text-green-500 hover:underline",children:"Go to Beta Portal"});break;case"rejected":t="We regret to inform you that your beta reader application was not successful at this time.",r="text-red-700";break;default:t="Unknown application status.",r="text-gray-800"}return u.jsxs("div",{className:"p-4 text-center",children:[u.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Beta Application Status"}),u.jsxs("div",{className:`p-6 rounded-lg shadow-md ${r} bg-white`,children:[u.jsx("p",{className:"text-lg font-semibold mb-4",children:t}),n&&u.jsx("p",{className:"mt-4",children:n})]})]})},Aue=()=>{const{workId:e}=Jy(),[t,r]=w.useState(null),[n,s]=w.useState(!0),[i,o]=w.useState(null),[a,l]=w.useState(null);w.useEffect(()=>{(async()=>{const{data:{user:f}}=await he.auth.getUser();f?l(f.id):(o("User not authenticated."),s(!1))})()},[]),w.useEffect(()=>{a&&e&&(async()=>{if(!(!a||!e))try{o(null);const f=await fetch(`http://localhost:3001/api/content/${e}`,{headers:{"x-user-id":a}}),h=await f.json();f.ok?r(h):o(h.message||"Failed to fetch content.")}catch(f){console.error("Error fetching work content:",f),o("An error occurred while fetching the work content.")}finally{s(!1)}})()},[a,e]);const c=async()=>{if(!(!a||!e))try{const d=await fetch(`http://localhost:3001/api/library/${a}/library/${e}/progress`,{method:"POST",headers:{"Content-Type":"application/json","x-user-id":a},body:JSON.stringify({is_finished:!0})});if(d.ok)alert("Work marked as finished!");else{const f=await d.json();alert(`Failed to mark as finished: ${f.message}`)}}catch(d){console.error("Error marking as finished:",d),alert("An error occurred while marking as finished.")}};return n?u.jsx("div",{className:"text-text-light",children:"Loading content..."}):i?u.jsxs("div",{className:"text-red-400",children:["Error: ",i]}):t?u.jsxs("div",{style:{padding:"20px",maxWidth:"800px",margin:"auto",fontFamily:"Arial, sans-serif"},children:[u.jsx("h2",{style:{fontSize:"2.5em",marginBottom:"10px",color:"#E0BBE4"},children:t.title}),u.jsx("p",{style:{fontSize:"1.1em",color:"#957DAD",marginBottom:"20px"},children:t.description}),u.jsxs("div",{style:{marginBottom:"20px"},children:[u.jsx("h3",{style:{fontSize:"1.5em",marginBottom:"10px",color:"#FFC72C"},children:"Download Options:"}),t.content_urls.epub&&u.jsx("a",{href:t.content_urls.epub,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",padding:"10px 15px",backgroundColor:"#4CAF50",color:"white",textDecoration:"none",borderRadius:"5px",marginRight:"10px",marginBottom:"10px"},children:"Download EPUB"}),t.content_urls.pdf&&u.jsx("a",{href:t.content_urls.pdf,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",padding:"10px 15px",backgroundColor:"#F44336",color:"white",textDecoration:"none",borderRadius:"5px",marginRight:"10px",marginBottom:"10px"},children:"Download PDF"}),t.content_urls.mobi&&u.jsx("a",{href:t.content_urls.mobi,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",padding:"10px 15px",backgroundColor:"#2196F3",color:"white",textDecoration:"none",borderRadius:"5px",marginRight:"10px",marginBottom:"10px"},children:"Download MOBI"}),!t.content_urls.epub&&!t.content_urls.pdf&&!t.content_urls.mobi&&u.jsx("p",{style:{color:"#957DAD"},children:"No downloadable content available for this work."})]}),u.jsx("button",{onClick:c,style:{padding:"10px 20px",backgroundColor:"#8860D0",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"16px",marginTop:"20px"},children:"Mark as Finished"})]}):u.jsx("div",{className:"text-text-light",children:"Content not found or not accessible."})},Pue=()=>{const{state:e,clearCart:t}=mI(),r=Gi(),[n,s]=w.useState(!1),i=(l,c)=>new Intl.NumberFormat("en-US",{style:"currency",currency:c.toUpperCase()}).format(l),o=async()=>{s(!0),setTimeout(()=>{s(!1),t(),r("/store?checkout=success")},2e3)},a=()=>{r("/store")};return e.items.length===0?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background-light to-background flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx(JM,{className:"w-16 h-16 text-text-dark mx-auto mb-4"}),u.jsx("h2",{className:"text-2xl font-heading text-text-light mb-2",children:"Your cart is empty"}),u.jsx("p",{className:"text-text-dark mb-6",children:"Add some products to your cart before checking out."}),u.jsx("button",{onClick:a,className:"px-6 py-3 bg-secondary text-background rounded-xl hover:bg-secondary-dark transition-colors",children:"Continue Shopping"})]})}):u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background-light to-background",children:u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsxs("button",{onClick:a,className:"flex items-center space-x-2 text-text-light hover:text-secondary transition-colors mb-4",children:[u.jsx(VM,{className:"w-5 h-5"}),u.jsx("span",{children:"Back to Store"})]}),u.jsx("h1",{className:"text-4xl font-heading text-text-light mb-2",children:"Checkout"}),u.jsx("p",{className:"text-text-light/70",children:"Complete your purchase"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"bg-background-light/30 backdrop-blur-sm rounded-2xl p-6 border border-border/30",children:[u.jsx("h2",{className:"text-2xl font-heading text-text-light mb-6",children:"Order Summary"}),u.jsx("div",{className:"space-y-4 mb-6",children:e.items.map(l=>u.jsxs("div",{className:"flex items-center justify-between p-4 bg-background/30 rounded-xl",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-medium text-text-light",children:l.title}),u.jsx("p",{className:"text-sm text-text-dark",children:l.format.toUpperCase()})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-secondary font-medium",children:i(l.price,l.currency)}),u.jsxs("p",{className:"text-sm text-text-dark",children:["Qty: ",l.quantity]})]})]},l.id))}),u.jsxs("div",{className:"border-t border-border/30 pt-4",children:[u.jsxs("div",{className:"flex justify-between items-center text-lg font-medium text-text-light mb-2",children:[u.jsx("span",{children:"Subtotal:"}),u.jsx("span",{children:i(e.total,"USD")})]}),u.jsxs("div",{className:"flex justify-between items-center text-sm text-text-dark mb-4",children:[u.jsx("span",{children:"Tax:"}),u.jsx("span",{children:"Calculated at checkout"})]}),u.jsxs("div",{className:"flex justify-between items-center text-xl font-bold text-secondary",children:[u.jsx("span",{children:"Total:"}),u.jsx("span",{children:i(e.total,"USD")})]})]})]}),u.jsxs("div",{className:"bg-background-light/30 backdrop-blur-sm rounded-2xl p-6 border border-border/30",children:[u.jsx("h2",{className:"text-2xl font-heading text-text-light mb-6",children:"Payment Information"}),u.jsxs("form",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-medium text-text-light mb-4",children:"Customer Information"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-text-light mb-2",children:"First Name"}),u.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-background/50 border border-border/30 rounded-xl text-text-light placeholder-text-dark/50 focus:outline-none focus:ring-2 focus:ring-secondary/50 focus:border-secondary transition-all",placeholder:"Enter first name"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-text-light mb-2",children:"Last Name"}),u.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-background/50 border border-border/30 rounded-xl text-text-light placeholder-text-dark/50 focus:outline-none focus:ring-2 focus:ring-secondary/50 focus:border-secondary transition-all",placeholder:"Enter last name"})]})]}),u.jsxs("div",{className:"mt-4",children:[u.jsx("label",{className:"block text-sm font-medium text-text-light mb-2",children:"Email"}),u.jsx("input",{type:"email",className:"w-full px-4 py-3 bg-background/50 border border-border/30 rounded-xl text-text-light placeholder-text-dark/50 focus:outline-none focus:ring-2 focus:ring-secondary/50 focus:border-secondary transition-all",placeholder:"Enter email address"})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-medium text-text-light mb-4",children:"Payment Method"}),u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-background/30 rounded-xl border border-border/30",children:[u.jsx("input",{type:"radio",name:"payment",id:"card",defaultChecked:!0,className:"text-secondary focus:ring-secondary"}),u.jsxs("label",{htmlFor:"card",className:"flex items-center space-x-2 cursor-pointer",children:[u.jsx(qY,{className:"w-5 h-5 text-secondary"}),u.jsx("span",{className:"text-text-light",children:"Credit/Debit Card"})]})]})})]}),u.jsxs("div",{className:"p-4 bg-accent/10 border border-accent/30 rounded-xl",children:[u.jsxs("div",{className:"flex items-center space-x-2 text-accent mb-2",children:[u.jsx(YM,{className:"w-5 h-5"}),u.jsx("span",{className:"font-medium",children:"Secure Checkout"})]}),u.jsx("p",{className:"text-sm text-text-light/70",children:"Your payment information is encrypted and secure. We never store your credit card details."})]}),u.jsx("button",{type:"button",onClick:o,disabled:n,className:"w-full bg-secondary text-background py-4 px-6 rounded-xl font-medium hover:bg-secondary-dark focus:outline-none focus:ring-2 focus:ring-secondary/50 focus:ring-offset-2 focus:ring-offset-background-light transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed text-lg",children:n?u.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[u.jsx("div",{className:"w-5 h-5 border-2 border-background border-t-transparent rounded-full animate-spin"}),u.jsx("span",{children:"Processing..."})]}):`Complete Purchase - ${i(e.total,"USD")}`})]})]})]})]})})};var Cv={},H3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(H3);var nj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(nj);var sj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(sj);var Tv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],s=r.length;if(s===0)return n;let i=0,o="",a="",l=!1;for(r.charCodeAt(0)===46&&(n.push(""),i++);i<s;){const c=r[i];a?c==="\\"&&i+1<s?(i++,o+=r[i]):c===a?a="":o+=c:l?c==='"'||c==="'"?a=c:c==="]"?(l=!1,n.push(o),o=""):o+=c:c==="["?(l=!0,o&&(n.push(o),o="")):c==="."?o&&(n.push(o),o=""):o+=c,i++}return o&&n.push(o),n}e.toPath=t})(Tv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H3,r=nj,n=sj,s=Tv;function i(a,l,c){if(a==null)return c;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return c;const d=a[l];return d===void 0?r.isDeepKey(l)?i(a,s.toPath(l),c):c:d}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const d=a[l];return d===void 0?c:d}default:{if(Array.isArray(l))return o(a,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return c;const d=a[l];return d===void 0?c:d}}}function o(a,l,c){if(l.length===0)return c;let d=a;for(let f=0;f<l.length;f++){if(d==null||t.isUnsafeProperty(l[f]))return c;d=d[l[f]]}return d===void 0?c:d}e.get=i})(Cv);var Oue=Cv.get;const qa=ci(Oue);var p1={exports:{}},yt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IP;function Due(){if(IP)return yt;IP=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.for("react.view_transition"),p=Symbol.for("react.client.reference");function g(m){if(typeof m=="object"&&m!==null){var y=m.$$typeof;switch(y){case e:switch(m=m.type,m){case r:case s:case n:case l:case c:case h:return m;default:switch(m=m&&m.$$typeof,m){case o:case a:case f:case d:return m;case i:return m;default:return y}}case t:return y}}}return yt.ContextConsumer=i,yt.ContextProvider=o,yt.Element=e,yt.ForwardRef=a,yt.Fragment=r,yt.Lazy=f,yt.Memo=d,yt.Portal=t,yt.Profiler=s,yt.StrictMode=n,yt.Suspense=l,yt.SuspenseList=c,yt.isContextConsumer=function(m){return g(m)===i},yt.isContextProvider=function(m){return g(m)===o},yt.isElement=function(m){return typeof m=="object"&&m!==null&&m.$$typeof===e},yt.isForwardRef=function(m){return g(m)===a},yt.isFragment=function(m){return g(m)===r},yt.isLazy=function(m){return g(m)===f},yt.isMemo=function(m){return g(m)===d},yt.isPortal=function(m){return g(m)===t},yt.isProfiler=function(m){return g(m)===s},yt.isStrictMode=function(m){return g(m)===n},yt.isSuspense=function(m){return g(m)===l},yt.isSuspenseList=function(m){return g(m)===c},yt.isValidElementType=function(m){return typeof m=="string"||typeof m=="function"||m===r||m===s||m===n||m===l||m===c||typeof m=="object"&&m!==null&&(m.$$typeof===f||m.$$typeof===d||m.$$typeof===o||m.$$typeof===i||m.$$typeof===a||m.$$typeof===p||m.getModuleId!==void 0)},yt.typeOf=g,yt}var vt={};/**
 * @license React
 * react-is.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MP;function Rue(){return MP||(MP=1,process.env.NODE_ENV!=="production"&&function(){function e(m){if(typeof m=="object"&&m!==null){var y=m.$$typeof;switch(y){case t:switch(m=m.type,m){case n:case i:case s:case c:case d:case p:return m;default:switch(m=m&&m.$$typeof,m){case a:case l:case h:case f:return m;case o:return m;default:return y}}case r:return y}}}var t=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.view_transition"),g=Symbol.for("react.client.reference");vt.ContextConsumer=o,vt.ContextProvider=a,vt.Element=t,vt.ForwardRef=l,vt.Fragment=n,vt.Lazy=h,vt.Memo=f,vt.Portal=r,vt.Profiler=i,vt.StrictMode=s,vt.Suspense=c,vt.SuspenseList=d,vt.isContextConsumer=function(m){return e(m)===o},vt.isContextProvider=function(m){return e(m)===a},vt.isElement=function(m){return typeof m=="object"&&m!==null&&m.$$typeof===t},vt.isForwardRef=function(m){return e(m)===l},vt.isFragment=function(m){return e(m)===n},vt.isLazy=function(m){return e(m)===h},vt.isMemo=function(m){return e(m)===f},vt.isPortal=function(m){return e(m)===r},vt.isProfiler=function(m){return e(m)===i},vt.isStrictMode=function(m){return e(m)===s},vt.isSuspense=function(m){return e(m)===c},vt.isSuspenseList=function(m){return e(m)===d},vt.isValidElementType=function(m){return typeof m=="string"||typeof m=="function"||m===n||m===i||m===s||m===c||m===d||typeof m=="object"&&m!==null&&(m.$$typeof===h||m.$$typeof===f||m.$$typeof===a||m.$$typeof===o||m.$$typeof===l||m.$$typeof===g||m.getModuleId!==void 0)},vt.typeOf=e}()),vt}process.env.NODE_ENV==="production"?p1.exports=Due():p1.exports=Rue();var $ue=p1.exports,an=e=>e===0?0:e>0?1:-1,js=e=>typeof e=="number"&&e!=+e,Nl=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ae=e=>(typeof e=="number"||e instanceof Number)&&!js(e),zi=e=>Ae(e)||typeof e=="string",Iue=0,mh=e=>{var t=++Iue;return"".concat(e||"").concat(t)},Es=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ae(t)&&typeof t!="string")return n;var i;if(Nl(t)){if(r==null)return n;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return js(i)&&(i=n),s&&r!=null&&i>r&&(i=r),i},Y3=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1},LP=(e,t)=>Ae(e)&&Ae(t)?r=>e+r*(t-e):()=>t;function ef(e,t,r){return Ae(e)&&Ae(t)?e+r*(t-e):t}function G3(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):qa(n,t))===r)}var hr=e=>e===null||typeof e>"u",rp=e=>hr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),Mue=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function ij(e){if(typeof e!="string")return!1;var t=Mue;return t.includes(e)}var Lue=["viewBox","children"],FP=["points","pathLength"],J0={svg:Lue,polygon:FP,polyline:FP},oj=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(w.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(s=>{ij(s)&&(n[s]=i=>r[s](r,i))}),n},Fue=(e,t,r)=>n=>(e(t,r,n),null),aj=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(s=>{var i=e[s];ij(s)&&typeof i=="function"&&(n||(n={}),n[s]=Fue(i,t,r))}),n},Bue=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function Z3(e){if(typeof e!="string")return!1;var t=Bue;return t.includes(e)}function Za(e){var t=Object.entries(e).filter(r=>{var[n]=r;return Z3(n)});return Object.fromEntries(t)}var BP=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",zP=null,Q0=null,X3=e=>{if(e===zP&&Array.isArray(Q0))return Q0;var t=[];return w.Children.forEach(e,r=>{hr(r)||($ue.isFragment(r)?t=t.concat(X3(r.props.children)):t.push(r))}),Q0=t,zP=e,t};function Av(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(s=>BP(s)):n=[BP(t)],X3(e).forEach(s=>{var i=qa(s,"type.displayName")||qa(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}var J3=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,zue=(e,t,r,n)=>{var s;if(typeof t=="symbol"||typeof t=="number")return!0;var i=(s=n&&(J0==null?void 0:J0[n]))!==null&&s!==void 0?s:[],o=t.startsWith("data-"),a=typeof e!="function"&&(!!n&&i.includes(t)||Z3(t)),l=!!r&&ij(t);return o||a||l},Ht=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(w.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var s={};return Object.keys(n).forEach(i=>{var o;zue((o=n)===null||o===void 0?void 0:o[i],i,t,r)&&(s[i]=n[i])}),s},Uue=["children","width","height","viewBox","className","style","title","desc"];function m1(){return m1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m1.apply(null,arguments)}function que(e,t){if(e==null)return{};var r,n,s=Vue(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Vue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var lj=w.forwardRef((e,t)=>{var{children:r,width:n,height:s,viewBox:i,className:o,style:a,title:l,desc:c}=e,d=que(e,Uue),f=i||{width:n,height:s,x:0,y:0},h=rt("recharts-surface",o);return S.createElement("svg",m1({},Ht(d,!0,"svg"),{className:h,width:n,height:s,style:a,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),S.createElement("title",null,l),S.createElement("desc",null,c),r)}),Wue=["children","className"];function g1(){return g1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g1.apply(null,arguments)}function Kue(e,t){if(e==null)return{};var r,n,s=Hue(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Hue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ns=S.forwardRef((e,t)=>{var{children:r,className:n}=e,s=Kue(e,Wue),i=rt("recharts-layer",n);return S.createElement("g",g1({className:i},Ht(s,!0),{ref:t}),r)}),Q3=w.createContext(null),Yue=()=>w.useContext(Q3);function Nt(e){return function(){return e}}const eF=Math.cos,Mg=Math.sin,fi=Math.sqrt,Lg=Math.PI,Pv=2*Lg,y1=Math.PI,v1=2*y1,vl=1e-6,Gue=v1-vl;function tF(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Zue(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return tF;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class Xue{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?tF:Zue(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,a=this._y1,l=n-t,c=s-r,d=o-t,f=a-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>vl)if(!(Math.abs(f*l-c*d)>vl)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,g=s-a,m=l*l+c*c,y=p*p+g*g,v=Math.sqrt(m),b=Math.sqrt(h),x=i*Math.tan((y1-Math.acos((m+h-y)/(2*v*b)))/2),E=x/b,_=x/v;Math.abs(E-1)>vl&&this._append`L${t+E*d},${r+E*f}`,this._append`A${i},${i},0,0,${+(f*p>d*g)},${this._x1=t+_*l},${this._y1=r+_*c}`}}arc(t,r,n,s,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(s),l=n*Math.sin(s),c=t+a,d=r+l,f=1^o,h=o?s-i:i-s;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>vl||Math.abs(this._y1-d)>vl)&&this._append`L${c},${d}`,n&&(h<0&&(h=h%v1+v1),h>Gue?this._append`A${n},${n},0,1,${f},${t-a},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=d}`:h>vl&&this._append`A${n},${n},0,${+(h>=y1)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function cj(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Xue(t)}function uj(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function rF(e){this._context=e}rF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ov(e){return new rF(e)}function nF(e){return e[0]}function sF(e){return e[1]}function iF(e,t){var r=Nt(!0),n=null,s=Ov,i=null,o=cj(a);e=typeof e=="function"?e:e===void 0?nF:Nt(e),t=typeof t=="function"?t:t===void 0?sF:Nt(t);function a(l){var c,d=(l=uj(l)).length,f,h=!1,p;for(n==null&&(i=s(p=o())),c=0;c<=d;++c)!(c<d&&r(f=l[c],c,l))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,c,l),+t(f,c,l));if(p)return i=null,p+""||null}return a.x=function(l){return arguments.length?(e=typeof l=="function"?l:Nt(+l),a):e},a.y=function(l){return arguments.length?(t=typeof l=="function"?l:Nt(+l),a):t},a.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Nt(!!l),a):r},a.curve=function(l){return arguments.length?(s=l,n!=null&&(i=s(n)),a):s},a.context=function(l){return arguments.length?(l==null?n=i=null:i=s(n=l),a):n},a}function pm(e,t,r){var n=null,s=Nt(!0),i=null,o=Ov,a=null,l=cj(c);e=typeof e=="function"?e:e===void 0?nF:Nt(+e),t=typeof t=="function"?t:Nt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?sF:Nt(+r);function c(f){var h,p,g,m=(f=uj(f)).length,y,v=!1,b,x=new Array(m),E=new Array(m);for(i==null&&(a=o(b=l())),h=0;h<=m;++h){if(!(h<m&&s(y=f[h],h,f))===v)if(v=!v)p=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),g=h-1;g>=p;--g)a.point(x[g],E[g]);a.lineEnd(),a.areaEnd()}v&&(x[h]=+e(y,h,f),E[h]=+t(y,h,f),a.point(n?+n(y,h,f):x[h],r?+r(y,h,f):E[h]))}if(b)return a=null,b+""||null}function d(){return iF().defined(s).curve(o).context(i)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:Nt(+f),n=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Nt(+f),c):e},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Nt(+f),c):n},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:Nt(+f),r=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Nt(+f),c):t},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Nt(+f),c):r},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(r)},c.lineX1=function(){return d().x(n).y(t)},c.defined=function(f){return arguments.length?(s=typeof f=="function"?f:Nt(!!f),c):s},c.curve=function(f){return arguments.length?(o=f,i!=null&&(a=o(i)),c):o},c.context=function(f){return arguments.length?(f==null?i=a=null:a=o(i=f),c):i},c}class oF{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Jue(e){return new oF(e,!0)}function Que(e){return new oF(e,!1)}const dj={draw(e,t){const r=fi(t/Lg);e.moveTo(r,0),e.arc(0,0,r,0,Pv)}},ede={draw(e,t){const r=fi(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},aF=fi(1/3),tde=aF*2,rde={draw(e,t){const r=fi(t/tde),n=r*aF;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},nde={draw(e,t){const r=fi(t),n=-r/2;e.rect(n,n,r,r)}},sde=.8908130915292852,lF=Mg(Lg/10)/Mg(7*Lg/10),ide=Mg(Pv/10)*lF,ode=-eF(Pv/10)*lF,ade={draw(e,t){const r=fi(t*sde),n=ide*r,s=ode*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const o=Pv*i/5,a=eF(o),l=Mg(o);e.lineTo(l*r,-a*r),e.lineTo(a*n-l*s,l*n+a*s)}e.closePath()}},ex=fi(3),lde={draw(e,t){const r=-fi(t/(ex*3));e.moveTo(0,r*2),e.lineTo(-ex*r,-r),e.lineTo(ex*r,-r),e.closePath()}},cs=-.5,us=fi(3)/2,b1=1/fi(12),cde=(b1/2+1)*3,ude={draw(e,t){const r=fi(t/cde),n=r/2,s=r*b1,i=n,o=r*b1+r,a=-i,l=o;e.moveTo(n,s),e.lineTo(i,o),e.lineTo(a,l),e.lineTo(cs*n-us*s,us*n+cs*s),e.lineTo(cs*i-us*o,us*i+cs*o),e.lineTo(cs*a-us*l,us*a+cs*l),e.lineTo(cs*n+us*s,cs*s-us*n),e.lineTo(cs*i+us*o,cs*o-us*i),e.lineTo(cs*a+us*l,cs*l-us*a),e.closePath()}};function dde(e,t){let r=null,n=cj(s);e=typeof e=="function"?e:Nt(e||dj),t=typeof t=="function"?t:Nt(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:Nt(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:Nt(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function Fg(){}function Bg(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function cF(e){this._context=e}cF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Bg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Bg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function fde(e){return new cF(e)}function uF(e){this._context=e}uF.prototype={areaStart:Fg,areaEnd:Fg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Bg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function hde(e){return new uF(e)}function dF(e){this._context=e}dF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Bg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function pde(e){return new dF(e)}function fF(e){this._context=e}fF.prototype={areaStart:Fg,areaEnd:Fg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function mde(e){return new fF(e)}function UP(e){return e<0?-1:1}function qP(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),a=(i*s+o*n)/(n+s);return(UP(i)+UP(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(a))||0}function VP(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function tx(e,t,r){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,a=(i-n)/3;e._context.bezierCurveTo(n+a,s+a*t,i-a,o-a*r,i,o)}function zg(e){this._context=e}zg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:tx(this,this._t0,VP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,tx(this,VP(this,r=qP(this,e,t)),r);break;default:tx(this,this._t0,r=qP(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function hF(e){this._context=new pF(e)}(hF.prototype=Object.create(zg.prototype)).point=function(e,t){zg.prototype.point.call(this,t,e)};function pF(e){this._context=e}pF.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function gde(e){return new zg(e)}function yde(e){return new hF(e)}function mF(e){this._context=e}mF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=WP(e),s=WP(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function WP(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function vde(e){return new mF(e)}function Dv(e,t){this._context=e,this._t=t}Dv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function bde(e){return new Dv(e,.5)}function xde(e){return new Dv(e,0)}function wde(e){return new Dv(e,1)}function Vu(e,t){if((o=e.length)>1)for(var r=1,n,s,i=e[t[0]],o,a=i.length;r<o;++r)for(s=i,i=e[t[r]],n=0;n<a;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function x1(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function _de(e,t){return e[t]}function Sde(e){const t=[];return t.key=e,t}function Ede(){var e=Nt([]),t=x1,r=Vu,n=_de;function s(i){var o=Array.from(e.apply(this,arguments),Sde),a,l=o.length,c=-1,d;for(const f of i)for(a=0,++c;a<l;++a)(o[a][c]=[0,+n(f,o[a].key,c,i)]).data=f;for(a=0,d=uj(t(o));a<l;++a)o[d[a]].index=a;return r(o,d),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Nt(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:Nt(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?x1:typeof i=="function"?i:Nt(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??Vu,s):r},s}function jde(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}Vu(e,t)}}function Nde(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var o=0,a=0;o<s;++o)a+=e[o][r][1]||0;n[r][1]+=n[r][0]=-a/2}Vu(e,t)}}function kde(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var a=0,l=0,c=0;a<o;++a){for(var d=e[t[a]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,g=0;g<a;++g){var m=e[t[g]],y=m[n][1]||0,v=m[n-1][1]||0;p+=y-v}l+=f,c+=p*f}s[n-1][1]+=s[n-1][0]=r,l&&(r-=c/l)}s[n-1][1]+=s[n-1][0]=r,Vu(e,t)}}var Cde=["type","size","sizeType"];function w1(){return w1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w1.apply(null,arguments)}function KP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function HP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KP(Object(r),!0).forEach(function(n){Tde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tde(e,t,r){return(t=Ade(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ade(e){var t=Pde(e,"string");return typeof t=="symbol"?t:t+""}function Pde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ode(e,t){if(e==null)return{};var r,n,s=Dde(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Dde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var gF={symbolCircle:dj,symbolCross:ede,symbolDiamond:rde,symbolSquare:nde,symbolStar:ade,symbolTriangle:lde,symbolWye:ude},Rde=Math.PI/180,$de=e=>{var t="symbol".concat(rp(e));return gF[t]||dj},Ide=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*Rde;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Mde=(e,t)=>{gF["symbol".concat(rp(e))]=t},fj=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,s=Ode(e,Cde),i=HP(HP({},s),{},{type:t,size:r,sizeType:n}),o=()=>{var f=$de(t),h=dde().type(f).size(Ide(r,n,t));return h()},{className:a,cx:l,cy:c}=i,d=Ht(i,!0);return l===+l&&c===+c&&r===+r?S.createElement("path",w1({},d,{className:rt("recharts-symbols",a),transform:"translate(".concat(l,", ").concat(c,")"),d:o()})):null};fj.registerSymbol=Mde;function _1(){return _1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_1.apply(null,arguments)}function YP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Lde(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YP(Object(r),!0).forEach(function(n){hj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hj(e,t,r){return(t=Fde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fde(e){var t=Bde(e,"string");return typeof t=="symbol"?t:t+""}function Bde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ds=32;class pj extends w.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,s=ds/2,i=ds/6,o=ds/3,a=t.inactive?n:t.color,l=r??t.type;if(l==="none")return null;if(l==="plainline")return S.createElement("line",{strokeWidth:4,fill:"none",stroke:a,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:s,x2:ds,y2:s,className:"recharts-legend-icon"});if(l==="line")return S.createElement("path",{strokeWidth:4,fill:"none",stroke:a,d:"M0,".concat(s,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(s,`
            H`).concat(ds,"M").concat(2*o,",").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(s),className:"recharts-legend-icon"});if(l==="rect")return S.createElement("path",{stroke:"none",fill:a,d:"M0,".concat(ds/8,"h").concat(ds,"v").concat(ds*3/4,"h").concat(-ds,"z"),className:"recharts-legend-icon"});if(S.isValidElement(t.legendIcon)){var c=Lde({},t);return delete c.legendIcon,S.cloneElement(t.legendIcon,c)}return S.createElement(fj,{fill:a,cx:s,cy:s,size:ds,sizeType:"diameter",type:l})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:s,inactiveColor:i,iconType:o}=this.props,a={x:0,y:0,width:ds,height:ds},l={display:n==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var h=d.formatter||s,p=rt({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var g=d.inactive?i:d.color,m=h?h(d.value,d,f):d.value;return S.createElement("li",_1({className:p,style:l,key:"legend-item-".concat(f)},aj(this.props,d,f)),S.createElement(lj,{width:r,height:r,viewBox:a,style:c,"aria-label":"".concat(m," legend icon")},this.renderIcon(d,o)),S.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},m))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var s={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return S.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}hj(pj,"displayName","Legend");hj(pj,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var yF={},vF={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const s=new Map;for(let i=0;i<r.length;i++){const o=r[i],a=n(o);s.has(a)||s.set(a,o)}return Array.from(s.values())}e.uniqBy=t})(vF);var mj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(mj);var bF={},Rv={},xF={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(xF);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xF;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Rv);var wF={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(wF);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rv,r=wF;function n(s){return r.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=n})(bF);var _F={},SF={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cv;function r(n){return function(s){return t.get(s,n)}}e.property=r})(SF);var EF={},rx={},nx={},gj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(gj);var yj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(yj);var $v={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})($v);var GP;function zde(){return GP||(GP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vj(),r=gj,n=yj,s=$v;function i(f,h,p){return typeof p!="function"?t.isMatch(f,h):o(f,h,function g(m,y,v,b,x,E){const _=p(m,y,v,b,x,E);return _!==void 0?!!_:o(m,y,g,E)},new Map)}function o(f,h,p,g){if(h===f)return!0;switch(typeof h){case"object":return a(f,h,p,g);case"function":return Object.keys(h).length>0?o(f,{...h},p,g):s.eq(f,h);default:return r.isObject(f)?typeof h=="string"?h==="":!0:s.eq(f,h)}}function a(f,h,p,g){if(h==null)return!0;if(Array.isArray(h))return c(f,h,p,g);if(h instanceof Map)return l(f,h,p,g);if(h instanceof Set)return d(f,h,p,g);const m=Object.keys(h);if(f==null)return m.length===0;if(m.length===0)return!0;if(g&&g.has(h))return g.get(h)===f;g&&g.set(h,f);try{for(let y=0;y<m.length;y++){const v=m[y];if(!n.isPrimitive(f)&&!(v in f)||h[v]===void 0&&f[v]!==void 0||h[v]===null&&f[v]!==null||!p(f[v],h[v],v,f,h,g))return!1}return!0}finally{g&&g.delete(h)}}function l(f,h,p,g){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[m,y]of h.entries()){const v=f.get(m);if(p(v,y,m,f,h,g)===!1)return!1}return!0}function c(f,h,p,g){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const m=new Set;for(let y=0;y<h.length;y++){const v=h[y];let b=!1;for(let x=0;x<f.length;x++){if(m.has(x))continue;const E=f[x];let _=!1;if(p(E,v,y,f,h,g)&&(_=!0),_){m.add(x),b=!0;break}}if(!b)return!1}return!0}function d(f,h,p,g){return h.size===0?!0:f instanceof Set?c([...f],[...h],p,g):!1}e.isMatchWith=i,e.isSetMatch=d}(nx)),nx}var ZP;function vj(){return ZP||(ZP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zde();function r(n,s){return t.isMatchWith(n,s,()=>{})}e.isMatch=r}(rx)),rx}var jF={},bj={},xj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(xj);var Iv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Iv);var Mv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",s="[object Boolean]",i="[object Arguments]",o="[object Symbol]",a="[object Date]",l="[object Map]",c="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",p="[object Object]",g="[object Error]",m="[object DataView]",y="[object Uint8Array]",v="[object Uint8ClampedArray]",b="[object Uint16Array]",x="[object Uint32Array]",E="[object BigUint64Array]",_="[object Int8Array]",N="[object Int16Array]",k="[object Int32Array]",C="[object BigInt64Array]",T="[object Float32Array]",$="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=C,e.bigUint64ArrayTag=E,e.booleanTag=s,e.dataViewTag=m,e.dateTag=a,e.errorTag=g,e.float32ArrayTag=T,e.float64ArrayTag=$,e.functionTag=f,e.int16ArrayTag=N,e.int32ArrayTag=k,e.int8ArrayTag=_,e.mapTag=l,e.numberTag=n,e.objectTag=p,e.regexpTag=t,e.setTag=c,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=b,e.uint32ArrayTag=x,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=v})(Mv);var NF={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(NF);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xj,r=Iv,n=Mv,s=yj,i=NF;function o(d,f){return a(d,void 0,d,new Map,f)}function a(d,f,h,p=new Map,g=void 0){const m=g==null?void 0:g(d,f,h,p);if(m!==void 0)return m;if(s.isPrimitive(d))return d;if(p.has(d))return p.get(d);if(Array.isArray(d)){const y=new Array(d.length);p.set(d,y);for(let v=0;v<d.length;v++)y[v]=a(d[v],v,h,p,g);return Object.hasOwn(d,"index")&&(y.index=d.index),Object.hasOwn(d,"input")&&(y.input=d.input),y}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const y=new RegExp(d.source,d.flags);return y.lastIndex=d.lastIndex,y}if(d instanceof Map){const y=new Map;p.set(d,y);for(const[v,b]of d)y.set(v,a(b,v,h,p,g));return y}if(d instanceof Set){const y=new Set;p.set(d,y);for(const v of d)y.add(a(v,void 0,h,p,g));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const y=new(Object.getPrototypeOf(d)).constructor(d.length);p.set(d,y);for(let v=0;v<d.length;v++)y[v]=a(d[v],v,h,p,g);return y}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const y=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return p.set(d,y),l(y,d,h,p,g),y}if(typeof File<"u"&&d instanceof File){const y=new File([d],d.name,{type:d.type});return p.set(d,y),l(y,d,h,p,g),y}if(d instanceof Blob){const y=new Blob([d],{type:d.type});return p.set(d,y),l(y,d,h,p,g),y}if(d instanceof Error){const y=new d.constructor;return p.set(d,y),y.message=d.message,y.name=d.name,y.stack=d.stack,y.cause=d.cause,l(y,d,h,p,g),y}if(typeof d=="object"&&c(d)){const y=Object.create(Object.getPrototypeOf(d));return p.set(d,y),l(y,d,h,p,g),y}return d}function l(d,f,h=d,p,g){const m=[...Object.keys(f),...t.getSymbols(f)];for(let y=0;y<m.length;y++){const v=m[y],b=Object.getOwnPropertyDescriptor(d,v);(b==null||b.writable)&&(d[v]=a(f[v],v,h,p,g))}}function c(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=a,e.copyProperties=l})(bj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bj;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(jF);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vj(),r=jF;function n(s){return s=r.cloneDeep(s),i=>t.isMatch(i,s)}e.matches=n})(EF);var kF={},CF={},TF={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bj,r=Mv;function n(s,i){return t.cloneDeepWith(s,(o,a,l,c)=>{const d=i==null?void 0:i(o,a,l,c);if(d!==void 0)return d;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new s.constructor(s==null?void 0:s.valueOf());return t.copyProperties(f,s),f}case r.argumentsTag:{const f={};return t.copyProperties(f,s),f.length=s.length,f[Symbol.iterator]=s[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(TF);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TF;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(CF);var AF={},wj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,s=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<s;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(wj);var PF={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Iv;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(PF);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nj,r=wj,n=PF,s=Tv;function i(o,a){let l;if(Array.isArray(a)?l=a:typeof a=="string"&&t.isDeepKey(a)&&(o==null?void 0:o[a])==null?l=s.toPath(a):l=[a],l.length===0)return!1;let c=o;for(let d=0;d<l.length;d++){const f=l[d];if((c==null||!Object.hasOwn(c,f))&&!((Array.isArray(c)||n.isArguments(c))&&r.isIndex(f)&&f<c.length))return!1;c=c[f]}return!0}e.has=i})(AF);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vj(),r=sj,n=CF,s=Cv,i=AF;function o(a,l){switch(typeof a){case"object":{Object.is(a==null?void 0:a.valueOf(),-0)&&(a="-0");break}case"number":{a=r.toKey(a);break}}return l=n.cloneDeep(l),function(c){const d=s.get(c,a);return d===void 0?i.has(c,a):l===void 0?d===void 0:t.isMatch(d,l)}}e.matchesProperty=o})(kF);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mj,r=SF,n=EF,s=kF;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?s.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})(_F);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vF,r=mj,n=bF,s=_F;function i(o,a=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),s.iteratee(a)):[]}e.uniqBy=i})(yF);var Ude=yF.uniqBy;const XP=ci(Ude);function OF(e,t,r){return t===!0?XP(e,r):typeof t=="function"?XP(e,t):e}var S1={exports:{}},sx={},mm={exports:{}},ix={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JP;function qde(){if(JP)return ix;JP=1;var e=w;function t(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,s=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function a(f,h){var p=h(),g=n({inst:{value:p,getSnapshot:h}}),m=g[0].inst,y=g[1];return i(function(){m.value=p,m.getSnapshot=h,l(m)&&y({inst:m})},[f,p,h]),s(function(){return l(m)&&y({inst:m}),f(function(){l(m)&&y({inst:m})})},[f]),o(p),p}function l(f){var h=f.getSnapshot;f=f.value;try{var p=h();return!r(f,p)}catch{return!0}}function c(f,h){return h()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:a;return ix.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,ix}var ox={};/**
 * @license React
 * use-sync-external-store-shim.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QP;function Vde(){return QP||(QP=1,process.env.NODE_ENV!=="production"&&function(){function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}function t(p,g){d||s.startTransition===void 0||(d=!0,console.error("You are using an outdated, pre-release alpha of React 18 that does not support useSyncExternalStore. The use-sync-external-store shim will not work correctly. Upgrade to a newer pre-release."));var m=g();if(!f){var y=g();i(m,y)||(console.error("The result of getSnapshot should be cached to avoid an infinite loop"),f=!0)}y=o({inst:{value:m,getSnapshot:g}});var v=y[0].inst,b=y[1];return l(function(){v.value=m,v.getSnapshot=g,r(v)&&b({inst:v})},[p,m,g]),a(function(){return r(v)&&b({inst:v}),p(function(){r(v)&&b({inst:v})})},[p]),c(m),m}function r(p){var g=p.getSnapshot;p=p.value;try{var m=g();return!i(p,m)}catch{return!0}}function n(p,g){return g()}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var s=w,i=typeof Object.is=="function"?Object.is:e,o=s.useState,a=s.useEffect,l=s.useLayoutEffect,c=s.useDebugValue,d=!1,f=!1,h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?n:t;ox.useSyncExternalStore=s.useSyncExternalStore!==void 0?s.useSyncExternalStore:h,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())}()),ox}var eO;function DF(){return eO||(eO=1,process.env.NODE_ENV==="production"?mm.exports=qde():mm.exports=Vde()),mm.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tO;function Wde(){if(tO)return sx;tO=1;var e=w,t=DF();function r(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var n=typeof Object.is=="function"?Object.is:r,s=t.useSyncExternalStore,i=e.useRef,o=e.useEffect,a=e.useMemo,l=e.useDebugValue;return sx.useSyncExternalStoreWithSelector=function(c,d,f,h,p){var g=i(null);if(g.current===null){var m={hasValue:!1,value:null};g.current=m}else m=g.current;g=a(function(){function v(N){if(!b){if(b=!0,x=N,N=h(N),p!==void 0&&m.hasValue){var k=m.value;if(p(k,N))return E=k}return E=N}if(k=E,n(x,N))return k;var C=h(N);return p!==void 0&&p(k,C)?(x=N,k):(x=N,E=C)}var b=!1,x,E,_=f===void 0?null:f;return[function(){return v(d())},_===null?void 0:function(){return v(_())}]},[d,f,h,p]);var y=s(c,g[0],g[1]);return o(function(){m.hasValue=!0,m.value=y},[y]),l(y),y},sx}var ax={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rO;function Kde(){return rO||(rO=1,process.env.NODE_ENV!=="production"&&function(){function e(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var t=w,r=DF(),n=typeof Object.is=="function"?Object.is:e,s=r.useSyncExternalStore,i=t.useRef,o=t.useEffect,a=t.useMemo,l=t.useDebugValue;ax.useSyncExternalStoreWithSelector=function(c,d,f,h,p){var g=i(null);if(g.current===null){var m={hasValue:!1,value:null};g.current=m}else m=g.current;g=a(function(){function v(N){if(!b){if(b=!0,x=N,N=h(N),p!==void 0&&m.hasValue){var k=m.value;if(p(k,N))return E=k}return E=N}if(k=E,n(x,N))return k;var C=h(N);return p!==void 0&&p(k,C)?(x=N,k):(x=N,E=C)}var b=!1,x,E,_=f===void 0?null:f;return[function(){return v(d())},_===null?void 0:function(){return v(_())}]},[d,f,h,p]);var y=s(c,g[0],g[1]);return o(function(){m.hasValue=!0,m.value=y},[y]),l(y),y},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())}()),ax}process.env.NODE_ENV==="production"?S1.exports=Wde():S1.exports=Kde();var Hde=S1.exports,_j=w.createContext(null),Yde=e=>e,Gt=()=>{var e=w.useContext(_j);return e?e.store.dispatch:Yde},eg=()=>{},Gde=()=>eg,Zde=(e,t)=>e===t;function Re(e){var t=w.useContext(_j);return Hde.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Gde,t?t.store.getState:eg,t?t.store.getState:eg,t?e:eg,Zde)}var Xde=(e,t,r)=>{if(t.length===1&&t[0]===r){let n=!1;try{const s={};e(s)===s&&(n=!0)}catch{}if(n){let s;try{throw new Error}catch(i){({stack:s}=i)}console.warn(`The result function returned its own inputs without modification. e.g
\`createSelector([state => state.todos], todos => todos)\`
This could lead to inefficient memoization and unnecessary re-renders.
Ensure transformation logic is in the result function, and extraction logic is in the input selectors.`,{stack:s})}}},Jde=(e,t,r)=>{const{memoize:n,memoizeOptions:s}=t,{inputSelectorResults:i,inputSelectorResultsCopy:o}=e,a=n(()=>({}),...s);if(!(a.apply(null,i)===a.apply(null,o))){let c;try{throw new Error}catch(d){({stack:c}=d)}console.warn(`An input selector returned a different result when passed same arguments.
This means your output selector will likely run more frequently than intended.
Avoid returning a new reference inside your input selector, e.g.
\`createSelector([state => state.todos.map(todo => todo.id)], todoIds => todoIds.length)\``,{arguments:r,firstInputs:i,secondInputs:o,stack:c})}},Qde={inputStabilityCheck:"once",identityFunctionCheck:"once"};function efe(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function tfe(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function rfe(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var nO=e=>Array.isArray(e)?e:[e];function nfe(e){const t=Array.isArray(e[0])?e[0]:e;return rfe(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function sO(e,t){const r=[],{length:n}=e;for(let s=0;s<n;s++)r.push(e[s].apply(null,t));return r}var sfe=(e,t)=>{const{identityFunctionCheck:r,inputStabilityCheck:n}={...Qde,...t};return{identityFunctionCheck:{shouldRun:r==="always"||r==="once"&&e,run:Xde},inputStabilityCheck:{shouldRun:n==="always"||n==="once"&&e,run:Jde}}},ife=class{constructor(e){this.value=e}deref(){return this.value}},ofe=typeof WeakRef<"u"?WeakRef:ife,afe=0,iO=1;function gm(){return{s:afe,v:void 0,o:null,p:null}}function RF(e,t={}){let r=gm();const{resultEqualityCheck:n}=t;let s,i=0;function o(){var f;let a=r;const{length:l}=arguments;for(let h=0,p=l;h<p;h++){const g=arguments[h];if(typeof g=="function"||typeof g=="object"&&g!==null){let m=a.o;m===null&&(a.o=m=new WeakMap);const y=m.get(g);y===void 0?(a=gm(),m.set(g,a)):a=y}else{let m=a.p;m===null&&(a.p=m=new Map);const y=m.get(g);y===void 0?(a=gm(),m.set(g,a)):a=y}}const c=a;let d;if(a.s===iO)d=a.v;else if(d=e.apply(null,arguments),i++,n){const h=((f=s==null?void 0:s.deref)==null?void 0:f.call(s))??s;h!=null&&n(h,d)&&(d=h,i!==0&&i--),s=typeof d=="object"&&d!==null||typeof d=="function"?new ofe(d):d}return c.s=iO,c.v=d,d}return o.clearCache=()=>{r=gm(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function lfe(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...s)=>{let i=0,o=0,a,l={},c=s.pop();typeof c=="object"&&(l=c,c=s.pop()),efe(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const d={...r,...l},{memoize:f,memoizeOptions:h=[],argsMemoize:p=RF,argsMemoizeOptions:g=[],devModeChecks:m={}}=d,y=nO(h),v=nO(g),b=nfe(s),x=f(function(){return i++,c.apply(null,arguments)},...y);let E=!0;const _=p(function(){o++;const k=sO(b,arguments);if(a=x.apply(null,k),process.env.NODE_ENV!=="production"){const{identityFunctionCheck:C,inputStabilityCheck:T}=sfe(E,m);if(C.shouldRun&&C.run(c,k,a),T.shouldRun){const $=sO(b,arguments);T.run({inputSelectorResults:k,inputSelectorResultsCopy:$},{memoize:f,memoizeOptions:y},arguments)}E&&(E=!1)}return a},...v);return Object.assign(_,{resultFunc:c,memoizedResultFunc:x,dependencies:b,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>a,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:p})};return Object.assign(n,{withTypes:()=>n}),n}var Q=lfe(RF),cfe=Object.assign((e,t=Q)=>{tfe(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((o,a,l)=>(o[r[l]]=a,o),{}))},{withTypes:()=>cfe}),$F={},IF={},MF={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,s,i)=>{if(n!==s){const o=t(n),a=t(s);if(o===a&&o===0){if(n<s)return i==="desc"?1:-1;if(n>s)return i==="desc"?-1:1}return i==="desc"?a-o:o-a}return 0};e.compareValues=r})(MF);var LF={},Sj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Sj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sj,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=s})(LF);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MF,r=LF,n=Tv;function s(i,o,a,l){if(i==null)return[];a=l?void 0:a,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(a)||(a=a==null?[]:[a]),a=a.map(p=>String(p));const c=(p,g)=>{let m=p;for(let y=0;y<g.length&&m!=null;++y)m=m[g[y]];return m},d=(p,g)=>g==null||p==null?g:typeof p=="object"&&"key"in p?Object.hasOwn(g,p.key)?g[p.key]:c(g,p.path):typeof p=="function"?p(g):Array.isArray(p)?c(g,p):typeof g=="object"?g[p]:g,f=o.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||r.isKey(p)?p:{key:p,path:n.toPath(p)}));return i.map(p=>({original:p,criteria:f.map(g=>d(g,p))})).slice().sort((p,g)=>{for(let m=0;m<f.length;m++){const y=t.compareValues(p.criteria[m],g.criteria[m],a[m]);if(y!==0)return y}return 0}).map(p=>p.original)}e.orderBy=s})(IF);var FF={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const s=[],i=Math.floor(n),o=(a,l)=>{for(let c=0;c<a.length;c++){const d=a[c];Array.isArray(d)&&l<i?o(d,l+1):s.push(d)}};return o(r,0),s}e.flatten=t})(FF);var Ej={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wj,r=Rv,n=gj,s=$v;function i(o,a,l){return n.isObject(l)&&(typeof a=="number"&&r.isArrayLike(l)&&t.isIndex(a)&&a<l.length||typeof a=="string"&&a in l)?s.eq(l[a],o):!1}e.isIterateeCall=i})(Ej);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IF,r=FF,n=Ej;function s(i,...o){const a=o.length;return a>1&&n.isIterateeCall(i,o[0],o[1])?o=[]:a>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=s})($F);var ufe=$F.sortBy;const Lv=ci(ufe);var BF=e=>e.legend.settings,dfe=e=>e.legend.size,ffe=e=>e.legend.payload,hfe=Q([ffe,BF],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Lv(n,r):n});function pfe(){return Re(hfe)}var ym=1;function zF(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=w.useState({height:0,left:0,top:0,width:0}),n=w.useCallback(s=>{if(s!=null){var i=s.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>ym||Math.abs(o.left-t.left)>ym||Math.abs(o.top-t.top)>ym||Math.abs(o.width-t.width)>ym)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function qr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var mfe=typeof Symbol=="function"&&Symbol.observable||"@@observable",oO=mfe,lx=()=>Math.random().toString(36).substring(7).split("").join("."),gfe={INIT:`@@redux/INIT${lx()}`,REPLACE:`@@redux/REPLACE${lx()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${lx()}`},Ll=gfe;function np(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function yfe(e){if(e===void 0)return"undefined";if(e===null)return"null";const t=typeof e;switch(t){case"boolean":case"string":case"number":case"symbol":case"function":return t}if(Array.isArray(e))return"array";if(xfe(e))return"date";if(bfe(e))return"error";const r=vfe(e);switch(r){case"Symbol":case"Promise":case"WeakMap":case"WeakSet":case"Map":case"Set":return r}return Object.prototype.toString.call(e).slice(8,-1).toLowerCase().replace(/\s/g,"")}function vfe(e){return typeof e.constructor=="function"?e.constructor.name:null}function bfe(e){return e instanceof Error||typeof e.message=="string"&&e.constructor&&typeof e.constructor.stackTraceLimit=="number"}function xfe(e){return e instanceof Date?!0:typeof e.toDateString=="function"&&typeof e.getDate=="function"&&typeof e.setDate=="function"}function pa(e){let t=typeof e;return process.env.NODE_ENV!=="production"&&(t=yfe(e)),t}function UF(e,t,r){if(typeof e!="function")throw new Error(process.env.NODE_ENV==="production"?qr(2):`Expected the root reducer to be a function. Instead, received: '${pa(e)}'`);if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(process.env.NODE_ENV==="production"?qr(0):"It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.");if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(process.env.NODE_ENV==="production"?qr(1):`Expected the enhancer to be a function. Instead, received: '${pa(r)}'`);return r(UF)(e,t)}let n=e,s=t,i=new Map,o=i,a=0,l=!1;function c(){o===i&&(o=new Map,i.forEach((y,v)=>{o.set(v,y)}))}function d(){if(l)throw new Error(process.env.NODE_ENV==="production"?qr(3):"You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return s}function f(y){if(typeof y!="function")throw new Error(process.env.NODE_ENV==="production"?qr(4):`Expected the listener to be a function. Instead, received: '${pa(y)}'`);if(l)throw new Error(process.env.NODE_ENV==="production"?qr(5):"You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api/store#subscribelistener for more details.");let v=!0;c();const b=a++;return o.set(b,y),function(){if(v){if(l)throw new Error(process.env.NODE_ENV==="production"?qr(6):"You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api/store#subscribelistener for more details.");v=!1,c(),o.delete(b),i=null}}}function h(y){if(!np(y))throw new Error(process.env.NODE_ENV==="production"?qr(7):`Actions must be plain objects. Instead, the actual type was: '${pa(y)}'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.`);if(typeof y.type>"u")throw new Error(process.env.NODE_ENV==="production"?qr(8):'Actions may not have an undefined "type" property. You may have misspelled an action type string constant.');if(typeof y.type!="string")throw new Error(process.env.NODE_ENV==="production"?qr(17):`Action "type" property must be a string. Instead, the actual type was: '${pa(y.type)}'. Value was: '${y.type}' (stringified)`);if(l)throw new Error(process.env.NODE_ENV==="production"?qr(9):"Reducers may not dispatch actions.");try{l=!0,s=n(s,y)}finally{l=!1}return(i=o).forEach(b=>{b()}),y}function p(y){if(typeof y!="function")throw new Error(process.env.NODE_ENV==="production"?qr(10):`Expected the nextReducer to be a function. Instead, received: '${pa(y)}`);n=y,h({type:Ll.REPLACE})}function g(){const y=f;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(process.env.NODE_ENV==="production"?qr(11):`Expected the observer to be an object. Instead, received: '${pa(v)}'`);function b(){const E=v;E.next&&E.next(d())}return b(),{unsubscribe:y(b)}},[oO](){return this}}}return h({type:Ll.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:p,[oO]:g}}function aO(e){typeof console<"u"&&typeof console.error=="function"&&console.error(e);try{throw new Error(e)}catch{}}function wfe(e,t,r,n){const s=Object.keys(t),i=r&&r.type===Ll.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(s.length===0)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!np(e))return`The ${i} has unexpected type of "${pa(e)}". Expected argument to be an object with the following keys: "${s.join('", "')}"`;const o=Object.keys(e).filter(a=>!t.hasOwnProperty(a)&&!n[a]);if(o.forEach(a=>{n[a]=!0}),!(r&&r.type===Ll.REPLACE)&&o.length>0)return`Unexpected ${o.length>1?"keys":"key"} "${o.join('", "')}" found in ${i}. Expected to find one of the known reducer keys instead: "${s.join('", "')}". Unexpected keys will be ignored.`}function _fe(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Ll.INIT})>"u")throw new Error(process.env.NODE_ENV==="production"?qr(12):`The slice reducer for key "${t}" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.`);if(typeof r(void 0,{type:Ll.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(process.env.NODE_ENV==="production"?qr(13):`The slice reducer for key "${t}" returned undefined when probed with a random type. Don't try to handle '${Ll.INIT}' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.`)})}function qF(e){const t=Object.keys(e),r={};for(let o=0;o<t.length;o++){const a=t[o];process.env.NODE_ENV!=="production"&&typeof e[a]>"u"&&aO(`No reducer provided for key "${a}"`),typeof e[a]=="function"&&(r[a]=e[a])}const n=Object.keys(r);let s;process.env.NODE_ENV!=="production"&&(s={});let i;try{_fe(r)}catch(o){i=o}return function(a={},l){if(i)throw i;if(process.env.NODE_ENV!=="production"){const f=wfe(a,r,l,s);f&&aO(f)}let c=!1;const d={};for(let f=0;f<n.length;f++){const h=n[f],p=r[h],g=a[h],m=p(g,l);if(typeof m>"u"){const y=l&&l.type;throw new Error(process.env.NODE_ENV==="production"?qr(14):`When called with an action of type ${y?`"${String(y)}"`:"(unknown type)"}, the slice reducer for key "${h}" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.`)}d[h]=m,c=c||m!==g}return c=c||n.length!==Object.keys(a).length,c?d:a}}function Ug(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function Sfe(...e){return t=>(r,n)=>{const s=t(r,n);let i=()=>{throw new Error(process.env.NODE_ENV==="production"?qr(15):"Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")};const o={getState:s.getState,dispatch:(l,...c)=>i(l,...c)},a=e.map(l=>l(o));return i=Ug(...a)(s.dispatch),{...s,dispatch:i}}}function jj(e){return np(e)&&"type"in e&&typeof e.type=="string"}var VF=Symbol.for("immer-nothing"),lO=Symbol.for("immer-draftable"),Qn=Symbol.for("immer-state"),Efe=process.env.NODE_ENV!=="production"?[function(e){return`The plugin for '${e}' has not been loaded into Immer. To enable the plugin, import and call \`enable${e}()\` when initializing your application.`},function(e){return`produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '${e}'`},"This object has been frozen and should not be mutated",function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.","Immer forbids circular references","The first or second argument to `produce` must be a function","The third argument to `produce` must be a function or undefined","First argument to `createDraft` must be a plain object, an array, or an immerable object","First argument to `finishDraft` must be a draft returned by `createDraft`",function(e){return`'current' expects a draft, got: ${e}`},"Object.defineProperty() cannot be used on an Immer draft","Object.setPrototypeOf() cannot be used on an Immer draft","Immer only supports deleting array indices","Immer only supports setting array indices and the 'length' property",function(e){return`'original' expects a draft, got: ${e}`}]:[];function An(e,...t){if(process.env.NODE_ENV!=="production"){const r=Efe[e],n=typeof r=="function"?r.apply(null,t):r;throw new Error(`[Immer] ${n}`)}throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Wu=Object.getPrototypeOf;function Xl(e){return!!e&&!!e[Qn]}function Oo(e){var t;return e?WF(e)||Array.isArray(e)||!!e[lO]||!!((t=e.constructor)!=null&&t[lO])||Bv(e)||zv(e):!1}var jfe=Object.prototype.constructor.toString();function WF(e){if(!e||typeof e!="object")return!1;const t=Wu(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===jfe}function qg(e,t){Fv(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function Fv(e){const t=e[Qn];return t?t.type_:Array.isArray(e)?1:Bv(e)?2:zv(e)?3:0}function E1(e,t){return Fv(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function KF(e,t,r){const n=Fv(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function Nfe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Bv(e){return e instanceof Map}function zv(e){return e instanceof Set}function bl(e){return e.copy_||e.base_}function j1(e,t){if(Bv(e))return new Map(e);if(zv(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=WF(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Qn];let s=Reflect.ownKeys(n);for(let i=0;i<s.length;i++){const o=s[i],a=n[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(n[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[o]})}return Object.create(Wu(e),n)}else{const n=Wu(e);if(n!==null&&r)return{...e};const s=Object.create(n);return Object.assign(s,e)}}function Nj(e,t=!1){return Uv(e)||Xl(e)||!Oo(e)||(Fv(e)>1&&(e.set=e.add=e.clear=e.delete=kfe),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>Nj(n,!0))),e}function kfe(){An(2)}function Uv(e){return Object.isFrozen(e)}var Cfe={};function Jl(e){const t=Cfe[e];return t||An(0,e),t}var gh;function HF(){return gh}function Tfe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function cO(e,t){t&&(Jl("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function N1(e){k1(e),e.drafts_.forEach(Afe),e.drafts_=null}function k1(e){e===gh&&(gh=e.parent_)}function uO(e){return gh=Tfe(gh,e)}function Afe(e){const t=e[Qn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function dO(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Qn].modified_&&(N1(t),An(4)),Oo(e)&&(e=Vg(t,e),t.parent_||Wg(t,e)),t.patches_&&Jl("Patches").generateReplacementPatches_(r[Qn].base_,e,t.patches_,t.inversePatches_)):e=Vg(t,r,[]),N1(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==VF?e:void 0}function Vg(e,t,r){if(Uv(t))return t;const n=t[Qn];if(!n)return qg(t,(s,i)=>fO(e,n,t,s,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Wg(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const s=n.copy_;let i=s,o=!1;n.type_===3&&(i=new Set(s),s.clear(),o=!0),qg(i,(a,l)=>fO(e,n,s,a,l,r,o)),Wg(e,s,!1),r&&e.patches_&&Jl("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function fO(e,t,r,n,s,i,o){if(process.env.NODE_ENV!=="production"&&s===r&&An(5),Xl(s)){const a=i&&t&&t.type_!==3&&!E1(t.assigned_,n)?i.concat(n):void 0,l=Vg(e,s,a);if(KF(r,n,l),Xl(l))e.canAutoFreeze_=!1;else return}else o&&r.add(s);if(Oo(s)&&!Uv(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Vg(e,s),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&Wg(e,s)}}function Wg(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Nj(t,r)}function Pfe(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:HF(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,i=kj;r&&(s=[n],i=yh);const{revoke:o,proxy:a}=Proxy.revocable(s,i);return n.draft_=a,n.revoke_=o,a}var kj={get(e,t){if(t===Qn)return e;const r=bl(e);if(!E1(r,t))return Ofe(e,r,t);const n=r[t];return e.finalized_||!Oo(n)?n:n===cx(e.base_,t)?(ux(e),e.copy_[t]=T1(n,e)):n},has(e,t){return t in bl(e)},ownKeys(e){return Reflect.ownKeys(bl(e))},set(e,t,r){const n=YF(bl(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const s=cx(bl(e),t),i=s==null?void 0:s[Qn];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(Nfe(r,s)&&(r!==void 0||E1(e.base_,t)))return!0;ux(e),C1(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return cx(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,ux(e),C1(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=bl(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){An(11)},getPrototypeOf(e){return Wu(e.base_)},setPrototypeOf(){An(12)}},yh={};qg(kj,(e,t)=>{yh[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});yh.deleteProperty=function(e,t){return process.env.NODE_ENV!=="production"&&isNaN(parseInt(t))&&An(13),yh.set.call(this,e,t,void 0)};yh.set=function(e,t,r){return process.env.NODE_ENV!=="production"&&t!=="length"&&isNaN(parseInt(t))&&An(14),kj.set.call(this,e[0],t,r,e[0])};function cx(e,t){const r=e[Qn];return(r?bl(r):e)[t]}function Ofe(e,t,r){var s;const n=YF(t,r);return n?"value"in n?n.value:(s=n.get)==null?void 0:s.call(e.draft_):void 0}function YF(e,t){if(!(t in e))return;let r=Wu(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Wu(r)}}function C1(e){e.modified_||(e.modified_=!0,e.parent_&&C1(e.parent_))}function ux(e){e.copy_||(e.copy_=j1(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Dfe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(l=i,...c){return o.produce(l,d=>r.call(this,d,...c))}}typeof r!="function"&&An(6),n!==void 0&&typeof n!="function"&&An(7);let s;if(Oo(t)){const i=uO(this),o=T1(t,void 0);let a=!0;try{s=r(o),a=!1}finally{a?N1(i):k1(i)}return cO(i,n),dO(s,i)}else if(!t||typeof t!="object"){if(s=r(t),s===void 0&&(s=t),s===VF&&(s=void 0),this.autoFreeze_&&Nj(s,!0),n){const i=[],o=[];Jl("Patches").generateReplacementPatches_(t,s,i,o),n(i,o)}return s}else An(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...a)=>this.produceWithPatches(o,l=>t(l,...a));let n,s;return[this.produce(t,r,(o,a)=>{n=o,s=a}),n,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Oo(e)||An(8),Xl(e)&&(e=_o(e));const t=uO(this),r=T1(e,void 0);return r[Qn].isManual_=!0,k1(t),r}finishDraft(e,t){const r=e&&e[Qn];(!r||!r.isManual_)&&An(9);const{scope_:n}=r;return cO(n,t),dO(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const n=Jl("Patches").applyPatches_;return Xl(e)?n(e,t):this.produce(e,s=>n(s,t))}};function T1(e,t){const r=Bv(e)?Jl("MapSet").proxyMap_(e,t):zv(e)?Jl("MapSet").proxySet_(e,t):Pfe(e,t);return(t?t.scope_:HF()).drafts_.push(r),r}function _o(e){return Xl(e)||An(10,e),GF(e)}function GF(e){if(!Oo(e)||Uv(e))return e;const t=e[Qn];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=j1(e,t.scope_.immer_.useStrictShallowCopy_)}else r=j1(e,!0);return qg(r,(n,s)=>{KF(r,n,GF(s))}),t&&(t.finalized_=!1),r}var es=new Dfe,ZF=es.produce;es.produceWithPatches.bind(es);es.setAutoFreeze.bind(es);es.setUseStrictShallowCopy.bind(es);es.applyPatches.bind(es);es.createDraft.bind(es);es.finishDraft.bind(es);function XF(e){return({dispatch:r,getState:n})=>s=>i=>typeof i=="function"?i(r,n,e):s(i)}var Rfe=XF(),$fe=XF,Ife=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ug:Ug.apply(null,arguments)},Mfe=e=>e&&typeof e.match=="function";function ks(e,t){function r(...n){if(t){let s=t(...n);if(!s)throw new Error(process.env.NODE_ENV==="production"?ft(0):"prepareAction did not return an object");return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>jj(n)&&n.type===e,r}function Lfe(e){return typeof e=="function"&&"type"in e&&Mfe(e)}function Ffe(e){const t=e?`${e}`.split("/"):[],r=t[t.length-1]||"actionCreator";return`Detected an action creator with type "${e||"unknown"}" being dispatched. 
Make sure you're calling the action creator before dispatching, i.e. \`dispatch(${r}())\` instead of \`dispatch(${r})\`. This is necessary even if the action has no payload.`}function Bfe(e={}){if(process.env.NODE_ENV==="production")return()=>r=>n=>r(n);const{isActionCreator:t=Lfe}=e;return()=>r=>n=>(t(n)&&console.warn(Ffe(n.type)),r(n))}function JF(e,t){let r=0;return{measureTime(n){const s=Date.now();try{return n()}finally{const i=Date.now();r+=i-s}},warnIfExceeded(){r>e&&console.warn(`${t} took ${r}ms, which is more than the warning threshold of ${e}ms. 
If your state or actions are very large, you may want to disable the middleware as it might cause too much of a slowdown in development mode. See https://redux-toolkit.js.org/api/getDefaultMiddleware for instructions.
It is disabled in production builds, so you don't need to worry about that.`)}}}var QF=class bf extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,bf.prototype)}static get[Symbol.species](){return bf}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new bf(...t[0].concat(this)):new bf(...t.concat(this))}};function hO(e){return Oo(e)?ZF(e,()=>{}):e}function vm(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function zfe(e){return typeof e!="object"||e==null||Object.isFrozen(e)}function Ufe(e,t,r){const n=e6(e,t,r);return{detectMutations(){return t6(e,t,n,r)}}}function e6(e,t=[],r,n="",s=new Set){const i={value:r};if(!e(r)&&!s.has(r)){s.add(r),i.children={};for(const o in r){const a=n?n+"."+o:o;t.length&&t.indexOf(a)!==-1||(i.children[o]=e6(e,t,r[o],a))}}return i}function t6(e,t=[],r,n,s=!1,i=""){const o=r?r.value:void 0,a=o===n;if(s&&!a&&!Number.isNaN(n))return{wasMutated:!0,path:i};if(e(o)||e(n))return{wasMutated:!1};const l={};for(let d in r.children)l[d]=!0;for(let d in n)l[d]=!0;const c=t.length>0;for(let d in l){const f=i?i+"."+d:d;if(c&&t.some(g=>g instanceof RegExp?g.test(f):f===g))continue;const h=t6(e,t,r.children[d],n[d],a,f);if(h.wasMutated)return h}return{wasMutated:!1}}function qfe(e={}){if(process.env.NODE_ENV==="production")return()=>t=>r=>t(r);{let t=function(a,l,c,d){return JSON.stringify(a,r(l,d),c)},r=function(a,l){let c=[],d=[];return l||(l=function(f,h){return c[0]===h?"[Circular ~]":"[Circular ~."+d.slice(0,c.indexOf(h)).join(".")+"]"}),function(f,h){if(c.length>0){var p=c.indexOf(this);~p?c.splice(p+1):c.push(this),~p?d.splice(p,1/0,f):d.push(f),~c.indexOf(h)&&(h=l.call(this,f,h))}else c.push(h);return a==null?h:a.call(this,f,h)}},{isImmutable:n=zfe,ignoredPaths:s,warnAfter:i=32}=e;const o=Ufe.bind(null,n,s);return({getState:a})=>{let l=a(),c=o(l),d;return f=>h=>{const p=JF(i,"ImmutableStateInvariantMiddleware");p.measureTime(()=>{if(l=a(),d=c.detectMutations(),c=o(l),d.wasMutated)throw new Error(process.env.NODE_ENV==="production"?ft(19):`A state mutation was detected between dispatches, in the path '${d.path||""}'.  This may cause incorrect behavior. (https://redux.js.org/style-guide/style-guide#do-not-mutate-state)`)});const g=f(h);return p.measureTime(()=>{if(l=a(),d=c.detectMutations(),c=o(l),d.wasMutated)throw new Error(process.env.NODE_ENV==="production"?ft(20):`A state mutation was detected inside a dispatch, in the path: ${d.path||""}. Take a look at the reducer(s) handling the action ${t(h)}. (https://redux.js.org/style-guide/style-guide#do-not-mutate-state)`)}),p.warnIfExceeded(),g}}}}function r6(e){const t=typeof e;return e==null||t==="string"||t==="boolean"||t==="number"||Array.isArray(e)||np(e)}function A1(e,t="",r=r6,n,s=[],i){let o;if(!r(e))return{keyPath:t||"<root>",value:e};if(typeof e!="object"||e===null||i!=null&&i.has(e))return!1;const a=n!=null?n(e):Object.entries(e),l=s.length>0;for(const[c,d]of a){const f=t?t+"."+c:c;if(!(l&&s.some(p=>p instanceof RegExp?p.test(f):f===p))){if(!r(d))return{keyPath:f,value:d};if(typeof d=="object"&&(o=A1(d,f,r,n,s,i),o))return o}}return i&&n6(e)&&i.add(e),!1}function n6(e){if(!Object.isFrozen(e))return!1;for(const t of Object.values(e))if(!(typeof t!="object"||t===null)&&!n6(t))return!1;return!0}function Vfe(e={}){if(process.env.NODE_ENV==="production")return()=>t=>r=>t(r);{const{isSerializable:t=r6,getEntries:r,ignoredActions:n=[],ignoredActionPaths:s=["meta.arg","meta.baseQueryMeta"],ignoredPaths:i=[],warnAfter:o=32,ignoreState:a=!1,ignoreActions:l=!1,disableCache:c=!1}=e,d=!c&&WeakSet?new WeakSet:void 0;return f=>h=>p=>{if(!jj(p))return h(p);const g=h(p),m=JF(o,"SerializableStateInvariantMiddleware");return!l&&!(n.length&&n.indexOf(p.type)!==-1)&&m.measureTime(()=>{const y=A1(p,"",t,r,s,d);if(y){const{keyPath:v,value:b}=y;console.error(`A non-serializable value was detected in an action, in the path: \`${v}\`. Value:`,b,`
Take a look at the logic that dispatched this action: `,p,`
(See https://redux.js.org/faq/actions#why-should-type-be-a-string-or-at-least-serializable-why-should-my-action-types-be-constants)`,`
(To allow non-serializable values see: https://redux-toolkit.js.org/usage/usage-guide#working-with-non-serializable-data)`)}}),a||(m.measureTime(()=>{const y=f.getState(),v=A1(y,"",t,r,i,d);if(v){const{keyPath:b,value:x}=v;console.error(`A non-serializable value was detected in the state, in the path: \`${b}\`. Value:`,x,`
Take a look at the reducer(s) handling this action type: ${p.type}.
(See https://redux.js.org/faq/organizing-state#can-i-put-functions-promises-or-other-non-serializable-items-in-my-store-state)`)}}),m.warnIfExceeded()),g}}}function bm(e){return typeof e=="boolean"}var Wfe=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=t??{};let o=new QF;if(r&&(bm(r)?o.push(Rfe):o.push($fe(r.extraArgument))),process.env.NODE_ENV!=="production"){if(n){let a={};bm(n)||(a=n),o.unshift(qfe(a))}if(s){let a={};bm(s)||(a=s),o.push(Vfe(a))}if(i){let a={};bm(i)||(a=i),o.unshift(Bfe(a))}}return o},Kfe="RTK_autoBatch",pO=e=>t=>{setTimeout(t,e)},Hfe=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let s=!0,i=!1,o=!1;const a=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:pO(10):e.type==="callback"?e.queueNotification:pO(e.timeout),c=()=>{o=!1,i&&(i=!1,a.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>s&&d(),h=n.subscribe(f);return a.add(d),()=>{h(),a.delete(d)}},dispatch(d){var f;try{return s=!((f=d==null?void 0:d.meta)!=null&&f[Kfe]),i=!s,i&&(o||(o=!0,l(c))),n.dispatch(d)}finally{s=!0}}})},Yfe=e=>function(r){const{autoBatch:n=!0}=r??{};let s=new QF(e);return n&&s.push(Hfe(typeof n=="object"?n:void 0)),s};function Gfe(e){const t=Wfe(),{reducer:r=void 0,middleware:n,devTools:s=!0,duplicateMiddlewareCheck:i=!0,preloadedState:o=void 0,enhancers:a=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(np(r))l=qF(r);else throw new Error(process.env.NODE_ENV==="production"?ft(1):"`reducer` is a required argument, and must be a function or an object of functions that can be passed to combineReducers");if(process.env.NODE_ENV!=="production"&&n&&typeof n!="function")throw new Error(process.env.NODE_ENV==="production"?ft(2):"`middleware` field must be a callback");let c;if(typeof n=="function"){if(c=n(t),process.env.NODE_ENV!=="production"&&!Array.isArray(c))throw new Error(process.env.NODE_ENV==="production"?ft(3):"when using a middleware builder function, an array of middleware must be returned")}else c=t();if(process.env.NODE_ENV!=="production"&&c.some(m=>typeof m!="function"))throw new Error(process.env.NODE_ENV==="production"?ft(4):"each middleware provided to configureStore must be a function");if(process.env.NODE_ENV!=="production"&&i){let m=new Set;c.forEach(y=>{if(m.has(y))throw new Error(process.env.NODE_ENV==="production"?ft(42):"Duplicate middleware references found when creating the store. Ensure that each middleware is only included once.");m.add(y)})}let d=Ug;s&&(d=Ife({trace:process.env.NODE_ENV!=="production",...typeof s=="object"&&s}));const f=Sfe(...c),h=Yfe(f);if(process.env.NODE_ENV!=="production"&&a&&typeof a!="function")throw new Error(process.env.NODE_ENV==="production"?ft(5):"`enhancers` field must be a callback");let p=typeof a=="function"?a(h):h();if(process.env.NODE_ENV!=="production"&&!Array.isArray(p))throw new Error(process.env.NODE_ENV==="production"?ft(6):"`enhancers` callback must return an array");if(process.env.NODE_ENV!=="production"&&p.some(m=>typeof m!="function"))throw new Error(process.env.NODE_ENV==="production"?ft(7):"each enhancer provided to configureStore must be a function");process.env.NODE_ENV!=="production"&&c.length&&!p.includes(f)&&console.error("middlewares were provided, but middleware enhancer was not included in final enhancers - make sure to call `getDefaultEnhancers`");const g=d(...p);return UF(l,o,g)}function s6(e){const t={},r=[];let n;const s={addCase(i,o){if(process.env.NODE_ENV!=="production"){if(r.length>0)throw new Error(process.env.NODE_ENV==="production"?ft(26):"`builder.addCase` should only be called before calling `builder.addMatcher`");if(n)throw new Error(process.env.NODE_ENV==="production"?ft(27):"`builder.addCase` should only be called before calling `builder.addDefaultCase`")}const a=typeof i=="string"?i:i.type;if(!a)throw new Error(process.env.NODE_ENV==="production"?ft(28):"`builder.addCase` cannot be called with an empty action type");if(a in t)throw new Error(process.env.NODE_ENV==="production"?ft(29):`\`builder.addCase\` cannot be called with two reducers for the same action type '${a}'`);return t[a]=o,s},addMatcher(i,o){if(process.env.NODE_ENV!=="production"&&n)throw new Error(process.env.NODE_ENV==="production"?ft(30):"`builder.addMatcher` should only be called before calling `builder.addDefaultCase`");return r.push({matcher:i,reducer:o}),s},addDefaultCase(i){if(process.env.NODE_ENV!=="production"&&n)throw new Error(process.env.NODE_ENV==="production"?ft(31):"`builder.addDefaultCase` can only be called once");return n=i,s}};return e(s),[t,r,n]}function Zfe(e){return typeof e=="function"}function Xfe(e,t){if(process.env.NODE_ENV!=="production"&&typeof t=="object")throw new Error(process.env.NODE_ENV==="production"?ft(8):"The object notation for `createReducer` has been removed. Please use the 'builder callback' notation instead: https://redux-toolkit.js.org/api/createReducer");let[r,n,s]=s6(t),i;if(Zfe(e))i=()=>hO(e());else{const a=hO(e);i=()=>a}function o(a=i(),l){let c=[r[l.type],...n.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[s]),c.reduce((d,f)=>{if(f)if(Xl(d)){const p=f(d,l);return p===void 0?d:p}else{if(Oo(d))return ZF(d,h=>f(h,l));{const h=f(d,l);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},a)}return o.getInitialState=i,o}var Jfe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Qfe=(e=21)=>{let t="",r=e;for(;r--;)t+=Jfe[Math.random()*64|0];return t},ehe=Symbol.for("rtk-slice-createasyncthunk");function the(e,t){return`${e}/${t}`}function rhe({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[ehe];return function(s){const{name:i,reducerPath:o=i}=s;if(!i)throw new Error(process.env.NODE_ENV==="production"?ft(11):"`name` is a required option for createSlice");typeof process<"u"&&process.env.NODE_ENV==="development"&&s.initialState===void 0&&console.error("You must provide an `initialState` value that is not `undefined`. You may have misspelled `initialState`");const a=(typeof s.reducers=="function"?s.reducers(she()):s.reducers)||{},l=Object.keys(a),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(E,_){const N=typeof E=="string"?E:E.type;if(!N)throw new Error(process.env.NODE_ENV==="production"?ft(12):"`context.addCase` cannot be called with an empty action type");if(N in c.sliceCaseReducersByType)throw new Error(process.env.NODE_ENV==="production"?ft(13):"`context.addCase` cannot be called with two reducers for the same action type: "+N);return c.sliceCaseReducersByType[N]=_,d},addMatcher(E,_){return c.sliceMatchers.push({matcher:E,reducer:_}),d},exposeAction(E,_){return c.actionCreators[E]=_,d},exposeCaseReducer(E,_){return c.sliceCaseReducersByName[E]=_,d}};l.forEach(E=>{const _=a[E],N={reducerName:E,type:the(i,E),createNotation:typeof s.reducers=="function"};ohe(_)?lhe(N,_,d,t):ihe(N,_,d)});function f(){if(process.env.NODE_ENV!=="production"&&typeof s.extraReducers=="object")throw new Error(process.env.NODE_ENV==="production"?ft(14):"The object notation for `createSlice.extraReducers` has been removed. Please use the 'builder callback' notation instead: https://redux-toolkit.js.org/api/createSlice");const[E={},_=[],N=void 0]=typeof s.extraReducers=="function"?s6(s.extraReducers):[s.extraReducers],k={...E,...c.sliceCaseReducersByType};return Xfe(s.initialState,C=>{for(let T in k)C.addCase(T,k[T]);for(let T of c.sliceMatchers)C.addMatcher(T.matcher,T.reducer);for(let T of _)C.addMatcher(T.matcher,T.reducer);N&&C.addDefaultCase(N)})}const h=E=>E,p=new Map,g=new WeakMap;let m;function y(E,_){return m||(m=f()),m(E,_)}function v(){return m||(m=f()),m.getInitialState()}function b(E,_=!1){function N(C){let T=C[E];if(typeof T>"u"){if(_)T=vm(g,N,v);else if(process.env.NODE_ENV!=="production")throw new Error(process.env.NODE_ENV==="production"?ft(15):"selectSlice returned undefined for an uninjected slice reducer")}return T}function k(C=h){const T=vm(p,_,()=>new WeakMap);return vm(T,C,()=>{const $={};for(const[M,L]of Object.entries(s.selectors??{}))$[M]=nhe(L,C,()=>vm(g,C,v),_);return $})}return{reducerPath:E,getSelectors:k,get selectors(){return k(N)},selectSlice:N}}const x={name:i,reducer:y,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:v,...b(o),injectInto(E,{reducerPath:_,...N}={}){const k=_??o;return E.inject({reducerPath:k,reducer:y},N),{...x,...b(k,!0)}}};return x}}function nhe(e,t,r,n){function s(i,...o){let a=t(i);if(typeof a>"u"){if(n)a=r();else if(process.env.NODE_ENV!=="production")throw new Error(process.env.NODE_ENV==="production"?ft(16):"selectState returned undefined for an uninjected slice reducer")}return e(a,...o)}return s.unwrapped=e,s}var ts=rhe();function she(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function ihe({type:e,reducerName:t,createNotation:r},n,s){let i,o;if("reducer"in n){if(r&&!ahe(n))throw new Error(process.env.NODE_ENV==="production"?ft(17):"Please use the `create.preparedReducer` notation for prepared action creators with the `create` notation.");i=n.reducer,o=n.prepare}else i=n;s.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?ks(e,o):ks(e))}function ohe(e){return e._reducerDefinitionType==="asyncThunk"}function ahe(e){return e._reducerDefinitionType==="reducerWithPrepare"}function lhe({type:e,reducerName:t},r,n,s){if(!s)throw new Error(process.env.NODE_ENV==="production"?ft(18):"Cannot use `create.asyncThunk` in the built-in `createSlice`. Use `buildCreateSlice({ creators: { asyncThunk: asyncThunkCreator } })` to create a customised version of `createSlice`.");const{payloadCreator:i,fulfilled:o,pending:a,rejected:l,settled:c,options:d}=r,f=s(e,i,d);n.exposeAction(t,f),o&&n.addCase(f.fulfilled,o),a&&n.addCase(f.pending,a),l&&n.addCase(f.rejected,l),c&&n.addMatcher(f.settled,c),n.exposeCaseReducer(t,{fulfilled:o||xm,pending:a||xm,rejected:l||xm,settled:c||xm})}function xm(){}var che="task",i6="listener",o6="completed",Cj="cancelled",uhe=`task-${Cj}`,dhe=`task-${o6}`,P1=`${i6}-${Cj}`,fhe=`${i6}-${o6}`,qv=class{constructor(e){_e(this,"name","TaskAbortError");_e(this,"message");this.code=e,this.message=`${che} ${Cj} (reason: ${e})`}},Tj=(e,t)=>{if(typeof e!="function")throw new TypeError(process.env.NODE_ENV==="production"?ft(32):`${t} is not a function`)},Kg=()=>{},a6=(e,t=Kg)=>(e.catch(t),e),l6=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Fl=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Bl=e=>{if(e.aborted){const{reason:t}=e;throw new qv(t)}};function c6(e,t){let r=Kg;return new Promise((n,s)=>{const i=()=>s(new qv(e.reason));if(e.aborted){i();return}r=l6(e,i),t.finally(()=>r()).then(n,s)}).finally(()=>{r=Kg})}var hhe=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof qv?"cancelled":"rejected",error:r}}finally{t==null||t()}},Hg=e=>t=>a6(c6(e,t).then(r=>(Bl(e),r))),u6=e=>{const t=Hg(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:xu}=Object,mO={},sp="listenerMiddleware",phe=(e,t)=>{const r=n=>l6(e,()=>Fl(n,e.reason));return(n,s)=>{Tj(n,"taskExecutor");const i=new AbortController;r(i);const o=hhe(async()=>{Bl(e),Bl(i.signal);const a=await n({pause:Hg(i.signal),delay:u6(i.signal),signal:i.signal});return Bl(i.signal),a},()=>Fl(i,dhe));return s!=null&&s.autoJoin&&t.push(o.catch(Kg)),{result:Hg(e)(o),cancel(){Fl(i,uhe)}}}},mhe=(e,t)=>{const r=async(n,s)=>{Bl(t);let i=()=>{};const a=[new Promise((l,c)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),l([f,h.getState(),h.getOriginalState()])}});i=()=>{d(),c()}})];s!=null&&a.push(new Promise(l=>setTimeout(l,s,null)));try{const l=await c6(t,Promise.race(a));return Bl(t),l}finally{i()}};return(n,s)=>a6(r(n,s))},d6=e=>{let{type:t,actionCreator:r,matcher:n,predicate:s,effect:i}=e;if(t)s=ks(t).match;else if(r)t=r.type,s=r.match;else if(n)s=n;else if(!s)throw new Error(process.env.NODE_ENV==="production"?ft(21):"Creating or removing a listener requires one of the known fields for matching an action");return Tj(i,"options.listener"),{predicate:s,type:t,effect:i}},f6=xu(e=>{const{type:t,predicate:r,effect:n}=d6(e);return{id:Qfe(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(process.env.NODE_ENV==="production"?ft(22):"Unsubscribe not initialized")}}},{withTypes:()=>f6}),gO=(e,t)=>{const{type:r,effect:n,predicate:s}=d6(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===s)&&i.effect===n)},O1=e=>{e.pending.forEach(t=>{Fl(t,P1)})},ghe=e=>()=>{e.forEach(O1),e.clear()},yO=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},h6=xu(ks(`${sp}/add`),{withTypes:()=>h6}),yhe=ks(`${sp}/removeAll`),p6=xu(ks(`${sp}/remove`),{withTypes:()=>p6}),vhe=(...e)=>{console.error(`${sp}/error`,...e)},ip=(e={})=>{const t=new Map,{extra:r,onError:n=vhe}=e;Tj(n,"onError");const s=d=>(d.unsubscribe=()=>t.delete(d.id),t.set(d.id,d),f=>{d.unsubscribe(),f!=null&&f.cancelActive&&O1(d)}),i=d=>{const f=gO(t,d)??f6(d);return s(f)};xu(i,{withTypes:()=>i});const o=d=>{const f=gO(t,d);return f&&(f.unsubscribe(),d.cancelActive&&O1(f)),!!f};xu(o,{withTypes:()=>o});const a=async(d,f,h,p)=>{const g=new AbortController,m=mhe(i,g.signal),y=[];try{d.pending.add(g),await Promise.resolve(d.effect(f,xu({},h,{getOriginalState:p,condition:(v,b)=>m(v,b).then(Boolean),take:m,delay:u6(g.signal),pause:Hg(g.signal),extra:r,signal:g.signal,fork:phe(g.signal,y),unsubscribe:d.unsubscribe,subscribe:()=>{t.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((v,b,x)=>{v!==g&&(Fl(v,P1),x.delete(v))})},cancel:()=>{Fl(g,P1),d.pending.delete(g)},throwIfCancelled:()=>{Bl(g.signal)}})))}catch(v){v instanceof qv||yO(n,v,{raisedBy:"effect"})}finally{await Promise.all(y),Fl(g,fhe),d.pending.delete(g)}},l=ghe(t);return{middleware:d=>f=>h=>{if(!jj(h))return f(h);if(h6.match(h))return i(h.payload);if(yhe.match(h)){l();return}if(p6.match(h))return o(h.payload);let p=d.getState();const g=()=>{if(p===mO)throw new Error(process.env.NODE_ENV==="production"?ft(23):`${sp}: getOriginalState can only be called synchronously`);return p};let m;try{if(m=f(h),t.size>0){const y=d.getState(),v=Array.from(t.values());for(const b of v){let x=!1;try{x=b.predicate(h,y,p)}catch(E){x=!1,yO(n,E,{raisedBy:"predicate"})}x&&a(b,h,d,g)}}}finally{p=mO}return m},startListening:i,stopListening:o,clearListeners:l}};function ft(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var bhe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},m6=ts({name:"chartLayout",initialState:bhe,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:xhe,setLayout:whe,setChartSize:_he,setScale:She}=m6.actions,Ehe=m6.reducer;function vO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function bO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vO(Object(r),!0).forEach(function(n){jhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jhe(e,t,r){return(t=Nhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nhe(e){var t=khe(e,"string");return typeof t=="symbol"?t:t+""}function khe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yg=Math.PI/180,Che=e=>e*180/Math.PI,fr=(e,t,r,n)=>({x:e+Math.cos(-Yg*n)*r,y:t+Math.sin(-Yg*n)*r}),g6=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},The=(e,t)=>{var{x:r,y:n}=e,{x:s,y:i}=t;return Math.sqrt((r-s)**2+(n-i)**2)},Ahe=(e,t)=>{var{x:r,y:n}=e,{cx:s,cy:i}=t,o=The({x:r,y:n},{x:s,y:i});if(o<=0)return{radius:o,angle:0};var a=(r-s)/o,l=Math.acos(a);return n>i&&(l=2*Math.PI-l),{radius:o,angle:Che(l),angleInRadian:l}},Phe=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),s=Math.floor(r/360),i=Math.min(n,s);return{startAngle:t-i*360,endAngle:r-i*360}},Ohe=(e,t)=>{var{startAngle:r,endAngle:n}=t,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return e+o*360},Dhe=(e,t)=>{var{x:r,y:n}=e,{radius:s,angle:i}=Ahe({x:r,y:n},t),{innerRadius:o,outerRadius:a}=t;if(s<o||s>a||s===0)return null;var{startAngle:l,endAngle:c}=Phe(t),d=i,f;if(l<=c){for(;d>c;)d-=360;for(;d<l;)d+=360;f=d>=l&&d<=c}else{for(;d>l;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=l}return f?bO(bO({},t),{},{radius:s,angle:Ohe(d,t)}):null};function y6(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function xO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function gs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xO(Object(r),!0).forEach(function(n){Rhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rhe(e,t,r){return(t=$he(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $he(e){var t=Ihe(e,"string");return typeof t=="symbol"?t:t+""}function Ihe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mt(e,t,r){return hr(e)||hr(t)?r:zi(t)?qa(e,t,r):typeof t=="function"?t(e):r}var Mhe=(e,t,r,n,s)=>{var i,o=-1,a=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(a<=1||e==null)return 0;if(n==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var l=0;l<a;l++){var c=l>0?r[l-1].coordinate:r[a-1].coordinate,d=r[l].coordinate,f=l>=a-1?r[0].coordinate:r[l+1].coordinate,h=void 0;if(an(d-c)!==an(f-d)){var p=[];if(an(f-d)===an(s[1]-s[0])){h=f;var g=d+s[1]-s[0];p[0]=Math.min(g,(g+c)/2),p[1]=Math.max(g,(g+c)/2)}else{h=c;var m=f+s[1]-s[0];p[0]=Math.min(d,(m+d)/2),p[1]=Math.max(d,(m+d)/2)}var y=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>y[0]&&e<=y[1]||e>=p[0]&&e<=p[1]){({index:o}=r[l]);break}}else{var v=Math.min(c,f),b=Math.max(c,f);if(e>(v+d)/2&&e<=(b+d)/2){({index:o}=r[l]);break}}}else if(t){for(var x=0;x<a;x++)if(x===0&&e<=(t[x].coordinate+t[x+1].coordinate)/2||x>0&&x<a-1&&e>(t[x].coordinate+t[x-1].coordinate)/2&&e<=(t[x].coordinate+t[x+1].coordinate)/2||x===a-1&&e>(t[x].coordinate+t[x-1].coordinate)/2){({index:o}=t[x]);break}}return o},Lhe=(e,t,r)=>{if(t&&r){var{width:n,height:s}=r,{align:i,verticalAlign:o,layout:a}=t;if((a==="vertical"||a==="horizontal"&&o==="middle")&&i!=="center"&&Ae(e[i]))return gs(gs({},e),{},{[i]:e[i]+(n||0)});if((a==="horizontal"||a==="vertical"&&i==="center")&&o!=="middle"&&Ae(e[o]))return gs(gs({},e),{},{[o]:e[o]+(s||0)})}return e},Xa=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",v6=(e,t,r,n)=>{if(n)return e.map(a=>a.coordinate);var s,i,o=e.map(a=>(a.coordinate===t&&(s=!0),a.coordinate===r&&(i=!0),a.coordinate));return s||o.push(t),i||o.push(r),o},b6=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:s,range:i,scale:o,realScaleType:a,isCategorical:l,categoricalDomain:c,tickCount:d,ticks:f,niceTicks:h,axisType:p}=e;if(!o)return null;var g=a==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,m=s==="category"&&o.bandwidth?o.bandwidth()/g:0;if(m=p==="angleAxis"&&i&&i.length>=2?an(i[0]-i[1])*2*m:m,f||h){var y=(f||h||[]).map((v,b)=>{var x=n?n.indexOf(v):v;return{coordinate:o(x)+m,value:v,offset:m,index:b}});return y.filter(v=>!js(v.coordinate))}return l&&c?c.map((v,b)=>({coordinate:o(v)+m,value:v,index:b,offset:m})):o.ticks&&d!=null?o.ticks(d).map((v,b)=>({coordinate:o(v)+m,value:v,offset:m,index:b})):o.domain().map((v,b)=>({coordinate:o(v)+m,value:n?n[v]:v,index:b,offset:m}))},wO=1e-4,Fhe=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),s=Math.min(n[0],n[1])-wO,i=Math.max(n[0],n[1])+wO,o=e(t[0]),a=e(t[r-1]);(o<s||o>i||a<s||a>i)&&e.domain([t[0],t[r-1]])}},Bhe=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,i=0,o=0;o<t;++o){var a=js(e[o][r][1])?e[o][r][0]:e[o][r][1];a>=0?(e[o][r][0]=s,e[o][r][1]=s+a,s=e[o][r][1]):(e[o][r][0]=i,e[o][r][1]=i+a,i=e[o][r][1])}},zhe=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,i=0;i<t;++i){var o=js(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=s,e[i][r][1]=s+o,s=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},Uhe={sign:Bhe,expand:jde,none:Vu,silhouette:Nde,wiggle:kde,positive:zhe},qhe=(e,t,r)=>{var n=Uhe[r],s=Ede().keys(t).value((i,o)=>+Mt(i,o,0)).order(x1).offset(n);return s(e)};function _O(e){var{axis:t,ticks:r,bandSize:n,entry:s,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!hr(s[t.dataKey])){var a=G3(r,"value",s[t.dataKey]);if(a)return a.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var l=Mt(s,hr(o)?t.dataKey:o);return hr(l)?null:t.scale(l)}var Vhe=e=>{var t=e.flat(2).filter(Ae);return[Math.min(...t),Math.max(...t)]},Whe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Khe=(e,t,r)=>{if(e!=null)return Whe(Object.keys(e).reduce((n,s)=>{var i=e[s],{stackedData:o}=i,a=o.reduce((l,c)=>{var d=y6(c,t,r),f=Vhe(d);return[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(a[0],n[0]),Math.max(a[1],n[1])]},[1/0,-1/0]))},SO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,EO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,D1=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var s=Lv(t,d=>d.coordinate),i=1/0,o=1,a=s.length;o<a;o++){var l=s[o],c=s[o-1];i=Math.min((l.coordinate||0)-(c.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function jO(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:s,name:i}=e;return gs(gs({},t),{},{dataKey:r,payload:n,value:s,name:i})}function Vv(e,t){if(e)return String(e);if(typeof t=="string")return t}function Hhe(e,t,r,n,s){if(r==="horizontal"||r==="vertical"){var i=e>=s.left&&e<=s.left+s.width&&t>=s.top&&t<=s.top+s.height;return i?{x:e,y:t}:null}return n?Dhe({x:e,y:t},n):null}var Yhe=(e,t,r,n)=>{var s=t.find(c=>c&&c.index===r);if(s){if(e==="horizontal")return{x:s.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:s.coordinate};if(e==="centric"){var i=s.coordinate,{radius:o}=n;return gs(gs(gs({},n),fr(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var a=s.coordinate,{angle:l}=n;return gs(gs(gs({},n),fr(n.cx,n.cy,a,l)),{},{angle:l,radius:a})}return{x:0,y:0}},Ghe=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Vo=e=>e.layout.width,Wo=e=>e.layout.height,Zhe=e=>e.layout.scale,x6=e=>e.layout.margin,Aj=Q(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Pj=Q(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),w6="data-recharts-item-index",_6="data-recharts-item-data-key",Wv=60;function NO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function aa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NO(Object(r),!0).forEach(function(n){Xhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xhe(e,t,r){return(t=Jhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jhe(e){var t=Qhe(e,"string");return typeof t=="symbol"?t:t+""}function Qhe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var epe=e=>e.brush.height,Fr=Q([Vo,Wo,x6,epe,Aj,Pj,BF,dfe],(e,t,r,n,s,i,o,a)=>{var l=i.reduce((g,m)=>{var{orientation:y}=m;if(!m.mirror&&!m.hide){var v=typeof m.width=="number"?m.width:Wv;return aa(aa({},g),{},{[y]:g[y]+v})}return g},{left:r.left||0,right:r.right||0}),c=s.reduce((g,m)=>{var{orientation:y}=m;return!m.mirror&&!m.hide?aa(aa({},g),{},{[y]:qa(g,"".concat(y))+m.height}):g},{top:r.top||0,bottom:r.bottom||0}),d=aa(aa({},c),l),f=d.bottom;d.bottom+=n,d=Lhe(d,o,a);var h=e-d.left-d.right,p=t-d.top-d.bottom;return aa(aa({brushBottom:f},d),{},{width:Math.max(h,0),height:Math.max(p,0)})}),tpe=Q(Fr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),S6=Q(Vo,Wo,(e,t)=>({x:0,y:0,width:e,height:t})),rpe=w.createContext(null),Ps=()=>w.useContext(rpe)!=null,Kv=e=>e.brush,Hv=Q([Kv,Fr,x6],(e,t,r)=>({height:e.height,x:Ae(e.x)?e.x:t.left,y:Ae(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:Ae(e.width)?e.width:t.width})),Oj=()=>{var e,t=Ps(),r=Re(tpe),n=Re(Hv),s=(e=Re(Kv))===null||e===void 0?void 0:e.padding;return!t||!n||!s?r:{width:n.width-s.left-s.right,height:n.height-s.top-s.bottom,x:s.left,y:s.top}},npe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},E6=()=>{var e;return(e=Re(Fr))!==null&&e!==void 0?e:npe},Dj=()=>Re(Vo),Rj=()=>Re(Wo),spe={top:0,right:0,bottom:0,left:0},ipe=()=>{var e;return(e=Re(t=>t.layout.margin))!==null&&e!==void 0?e:spe},xt=e=>e.layout.layoutType,$j=()=>Re(xt),ope={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},j6=ts({name:"legend",initialState:ope,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=_o(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:kO,setLegendSettings:ape,addLegendPayload:N6,removeLegendPayload:k6}=j6.actions,lpe=j6.reducer,cpe=["contextPayload"];function R1(){return R1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R1.apply(null,arguments)}function CO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ku(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CO(Object(r),!0).forEach(function(n){Ij(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ij(e,t,r){return(t=upe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function upe(e){var t=dpe(e,"string");return typeof t=="symbol"?t:t+""}function dpe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fpe(e,t){if(e==null)return{};var r,n,s=hpe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function hpe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ppe(e){return e.value}function mpe(e){var{contextPayload:t}=e,r=fpe(e,cpe),n=OF(t,e.payloadUniqBy,ppe),s=Ku(Ku({},r),{},{payload:n});return S.isValidElement(e.content)?S.cloneElement(e.content,s):typeof e.content=="function"?S.createElement(e.content,s):S.createElement(pj,s)}function gpe(e,t,r,n,s,i){var{layout:o,align:a,verticalAlign:l}=t,c,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(a==="center"&&o==="vertical"?c={left:((n||0)-i.width)/2}:c=a==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?d={top:((s||0)-i.height)/2}:d=l==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Ku(Ku({},c),d)}function ype(e){var t=Gt();return w.useEffect(()=>{t(ape(e))},[t,e]),null}function vpe(e){var t=Gt();return w.useEffect(()=>(t(kO(e)),()=>{t(kO({width:0,height:0}))}),[t,e]),null}function bpe(e){var t=pfe(),r=Yue(),n=ipe(),{width:s,height:i,wrapperStyle:o,portal:a}=e,[l,c]=zF([t]),d=Dj(),f=Rj(),h=d-(n.left||0)-(n.right||0),p=vh.getWidthOrHeight(e.layout,i,s,h),g=a?o:Ku(Ku({position:"absolute",width:(p==null?void 0:p.width)||s||"auto",height:(p==null?void 0:p.height)||i||"auto"},gpe(o,e,n,d,f,l)),o),m=a??r;if(m==null)return null;var y=S.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:c},S.createElement(ype,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),S.createElement(vpe,{width:l.width,height:l.height}),S.createElement(mpe,R1({},e,p,{margin:n,chartWidth:d,chartHeight:f,contextPayload:t})));return Li.createPortal(y,m)}class vh extends w.PureComponent{static getWidthOrHeight(t,r,n,s){return t==="vertical"&&Ae(r)?{height:r}:t==="horizontal"?{width:n||s}:null}render(){return S.createElement(bpe,this.props)}}Ij(vh,"displayName","Legend");Ij(vh,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function $1(){return $1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$1.apply(null,arguments)}function TO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TO(Object(r),!0).forEach(function(n){xpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xpe(e,t,r){return(t=wpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wpe(e){var t=_pe(e,"string");return typeof t=="symbol"?t:t+""}function _pe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Spe(e){return Array.isArray(e)&&zi(e[0])&&zi(e[1])?e.join(" ~ "):e}var Epe=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:s={},payload:i,formatter:o,itemSorter:a,wrapperClassName:l,labelClassName:c,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,p=()=>{if(i&&i.length){var _={padding:0,margin:0},N=(a?Lv(i,a):i).map((k,C)=>{if(k.type==="none")return null;var T=k.formatter||o||Spe,{value:$,name:M}=k,L=$,D=M;if(T){var z=T($,M,k,C,i);if(Array.isArray(z))[L,D]=z;else if(z!=null)L=z;else return null}var U=dx({display:"block",paddingTop:4,paddingBottom:4,color:k.color||"#000"},n);return S.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(C),style:U},zi(D)?S.createElement("span",{className:"recharts-tooltip-item-name"},D):null,zi(D)?S.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,S.createElement("span",{className:"recharts-tooltip-item-value"},L),S.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return S.createElement("ul",{className:"recharts-tooltip-item-list",style:_},N)}return null},g=dx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),m=dx({margin:0},s),y=!hr(d),v=y?d:"",b=rt("recharts-default-tooltip",l),x=rt("recharts-tooltip-label",c);y&&f&&i!==void 0&&i!==null&&(v=f(d,i));var E=h?{role:"status","aria-live":"assertive"}:{};return S.createElement("div",$1({className:b,style:g},E),S.createElement("p",{className:x,style:m},S.isValidElement(v)?v:"".concat(v)),p())},tf="recharts-tooltip-wrapper",jpe={visibility:"hidden"};function Npe(e){var{coordinate:t,translateX:r,translateY:n}=e;return rt(tf,{["".concat(tf,"-right")]:Ae(r)&&t&&Ae(t.x)&&r>=t.x,["".concat(tf,"-left")]:Ae(r)&&t&&Ae(t.x)&&r<t.x,["".concat(tf,"-bottom")]:Ae(n)&&t&&Ae(t.y)&&n>=t.y,["".concat(tf,"-top")]:Ae(n)&&t&&Ae(t.y)&&n<t.y})}function AO(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:s,position:i,reverseDirection:o,tooltipDimension:a,viewBox:l,viewBoxDimension:c}=e;if(i&&Ae(i[n]))return i[n];var d=r[n]-a-(s>0?s:0),f=r[n]+s;if(t[n])return o[n]?d:f;var h=l[n];if(h==null)return 0;if(o[n]){var p=d,g=h;return p<g?Math.max(f,h):Math.max(d,h)}if(c==null)return 0;var m=f+a,y=h+c;return m>y?Math.max(d,h):Math.max(f,h)}function kpe(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Cpe(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:s,reverseDirection:i,tooltipBox:o,useTranslate3d:a,viewBox:l}=e,c,d,f;return o.height>0&&o.width>0&&r?(d=AO({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=AO({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=kpe({translateX:d,translateY:f,useTranslate3d:a})):c=jpe,{cssProperties:c,cssClasses:Npe({translateX:d,translateY:f,coordinate:r})}}function PO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PO(Object(r),!0).forEach(function(n){I1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I1(e,t,r){return(t=Tpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tpe(e){var t=Ape(e,"string");return typeof t=="symbol"?t:t+""}function Ape(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Ppe extends w.PureComponent{constructor(){super(...arguments),I1(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),I1(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,s,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(s=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:s,children:i,coordinate:o,hasPayload:a,isAnimationActive:l,offset:c,position:d,reverseDirection:f,useTranslate3d:h,viewBox:p,wrapperStyle:g,lastBoundingBox:m,innerRef:y,hasPortalFromProps:v}=this.props,{cssClasses:b,cssProperties:x}=Cpe({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:c,position:d,reverseDirection:f,tooltipBox:{height:m.height,width:m.width},useTranslate3d:h,viewBox:p}),E=v?{}:wm(wm({transition:l&&t?"transform ".concat(n,"ms ").concat(s):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&a?"visible":"hidden",position:"absolute",top:0,left:0}),_=wm(wm({},E),{},{visibility:!this.state.dismissed&&t&&a?"visible":"hidden"},g);return S.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:_,ref:y},i)}}var Ope=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),xd={isSsr:Ope()},C6=()=>Re(e=>e.rootProps.accessibilityLayer);function ai(e){return Number.isFinite(e)}function Hu(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function M1(){return M1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M1.apply(null,arguments)}function OO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function DO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OO(Object(r),!0).forEach(function(n){Dpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dpe(e,t,r){return(t=Rpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rpe(e){var t=$pe(e,"string");return typeof t=="symbol"?t:t+""}function $pe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RO={curveBasisClosed:hde,curveBasisOpen:pde,curveBasis:fde,curveBumpX:Jue,curveBumpY:Que,curveLinearClosed:mde,curveLinear:Ov,curveMonotoneX:gde,curveMonotoneY:yde,curveNatural:vde,curveStep:bde,curveStepAfter:wde,curveStepBefore:xde},_m=e=>ai(e.x)&&ai(e.y),rf=e=>e.x,nf=e=>e.y,Ipe=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(rp(e));return(r==="curveMonotone"||r==="curveBump")&&t?RO["".concat(r).concat(t==="vertical"?"Y":"X")]:RO[r]||Ov},Mpe=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:s,connectNulls:i=!1}=e,o=Ipe(t,s),a=i?r.filter(_m):r,l;if(Array.isArray(n)){var c=i?n.filter(f=>_m(f)):n,d=a.map((f,h)=>DO(DO({},f),{},{base:c[h]}));return s==="vertical"?l=pm().y(nf).x1(rf).x0(f=>f.base.x):l=pm().x(rf).y1(nf).y0(f=>f.base.y),l.defined(_m).curve(o),l(d)}return s==="vertical"&&Ae(n)?l=pm().y(nf).x1(rf).x0(n):Ae(n)?l=pm().x(rf).y1(nf).y0(n):l=iF().x(rf).y(nf),l.defined(_m).curve(o),l(a)},Mj=e=>{var{className:t,points:r,path:n,pathRef:s}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?Mpe(e):n;return S.createElement("path",M1({},Za(e),oj(e),{className:rt("recharts-curve",t),d:i===null?void 0:i,ref:s}))},Lpe=["x","y","top","left","width","height","className"];function L1(){return L1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L1.apply(null,arguments)}function $O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Fpe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$O(Object(r),!0).forEach(function(n){Bpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$O(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bpe(e,t,r){return(t=zpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zpe(e){var t=Upe(e,"string");return typeof t=="symbol"?t:t+""}function Upe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qpe(e,t){if(e==null)return{};var r,n,s=Vpe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Vpe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Wpe=(e,t,r,n,s,i)=>"M".concat(e,",").concat(s,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),Kpe=e=>{var{x:t=0,y:r=0,top:n=0,left:s=0,width:i=0,height:o=0,className:a}=e,l=qpe(e,Lpe),c=Fpe({x:t,y:r,top:n,left:s,width:i,height:o},l);return!Ae(t)||!Ae(r)||!Ae(i)||!Ae(o)||!Ae(n)||!Ae(s)?null:S.createElement("path",L1({},Ht(c,!0),{className:rt("recharts-cross",a),d:Wpe(t,r,i,o,n,s)}))};function Hpe(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function IO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ype(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IO(Object(r),!0).forEach(function(n){Gpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gpe(e,t,r){return(t=Zpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zpe(e){var t=Xpe(e,"string");return typeof t=="symbol"?t:t+""}function Xpe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Os(e,t){var r=Ype({},e),n=t,s=Object.keys(t),i=s.reduce((o,a)=>(o[a]===void 0&&n[a]!==void 0&&(o[a]=n[a]),o),r);return i}var T6={},A6={},P6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}e.isPlainObject=t})(P6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P6,r=xj,n=Iv,s=Mv,i=$v;function o(c,d,f){return a(c,d,void 0,void 0,void 0,void 0,f)}function a(c,d,f,h,p,g,m){const y=m(c,d,f,h,p,g);if(y!==void 0)return y;if(typeof c==typeof d)switch(typeof c){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return c===d;case"number":return c===d||Object.is(c,d);case"function":return c===d;case"object":return l(c,d,g,m)}return l(c,d,g,m)}function l(c,d,f,h){if(Object.is(c,d))return!0;let p=n.getTag(c),g=n.getTag(d);if(p===s.argumentsTag&&(p=s.objectTag),g===s.argumentsTag&&(g=s.objectTag),p!==g)return!1;switch(p){case s.stringTag:return c.toString()===d.toString();case s.numberTag:{const v=c.valueOf(),b=d.valueOf();return i.eq(v,b)}case s.booleanTag:case s.dateTag:case s.symbolTag:return Object.is(c.valueOf(),d.valueOf());case s.regexpTag:return c.source===d.source&&c.flags===d.flags;case s.functionTag:return c===d}f=f??new Map;const m=f.get(c),y=f.get(d);if(m!=null&&y!=null)return m===d;f.set(c,d),f.set(d,c);try{switch(p){case s.mapTag:{if(c.size!==d.size)return!1;for(const[v,b]of c.entries())if(!d.has(v)||!a(b,d.get(v),v,c,d,f,h))return!1;return!0}case s.setTag:{if(c.size!==d.size)return!1;const v=Array.from(c.values()),b=Array.from(d.values());for(let x=0;x<v.length;x++){const E=v[x],_=b.findIndex(N=>a(E,N,void 0,c,d,f,h));if(_===-1)return!1;b.splice(_,1)}return!0}case s.arrayTag:case s.uint8ArrayTag:case s.uint8ClampedArrayTag:case s.uint16ArrayTag:case s.uint32ArrayTag:case s.bigUint64ArrayTag:case s.int8ArrayTag:case s.int16ArrayTag:case s.int32ArrayTag:case s.bigInt64ArrayTag:case s.float32ArrayTag:case s.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(c)!==Buffer.isBuffer(d)||c.length!==d.length)return!1;for(let v=0;v<c.length;v++)if(!a(c[v],d[v],v,c,d,f,h))return!1;return!0}case s.arrayBufferTag:return c.byteLength!==d.byteLength?!1:l(new Uint8Array(c),new Uint8Array(d),f,h);case s.dataViewTag:return c.byteLength!==d.byteLength||c.byteOffset!==d.byteOffset?!1:l(new Uint8Array(c),new Uint8Array(d),f,h);case s.errorTag:return c.name===d.name&&c.message===d.message;case s.objectTag:{if(!(l(c.constructor,d.constructor,f,h)||t.isPlainObject(c)&&t.isPlainObject(d)))return!1;const b=[...Object.keys(c),...r.getSymbols(c)],x=[...Object.keys(d),...r.getSymbols(d)];if(b.length!==x.length)return!1;for(let E=0;E<b.length;E++){const _=b[E],N=c[_];if(!Object.hasOwn(d,_))return!1;const k=d[_];if(!a(N,k,_,c,d,f,h))return!1}return!0}default:return!1}}finally{f.delete(c),f.delete(d)}}e.isEqualWith=o})(A6);var O6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t})(O6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A6,r=O6;function n(s,i){return t.isEqualWith(s,i,r.noop)}e.isEqual=n})(T6);var Jpe=T6.isEqual;const Qpe=ci(Jpe);var Gg=1e-4,D6=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],R6=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),MO=(e,t)=>r=>{var n=D6(e,t);return R6(n,r)},eme=(e,t)=>r=>{var n=D6(e,t),s=[...n.map((i,o)=>i*o).slice(1),0];return R6(s,r)},LO=function(){for(var t,r,n,s,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];if(o.length===1)switch(o[0]){case"linear":[t,n,r,s]=[0,0,1,1];break;case"ease":[t,n,r,s]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,s]=[.42,0,1,1];break;case"ease-out":[t,n,r,s]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,s]=[0,0,.58,1];break;default:{var l=o[0].split("(");l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4&&([t,n,r,s]=l[1].split(")")[0].split(",").map(g=>parseFloat(g)))}}else o.length===4&&([t,n,r,s]=o);var c=MO(t,r),d=MO(n,s),f=eme(t,r),h=g=>g>1?1:g<0?0:g,p=g=>{for(var m=g>1?1:g,y=m,v=0;v<8;++v){var b=c(y)-m,x=f(y);if(Math.abs(b-m)<Gg||x<Gg)return d(y);y=h(y-b/x)}return d(y)};return p.isStepper=!1,p},tme=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:s=17}=t,i=(o,a,l)=>{var c=-(o-a)*r,d=l*n,f=l+(c-d)*s/1e3,h=l*s/1e3+o;return Math.abs(h-a)<Gg&&Math.abs(f)<Gg?[a,0]:[h,f]};return i.isStepper=!0,i.dt=s,i},$6=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return LO(e);case"spring":return tme();default:if(e.split("(")[0]==="cubic-bezier")return LO(e)}return typeof e=="function"?e:null};function FO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function BO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FO(Object(r),!0).forEach(function(n){rme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rme(e,t,r){return(t=nme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nme(e){var t=sme(e,"string");return typeof t=="symbol"?t:t+""}function sme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ime=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),ome=(e,t,r)=>e.map(n=>"".concat(ime(n)," ").concat(t,"ms ").concat(r)).join(","),ame=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(s=>n.includes(s))),bh=(e,t)=>Object.keys(t).reduce((r,n)=>BO(BO({},r),{},{[n]:e(n,t[n])}),{});function zO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zO(Object(r),!0).forEach(function(n){lme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lme(e,t,r){return(t=cme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cme(e){var t=ume(e,"string");return typeof t=="symbol"?t:t+""}function ume(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zg=(e,t,r)=>e+(t-e)*r,F1=e=>{var{from:t,to:r}=e;return t!==r},I6=(e,t,r)=>{var n=bh((s,i)=>{if(F1(i)){var[o,a]=e(i.from,i.to,i.velocity);return Wr(Wr({},i),{},{from:o,velocity:a})}return i},t);return r<1?bh((s,i)=>F1(i)?Wr(Wr({},i),{},{velocity:Zg(i.velocity,n[s].velocity,r),from:Zg(i.from,n[s].from,r)}):i,t):I6(e,n,r-1)};function dme(e,t,r,n,s,i){var o,a=n.reduce((h,p)=>Wr(Wr({},h),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),l=()=>bh((h,p)=>p.from,a),c=()=>!Object.values(a).filter(F1).length,d=null,f=h=>{o||(o=h);var p=h-o,g=p/r.dt;a=I6(r,a,g),s(Wr(Wr(Wr({},e),t),l())),o=h,c()||(d=i.setTimeout(f))};return()=>(d=i.setTimeout(f),()=>{d()})}function fme(e,t,r,n,s,i,o){var a=null,l=s.reduce((f,h)=>Wr(Wr({},f),{},{[h]:[e[h],t[h]]}),{}),c,d=f=>{c||(c=f);var h=(f-c)/n,p=bh((m,y)=>Zg(...y,r(h)),l);if(i(Wr(Wr(Wr({},e),t),p)),h<1)a=o.setTimeout(d);else{var g=bh((m,y)=>Zg(...y,r(1)),l);i(Wr(Wr(Wr({},e),t),g))}};return()=>(a=o.setTimeout(d),()=>{a()})}const M6=(e,t,r,n,s,i)=>{var o=ame(e,t);return r.isStepper===!0?dme(e,t,r,o,s,i):fme(e,t,r,n,o,s,i)};function hme(e){var t,r=()=>null,n=!1,s=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,[l,...c]=a;if(typeof l=="number"){s=e.setTimeout(i.bind(null,c),l);return}i(l),s=e.setTimeout(i.bind(null,c));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,s&&(s(),s=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class pme{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),s=null,i=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(i))};return s=requestAnimationFrame(i),()=>{cancelAnimationFrame(s)}}}function mme(){return hme(new pme)}var gme=w.createContext(mme);function L6(e,t){var r=w.useContext(gme);return w.useMemo(()=>t??r(e),[e,t,r])}var yme=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function B1(){return B1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B1.apply(null,arguments)}function vme(e,t){if(e==null)return{};var r,n,s=bme(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function bme(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function UO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function la(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UO(Object(r),!0).forEach(function(n){kl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kl(e,t,r){return(t=xme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xme(e){var t=wme(e,"string");return typeof t=="symbol"?t:t+""}function wme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Lj extends w.PureComponent{constructor(t,r){super(t,r),kl(this,"mounted",!1),kl(this,"manager",void 0),kl(this,"stopJSAnimation",null),kl(this,"unSubscribe",null);var{isActive:n,attributeName:s,from:i,to:o,children:a,duration:l,animationManager:c}=this.props;if(this.manager=c,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||l<=0){this.state={style:{}},typeof a=="function"&&(this.state={style:o});return}if(i){if(typeof a=="function"){this.state={style:i};return}this.state={style:s?{[s]:i}:i}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:r}=this.props;this.mounted=!0,!(!t||!r)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:r,canBegin:n,attributeName:s,shouldReAnimate:i,to:o,from:a}=this.props,{style:l}=this.state;if(n){if(!r){var c={style:s?{[s]:o}:o};this.state&&l&&(s&&l[s]!==o||!s&&l!==o)&&this.setState(c);return}if(!(Qpe(t.to,o)&&t.canBegin&&t.isActive)){var d=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var f=d||i?a:t.to;if(this.state&&l){var h={style:s?{[s]:f}:f};(s&&l[s]!==f||!s&&l!==f)&&this.setState(h)}this.runAnimation(la(la({},this.props),{},{from:f,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:r,to:n,duration:s,easing:i,begin:o,onAnimationEnd:a,onAnimationStart:l}=t,c=M6(r,n,$6(i),s,this.changeStyle,this.manager.getTimeoutController()),d=()=>{this.stopJSAnimation=c()};this.manager.start([l,o,d,s,a])}runAnimation(t){var{begin:r,duration:n,attributeName:s,to:i,easing:o,onAnimationStart:a,onAnimationEnd:l,children:c}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof o=="function"||typeof c=="function"||o==="spring"){this.runJSAnimation(t);return}var d=s?{[s]:i}:i,f=ome(Object.keys(d),n,o);this.manager.start([a,r,la(la({},d),{},{transition:f}),n,l])}render(){var t=this.props,{children:r,begin:n,duration:s,attributeName:i,easing:o,isActive:a,from:l,to:c,canBegin:d,onAnimationEnd:f,shouldReAnimate:h,onAnimationReStart:p,animationManager:g}=t,m=vme(t,yme),y=w.Children.count(r),v=this.state.style;if(typeof r=="function")return r(v);if(!a||y===0||s<=0)return r;var b=x=>{var{style:E={},className:_}=x.props,N=w.cloneElement(x,la(la({},m),{},{style:la(la({},E),v),className:_}));return N};return y===1?b(w.Children.only(r)):S.createElement("div",null,w.Children.map(r,x=>b(x)))}}kl(Lj,"displayName","Animate");kl(Lj,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function Xg(e){var t,r=L6((t=e.attributeName)!==null&&t!==void 0?t:Object.keys(e.to).join(","),e.animationManager);return S.createElement(Lj,B1({},e,{animationManager:r}))}function Jg(){return Jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jg.apply(null,arguments)}var qO=(e,t,r,n,s)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,a=r>=0?1:-1,l=n>=0&&r>=0||n<0&&r<0?1:0,c;if(i>0&&s instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=s[f]>i?i:s[f];c="M".concat(e,",").concat(t+o*d[0]),d[0]>0&&(c+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(l,",").concat(e+a*d[0],",").concat(t)),c+="L ".concat(e+r-a*d[1],",").concat(t),d[1]>0&&(c+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(l,`,
        `).concat(e+r,",").concat(t+o*d[1])),c+="L ".concat(e+r,",").concat(t+n-o*d[2]),d[2]>0&&(c+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(l,`,
        `).concat(e+r-a*d[2],",").concat(t+n)),c+="L ".concat(e+a*d[3],",").concat(t+n),d[3]>0&&(c+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(t+n-o*d[3])),c+="Z"}else if(i>0&&s===+s&&s>0){var p=Math.min(i,s);c="M ".concat(e,",").concat(t+o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+a*p,",").concat(t,`
            L `).concat(e+r-a*p,",").concat(t,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+r,",").concat(t+o*p,`
            L `).concat(e+r,",").concat(t+n-o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+r-a*p,",").concat(t+n,`
            L `).concat(e+a*p,",").concat(t+n,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e,",").concat(t+n-o*p," Z")}else c="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return c},_me={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},F6=e=>{var t=Os(e,_me),r=w.useRef(null),[n,s]=w.useState(-1);w.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var v=r.current.getTotalLength();v&&s(v)}catch{}},[]);var{x:i,y:o,width:a,height:l,radius:c,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:p,isAnimationActive:g,isUpdateAnimationActive:m}=t;if(i!==+i||o!==+o||a!==+a||l!==+l||a===0||l===0)return null;var y=rt("recharts-rectangle",d);return m?S.createElement(Xg,{canBegin:n>0,from:{width:a,height:l,x:i,y:o},to:{width:a,height:l,x:i,y:o},duration:h,animationEasing:f,isActive:m},v=>{var{width:b,height:x,x:E,y:_}=v;return S.createElement(Xg,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:h,isActive:g,easing:f},S.createElement("path",Jg({},Ht(t,!0),{className:y,d:qO(E,_,b,x,c),ref:r})))}):S.createElement("path",Jg({},Ht(t,!0),{className:y,d:qO(i,o,a,l,c)}))};function B6(e){var{cx:t,cy:r,radius:n,startAngle:s,endAngle:i}=e,o=fr(t,r,n,s),a=fr(t,r,n,i);return{points:[o,a],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function z1(){return z1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},z1.apply(null,arguments)}var Sme=(e,t)=>{var r=an(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Sm=e=>{var{cx:t,cy:r,radius:n,angle:s,sign:i,isExternal:o,cornerRadius:a,cornerIsExternal:l}=e,c=a*(o?1:-1)+n,d=Math.asin(a/c)/Yg,f=l?s:s+i*d,h=fr(t,r,c,f),p=fr(t,r,n,f),g=l?s-i*d:s,m=fr(t,r,c*Math.cos(d*Yg),g);return{center:h,circleTangency:p,lineTangency:m,theta:d}},z6=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:i,endAngle:o}=e,a=Sme(i,o),l=i+a,c=fr(t,r,s,i),d=fr(t,r,s,l),f="M ".concat(c.x,",").concat(c.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(a)>180),",").concat(+(i>l),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var h=fr(t,r,n,i),p=fr(t,r,n,l);f+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(a)>180),",").concat(+(i<=l),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},Eme=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:a,startAngle:l,endAngle:c}=e,d=an(c-l),{circleTangency:f,lineTangency:h,theta:p}=Sm({cx:t,cy:r,radius:s,angle:l,sign:d,cornerRadius:i,cornerIsExternal:a}),{circleTangency:g,lineTangency:m,theta:y}=Sm({cx:t,cy:r,radius:s,angle:c,sign:-d,cornerRadius:i,cornerIsExternal:a}),v=a?Math.abs(l-c):Math.abs(l-c)-p-y;if(v<0)return o?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):z6({cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:l,endAngle:c});var b="M ".concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(v>180),",").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(m.x,",").concat(m.y,`
  `);if(n>0){var{circleTangency:x,lineTangency:E,theta:_}=Sm({cx:t,cy:r,radius:n,angle:l,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:a}),{circleTangency:N,lineTangency:k,theta:C}=Sm({cx:t,cy:r,radius:n,angle:c,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:a}),T=a?Math.abs(l-c):Math.abs(l-c)-_-C;if(T<0&&i===0)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+="L".concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(T>180),",").concat(+(d>0),",").concat(x.x,",").concat(x.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(E.x,",").concat(E.y,"Z")}else b+="L".concat(t,",").concat(r,"Z");return b},jme={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},U6=e=>{var t=Os(e,jme),{cx:r,cy:n,innerRadius:s,outerRadius:i,cornerRadius:o,forceCornerRadius:a,cornerIsExternal:l,startAngle:c,endAngle:d,className:f}=t;if(i<s||c===d)return null;var h=rt("recharts-sector",f),p=i-s,g=Es(o,p,0,!0),m;return g>0&&Math.abs(c-d)<360?m=Eme({cx:r,cy:n,innerRadius:s,outerRadius:i,cornerRadius:Math.min(g,p/2),forceCornerRadius:a,cornerIsExternal:l,startAngle:c,endAngle:d}):m=z6({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:c,endAngle:d}),S.createElement("path",z1({},Ht(t,!0),{className:h,d:m}))};function Nme(e,t,r){var n,s,i,o;if(e==="horizontal")n=t.x,i=n,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:a,cy:l,innerRadius:c,outerRadius:d,angle:f}=t,h=fr(a,l,c,f),p=fr(a,l,d,f);n=h.x,s=h.y,i=p.x,o=p.y}else return B6(t);return[{x:n,y:s},{x:i,y:o}]}var q6={},V6={},W6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sj;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(W6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W6;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(V6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ej,r=V6;function n(s,i,o){o&&typeof o!="number"&&t.isIterateeCall(s,i,o)&&(i=o=void 0),s=r.toFinite(s),i===void 0?(i=s,s=0):i=r.toFinite(i),o=o===void 0?s<i?1:-1:r.toFinite(o);const a=Math.max(Math.ceil((i-s)/(o||1)),0),l=new Array(a);for(let c=0;c<a;c++)l[c]=s,s+=o;return l}e.range=n})(q6);var kme=q6.range;const K6=ci(kme);function Ra(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Cme(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Fj(e){let t,r,n;e.length!==2?(t=Ra,r=(a,l)=>Ra(e(a),l),n=(a,l)=>e(a)-l):(t=e===Ra||e===Cme?e:Tme,r=e,n=e);function s(a,l,c=0,d=a.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;r(a[f],l)<0?c=f+1:d=f}while(c<d)}return c}function i(a,l,c=0,d=a.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;r(a[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function o(a,l,c=0,d=a.length){const f=s(a,l,c,d-1);return f>c&&n(a[f-1],l)>-n(a[f],l)?f-1:f}return{left:s,center:o,right:i}}function Tme(){return 0}function H6(e){return e===null?NaN:+e}function*Ame(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Pme=Fj(Ra),op=Pme.right;Fj(H6).center;class VO extends Map{constructor(t,r=Rme){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(WO(this,t))}has(t){return super.has(WO(this,t))}set(t,r){return super.set(Ome(this,t),r)}delete(t){return super.delete(Dme(this,t))}}function WO({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Ome({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Dme({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Rme(e){return e!==null&&typeof e=="object"?e.valueOf():e}function $me(e=Ra){if(e===Ra)return Y6;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function Y6(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Ime=Math.sqrt(50),Mme=Math.sqrt(10),Lme=Math.sqrt(2);function Qg(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=Ime?10:i>=Mme?5:i>=Lme?2:1;let a,l,c;return s<0?(c=Math.pow(10,-s)/o,a=Math.round(e*c),l=Math.round(t*c),a/c<e&&++a,l/c>t&&--l,c=-c):(c=Math.pow(10,s)*o,a=Math.round(e/c),l=Math.round(t/c),a*c<e&&++a,l*c>t&&--l),l<a&&.5<=r&&r<2?Qg(e,t,r*2):[a,l,c]}function U1(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,o]=n?Qg(t,e,r):Qg(e,t,r);if(!(i>=s))return[];const a=i-s+1,l=new Array(a);if(n)if(o<0)for(let c=0;c<a;++c)l[c]=(i-c)/-o;else for(let c=0;c<a;++c)l[c]=(i-c)*o;else if(o<0)for(let c=0;c<a;++c)l[c]=(s+c)/-o;else for(let c=0;c<a;++c)l[c]=(s+c)*o;return l}function q1(e,t,r){return t=+t,e=+e,r=+r,Qg(e,t,r)[2]}function V1(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?q1(t,e,r):q1(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function KO(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function HO(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function G6(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?Y6:$me(s);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(t-c*f/l+h)),g=Math.min(n,Math.floor(t+(l-c)*f/l+h));G6(e,t,p,g,s)}const i=e[t];let o=r,a=n;for(sf(e,r,t),s(e[n],i)>0&&sf(e,r,n);o<a;){for(sf(e,o,a),++o,--a;s(e[o],i)<0;)++o;for(;s(e[a],i)>0;)--a}s(e[r],i)===0?sf(e,r,a):(++a,sf(e,a,n)),a<=t&&(r=a+1),t<=a&&(n=a-1)}return e}function sf(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Fme(e,t,r){if(e=Float64Array.from(Ame(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return HO(e);if(t>=1)return KO(e);var n,s=(n-1)*t,i=Math.floor(s),o=KO(G6(e,i).subarray(0,i+1)),a=HO(e.subarray(i+1));return o+(a-o)*(s-i)}}function Bme(e,t,r=H6){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),o=+r(e[i],i,e),a=+r(e[i+1],i+1,e);return o+(a-o)*(s-i)}}function zme(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function Ds(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ko(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const W1=Symbol("implicit");function Bj(){var e=new VO,t=[],r=[],n=W1;function s(i){let o=e.get(i);if(o===void 0){if(n!==W1)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new VO;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return Bj(t,r).unknown(n)},Ds.apply(s,arguments),s}function zj(){var e=Bj().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,o,a=!1,l=0,c=0,d=.5;delete e.unknown;function f(){var h=t().length,p=s<n,g=p?s:n,m=p?n:s;i=(m-g)/Math.max(1,h-l+c*2),a&&(i=Math.floor(i)),g+=(m-g-i*(h-l))*d,o=i*(1-l),a&&(g=Math.round(g),o=Math.round(o));var y=zme(h).map(function(v){return g+i*v});return r(p?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,s]=h,n=+n,s=+s,f()):[n,s]},e.rangeRound=function(h){return[n,s]=h,n=+n,s=+s,a=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(a=!!h,f()):a},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return zj(t(),[n,s]).round(a).paddingInner(l).paddingOuter(c).align(d)},Ds.apply(f(),arguments)}function Z6(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Z6(t())},e}function Ume(){return Z6(zj.apply(null,arguments).paddingInner(1))}function Uj(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function X6(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function ap(){}var xh=.7,ey=1/xh,wu="\\s*([+-]?\\d+)\\s*",wh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ri="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qme=/^#([0-9a-f]{3,8})$/,Vme=new RegExp(`^rgb\\(${wu},${wu},${wu}\\)$`),Wme=new RegExp(`^rgb\\(${Ri},${Ri},${Ri}\\)$`),Kme=new RegExp(`^rgba\\(${wu},${wu},${wu},${wh}\\)$`),Hme=new RegExp(`^rgba\\(${Ri},${Ri},${Ri},${wh}\\)$`),Yme=new RegExp(`^hsl\\(${wh},${Ri},${Ri}\\)$`),Gme=new RegExp(`^hsla\\(${wh},${Ri},${Ri},${wh}\\)$`),YO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Uj(ap,_h,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:GO,formatHex:GO,formatHex8:Zme,formatHsl:Xme,formatRgb:ZO,toString:ZO});function GO(){return this.rgb().formatHex()}function Zme(){return this.rgb().formatHex8()}function Xme(){return J6(this).formatHsl()}function ZO(){return this.rgb().formatRgb()}function _h(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=qme.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?XO(t):r===3?new On(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Em(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Em(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Vme.exec(e))?new On(t[1],t[2],t[3],1):(t=Wme.exec(e))?new On(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Kme.exec(e))?Em(t[1],t[2],t[3],t[4]):(t=Hme.exec(e))?Em(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Yme.exec(e))?e2(t[1],t[2]/100,t[3]/100,1):(t=Gme.exec(e))?e2(t[1],t[2]/100,t[3]/100,t[4]):YO.hasOwnProperty(e)?XO(YO[e]):e==="transparent"?new On(NaN,NaN,NaN,0):null}function XO(e){return new On(e>>16&255,e>>8&255,e&255,1)}function Em(e,t,r,n){return n<=0&&(e=t=r=NaN),new On(e,t,r,n)}function Jme(e){return e instanceof ap||(e=_h(e)),e?(e=e.rgb(),new On(e.r,e.g,e.b,e.opacity)):new On}function K1(e,t,r,n){return arguments.length===1?Jme(e):new On(e,t,r,n??1)}function On(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Uj(On,K1,X6(ap,{brighter(e){return e=e==null?ey:Math.pow(ey,e),new On(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?xh:Math.pow(xh,e),new On(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new On(zl(this.r),zl(this.g),zl(this.b),ty(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:JO,formatHex:JO,formatHex8:Qme,formatRgb:QO,toString:QO}));function JO(){return`#${Cl(this.r)}${Cl(this.g)}${Cl(this.b)}`}function Qme(){return`#${Cl(this.r)}${Cl(this.g)}${Cl(this.b)}${Cl((isNaN(this.opacity)?1:this.opacity)*255)}`}function QO(){const e=ty(this.opacity);return`${e===1?"rgb(":"rgba("}${zl(this.r)}, ${zl(this.g)}, ${zl(this.b)}${e===1?")":`, ${e})`}`}function ty(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function zl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Cl(e){return e=zl(e),(e<16?"0":"")+e.toString(16)}function e2(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Qs(e,t,r,n)}function J6(e){if(e instanceof Qs)return new Qs(e.h,e.s,e.l,e.opacity);if(e instanceof ap||(e=_h(e)),!e)return new Qs;if(e instanceof Qs)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,a=i-s,l=(i+s)/2;return a?(t===i?o=(r-n)/a+(r<n)*6:r===i?o=(n-t)/a+2:o=(t-r)/a+4,a/=l<.5?i+s:2-i-s,o*=60):a=l>0&&l<1?0:o,new Qs(o,a,l,e.opacity)}function ege(e,t,r,n){return arguments.length===1?J6(e):new Qs(e,t,r,n??1)}function Qs(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Uj(Qs,ege,X6(ap,{brighter(e){return e=e==null?ey:Math.pow(ey,e),new Qs(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?xh:Math.pow(xh,e),new Qs(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new On(fx(e>=240?e-240:e+120,s,n),fx(e,s,n),fx(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new Qs(t2(this.h),jm(this.s),jm(this.l),ty(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ty(this.opacity);return`${e===1?"hsl(":"hsla("}${t2(this.h)}, ${jm(this.s)*100}%, ${jm(this.l)*100}%${e===1?")":`, ${e})`}`}}));function t2(e){return e=(e||0)%360,e<0?e+360:e}function jm(e){return Math.max(0,Math.min(1,e||0))}function fx(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const qj=e=>()=>e;function tge(e,t){return function(r){return e+r*t}}function rge(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function nge(e){return(e=+e)==1?Q6:function(t,r){return r-t?rge(t,r,e):qj(isNaN(t)?r:t)}}function Q6(e,t){var r=t-e;return r?tge(e,r):qj(isNaN(e)?t:e)}const r2=function e(t){var r=nge(t);function n(s,i){var o=r((s=K1(s)).r,(i=K1(i)).r),a=r(s.g,i.g),l=r(s.b,i.b),c=Q6(s.opacity,i.opacity);return function(d){return s.r=o(d),s.g=a(d),s.b=l(d),s.opacity=c(d),s+""}}return n.gamma=e,n}(1);function sge(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function ige(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function oge(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=wd(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(a){for(o=0;o<n;++o)i[o]=s[o](a);return i}}function age(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function ry(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function lge(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=wd(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var H1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hx=new RegExp(H1.source,"g");function cge(e){return function(){return e}}function uge(e){return function(t){return e(t)+""}}function dge(e,t){var r=H1.lastIndex=hx.lastIndex=0,n,s,i,o=-1,a=[],l=[];for(e=e+"",t=t+"";(n=H1.exec(e))&&(s=hx.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),a[o]?a[o]+=i:a[++o]=i),(n=n[0])===(s=s[0])?a[o]?a[o]+=s:a[++o]=s:(a[++o]=null,l.push({i:o,x:ry(n,s)})),r=hx.lastIndex;return r<t.length&&(i=t.slice(r),a[o]?a[o]+=i:a[++o]=i),a.length<2?l[0]?uge(l[0].x):cge(t):(t=l.length,function(c){for(var d=0,f;d<t;++d)a[(f=l[d]).i]=f.x(c);return a.join("")})}function wd(e,t){var r=typeof t,n;return t==null||r==="boolean"?qj(t):(r==="number"?ry:r==="string"?(n=_h(t))?(t=n,r2):dge:t instanceof _h?r2:t instanceof Date?age:ige(t)?sge:Array.isArray(t)?oge:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?lge:ry)(e,t)}function Vj(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function fge(e,t){t===void 0&&(t=e,e=wd);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(o){var a=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[a](o-a)}}function hge(e){return function(){return e}}function ny(e){return+e}var n2=[0,1];function bn(e){return e}function Y1(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:hge(isNaN(t)?NaN:.5)}function pge(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function mge(e,t,r){var n=e[0],s=e[1],i=t[0],o=t[1];return s<n?(n=Y1(s,n),i=r(o,i)):(n=Y1(n,s),i=r(i,o)),function(a){return i(n(a))}}function gge(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=Y1(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(a){var l=op(e,a,1,n)-1;return i[l](s[l](a))}}function lp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Yv(){var e=n2,t=n2,r=wd,n,s,i,o=bn,a,l,c;function d(){var h=Math.min(e.length,t.length);return o!==bn&&(o=pge(e[0],e[h-1])),a=h>2?gge:mge,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?i:(l||(l=a(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(s((c||(c=a(t,e.map(n),ry)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,ny),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=Vj,d()},f.clamp=function(h){return arguments.length?(o=h?!0:bn,d()):o!==bn},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,s=p,d()}}function Wj(){return Yv()(bn,bn)}function yge(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function sy(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Yu(e){return e=sy(Math.abs(e)),e?e[1]:NaN}function vge(e,t){return function(r,n){for(var s=r.length,i=[],o=0,a=e[0],l=0;s>0&&a>0&&(l+a+1>n&&(a=Math.max(1,n-l)),i.push(r.substring(s-=a,s+a)),!((l+=a+1)>n));)a=e[o=(o+1)%e.length];return i.reverse().join(t)}}function bge(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var xge=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Sh(e){if(!(t=xge.exec(e)))throw new Error("invalid format: "+e);var t;return new Kj({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Sh.prototype=Kj.prototype;function Kj(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Kj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function wge(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var eB;function _ge(e,t){var r=sy(e,t);if(!r)return e+"";var n=r[0],s=r[1],i=s-(eB=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+sy(e,Math.max(0,t+i-1))[0]}function s2(e,t){var r=sy(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const i2={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:yge,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>s2(e*100,t),r:s2,s:_ge,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function o2(e){return e}var a2=Array.prototype.map,l2=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Sge(e){var t=e.grouping===void 0||e.thousands===void 0?o2:vge(a2.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?o2:bge(a2.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=Sh(f);var h=f.fill,p=f.align,g=f.sign,m=f.symbol,y=f.zero,v=f.width,b=f.comma,x=f.precision,E=f.trim,_=f.type;_==="n"?(b=!0,_="g"):i2[_]||(x===void 0&&(x=12),E=!0,_="g"),(y||h==="0"&&p==="=")&&(y=!0,h="0",p="=");var N=m==="$"?r:m==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",k=m==="$"?n:/[%p]/.test(_)?o:"",C=i2[_],T=/[defgprs%]/.test(_);x=x===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function $(M){var L=N,D=k,z,U,G;if(_==="c")D=C(M)+D,M="";else{M=+M;var q=M<0||1/M<0;if(M=isNaN(M)?l:C(Math.abs(M),x),E&&(M=wge(M)),q&&+M==0&&g!=="+"&&(q=!1),L=(q?g==="("?g:a:g==="-"||g==="("?"":g)+L,D=(_==="s"?l2[8+eB/3]:"")+D+(q&&g==="("?")":""),T){for(z=-1,U=M.length;++z<U;)if(G=M.charCodeAt(z),48>G||G>57){D=(G===46?s+M.slice(z+1):M.slice(z))+D,M=M.slice(0,z);break}}}b&&!y&&(M=t(M,1/0));var Z=L.length+M.length+D.length,ie=Z<v?new Array(v-Z+1).join(h):"";switch(b&&y&&(M=t(ie+M,ie.length?v-D.length:1/0),ie=""),p){case"<":M=L+M+D+ie;break;case"=":M=L+ie+M+D;break;case"^":M=ie.slice(0,Z=ie.length>>1)+L+M+D+ie.slice(Z);break;default:M=ie+L+M+D;break}return i(M)}return $.toString=function(){return f+""},$}function d(f,h){var p=c((f=Sh(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Yu(h)/3)))*3,m=Math.pow(10,-g),y=l2[8+g/3];return function(v){return p(m*v)+y}}return{format:c,formatPrefix:d}}var Nm,Hj,tB;Ege({thousands:",",grouping:[3],currency:["$",""]});function Ege(e){return Nm=Sge(e),Hj=Nm.format,tB=Nm.formatPrefix,Nm}function jge(e){return Math.max(0,-Yu(Math.abs(e)))}function Nge(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Yu(t)/3)))*3-Yu(Math.abs(e)))}function kge(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Yu(t)-Yu(e))+1}function rB(e,t,r,n){var s=V1(e,t,r),i;switch(n=Sh(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=Nge(s,o))&&(n.precision=i),tB(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=kge(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=jge(s))&&(n.precision=i-(n.type==="%")*2);break}}return Hj(n)}function Ja(e){var t=e.domain;return e.ticks=function(r){var n=t();return U1(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return rB(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,o=n[s],a=n[i],l,c,d=10;for(a<o&&(c=o,o=a,a=c,c=s,s=i,i=c);d-- >0;){if(c=q1(o,a,r),c===l)return n[s]=o,n[i]=a,t(n);if(c>0)o=Math.floor(o/c)*c,a=Math.ceil(a/c)*c;else if(c<0)o=Math.ceil(o*c)/c,a=Math.floor(a*c)/c;else break;l=c}return e},e}function nB(){var e=Wj();return e.copy=function(){return lp(e,nB())},Ds.apply(e,arguments),Ja(e)}function sB(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,ny),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return sB(e).unknown(t)},e=arguments.length?Array.from(e,ny):[0,1],Ja(r)}function iB(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),e[r]=t.floor(s),e[n]=t.ceil(i),e}function c2(e){return Math.log(e)}function u2(e){return Math.exp(e)}function Cge(e){return-Math.log(-e)}function Tge(e){return-Math.exp(-e)}function Age(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Pge(e){return e===10?Age:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Oge(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function d2(e){return(t,r)=>-e(-t,r)}function Yj(e){const t=e(c2,u2),r=t.domain;let n=10,s,i;function o(){return s=Oge(n),i=Pge(n),r()[0]<0?(s=d2(s),i=d2(i),e(Cge,Tge)):e(c2,u2),t}return t.base=function(a){return arguments.length?(n=+a,o()):n},t.domain=function(a){return arguments.length?(r(a),o()):r()},t.ticks=a=>{const l=r();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let h=s(c),p=s(d),g,m;const y=a==null?10:+a;let v=[];if(!(n%1)&&p-h<y){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(g=1;g<n;++g)if(m=h<0?g/i(-h):g*i(h),!(m<c)){if(m>d)break;v.push(m)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(m=h>0?g/i(-h):g*i(h),!(m<c)){if(m>d)break;v.push(m)}v.length*2<y&&(v=U1(c,d,y))}else v=U1(h,p,Math.min(p-h,y)).map(i);return f?v.reverse():v},t.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Sh(l)).precision==null&&(l.trim=!0),l=Hj(l)),a===1/0)return l;const c=Math.max(1,n*a/t.ticks().length);return d=>{let f=d/i(Math.round(s(d)));return f*n<n-.5&&(f*=n),f<=c?l(d):""}},t.nice=()=>r(iB(r(),{floor:a=>i(Math.floor(s(a))),ceil:a=>i(Math.ceil(s(a)))})),t}function oB(){const e=Yj(Yv()).domain([1,10]);return e.copy=()=>lp(e,oB()).base(e.base()),Ds.apply(e,arguments),e}function f2(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function h2(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Gj(e){var t=1,r=e(f2(t),h2(t));return r.constant=function(n){return arguments.length?e(f2(t=+n),h2(t)):t},Ja(r)}function aB(){var e=Gj(Yv());return e.copy=function(){return lp(e,aB()).constant(e.constant())},Ds.apply(e,arguments)}function p2(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Dge(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Rge(e){return e<0?-e*e:e*e}function Zj(e){var t=e(bn,bn),r=1;function n(){return r===1?e(bn,bn):r===.5?e(Dge,Rge):e(p2(r),p2(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},Ja(t)}function Xj(){var e=Zj(Yv());return e.copy=function(){return lp(e,Xj()).exponent(e.exponent())},Ds.apply(e,arguments),e}function $ge(){return Xj.apply(null,arguments).exponent(.5)}function m2(e){return Math.sign(e)*e*e}function Ige(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function lB(){var e=Wj(),t=[0,1],r=!1,n;function s(i){var o=Ige(e(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return e.invert(m2(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,ny)).map(m2)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return lB(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ds.apply(s,arguments),Ja(s)}function cB(){var e=[],t=[],r=[],n;function s(){var o=0,a=Math.max(1,t.length);for(r=new Array(a-1);++o<a;)r[o-1]=Bme(e,o/a);return i}function i(o){return o==null||isNaN(o=+o)?n:t[op(r,o)]}return i.invertExtent=function(o){var a=t.indexOf(o);return a<0?[NaN,NaN]:[a>0?r[a-1]:e[0],a<r.length?r[a]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let a of o)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Ra),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return cB().domain(e).range(t).unknown(n)},Ds.apply(i,arguments)}function uB(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function o(l){return l!=null&&l<=l?s[op(n,l,0,r)]:i}function a(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,a()):[e,t]},o.range=function(l){return arguments.length?(r=(s=Array.from(l)).length-1,a()):s.slice()},o.invertExtent=function(l){var c=s.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},o.unknown=function(l){return arguments.length&&(i=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return uB().domain([e,t]).range(s).unknown(i)},Ds.apply(Ja(o),arguments)}function dB(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[op(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return dB().domain(e).range(t).unknown(r)},Ds.apply(s,arguments)}const px=new Date,mx=new Date;function Cr(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),a=s.ceil(i);return i-o<a-i?o:a},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,a)=>{const l=[];if(i=s.ceil(i),a=a==null?1:Math.floor(a),!(i<o)||!(a>0))return l;let c;do l.push(c=new Date(+i)),t(i,a),e(i);while(c<i&&i<o);return l},s.filter=i=>Cr(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!i(o););else for(;--a>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(px.setTime(+i),mx.setTime(+o),e(px),e(mx),Math.floor(r(px,mx))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const iy=Cr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);iy.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Cr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):iy);iy.range;const bo=1e3,ws=bo*60,xo=ws*60,Do=xo*24,Jj=Do*7,g2=Do*30,gx=Do*365,Tl=Cr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*bo)},(e,t)=>(t-e)/bo,e=>e.getUTCSeconds());Tl.range;const Qj=Cr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*bo)},(e,t)=>{e.setTime(+e+t*ws)},(e,t)=>(t-e)/ws,e=>e.getMinutes());Qj.range;const eN=Cr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ws)},(e,t)=>(t-e)/ws,e=>e.getUTCMinutes());eN.range;const tN=Cr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*bo-e.getMinutes()*ws)},(e,t)=>{e.setTime(+e+t*xo)},(e,t)=>(t-e)/xo,e=>e.getHours());tN.range;const rN=Cr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*xo)},(e,t)=>(t-e)/xo,e=>e.getUTCHours());rN.range;const cp=Cr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ws)/Do,e=>e.getDate()-1);cp.range;const Gv=Cr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Do,e=>e.getUTCDate()-1);Gv.range;const fB=Cr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Do,e=>Math.floor(e/Do));fB.range;function fc(e){return Cr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ws)/Jj)}const Zv=fc(0),oy=fc(1),Mge=fc(2),Lge=fc(3),Gu=fc(4),Fge=fc(5),Bge=fc(6);Zv.range;oy.range;Mge.range;Lge.range;Gu.range;Fge.range;Bge.range;function hc(e){return Cr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Jj)}const Xv=hc(0),ay=hc(1),zge=hc(2),Uge=hc(3),Zu=hc(4),qge=hc(5),Vge=hc(6);Xv.range;ay.range;zge.range;Uge.range;Zu.range;qge.range;Vge.range;const nN=Cr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());nN.range;const sN=Cr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());sN.range;const Ro=Cr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ro.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Cr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ro.range;const $o=Cr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());$o.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Cr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});$o.range;function hB(e,t,r,n,s,i){const o=[[Tl,1,bo],[Tl,5,5*bo],[Tl,15,15*bo],[Tl,30,30*bo],[i,1,ws],[i,5,5*ws],[i,15,15*ws],[i,30,30*ws],[s,1,xo],[s,3,3*xo],[s,6,6*xo],[s,12,12*xo],[n,1,Do],[n,2,2*Do],[r,1,Jj],[t,1,g2],[t,3,3*g2],[e,1,gx]];function a(c,d,f){const h=d<c;h&&([c,d]=[d,c]);const p=f&&typeof f.range=="function"?f:l(c,d,f),g=p?p.range(c,+d+1):[];return h?g.reverse():g}function l(c,d,f){const h=Math.abs(d-c)/f,p=Fj(([,,y])=>y).right(o,h);if(p===o.length)return e.every(V1(c/gx,d/gx,f));if(p===0)return iy.every(Math.max(V1(c,d,f),1));const[g,m]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return g.every(m)}return[a,l]}const[Wge,Kge]=hB($o,sN,Xv,fB,rN,eN),[Hge,Yge]=hB(Ro,nN,Zv,cp,tN,Qj);function yx(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function vx(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function of(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Gge(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,a=e.months,l=e.shortMonths,c=af(s),d=lf(s),f=af(i),h=lf(i),p=af(o),g=lf(o),m=af(a),y=lf(a),v=af(l),b=lf(l),x={a:q,A:Z,b:ie,B:R,c:null,d:_2,e:_2,f:vye,g:Cye,G:Aye,H:mye,I:gye,j:yye,L:pB,m:bye,M:xye,p:B,q:X,Q:j2,s:N2,S:wye,u:_ye,U:Sye,V:Eye,w:jye,W:Nye,x:null,X:null,y:kye,Y:Tye,Z:Pye,"%":E2},E={a:oe,A:W,b:K,B:ee,c:null,d:S2,e:S2,f:$ye,g:Wye,G:Hye,H:Oye,I:Dye,j:Rye,L:gB,m:Iye,M:Mye,p:te,q:ue,Q:j2,s:N2,S:Lye,u:Fye,U:Bye,V:zye,w:Uye,W:qye,x:null,X:null,y:Vye,Y:Kye,Z:Yye,"%":E2},_={a:$,A:M,b:L,B:D,c:z,d:x2,e:x2,f:dye,g:b2,G:v2,H:w2,I:w2,j:aye,L:uye,m:oye,M:lye,p:T,q:iye,Q:hye,s:pye,S:cye,u:eye,U:tye,V:rye,w:Qge,W:nye,x:U,X:G,y:b2,Y:v2,Z:sye,"%":fye};x.x=N(r,x),x.X=N(n,x),x.c=N(t,x),E.x=N(r,E),E.X=N(n,E),E.c=N(t,E);function N(V,H){return function(se){var O=[],ye=-1,je=0,Be=V.length,Ue,nt,St;for(se instanceof Date||(se=new Date(+se));++ye<Be;)V.charCodeAt(ye)===37&&(O.push(V.slice(je,ye)),(nt=y2[Ue=V.charAt(++ye)])!=null?Ue=V.charAt(++ye):nt=Ue==="e"?" ":"0",(St=H[Ue])&&(Ue=St(se,nt)),O.push(Ue),je=ye+1);return O.push(V.slice(je,ye)),O.join("")}}function k(V,H){return function(se){var O=of(1900,void 0,1),ye=C(O,V,se+="",0),je,Be;if(ye!=se.length)return null;if("Q"in O)return new Date(O.Q);if("s"in O)return new Date(O.s*1e3+("L"in O?O.L:0));if(H&&!("Z"in O)&&(O.Z=0),"p"in O&&(O.H=O.H%12+O.p*12),O.m===void 0&&(O.m="q"in O?O.q:0),"V"in O){if(O.V<1||O.V>53)return null;"w"in O||(O.w=1),"Z"in O?(je=vx(of(O.y,0,1)),Be=je.getUTCDay(),je=Be>4||Be===0?ay.ceil(je):ay(je),je=Gv.offset(je,(O.V-1)*7),O.y=je.getUTCFullYear(),O.m=je.getUTCMonth(),O.d=je.getUTCDate()+(O.w+6)%7):(je=yx(of(O.y,0,1)),Be=je.getDay(),je=Be>4||Be===0?oy.ceil(je):oy(je),je=cp.offset(je,(O.V-1)*7),O.y=je.getFullYear(),O.m=je.getMonth(),O.d=je.getDate()+(O.w+6)%7)}else("W"in O||"U"in O)&&("w"in O||(O.w="u"in O?O.u%7:"W"in O?1:0),Be="Z"in O?vx(of(O.y,0,1)).getUTCDay():yx(of(O.y,0,1)).getDay(),O.m=0,O.d="W"in O?(O.w+6)%7+O.W*7-(Be+5)%7:O.w+O.U*7-(Be+6)%7);return"Z"in O?(O.H+=O.Z/100|0,O.M+=O.Z%100,vx(O)):yx(O)}}function C(V,H,se,O){for(var ye=0,je=H.length,Be=se.length,Ue,nt;ye<je;){if(O>=Be)return-1;if(Ue=H.charCodeAt(ye++),Ue===37){if(Ue=H.charAt(ye++),nt=_[Ue in y2?H.charAt(ye++):Ue],!nt||(O=nt(V,se,O))<0)return-1}else if(Ue!=se.charCodeAt(O++))return-1}return O}function T(V,H,se){var O=c.exec(H.slice(se));return O?(V.p=d.get(O[0].toLowerCase()),se+O[0].length):-1}function $(V,H,se){var O=p.exec(H.slice(se));return O?(V.w=g.get(O[0].toLowerCase()),se+O[0].length):-1}function M(V,H,se){var O=f.exec(H.slice(se));return O?(V.w=h.get(O[0].toLowerCase()),se+O[0].length):-1}function L(V,H,se){var O=v.exec(H.slice(se));return O?(V.m=b.get(O[0].toLowerCase()),se+O[0].length):-1}function D(V,H,se){var O=m.exec(H.slice(se));return O?(V.m=y.get(O[0].toLowerCase()),se+O[0].length):-1}function z(V,H,se){return C(V,t,H,se)}function U(V,H,se){return C(V,r,H,se)}function G(V,H,se){return C(V,n,H,se)}function q(V){return o[V.getDay()]}function Z(V){return i[V.getDay()]}function ie(V){return l[V.getMonth()]}function R(V){return a[V.getMonth()]}function B(V){return s[+(V.getHours()>=12)]}function X(V){return 1+~~(V.getMonth()/3)}function oe(V){return o[V.getUTCDay()]}function W(V){return i[V.getUTCDay()]}function K(V){return l[V.getUTCMonth()]}function ee(V){return a[V.getUTCMonth()]}function te(V){return s[+(V.getUTCHours()>=12)]}function ue(V){return 1+~~(V.getUTCMonth()/3)}return{format:function(V){var H=N(V+="",x);return H.toString=function(){return V},H},parse:function(V){var H=k(V+="",!1);return H.toString=function(){return V},H},utcFormat:function(V){var H=N(V+="",E);return H.toString=function(){return V},H},utcParse:function(V){var H=k(V+="",!0);return H.toString=function(){return V},H}}}var y2={"-":"",_:" ",0:"0"},Br=/^\s*\d+/,Zge=/^%/,Xge=/[\\^$*+?|[\]().{}]/g;function at(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function Jge(e){return e.replace(Xge,"\\$&")}function af(e){return new RegExp("^(?:"+e.map(Jge).join("|")+")","i")}function lf(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Qge(e,t,r){var n=Br.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function eye(e,t,r){var n=Br.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function tye(e,t,r){var n=Br.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function rye(e,t,r){var n=Br.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function nye(e,t,r){var n=Br.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function v2(e,t,r){var n=Br.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function b2(e,t,r){var n=Br.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function sye(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function iye(e,t,r){var n=Br.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function oye(e,t,r){var n=Br.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function x2(e,t,r){var n=Br.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function aye(e,t,r){var n=Br.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function w2(e,t,r){var n=Br.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function lye(e,t,r){var n=Br.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function cye(e,t,r){var n=Br.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function uye(e,t,r){var n=Br.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function dye(e,t,r){var n=Br.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function fye(e,t,r){var n=Zge.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function hye(e,t,r){var n=Br.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function pye(e,t,r){var n=Br.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function _2(e,t){return at(e.getDate(),t,2)}function mye(e,t){return at(e.getHours(),t,2)}function gye(e,t){return at(e.getHours()%12||12,t,2)}function yye(e,t){return at(1+cp.count(Ro(e),e),t,3)}function pB(e,t){return at(e.getMilliseconds(),t,3)}function vye(e,t){return pB(e,t)+"000"}function bye(e,t){return at(e.getMonth()+1,t,2)}function xye(e,t){return at(e.getMinutes(),t,2)}function wye(e,t){return at(e.getSeconds(),t,2)}function _ye(e){var t=e.getDay();return t===0?7:t}function Sye(e,t){return at(Zv.count(Ro(e)-1,e),t,2)}function mB(e){var t=e.getDay();return t>=4||t===0?Gu(e):Gu.ceil(e)}function Eye(e,t){return e=mB(e),at(Gu.count(Ro(e),e)+(Ro(e).getDay()===4),t,2)}function jye(e){return e.getDay()}function Nye(e,t){return at(oy.count(Ro(e)-1,e),t,2)}function kye(e,t){return at(e.getFullYear()%100,t,2)}function Cye(e,t){return e=mB(e),at(e.getFullYear()%100,t,2)}function Tye(e,t){return at(e.getFullYear()%1e4,t,4)}function Aye(e,t){var r=e.getDay();return e=r>=4||r===0?Gu(e):Gu.ceil(e),at(e.getFullYear()%1e4,t,4)}function Pye(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+at(t/60|0,"0",2)+at(t%60,"0",2)}function S2(e,t){return at(e.getUTCDate(),t,2)}function Oye(e,t){return at(e.getUTCHours(),t,2)}function Dye(e,t){return at(e.getUTCHours()%12||12,t,2)}function Rye(e,t){return at(1+Gv.count($o(e),e),t,3)}function gB(e,t){return at(e.getUTCMilliseconds(),t,3)}function $ye(e,t){return gB(e,t)+"000"}function Iye(e,t){return at(e.getUTCMonth()+1,t,2)}function Mye(e,t){return at(e.getUTCMinutes(),t,2)}function Lye(e,t){return at(e.getUTCSeconds(),t,2)}function Fye(e){var t=e.getUTCDay();return t===0?7:t}function Bye(e,t){return at(Xv.count($o(e)-1,e),t,2)}function yB(e){var t=e.getUTCDay();return t>=4||t===0?Zu(e):Zu.ceil(e)}function zye(e,t){return e=yB(e),at(Zu.count($o(e),e)+($o(e).getUTCDay()===4),t,2)}function Uye(e){return e.getUTCDay()}function qye(e,t){return at(ay.count($o(e)-1,e),t,2)}function Vye(e,t){return at(e.getUTCFullYear()%100,t,2)}function Wye(e,t){return e=yB(e),at(e.getUTCFullYear()%100,t,2)}function Kye(e,t){return at(e.getUTCFullYear()%1e4,t,4)}function Hye(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Zu(e):Zu.ceil(e),at(e.getUTCFullYear()%1e4,t,4)}function Yye(){return"+0000"}function E2(){return"%"}function j2(e){return+e}function N2(e){return Math.floor(+e/1e3)}var Ic,vB,bB;Gye({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Gye(e){return Ic=Gge(e),vB=Ic.format,Ic.parse,bB=Ic.utcFormat,Ic.utcParse,Ic}function Zye(e){return new Date(e)}function Xye(e){return e instanceof Date?+e:+new Date(+e)}function iN(e,t,r,n,s,i,o,a,l,c){var d=Wj(),f=d.invert,h=d.domain,p=c(".%L"),g=c(":%S"),m=c("%I:%M"),y=c("%I %p"),v=c("%a %d"),b=c("%b %d"),x=c("%B"),E=c("%Y");function _(N){return(l(N)<N?p:a(N)<N?g:o(N)<N?m:i(N)<N?y:n(N)<N?s(N)<N?v:b:r(N)<N?x:E)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,Xye)):h().map(Zye)},d.ticks=function(N){var k=h();return e(k[0],k[k.length-1],N??10)},d.tickFormat=function(N,k){return k==null?_:c(k)},d.nice=function(N){var k=h();return(!N||typeof N.range!="function")&&(N=t(k[0],k[k.length-1],N??10)),N?h(iB(k,N)):d},d.copy=function(){return lp(d,iN(e,t,r,n,s,i,o,a,l,c))},d}function Jye(){return Ds.apply(iN(Hge,Yge,Ro,nN,Zv,cp,tN,Qj,Tl,vB).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Qye(){return Ds.apply(iN(Wge,Kge,$o,sN,Xv,Gv,rN,eN,Tl,bB).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Jv(){var e=0,t=1,r,n,s,i,o=bn,a=!1,l;function c(f){return f==null||isNaN(f=+f)?l:o(s===0?.5:(f=(i(f)-r)*s,a?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(f){return arguments.length?(a=!!f,c):a},c.interpolator=function(f){return arguments.length?(o=f,c):o};function d(f){return function(h){var p,g;return arguments.length?([p,g]=h,o=f(p,g),c):[o(0),o(1)]}}return c.range=d(wd),c.rangeRound=d(Vj),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return i=f,r=f(e),n=f(t),s=r===n?0:1/(n-r),c}}function Qa(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function xB(){var e=Ja(Jv()(bn));return e.copy=function(){return Qa(e,xB())},Ko.apply(e,arguments)}function wB(){var e=Yj(Jv()).domain([1,10]);return e.copy=function(){return Qa(e,wB()).base(e.base())},Ko.apply(e,arguments)}function _B(){var e=Gj(Jv());return e.copy=function(){return Qa(e,_B()).constant(e.constant())},Ko.apply(e,arguments)}function oN(){var e=Zj(Jv());return e.copy=function(){return Qa(e,oN()).exponent(e.exponent())},Ko.apply(e,arguments)}function eve(){return oN.apply(null,arguments).exponent(.5)}function SB(){var e=[],t=bn;function r(n){if(n!=null&&!isNaN(n=+n))return t((op(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Ra),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>Fme(e,i/n))},r.copy=function(){return SB(t).domain(e)},Ko.apply(r,arguments)}function Qv(){var e=0,t=.5,r=1,n=1,s,i,o,a,l,c=bn,d,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-i)*(n*m<n*i?a:l),c(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,s=d(e=+e),i=d(t=+t),o=d(r=+r),a=s===i?0:.5/(i-s),l=i===o?0:.5/(o-i),n=i<s?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(c=m,p):c};function g(m){return function(y){var v,b,x;return arguments.length?([v,b,x]=y,c=fge(m,[v,b,x]),p):[c(0),c(.5),c(1)]}}return p.range=g(wd),p.rangeRound=g(Vj),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return d=m,s=m(e),i=m(t),o=m(r),a=s===i?0:.5/(i-s),l=i===o?0:.5/(o-i),n=i<s?-1:1,p}}function EB(){var e=Ja(Qv()(bn));return e.copy=function(){return Qa(e,EB())},Ko.apply(e,arguments)}function jB(){var e=Yj(Qv()).domain([.1,1,10]);return e.copy=function(){return Qa(e,jB()).base(e.base())},Ko.apply(e,arguments)}function NB(){var e=Gj(Qv());return e.copy=function(){return Qa(e,NB()).constant(e.constant())},Ko.apply(e,arguments)}function aN(){var e=Zj(Qv());return e.copy=function(){return Qa(e,aN()).exponent(e.exponent())},Ko.apply(e,arguments)}function tve(){return aN.apply(null,arguments).exponent(.5)}const xf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:zj,scaleDiverging:EB,scaleDivergingLog:jB,scaleDivergingPow:aN,scaleDivergingSqrt:tve,scaleDivergingSymlog:NB,scaleIdentity:sB,scaleImplicit:W1,scaleLinear:nB,scaleLog:oB,scaleOrdinal:Bj,scalePoint:Ume,scalePow:Xj,scaleQuantile:cB,scaleQuantize:uB,scaleRadial:lB,scaleSequential:xB,scaleSequentialLog:wB,scaleSequentialPow:oN,scaleSequentialQuantile:SB,scaleSequentialSqrt:eve,scaleSequentialSymlog:_B,scaleSqrt:$ge,scaleSymlog:aB,scaleThreshold:dB,scaleTime:Jye,scaleUtc:Qye,tickFormat:rB},Symbol.toStringTag,{value:"Module"}));var el=e=>e.chartData,lN=Q([el],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),cN=(e,t,r,n)=>n?lN(e):el(e);function Xu(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(ai(t)&&ai(r))return!0}return!1}function k2(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function rve(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,s,i;if(ai(r))s=r;else if(typeof r=="function")return;if(ai(n))i=n;else if(typeof n=="function")return;var o=[s,i];if(Xu(o))return o}}function nve(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Xu(n))return k2(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[s,i]=e,o,a;if(s==="auto")t!=null&&(o=Math.min(...t));else if(Ae(s))o=s;else if(typeof s=="function")try{t!=null&&(o=s(t==null?void 0:t[0]))}catch{}else if(typeof s=="string"&&SO.test(s)){var l=SO.exec(s);if(l==null||t==null)o=void 0;else{var c=+l[1];o=t[0]-c}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(a=Math.max(...t));else if(Ae(i))a=i;else if(typeof i=="function")try{t!=null&&(a=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&EO.test(i)){var d=EO.exec(i);if(d==null||t==null)a=void 0;else{var f=+d[1];a=t[1]+f}}else a=t==null?void 0:t[1];var h=[o,a];if(Xu(h))return t==null?h:k2(h,t,r)}}}var _d=1e9,sve={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},dN,Ft=!0,Cs="[DecimalError] ",Ul=Cs+"Invalid argument: ",uN=Cs+"Exponent out of range: ",Sd=Math.floor,xl=Math.pow,ive=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Gn,Dr=1e7,Rt=7,kB=9007199254740991,ly=Sd(kB/Rt),ke={};ke.absoluteValue=ke.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ke.comparedTo=ke.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};ke.decimalPlaces=ke.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Rt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ke.dividedBy=ke.div=function(e){return So(this,new this.constructor(e))};ke.dividedToIntegerBy=ke.idiv=function(e){var t=this,r=t.constructor;return _t(So(t,new r(e),0,1),r.precision)};ke.equals=ke.eq=function(e){return!this.cmp(e)};ke.exponent=function(){return pr(this)};ke.greaterThan=ke.gt=function(e){return this.cmp(e)>0};ke.greaterThanOrEqualTo=ke.gte=function(e){return this.cmp(e)>=0};ke.isInteger=ke.isint=function(){return this.e>this.d.length-2};ke.isNegative=ke.isneg=function(){return this.s<0};ke.isPositive=ke.ispos=function(){return this.s>0};ke.isZero=function(){return this.s===0};ke.lessThan=ke.lt=function(e){return this.cmp(e)<0};ke.lessThanOrEqualTo=ke.lte=function(e){return this.cmp(e)<1};ke.logarithm=ke.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Gn))throw Error(Cs+"NaN");if(r.s<1)throw Error(Cs+(r.s?"NaN":"-Infinity"));return r.eq(Gn)?new n(0):(Ft=!1,t=So(Eh(r,i),Eh(e,i),i),Ft=!0,_t(t,s))};ke.minus=ke.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?AB(t,e):CB(t,(e.s=-e.s,e))};ke.modulo=ke.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(Cs+"NaN");return r.s?(Ft=!1,t=So(r,e,0,1).times(e),Ft=!0,r.minus(t)):_t(new n(r),s)};ke.naturalExponential=ke.exp=function(){return TB(this)};ke.naturalLogarithm=ke.ln=function(){return Eh(this)};ke.negated=ke.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ke.plus=ke.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?CB(t,e):AB(t,(e.s=-e.s,e))};ke.precision=ke.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ul+e);if(t=pr(s)+1,n=s.d.length-1,r=n*Rt+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ke.squareRoot=ke.sqrt=function(){var e,t,r,n,s,i,o,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(Cs+"NaN")}for(e=pr(a),Ft=!1,s=Math.sqrt(+a),s==0||s==1/0?(t=Ti(a.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Sd((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(s.toString()),r=l.precision,s=o=r+3;;)if(i=n,n=i.plus(So(a,i,o+2)).times(.5),Ti(i.d).slice(0,o)===(t=Ti(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(_t(i,r+1,0),i.times(i).eq(a)){n=i;break}}else if(t!="9999")break;o+=4}return Ft=!0,_t(n,r)};ke.times=ke.mul=function(e){var t,r,n,s,i,o,a,l,c,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,l=h.length,c=p.length,l<c&&(i=h,h=p,p=i,o=l,l=c,c=o),i=[],o=l+c,n=o;n--;)i.push(0);for(n=c;--n>=0;){for(t=0,s=l+n;s>n;)a=i[s]+p[n]*h[s-n-1]+t,i[s--]=a%Dr|0,t=a/Dr|0;i[s]=(i[s]+t)%Dr|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Ft?_t(e,f.precision):e};ke.toDecimalPlaces=ke.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ui(e,0,_d),t===void 0?t=n.rounding:Ui(t,0,8),_t(r,e+pr(r)+1,t))};ke.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=Ql(n,!0):(Ui(e,0,_d),t===void 0?t=s.rounding:Ui(t,0,8),n=_t(new s(n),e+1,t),r=Ql(n,!0,e+1)),r};ke.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?Ql(s):(Ui(e,0,_d),t===void 0?t=i.rounding:Ui(t,0,8),n=_t(new i(s),e+pr(s)+1,t),r=Ql(n.abs(),!1,e+pr(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};ke.toInteger=ke.toint=function(){var e=this,t=e.constructor;return _t(new t(e),pr(e)+1,t.rounding)};ke.toNumber=function(){return+this};ke.toPower=ke.pow=function(e){var t,r,n,s,i,o,a=this,l=a.constructor,c=12,d=+(e=new l(e));if(!e.s)return new l(Gn);if(a=new l(a),!a.s){if(e.s<1)throw Error(Cs+"Infinity");return a}if(a.eq(Gn))return a;if(n=l.precision,e.eq(Gn))return _t(a,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=a.s,o){if((r=d<0?-d:d)<=kB){for(s=new l(Gn),t=Math.ceil(n/Rt+4),Ft=!1;r%2&&(s=s.times(a),T2(s.d,t)),r=Sd(r/2),r!==0;)a=a.times(a),T2(a.d,t);return Ft=!0,e.s<0?new l(Gn).div(s):_t(s,n)}}else if(i<0)throw Error(Cs+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,a.s=1,Ft=!1,s=e.times(Eh(a,n+c)),Ft=!0,s=TB(s),s.s=i,s};ke.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=pr(s),n=Ql(s,r<=i.toExpNeg||r>=i.toExpPos)):(Ui(e,1,_d),t===void 0?t=i.rounding:Ui(t,0,8),s=_t(new i(s),e,t),r=pr(s),n=Ql(s,e<=r||r<=i.toExpNeg,e)),n};ke.toSignificantDigits=ke.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ui(e,1,_d),t===void 0?t=n.rounding:Ui(t,0,8)),_t(new n(r),e,t)};ke.toString=ke.valueOf=ke.val=ke.toJSON=ke[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=pr(e),r=e.constructor;return Ql(e,t<=r.toExpNeg||t>=r.toExpPos)};function CB(e,t){var r,n,s,i,o,a,l,c,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Ft?_t(t,f):t;if(l=e.d,c=t.d,o=e.e,s=t.e,l=l.slice(),i=o-s,i){for(i<0?(n=l,i=-i,a=c.length):(n=c,s=o,a=l.length),o=Math.ceil(f/Rt),a=o>a?o+1:a+1,i>a&&(i=a,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(a=l.length,i=c.length,a-i<0&&(i=a,n=c,c=l,l=n),r=0;i;)r=(l[--i]=l[i]+c[i]+r)/Dr|0,l[i]%=Dr;for(r&&(l.unshift(r),++s),a=l.length;l[--a]==0;)l.pop();return t.d=l,t.e=s,Ft?_t(t,f):t}function Ui(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ul+e)}function Ti(e){var t,r,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",r=Rt-n.length,r&&(i+=ya(r)),i+=n;o=e[t],n=o+"",r=Rt-n.length,r&&(i+=ya(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var So=function(){function e(n,s){var i,o=0,a=n.length;for(n=n.slice();a--;)i=n[a]*s+o,n[a]=i%Dr|0,o=i/Dr|0;return o&&n.unshift(o),n}function t(n,s,i,o){var a,l;if(i!=o)l=i>o?1:-1;else for(a=l=0;a<i;a++)if(n[a]!=s[a]){l=n[a]>s[a]?1:-1;break}return l}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*Dr+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var a,l,c,d,f,h,p,g,m,y,v,b,x,E,_,N,k,C,T=n.constructor,$=n.s==s.s?1:-1,M=n.d,L=s.d;if(!n.s)return new T(n);if(!s.s)throw Error(Cs+"Division by zero");for(l=n.e-s.e,k=L.length,_=M.length,p=new T($),g=p.d=[],c=0;L[c]==(M[c]||0);)++c;if(L[c]>(M[c]||0)&&--l,i==null?b=i=T.precision:o?b=i+(pr(n)-pr(s))+1:b=i,b<0)return new T(0);if(b=b/Rt+2|0,c=0,k==1)for(d=0,L=L[0],b++;(c<_||d)&&b--;c++)x=d*Dr+(M[c]||0),g[c]=x/L|0,d=x%L|0;else{for(d=Dr/(L[0]+1)|0,d>1&&(L=e(L,d),M=e(M,d),k=L.length,_=M.length),E=k,m=M.slice(0,k),y=m.length;y<k;)m[y++]=0;C=L.slice(),C.unshift(0),N=L[0],L[1]>=Dr/2&&++N;do d=0,a=t(L,m,k,y),a<0?(v=m[0],k!=y&&(v=v*Dr+(m[1]||0)),d=v/N|0,d>1?(d>=Dr&&(d=Dr-1),f=e(L,d),h=f.length,y=m.length,a=t(f,m,h,y),a==1&&(d--,r(f,k<h?C:L,h))):(d==0&&(a=d=1),f=L.slice()),h=f.length,h<y&&f.unshift(0),r(m,f,y),a==-1&&(y=m.length,a=t(L,m,k,y),a<1&&(d++,r(m,k<y?C:L,y))),y=m.length):a===0&&(d++,m=[0]),g[c++]=d,a&&m[0]?m[y++]=M[E]||0:(m=[M[E]],y=1);while((E++<_||m[0]!==void 0)&&b--)}return g[0]||g.shift(),p.e=l,_t(p,o?i+pr(p)+1:i)}}();function TB(e,t){var r,n,s,i,o,a,l=0,c=0,d=e.constructor,f=d.precision;if(pr(e)>16)throw Error(uN+pr(e));if(!e.s)return new d(Gn);for(Ft=!1,a=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),c+=5;for(n=Math.log(xl(2,c))/Math.LN10*2+5|0,a+=n,r=s=i=new d(Gn),d.precision=a;;){if(s=_t(s.times(e),a),r=r.times(++l),o=i.plus(So(s,r,a)),Ti(o.d).slice(0,a)===Ti(i.d).slice(0,a)){for(;c--;)i=_t(i.times(i),a);return d.precision=f,t==null?(Ft=!0,_t(i,f)):i}i=o}}function pr(e){for(var t=e.e*Rt,r=e.d[0];r>=10;r/=10)t++;return t}function bx(e,t,r){if(t>e.LN10.sd())throw Ft=!0,r&&(e.precision=r),Error(Cs+"LN10 precision limit exceeded");return _t(new e(e.LN10),t)}function ya(e){for(var t="";e--;)t+="0";return t}function Eh(e,t){var r,n,s,i,o,a,l,c,d,f=1,h=10,p=e,g=p.d,m=p.constructor,y=m.precision;if(p.s<1)throw Error(Cs+(p.s?"NaN":"-Infinity"));if(p.eq(Gn))return new m(0);if(t==null?(Ft=!1,c=y):c=t,p.eq(10))return t==null&&(Ft=!0),bx(m,c);if(c+=h,m.precision=c,r=Ti(g),n=r.charAt(0),i=pr(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Ti(p.d),n=r.charAt(0),f++;i=pr(p),n>1?(p=new m("0."+r),i++):p=new m(n+"."+r.slice(1))}else return l=bx(m,c+2,y).times(i+""),p=Eh(new m(n+"."+r.slice(1)),c-h).plus(l),m.precision=y,t==null?(Ft=!0,_t(p,y)):p;for(a=o=p=So(p.minus(Gn),p.plus(Gn),c),d=_t(p.times(p),c),s=3;;){if(o=_t(o.times(d),c),l=a.plus(So(o,new m(s),c)),Ti(l.d).slice(0,c)===Ti(a.d).slice(0,c))return a=a.times(2),i!==0&&(a=a.plus(bx(m,c+2,y).times(i+""))),a=So(a,new m(f),c),m.precision=y,t==null?(Ft=!0,_t(a,y)):a;a=l,s+=2}}function C2(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=Sd(r/Rt),e.d=[],n=(r+1)%Rt,r<0&&(n+=Rt),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=Rt;n<s;)e.d.push(+t.slice(n,n+=Rt));t=t.slice(n),n=Rt-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),Ft&&(e.e>ly||e.e<-ly))throw Error(uN+r)}else e.s=0,e.e=0,e.d=[0];return e}function _t(e,t,r){var n,s,i,o,a,l,c,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Rt,s=t,c=f[d=0];else{if(d=Math.ceil((n+1)/Rt),i=f.length,d>=i)return e;for(c=i=f[d],o=1;i>=10;i/=10)o++;n%=Rt,s=n-Rt+o}if(r!==void 0&&(i=xl(10,o-s-1),a=c/i%10|0,l=t<0||f[d+1]!==void 0||c%i,l=r<4?(a||l)&&(r==0||r==(e.s<0?3:2)):a>5||a==5&&(r==4||l||r==6&&(n>0?s>0?c/xl(10,o-s):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(i=pr(e),f.length=1,t=t-i-1,f[0]=xl(10,(Rt-t%Rt)%Rt),e.e=Sd(-t/Rt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=xl(10,Rt-n),f[d]=s>0?(c/xl(10,o-s)%xl(10,s)|0)*i:0),l)for(;;)if(d==0){(f[0]+=i)==Dr&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Dr)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Ft&&(e.e>ly||e.e<-ly))throw Error(uN+pr(e));return e}function AB(e,t){var r,n,s,i,o,a,l,c,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Ft?_t(t,p):t;if(l=e.d,f=t.d,n=t.e,c=e.e,l=l.slice(),o=c-n,o){for(d=o<0,d?(r=l,o=-o,a=f.length):(r=f,n=c,a=l.length),s=Math.max(Math.ceil(p/Rt),a)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=l.length,a=f.length,d=s<a,d&&(a=s),s=0;s<a;s++)if(l[s]!=f[s]){d=l[s]<f[s];break}o=0}for(d&&(r=l,l=f,f=r,t.s=-t.s),a=l.length,s=f.length-a;s>0;--s)l[a++]=0;for(s=f.length;s>o;){if(l[--s]<f[s]){for(i=s;i&&l[--i]===0;)l[i]=Dr-1;--l[i],l[s]+=Dr}l[s]-=f[s]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Ft?_t(t,p):t):new h(0)}function Ql(e,t,r){var n,s=pr(e),i=Ti(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+ya(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+ya(-s-1)+i,r&&(n=r-o)>0&&(i+=ya(n))):s>=o?(i+=ya(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+ya(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=ya(n))),e.s<0?"-"+i:i}function T2(e,t){if(e.length>t)return e.length=t,!0}function PB(e){var t,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Ul+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return C2(o,i.toString())}else if(typeof i!="string")throw Error(Ul+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,ive.test(i))C2(o,i);else throw Error(Ul+i)}if(s.prototype=ke,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=PB,s.config=s.set=ove,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function ove(e){if(!e||typeof e!="object")throw Error(Cs+"Object expected");var t,r,n,s=["precision",1,_d,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(Sd(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(Ul+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ul+r+": "+n);return this}var dN=PB(sve);Gn=new dN(1);const mt=dN;var ave=e=>e,OB={},DB=e=>e===OB,A2=e=>function t(){return arguments.length===0||arguments.length===1&&DB(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},RB=(e,t)=>e===1?t:A2(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];var i=n.filter(o=>o!==OB).length;return i>=e?t(...n):RB(e-i,A2(function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];var c=n.map(d=>DB(d)?a.shift():d);return t(...c,...a)}))}),eb=e=>RB(e.length,e),G1=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},lve=eb((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),cve=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return ave;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce((a,l)=>l(a),i(...arguments))}},Z1=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),$B=e=>{var t=null,r=null;return function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return t&&s.every((o,a)=>{var l;return o===((l=t)===null||l===void 0?void 0:l[a])})||(t=s,r=e(...s)),r}};function IB(e){var t;return e===0?t=1:t=Math.floor(new mt(e).abs().log(10).toNumber())+1,t}function MB(e,t,r){for(var n=new mt(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}eb((e,t,r)=>{var n=+e,s=+t;return n+r*(s-n)});eb((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});eb((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var LB=e=>{var[t,r]=e,[n,s]=[t,r];return t>r&&([n,s]=[r,t]),[n,s]},FB=(e,t,r)=>{if(e.lte(0))return new mt(0);var n=IB(e.toNumber()),s=new mt(10).pow(n),i=e.div(s),o=n!==1?.05:.1,a=new mt(Math.ceil(i.div(o).toNumber())).add(r).mul(o),l=a.mul(s);return t?new mt(l.toNumber()):new mt(Math.ceil(l.toNumber()))},uve=(e,t,r)=>{var n=new mt(1),s=new mt(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new mt(10).pow(IB(e)-1),s=new mt(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new mt(Math.floor(e)))}else e===0?s=new mt(Math.floor((t-1)/2)):r||(s=new mt(Math.floor(e)));var o=Math.floor((t-1)/2),a=cve(lve(l=>s.add(new mt(l-o).mul(n)).toNumber()),G1);return a(0,t)},BB=function(t,r,n,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new mt(0),tickMin:new mt(0),tickMax:new mt(0)};var o=FB(new mt(r).sub(t).div(n-1),s,i),a;t<=0&&r>=0?a=new mt(0):(a=new mt(t).add(r).div(2),a=a.sub(new mt(a).mod(o)));var l=Math.ceil(a.sub(t).div(o).toNumber()),c=Math.ceil(new mt(r).sub(a).div(o).toNumber()),d=l+c+1;return d>n?BB(t,r,n,s,i+1):(d<n&&(c=r>0?c+(n-d):c,l=r>0?l:l+(n-d)),{step:o,tickMin:a.sub(new mt(l).mul(o)),tickMax:a.add(new mt(c).mul(o))})};function dve(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[o,a]=LB([t,r]);if(o===-1/0||a===1/0){var l=a===1/0?[o,...G1(0,n-1).map(()=>1/0)]:[...G1(0,n-1).map(()=>-1/0),a];return t>r?Z1(l):l}if(o===a)return uve(o,n,s);var{step:c,tickMin:d,tickMax:f}=BB(o,a,i,s,0),h=MB(d,f.add(new mt(.1).mul(c)),c);return t>r?Z1(h):h}function fve(e,t){var[r,n]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=LB([r,n]);if(i===-1/0||o===1/0)return[r,n];if(i===o)return[i];var a=Math.max(t,2),l=FB(new mt(o).sub(i).div(a-1),s,0),c=[...MB(new mt(i),new mt(o),l),o];return s===!1&&(c=c.map(d=>Math.round(d))),r>n?Z1(c):c}var hve=$B(dve),pve=$B(fve),mve=e=>e.rootProps.barCategoryGap,up=e=>e.rootProps.stackOffset,fN=e=>e.options.chartName,hN=e=>e.rootProps.syncId,zB=e=>e.rootProps.syncMethod,pN=e=>e.options.eventEmitter,yo={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Wn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},tb=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},gve={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:yo.angleAxisId,includeHidden:!1,name:void 0,reversed:yo.reversed,scale:yo.scale,tick:yo.tick,tickCount:void 0,ticks:void 0,type:yo.type,unit:void 0},yve={allowDataOverflow:Wn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Wn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Wn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Wn.scale,tick:Wn.tick,tickCount:Wn.tickCount,ticks:void 0,type:Wn.type,unit:void 0},vve={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:yo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:yo.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:yo.scale,tick:yo.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},bve={allowDataOverflow:Wn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Wn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Wn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Wn.scale,tick:Wn.tick,tickCount:Wn.tickCount,ticks:void 0,type:"category",unit:void 0},mN=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?vve:gve,gN=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?bve:yve,rb=e=>e.polarOptions,yN=Q([Vo,Wo,Fr],g6),UB=Q([rb,yN],(e,t)=>{if(e!=null)return Es(e.innerRadius,t,0)}),qB=Q([rb,yN],(e,t)=>{if(e!=null)return Es(e.outerRadius,t,t*.8)}),xve=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},VB=Q([rb],xve);Q([mN,VB],tb);var WB=Q([yN,UB,qB],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});Q([gN,WB],tb);var KB=Q([xt,rb,UB,qB,Vo,Wo],(e,t,r,n,s,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:a,startAngle:l,endAngle:c}=t;return{cx:Es(o,s,s/2),cy:Es(a,i,i/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:c,clockWise:!1}}}),zt=(e,t)=>t,dp=(e,t,r)=>r;function HB(e){return e==null?void 0:e.id}var Tr=e=>{var t=xt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Ed=e=>e.tooltip.settings.axisId,Ar=e=>{var t=Tr(e),r=Ed(e);return fp(e,t,r)};function YB(e,t,r){var{chartData:n=[]}=t,s=r==null?void 0:r.dataKey,i=new Map;return e.forEach(o=>{var a,l=(a=o.data)!==null&&a!==void 0?a:n;if(!(l==null||l.length===0)){var c=HB(o);l.forEach((d,f)=>{var h=s==null?f:String(Mt(d,s,null)),p=Mt(d,o.dataKey,0),g;i.has(h)?g=i.get(h):g={},Object.assign(g,{[c]:p}),i.set(h,g)})}}),Array.from(i.values())}function vN(e){return e.stackId!=null&&e.dataKey!=null}function P2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function cy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P2(Object(r),!0).forEach(function(n){wve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wve(e,t,r){return(t=_ve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _ve(e){var t=Sve(e,"string");return typeof t=="symbol"?t:t+""}function Sve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var X1=[0,"auto"],Un={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Ho=(e,t)=>{var r=e.cartesianAxis.xAxis[t];return r??Un},qn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:X1,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Wv},tl=(e,t)=>{var r=e.cartesianAxis.yAxis[t];return r??qn},Eve={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},bN=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??Eve},or=(e,t,r)=>{switch(t){case"xAxis":return Ho(e,r);case"yAxis":return tl(e,r);case"zAxis":return bN(e,r);case"angleAxis":return mN(e,r);case"radiusAxis":return gN(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},jve=(e,t,r)=>{switch(t){case"xAxis":return Ho(e,r);case"yAxis":return tl(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},fp=(e,t,r)=>{switch(t){case"xAxis":return Ho(e,r);case"yAxis":return tl(e,r);case"angleAxis":return mN(e,r);case"radiusAxis":return gN(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},GB=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function xN(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var ZB=e=>e.graphicalItems.cartesianItems,Nve=Q([zt,dp],xN),wN=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),hp=Q([ZB,or,Nve],wN),XB=Q([hp],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(vN)),JB=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),QB=Q([hp],JB),_N=e=>e.map(t=>t.data).filter(Boolean).flat(1),kve=Q([hp],_N),SN=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:s}=t;return e.length>0?e:r.slice(n,s+1)},EN=Q([kve,cN],SN),jN=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Mt(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(s=>({value:Mt(s,n)}))):e.map(n=>({value:n})),nb=Q([EN,or,hp],jN);function e8(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function pc(e){return e.filter(t=>zi(t)||t instanceof Date).map(Number).filter(t=>js(t)===!1)}function Cve(e,t,r){return!r||typeof t!="number"||js(t)?[]:r.length?pc(r.flatMap(n=>{var s=Mt(e,n.dataKey),i,o;if(Array.isArray(s)?[i,o]=s:i=o=s,!(!ai(i)||!ai(o)))return[t-i,t+o]})):[]}var Tve=Q([XB,cN,Ar],YB),t8=(e,t,r)=>{var n={},s=t.reduce((i,o)=>(o.stackId==null||(i[o.stackId]==null&&(i[o.stackId]=[]),i[o.stackId].push(o)),i),n);return Object.fromEntries(Object.entries(s).map(i=>{var[o,a]=i,l=a.map(HB);return[o,{stackedData:qhe(e,l,r),graphicalItems:a}]}))},Ave=Q([Tve,XB,up],t8),r8=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:s}=t;if(r!=="zAxis"){var i=Khe(e,n,s);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},Pve=Q([Ave,el,zt],r8),n8=(e,t,r,n,s)=>r.length>0?e.flatMap(i=>r.flatMap(o=>{var a,l,c=(a=n[o.id])===null||a===void 0?void 0:a.filter(f=>e8(s,f)),d=Mt(i,(l=t.dataKey)!==null&&l!==void 0?l:o.dataKey);return{value:d,errorDomain:Cve(i,d,c)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(i=>({value:Mt(i,t.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]})),sb=e=>e.errorBars,s8=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>e8(r,n));Q([QB,sb,zt],s8);var Ove=Q([EN,or,QB,sb,zt],n8);function Dve(e){var{value:t}=e;if(zi(t)||t instanceof Date)return t}var O2=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=pc(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Rve=(e,t,r)=>{var n=e.map(Dve).filter(s=>s!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&Y3(n))?K6(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},NN=e=>{var t;if(e==null||!("domain"in e))return X1;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=pc(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:X1},uy=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r.filter(Boolean);if(s.length!==0){var i=s.flat(),o=Math.min(...i),a=Math.max(...i);return[o,a]}},i8=e=>e.referenceElements.dots,jd=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),$ve=Q([i8,zt,dp],jd),o8=e=>e.referenceElements.areas,Ive=Q([o8,zt,dp],jd),a8=e=>e.referenceElements.lines,Mve=Q([a8,zt,dp],jd),l8=(e,t)=>{var r=pc(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Lve=Q($ve,zt,l8),c8=(e,t)=>{var r=pc(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Fve=Q([Ive,zt],c8),u8=(e,t)=>{var r=pc(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Bve=Q(Mve,zt,u8),zve=Q(Lve,Bve,Fve,(e,t,r)=>uy(e,r,t)),d8=Q([or],NN),kN=(e,t,r,n,s,i,o)=>{var a=rve(t,e.allowDataOverflow);if(a!=null)return a;var l=i==="vertical"&&o==="xAxis"||i==="horizontal"&&o==="yAxis",c=l?uy(r,s,O2(n)):uy(s,O2(n));return nve(t,c,e.allowDataOverflow)},Uve=Q([or,d8,Pve,Ove,zve,xt,zt],kN),qve=[0,1],CN=(e,t,r,n,s,i,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:a,type:l}=e,c=Xa(t,i);return c&&a==null?K6(0,r.length):l==="category"?Rve(n,e,c):s==="expand"?qve:o}},TN=Q([or,xt,EN,nb,up,zt,Uve],CN),f8=(e,t,r,n,s)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var a="scale".concat(rp(i));return a in xf?a:"point"}}},Nd=Q([or,xt,GB,fN,zt],f8);function Vve(e){if(e!=null){if(e in xf)return xf[e]();var t="scale".concat(rp(e));if(t in xf)return xf[t]()}}function AN(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var s=Vve(t);if(s!=null){var i=s.domain(r).range(n);return Fhe(i),i}}}var PN=(e,t,r)=>{var n=NN(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Xu(e))return hve(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Xu(e))return pve(e,t.tickCount,t.allowDecimals)}},ON=Q([TN,fp,Nd],PN),DN=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Xu(t)&&Array.isArray(r)&&r.length>0){var s=t[0],i=r[0],o=t[1],a=r[r.length-1];return[Math.min(s,i),Math.max(o,a)]}return t},Wve=Q([or,TN,ON,zt],DN),Kve=Q(nb,or,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(pc(e.map(a=>a.value))).sort((a,l)=>a-l);if(n.length<2)return 1/0;var s=n[n.length-1]-n[0];if(s===0)return 1/0;for(var i=0;i<n.length-1;i++){var o=n[i+1]-n[i];r=Math.min(r,o)}return r/s}}),h8=Q(Kve,xt,mve,Fr,(e,t,r,n)=>n,(e,t,r,n,s)=>{if(!ai(e))return 0;var i=t==="vertical"?n.height:n.width;if(s==="gap")return e*i/2;if(s==="no-gap"){var o=Es(r,e*i),a=e*i/2;return a-o-(a-o)/i*o}return 0}),Hve=(e,t)=>{var r=Ho(e,t);return r==null||typeof r.padding!="string"?0:h8(e,"xAxis",t,r.padding)},Yve=(e,t)=>{var r=tl(e,t);return r==null||typeof r.padding!="string"?0:h8(e,"yAxis",t,r.padding)},Gve=Q(Ho,Hve,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((r=s.left)!==null&&r!==void 0?r:0)+t,right:((n=s.right)!==null&&n!==void 0?n:0)+t}}),Zve=Q(tl,Yve,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((r=s.top)!==null&&r!==void 0?r:0)+t,bottom:((n=s.bottom)!==null&&n!==void 0?n:0)+t}}),Xve=Q([Fr,Gve,Hv,Kv,(e,t,r)=>r],(e,t,r,n,s)=>{var{padding:i}=n;return s?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),Jve=Q([Fr,xt,Zve,Hv,Kv,(e,t,r)=>r],(e,t,r,n,s,i)=>{var{padding:o}=s;return i?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),pp=(e,t,r,n)=>{var s;switch(t){case"xAxis":return Xve(e,r,n);case"yAxis":return Jve(e,r,n);case"zAxis":return(s=bN(e,r))===null||s===void 0?void 0:s.range;case"angleAxis":return VB(e);case"radiusAxis":return WB(e,r);default:return}},p8=Q([or,pp],tb),kd=Q([or,Nd,Wve,p8],AN);Q([hp,sb,zt],s8);function m8(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var ib=(e,t)=>t,ob=(e,t,r)=>r,Qve=Q(Aj,ib,ob,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(m8)),ebe=Q(Pj,ib,ob,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(m8)),g8=(e,t)=>({width:e.width,height:t.height}),tbe=(e,t)=>{var r=typeof t.width=="number"?t.width:Wv;return{width:r,height:e.height}},rbe=Q(Fr,Ho,g8),nbe=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},sbe=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},ibe=Q(Wo,Fr,Qve,ib,ob,(e,t,r,n,s)=>{var i={},o;return r.forEach(a=>{var l=g8(t,a);o==null&&(o=nbe(t,n,e));var c=n==="top"&&!s||n==="bottom"&&s;i[a.id]=o-Number(c)*l.height,o+=(c?-1:1)*l.height}),i}),obe=Q(Vo,Fr,ebe,ib,ob,(e,t,r,n,s)=>{var i={},o;return r.forEach(a=>{var l=tbe(t,a);o==null&&(o=sbe(t,n,e));var c=n==="left"&&!s||n==="right"&&s;i[a.id]=o-Number(c)*l.width,o+=(c?-1:1)*l.width}),i}),abe=(e,t)=>{var r=Fr(e),n=Ho(e,t);if(n!=null){var s=ibe(e,n.orientation,n.mirror),i=s[t];return i==null?{x:r.left,y:0}:{x:r.left,y:i}}},lbe=(e,t)=>{var r=Fr(e),n=tl(e,t);if(n!=null){var s=obe(e,n.orientation,n.mirror),i=s[t];return i==null?{x:0,y:r.top}:{x:i,y:r.top}}},cbe=Q(Fr,tl,(e,t)=>{var r=typeof t.width=="number"?t.width:Wv;return{width:r,height:e.height}}),y8=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:s,type:i,dataKey:o}=r,a=Xa(e,n),l=t.map(c=>c.value);if(o&&a&&i==="category"&&s&&Y3(l))return l}},RN=Q([xt,nb,or,zt],y8),v8=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:s,scale:i}=r,o=Xa(e,n);if(o&&(s==="number"||i!=="auto"))return t.map(a=>a.value)}},$N=Q([xt,nb,fp,zt],v8),D2=Q([xt,jve,Nd,kd,RN,$N,pp,ON,zt],(e,t,r,n,s,i,o,a,l)=>{if(t==null)return null;var c=Xa(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:i,duplicateDomain:s,isCategorical:c,niceTicks:a,range:o,realScaleType:r,scale:n}}),ube=(e,t,r,n,s,i,o,a,l)=>{if(!(t==null||n==null)){var c=Xa(e,l),{type:d,ticks:f,tickCount:h}=t,p=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,g=d==="category"&&n.bandwidth?n.bandwidth()/p:0;g=l==="angleAxis"&&i!=null&&i.length>=2?an(i[0]-i[1])*2*g:g;var m=f||s;if(m){var y=m.map((v,b)=>{var x=o?o.indexOf(v):v;return{index:b,coordinate:n(x)+g,value:v,offset:g}});return y.filter(v=>!js(v.coordinate))}return c&&a?a.map((v,b)=>({coordinate:n(v)+g,value:v,index:b,offset:g})):n.ticks?n.ticks(h).map(v=>({coordinate:n(v)+g,value:v,offset:g})):n.domain().map((v,b)=>({coordinate:n(v)+g,value:o?o[v]:v,index:b,offset:g}))}},b8=Q([xt,fp,Nd,kd,ON,pp,RN,$N,zt],ube),dbe=(e,t,r,n,s,i,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var a=Xa(e,o),{tickCount:l}=t,c=0;return c=o==="angleAxis"&&(n==null?void 0:n.length)>=2?an(n[0]-n[1])*2*c:c,a&&i?i.map((d,f)=>({coordinate:r(d)+c,value:d,index:f,offset:c})):r.ticks?r.ticks(l).map(d=>({coordinate:r(d)+c,value:d,offset:c})):r.domain().map((d,f)=>({coordinate:r(d)+c,value:s?s[d]:d,index:f,offset:c}))}},x8=Q([xt,fp,kd,pp,RN,$N,zt],dbe),w8=Q(or,kd,(e,t)=>{if(!(e==null||t==null))return cy(cy({},e),{},{scale:t})}),fbe=Q([or,Nd,TN,p8],AN);Q((e,t,r)=>bN(e,r),fbe,(e,t)=>{if(!(e==null||t==null))return cy(cy({},e),{},{scale:t})});var hbe=Q([xt,Aj,Pj],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),_8=e=>e.options.defaultTooltipEventType,S8=e=>e.options.validateTooltipEventTypes;function E8(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function IN(e,t){var r=_8(e),n=S8(e);return E8(t,r,n)}function pbe(e){return Re(t=>IN(t,e))}var j8=(e,t)=>{var r,n=Number(t);if(!(js(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},mbe=e=>e.tooltip.settings,wa={active:!1,index:null,dataKey:void 0,coordinate:void 0},gbe={itemInteraction:{click:wa,hover:wa},axisInteraction:{click:wa,hover:wa},keyboardInteraction:wa,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},N8=ts({name:"tooltip",initialState:gbe,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=_o(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:ybe,removeTooltipEntrySettings:vbe,setTooltipSettingsState:bbe,setActiveMouseOverItemIndex:k8,mouseLeaveItem:xbe,mouseLeaveChart:C8,setActiveClickItemIndex:wbe,setMouseOverAxisIndex:T8,setMouseClickAxisIndex:_be,setSyncInteraction:J1,setKeyboardInteraction:Q1}=N8.actions,Sbe=N8.reducer;function R2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function km(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R2(Object(r),!0).forEach(function(n){Ebe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ebe(e,t,r){return(t=jbe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jbe(e){var t=Nbe(e,"string");return typeof t=="symbol"?t:t+""}function Nbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kbe(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Cbe(e){return e.index!=null}var A8=(e,t,r,n)=>{if(t==null)return wa;var s=kbe(e,t,r);if(s==null)return wa;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(Cbe(s)){if(i)return km(km({},s),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return km(km({},wa),{},{coordinate:s.coordinate})},MN=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!ai(n))return r;var s=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(s,Math.min(n,i)))},P8=(e,t,r,n,s,i,o,a)=>{if(!(i==null||a==null)){var l=o[0],c=l==null?void 0:a(l.positions,i);if(c!=null)return c;var d=s==null?void 0:s[Number(i)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},O8=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return r==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===s})},mp=e=>e.options.tooltipPayloadSearcher,Cd=e=>e.tooltip;function $2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function I2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$2(Object(r),!0).forEach(function(n){Tbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tbe(e,t,r){return(t=Abe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Abe(e){var t=Pbe(e,"string");return typeof t=="symbol"?t:t+""}function Pbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Obe(e,t){return e??t}var D8=(e,t,r,n,s,i,o)=>{if(!(t==null||i==null)){var{chartData:a,computedData:l,dataStartIndex:c,dataEndIndex:d}=r,f=[];return e.reduce((h,p)=>{var g,{dataDefinedOnItem:m,settings:y}=p,v=Obe(m,a),b=Array.isArray(v)?y6(v,c,d):v,x=(g=y==null?void 0:y.dataKey)!==null&&g!==void 0?g:n==null?void 0:n.dataKey,E=y==null?void 0:y.nameKey,_;if(n!=null&&n.dataKey&&Array.isArray(b)&&!Array.isArray(b[0])&&o==="axis"?_=G3(b,n.dataKey,s):_=i(b,t,l,E),Array.isArray(_))_.forEach(k=>{var C=I2(I2({},y),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});h.push(jO({tooltipEntrySettings:C,dataKey:k.dataKey,payload:k.payload,value:Mt(k.payload,k.dataKey),name:k.name}))});else{var N;h.push(jO({tooltipEntrySettings:y,dataKey:x,payload:_,value:Mt(_,x),name:(N=Mt(_,E))!==null&&N!==void 0?N:y==null?void 0:y.name}))}return h},f)}},LN=Q([Ar,xt,GB,fN,Tr],f8),Dbe=Q([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Rbe=Q([Tr,Ed],xN),gp=Q([Dbe,Ar,Rbe],wN),$be=Q([gp],e=>e.filter(vN)),Ibe=Q([gp],_N),Td=Q([Ibe,el],SN),Mbe=Q([$be,el,Ar],YB),FN=Q([Td,Ar,gp],jN),Lbe=Q([Ar],NN),Fbe=Q([gp],e=>e.filter(vN)),Bbe=Q([Mbe,Fbe,up],t8),zbe=Q([Bbe,el,Tr],r8),Ube=Q([gp],JB),qbe=Q([Td,Ar,Ube,sb,Tr],n8),Vbe=Q([i8,Tr,Ed],jd),Wbe=Q([Vbe,Tr],l8),Kbe=Q([o8,Tr,Ed],jd),Hbe=Q([Kbe,Tr],c8),Ybe=Q([a8,Tr,Ed],jd),Gbe=Q([Ybe,Tr],u8),Zbe=Q([Wbe,Gbe,Hbe],uy),Xbe=Q([Ar,Lbe,zbe,qbe,Zbe,xt,Tr],kN),R8=Q([Ar,xt,Td,FN,up,Tr,Xbe],CN),Jbe=Q([R8,Ar,LN],PN),Qbe=Q([Ar,R8,Jbe,Tr],DN),$8=e=>{var t=Tr(e),r=Ed(e),n=!1;return pp(e,t,r,n)},I8=Q([Ar,$8],tb),M8=Q([Ar,LN,Qbe,I8],AN),e0e=Q([xt,FN,Ar,Tr],y8),t0e=Q([xt,FN,Ar,Tr],v8),r0e=(e,t,r,n,s,i,o,a)=>{if(t){var{type:l}=t,c=Xa(e,a);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=l==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=a==="angleAxis"&&s!=null&&(s==null?void 0:s.length)>=2?an(s[0]-s[1])*2*f:f,c&&o?o.map((h,p)=>({coordinate:n(h)+f,value:h,index:p,offset:f})):n.domain().map((h,p)=>({coordinate:n(h)+f,value:i?i[h]:h,index:p,offset:f}))}}},Yo=Q([xt,Ar,LN,M8,$8,e0e,t0e,Tr],r0e),BN=Q([_8,S8,mbe],(e,t,r)=>E8(r.shared,e,t)),L8=e=>e.tooltip.settings.trigger,zN=e=>e.tooltip.settings.defaultIndex,ab=Q([Cd,BN,L8,zN],A8),Ju=Q([ab,Td],MN),F8=Q([Yo,Ju],j8),n0e=Q([ab],e=>{if(e)return e.dataKey}),B8=Q([Cd,BN,L8,zN],O8),s0e=Q([Vo,Wo,xt,Fr,Yo,zN,B8,mp],P8),i0e=Q([ab,s0e],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),o0e=Q([ab],e=>e.active),a0e=Q([B8,Ju,el,Ar,F8,mp,BN],D8),l0e=Q([a0e],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function M2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function L2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M2(Object(r),!0).forEach(function(n){c0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c0e(e,t,r){return(t=u0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u0e(e){var t=d0e(e,"string");return typeof t=="symbol"?t:t+""}function d0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f0e=()=>Re(Ar),h0e=()=>{var e=f0e(),t=Re(Yo),r=Re(M8);return D1(L2(L2({},e),{},{scale:r}),t)},p0e=()=>Re(fN),UN=(e,t)=>t,z8=(e,t,r)=>r,qN=(e,t,r,n)=>n,m0e=Q(Yo,e=>Lv(e,t=>t.coordinate)),VN=Q([Cd,UN,z8,qN],A8),U8=Q([VN,Td],MN),g0e=(e,t,r)=>{if(t!=null){var n=Cd(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},q8=Q([Cd,UN,z8,qN],O8),dy=Q([Vo,Wo,xt,Fr,Yo,qN,q8,mp],P8),y0e=Q([VN,dy],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),V8=Q(Yo,U8,j8),v0e=Q([q8,U8,el,Ar,V8,mp,UN],D8),b0e=Q([VN],e=>({isActive:e.active,activeIndex:e.index})),x0e=(e,t,r,n,s,i,o,a)=>{if(!(!e||!t||!n||!s||!i)){var l=Hhe(e.chartX,e.chartY,t,r,a);if(l){var c=Ghe(l,t),d=Mhe(c,o,i,n,s),f=Yhe(t,i,d,l);return{activeIndex:String(d),activeCoordinate:f}}}};function e_(){return e_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e_.apply(null,arguments)}function F2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Cm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F2(Object(r),!0).forEach(function(n){w0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w0e(e,t,r){return(t=_0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _0e(e){var t=S0e(e,"string");return typeof t=="symbol"?t:t+""}function S0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E0e(e){var{coordinate:t,payload:r,index:n,offset:s,tooltipAxisBandSize:i,layout:o,cursor:a,tooltipEventType:l,chartName:c}=e,d=t,f=r,h=n;if(!a||!d||c!=="ScatterChart"&&l!=="axis")return null;var p,g;if(c==="ScatterChart")p=d,g=Kpe;else if(c==="BarChart")p=Hpe(o,d,s,i),g=F6;else if(o==="radial"){var{cx:m,cy:y,radius:v,startAngle:b,endAngle:x}=B6(d);p={cx:m,cy:y,startAngle:b,endAngle:x,innerRadius:v,outerRadius:v},g=U6}else p={points:Nme(o,d,s)},g=Mj;var E=typeof a=="object"&&"className"in a?a.className:void 0,_=Cm(Cm(Cm(Cm({stroke:"#ccc",pointerEvents:"none"},s),p),Ht(a,!1)),{},{payload:f,payloadIndex:h,className:rt("recharts-tooltip-cursor",E)});return w.isValidElement(a)?w.cloneElement(a,_):w.createElement(g,_)}function j0e(e){var t=h0e(),r=E6(),n=$j(),s=p0e();return S.createElement(E0e,e_({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:s}))}var W8=w.createContext(null),N0e=()=>w.useContext(W8),K8={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function i(l,c,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new s(d,f||l,h),g=r?r+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)t.call(d,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=r?r+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},a.prototype.listenerCount=function(c){var d=r?r+c:c,f=this._events[d];return f?f.fn?1:f.length:0},a.prototype.emit=function(c,d,f,h,p,g){var m=r?r+c:c;if(!this._events[m])return!1;var y=this._events[m],v=arguments.length,b,x;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,p),!0;case 6:return y.fn.call(y.context,d,f,h,p,g),!0}for(x=1,b=new Array(v-1);x<v;x++)b[x-1]=arguments[x];y.fn.apply(y.context,b)}else{var E=y.length,_;for(x=0;x<E;x++)switch(y[x].once&&this.removeListener(c,y[x].fn,void 0,!0),v){case 1:y[x].fn.call(y[x].context);break;case 2:y[x].fn.call(y[x].context,d);break;case 3:y[x].fn.call(y[x].context,d,f);break;case 4:y[x].fn.call(y[x].context,d,f,h);break;default:if(!b)for(_=1,b=new Array(v-1);_<v;_++)b[_-1]=arguments[_];y[x].fn.apply(y[x].context,b)}}return!0},a.prototype.on=function(c,d,f){return i(this,c,d,f,!1)},a.prototype.once=function(c,d,f){return i(this,c,d,f,!0)},a.prototype.removeListener=function(c,d,f,h){var p=r?r+c:c;if(!this._events[p])return this;if(!d)return o(this,p),this;var g=this._events[p];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&o(this,p);else{for(var m=0,y=[],v=g.length;m<v;m++)(g[m].fn!==d||h&&!g[m].once||f&&g[m].context!==f)&&y.push(g[m]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=r?r+c:c,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a})(K8);var k0e=K8.exports;const H8=ci(k0e);var jh=new H8,t_="recharts.syncEvent.tooltip",B2="recharts.syncEvent.brush";function Y8(e,t){if(t){var r=Number.parseInt(t,10);if(!js(r))return e==null?void 0:e[r]}}var C0e={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},G8=ts({name:"options",initialState:C0e,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),T0e=G8.reducer,{createEventEmitter:A0e}=G8.actions;function P0e(e){return e.tooltip.syncInteraction}var O0e={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Z8=ts({name:"chartData",initialState:O0e,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:z2,setDataStartEndIndexes:D0e,setComputedData:FRe}=Z8.actions,R0e=Z8.reducer,X8=()=>{};function $0e(){var e=Re(hN),t=Re(pN),r=Gt(),n=Re(zB),s=Re(Yo),i=$j(),o=Oj(),a=Re(l=>l.rootProps.className);w.useEffect(()=>{if(e==null)return X8;var l=(c,d,f)=>{if(t!==f&&e===c){if(n==="index"){r(d);return}if(s!=null){var h;if(typeof n=="function"){var p={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},g=n(s,p);h=s[g]}else n==="value"&&(h=s.find(N=>String(N.value)===d.payload.label));var{coordinate:m}=d.payload;if(h==null||d.payload.active===!1||m==null||o==null){r(J1({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:y,y:v}=m,b=Math.min(y,o.x+o.width),x=Math.min(v,o.y+o.height),E={x:i==="horizontal"?h.coordinate:b,y:i==="horizontal"?x:h.coordinate},_=J1({active:d.payload.active,coordinate:E,dataKey:d.payload.dataKey,index:String(h.index),label:d.payload.label});r(_)}}};return jh.on(t_,l),()=>{jh.off(t_,l)}},[a,r,t,e,n,s,i,o])}function I0e(){var e=Re(hN),t=Re(pN),r=Gt();w.useEffect(()=>{if(e==null)return X8;var n=(s,i,o)=>{t!==o&&e===s&&r(D0e(i))};return jh.on(B2,n),()=>{jh.off(B2,n)}},[r,t,e])}function M0e(){var e=Gt();w.useEffect(()=>{e(A0e())},[e]),$0e(),I0e()}function L0e(e,t,r,n,s,i){var o=Re(h=>g0e(h,e,t)),a=Re(pN),l=Re(hN),c=Re(zB),d=Re(P0e),f=d==null?void 0:d.active;w.useEffect(()=>{if(!f&&l!=null&&a!=null){var h=J1({active:i,coordinate:r,dataKey:o,index:s,label:typeof n=="number"?String(n):n});jh.emit(t_,l,h,a)}},[f,r,o,s,n,a,l,c,i])}function U2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function q2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U2(Object(r),!0).forEach(function(n){F0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F0e(e,t,r){return(t=B0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B0e(e){var t=z0e(e,"string");return typeof t=="symbol"?t:t+""}function z0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function U0e(e){return e.dataKey}function q0e(e,t){return S.isValidElement(e)?S.cloneElement(e,t):typeof e=="function"?S.createElement(e,t):S.createElement(Epe,t)}var V2=[],V0e={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!xd.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function W2(e){var t=Os(e,V0e),{active:r,allowEscapeViewBox:n,animationDuration:s,animationEasing:i,content:o,filterNull:a,isAnimationActive:l,offset:c,payloadUniqBy:d,position:f,reverseDirection:h,useTranslate3d:p,wrapperStyle:g,cursor:m,shared:y,trigger:v,defaultIndex:b,portal:x,axisId:E}=t,_=Gt(),N=typeof b=="number"?String(b):b;w.useEffect(()=>{_(bbe({shared:y,trigger:v,axisId:E,active:r,defaultIndex:N}))},[_,y,v,E,r,N]);var k=Oj(),C=C6(),T=pbe(y),{activeIndex:$,isActive:M}=Re(K=>b0e(K,T,v,N)),L=Re(K=>v0e(K,T,v,N)),D=Re(K=>V8(K,T,v,N)),z=Re(K=>y0e(K,T,v,N)),U=L,G=N0e(),q=r??M,[Z,ie]=zF([U,q]),R=T==="axis"?D:void 0;L0e(T,v,z,R,$,q);var B=x??G;if(B==null)return null;var X=U??V2;q||(X=V2),a&&X.length&&(X=OF(U.filter(K=>K.value!=null&&(K.hide!==!0||t.includeHidden)),d,U0e));var oe=X.length>0,W=S.createElement(Ppe,{allowEscapeViewBox:n,animationDuration:s,animationEasing:i,isAnimationActive:l,active:q,coordinate:z,hasPayload:oe,offset:c,position:f,reverseDirection:h,useTranslate3d:p,viewBox:k,wrapperStyle:g,lastBoundingBox:Z,innerRef:ie,hasPortalFromProps:!!x},q0e(o,q2(q2({},t),{},{payload:X,label:R,active:q,coordinate:z,accessibilityLayer:C})));return S.createElement(S.Fragment,null,Li.createPortal(W,B),q&&S.createElement(j0e,{cursor:m,tooltipEventType:T,coordinate:z,payload:U,index:$}))}var J8={},Q8={},ez={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:s,edges:i}={}){let o,a=null;const l=i!=null&&i.includes("leading"),c=i==null||i.includes("trailing"),d=()=>{a!==null&&(r.apply(o,a),o=void 0,a=null)},f=()=>{c&&d(),m()};let h=null;const p=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},g=()=>{h!==null&&(clearTimeout(h),h=null)},m=()=>{g(),o=void 0,a=null},y=()=>{d()},v=function(...b){if(s!=null&&s.aborted)return;o=this,a=b;const x=h==null;p(),l&&x&&d()};return v.schedule=p,v.cancel=m,v.flush=y,s==null||s.addEventListener("abort",m,{once:!0}),v}e.debounce=t})(ez);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ez;function r(n,s=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:a=!0,maxWait:l}=i,c=Array(2);o&&(c[0]="leading"),a&&(c[1]="trailing");let d,f=null;const h=t.debounce(function(...m){d=n.apply(this,m),f=null},s,{edges:c}),p=function(...m){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(d=n.apply(this,m),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,m),d)},g=()=>(h.flush(),d);return p.cancel=h.cancel,p.flush=g,p}e.debounce=r})(Q8);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Q8;function r(n,s=0,i={}){const{leading:o=!0,trailing:a=!0}=i;return t.debounce(n,s,{leading:o,maxWait:s,trailing:a})}e.throttle=r})(J8);var W0e=J8.throttle;const K0e=ci(W0e);var H0e=process.env.NODE_ENV!=="production",Bf=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i];if(H0e&&typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(r.replace(/%s/g,()=>s[o++]))}};function K2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K2(Object(r),!0).forEach(function(n){Y0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y0e(e,t,r){return(t=G0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G0e(e){var t=Z0e(e,"string");return typeof t=="symbol"?t:t+""}function Z0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var H2=w.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:s="100%",height:i="100%",minWidth:o=0,minHeight:a,maxHeight:l,children:c,debounce:d=0,id:f,className:h,onResize:p,style:g={}}=e,m=w.useRef(null),y=w.useRef();y.current=p,w.useImperativeHandle(t,()=>m.current);var[v,b]=w.useState({containerWidth:n.width,containerHeight:n.height}),x=w.useCallback((_,N)=>{b(k=>{var C=Math.round(_),T=Math.round(N);return k.containerWidth===C&&k.containerHeight===T?k:{containerWidth:C,containerHeight:T}})},[]);w.useEffect(()=>{var _=T=>{var $,{width:M,height:L}=T[0].contentRect;x(M,L),($=y.current)===null||$===void 0||$.call(y,M,L)};d>0&&(_=K0e(_,d,{trailing:!0,leading:!1}));var N=new ResizeObserver(_),{width:k,height:C}=m.current.getBoundingClientRect();return x(k,C),N.observe(m.current),()=>{N.disconnect()}},[x,d]);var E=w.useMemo(()=>{var{containerWidth:_,containerHeight:N}=v;if(_<0||N<0)return null;Bf(Nl(s)||Nl(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,i),Bf(!r||r>0,"The aspect(%s) must be greater than zero.",r);var k=Nl(s)?_:s,C=Nl(i)?N:i;return r&&r>0&&(k?C=k/r:C&&(k=C*r),l&&C>l&&(C=l)),Bf(k>0||C>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,k,C,s,i,o,a,r),S.Children.map(c,T=>w.cloneElement(T,{width:k,height:C,style:xx({width:k,height:C},T.props.style)}))},[r,c,i,l,a,o,v,s]);return S.createElement("div",{id:f?"".concat(f):void 0,className:rt("recharts-responsive-container",h),style:xx(xx({},g),{},{width:s,height:i,minWidth:o,minHeight:a,maxHeight:l}),ref:m},S.createElement("div",{style:{width:0,height:0,overflow:"visible"}},E))}),lb=e=>null;lb.displayName="Cell";function X0e(e,t,r){return(t=J0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J0e(e){var t=Q0e(e,"string");return typeof t=="symbol"?t:t+""}function Q0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class exe{constructor(t){X0e(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function Y2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function txe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y2(Object(r),!0).forEach(function(n){rxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rxe(e,t,r){return(t=nxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nxe(e){var t=sxe(e,"string");return typeof t=="symbol"?t:t+""}function sxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ixe={cacheSize:2e3,enableCache:!0},tz=txe({},ixe),G2=new exe(tz.cacheSize),oxe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Z2="recharts_measurement_span";function axe(e,t){var r=t.fontSize||"",n=t.fontFamily||"",s=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",a=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(s,"|").concat(i,"|").concat(o,"|").concat(a)}var X2=(e,t)=>{try{var r=document.getElementById(Z2);r||(r=document.createElement("span"),r.setAttribute("id",Z2),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,oxe,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},zf=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||xd.isSsr)return{width:0,height:0};if(!tz.enableCache)return X2(t,r);var n=axe(t,r),s=G2.get(n);if(s)return s;var i=X2(t,r);return G2.set(n,i),i},J2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Q2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,lxe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,cxe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,rz={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},uxe=Object.keys(rz),uu="NaN";function dxe(e,t){return e*rz[t]}class kn{static parse(t){var r,[,n,s]=(r=cxe.exec(t))!==null&&r!==void 0?r:[];return new kn(parseFloat(n),s??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,js(t)&&(this.unit=""),r!==""&&!lxe.test(r)&&(this.num=NaN,this.unit=""),uxe.includes(r)&&(this.num=dxe(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new kn(NaN,""):new kn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new kn(NaN,""):new kn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new kn(NaN,""):new kn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new kn(NaN,""):new kn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return js(this.num)}}function nz(e){if(e.includes(uu))return uu;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,s,i]=(r=J2.exec(t))!==null&&r!==void 0?r:[],o=kn.parse(n??""),a=kn.parse(i??""),l=s==="*"?o.multiply(a):o.divide(a);if(l.isNaN())return uu;t=t.replace(J2,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,d,f,h]=(c=Q2.exec(t))!==null&&c!==void 0?c:[],p=kn.parse(d??""),g=kn.parse(h??""),m=f==="+"?p.add(g):p.subtract(g);if(m.isNaN())return uu;t=t.replace(Q2,m.toString())}return t}var eD=/\(([^()]*)\)/;function fxe(e){for(var t=e,r;(r=eD.exec(t))!=null;){var[,n]=r;t=t.replace(eD,nz(n))}return t}function hxe(e){var t=e.replace(/\s+/g,"");return t=fxe(t),t=nz(t),t}function pxe(e){try{return hxe(e)}catch{return uu}}function wx(e){var t=pxe(e.slice(5,-1));return t===uu?"":t}var mxe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],gxe=["dx","dy","angle","className","breakAll"];function r_(){return r_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r_.apply(null,arguments)}function tD(e,t){if(e==null)return{};var r,n,s=yxe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function yxe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var sz=/[ \f\n\r\t\v\u2028\u2029]+/,iz=e=>{var{children:t,breakAll:r,style:n}=e;try{var s=[];hr(t)||(r?s=t.toString().split(""):s=t.toString().split(sz));var i=s.map(a=>({word:a,width:zf(a,n).width})),o=r?0:zf(" ",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}},vxe=(e,t,r,n,s)=>{var{maxLines:i,children:o,style:a,breakAll:l}=e,c=Ae(i),d=o,f=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce((L,D)=>{var{word:z,width:U}=D,G=L[L.length-1];if(G&&(n==null||s||G.width+U+r<Number(n)))G.words.push(z),G.width+=U+r;else{var q={words:[z],width:U};L.push(q)}return L},[])},h=f(t),p=$=>$.reduce((M,L)=>M.width>L.width?M:L);if(!c||s)return h;var g=h.length>i||p(h).width>Number(n);if(!g)return h;for(var m="…",y=$=>{var M=d.slice(0,$),L=iz({breakAll:l,style:a,children:M+m}).wordsWithComputedWidth,D=f(L),z=D.length>i||p(D).width>Number(n);return[z,D]},v=0,b=d.length-1,x=0,E;v<=b&&x<=d.length-1;){var _=Math.floor((v+b)/2),N=_-1,[k,C]=y(N),[T]=y(_);if(!k&&!T&&(v=_+1),k&&T&&(b=_-1),!k&&T){E=C;break}x++}return E||h},rD=e=>{var t=hr(e)?[]:e.toString().split(sz);return[{words:t}]},bxe=e=>{var{width:t,scaleToFit:r,children:n,style:s,breakAll:i,maxLines:o}=e;if((t||r)&&!xd.isSsr){var a,l,c=iz({breakAll:i,children:n,style:s});if(c){var{wordsWithComputedWidth:d,spaceWidth:f}=c;a=d,l=f}else return rD(n);return vxe({breakAll:i,children:n,maxLines:o,style:s},a,l,t,r)}return rD(n)},nD="#808080",cb=w.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:s="1em",capHeight:i="0.71em",scaleToFit:o=!1,textAnchor:a="start",verticalAnchor:l="end",fill:c=nD}=e,d=tD(e,mxe),f=w.useMemo(()=>bxe({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:o,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,o,d.style,d.width]),{dx:h,dy:p,angle:g,className:m,breakAll:y}=d,v=tD(d,gxe);if(!zi(r)||!zi(n))return null;var b=r+(Ae(h)?h:0),x=n+(Ae(p)?p:0),E;switch(l){case"start":E=wx("calc(".concat(i,")"));break;case"middle":E=wx("calc(".concat((f.length-1)/2," * -").concat(s," + (").concat(i," / 2))"));break;default:E=wx("calc(".concat(f.length-1," * -").concat(s,")"));break}var _=[];if(o){var N=f[0].width,{width:k}=d;_.push("scale(".concat(Ae(k)?k/N:1,")"))}return g&&_.push("rotate(".concat(g,", ").concat(b,", ").concat(x,")")),_.length&&(v.transform=_.join(" ")),S.createElement("text",r_({},Ht(v,!0),{ref:t,x:b,y:x,className:rt("recharts-text",m),textAnchor:a,fill:c.includes("url")?nD:c}),f.map((C,T)=>{var $=C.words.join(y?"":" ");return S.createElement("tspan",{x:b,dy:T===0?E:s,key:"".concat($,"-").concat(T)},$)}))});cb.displayName="Text";var xxe=["offset"],wxe=["labelRef"];function sD(e,t){if(e==null)return{};var r,n,s=_xe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function _xe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function iD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iD(Object(r),!0).forEach(function(n){Sxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sxe(e,t,r){return(t=Exe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Exe(e){var t=jxe(e,"string");return typeof t=="symbol"?t:t+""}function jxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vo(){return vo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vo.apply(null,arguments)}var Nxe=e=>{var{value:t,formatter:r}=e,n=hr(e.children)?t:e.children;return typeof r=="function"?r(n):n},WN=e=>e!=null&&typeof e=="function",kxe=(e,t)=>{var r=an(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Cxe=(e,t,r,n)=>{var{position:s,offset:i,className:o}=e,{cx:a,cy:l,innerRadius:c,outerRadius:d,startAngle:f,endAngle:h,clockWise:p}=n,g=(c+d)/2,m=kxe(f,h),y=m>=0?1:-1,v,b;s==="insideStart"?(v=f+y*i,b=p):s==="insideEnd"?(v=h-y*i,b=!p):s==="end"&&(v=h+y*i,b=p),b=m<=0?b:!b;var x=fr(a,l,g,v),E=fr(a,l,g,v+(b?1:-1)*359),_="M".concat(x.x,",").concat(x.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(b?0:1,`,
    `).concat(E.x,",").concat(E.y),N=hr(e.id)?mh("recharts-radial-line-"):e.id;return S.createElement("text",vo({},r,{dominantBaseline:"central",className:rt("recharts-radial-bar-label",o)}),S.createElement("defs",null,S.createElement("path",{id:N,d:_})),S.createElement("textPath",{xlinkHref:"#".concat(N)},t))},Txe=(e,t,r)=>{var{cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:a,endAngle:l}=e,c=(a+l)/2;if(r==="outside"){var{x:d,y:f}=fr(n,s,o+t,c);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"end"};var h=(i+o)/2,{x:p,y:g}=fr(n,s,h,c);return{x:p,y:g,textAnchor:"middle",verticalAnchor:"middle"}},Axe=(e,t)=>{var{parentViewBox:r,offset:n,position:s}=e,{x:i,y:o,width:a,height:l}=t,c=l>=0?1:-1,d=c*n,f=c>0?"end":"start",h=c>0?"start":"end",p=a>=0?1:-1,g=p*n,m=p>0?"end":"start",y=p>0?"start":"end";if(s==="top"){var v={x:i+a/2,y:o-c*n,textAnchor:"middle",verticalAnchor:f};return Zt(Zt({},v),r?{height:Math.max(o-r.y,0),width:a}:{})}if(s==="bottom"){var b={x:i+a/2,y:o+l+d,textAnchor:"middle",verticalAnchor:h};return Zt(Zt({},b),r?{height:Math.max(r.y+r.height-(o+l),0),width:a}:{})}if(s==="left"){var x={x:i-g,y:o+l/2,textAnchor:m,verticalAnchor:"middle"};return Zt(Zt({},x),r?{width:Math.max(x.x-r.x,0),height:l}:{})}if(s==="right"){var E={x:i+a+g,y:o+l/2,textAnchor:y,verticalAnchor:"middle"};return Zt(Zt({},E),r?{width:Math.max(r.x+r.width-E.x,0),height:l}:{})}var _=r?{width:a,height:l}:{};return s==="insideLeft"?Zt({x:i+g,y:o+l/2,textAnchor:y,verticalAnchor:"middle"},_):s==="insideRight"?Zt({x:i+a-g,y:o+l/2,textAnchor:m,verticalAnchor:"middle"},_):s==="insideTop"?Zt({x:i+a/2,y:o+d,textAnchor:"middle",verticalAnchor:h},_):s==="insideBottom"?Zt({x:i+a/2,y:o+l-d,textAnchor:"middle",verticalAnchor:f},_):s==="insideTopLeft"?Zt({x:i+g,y:o+d,textAnchor:y,verticalAnchor:h},_):s==="insideTopRight"?Zt({x:i+a-g,y:o+d,textAnchor:m,verticalAnchor:h},_):s==="insideBottomLeft"?Zt({x:i+g,y:o+l-d,textAnchor:y,verticalAnchor:f},_):s==="insideBottomRight"?Zt({x:i+a-g,y:o+l-d,textAnchor:m,verticalAnchor:f},_):s&&typeof s=="object"&&(Ae(s.x)||Nl(s.x))&&(Ae(s.y)||Nl(s.y))?Zt({x:i+Es(s.x,a),y:o+Es(s.y,l),textAnchor:"end",verticalAnchor:"end"},_):Zt({x:i+a/2,y:o+l/2,textAnchor:"middle",verticalAnchor:"middle"},_)},Pxe=e=>"cx"in e&&Ae(e.cx);function Yn(e){var{offset:t=5}=e,r=sD(e,xxe),n=Zt({offset:t},r),{viewBox:s,position:i,value:o,children:a,content:l,className:c="",textBreakAll:d,labelRef:f}=n,h=Re(KB),p=Oj(),g=i==="center"?p:h??p,m=s||g;if(!m||hr(o)&&hr(a)&&!w.isValidElement(l)&&typeof l!="function")return null;var y=Zt(Zt({},n),{},{viewBox:m});if(w.isValidElement(l)){var{labelRef:v}=y,b=sD(y,wxe);return w.cloneElement(l,b)}var x;if(typeof l=="function"){if(x=w.createElement(l,y),w.isValidElement(x))return x}else x=Nxe(n);var E=Pxe(m),_=Ht(n,!0);if(E&&(i==="insideStart"||i==="insideEnd"||i==="end"))return Cxe(n,x,_,m);var N=E?Txe(m,n.offset,n.position):Axe(n,m);return S.createElement(cb,vo({ref:f,className:rt("recharts-label",c)},_,N,{breakAll:d}),x)}Yn.displayName="Label";var oz=e=>{var{cx:t,cy:r,angle:n,startAngle:s,endAngle:i,r:o,radius:a,innerRadius:l,outerRadius:c,x:d,y:f,top:h,left:p,width:g,height:m,clockWise:y,labelViewBox:v}=e;if(v)return v;if(Ae(g)&&Ae(m)){if(Ae(d)&&Ae(f))return{x:d,y:f,width:g,height:m};if(Ae(h)&&Ae(p))return{x:h,y:p,width:g,height:m}}if(Ae(d)&&Ae(f))return{x:d,y:f,width:0,height:0};if(Ae(t)&&Ae(r))return{cx:t,cy:r,startAngle:s||n||0,endAngle:i||n||0,innerRadius:l||0,outerRadius:c||a||o||0,clockWise:y};if(e.viewBox)return e.viewBox},Oxe=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?S.createElement(Yn,vo({key:"label-implicit"},n)):zi(e)?S.createElement(Yn,vo({key:"label-implicit",value:e},n)):w.isValidElement(e)?e.type===Yn?w.cloneElement(e,Zt({key:"label-implicit"},n)):S.createElement(Yn,vo({key:"label-implicit",content:e},n)):WN(e)?S.createElement(Yn,vo({key:"label-implicit",content:e},n)):e&&typeof e=="object"?S.createElement(Yn,vo({},e,{key:"label-implicit"},n)):null},Dxe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:s,labelRef:i}=t,o=oz(t),a=Av(s,Yn).map((c,d)=>w.cloneElement(c,{viewBox:r||o,key:"label-".concat(d)}));if(!n)return a;var l=Oxe(t.label,r||o,i);return[l,...a]};Yn.parseViewBox=oz;Yn.renderCallByParent=Dxe;var az={},lz={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(lz);var cz={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(cz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lz,r=cz,n=Rv;function s(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=s})(az);var Rxe=az.last;const $xe=ci(Rxe);var Ixe=["valueAccessor"],Mxe=["data","dataKey","clockWise","id","textBreakAll"];function fy(){return fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fy.apply(null,arguments)}function oD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function aD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oD(Object(r),!0).forEach(function(n){Lxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lxe(e,t,r){return(t=Fxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fxe(e){var t=Bxe(e,"string");return typeof t=="symbol"?t:t+""}function Bxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lD(e,t){if(e==null)return{};var r,n,s=zxe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function zxe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Uxe=e=>Array.isArray(e.value)?$xe(e.value):e.value;function ql(e){var{valueAccessor:t=Uxe}=e,r=lD(e,Ixe),{data:n,dataKey:s,clockWise:i,id:o,textBreakAll:a}=r,l=lD(r,Mxe);return!n||!n.length?null:S.createElement(Ns,{className:"recharts-label-list"},n.map((c,d)=>{var f=hr(s)?t(c,d):Mt(c&&c.payload,s),h=hr(o)?{}:{id:"".concat(o,"-").concat(d)};return S.createElement(Yn,fy({},Ht(c,!0),l,h,{parentViewBox:c.parentViewBox,value:f,textBreakAll:a,viewBox:Yn.parseViewBox(hr(i)?c:aD(aD({},c),{},{clockWise:i})),key:"label-".concat(d),index:d}))}))}ql.displayName="LabelList";function qxe(e,t){return e?e===!0?S.createElement(ql,{key:"labelList-implicit",data:t}):S.isValidElement(e)||WN(e)?S.createElement(ql,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?S.createElement(ql,fy({data:t},e,{key:"labelList-implicit"})):null:null}function Vxe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:n}=e,s=Av(n,ql).map((o,a)=>w.cloneElement(o,{data:t,key:"labelList-".concat(a)}));if(!r)return s;var i=qxe(e.label,t);return[i,...s]}ql.renderCallByParent=Vxe;function n_(){return n_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n_.apply(null,arguments)}var uz=e=>{var{cx:t,cy:r,r:n,className:s}=e,i=rt("recharts-dot",s);return t===+t&&r===+r&&n===+n?S.createElement("circle",n_({},Za(e),oj(e),{className:i,cx:t,cy:r,r:n})):null},dz=e=>e.graphicalItems.polarItems,Wxe=Q([zt,dp],xN),KN=Q([dz,or,Wxe],wN),Kxe=Q([KN],_N),HN=Q([Kxe,lN],SN),Hxe=Q([HN,or,KN],jN),Yxe=Q([HN,or,KN],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(s=>{var i,o=Mt(n,(i=t.dataKey)!==null&&i!==void 0?i:s.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Mt(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),cD=()=>{},Gxe=Q([or,d8,cD,Yxe,cD,xt,zt],kN),fz=Q([or,xt,HN,Hxe,up,zt,Gxe],CN),Zxe=Q([fz,or,Nd],PN);Q([or,fz,Zxe,zt],DN);var Xxe={radiusAxis:{},angleAxis:{}},hz=ts({name:"polarAxis",initialState:Xxe,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:BRe,removeRadiusAxis:zRe,addAngleAxis:URe,removeAngleAxis:qRe}=hz.actions,Jxe=hz.reducer;function uD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uD(Object(r),!0).forEach(function(n){Qxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qxe(e,t,r){return(t=ewe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ewe(e){var t=twe(e,"string");return typeof t=="symbol"?t:t+""}function twe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rwe=(e,t)=>t,YN=Q([dz,rwe],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),nwe=[],GN=(e,t,r)=>(r==null?void 0:r.length)===0?nwe:r,pz=Q([lN,YN,GN],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var s;if((t==null?void 0:t.data)!=null&&t.data.length>0?s=t.data:s=n,(!s||!s.length)&&r!=null&&(s=r.map(i=>dD(dD({},t.presentationProps),i.props))),s!=null)return s}}),swe=Q([pz,YN,GN],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,s)=>{var i,o=Mt(n,t.nameKey,t.name),a;return r!=null&&(i=r[s])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?a=r[s].props.fill:typeof n=="object"&&n!=null&&"fill"in n?a=n.fill:a=t.fill,{value:Vv(o,t.dataKey),color:a,payload:n,type:t.legendType}})}),iwe=Q([pz,YN,GN,Fr],(e,t,r,n)=>{if(!(t==null||e==null))return r1e({offset:n,pieSettings:t,displayedData:e,cells:r})}),mz={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var s;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((s=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&s.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(mz);var owe=mz.isPlainObject;const awe=ci(owe);function hy(){return hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hy.apply(null,arguments)}var fD=(e,t,r,n,s)=>{var i=r-n,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-i/2,",").concat(t+s),o+="L ".concat(e+r-i/2-n,",").concat(t+s),o+="L ".concat(e,",").concat(t," Z"),o},lwe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cwe=e=>{var t=Os(e,lwe),r=w.useRef(),[n,s]=w.useState(-1);w.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var y=r.current.getTotalLength();y&&s(y)}catch{}},[]);var{x:i,y:o,upperWidth:a,lowerWidth:l,height:c,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:p,isUpdateAnimationActive:g}=t;if(i!==+i||o!==+o||a!==+a||l!==+l||c!==+c||a===0&&l===0||c===0)return null;var m=rt("recharts-trapezoid",d);return g?S.createElement(Xg,{canBegin:n>0,from:{upperWidth:0,lowerWidth:0,height:c,x:i,y:o},to:{upperWidth:a,lowerWidth:l,height:c,x:i,y:o},duration:h,animationEasing:f,isActive:g},y=>{var{upperWidth:v,lowerWidth:b,height:x,x:E,y:_}=y;return S.createElement(Xg,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:h,easing:f},S.createElement("path",hy({},Ht(t,!0),{className:m,d:fD(E,_,v,b,x),ref:r})))}):S.createElement("g",null,S.createElement("path",hy({},Ht(t,!0),{className:m,d:fD(i,o,a,l,c)})))},uwe=["option","shapeType","propTransformer","activeClassName","isActive"];function dwe(e,t){if(e==null)return{};var r,n,s=fwe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function fwe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function hD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function py(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hD(Object(r),!0).forEach(function(n){hwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hwe(e,t,r){return(t=pwe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pwe(e){var t=mwe(e,"string");return typeof t=="symbol"?t:t+""}function mwe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gwe(e,t){return py(py({},t),e)}function ywe(e,t){return e==="symbols"}function pD(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return S.createElement(F6,r);case"trapezoid":return S.createElement(cwe,r);case"sector":return S.createElement(U6,r);case"symbols":if(ywe(t))return S.createElement(fj,r);break;default:return null}}function vwe(e){return w.isValidElement(e)?e.props:e}function bwe(e){var{option:t,shapeType:r,propTransformer:n=gwe,activeClassName:s="recharts-active-shape",isActive:i}=e,o=dwe(e,uwe),a;if(w.isValidElement(t))a=w.cloneElement(t,py(py({},o),vwe(t)));else if(typeof t=="function")a=t(o);else if(awe(t)&&typeof t!="boolean"){var l=n(t,o);a=S.createElement(pD,{shapeType:r,elementProps:l})}else{var c=o;a=S.createElement(pD,{shapeType:r,elementProps:c})}return i?S.createElement(Ns,{className:s},a):a}var xwe=(e,t)=>{var r=Gt();return(n,s)=>i=>{e==null||e(n,s,i),r(k8({activeIndex:String(s),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},wwe=e=>{var t=Gt();return(r,n)=>s=>{e==null||e(r,n,s),t(xbe())}},_we=(e,t)=>{var r=Gt();return(n,s)=>i=>{e==null||e(n,s,i),r(wbe({activeIndex:String(s),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function gz(e){var{fn:t,args:r}=e,n=Gt(),s=Ps();return w.useEffect(()=>{if(!s){var i=t(r);return n(ybe(i)),()=>{n(vbe(i))}}},[t,r,n,s]),null}var yz=()=>{};function Swe(e){var{legendPayload:t}=e,r=Gt(),n=Ps();return w.useEffect(()=>n?yz:(r(N6(t)),()=>{r(k6(t))}),[r,n,t]),null}function Ewe(e){var{legendPayload:t}=e,r=Gt(),n=Re(xt);return w.useEffect(()=>n!=="centric"&&n!=="radial"?yz:(r(N6(t)),()=>{r(k6(t))}),[r,n,t]),null}function vz(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=w.useRef(mh(t)),n=w.useRef(e);return n.current!==e&&(r.current=mh(t),n.current=e),r.current}var _x,jwe=()=>{var[e]=S.useState(()=>mh("uid-"));return e},Nwe=(_x=S.useId)!==null&&_x!==void 0?_x:jwe;function kwe(e,t){var r=Nwe();return t||(e?"".concat(e,"-").concat(r):r)}var Cwe=w.createContext(void 0),bz=e=>{var{id:t,type:r,children:n}=e,s=kwe("recharts-".concat(r),t);return S.createElement(Cwe.Provider,{value:s},n(s))},Twe={cartesianItems:[],polarItems:[]},xz=ts({name:"graphicalItems",initialState:Twe,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,s=_o(e).cartesianItems.indexOf(r);s>-1&&(e.cartesianItems[s]=n)},removeCartesianGraphicalItem(e,t){var r=_o(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=_o(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:Awe,replaceCartesianGraphicalItem:Pwe,removeCartesianGraphicalItem:Owe,addPolarGraphicalItem:Dwe,removePolarGraphicalItem:Rwe}=xz.actions,$we=xz.reducer;function Iwe(e){var t=Gt(),r=w.useRef(null);return w.useEffect(()=>{r.current===null?t(Awe(e)):r.current!==e&&t(Pwe({prev:r.current,next:e})),r.current=e},[t,e]),w.useEffect(()=>()=>{r.current&&(t(Owe(r.current)),r.current=null)},[t]),null}function Mwe(e){var t=Gt();return w.useEffect(()=>(t(Dwe(e)),()=>{t(Rwe(e))}),[t,e]),null}function Lwe(){}var Fwe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},mD={t:0},Sx={t:1};function wz(e){var t=Os(e,Fwe),{isActive:r,canBegin:n,duration:s,easing:i,begin:o,onAnimationEnd:a,onAnimationStart:l,children:c}=t,d=L6("JavascriptAnimate",t.animationManager),[f,h]=w.useState(r?mD:Sx),p=w.useRef(null);return w.useEffect(()=>{r||h(Sx)},[r]),w.useEffect(()=>{if(!r||!n)return Lwe;var g=M6(mD,Sx,$6(i),s,h,d.getTimeoutController()),m=()=>{p.current=g()};return d.start([l,o,m,s,a]),()=>{d.stop(),p.current&&p.current(),a()}},[r,n,s,i,o,l,a,d]),c(f.t)}var Bwe=["onMouseEnter","onClick","onMouseLeave"],zwe=["id"],Uwe=["id"];function ZN(e,t){if(e==null)return{};var r,n,s=qwe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function qwe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function gD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gD(Object(r),!0).forEach(function(n){Vwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vwe(e,t,r){return(t=Wwe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wwe(e){var t=Kwe(e,"string");return typeof t=="symbol"?t:t+""}function Kwe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Io(){return Io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Io.apply(null,arguments)}function Hwe(e){var t=w.useMemo(()=>Av(e.children,lb),[e.children]),r=Re(n=>swe(n,e.id,t));return r==null?null:S.createElement(Ewe,{legendPayload:r})}function Ywe(e){var{dataKey:t,nameKey:r,sectors:n,stroke:s,strokeWidth:i,fill:o,name:a,hide:l,tooltipType:c}=e;return{dataDefinedOnItem:n==null?void 0:n.map(d=>d.tooltipPayload),positions:n==null?void 0:n.map(d=>d.tooltipPosition),settings:{stroke:s,strokeWidth:i,fill:o,dataKey:t,nameKey:r,name:Vv(a,t),hide:l,type:c,color:o,unit:""}}}var Gwe=(e,t)=>e>t?"start":e<t?"end":"middle",Zwe=(e,t,r)=>typeof t=="function"?t(e):Es(t,r,r*.8),Xwe=(e,t,r)=>{var{top:n,left:s,width:i,height:o}=t,a=g6(i,o),l=s+Es(e.cx,i,i/2),c=n+Es(e.cy,o,o/2),d=Es(e.innerRadius,a,0),f=Zwe(r,e.outerRadius,a),h=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:f,maxRadius:h}},Jwe=(e,t)=>{var r=an(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Qwe=(e,t)=>{if(S.isValidElement(e))return S.cloneElement(e,t);if(typeof e=="function")return e(t);var r=rt("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return S.createElement(Mj,Io({},t,{type:"linear",className:r}))},e1e=(e,t,r)=>{if(S.isValidElement(e))return S.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),S.isValidElement(n)))return n;var s=rt("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return S.createElement(cb,Io({},t,{alignmentBaseline:"middle",className:s}),n)};function t1e(e){var{sectors:t,props:r,showLabels:n}=e,{label:s,labelLine:i,dataKey:o}=r;if(!n||!s||!t)return null;var a=Za(r),l=Ht(s,!1),c=Ht(i,!1),d=typeof s=="object"&&"offsetRadius"in s&&s.offsetRadius||20,f=t.map((h,p)=>{var g=(h.startAngle+h.endAngle)/2,m=fr(h.cx,h.cy,h.outerRadius+d,g),y=Jt(Jt(Jt(Jt({},a),h),{},{stroke:"none"},l),{},{index:p,textAnchor:Gwe(m.x,h.cx)},m),v=Jt(Jt(Jt(Jt({},a),h),{},{fill:"none",stroke:h.fill},c),{},{index:p,points:[fr(h.cx,h.cy,h.outerRadius,g),m],key:"line"});return S.createElement(Ns,{key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(p)},i&&Qwe(i,v),e1e(s,y,Mt(h,o)))});return S.createElement(Ns,{className:"recharts-pie-labels"},f)}function _z(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:s,showLabels:i}=e,o=Re(Ju),{onMouseEnter:a,onClick:l,onMouseLeave:c}=s,d=ZN(s,Bwe),f=xwe(a,s.dataKey),h=wwe(c),p=_we(l,s.dataKey);return t==null?null:S.createElement(S.Fragment,null,t.map((g,m)=>{if((g==null?void 0:g.startAngle)===0&&(g==null?void 0:g.endAngle)===0&&t.length!==1)return null;var y=r&&String(m)===o,v=o?n:null,b=y?r:v,x=Jt(Jt({},g),{},{stroke:g.stroke,tabIndex:-1,[w6]:m,[_6]:s.dataKey});return S.createElement(Ns,Io({tabIndex:-1,className:"recharts-pie-sector"},aj(d,g,m),{onMouseEnter:f(g,m),onMouseLeave:h(g,m),onClick:p(g,m),key:"sector-".concat(g==null?void 0:g.startAngle,"-").concat(g==null?void 0:g.endAngle,"-").concat(g.midAngle,"-").concat(m)}),S.createElement(bwe,Io({option:b,isActive:y,shapeType:"sector"},x)))}),S.createElement(t1e,{sectors:t,props:s,showLabels:i}))}function r1e(e){var t,{pieSettings:r,displayedData:n,cells:s,offset:i}=e,{cornerRadius:o,startAngle:a,endAngle:l,dataKey:c,nameKey:d,tooltipType:f}=r,h=Math.abs(r.minAngle),p=Jwe(a,l),g=Math.abs(p),m=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,y=n.filter(N=>Mt(N,c,0)!==0).length,v=(g>=360?y:y-1)*m,b=g-y*h-v,x=n.reduce((N,k)=>{var C=Mt(k,c,0);return N+(Ae(C)?C:0)},0),E;if(x>0){var _;E=n.map((N,k)=>{var C=Mt(N,c,0),T=Mt(N,d,k),$=Xwe(r,i,N),M=(Ae(C)?C:0)/x,L,D=Jt(Jt({},N),s&&s[k]&&s[k].props);k?L=_.endAngle+an(p)*m*(C!==0?1:0):L=a;var z=L+an(p)*((C!==0?h:0)+M*b),U=(L+z)/2,G=($.innerRadius+$.outerRadius)/2,q=[{name:T,value:C,payload:D,dataKey:c,type:f}],Z=fr($.cx,$.cy,G,U);return _=Jt(Jt(Jt(Jt({},r.presentationProps),{},{percent:M,cornerRadius:o,name:T,tooltipPayload:q,midAngle:U,middleRadius:G,tooltipPosition:Z},D),$),{},{value:Mt(N,c),startAngle:L,endAngle:z,payload:D,paddingAngle:an(p)*m}),_})}return E}function n1e(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:s,animationBegin:i,animationDuration:o,animationEasing:a,activeShape:l,inactiveShape:c,onAnimationStart:d,onAnimationEnd:f}=t,h=vz(t,"recharts-pie-"),p=r.current,[g,m]=w.useState(!0),y=w.useCallback(()=>{typeof f=="function"&&f(),m(!1)},[f]),v=w.useCallback(()=>{typeof d=="function"&&d(),m(!0)},[d]);return S.createElement(wz,{begin:i,duration:o,isActive:s,easing:a,onAnimationStart:v,onAnimationEnd:y,key:h},b=>{var x=[],E=n&&n[0],_=E.startAngle;return n.forEach((N,k)=>{var C=p&&p[k],T=k>0?qa(N,"paddingAngle",0):0;if(C){var $=LP(C.endAngle-C.startAngle,N.endAngle-N.startAngle),M=Jt(Jt({},N),{},{startAngle:_+T,endAngle:_+$(b)+T});x.push(M),_=M.endAngle}else{var{endAngle:L,startAngle:D}=N,z=LP(0,L-D),U=z(b),G=Jt(Jt({},N),{},{startAngle:_+T,endAngle:_+U+T});x.push(G),_=G.endAngle}}),r.current=x,S.createElement(Ns,null,S.createElement(_z,{sectors:x,activeShape:l,inactiveShape:c,allOtherPieProps:t,showLabels:!g}))})}function s1e(e){var{sectors:t,isAnimationActive:r,activeShape:n,inactiveShape:s}=e,i=w.useRef(null),o=i.current;return r&&t&&t.length&&(!o||o!==t)?S.createElement(n1e,{props:e,previousSectorsRef:i}):S.createElement(_z,{sectors:t,activeShape:n,inactiveShape:s,allOtherPieProps:e,showLabels:!0})}function i1e(e){var{hide:t,className:r,rootTabIndex:n}=e,s=rt("recharts-pie",r);return t?null:S.createElement(Ns,{tabIndex:n,className:s},S.createElement(s1e,e))}var o1e={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!xd.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function a1e(e){var{id:t}=e,r=ZN(e,zwe),n=w.useMemo(()=>Av(e.children,lb),[e.children]),s=Re(i=>iwe(i,t,n));return S.createElement(S.Fragment,null,S.createElement(gz,{fn:Ywe,args:Jt(Jt({},e),{},{sectors:s})}),S.createElement(i1e,Io({},r,{sectors:s})))}function Sz(e){var t=Os(e,o1e),{id:r}=t,n=ZN(t,Uwe),s=Za(n);return S.createElement(bz,{id:r,type:"pie"},i=>S.createElement(S.Fragment,null,S.createElement(Mwe,{type:"pie",id:i,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:s}),S.createElement(Hwe,Io({},n,{id:i})),S.createElement(a1e,Io({},n,{id:i})),n.children))}Sz.displayName="Pie";var l1e=Q([Fr],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),c1e=Q([l1e,Vo,Wo],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),XN=()=>Re(c1e),u1e=()=>Re(l0e);function yD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function vD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yD(Object(r),!0).forEach(function(n){d1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d1e(e,t,r){return(t=f1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f1e(e){var t=h1e(e,"string");return typeof t=="symbol"?t:t+""}function h1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var p1e=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:s,dataKey:i}=e;if(s===!1||t.x==null||t.y==null)return null;var o=vD(vD({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},Ht(s,!1)),oj(s)),a;return w.isValidElement(s)?a=w.cloneElement(s,o):typeof s=="function"?a=s(o):a=S.createElement(uz,o),S.createElement(Ns,{className:"recharts-active-dot"},a)};function m1e(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:s}=e,i=Re(Ju),o=u1e();if(t==null||o==null)return null;var a=t.find(l=>o.includes(l.payload));return hr(a)?null:p1e({point:a,childIndex:Number(i),mainColor:r,dataKey:s,activeDot:n})}var g1e={},Ez=ts({name:"errorBars",initialState:g1e,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(s=>s.dataKey!==n.dataKey||s.direction!==n.direction))}}}),{addErrorBar:VRe,removeErrorBar:WRe}=Ez.actions,y1e=Ez.reducer,v1e=["children"];function b1e(e,t){if(e==null)return{};var r,n,s=x1e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function x1e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var w1e={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},_1e=w.createContext(w1e);function S1e(e){var{children:t}=e,r=b1e(e,v1e);return S.createElement(_1e.Provider,{value:r},t)}function jz(e,t){var r,n,s=Re(c=>Ho(c,e)),i=Re(c=>tl(c,t)),o=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:Un.allowDataOverflow,a=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:qn.allowDataOverflow,l=o||a;return{needClip:l,needClipX:o,needClipY:a}}function E1e(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,s=XN(),{needClipX:i,needClipY:o,needClip:a}=jz(t,r);if(!a)return null;var{x:l,y:c,width:d,height:f}=s;return S.createElement("clipPath",{id:"clipPath-".concat(n)},S.createElement("rect",{x:i?l:l-d/2,y:o?c:c-f/2,width:i?d:d*2,height:o?f:f*2}))}var Nz=e=>{var{chartData:t}=e,r=Gt(),n=Ps();return w.useEffect(()=>n?()=>{}:(r(z2(t)),()=>{r(z2(void 0))}),[t,r,n]),null},bD={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},kz=ts({name:"brush",initialState:bD,reducers:{setBrushSettings(e,t){return t.payload==null?bD:t.payload}}}),{setBrushSettings:KRe}=kz.actions,j1e=kz.reducer;function N1e(e,t,r){return(t=k1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k1e(e){var t=C1e(e,"string");return typeof t=="symbol"?t:t+""}function C1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class JN{static create(t){return new JN(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],s=r[r.length-1];return n<=s?t>=n&&t<=s:t>=s&&t<=n}}N1e(JN,"EPS",1e-4);function T1e(e){return(e%180+180)%180}var A1e=function(t){var{width:r,height:n}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=T1e(s),o=i*Math.PI/180,a=Math.atan(n/r),l=o>a&&o<Math.PI-a?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},P1e={dots:[],areas:[],lines:[]},Cz=ts({name:"referenceElements",initialState:P1e,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=_o(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=_o(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=_o(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:HRe,removeDot:YRe,addArea:GRe,removeArea:ZRe,addLine:XRe,removeLine:JRe}=Cz.actions,O1e=Cz.reducer,D1e=w.createContext(void 0),R1e=e=>{var{children:t}=e,[r]=w.useState("".concat(mh("recharts"),"-clip")),n=XN();if(n==null)return null;var{x:s,y:i,width:o,height:a}=n;return S.createElement(D1e.Provider,{value:r},S.createElement("defs",null,S.createElement("clipPath",{id:r},S.createElement("rect",{x:s,y:i,height:a,width:o}))),t)};function Ex(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Tz(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function $1e(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return A1e(n,r)}function I1e(e,t,r){var n=r==="width",{x:s,y:i,width:o,height:a}=e;return t===1?{start:n?s:i,end:n?s+o:i+a}:{start:n?s+o:i+a,end:n?s:i}}function my(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function M1e(e,t){return Tz(e,t+1)}function L1e(e,t,r,n,s){for(var i=(n||[]).slice(),{start:o,end:a}=t,l=0,c=1,d=o,f=function(){var g=n==null?void 0:n[l];if(g===void 0)return{v:Tz(n,c)};var m=l,y,v=()=>(y===void 0&&(y=r(g,m)),y),b=g.coordinate,x=l===0||my(e,b,v,d,a);x||(l=0,d=o,c+=1),x&&(d=b+e*(v()/2+s),l+=c)},h;c<=i.length;)if(h=f(),h)return h.v;return[]}function xD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function en(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xD(Object(r),!0).forEach(function(n){F1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F1e(e,t,r){return(t=B1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B1e(e){var t=z1e(e,"string");return typeof t=="symbol"?t:t+""}function z1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function U1e(e,t,r,n,s){for(var i=(n||[]).slice(),o=i.length,{start:a}=t,{end:l}=t,c=function(h){var p=i[h],g,m=()=>(g===void 0&&(g=r(p,h)),g);if(h===o-1){var y=e*(p.coordinate+e*m()/2-l);i[h]=p=en(en({},p),{},{tickCoord:y>0?p.coordinate-y*e:p.coordinate})}else i[h]=p=en(en({},p),{},{tickCoord:p.coordinate});var v=my(e,p.tickCoord,m,a,l);v&&(l=p.tickCoord-e*(m()/2+s),i[h]=en(en({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)c(d);return i}function q1e(e,t,r,n,s,i){var o=(n||[]).slice(),a=o.length,{start:l,end:c}=t;if(i){var d=n[a-1],f=r(d,a-1),h=e*(d.coordinate+e*f/2-c);o[a-1]=d=en(en({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=my(e,d.tickCoord,()=>f,l,c);p&&(c=d.tickCoord-e*(f/2+s),o[a-1]=en(en({},d),{},{isShow:!0}))}for(var g=i?a-1:a,m=function(b){var x=o[b],E,_=()=>(E===void 0&&(E=r(x,b)),E);if(b===0){var N=e*(x.coordinate-e*_()/2-l);o[b]=x=en(en({},x),{},{tickCoord:N<0?x.coordinate-N*e:x.coordinate})}else o[b]=x=en(en({},x),{},{tickCoord:x.coordinate});var k=my(e,x.tickCoord,_,l,c);k&&(l=x.tickCoord+e*(_()/2+s),o[b]=en(en({},x),{},{isShow:!0}))},y=0;y<g;y++)m(y);return o}function QN(e,t,r){var{tick:n,ticks:s,viewBox:i,minTickGap:o,orientation:a,interval:l,tickFormatter:c,unit:d,angle:f}=e;if(!s||!s.length||!n)return[];if(Ae(l)||xd.isSsr){var h;return(h=M1e(s,Ae(l)?l:0))!==null&&h!==void 0?h:[]}var p=[],g=a==="top"||a==="bottom"?"width":"height",m=d&&g==="width"?zf(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=(x,E)=>{var _=typeof c=="function"?c(x.value,E):x.value;return g==="width"?$1e(zf(_,{fontSize:t,letterSpacing:r}),m,f):zf(_,{fontSize:t,letterSpacing:r})[g]},v=s.length>=2?an(s[1].coordinate-s[0].coordinate):1,b=I1e(i,v,g);return l==="equidistantPreserveStart"?L1e(v,b,y,s,o):(l==="preserveStart"||l==="preserveStartEnd"?p=q1e(v,b,y,s,o,l==="preserveStartEnd"):p=U1e(v,b,y,s,o),p.filter(x=>x.isShow))}var V1e=["viewBox"],W1e=["viewBox"];function du(){return du=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},du.apply(null,arguments)}function wD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wD(Object(r),!0).forEach(function(n){ek(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _D(e,t){if(e==null)return{};var r,n,s=K1e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function K1e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ek(e,t,r){return(t=H1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H1e(e){var t=Y1e(e,"string");return typeof t=="symbol"?t:t+""}function Y1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class rl extends w.Component{constructor(t){super(t),this.tickRefs=S.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,r){var{viewBox:n}=t,s=_D(t,V1e),i=this.props,{viewBox:o}=i,a=_D(i,W1e);return!Ex(n,o)||!Ex(s,a)||!Ex(r,this.state)}getTickLineCoord(t){var{x:r,y:n,width:s,height:i,orientation:o,tickSize:a,mirror:l,tickMargin:c}=this.props,d,f,h,p,g,m,y=l?-1:1,v=t.tickSize||a,b=Ae(t.tickCoord)?t.tickCoord:t.coordinate;switch(o){case"top":d=f=t.coordinate,p=n+ +!l*i,h=p-y*v,m=h-y*c,g=b;break;case"left":h=p=t.coordinate,f=r+ +!l*s,d=f-y*v,g=d-y*c,m=b;break;case"right":h=p=t.coordinate,f=r+ +l*s,d=f+y*v,g=d+y*c,m=b;break;default:d=f=t.coordinate,p=n+ +l*i,h=p+y*v,m=h+y*c,g=b;break}return{line:{x1:d,y1:h,x2:f,y2:p},tick:{x:g,y:m}}}getTickTextAnchor(){var{orientation:t,mirror:r}=this.props,n;switch(t){case"left":n=r?"start":"end";break;case"right":n=r?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:t,mirror:r}=this.props;switch(t){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:t,y:r,width:n,height:s,orientation:i,mirror:o,axisLine:a}=this.props,l=xr(xr(xr({},Ht(this.props,!1)),Ht(a,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var c=+(i==="top"&&!o||i==="bottom"&&o);l=xr(xr({},l),{},{x1:t,y1:r+c*s,x2:t+n,y2:r+c*s})}else{var d=+(i==="left"&&!o||i==="right"&&o);l=xr(xr({},l),{},{x1:t+d*n,y1:r,x2:t+d*n,y2:r+s})}return S.createElement("line",du({},l,{className:rt("recharts-cartesian-axis-line",qa(a,"className"))}))}static renderTickItem(t,r,n){var s,i=rt(r.className,"recharts-cartesian-axis-tick-value");if(S.isValidElement(t))s=S.cloneElement(t,xr(xr({},r),{},{className:i}));else if(typeof t=="function")s=t(xr(xr({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=rt(o,t.className)),s=S.createElement(cb,du({},r,{className:o}),n)}return s}renderTicks(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:s,stroke:i,tick:o,tickFormatter:a,unit:l,padding:c}=this.props,d=QN(xr(xr({},this.props),{},{ticks:n}),t,r),f=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),p=Za(this.props),g=Ht(o,!1),m=xr(xr({},p),{},{fill:"none"},Ht(s,!1)),y=d.map((v,b)=>{var{line:x,tick:E}=this.getTickLineCoord(v),_=xr(xr(xr(xr({textAnchor:f,verticalAnchor:h},p),{},{stroke:"none",fill:i},g),E),{},{index:b,payload:v,visibleTicksCount:d.length,tickFormatter:a,padding:c});return S.createElement(Ns,du({className:"recharts-cartesian-axis-tick",key:"tick-".concat(v.value,"-").concat(v.coordinate,"-").concat(v.tickCoord)},aj(this.props,v,b)),s&&S.createElement("line",du({},m,x,{className:rt("recharts-cartesian-axis-tick-line",qa(s,"className"))})),o&&rl.renderTickItem(o,_,"".concat(typeof a=="function"?a(v.value,b):v.value).concat(l||"")))});return y.length>0?S.createElement("g",{className:"recharts-cartesian-axis-ticks"},y):null}render(){var{axisLine:t,width:r,height:n,className:s,hide:i}=this.props;if(i)return null;var{ticks:o}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:S.createElement(Ns,{className:rt("recharts-cartesian-axis",s),ref:a=>{if(a){var l=a.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(l);var c=l[0];if(c){var d=window.getComputedStyle(c).fontSize,f=window.getComputedStyle(c).letterSpacing;(d!==this.state.fontSize||f!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(c).fontSize,letterSpacing:window.getComputedStyle(c).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,o),Yn.renderCallByParent(this.props))}}ek(rl,"displayName","CartesianAxis");ek(rl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var G1e=["x1","y1","x2","y2","key"],Z1e=["offset"],X1e=["xAxisId","yAxisId"],J1e=["xAxisId","yAxisId"];function SD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function rn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SD(Object(r),!0).forEach(function(n){Q1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q1e(e,t,r){return(t=e_e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e_e(e){var t=t_e(e,"string");return typeof t=="symbol"?t:t+""}function t_e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Al(){return Al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Al.apply(null,arguments)}function gy(e,t){if(e==null)return{};var r,n,s=r_e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function r_e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var n_e=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:s,width:i,height:o,ry:a}=e;return S.createElement("rect",{x:n,y:s,ry:a,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Az(e,t){var r;if(S.isValidElement(e))r=S.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:s,x2:i,y2:o,key:a}=t,l=gy(t,G1e),c=Za(l),{offset:d}=c,f=gy(c,Z1e);r=S.createElement("line",Al({},f,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:a}))}return r}function s_e(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:s}=e;if(!n||!s||!s.length)return null;var{xAxisId:i,yAxisId:o}=e,a=gy(e,X1e),l=s.map((c,d)=>{var f=rn(rn({},a),{},{x1:t,y1:c,x2:t+r,y2:c,key:"line-".concat(d),index:d});return Az(n,f)});return S.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function i_e(e){var{y:t,height:r,vertical:n=!0,verticalPoints:s}=e;if(!n||!s||!s.length)return null;var{xAxisId:i,yAxisId:o}=e,a=gy(e,J1e),l=s.map((c,d)=>{var f=rn(rn({},a),{},{x1:c,y1:t,x2:c,y2:t+r,key:"line-".concat(d),index:d});return Az(n,f)});return S.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function o_e(e){var{horizontalFill:t,fillOpacity:r,x:n,y:s,width:i,height:o,horizontalPoints:a,horizontal:l=!0}=e;if(!l||!t||!t.length)return null;var c=a.map(f=>Math.round(f+s-s)).sort((f,h)=>f-h);s!==c[0]&&c.unshift(0);var d=c.map((f,h)=>{var p=!c[h+1],g=p?s+o-f:c[h+1]-f;if(g<=0)return null;var m=h%t.length;return S.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:g,width:i,stroke:"none",fill:t[m],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return S.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function a_e(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:s,y:i,width:o,height:a,verticalPoints:l}=e;if(!t||!r||!r.length)return null;var c=l.map(f=>Math.round(f+s-s)).sort((f,h)=>f-h);s!==c[0]&&c.unshift(0);var d=c.map((f,h)=>{var p=!c[h+1],g=p?s+o-f:c[h+1]-f;if(g<=0)return null;var m=h%r.length;return S.createElement("rect",{key:"react-".concat(h),x:f,y:i,width:g,height:a,stroke:"none",fill:r[m],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return S.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var l_e=(e,t)=>{var{xAxis:r,width:n,height:s,offset:i}=e;return v6(QN(rn(rn(rn({},rl.defaultProps),r),{},{ticks:b6(r),viewBox:{x:0,y:0,width:n,height:s}})),i.left,i.left+i.width,t)},c_e=(e,t)=>{var{yAxis:r,width:n,height:s,offset:i}=e;return v6(QN(rn(rn(rn({},rl.defaultProps),r),{},{ticks:b6(r),viewBox:{x:0,y:0,width:n,height:s}})),i.top,i.top+i.height,t)},u_e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Pz(e){var t=Dj(),r=Rj(),n=E6(),s=rn(rn({},Os(e,u_e)),{},{x:Ae(e.x)?e.x:n.left,y:Ae(e.y)?e.y:n.top,width:Ae(e.width)?e.width:n.width,height:Ae(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:o,x:a,y:l,width:c,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:p}=s,g=Ps(),m=Re(T=>D2(T,"xAxis",i,g)),y=Re(T=>D2(T,"yAxis",o,g));if(!Ae(c)||c<=0||!Ae(d)||d<=0||!Ae(a)||a!==+a||!Ae(l)||l!==+l)return null;var v=s.verticalCoordinatesGenerator||l_e,b=s.horizontalCoordinatesGenerator||c_e,{horizontalPoints:x,verticalPoints:E}=s;if((!x||!x.length)&&typeof b=="function"){var _=h&&h.length,N=b({yAxis:y?rn(rn({},y),{},{ticks:_?h:y.ticks}):void 0,width:t,height:r,offset:n},_?!0:f);Bf(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(x=N)}if((!E||!E.length)&&typeof v=="function"){var k=p&&p.length,C=v({xAxis:m?rn(rn({},m),{},{ticks:k?p:m.ticks}):void 0,width:t,height:r,offset:n},k?!0:f);Bf(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(E=C)}return S.createElement("g",{className:"recharts-cartesian-grid"},S.createElement(n_e,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),S.createElement(o_e,Al({},s,{horizontalPoints:x})),S.createElement(a_e,Al({},s,{verticalPoints:E})),S.createElement(s_e,Al({},s,{offset:n,horizontalPoints:x,xAxis:m,yAxis:y})),S.createElement(i_e,Al({},s,{offset:n,verticalPoints:E,xAxis:m,yAxis:y})))}Pz.displayName="CartesianGrid";var Oz=(e,t,r,n)=>w8(e,"xAxis",t,n),Dz=(e,t,r,n)=>x8(e,"xAxis",t,n),Rz=(e,t,r,n)=>w8(e,"yAxis",r,n),$z=(e,t,r,n)=>x8(e,"yAxis",r,n),d_e=Q([xt,Oz,Rz,Dz,$z],(e,t,r,n,s)=>Xa(e,"xAxis")?D1(t,n,!1):D1(r,s,!1)),f_e=(e,t,r,n,s)=>s;function h_e(e){return e.type==="line"}var p_e=Q([ZB,f_e],(e,t)=>e.filter(h_e).find(r=>r.id===t)),m_e=Q([xt,Oz,Rz,Dz,$z,p_e,d_e,cN],(e,t,r,n,s,i,o,a)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:d}=a;if(!(i==null||t==null||r==null||n==null||s==null||n.length===0||s.length===0||o==null)){var{dataKey:f,data:h}=i,p;if(h!=null&&h.length>0?p=h:p=l==null?void 0:l.slice(c,d+1),p!=null)return I_e({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:s,dataKey:f,bandSize:o,displayedData:p})}}),g_e=["id"],y_e=["type","layout","connectNulls","needClip"],v_e=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function ED(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Gs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ED(Object(r),!0).forEach(function(n){b_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ED(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b_e(e,t,r){return(t=x_e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x_e(e){var t=w_e(e,"string");return typeof t=="symbol"?t:t+""}function w_e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tk(e,t){if(e==null)return{};var r,n,s=__e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function __e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ec(){return ec=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ec.apply(null,arguments)}var S_e=e=>{var{dataKey:t,name:r,stroke:n,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:n,value:Vv(r,t),payload:e}]};function E_e(e){var{dataKey:t,data:r,stroke:n,strokeWidth:s,fill:i,name:o,hide:a,unit:l}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:s,fill:i,dataKey:t,nameKey:void 0,name:Vv(o,t),hide:a,type:e.tooltipType,color:e.stroke,unit:l}}}var Iz=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function j_e(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],s=0;s<t;++s)n=[...n,...r];return n}var N_e=(e,t,r)=>{var n=r.reduce((f,h)=>f+h);if(!n)return Iz(t,e);for(var s=Math.floor(e/n),i=e%n,o=t-e,a=[],l=0,c=0;l<r.length;c+=r[l],++l)if(c+r[l]>i){a=[...r.slice(0,l),i-c];break}var d=a.length%2===0?[0,o]:[o];return[...j_e(r,s),...a,...d].map(f=>"".concat(f,"px")).join(", ")};function k_e(e,t){var r;if(S.isValidElement(e))r=S.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=rt("recharts-line-dot",typeof e!="boolean"?e.className:"");r=S.createElement(uz,ec({},t,{className:n}))}return r}function C_e(e,t){return e==null?!1:t?!0:e.length===1}function T_e(e){var{clipPathId:t,points:r,props:n}=e,{dot:s,dataKey:i,needClip:o}=n;if(!C_e(r,s))return null;var{id:a}=n,l=tk(n,g_e),c=J3(s),d=Za(l),f=Ht(s,!0),h=r.map((g,m)=>{var y=Gs(Gs(Gs({key:"dot-".concat(m),r:3},d),f),{},{index:m,cx:g.x,cy:g.y,dataKey:i,value:g.value,payload:g.payload,points:r});return k_e(s,y)}),p={clipPath:o?"url(#clipPath-".concat(c?"":"dots-").concat(t,")"):void 0};return S.createElement(Ns,ec({className:"recharts-line-dots",key:"dots"},p),h)}function s_(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:s,props:i,showLabels:o}=e,{type:a,layout:l,connectNulls:c,needClip:d}=i,f=tk(i,y_e),h=Gs(Gs({},Ht(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(t,")"):void 0,points:n,type:a,layout:l,connectNulls:c,strokeDasharray:s??i.strokeDasharray});return S.createElement(S.Fragment,null,(n==null?void 0:n.length)>1&&S.createElement(Mj,ec({},h,{pathRef:r})),S.createElement(T_e,{points:n,clipPathId:t,props:i}),o&&ql.renderCallByParent(i,n))}function A_e(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function P_e(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:s,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:a,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:f,animateNewValues:h,width:p,height:g,onAnimationEnd:m,onAnimationStart:y}=r,v=s.current,b=vz(r,"recharts-line-"),[x,E]=w.useState(!1),_=w.useCallback(()=>{typeof m=="function"&&m(),E(!1)},[m]),N=w.useCallback(()=>{typeof y=="function"&&y(),E(!0)},[y]),k=A_e(n.current),C=i.current;return S.createElement(wz,{begin:c,duration:d,isActive:l,easing:f,onAnimationEnd:_,onAnimationStart:N,key:b},T=>{var $=ef(C,k+C,T),M=Math.min($,k),L;if(a){var D="".concat(a).split(/[,\s]+/gim).map(G=>parseFloat(G));L=N_e(M,k,D)}else L=Iz(k,M);if(v){var z=v.length/o.length,U=T===1?o:o.map((G,q)=>{var Z=Math.floor(q*z);if(v[Z]){var ie=v[Z];return Gs(Gs({},G),{},{x:ef(ie.x,G.x,T),y:ef(ie.y,G.y,T)})}return h?Gs(Gs({},G),{},{x:ef(p*2,G.x,T),y:ef(g/2,G.y,T)}):Gs(Gs({},G),{},{x:G.x,y:G.y})});return s.current=U,S.createElement(s_,{props:r,points:U,clipPathId:t,pathRef:n,showLabels:!x,strokeDasharray:L})}return T>0&&k>0&&(s.current=o,i.current=M),S.createElement(s_,{props:r,points:o,clipPathId:t,pathRef:n,showLabels:!x,strokeDasharray:L})})}function O_e(e){var{clipPathId:t,props:r}=e,{points:n,isAnimationActive:s}=r,i=w.useRef(null),o=w.useRef(0),a=w.useRef(null),l=i.current;return s&&n&&n.length&&l!==n?S.createElement(P_e,{props:r,clipPathId:t,previousPointsRef:i,longestAnimatedLengthRef:o,pathRef:a}):S.createElement(s_,{props:r,points:n,clipPathId:t,pathRef:a,showLabels:!0})}var D_e=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Mt(e.payload,t)});class R_e extends w.Component{render(){var t,{hide:r,dot:n,points:s,className:i,xAxisId:o,yAxisId:a,top:l,left:c,width:d,height:f,id:h,needClip:p}=this.props;if(r)return null;var g=rt("recharts-line",i),m=h,{r:y=3,strokeWidth:v=2}=(t=Ht(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},b=J3(n),x=y*2+v;return S.createElement(S.Fragment,null,S.createElement(Ns,{className:g},p&&S.createElement("defs",null,S.createElement(E1e,{clipPathId:m,xAxisId:o,yAxisId:a}),!b&&S.createElement("clipPath",{id:"clipPath-dots-".concat(m)},S.createElement("rect",{x:c-x/2,y:l-x/2,width:d+x,height:f+x}))),S.createElement(O_e,{props:this.props,clipPathId:m}),S.createElement(S1e,{xAxisId:o,yAxisId:a,data:s,dataPointFormatter:D_e,errorBarOffset:0},this.props.children)),S.createElement(m1e,{activeDot:this.props.activeDot,points:s,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var Mz={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!xd.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function $_e(e){var t=Os(e,Mz),{activeDot:r,animateNewValues:n,animationBegin:s,animationDuration:i,animationEasing:o,connectNulls:a,dot:l,hide:c,isAnimationActive:d,label:f,legendType:h,xAxisId:p,yAxisId:g,id:m}=t,y=tk(t,v_e),{needClip:v}=jz(p,g),b=XN(),x=$j(),E=Ps(),_=Re($=>m_e($,p,g,E,m));if(x!=="horizontal"&&x!=="vertical"||_==null||b==null)return null;var{height:N,width:k,x:C,y:T}=b;return S.createElement(R_e,ec({},y,{id:m,connectNulls:a,dot:l,activeDot:r,animateNewValues:n,animationBegin:s,animationDuration:i,animationEasing:o,isAnimationActive:d,hide:c,label:f,legendType:h,xAxisId:p,yAxisId:g,points:_,layout:x,height:N,width:k,left:C,top:T,needClip:v}))}function I_e(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:s,yAxisTicks:i,dataKey:o,bandSize:a,displayedData:l}=e;return l.map((c,d)=>{var f=Mt(c,o);if(t==="horizontal"){var h=_O({axis:r,ticks:s,bandSize:a,entry:c,index:d}),p=hr(f)?null:n.scale(f);return{x:h,y:p,value:f,payload:c}}var g=hr(f)?null:r.scale(f),m=_O({axis:n,ticks:i,bandSize:a,entry:c,index:d});return g==null||m==null?null:{x:g,y:m,value:f,payload:c}}).filter(Boolean)}function Lz(e){var t=Os(e,Mz),r=Ps();return S.createElement(bz,{id:t.id,type:"line"},n=>S.createElement(S.Fragment,null,S.createElement(Swe,{legendPayload:S_e(t)}),S.createElement(gz,{fn:E_e,args:t}),S.createElement(Iwe,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),S.createElement($_e,ec({},t,{id:n}))))}Lz.displayName="Line";function jD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ND(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jD(Object(r),!0).forEach(function(n){M_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M_e(e,t,r){return(t=L_e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L_e(e){var t=F_e(e,"string");return typeof t=="symbol"?t:t+""}function F_e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var B_e={xAxis:{},yAxis:{},zAxis:{}},Fz=ts({name:"cartesianAxis",initialState:B_e,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=ND(ND({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:z_e,removeXAxis:U_e,addYAxis:q_e,removeYAxis:V_e,addZAxis:QRe,removeZAxis:e$e,updateYAxisWidth:W_e}=Fz.actions,K_e=Fz.reducer,H_e=["children"],Y_e=["dangerouslySetInnerHTML","ticks"];function Bz(e,t,r){return(t=G_e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G_e(e){var t=Z_e(e,"string");return typeof t=="symbol"?t:t+""}function Z_e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i_(){return i_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i_.apply(null,arguments)}function zz(e,t){if(e==null)return{};var r,n,s=X_e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function X_e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function J_e(e){var t=Gt(),r=w.useMemo(()=>{var{children:i}=e,o=zz(e,H_e);return o},[e]),n=Re(i=>Ho(i,r.id)),s=r===n;return w.useEffect(()=>(t(z_e(r)),()=>{t(U_e(r))}),[r,t]),s?e.children:null}var Q_e=e=>{var{xAxisId:t,className:r}=e,n=Re(S6),s=Ps(),i="xAxis",o=Re(p=>kd(p,i,t,s)),a=Re(p=>b8(p,i,t,s)),l=Re(p=>rbe(p,t)),c=Re(p=>abe(p,t));if(l==null||c==null)return null;var{dangerouslySetInnerHTML:d,ticks:f}=e,h=zz(e,Y_e);return S.createElement(rl,i_({},h,{scale:o,x:c.x,y:c.y,width:l.width,height:l.height,className:rt("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:a}))},eSe=e=>{var t,r,n,s,i;return S.createElement(J_e,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter},S.createElement(Q_e,e))};class rk extends w.Component{render(){return S.createElement(eSe,this.props)}}Bz(rk,"displayName","XAxis");Bz(rk,"defaultProps",{allowDataOverflow:Un.allowDataOverflow,allowDecimals:Un.allowDecimals,allowDuplicatedCategory:Un.allowDuplicatedCategory,height:Un.height,hide:!1,mirror:Un.mirror,orientation:Un.orientation,padding:Un.padding,reversed:Un.reversed,scale:Un.scale,tickCount:Un.tickCount,type:Un.type,xAxisId:0});var tSe=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:s=0,tickMargin:i=0}=e,o=0;if(t){t.forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>o&&(o=f.width)}});var a=r?r.getBoundingClientRect().width:0,l=s+i,c=o+l+a+(r?n:0);return Math.round(c)}return 0},rSe=["dangerouslySetInnerHTML","ticks"];function Uz(e,t,r){return(t=nSe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nSe(e){var t=sSe(e,"string");return typeof t=="symbol"?t:t+""}function sSe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o_(){return o_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o_.apply(null,arguments)}function iSe(e,t){if(e==null)return{};var r,n,s=oSe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function oSe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function aSe(e){var t=Gt();return w.useEffect(()=>(t(q_e(e)),()=>{t(V_e(e))}),[e,t]),null}var lSe=e=>{var t,{yAxisId:r,className:n,width:s,label:i}=e,o=w.useRef(null),a=w.useRef(null),l=Re(S6),c=Ps(),d=Gt(),f="yAxis",h=Re(x=>kd(x,f,r,c)),p=Re(x=>cbe(x,r)),g=Re(x=>lbe(x,r)),m=Re(x=>b8(x,f,r,c));if(w.useLayoutEffect(()=>{var x;if(!(s!=="auto"||!p||WN(i)||w.isValidElement(i))){var E=o.current,_=E==null||(x=E.tickRefs)===null||x===void 0?void 0:x.current,{tickSize:N,tickMargin:k}=E.props,C=tSe({ticks:_,label:a.current,labelGapWithTick:5,tickSize:N,tickMargin:k});Math.round(p.width)!==Math.round(C)&&d(W_e({id:r,width:C}))}},[o,o==null||(t=o.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,p==null?void 0:p.width,p,d,i,r,s]),p==null||g==null)return null;var{dangerouslySetInnerHTML:y,ticks:v}=e,b=iSe(e,rSe);return S.createElement(rl,o_({},b,{ref:o,labelRef:a,scale:h,x:g.x,y:g.y,width:p.width,height:p.height,className:rt("recharts-".concat(f," ").concat(f),n),viewBox:l,ticks:m}))},cSe=e=>{var t,r,n,s,i;return S.createElement(S.Fragment,null,S.createElement(aSe,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter}),S.createElement(lSe,e))},uSe={allowDataOverflow:qn.allowDataOverflow,allowDecimals:qn.allowDecimals,allowDuplicatedCategory:qn.allowDuplicatedCategory,hide:!1,mirror:qn.mirror,orientation:qn.orientation,padding:qn.padding,reversed:qn.reversed,scale:qn.scale,tickCount:qn.tickCount,type:qn.type,width:qn.width,yAxisId:0};class nk extends w.Component{render(){return S.createElement(cSe,this.props)}}Uz(nk,"displayName","YAxis");Uz(nk,"defaultProps",uSe);var jx={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kD;function dSe(){if(kD)return jx;kD=1;var e=w;function t(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,s=e.useRef,i=e.useEffect,o=e.useMemo,a=e.useDebugValue;return jx.useSyncExternalStoreWithSelector=function(l,c,d,f,h){var p=s(null);if(p.current===null){var g={hasValue:!1,value:null};p.current=g}else g=p.current;p=o(function(){function y(_){if(!v){if(v=!0,b=_,_=f(_),h!==void 0&&g.hasValue){var N=g.value;if(h(N,_))return x=N}return x=_}if(N=x,r(b,_))return N;var k=f(_);return h!==void 0&&h(N,k)?(b=_,N):(b=_,x=k)}var v=!1,b,x,E=d===void 0?null:d;return[function(){return y(c())},E===null?void 0:function(){return y(E())}]},[c,d,f,h]);var m=n(l,p[0],p[1]);return i(function(){g.hasValue=!0,g.value=m},[m]),a(m),m},jx}var Nx={};/**
 * @license React
 * use-sync-external-store-with-selector.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CD;function fSe(){return CD||(CD=1,process.env.NODE_ENV!=="production"&&function(){function e(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var t=w,r=typeof Object.is=="function"?Object.is:e,n=t.useSyncExternalStore,s=t.useRef,i=t.useEffect,o=t.useMemo,a=t.useDebugValue;Nx.useSyncExternalStoreWithSelector=function(l,c,d,f,h){var p=s(null);if(p.current===null){var g={hasValue:!1,value:null};p.current=g}else g=p.current;p=o(function(){function y(_){if(!v){if(v=!0,b=_,_=f(_),h!==void 0&&g.hasValue){var N=g.value;if(h(N,_))return x=N}return x=_}if(N=x,r(b,_))return N;var k=f(_);return h!==void 0&&h(N,k)?(b=_,N):(b=_,x=k)}var v=!1,b,x,E=d===void 0?null:d;return[function(){return y(c())},E===null?void 0:function(){return y(E())}]},[c,d,f,h]);var m=n(l,p[0],p[1]);return i(function(){g.hasValue=!0,g.value=m},[m]),a(m),m},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())}()),Nx}process.env.NODE_ENV==="production"?dSe():fSe();function hSe(e){e()}function pSe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){hSe(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!n||e===null||(n=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var TD={notify(){},get:()=>[]};function mSe(e,t){let r,n=TD,s=0,i=!1;function o(m){d();const y=n.subscribe(m);let v=!1;return()=>{v||(v=!0,y(),f())}}function a(){n.notify()}function l(){g.onStateChange&&g.onStateChange()}function c(){return i}function d(){s++,r||(r=e.subscribe(l),n=pSe())}function f(){s--,r&&s===0&&(r(),r=void 0,n.clear(),n=TD)}function h(){i||(i=!0,d())}function p(){i&&(i=!1,f())}const g={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>n};return g}var gSe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ySe=gSe(),vSe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",bSe=vSe(),xSe=()=>ySe||bSe?S.useLayoutEffect:S.useEffect,wSe=xSe(),kx=Symbol.for("react-redux-context"),Cx=typeof globalThis<"u"?globalThis:{};function _Se(){if(!S.createContext)return{};const e=Cx[kx]??(Cx[kx]=new Map);let t=e.get(S.createContext);return t||(t=S.createContext(null),process.env.NODE_ENV!=="production"&&(t.displayName="ReactRedux"),e.set(S.createContext,t)),t}var SSe=_Se();function ESe(e){const{children:t,context:r,serverState:n,store:s}=e,i=S.useMemo(()=>{const l=mSe(s),c={store:s,subscription:l,getServerState:n?()=>n:void 0};if(process.env.NODE_ENV==="production")return c;{const{identityFunctionCheck:d="once",stabilityCheck:f="once"}=e;return Object.assign(c,{stabilityCheck:f,identityFunctionCheck:d})}},[s,n]),o=S.useMemo(()=>s.getState(),[s]);wSe(()=>{const{subscription:l}=i;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==s.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[i,o]);const a=r||SSe;return S.createElement(a.Provider,{value:i},t)}var jSe=ESe,NSe=(e,t)=>t,sk=Q([NSe,xt,KB,Tr,I8,Yo,m0e,Fr],x0e),ik=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},qz=ks("mouseClick"),Vz=ip();Vz.startListening({actionCreator:qz,effect:(e,t)=>{var r=e.payload,n=sk(t.getState(),ik(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(_be({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var a_=ks("mouseMove"),Wz=ip();Wz.startListening({actionCreator:a_,effect:(e,t)=>{var r=e.payload,n=t.getState(),s=IN(n,n.tooltip.settings.shared),i=sk(n,ik(r));s==="axis"&&((i==null?void 0:i.activeIndex)!=null?t.dispatch(T8({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(C8()))}});function kSe(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var AD={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},Kz=ts({name:"rootProps",initialState:AD,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:AD.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),CSe=Kz.reducer,{updateOptions:TSe}=Kz.actions,Hz=ts({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:ASe}=Hz.actions,PSe=Hz.reducer,Yz=ks("keyDown"),Gz=ks("focus"),ok=ip();ok.startListening({actionCreator:Yz,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=Number(MN(s,Td(r))),a=Yo(r);if(i==="Enter"){var l=dy(r,"axis","hover",String(s.index));t.dispatch(Q1({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:l}));return}var c=hbe(r),d=c==="left-to-right"?1:-1,f=i==="ArrowRight"?1:-1,h=o+f*d;if(!(a==null||h>=a.length||h<0)){var p=dy(r,"axis","hover",String(h));t.dispatch(Q1({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});ok.startListening({actionCreator:Gz,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip;if(!s.active&&s.index==null){var i="0",o=dy(r,"axis","hover",String(i));t.dispatch(Q1({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var fs=ks("externalEvent"),Zz=ip();Zz.startListening({actionCreator:fs,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:i0e(r),activeDataKey:n0e(r),activeIndex:Ju(r),activeLabel:F8(r),activeTooltipIndex:Ju(r),isTooltipActive:o0e(r)};e.payload.handler(n,e.payload.reactEvent)}}});var OSe=Q([Cd],e=>e.tooltipItemPayloads),DSe=Q([OSe,mp,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var s=e.find(a=>a.settings.dataKey===n);if(s!=null){var{positions:i}=s;if(i!=null){var o=t(i,r);return o}}}),Xz=ks("touchMove"),Jz=ip();Jz.startListening({actionCreator:Xz,effect:(e,t)=>{var r=e.payload,n=t.getState(),s=IN(n,n.tooltip.settings.shared);if(s==="axis"){var i=sk(n,ik({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(T8({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(s==="item"){var o,a=r.touches[0],l=document.elementFromPoint(a.clientX,a.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(w6),d=(o=l.getAttribute(_6))!==null&&o!==void 0?o:void 0,f=DSe(t.getState(),c,d);t.dispatch(k8({activeDataKey:d,activeIndex:c,activeCoordinate:f}))}}});var RSe=qF({brush:j1e,cartesianAxis:K_e,chartData:R0e,errorBars:y1e,graphicalItems:$we,layout:Ehe,legend:lpe,options:T0e,polarAxis:Jxe,polarOptions:PSe,referenceElements:O1e,rootProps:CSe,tooltip:Sbe}),$Se=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Gfe({reducer:RSe,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([Vz.middleware,Wz.middleware,ok.middleware,Zz.middleware,Jz.middleware]),devTools:{serialize:{replacer:kSe},name:"recharts-".concat(r)}})};function Qz(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,s=Ps(),i=w.useRef(null);if(s)return r;i.current==null&&(i.current=$Se(t,n));var o=_j;return S.createElement(jSe,{context:o,store:i.current},r)}function eU(e){var{layout:t,width:r,height:n,margin:s}=e,i=Gt(),o=Ps();return w.useEffect(()=>{o||(i(whe(t)),i(_he({width:r,height:n})),i(xhe(s)))},[i,o,t,r,n,s]),null}function tU(e){var t=Gt();return w.useEffect(()=>{t(TSe(e))},[t,e]),null}var ISe=["children"];function MSe(e,t){if(e==null)return{};var r,n,s=LSe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function LSe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function yy(){return yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yy.apply(null,arguments)}var FSe={width:"100%",height:"100%"},BSe=w.forwardRef((e,t)=>{var r=Dj(),n=Rj(),s=C6();if(!Hu(r)||!Hu(n))return null;var{children:i,otherAttributes:o,title:a,desc:l}=e,c,d;return typeof o.tabIndex=="number"?c=o.tabIndex:c=s?0:void 0,typeof o.role=="string"?d=o.role:d=s?"application":void 0,S.createElement(lj,yy({},o,{title:a,desc:l,role:d,tabIndex:c,width:r,height:n,style:FSe,ref:t}),i)}),zSe=e=>{var{children:t}=e,r=Re(Hv);if(!r)return null;var{width:n,height:s,y:i,x:o}=r;return S.createElement(lj,{width:n,height:s,x:o,y:i},t)},PD=w.forwardRef((e,t)=>{var{children:r}=e,n=MSe(e,ISe),s=Ps();return s?S.createElement(zSe,null,r):S.createElement(BSe,yy({ref:t},n),r)});function USe(){var e=Gt(),[t,r]=w.useState(null),n=Re(Zhe);return w.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),i=s.width/t.offsetWidth;ai(i)&&i!==n&&e(She(i))}},[t,e,n]),r}function OD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qSe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OD(Object(r),!0).forEach(function(n){VSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VSe(e,t,r){return(t=WSe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WSe(e){var t=KSe(e,"string");return typeof t=="symbol"?t:t+""}function KSe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HSe=w.forwardRef((e,t)=>{var{children:r,className:n,height:s,onClick:i,onContextMenu:o,onDoubleClick:a,onMouseDown:l,onMouseEnter:c,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:p,onTouchMove:g,onTouchStart:m,style:y,width:v}=e,b=Gt(),[x,E]=w.useState(null),[_,N]=w.useState(null);M0e();var k=USe(),C=w.useCallback(X=>{k(X),typeof t=="function"&&t(X),E(X),N(X)},[k,t,E,N]),T=w.useCallback(X=>{b(qz(X)),b(fs({handler:i,reactEvent:X}))},[b,i]),$=w.useCallback(X=>{b(a_(X)),b(fs({handler:c,reactEvent:X}))},[b,c]),M=w.useCallback(X=>{b(C8()),b(fs({handler:d,reactEvent:X}))},[b,d]),L=w.useCallback(X=>{b(a_(X)),b(fs({handler:f,reactEvent:X}))},[b,f]),D=w.useCallback(()=>{b(Gz())},[b]),z=w.useCallback(X=>{b(Yz(X.key))},[b]),U=w.useCallback(X=>{b(fs({handler:o,reactEvent:X}))},[b,o]),G=w.useCallback(X=>{b(fs({handler:a,reactEvent:X}))},[b,a]),q=w.useCallback(X=>{b(fs({handler:l,reactEvent:X}))},[b,l]),Z=w.useCallback(X=>{b(fs({handler:h,reactEvent:X}))},[b,h]),ie=w.useCallback(X=>{b(fs({handler:m,reactEvent:X}))},[b,m]),R=w.useCallback(X=>{b(Xz(X)),b(fs({handler:g,reactEvent:X}))},[b,g]),B=w.useCallback(X=>{b(fs({handler:p,reactEvent:X}))},[b,p]);return S.createElement(W8.Provider,{value:x},S.createElement(Q3.Provider,{value:_},S.createElement("div",{className:rt("recharts-wrapper",n),style:qSe({position:"relative",cursor:"default",width:v,height:s},y),onClick:T,onContextMenu:U,onDoubleClick:G,onFocus:D,onKeyDown:z,onMouseDown:q,onMouseEnter:$,onMouseLeave:M,onMouseMove:L,onMouseUp:Z,onTouchEnd:B,onTouchMove:R,onTouchStart:ie,ref:C},r)))}),YSe=["children","className","width","height","style","compact","title","desc"];function GSe(e,t){if(e==null)return{};var r,n,s=ZSe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function ZSe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var rU=w.forwardRef((e,t)=>{var{children:r,className:n,width:s,height:i,style:o,compact:a,title:l,desc:c}=e,d=GSe(e,YSe),f=Za(d);return a?S.createElement(PD,{otherAttributes:f,title:l,desc:c},r):S.createElement(HSe,{className:n,style:o,width:s,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},S.createElement(PD,{otherAttributes:f,title:l,desc:c,ref:t},S.createElement(R1e,null,r)))}),XSe=["width","height"];function l_(){return l_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l_.apply(null,arguments)}function JSe(e,t){if(e==null)return{};var r,n,s=QSe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function QSe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var eEe={top:5,right:5,bottom:5,left:5},tEe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:eEe,reverseStackOrder:!1,syncMethod:"index"},rEe=w.forwardRef(function(t,r){var n,s=Os(t.categoricalChartProps,tEe),{width:i,height:o}=s,a=JSe(s,XSe);if(!Hu(i)||!Hu(o))return null;var{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,p={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return S.createElement(Qz,{preloadedState:{options:p},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:l},S.createElement(Nz,{chartData:h.data}),S.createElement(eU,{width:i,height:o,layout:s.layout,margin:s.margin}),S.createElement(tU,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),S.createElement(rU,l_({},a,{width:i,height:o,ref:r})))}),nEe=["axis"],sEe=w.forwardRef((e,t)=>S.createElement(rEe,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:nEe,tooltipPayloadSearcher:Y8,categoricalChartProps:e,ref:t}));function iEe(e){var t=Gt();return w.useEffect(()=>{t(ASe(e))},[t,e]),null}var oEe=["width","height","layout"];function c_(){return c_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c_.apply(null,arguments)}function aEe(e,t){if(e==null)return{};var r,n,s=lEe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function lEe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var cEe={top:5,right:5,bottom:5,left:5},uEe={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:cEe,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},dEe=w.forwardRef(function(t,r){var n,s=Os(t.categoricalChartProps,uEe),{width:i,height:o,layout:a}=s,l=aEe(s,oEe);if(!Hu(i)||!Hu(o))return null;var{chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=t,p={chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return S.createElement(Qz,{preloadedState:{options:p},reduxStoreName:(n=s.id)!==null&&n!==void 0?n:c},S.createElement(Nz,{chartData:s.data}),S.createElement(eU,{width:i,height:o,layout:a,margin:s.margin}),S.createElement(tU,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),S.createElement(iEe,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),S.createElement(rU,c_({width:i,height:o},l,{ref:r})))}),fEe=["item"],hEe={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},pEe=w.forwardRef((e,t)=>{var r=Os(e,hEe);return S.createElement(dEe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:fEe,tooltipPayloadSearcher:Y8,categoricalChartProps:r,ref:t})});const mEe=async()=>{const{count:e}=await he.from("profiles").select("id",{count:"exact",head:!0}),{count:t}=await he.from("subscriptions").select("id",{count:"exact",head:!0}).eq("status","active"),{data:r,error:n}=await he.from("pages").select("view_count"),{data:s,error:i}=await he.from("purchases").select("price_id");(n||i)&&console.error("Error fetching key metrics:",{viewsError:n,revenueError:i});const o=(r==null?void 0:r.reduce((l,c)=>l+(c.view_count||0),0))||0,a=((s==null?void 0:s.length)||0)*10;return{totalUsers:e||0,activeSubscribers:t||0,totalRevenue:a,totalViews:o}},gEe=async()=>{const e=new Date;e.setDate(e.getDate()-30);const{data:t,error:r}=await he.from("profiles").select("created_at").gte("created_at",e.toISOString());if(r)throw new Error(r.message);const n=t.reduce((s,i)=>{const o=new Date(i.created_at).toISOString().split("T")[0];return s[o]=(s[o]||0)+1,s},{});return Object.entries(n).map(([s,i])=>({date:s,count:i})).sort((s,i)=>new Date(s.date).getTime()-new Date(i.date).getTime())},yEe=async()=>{const{data:e,error:t}=await he.from("subscriptions").select("status");if(t)throw new Error(t.message);const r=e.reduce((n,s)=>{const i=s.status||"unknown";return n[i]=(n[i]||0)+1,n},{});return Object.entries(r).map(([n,s])=>({name:n,value:s}))},vEe=async()=>{const{data:e,error:t}=await he.from("detailed_audit_log").select("*").order("created_at",{ascending:!1}).limit(5);if(t)throw new Error(t.message);return e},Tm=({title:e,value:t,icon:r,color:n})=>u.jsxs("div",{className:"bg-gray-800/50 p-6 rounded-xl border border-gray-700 flex items-center space-x-4 hover:border-blue-500/50 transition-colors",children:[u.jsx("div",{className:`p-3 rounded-lg bg-${n}-500/20 text-${n}-400`,children:u.jsx(r,{className:"w-6 h-6"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-400",children:e}),u.jsx("p",{className:"text-2xl font-bold text-white",children:t})]})]}),DD=({title:e,children:t,icon:r})=>u.jsxs("div",{className:"bg-gray-800/50 p-6 rounded-xl border border-gray-700",children:[u.jsxs("div",{className:"flex items-center mb-4",children:[u.jsx(r,{className:"w-5 h-5 mr-2 text-gray-400"}),u.jsx("h3",{className:"text-lg font-semibold text-white",children:e})]}),u.jsx("div",{className:"h-72",children:t})]}),Tx=()=>u.jsx("div",{className:"flex justify-center items-center h-full",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-400"})}),Ax=({message:e})=>u.jsxs("div",{className:"flex justify-center items-center h-full text-red-400",children:[u.jsx(Ni,{className:"w-6 h-6 mr-2"}),u.jsxs("p",{children:["Error loading data: ",e]})]}),RD=({message:e,icon:t=YY})=>u.jsxs("div",{className:"flex flex-col justify-center items-center h-full text-gray-500",children:[u.jsx(t,{className:"w-12 h-12 mb-4"}),u.jsx("p",{className:"font-semibold",children:"No Data Available"}),u.jsx("p",{className:"text-sm",children:e})]}),bEe=()=>{const{data:e,isLoading:t}=dr({queryKey:["keyMetrics"],queryFn:mEe}),{data:r,isLoading:n,error:s}=dr({queryKey:["usersOverTime"],queryFn:gEe}),{data:i,isLoading:o,error:a}=dr({queryKey:["subscriptionStatus"],queryFn:yEe}),{data:l,isLoading:c,error:d}=dr({queryKey:["recentActivity"],queryFn:vEe}),f=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8"];return u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsxs("header",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Admin Dashboard"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"An overview of your website's performance."})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:t?u.jsx("p",{className:"text-gray-900 dark:text-white",children:"Loading metrics..."}):u.jsxs(u.Fragment,{children:[u.jsx(Tm,{title:"Total Users",value:e==null?void 0:e.totalUsers.toLocaleString(),icon:yg,color:"blue"}),u.jsx(Tm,{title:"Active Subscribers",value:e==null?void 0:e.activeSubscribers.toLocaleString(),icon:rG,color:"green"}),u.jsx(Tm,{title:"Total Revenue",value:`$${e==null?void 0:e.totalRevenue.toLocaleString()}`,icon:VY,color:"yellow"}),u.jsx(Tm,{title:"Total Page Views",value:e==null?void 0:e.totalViews.toLocaleString(),icon:Hh,color:"purple"})]})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsx(DD,{title:"New Users (Last 30 Days)",icon:XY,children:n?u.jsx(Tx,{}):s?u.jsx(Ax,{message:s.message}):r&&r.length>0?u.jsx(H2,{width:"100%",height:"100%",children:u.jsxs(sEe,{data:r,children:[u.jsx(Pz,{strokeDasharray:"3 3",stroke:"#4A5568"}),u.jsx(rk,{dataKey:"date",stroke:"#A0AEC0",tick:{fontSize:12}}),u.jsx(nk,{stroke:"#A0AEC0",tick:{fontSize:12}}),u.jsx(W2,{contentStyle:{backgroundColor:"#1A202C",border:"1px solid #4A5568"}}),u.jsx(vh,{wrapperStyle:{fontSize:14}}),u.jsx(Lz,{type:"monotone",dataKey:"count",name:"New Users",stroke:"#3B82F6",strokeWidth:2,dot:{r:4},activeDot:{r:8}})]})}):u.jsx(RD,{message:"No new user data to display for this period."})}),u.jsx(DD,{title:"Subscription Status",icon:tG,children:o?u.jsx(Tx,{}):a?u.jsx(Ax,{message:a.message}):i&&i.length>0?u.jsx(H2,{width:"100%",height:"100%",children:u.jsxs(pEe,{children:[u.jsx(Sz,{data:i,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:100,fill:"#8884d8",labelLine:!1,label:({name:h,percent:p})=>`${h}: ${(p*100).toFixed(0)}%`,children:i==null?void 0:i.map((h,p)=>u.jsx(lb,{fill:f[p%f.length]},`cell-${p}`))}),u.jsx(W2,{contentStyle:{backgroundColor:"#1A202C",border:"1px solid #4A5568"}}),u.jsx(vh,{wrapperStyle:{fontSize:14}})]})}):u.jsx(RD,{message:"No subscription data available."})})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700",children:[u.jsxs("div",{className:"flex items-center mb-4",children:[u.jsx(JY,{className:"w-5 h-5 mr-2 text-gray-600 dark:text-gray-300"}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Recent Activity"})]}),u.jsx("div",{className:"space-y-4",children:c?u.jsx(Tx,{}):d?u.jsx(Ax,{message:d.message}):l&&l.length>0?l.map(h=>{var p;return u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[u.jsx("span",{className:"font-semibold text-blue-600 dark:text-blue-400",children:h.actor_display_name||h.actor_username||"A user"})," ",(p=h.action)==null?void 0:p.toLowerCase(),"."]}),u.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:new Date(h.created_at).toLocaleString()})]},h.id)}):u.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:"No recent activity found."})})]})]})};let xEe={data:""},wEe=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||xEe,_Ee=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,SEe=/\/\*[^]*?\*\/|  +/g,$D=/\n+/g,_a=(e,t)=>{let r="",n="",s="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?r=i+" "+o+";":n+=i[1]=="f"?_a(o,i):i+"{"+_a(o,i[1]=="k"?"":t)+"}":typeof o=="object"?n+=_a(o,t?t.replace(/([^,])+/g,a=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=_a.p?_a.p(i,o):i+":"+o+";")}return r+(t&&s?t+"{"+s+"}":s)+n},oo={},nU=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+nU(e[r]);return t}return e},EEe=(e,t,r,n,s)=>{let i=nU(e),o=oo[i]||(oo[i]=(l=>{let c=0,d=11;for(;c<l.length;)d=101*d+l.charCodeAt(c++)>>>0;return"go"+d})(i));if(!oo[o]){let l=i!==e?e:(c=>{let d,f,h=[{}];for(;d=_Ee.exec(c.replace(SEe,""));)d[4]?h.shift():d[3]?(f=d[3].replace($D," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][d[1]]=d[2].replace($D," ").trim();return h[0]})(e);oo[o]=_a(s?{["@keyframes "+o]:l}:l,r?"":"."+o)}let a=r&&oo.g?oo.g:null;return r&&(oo.g=oo[o]),((l,c,d,f)=>{f?c.data=c.data.replace(f,l):c.data.indexOf(l)===-1&&(c.data=d?l+c.data:c.data+l)})(oo[o],t,n,a),o},jEe=(e,t,r)=>e.reduce((n,s,i)=>{let o=t[i];if(o&&o.call){let a=o(r),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":_a(a,""):a===!1?"":a}return n+s+(o??"")},"");function ub(e){let t=this||{},r=e.call?e(t.p):e;return EEe(r.unshift?r.raw?jEe(r,[].slice.call(arguments,1),t.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(t.p):s),{}):r,wEe(t.target),t.g,t.o,t.k)}let sU,u_,d_;ub.bind({g:1});let Mo=ub.bind({k:1});function NEe(e,t,r,n){_a.p=t,sU=e,u_=r,d_=n}function nl(e,t){let r=this||{};return function(){let n=arguments;function s(i,o){let a=Object.assign({},i),l=a.className||s.className;r.p=Object.assign({theme:u_&&u_()},a),r.o=/ *go\d+/.test(l),a.className=ub.apply(r,n)+(l?" "+l:"");let c=e;return e[0]&&(c=a.as||e,delete a.as),d_&&c[0]&&d_(a),sU(c,a)}return s}}var kEe=e=>typeof e=="function",vy=(e,t)=>kEe(e)?e(t):e,CEe=(()=>{let e=0;return()=>(++e).toString()})(),iU=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),TEe=20,ak="default",oU=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:n}=t;return oU(e,{type:e.toasts.find(o=>o.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=t;return{...e,toasts:e.toasts.map(o=>o.id===s||s===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},tg=[],aU={toasts:[],pausedAt:void 0,settings:{toastLimit:TEe}},Ai={},lU=(e,t=ak)=>{Ai[t]=oU(Ai[t]||aU,e),tg.forEach(([r,n])=>{r===t&&n(Ai[t])})},cU=e=>Object.keys(Ai).forEach(t=>lU(e,t)),AEe=e=>Object.keys(Ai).find(t=>Ai[t].toasts.some(r=>r.id===e)),db=(e=ak)=>t=>{lU(t,e)},PEe={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},OEe=(e={},t=ak)=>{let[r,n]=w.useState(Ai[t]||aU),s=w.useRef(Ai[t]);w.useEffect(()=>(s.current!==Ai[t]&&n(Ai[t]),tg.push([t,n]),()=>{let o=tg.findIndex(([a])=>a===t);o>-1&&tg.splice(o,1)}),[t]);let i=r.toasts.map(o=>{var a,l,c;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((a=e[o.type])==null?void 0:a.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((l=e[o.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||PEe[o.type],style:{...e.style,...(c=e[o.type])==null?void 0:c.style,...o.style}}});return{...r,toasts:i}},DEe=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||CEe()}),yp=e=>(t,r)=>{let n=DEe(t,e,r);return db(n.toasterId||AEe(n.id))({type:2,toast:n}),n.id},Wt=(e,t)=>yp("blank")(e,t);Wt.error=yp("error");Wt.success=yp("success");Wt.loading=yp("loading");Wt.custom=yp("custom");Wt.dismiss=(e,t)=>{let r={type:3,toastId:e};t?db(t)(r):cU(r)};Wt.dismissAll=e=>Wt.dismiss(void 0,e);Wt.remove=(e,t)=>{let r={type:4,toastId:e};t?db(t)(r):cU(r)};Wt.removeAll=e=>Wt.remove(void 0,e);Wt.promise=(e,t,r)=>{let n=Wt.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let i=t.success?vy(t.success,s):void 0;return i?Wt.success(i,{id:n,...r,...r==null?void 0:r.success}):Wt.dismiss(n),s}).catch(s=>{let i=t.error?vy(t.error,s):void 0;i?Wt.error(i,{id:n,...r,...r==null?void 0:r.error}):Wt.dismiss(n)}),e};var REe=1e3,$Ee=(e,t="default")=>{let{toasts:r,pausedAt:n}=OEe(e,t),s=w.useRef(new Map).current,i=w.useCallback((f,h=REe)=>{if(s.has(f))return;let p=setTimeout(()=>{s.delete(f),o({type:4,toastId:f})},h);s.set(f,p)},[]);w.useEffect(()=>{if(n)return;let f=Date.now(),h=r.map(p=>{if(p.duration===1/0)return;let g=(p.duration||0)+p.pauseDuration-(f-p.createdAt);if(g<0){p.visible&&Wt.dismiss(p.id);return}return setTimeout(()=>Wt.dismiss(p.id,t),g)});return()=>{h.forEach(p=>p&&clearTimeout(p))}},[r,n,t]);let o=w.useCallback(db(t),[t]),a=w.useCallback(()=>{o({type:5,time:Date.now()})},[o]),l=w.useCallback((f,h)=>{o({type:1,toast:{id:f,height:h}})},[o]),c=w.useCallback(()=>{n&&o({type:6,time:Date.now()})},[n,o]),d=w.useCallback((f,h)=>{let{reverseOrder:p=!1,gutter:g=8,defaultPosition:m}=h||{},y=r.filter(x=>(x.position||m)===(f.position||m)&&x.height),v=y.findIndex(x=>x.id===f.id),b=y.filter((x,E)=>E<v&&x.visible).length;return y.filter(x=>x.visible).slice(...p?[b+1]:[0,b]).reduce((x,E)=>x+(E.height||0)+g,0)},[r]);return w.useEffect(()=>{r.forEach(f=>{if(f.dismissed)i(f.id,f.removeDelay);else{let h=s.get(f.id);h&&(clearTimeout(h),s.delete(f.id))}})},[r,i]),{toasts:r,handlers:{updateHeight:l,startPause:a,endPause:c,calculateOffset:d}}},IEe=Mo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,MEe=Mo`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,LEe=Mo`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,FEe=nl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${IEe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${MEe} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${LEe} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,BEe=Mo`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,zEe=nl("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${BEe} 1s linear infinite;
`,UEe=Mo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,qEe=Mo`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,VEe=nl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${UEe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${qEe} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,WEe=nl("div")`
  position: absolute;
`,KEe=nl("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,HEe=Mo`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,YEe=nl("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${HEe} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,GEe=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?S.createElement(YEe,null,t):t:r==="blank"?null:S.createElement(KEe,null,S.createElement(zEe,{...n}),r!=="loading"&&S.createElement(WEe,null,r==="error"?S.createElement(FEe,{...n}):S.createElement(VEe,{...n})))},ZEe=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,XEe=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,JEe="0%{opacity:0;} 100%{opacity:1;}",QEe="0%{opacity:1;} 100%{opacity:0;}",eje=nl("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,tje=nl("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,rje=(e,t)=>{let r=e.includes("top")?1:-1,[n,s]=iU()?[JEe,QEe]:[ZEe(r),XEe(r)];return{animation:t?`${Mo(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Mo(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},nje=S.memo(({toast:e,position:t,style:r,children:n})=>{let s=e.height?rje(e.position||t||"top-center",e.visible):{opacity:0},i=S.createElement(GEe,{toast:e}),o=S.createElement(tje,{...e.ariaProps},vy(e.message,e));return S.createElement(eje,{className:e.className,style:{...s,...r,...e.style}},typeof n=="function"?n({icon:i,message:o}):S.createElement(S.Fragment,null,i,o))});NEe(S.createElement);var sje=({id:e,className:t,style:r,onHeightUpdate:n,children:s})=>{let i=S.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;n(e,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return S.createElement("div",{ref:i,className:t,style:r},s)},ije=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:iU()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...s}},oje=ub`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Am=16,aje=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:s,toasterId:i,containerStyle:o,containerClassName:a})=>{let{toasts:l,handlers:c}=$Ee(r,i);return S.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:Am,left:Am,right:Am,bottom:Am,pointerEvents:"none",...o},className:a,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(d=>{let f=d.position||t,h=c.calculateOffset(d,{reverseOrder:e,gutter:n,defaultPosition:t}),p=ije(f,h);return S.createElement(sje,{id:d.id,key:d.id,onHeightUpdate:c.updateHeight,className:d.visible?oje:"",style:p},d.type==="custom"?vy(d.message,d):s?s(d):S.createElement(nje,{toast:d,position:f}))}))},Ei=Wt;function lje(){return{toast:({title:t,description:r,variant:n})=>{n==="destructive"?Wt.error(t,{id:t,duration:5e3,style:{background:"#fee2e2",color:"#ef4444",border:"1px solid #fca5a5"},iconTheme:{primary:"#ef4444",secondary:"#fee2e2"}}):Wt.success(t,{id:t,duration:3e3,style:{background:"#dcfce7",color:"#22c55e",border:"1px solid #86efac"},iconTheme:{primary:"#22c55e",secondary:"#dcfce7"}})}}}const Jr=lje(),cje=async()=>{const{data:e,error:t}=await he.from("homepage_content").select("*");if(t)throw new Error(t.message);return e},uje=async e=>{const{id:t,...r}=e,{data:n,error:s}=await he.from("homepage_content").update(r).eq("id",t).select();if(s)throw new Error(s.message);return n[0]},dje=async e=>{const{data:t,error:r}=await he.from("homepage_content").insert(e).select();if(r)throw new Error(r.message);return t[0]},fje=async()=>{const{data:e,error:t}=await he.from("news_items").select("*").order("date",{ascending:!1});if(t)throw new Error(t.message);return e},hje=async e=>{const{data:t,error:r}=await he.from("news_items").insert(e).select();if(r)throw new Error(r.message);return t[0]},pje=async e=>{const{data:t,error:r}=await he.from("news_items").update(e).eq("id",e.id).select();if(r)throw new Error(r.message);return t[0]},mje=async e=>{const{error:t}=await he.from("news_items").delete().eq("id",e);if(t)throw new Error(t.message)},gje=async()=>{const{data:e,error:t}=await he.from("release_items").select("*").order("release_date",{ascending:!1});if(t)throw new Error(t.message);return e},yje=async e=>{const{data:t,error:r}=await he.from("release_items").insert(e).select();if(r)throw new Error(r.message);return t[0]},vje=async e=>{const{data:t,error:r}=await he.from("release_items").update(e).eq("id",e.id).select();if(r)throw new Error(r.message);return t[0]},bje=async e=>{const{error:t}=await he.from("release_items").delete().eq("id",e);if(t)throw new Error(t.message)},xje=()=>{var W,K,ee,te,ue,V,H,se;const e=qo(),{data:t,isLoading:r,isError:n,error:s}=dr({queryKey:["homepageContent"],queryFn:cje}),{data:i,isLoading:o,isError:a,error:l}=dr({queryKey:["newsItems"],queryFn:fje}),{data:c,isLoading:d,isError:f,error:h}=dr({queryKey:["releaseItems"],queryFn:gje}),p=Xt({mutationFn:uje,onSuccess:()=>{e.invalidateQueries({queryKey:["homepageContent"]}),Jr.toast({title:"Content updated successfully!",variant:"default"})},onError:O=>{Jr.toast({title:`Error updating content: ${O.message}`,variant:"destructive"})}}),g=Xt({mutationFn:dje,onSuccess:()=>{e.invalidateQueries({queryKey:["homepageContent"]}),Jr.toast({title:"Content created successfully!",variant:"default"})},onError:O=>{Jr.toast({title:`Error creating content: ${O.message}`,variant:"destructive"})}}),m=Xt({mutationFn:hje,onSuccess:()=>{e.invalidateQueries({queryKey:["newsItems"]}),Jr.toast({title:"News item added successfully!",variant:"default"}),q()},onError:O=>{Jr.toast({title:`Error adding news item: ${O.message}`,variant:"destructive"})}}),y=Xt({mutationFn:pje,onSuccess:()=>{e.invalidateQueries({queryKey:["newsItems"]}),Jr.toast({title:"News item updated successfully!",variant:"default"}),q()},onError:O=>{Jr.toast({title:`Error updating news item: ${O.message}`,variant:"destructive"})}}),v=Xt({mutationFn:mje,onSuccess:()=>{e.invalidateQueries({queryKey:["newsItems"]}),Jr.toast({title:"News item deleted successfully!",variant:"default"})},onError:O=>{Jr.toast({title:`Error deleting news item: ${O.message}`,variant:"destructive"})}}),b=Xt({mutationFn:yje,onSuccess:()=>{e.invalidateQueries({queryKey:["releaseItems"]}),Jr.toast({title:"Release item added successfully!",variant:"default"}),B()},onError:O=>{Jr.toast({title:`Error adding release item: ${O.message}`,variant:"destructive"})}}),x=Xt({mutationFn:vje,onSuccess:()=>{e.invalidateQueries({queryKey:["releaseItems"]}),Jr.toast({title:"Release item updated successfully!",variant:"default"}),B()},onError:O=>{Jr.toast({title:`Error updating release item: ${O.message}`,variant:"destructive"})}}),E=Xt({mutationFn:bje,onSuccess:()=>{e.invalidateQueries({queryKey:["releaseItems"]}),Jr.toast({title:"Release item deleted successfully!",variant:"default"})},onError:O=>{Jr.toast({title:`Error deleting release item: ${O.message}`,variant:"destructive"})}}),[_,N]=w.useState(!1),[k,C]=w.useState(null),[T,$]=w.useState(!1),[M,L]=w.useState(null),D=O=>t==null?void 0:t.find(ye=>ye.section===O),z=async O=>{O.preventDefault();const ye=O.target,je=ye.heroTitle.value,Be=ye.heroDescription.value,Ue=ye.heroButtonText.value,nt=ye.heroButtonLink.value,St=[{section:"hero_title",content:je},{section:"hero_description",content:Be},{section:"hero_button_text",content:Ue},{section:"hero_button_link",content:nt}];for(const Ct of St){const I=D(Ct.section);I?p.mutate({...I,content:Ct.content}):g.mutate(Ct)}},U=async O=>{O.preventDefault();const ye=O.target,je=ye.wordsWritten.value,Be=ye.betaReaders.value,Ue=ye.averageRating.value,nt=ye.booksPublished.value,St=[{section:"stat_words_written",content:je},{section:"stat_beta_readers",content:Be},{section:"stat_average_rating",content:Ue},{section:"stat_books_published",content:nt}];for(const Ct of St){const I=D(Ct.section);I?p.mutate({...I,content:Ct.content}):g.mutate(Ct)}},G=(O=null)=>{C(O),N(!0)},q=()=>{C(null),N(!1)},Z=O=>{O.preventDefault();const ye=O.target,je=ye.newsTitle.value,Be=ye.newsContent.value,Ue=ye.newsStatus.value,nt=ye.newsDate.value,St={title:je,content:Be,status:Ue,date:nt};k?y.mutate({...k,...St}):m.mutate(St)},ie=O=>{window.confirm("Are you sure you want to delete this news item?")&&v.mutate(O)},R=(O=null)=>{L(O),$(!0)},B=()=>{L(null),$(!1)},X=O=>{O.preventDefault();const ye=O.target,je=ye.releaseTitle.value,Be=ye.releaseType.value,Ue=ye.releaseStatus.value,nt=ye.releaseDescription.value,St=ye.releaseDate.value,Ct=ye.purchaseLink.value,I={title:je,type:Be,status:Ue,description:nt,release_date:St,purchase_link:Ct};M?x.mutate({...M,...I}):b.mutate(I)},oe=O=>{window.confirm("Are you sure you want to delete this release item?")&&E.mutate(O)};return r||o||d?u.jsx("div",{className:"text-center py-8",children:"Loading homepage content manager..."}):n?u.jsxs("div",{className:"text-center py-8 text-red-500",children:["Error: ",s==null?void 0:s.message]}):a?u.jsxs("div",{className:"text-center py-8 text-red-500",children:["Error loading news: ",l==null?void 0:l.message]}):f?u.jsxs("div",{className:"text-center py-8 text-red-500",children:["Error loading releases: ",h==null?void 0:h.message]}):u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsxs("div",{className:"bg-blue-100 border-l-4 border-blue-500 text-blue-700 p-4 mb-4",role:"alert",children:[u.jsx("strong",{children:"Note:"})," Changes made here will be reflected on your homepage immediately after saving."]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-md mb-8 overflow-hidden",children:[u.jsx("div",{className:"bg-blue-600 text-white p-4 font-semibold",children:"Hero Section"}),u.jsx("div",{className:"p-6",children:u.jsxs("form",{onSubmit:z,children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"heroTitle",className:"block text-gray-700 text-sm font-bold mb-2",children:"Main Title"}),u.jsx("input",{type:"text",id:"heroTitle",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",defaultValue:((W=D("hero_title"))==null?void 0:W.content)||""})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"heroDescription",className:"block text-gray-700 text-sm font-bold mb-2",children:"Subtitle/Description"}),u.jsx("textarea",{id:"heroDescription",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline h-32 resize-y",defaultValue:((K=D("hero_description"))==null?void 0:K.content)||""})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"heroButtonText",className:"block text-gray-700 text-sm font-bold mb-2",children:"Button Text"}),u.jsx("input",{type:"text",id:"heroButtonText",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",defaultValue:((ee=D("hero_button_text"))==null?void 0:ee.content)||""})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{htmlFor:"heroButtonLink",className:"block text-gray-700 text-sm font-bold mb-2",children:"Button Link"}),u.jsx("input",{type:"url",id:"heroButtonLink",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",defaultValue:((te=D("hero_button_link"))==null?void 0:te.content)||""})]}),u.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Save Hero Section"})]})})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-md mb-8 overflow-hidden",children:[u.jsx("div",{className:"bg-blue-600 text-white p-4 font-semibold",children:"Statistics"}),u.jsx("div",{className:"p-6",children:u.jsxs("form",{onSubmit:U,children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[u.jsxs("div",{className:"stat-item p-4 border border-gray-200 rounded-md",children:[u.jsx("label",{htmlFor:"wordsWritten",className:"block text-gray-700 text-sm font-bold mb-2",children:"Words Written"}),u.jsx("input",{type:"text",id:"wordsWritten",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",defaultValue:((ue=D("stat_words_written"))==null?void 0:ue.content)||""})]}),u.jsxs("div",{className:"stat-item p-4 border border-gray-200 rounded-md",children:[u.jsx("label",{htmlFor:"betaReaders",className:"block text-gray-700 text-sm font-bold mb-2",children:"Beta Readers"}),u.jsx("input",{type:"text",id:"betaReaders",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",defaultValue:((V=D("stat_beta_readers"))==null?void 0:V.content)||""})]}),u.jsxs("div",{className:"stat-item p-4 border border-gray-200 rounded-md",children:[u.jsx("label",{htmlFor:"averageRating",className:"block text-gray-700 text-sm font-bold mb-2",children:"Average Rating"}),u.jsx("input",{type:"text",id:"averageRating",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",defaultValue:((H=D("stat_average_rating"))==null?void 0:H.content)||""})]}),u.jsxs("div",{className:"stat-item p-4 border border-gray-200 rounded-md",children:[u.jsx("label",{htmlFor:"booksPublished",className:"block text-gray-700 text-sm font-bold mb-2",children:"Books Published"}),u.jsx("input",{type:"text",id:"booksPublished",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",defaultValue:((se=D("stat_books_published"))==null?void 0:se.content)||""})]})]}),u.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Save Statistics"})]})})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-md mb-8 overflow-hidden",children:[u.jsx("div",{className:"bg-blue-600 text-white p-4 font-semibold",children:"Latest News & Updates"}),u.jsxs("div",{className:"p-6",children:[u.jsx("button",{onClick:()=>G(),className:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline mb-4",children:"+ Add New Update"}),i==null?void 0:i.map(O=>u.jsxs("div",{className:"bg-gray-100 p-4 rounded-md mb-2 relative",children:[u.jsxs("div",{className:"absolute top-2 right-2 flex gap-2",children:[u.jsx("button",{onClick:()=>G(O),className:"bg-blue-500 text-white px-2 py-1 rounded text-xs",children:"Edit"}),u.jsx("button",{onClick:()=>ie(O.id),className:"bg-red-500 text-white px-2 py-1 rounded text-xs",children:"Delete"})]}),u.jsx("h3",{className:"font-bold text-lg mb-1",children:O.title}),u.jsx("p",{className:"text-gray-700 text-sm",children:O.content}),u.jsxs("small",{className:"text-gray-500",children:["Status: ",O.status," | Date: ",O.date]})]},O.id))]})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-md mb-8 overflow-hidden",children:[u.jsx("div",{className:"bg-blue-600 text-white p-4 font-semibold",children:"Latest Releases"}),u.jsxs("div",{className:"p-6",children:[u.jsx("button",{onClick:()=>R(),className:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline mb-4",children:"+ Add New Release"}),c==null?void 0:c.map(O=>u.jsxs("div",{className:"bg-gray-100 p-4 rounded-md mb-2 relative",children:[u.jsxs("div",{className:"absolute top-2 right-2 flex gap-2",children:[u.jsx("button",{onClick:()=>R(O),className:"bg-blue-500 text-white px-2 py-1 rounded text-xs",children:"Edit"}),u.jsx("button",{onClick:()=>oe(O.id),className:"bg-red-500 text-white px-2 py-1 rounded text-xs",children:"Delete"})]}),u.jsx("h3",{className:"font-bold text-lg mb-1",children:O.title}),u.jsxs("p",{className:"text-gray-700 text-sm",children:[u.jsx("strong",{children:"Type:"})," ",O.type," | ",u.jsx("strong",{children:"Status:"})," ",O.status]}),u.jsxs("small",{className:"text-gray-500",children:["Released: ",O.release_date]})]},O.id))]})]}),_&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md",children:[u.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4",children:[u.jsx("h2",{className:"text-xl font-bold",children:k?"Edit Update":"Add New Update"}),u.jsx("button",{onClick:q,className:"text-gray-500 hover:text-gray-700 text-2xl",children:"×"})]}),u.jsxs("form",{onSubmit:Z,children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"newsTitle",className:"block text-gray-700 text-sm font-bold mb-2",children:"Title"}),u.jsx("input",{type:"text",id:"newsTitle",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",defaultValue:(k==null?void 0:k.title)||"",required:!0})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"newsContent",className:"block text-gray-700 text-sm font-bold mb-2",children:"Content"}),u.jsx("textarea",{id:"newsContent",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline h-24 resize-y",defaultValue:(k==null?void 0:k.content)||"",required:!0})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"newsStatus",className:"block text-gray-700 text-sm font-bold mb-2",children:"Status"}),u.jsxs("select",{id:"newsStatus",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",defaultValue:(k==null?void 0:k.status)||"draft",children:[u.jsx("option",{value:"draft",children:"Draft"}),u.jsx("option",{value:"published",children:"Published"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"newsDate",className:"block text-gray-700 text-sm font-bold mb-2",children:"Date"}),u.jsx("input",{type:"date",id:"newsDate",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",defaultValue:(k==null?void 0:k.date)||new Date().toISOString().split("T")[0],required:!0})]})]}),u.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[u.jsx("button",{type:"button",onClick:q,className:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Cancel"}),u.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Save Update"})]})]})]})}),T&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md",children:[u.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4",children:[u.jsx("h2",{className:"text-xl font-bold",children:M?"Edit Release":"Add New Release"}),u.jsx("button",{onClick:B,className:"text-gray-500 hover:text-gray-700 text-2xl",children:"×"})]}),u.jsxs("form",{onSubmit:X,children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"releaseTitle",className:"block text-gray-700 text-sm font-bold mb-2",children:"Title"}),u.jsx("input",{type:"text",id:"releaseTitle",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",defaultValue:(M==null?void 0:M.title)||"",required:!0})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"releaseType",className:"block text-gray-700 text-sm font-bold mb-2",children:"Type"}),u.jsxs("select",{id:"releaseType",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",defaultValue:(M==null?void 0:M.type)||"issue",children:[u.jsx("option",{value:"issue",children:"Issue"}),u.jsx("option",{value:"arc",children:"Arc"}),u.jsx("option",{value:"volume",children:"Volume"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"releaseStatus",className:"block text-gray-700 text-sm font-bold mb-2",children:"Status"}),u.jsxs("select",{id:"releaseStatus",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",defaultValue:(M==null?void 0:M.status)||"available",children:[u.jsx("option",{value:"available",children:"Available"}),u.jsx("option",{value:"coming-soon",children:"Coming Soon"}),u.jsx("option",{value:"pre-order",children:"Pre-order"})]})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"releaseDescription",className:"block text-gray-700 text-sm font-bold mb-2",children:"Description"}),u.jsx("textarea",{id:"releaseDescription",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline h-24 resize-y",defaultValue:(M==null?void 0:M.description)||""})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"releaseDate",className:"block text-gray-700 text-sm font-bold mb-2",children:"Release Date"}),u.jsx("input",{type:"date",id:"releaseDate",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",defaultValue:(M==null?void 0:M.release_date)||new Date().toISOString().split("T")[0],required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"purchaseLink",className:"block text-gray-700 text-sm font-bold mb-2",children:"Purchase Link"}),u.jsx("input",{type:"url",id:"purchaseLink",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",defaultValue:(M==null?void 0:M.purchase_link)||""})]})]}),u.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[u.jsx("button",{type:"button",onClick:B,className:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Cancel"}),u.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Save Release"})]})]})]})})]})};var uU=typeof global=="object"&&global&&global.Object===Object&&global,wje=typeof self=="object"&&self&&self.Object===Object&&self,Ji=uU||wje||Function("return this")(),Va=Ji.Symbol,dU=Object.prototype,_je=dU.hasOwnProperty,Sje=dU.toString,cf=Va?Va.toStringTag:void 0;function Eje(e){var t=_je.call(e,cf),r=e[cf];try{e[cf]=void 0;var n=!0}catch{}var s=Sje.call(e);return n&&(t?e[cf]=r:delete e[cf]),s}var jje=Object.prototype,Nje=jje.toString;function kje(e){return Nje.call(e)}var Cje="[object Null]",Tje="[object Undefined]",ID=Va?Va.toStringTag:void 0;function Ad(e){return e==null?e===void 0?Tje:Cje:ID&&ID in Object(e)?Eje(e):kje(e)}function Lo(e){return e!=null&&typeof e=="object"}var tc=Array.isArray;function sl(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function fU(e){return e}var Aje="[object AsyncFunction]",Pje="[object Function]",Oje="[object GeneratorFunction]",Dje="[object Proxy]";function lk(e){if(!sl(e))return!1;var t=Ad(e);return t==Pje||t==Oje||t==Aje||t==Dje}var Px=Ji["__core-js_shared__"],MD=function(){var e=/[^.]+$/.exec(Px&&Px.keys&&Px.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Rje(e){return!!MD&&MD in e}var $je=Function.prototype,Ije=$je.toString;function mc(e){if(e!=null){try{return Ije.call(e)}catch{}try{return e+""}catch{}}return""}var Mje=/[\\^$.*+?()[\]{}|]/g,Lje=/^\[object .+?Constructor\]$/,Fje=Function.prototype,Bje=Object.prototype,zje=Fje.toString,Uje=Bje.hasOwnProperty,qje=RegExp("^"+zje.call(Uje).replace(Mje,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Vje(e){if(!sl(e)||Rje(e))return!1;var t=lk(e)?qje:Lje;return t.test(mc(e))}function Wje(e,t){return e==null?void 0:e[t]}function gc(e,t){var r=Wje(e,t);return Vje(r)?r:void 0}var f_=gc(Ji,"WeakMap"),LD=Object.create,Kje=function(){function e(){}return function(t){if(!sl(t))return{};if(LD)return LD(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function Hje(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function Yje(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var Gje=800,Zje=16,Xje=Date.now;function Jje(e){var t=0,r=0;return function(){var n=Xje(),s=Zje-(n-r);if(r=n,s>0){if(++t>=Gje)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function Qje(e){return function(){return e}}var by=function(){try{var e=gc(Object,"defineProperty");return e({},"",{}),e}catch{}}(),eNe=by?function(e,t){return by(e,"toString",{configurable:!0,enumerable:!1,value:Qje(t),writable:!0})}:fU,tNe=Jje(eNe);function rNe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var nNe=9007199254740991,sNe=/^(?:0|[1-9]\d*)$/;function hU(e,t){var r=typeof e;return t=t??nNe,!!t&&(r=="number"||r!="symbol"&&sNe.test(e))&&e>-1&&e%1==0&&e<t}function ck(e,t,r){t=="__proto__"&&by?by(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function vp(e,t){return e===t||e!==e&&t!==t}var iNe=Object.prototype,oNe=iNe.hasOwnProperty;function pU(e,t,r){var n=e[t];(!(oNe.call(e,t)&&vp(n,r))||r===void 0&&!(t in e))&&ck(e,t,r)}function aNe(e,t,r,n){var s=!r;r||(r={});for(var i=-1,o=t.length;++i<o;){var a=t[i],l=void 0;l===void 0&&(l=e[a]),s?ck(r,a,l):pU(r,a,l)}return r}var FD=Math.max;function lNe(e,t,r){return t=FD(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,i=FD(n.length-t,0),o=Array(i);++s<i;)o[s]=n[t+s];s=-1;for(var a=Array(t+1);++s<t;)a[s]=n[s];return a[t]=r(o),Hje(e,this,a)}}function cNe(e,t){return tNe(lNe(e,t,fU),e+"")}var uNe=9007199254740991;function mU(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=uNe}function fb(e){return e!=null&&mU(e.length)&&!lk(e)}function dNe(e,t,r){if(!sl(r))return!1;var n=typeof t;return(n=="number"?fb(r)&&hU(t,r.length):n=="string"&&t in r)?vp(r[t],e):!1}function fNe(e){return cNe(function(t,r){var n=-1,s=r.length,i=s>1?r[s-1]:void 0,o=s>2?r[2]:void 0;for(i=e.length>3&&typeof i=="function"?(s--,i):void 0,o&&dNe(r[0],r[1],o)&&(i=s<3?void 0:i,s=1),t=Object(t);++n<s;){var a=r[n];a&&e(t,a,n,i)}return t})}var hNe=Object.prototype;function uk(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||hNe;return e===r}function pNe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var mNe="[object Arguments]";function BD(e){return Lo(e)&&Ad(e)==mNe}var gU=Object.prototype,gNe=gU.hasOwnProperty,yNe=gU.propertyIsEnumerable,h_=BD(function(){return arguments}())?BD:function(e){return Lo(e)&&gNe.call(e,"callee")&&!yNe.call(e,"callee")};function vNe(){return!1}var yU=typeof exports=="object"&&exports&&!exports.nodeType&&exports,zD=yU&&typeof module=="object"&&module&&!module.nodeType&&module,bNe=zD&&zD.exports===yU,UD=bNe?Ji.Buffer:void 0,xNe=UD?UD.isBuffer:void 0,Nh=xNe||vNe,wNe="[object Arguments]",_Ne="[object Array]",SNe="[object Boolean]",ENe="[object Date]",jNe="[object Error]",NNe="[object Function]",kNe="[object Map]",CNe="[object Number]",TNe="[object Object]",ANe="[object RegExp]",PNe="[object Set]",ONe="[object String]",DNe="[object WeakMap]",RNe="[object ArrayBuffer]",$Ne="[object DataView]",INe="[object Float32Array]",MNe="[object Float64Array]",LNe="[object Int8Array]",FNe="[object Int16Array]",BNe="[object Int32Array]",zNe="[object Uint8Array]",UNe="[object Uint8ClampedArray]",qNe="[object Uint16Array]",VNe="[object Uint32Array]",Dt={};Dt[INe]=Dt[MNe]=Dt[LNe]=Dt[FNe]=Dt[BNe]=Dt[zNe]=Dt[UNe]=Dt[qNe]=Dt[VNe]=!0;Dt[wNe]=Dt[_Ne]=Dt[RNe]=Dt[SNe]=Dt[$Ne]=Dt[ENe]=Dt[jNe]=Dt[NNe]=Dt[kNe]=Dt[CNe]=Dt[TNe]=Dt[ANe]=Dt[PNe]=Dt[ONe]=Dt[DNe]=!1;function WNe(e){return Lo(e)&&mU(e.length)&&!!Dt[Ad(e)]}function dk(e){return function(t){return e(t)}}var vU=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Uf=vU&&typeof module=="object"&&module&&!module.nodeType&&module,KNe=Uf&&Uf.exports===vU,Ox=KNe&&uU.process,Qu=function(){try{var e=Uf&&Uf.require&&Uf.require("util").types;return e||Ox&&Ox.binding&&Ox.binding("util")}catch{}}(),qD=Qu&&Qu.isTypedArray,fk=qD?dk(qD):WNe,HNe=Object.prototype,YNe=HNe.hasOwnProperty;function bU(e,t){var r=tc(e),n=!r&&h_(e),s=!r&&!n&&Nh(e),i=!r&&!n&&!s&&fk(e),o=r||n||s||i,a=o?pNe(e.length,String):[],l=a.length;for(var c in e)(t||YNe.call(e,c))&&!(o&&(c=="length"||s&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||hU(c,l)))&&a.push(c);return a}function xU(e,t){return function(r){return e(t(r))}}var GNe=xU(Object.keys,Object),ZNe=Object.prototype,XNe=ZNe.hasOwnProperty;function JNe(e){if(!uk(e))return GNe(e);var t=[];for(var r in Object(e))XNe.call(e,r)&&r!="constructor"&&t.push(r);return t}function QNe(e){return fb(e)?bU(e):JNe(e)}function eke(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var tke=Object.prototype,rke=tke.hasOwnProperty;function nke(e){if(!sl(e))return eke(e);var t=uk(e),r=[];for(var n in e)n=="constructor"&&(t||!rke.call(e,n))||r.push(n);return r}function wU(e){return fb(e)?bU(e,!0):nke(e)}var kh=gc(Object,"create");function ske(){this.__data__=kh?kh(null):{},this.size=0}function ike(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var oke="__lodash_hash_undefined__",ake=Object.prototype,lke=ake.hasOwnProperty;function cke(e){var t=this.__data__;if(kh){var r=t[e];return r===oke?void 0:r}return lke.call(t,e)?t[e]:void 0}var uke=Object.prototype,dke=uke.hasOwnProperty;function fke(e){var t=this.__data__;return kh?t[e]!==void 0:dke.call(t,e)}var hke="__lodash_hash_undefined__";function pke(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=kh&&t===void 0?hke:t,this}function rc(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}rc.prototype.clear=ske;rc.prototype.delete=ike;rc.prototype.get=cke;rc.prototype.has=fke;rc.prototype.set=pke;function mke(){this.__data__=[],this.size=0}function hb(e,t){for(var r=e.length;r--;)if(vp(e[r][0],t))return r;return-1}var gke=Array.prototype,yke=gke.splice;function vke(e){var t=this.__data__,r=hb(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():yke.call(t,r,1),--this.size,!0}function bke(e){var t=this.__data__,r=hb(t,e);return r<0?void 0:t[r][1]}function xke(e){return hb(this.__data__,e)>-1}function wke(e,t){var r=this.__data__,n=hb(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function Go(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Go.prototype.clear=mke;Go.prototype.delete=vke;Go.prototype.get=bke;Go.prototype.has=xke;Go.prototype.set=wke;var Ch=gc(Ji,"Map");function _ke(){this.size=0,this.__data__={hash:new rc,map:new(Ch||Go),string:new rc}}function Ske(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function pb(e,t){var r=e.__data__;return Ske(t)?r[typeof t=="string"?"string":"hash"]:r.map}function Eke(e){var t=pb(this,e).delete(e);return this.size-=t?1:0,t}function jke(e){return pb(this,e).get(e)}function Nke(e){return pb(this,e).has(e)}function kke(e,t){var r=pb(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function yc(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}yc.prototype.clear=_ke;yc.prototype.delete=Eke;yc.prototype.get=jke;yc.prototype.has=Nke;yc.prototype.set=kke;function Cke(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var _U=xU(Object.getPrototypeOf,Object),Tke="[object Object]",Ake=Function.prototype,Pke=Object.prototype,SU=Ake.toString,Oke=Pke.hasOwnProperty,Dke=SU.call(Object);function Rke(e){if(!Lo(e)||Ad(e)!=Tke)return!1;var t=_U(e);if(t===null)return!0;var r=Oke.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&SU.call(r)==Dke}function $ke(){this.__data__=new Go,this.size=0}function Ike(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function Mke(e){return this.__data__.get(e)}function Lke(e){return this.__data__.has(e)}var Fke=200;function Bke(e,t){var r=this.__data__;if(r instanceof Go){var n=r.__data__;if(!Ch||n.length<Fke-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new yc(n)}return r.set(e,t),this.size=r.size,this}function $i(e){var t=this.__data__=new Go(e);this.size=t.size}$i.prototype.clear=$ke;$i.prototype.delete=Ike;$i.prototype.get=Mke;$i.prototype.has=Lke;$i.prototype.set=Bke;var EU=typeof exports=="object"&&exports&&!exports.nodeType&&exports,VD=EU&&typeof module=="object"&&module&&!module.nodeType&&module,zke=VD&&VD.exports===EU,WD=zke?Ji.Buffer:void 0,KD=WD?WD.allocUnsafe:void 0;function jU(e,t){if(t)return e.slice();var r=e.length,n=KD?KD(r):new e.constructor(r);return e.copy(n),n}function Uke(e,t){for(var r=-1,n=e==null?0:e.length,s=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[s++]=o)}return i}function qke(){return[]}var Vke=Object.prototype,Wke=Vke.propertyIsEnumerable,HD=Object.getOwnPropertySymbols,Kke=HD?function(e){return e==null?[]:(e=Object(e),Uke(HD(e),function(t){return Wke.call(e,t)}))}:qke;function Hke(e,t,r){var n=t(e);return tc(e)?n:Cke(n,r(e))}function p_(e){return Hke(e,QNe,Kke)}var m_=gc(Ji,"DataView"),g_=gc(Ji,"Promise"),y_=gc(Ji,"Set"),YD="[object Map]",Yke="[object Object]",GD="[object Promise]",ZD="[object Set]",XD="[object WeakMap]",JD="[object DataView]",Gke=mc(m_),Zke=mc(Ch),Xke=mc(g_),Jke=mc(y_),Qke=mc(f_),Zs=Ad;(m_&&Zs(new m_(new ArrayBuffer(1)))!=JD||Ch&&Zs(new Ch)!=YD||g_&&Zs(g_.resolve())!=GD||y_&&Zs(new y_)!=ZD||f_&&Zs(new f_)!=XD)&&(Zs=function(e){var t=Ad(e),r=t==Yke?e.constructor:void 0,n=r?mc(r):"";if(n)switch(n){case Gke:return JD;case Zke:return YD;case Xke:return GD;case Jke:return ZD;case Qke:return XD}return t});var eCe=Object.prototype,tCe=eCe.hasOwnProperty;function rCe(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&tCe.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var xy=Ji.Uint8Array;function hk(e){var t=new e.constructor(e.byteLength);return new xy(t).set(new xy(e)),t}function nCe(e,t){var r=hk(e.buffer);return new e.constructor(r,e.byteOffset,e.byteLength)}var sCe=/\w*$/;function iCe(e){var t=new e.constructor(e.source,sCe.exec(e));return t.lastIndex=e.lastIndex,t}var QD=Va?Va.prototype:void 0,eR=QD?QD.valueOf:void 0;function oCe(e){return eR?Object(eR.call(e)):{}}function NU(e,t){var r=t?hk(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var aCe="[object Boolean]",lCe="[object Date]",cCe="[object Map]",uCe="[object Number]",dCe="[object RegExp]",fCe="[object Set]",hCe="[object String]",pCe="[object Symbol]",mCe="[object ArrayBuffer]",gCe="[object DataView]",yCe="[object Float32Array]",vCe="[object Float64Array]",bCe="[object Int8Array]",xCe="[object Int16Array]",wCe="[object Int32Array]",_Ce="[object Uint8Array]",SCe="[object Uint8ClampedArray]",ECe="[object Uint16Array]",jCe="[object Uint32Array]";function NCe(e,t,r){var n=e.constructor;switch(t){case mCe:return hk(e);case aCe:case lCe:return new n(+e);case gCe:return nCe(e);case yCe:case vCe:case bCe:case xCe:case wCe:case _Ce:case SCe:case ECe:case jCe:return NU(e,r);case cCe:return new n;case uCe:case hCe:return new n(e);case dCe:return iCe(e);case fCe:return new n;case pCe:return oCe(e)}}function kU(e){return typeof e.constructor=="function"&&!uk(e)?Kje(_U(e)):{}}var kCe="[object Map]";function CCe(e){return Lo(e)&&Zs(e)==kCe}var tR=Qu&&Qu.isMap,TCe=tR?dk(tR):CCe,ACe="[object Set]";function PCe(e){return Lo(e)&&Zs(e)==ACe}var rR=Qu&&Qu.isSet,OCe=rR?dk(rR):PCe,DCe=1,CU="[object Arguments]",RCe="[object Array]",$Ce="[object Boolean]",ICe="[object Date]",MCe="[object Error]",TU="[object Function]",LCe="[object GeneratorFunction]",FCe="[object Map]",BCe="[object Number]",AU="[object Object]",zCe="[object RegExp]",UCe="[object Set]",qCe="[object String]",VCe="[object Symbol]",WCe="[object WeakMap]",KCe="[object ArrayBuffer]",HCe="[object DataView]",YCe="[object Float32Array]",GCe="[object Float64Array]",ZCe="[object Int8Array]",XCe="[object Int16Array]",JCe="[object Int32Array]",QCe="[object Uint8Array]",eTe="[object Uint8ClampedArray]",tTe="[object Uint16Array]",rTe="[object Uint32Array]",jt={};jt[CU]=jt[RCe]=jt[KCe]=jt[HCe]=jt[$Ce]=jt[ICe]=jt[YCe]=jt[GCe]=jt[ZCe]=jt[XCe]=jt[JCe]=jt[FCe]=jt[BCe]=jt[AU]=jt[zCe]=jt[UCe]=jt[qCe]=jt[VCe]=jt[QCe]=jt[eTe]=jt[tTe]=jt[rTe]=!0;jt[MCe]=jt[TU]=jt[WCe]=!1;function rg(e,t,r,n,s,i){var o,a=t&DCe;if(o!==void 0)return o;if(!sl(e))return e;var l=tc(e);if(l)o=rCe(e);else{var c=Zs(e),d=c==TU||c==LCe;if(Nh(e))return jU(e,a);if(c==AU||c==CU||d&&!s)o=d?{}:kU(e);else{if(!jt[c])return s?e:{};o=NCe(e,c,a)}}i||(i=new $i);var f=i.get(e);if(f)return f;i.set(e,o),OCe(e)?e.forEach(function(g){o.add(rg(g,t,r,g,e,i))}):TCe(e)&&e.forEach(function(g,m){o.set(m,rg(g,t,r,m,e,i))});var h=p_,p=l?void 0:h(e);return rNe(p||e,function(g,m){p&&(m=g,g=e[m]),pU(o,m,rg(g,t,r,m,e,i))}),o}var nTe=1,sTe=4;function _u(e){return rg(e,nTe|sTe)}var iTe="__lodash_hash_undefined__";function oTe(e){return this.__data__.set(e,iTe),this}function aTe(e){return this.__data__.has(e)}function wy(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new yc;++t<r;)this.add(e[t])}wy.prototype.add=wy.prototype.push=oTe;wy.prototype.has=aTe;function lTe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function cTe(e,t){return e.has(t)}var uTe=1,dTe=2;function PU(e,t,r,n,s,i){var o=r&uTe,a=e.length,l=t.length;if(a!=l&&!(o&&l>a))return!1;var c=i.get(e),d=i.get(t);if(c&&d)return c==t&&d==e;var f=-1,h=!0,p=r&dTe?new wy:void 0;for(i.set(e,t),i.set(t,e);++f<a;){var g=e[f],m=t[f];if(n)var y=o?n(m,g,f,t,e,i):n(g,m,f,e,t,i);if(y!==void 0){if(y)continue;h=!1;break}if(p){if(!lTe(t,function(v,b){if(!cTe(p,b)&&(g===v||s(g,v,r,n,i)))return p.push(b)})){h=!1;break}}else if(!(g===m||s(g,m,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}function fTe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}function hTe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var pTe=1,mTe=2,gTe="[object Boolean]",yTe="[object Date]",vTe="[object Error]",bTe="[object Map]",xTe="[object Number]",wTe="[object RegExp]",_Te="[object Set]",STe="[object String]",ETe="[object Symbol]",jTe="[object ArrayBuffer]",NTe="[object DataView]",nR=Va?Va.prototype:void 0,Dx=nR?nR.valueOf:void 0;function kTe(e,t,r,n,s,i,o){switch(r){case NTe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case jTe:return!(e.byteLength!=t.byteLength||!i(new xy(e),new xy(t)));case gTe:case yTe:case xTe:return vp(+e,+t);case vTe:return e.name==t.name&&e.message==t.message;case wTe:case STe:return e==t+"";case bTe:var a=fTe;case _Te:var l=n&pTe;if(a||(a=hTe),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;n|=mTe,o.set(e,t);var d=PU(a(e),a(t),n,s,i,o);return o.delete(e),d;case ETe:if(Dx)return Dx.call(e)==Dx.call(t)}return!1}var CTe=1,TTe=Object.prototype,ATe=TTe.hasOwnProperty;function PTe(e,t,r,n,s,i){var o=r&CTe,a=p_(e),l=a.length,c=p_(t),d=c.length;if(l!=d&&!o)return!1;for(var f=l;f--;){var h=a[f];if(!(o?h in t:ATe.call(t,h)))return!1}var p=i.get(e),g=i.get(t);if(p&&g)return p==t&&g==e;var m=!0;i.set(e,t),i.set(t,e);for(var y=o;++f<l;){h=a[f];var v=e[h],b=t[h];if(n)var x=o?n(b,v,h,t,e,i):n(v,b,h,e,t,i);if(!(x===void 0?v===b||s(v,b,r,n,i):x)){m=!1;break}y||(y=h=="constructor")}if(m&&!y){var E=e.constructor,_=t.constructor;E!=_&&"constructor"in e&&"constructor"in t&&!(typeof E=="function"&&E instanceof E&&typeof _=="function"&&_ instanceof _)&&(m=!1)}return i.delete(e),i.delete(t),m}var OTe=1,sR="[object Arguments]",iR="[object Array]",Pm="[object Object]",DTe=Object.prototype,oR=DTe.hasOwnProperty;function RTe(e,t,r,n,s,i){var o=tc(e),a=tc(t),l=o?iR:Zs(e),c=a?iR:Zs(t);l=l==sR?Pm:l,c=c==sR?Pm:c;var d=l==Pm,f=c==Pm,h=l==c;if(h&&Nh(e)){if(!Nh(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new $i),o||fk(e)?PU(e,t,r,n,s,i):kTe(e,t,l,r,n,s,i);if(!(r&OTe)){var p=d&&oR.call(e,"__wrapped__"),g=f&&oR.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,y=g?t.value():t;return i||(i=new $i),s(m,y,r,n,i)}}return h?(i||(i=new $i),PTe(e,t,r,n,s,i)):!1}function OU(e,t,r,n,s){return e===t?!0:e==null||t==null||!Lo(e)&&!Lo(t)?e!==e&&t!==t:RTe(e,t,r,n,OU,s)}function $Te(e){return function(t,r,n){for(var s=-1,i=Object(t),o=n(t),a=o.length;a--;){var l=o[++s];if(r(i[l],l,i)===!1)break}return t}}var ITe=$Te();function v_(e,t,r){(r!==void 0&&!vp(e[t],r)||r===void 0&&!(t in e))&&ck(e,t,r)}function MTe(e){return Lo(e)&&fb(e)}function b_(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function LTe(e){return aNe(e,wU(e))}function FTe(e,t,r,n,s,i,o){var a=b_(e,r),l=b_(t,r),c=o.get(l);if(c){v_(e,r,c);return}var d=i?i(a,l,r+"",e,t,o):void 0,f=d===void 0;if(f){var h=tc(l),p=!h&&Nh(l),g=!h&&!p&&fk(l);d=l,h||p||g?tc(a)?d=a:MTe(a)?d=Yje(a):p?(f=!1,d=jU(l,!0)):g?(f=!1,d=NU(l,!0)):d=[]:Rke(l)||h_(l)?(d=a,h_(a)?d=LTe(a):(!sl(a)||lk(a))&&(d=kU(l))):f=!1}f&&(o.set(l,d),s(d,l,n,i,o),o.delete(l)),v_(e,r,d)}function DU(e,t,r,n,s){e!==t&&ITe(t,function(i,o){if(s||(s=new $i),sl(i))FTe(e,t,o,r,DU,n,s);else{var a=n?n(b_(e,o),i,o+"",e,t,s):void 0;a===void 0&&(a=i),v_(e,o,a)}},wU)}function Sa(e,t){return OU(e,t)}var $a=fNe(function(e,t,r){DU(e,t,r)}),Oe=(e=>(e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY",e))(Oe||{});class qi{constructor(t,r,n={}){this.attrName=t,this.keyName=r;const s=Oe.TYPE&Oe.ATTRIBUTE;this.scope=n.scope!=null?n.scope&Oe.LEVEL|s:Oe.ATTRIBUTE,n.whitelist!=null&&(this.whitelist=n.whitelist)}static keys(t){return Array.from(t.attributes).map(r=>r.name)}add(t,r){return this.canAdd(t,r)?(t.setAttribute(this.keyName,r),!0):!1}canAdd(t,r){return this.whitelist==null?!0:typeof r=="string"?this.whitelist.indexOf(r.replace(/["']/g,""))>-1:this.whitelist.indexOf(r)>-1}remove(t){t.removeAttribute(this.keyName)}value(t){const r=t.getAttribute(this.keyName);return this.canAdd(t,r)&&r?r:""}}class Su extends Error{constructor(t){t="[Parchment] "+t,super(t),this.message=t,this.name=this.constructor.name}}const RU=class x_{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(t,r=!1){if(t==null)return null;if(this.blots.has(t))return this.blots.get(t)||null;if(r){let n=null;try{n=t.parentNode}catch{return null}return this.find(n,r)}return null}create(t,r,n){const s=this.query(r);if(s==null)throw new Su(`Unable to create ${r} blot`);const i=s,o=r instanceof Node||r.nodeType===Node.TEXT_NODE?r:i.create(n),a=new i(t,o,n);return x_.blots.set(a.domNode,a),a}find(t,r=!1){return x_.find(t,r)}query(t,r=Oe.ANY){let n;return typeof t=="string"?n=this.types[t]||this.attributes[t]:t instanceof Text||t.nodeType===Node.TEXT_NODE?n=this.types.text:typeof t=="number"?t&Oe.LEVEL&Oe.BLOCK?n=this.types.block:t&Oe.LEVEL&Oe.INLINE&&(n=this.types.inline):t instanceof Element&&((t.getAttribute("class")||"").split(/\s+/).some(s=>(n=this.classes[s],!!n)),n=n||this.tags[t.tagName]),n==null?null:"scope"in n&&r&Oe.LEVEL&n.scope&&r&Oe.TYPE&n.scope?n:null}register(...t){return t.map(r=>{const n="blotName"in r,s="attrName"in r;if(!n&&!s)throw new Su("Invalid definition");if(n&&r.blotName==="abstract")throw new Su("Cannot register abstract class");const i=n?r.blotName:s?r.attrName:void 0;return this.types[i]=r,s?typeof r.keyName=="string"&&(this.attributes[r.keyName]=r):n&&(r.className&&(this.classes[r.className]=r),r.tagName&&(Array.isArray(r.tagName)?r.tagName=r.tagName.map(o=>o.toUpperCase()):r.tagName=r.tagName.toUpperCase(),(Array.isArray(r.tagName)?r.tagName:[r.tagName]).forEach(o=>{(this.tags[o]==null||r.className==null)&&(this.tags[o]=r)}))),r})}};RU.blots=new WeakMap;let ed=RU;function aR(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter(r=>r.indexOf(`${t}-`)===0)}class BTe extends qi{static keys(t){return(t.getAttribute("class")||"").split(/\s+/).map(r=>r.split("-").slice(0,-1).join("-"))}add(t,r){return this.canAdd(t,r)?(this.remove(t),t.classList.add(`${this.keyName}-${r}`),!0):!1}remove(t){aR(t,this.keyName).forEach(r=>{t.classList.remove(r)}),t.classList.length===0&&t.removeAttribute("class")}value(t){const r=(aR(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,r)?r:""}}const hi=BTe;function Rx(e){const t=e.split("-"),r=t.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("");return t[0]+r}class zTe extends qi{static keys(t){return(t.getAttribute("style")||"").split(";").map(r=>r.split(":")[0].trim())}add(t,r){return this.canAdd(t,r)?(t.style[Rx(this.keyName)]=r,!0):!1}remove(t){t.style[Rx(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")}value(t){const r=t.style[Rx(this.keyName)];return this.canAdd(t,r)?r:""}}const il=zTe;class UTe{constructor(t){this.attributes={},this.domNode=t,this.build()}attribute(t,r){r?t.add(this.domNode,r)&&(t.value(this.domNode)!=null?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])}build(){this.attributes={};const t=ed.find(this.domNode);if(t==null)return;const r=qi.keys(this.domNode),n=hi.keys(this.domNode),s=il.keys(this.domNode);r.concat(n).concat(s).forEach(i=>{const o=t.scroll.query(i,Oe.ATTRIBUTE);o instanceof qi&&(this.attributes[o.attrName]=o)})}copy(t){Object.keys(this.attributes).forEach(r=>{const n=this.attributes[r].value(this.domNode);t.format(r,n)})}move(t){this.copy(t),Object.keys(this.attributes).forEach(r=>{this.attributes[r].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((t,r)=>(t[r]=this.attributes[r].value(this.domNode),t),{})}}const mb=UTe,$U=class{constructor(t,r){this.scroll=t,this.domNode=r,ed.blots.set(r,this),this.prev=null,this.next=null}static create(t){if(this.tagName==null)throw new Su("Blot definition missing tagName");let r,n;return Array.isArray(this.tagName)?(typeof t=="string"?(n=t.toUpperCase(),parseInt(n,10).toString()===n&&(n=parseInt(n,10))):typeof t=="number"&&(n=t),typeof n=="number"?r=document.createElement(this.tagName[n-1]):n&&this.tagName.indexOf(n)>-1?r=document.createElement(n):r=document.createElement(this.tagName[0])):r=document.createElement(this.tagName),this.className&&r.classList.add(this.className),r}get statics(){return this.constructor}attach(){}clone(){const t=this.domNode.cloneNode(!1);return this.scroll.create(t)}detach(){this.parent!=null&&this.parent.removeChild(this),ed.blots.delete(this.domNode)}deleteAt(t,r){this.isolate(t,r).remove()}formatAt(t,r,n,s){const i=this.isolate(t,r);if(this.scroll.query(n,Oe.BLOT)!=null&&s)i.wrap(n,s);else if(this.scroll.query(n,Oe.ATTRIBUTE)!=null){const o=this.scroll.create(this.statics.scope);i.wrap(o),o.format(n,s)}}insertAt(t,r,n){const s=n==null?this.scroll.create("text",r):this.scroll.create(r,n),i=this.split(t);this.parent.insertBefore(s,i||void 0)}isolate(t,r){const n=this.split(t);if(n==null)throw new Error("Attempt to isolate at end");return n.split(r),n}length(){return 1}offset(t=this.parent){return this.parent==null||this===t?0:this.parent.children.offset(this)+this.parent.offset(t)}optimize(t){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(t,r){const n=typeof t=="string"?this.scroll.create(t,r):t;return this.parent!=null&&(this.parent.insertBefore(n,this.next||void 0),this.remove()),n}split(t,r){return t===0?this:this.next}update(t,r){}wrap(t,r){const n=typeof t=="string"?this.scroll.create(t,r):t;if(this.parent!=null&&this.parent.insertBefore(n,this.next||void 0),typeof n.appendChild!="function")throw new Su(`Cannot wrap ${t}`);return n.appendChild(this),n}};$U.blotName="abstract";let IU=$U;const MU=class extends IU{static value(t){return!0}index(t,r){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(r,1):-1}position(t,r){let n=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return t>0&&(n+=1),[this.parent.domNode,n]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};MU.scope=Oe.INLINE_BLOT;let qTe=MU;const sn=qTe;class VTe{constructor(){this.head=null,this.tail=null,this.length=0}append(...t){if(this.insertBefore(t[0],null),t.length>1){const r=t.slice(1);this.append(...r)}}at(t){const r=this.iterator();let n=r();for(;n&&t>0;)t-=1,n=r();return n}contains(t){const r=this.iterator();let n=r();for(;n;){if(n===t)return!0;n=r()}return!1}indexOf(t){const r=this.iterator();let n=r(),s=0;for(;n;){if(n===t)return s;s+=1,n=r()}return-1}insertBefore(t,r){t!=null&&(this.remove(t),t.next=r,r!=null?(t.prev=r.prev,r.prev!=null&&(r.prev.next=t),r.prev=t,r===this.head&&(this.head=t)):this.tail!=null?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)}offset(t){let r=0,n=this.head;for(;n!=null;){if(n===t)return r;r+=n.length(),n=n.next}return-1}remove(t){this.contains(t)&&(t.prev!=null&&(t.prev.next=t.next),t.next!=null&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)}iterator(t=this.head){return()=>{const r=t;return t!=null&&(t=t.next),r}}find(t,r=!1){const n=this.iterator();let s=n();for(;s;){const i=s.length();if(t<i||r&&t===i&&(s.next==null||s.next.length()!==0))return[s,t];t-=i,s=n()}return[null,0]}forEach(t){const r=this.iterator();let n=r();for(;n;)t(n),n=r()}forEachAt(t,r,n){if(r<=0)return;const[s,i]=this.find(t);let o=t-i;const a=this.iterator(s);let l=a();for(;l&&o<t+r;){const c=l.length();t>o?n(l,t-o,Math.min(r,o+c-t)):n(l,0,Math.min(c,t+r-o)),o+=c,l=a()}}map(t){return this.reduce((r,n)=>(r.push(t(n)),r),[])}reduce(t,r){const n=this.iterator();let s=n();for(;s;)r=t(r,s),s=n();return r}}function lR(e,t){const r=t.find(e);if(r)return r;try{return t.create(e)}catch{const n=t.create(Oe.INLINE);return Array.from(e.childNodes).forEach(s=>{n.domNode.appendChild(s)}),e.parentNode&&e.parentNode.replaceChild(n.domNode,e),n.attach(),n}}const LU=class ma extends IU{constructor(t,r){super(t,r),this.uiNode=null,this.build()}appendChild(t){this.insertBefore(t)}attach(){super.attach(),this.children.forEach(t=>{t.attach()})}attachUI(t){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=t,ma.uiClass&&this.uiNode.classList.add(ma.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new VTe,Array.from(this.domNode.childNodes).filter(t=>t!==this.uiNode).reverse().forEach(t=>{try{const r=lR(t,this.scroll);this.insertBefore(r,this.children.head||void 0)}catch(r){if(r instanceof Su)return;throw r}})}deleteAt(t,r){if(t===0&&r===this.length())return this.remove();this.children.forEachAt(t,r,(n,s,i)=>{n.deleteAt(s,i)})}descendant(t,r=0){const[n,s]=this.children.find(r);return t.blotName==null&&t(n)||t.blotName!=null&&n instanceof t?[n,s]:n instanceof ma?n.descendant(t,s):[null,-1]}descendants(t,r=0,n=Number.MAX_VALUE){let s=[],i=n;return this.children.forEachAt(r,n,(o,a,l)=>{(t.blotName==null&&t(o)||t.blotName!=null&&o instanceof t)&&s.push(o),o instanceof ma&&(s=s.concat(o.descendants(t,a,i))),i-=l}),s}detach(){this.children.forEach(t=>{t.detach()}),super.detach()}enforceAllowedChildren(){let t=!1;this.children.forEach(r=>{t||this.statics.allowedChildren.some(n=>r instanceof n)||(r.statics.scope===Oe.BLOCK_BLOT?(r.next!=null&&this.splitAfter(r),r.prev!=null&&this.splitAfter(r.prev),r.parent.unwrap(),t=!0):r instanceof ma?r.unwrap():r.remove())})}formatAt(t,r,n,s){this.children.forEachAt(t,r,(i,o,a)=>{i.formatAt(o,a,n,s)})}insertAt(t,r,n){const[s,i]=this.children.find(t);if(s)s.insertAt(i,r,n);else{const o=n==null?this.scroll.create("text",r):this.scroll.create(r,n);this.appendChild(o)}}insertBefore(t,r){t.parent!=null&&t.parent.children.remove(t);let n=null;this.children.insertBefore(t,r||null),t.parent=this,r!=null&&(n=r.domNode),(this.domNode.parentNode!==t.domNode||this.domNode.nextSibling!==n)&&this.domNode.insertBefore(t.domNode,n),t.attach()}length(){return this.children.reduce((t,r)=>t+r.length(),0)}moveChildren(t,r){this.children.forEach(n=>{t.insertBefore(n,r)})}optimize(t){if(super.optimize(t),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const r=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(r)}else this.remove()}path(t,r=!1){const[n,s]=this.children.find(t,r),i=[[this,t]];return n instanceof ma?i.concat(n.path(s,r)):(n!=null&&i.push([n,s]),i)}removeChild(t){this.children.remove(t)}replaceWith(t,r){const n=typeof t=="string"?this.scroll.create(t,r):t;return n instanceof ma&&this.moveChildren(n),super.replaceWith(n)}split(t,r=!1){if(!r){if(t===0)return this;if(t===this.length())return this.next}const n=this.clone();return this.parent&&this.parent.insertBefore(n,this.next||void 0),this.children.forEachAt(t,this.length(),(s,i,o)=>{const a=s.split(i,r);a!=null&&n.appendChild(a)}),n}splitAfter(t){const r=this.clone();for(;t.next!=null;)r.appendChild(t.next);return this.parent&&this.parent.insertBefore(r,this.next||void 0),r}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(t,r){const n=[],s=[];t.forEach(i=>{i.target===this.domNode&&i.type==="childList"&&(n.push(...i.addedNodes),s.push(...i.removedNodes))}),s.forEach(i=>{if(i.parentNode!=null&&i.tagName!=="IFRAME"&&document.body.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const o=this.scroll.find(i);o!=null&&(o.domNode.parentNode==null||o.domNode.parentNode===this.domNode)&&o.detach()}),n.filter(i=>i.parentNode===this.domNode&&i!==this.uiNode).sort((i,o)=>i===o?0:i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(i=>{let o=null;i.nextSibling!=null&&(o=this.scroll.find(i.nextSibling));const a=lR(i,this.scroll);(a.next!==o||a.next==null)&&(a.parent!=null&&a.parent.removeChild(this),this.insertBefore(a,o||void 0))}),this.enforceAllowedChildren()}};LU.uiClass="";let WTe=LU;const ri=WTe;function KTe(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}const Bc=class zc extends ri{static create(t){return super.create(t)}static formats(t,r){const n=r.query(zc.blotName);if(!(n!=null&&t.tagName===n.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,r){super(t,r),this.attributes=new mb(this.domNode)}format(t,r){if(t===this.statics.blotName&&!r)this.children.forEach(n=>{n instanceof zc||(n=n.wrap(zc.blotName,!0)),this.attributes.copy(n)}),this.unwrap();else{const n=this.scroll.query(t,Oe.INLINE);if(n==null)return;n instanceof qi?this.attributes.attribute(n,r):r&&(t!==this.statics.blotName||this.formats()[t]!==r)&&this.replaceWith(t,r)}}formats(){const t=this.attributes.values(),r=this.statics.formats(this.domNode,this.scroll);return r!=null&&(t[this.statics.blotName]=r),t}formatAt(t,r,n,s){this.formats()[n]!=null||this.scroll.query(n,Oe.ATTRIBUTE)?this.isolate(t,r).format(n,s):super.formatAt(t,r,n,s)}optimize(t){super.optimize(t);const r=this.formats();if(Object.keys(r).length===0)return this.unwrap();const n=this.next;n instanceof zc&&n.prev===this&&KTe(r,n.formats())&&(n.moveChildren(this),n.remove())}replaceWith(t,r){const n=super.replaceWith(t,r);return this.attributes.copy(n),n}update(t,r){super.update(t,r),t.some(n=>n.target===this.domNode&&n.type==="attributes")&&this.attributes.build()}wrap(t,r){const n=super.wrap(t,r);return n instanceof zc&&this.attributes.move(n),n}};Bc.allowedChildren=[Bc,sn],Bc.blotName="inline",Bc.scope=Oe.INLINE_BLOT,Bc.tagName="SPAN";let HTe=Bc;const pk=HTe,Uc=class w_ extends ri{static create(t){return super.create(t)}static formats(t,r){const n=r.query(w_.blotName);if(!(n!=null&&t.tagName===n.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,r){super(t,r),this.attributes=new mb(this.domNode)}format(t,r){const n=this.scroll.query(t,Oe.BLOCK);n!=null&&(n instanceof qi?this.attributes.attribute(n,r):t===this.statics.blotName&&!r?this.replaceWith(w_.blotName):r&&(t!==this.statics.blotName||this.formats()[t]!==r)&&this.replaceWith(t,r))}formats(){const t=this.attributes.values(),r=this.statics.formats(this.domNode,this.scroll);return r!=null&&(t[this.statics.blotName]=r),t}formatAt(t,r,n,s){this.scroll.query(n,Oe.BLOCK)!=null?this.format(n,s):super.formatAt(t,r,n,s)}insertAt(t,r,n){if(n==null||this.scroll.query(r,Oe.INLINE)!=null)super.insertAt(t,r,n);else{const s=this.split(t);if(s!=null){const i=this.scroll.create(r,n);s.parent.insertBefore(i,s)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(t,r){const n=super.replaceWith(t,r);return this.attributes.copy(n),n}update(t,r){super.update(t,r),t.some(n=>n.target===this.domNode&&n.type==="attributes")&&this.attributes.build()}};Uc.blotName="block",Uc.scope=Oe.BLOCK_BLOT,Uc.tagName="P",Uc.allowedChildren=[pk,Uc,sn];let YTe=Uc;const Th=YTe,__=class extends ri{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(t,r){super.deleteAt(t,r),this.enforceAllowedChildren()}formatAt(t,r,n,s){super.formatAt(t,r,n,s),this.enforceAllowedChildren()}insertAt(t,r,n){super.insertAt(t,r,n),this.enforceAllowedChildren()}optimize(t){super.optimize(t),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};__.blotName="container",__.scope=Oe.BLOCK_BLOT;let GTe=__;const gb=GTe;class ZTe extends sn{static formats(t,r){}format(t,r){super.formatAt(0,this.length(),t,r)}formatAt(t,r,n,s){t===0&&r===this.length()?this.format(n,s):super.formatAt(t,r,n,s)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const rs=ZTe,XTe={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},JTe=100,qc=class extends ri{constructor(t,r){super(null,r),this.registry=t,this.scroll=this,this.build(),this.observer=new MutationObserver(n=>{this.update(n)}),this.observer.observe(this.domNode,XTe),this.attach()}create(t,r){return this.registry.create(this,t,r)}find(t,r=!1){const n=this.registry.find(t,r);return n?n.scroll===this?n:r?this.find(n.scroll.domNode.parentNode,!0):null:null}query(t,r=Oe.ANY){return this.registry.query(t,r)}register(...t){return this.registry.register(...t)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(t,r){this.update(),t===0&&r===this.length()?this.children.forEach(n=>{n.remove()}):super.deleteAt(t,r)}formatAt(t,r,n,s){this.update(),super.formatAt(t,r,n,s)}insertAt(t,r,n){this.update(),super.insertAt(t,r,n)}optimize(t=[],r={}){super.optimize(r);const n=r.mutationsMap||new WeakMap;let s=Array.from(this.observer.takeRecords());for(;s.length>0;)t.push(s.pop());const i=(l,c=!0)=>{l==null||l===this||l.domNode.parentNode!=null&&(n.has(l.domNode)||n.set(l.domNode,[]),c&&i(l.parent))},o=l=>{n.has(l.domNode)&&(l instanceof ri&&l.children.forEach(o),n.delete(l.domNode),l.optimize(r))};let a=t;for(let l=0;a.length>0;l+=1){if(l>=JTe)throw new Error("[Parchment] Maximum optimize iterations reached");for(a.forEach(c=>{const d=this.find(c.target,!0);d!=null&&(d.domNode===c.target&&(c.type==="childList"?(i(this.find(c.previousSibling,!1)),Array.from(c.addedNodes).forEach(f=>{const h=this.find(f,!1);i(h,!1),h instanceof ri&&h.children.forEach(p=>{i(p,!1)})})):c.type==="attributes"&&i(d.prev)),i(d))}),this.children.forEach(o),a=Array.from(this.observer.takeRecords()),s=a.slice();s.length>0;)t.push(s.pop())}}update(t,r={}){t=t||this.observer.takeRecords();const n=new WeakMap;t.map(s=>{const i=this.find(s.target,!0);return i==null?null:n.has(i.domNode)?(n.get(i.domNode).push(s),null):(n.set(i.domNode,[s]),i)}).forEach(s=>{s!=null&&s!==this&&n.has(s.domNode)&&s.update(n.get(s.domNode)||[],r)}),r.mutationsMap=n,n.has(this.domNode)&&super.update(n.get(this.domNode),r),this.optimize(t,r)}};qc.blotName="scroll",qc.defaultChild=Th,qc.allowedChildren=[Th,gb],qc.scope=Oe.BLOCK_BLOT,qc.tagName="DIV";let QTe=qc;const mk=QTe,S_=class FU extends sn{static create(t){return document.createTextNode(t)}static value(t){return t.data}constructor(t,r){super(t,r),this.text=this.statics.value(this.domNode)}deleteAt(t,r){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+r)}index(t,r){return this.domNode===t?r:-1}insertAt(t,r,n){n==null?(this.text=this.text.slice(0,t)+r+this.text.slice(t),this.domNode.data=this.text):super.insertAt(t,r,n)}length(){return this.text.length}optimize(t){super.optimize(t),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof FU&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(t,r=!1){return[this.domNode,t]}split(t,r=!1){if(!r){if(t===0)return this;if(t===this.length())return this.next}const n=this.scroll.create(this.domNode.splitText(t));return this.parent.insertBefore(n,this.next||void 0),this.text=this.statics.value(this.domNode),n}update(t,r){t.some(n=>n.type==="characterData"&&n.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};S_.blotName="text",S_.scope=Oe.INLINE_BLOT;let eAe=S_;const _y=eAe,tAe=Object.freeze(Object.defineProperty({__proto__:null,Attributor:qi,AttributorStore:mb,BlockBlot:Th,ClassAttributor:hi,ContainerBlot:gb,EmbedBlot:rs,InlineBlot:pk,LeafBlot:sn,ParentBlot:ri,Registry:ed,Scope:Oe,ScrollBlot:mk,StyleAttributor:il,TextBlot:_y},Symbol.toStringTag,{value:"Module"}));var E_={exports:{}},Xn=-1,xn=1,Er=0;function Ah(e,t,r,n,s){if(e===t)return e?[[Er,e]]:[];if(r!=null){var i=uAe(e,t,r);if(i)return i}var o=gk(e,t),a=e.substring(0,o);e=e.substring(o),t=t.substring(o),o=yb(e,t);var l=e.substring(e.length-o);e=e.substring(0,e.length-o),t=t.substring(0,t.length-o);var c=rAe(e,t);return a&&c.unshift([Er,a]),l&&c.push([Er,l]),yk(c,s),n&&iAe(c),c}function rAe(e,t){var r;if(!e)return[[xn,t]];if(!t)return[[Xn,e]];var n=e.length>t.length?e:t,s=e.length>t.length?t:e,i=n.indexOf(s);if(i!==-1)return r=[[xn,n.substring(0,i)],[Er,s],[xn,n.substring(i+s.length)]],e.length>t.length&&(r[0][0]=r[2][0]=Xn),r;if(s.length===1)return[[Xn,e],[xn,t]];var o=sAe(e,t);if(o){var a=o[0],l=o[1],c=o[2],d=o[3],f=o[4],h=Ah(a,c),p=Ah(l,d);return h.concat([[Er,f]],p)}return nAe(e,t)}function nAe(e,t){for(var r=e.length,n=t.length,s=Math.ceil((r+n)/2),i=s,o=2*s,a=new Array(o),l=new Array(o),c=0;c<o;c++)a[c]=-1,l[c]=-1;a[i+1]=0,l[i+1]=0;for(var d=r-n,f=d%2!==0,h=0,p=0,g=0,m=0,y=0;y<s;y++){for(var v=-y+h;v<=y-p;v+=2){var b=i+v,x;v===-y||v!==y&&a[b-1]<a[b+1]?x=a[b+1]:x=a[b-1]+1;for(var E=x-v;x<r&&E<n&&e.charAt(x)===t.charAt(E);)x++,E++;if(a[b]=x,x>r)p+=2;else if(E>n)h+=2;else if(f){var _=i+d-v;if(_>=0&&_<o&&l[_]!==-1){var N=r-l[_];if(x>=N)return cR(e,t,x,E)}}}for(var k=-y+g;k<=y-m;k+=2){var _=i+k,N;k===-y||k!==y&&l[_-1]<l[_+1]?N=l[_+1]:N=l[_-1]+1;for(var C=N-k;N<r&&C<n&&e.charAt(r-N-1)===t.charAt(n-C-1);)N++,C++;if(l[_]=N,N>r)m+=2;else if(C>n)g+=2;else if(!f){var b=i+d-k;if(b>=0&&b<o&&a[b]!==-1){var x=a[b],E=i+x-b;if(N=r-N,x>=N)return cR(e,t,x,E)}}}}return[[Xn,e],[xn,t]]}function cR(e,t,r,n){var s=e.substring(0,r),i=t.substring(0,n),o=e.substring(r),a=t.substring(n),l=Ah(s,i),c=Ah(o,a);return l.concat(c)}function gk(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;for(var r=0,n=Math.min(e.length,t.length),s=n,i=0;r<s;)e.substring(i,s)==t.substring(i,s)?(r=s,i=r):n=s,s=Math.floor((n-r)/2+r);return BU(e.charCodeAt(s-1))&&s--,s}function uR(e,t){var r=e.length,n=t.length;if(r==0||n==0)return 0;r>n?e=e.substring(r-n):r<n&&(t=t.substring(0,r));var s=Math.min(r,n);if(e==t)return s;for(var i=0,o=1;;){var a=e.substring(s-o),l=t.indexOf(a);if(l==-1)return i;o+=l,(l==0||e.substring(s-o)==t.substring(0,o))&&(i=o,o++)}}function yb(e,t){if(!e||!t||e.slice(-1)!==t.slice(-1))return 0;for(var r=0,n=Math.min(e.length,t.length),s=n,i=0;r<s;)e.substring(e.length-s,e.length-i)==t.substring(t.length-s,t.length-i)?(r=s,i=r):n=s,s=Math.floor((n-r)/2+r);return zU(e.charCodeAt(e.length-s))&&s--,s}function sAe(e,t){var r=e.length>t.length?e:t,n=e.length>t.length?t:e;if(r.length<4||n.length*2<r.length)return null;function s(p,g,m){for(var y=p.substring(m,m+Math.floor(p.length/4)),v=-1,b="",x,E,_,N;(v=g.indexOf(y,v+1))!==-1;){var k=gk(p.substring(m),g.substring(v)),C=yb(p.substring(0,m),g.substring(0,v));b.length<C+k&&(b=g.substring(v-C,v)+g.substring(v,v+k),x=p.substring(0,m-C),E=p.substring(m+k),_=g.substring(0,v-C),N=g.substring(v+k))}return b.length*2>=p.length?[x,E,_,N,b]:null}var i=s(r,n,Math.ceil(r.length/4)),o=s(r,n,Math.ceil(r.length/2)),a;if(!i&&!o)return null;o?i?a=i[4].length>o[4].length?i:o:a=o:a=i;var l,c,d,f;e.length>t.length?(l=a[0],c=a[1],d=a[2],f=a[3]):(d=a[0],f=a[1],l=a[2],c=a[3]);var h=a[4];return[l,c,d,f,h]}function iAe(e){for(var t=!1,r=[],n=0,s=null,i=0,o=0,a=0,l=0,c=0;i<e.length;)e[i][0]==Er?(r[n++]=i,o=l,a=c,l=0,c=0,s=e[i][1]):(e[i][0]==xn?l+=e[i][1].length:c+=e[i][1].length,s&&s.length<=Math.max(o,a)&&s.length<=Math.max(l,c)&&(e.splice(r[n-1],0,[Xn,s]),e[r[n-1]+1][0]=xn,n--,n--,i=n>0?r[n-1]:-1,o=0,a=0,l=0,c=0,s=null,t=!0)),i++;for(t&&yk(e),lAe(e),i=1;i<e.length;){if(e[i-1][0]==Xn&&e[i][0]==xn){var d=e[i-1][1],f=e[i][1],h=uR(d,f),p=uR(f,d);h>=p?(h>=d.length/2||h>=f.length/2)&&(e.splice(i,0,[Er,f.substring(0,h)]),e[i-1][1]=d.substring(0,d.length-h),e[i+1][1]=f.substring(h),i++):(p>=d.length/2||p>=f.length/2)&&(e.splice(i,0,[Er,d.substring(0,p)]),e[i-1][0]=xn,e[i-1][1]=f.substring(0,f.length-p),e[i+1][0]=Xn,e[i+1][1]=d.substring(p),i++),i++}i++}}var dR=/[^a-zA-Z0-9]/,fR=/\s/,hR=/[\r\n]/,oAe=/\n\r?\n$/,aAe=/^\r?\n\r?\n/;function lAe(e){function t(p,g){if(!p||!g)return 6;var m=p.charAt(p.length-1),y=g.charAt(0),v=m.match(dR),b=y.match(dR),x=v&&m.match(fR),E=b&&y.match(fR),_=x&&m.match(hR),N=E&&y.match(hR),k=_&&p.match(oAe),C=N&&g.match(aAe);return k||C?5:_||N?4:v&&!x&&E?3:x||E?2:v||b?1:0}for(var r=1;r<e.length-1;){if(e[r-1][0]==Er&&e[r+1][0]==Er){var n=e[r-1][1],s=e[r][1],i=e[r+1][1],o=yb(n,s);if(o){var a=s.substring(s.length-o);n=n.substring(0,n.length-o),s=a+s.substring(0,s.length-o),i=a+i}for(var l=n,c=s,d=i,f=t(n,s)+t(s,i);s.charAt(0)===i.charAt(0);){n+=s.charAt(0),s=s.substring(1)+i.charAt(0),i=i.substring(1);var h=t(n,s)+t(s,i);h>=f&&(f=h,l=n,c=s,d=i)}e[r-1][1]!=l&&(l?e[r-1][1]=l:(e.splice(r-1,1),r--),e[r][1]=c,d?e[r+1][1]=d:(e.splice(r+1,1),r--))}r++}}function yk(e,t){e.push([Er,""]);for(var r=0,n=0,s=0,i="",o="",a;r<e.length;){if(r<e.length-1&&!e[r][1]){e.splice(r,1);continue}switch(e[r][0]){case xn:s++,o+=e[r][1],r++;break;case Xn:n++,i+=e[r][1],r++;break;case Er:var l=r-s-n-1;if(t){if(l>=0&&qU(e[l][1])){var c=e[l][1].slice(-1);if(e[l][1]=e[l][1].slice(0,-1),i=c+i,o=c+o,!e[l][1]){e.splice(l,1),r--;var d=l-1;e[d]&&e[d][0]===xn&&(s++,o=e[d][1]+o,d--),e[d]&&e[d][0]===Xn&&(n++,i=e[d][1]+i,d--),l=d}}if(UU(e[r][1])){var c=e[r][1].charAt(0);e[r][1]=e[r][1].slice(1),i+=c,o+=c}}if(r<e.length-1&&!e[r][1]){e.splice(r,1);break}if(i.length>0||o.length>0){i.length>0&&o.length>0&&(a=gk(o,i),a!==0&&(l>=0?e[l][1]+=o.substring(0,a):(e.splice(0,0,[Er,o.substring(0,a)]),r++),o=o.substring(a),i=i.substring(a)),a=yb(o,i),a!==0&&(e[r][1]=o.substring(o.length-a)+e[r][1],o=o.substring(0,o.length-a),i=i.substring(0,i.length-a)));var f=s+n;i.length===0&&o.length===0?(e.splice(r-f,f),r=r-f):i.length===0?(e.splice(r-f,f,[xn,o]),r=r-f+1):o.length===0?(e.splice(r-f,f,[Xn,i]),r=r-f+1):(e.splice(r-f,f,[Xn,i],[xn,o]),r=r-f+2)}r!==0&&e[r-1][0]===Er?(e[r-1][1]+=e[r][1],e.splice(r,1)):r++,s=0,n=0,i="",o="";break}}e[e.length-1][1]===""&&e.pop();var h=!1;for(r=1;r<e.length-1;)e[r-1][0]===Er&&e[r+1][0]===Er&&(e[r][1].substring(e[r][1].length-e[r-1][1].length)===e[r-1][1]?(e[r][1]=e[r-1][1]+e[r][1].substring(0,e[r][1].length-e[r-1][1].length),e[r+1][1]=e[r-1][1]+e[r+1][1],e.splice(r-1,1),h=!0):e[r][1].substring(0,e[r+1][1].length)==e[r+1][1]&&(e[r-1][1]+=e[r+1][1],e[r][1]=e[r][1].substring(e[r+1][1].length)+e[r+1][1],e.splice(r+1,1),h=!0)),r++;h&&yk(e,t)}function BU(e){return e>=55296&&e<=56319}function zU(e){return e>=56320&&e<=57343}function UU(e){return zU(e.charCodeAt(0))}function qU(e){return BU(e.charCodeAt(e.length-1))}function cAe(e){for(var t=[],r=0;r<e.length;r++)e[r][1].length>0&&t.push(e[r]);return t}function $x(e,t,r,n){return qU(e)||UU(n)?null:cAe([[Er,e],[Xn,t],[xn,r],[Er,n]])}function uAe(e,t,r){var n=typeof r=="number"?{index:r,length:0}:r.oldRange,s=typeof r=="number"?null:r.newRange,i=e.length,o=t.length;if(n.length===0&&(s===null||s.length===0)){var a=n.index,l=e.slice(0,a),c=e.slice(a),d=s?s.index:null;e:{var f=a+o-i;if(d!==null&&d!==f||f<0||f>o)break e;var h=t.slice(0,f),p=t.slice(f);if(p!==c)break e;var g=Math.min(a,f),m=l.slice(0,g),y=h.slice(0,g);if(m!==y)break e;var v=l.slice(g),b=h.slice(g);return $x(m,v,b,c)}e:{if(d!==null&&d!==a)break e;var x=a,h=t.slice(0,x),p=t.slice(x);if(h!==l)break e;var E=Math.min(i-x,o-x),_=c.slice(c.length-E),N=p.slice(p.length-E);if(_!==N)break e;var v=c.slice(0,c.length-E),b=p.slice(0,p.length-E);return $x(l,v,b,_)}}if(n.length>0&&s&&s.length===0)e:{var m=e.slice(0,n.index),_=e.slice(n.index+n.length),g=m.length,E=_.length;if(o<g+E)break e;var y=t.slice(0,g),N=t.slice(o-E);if(m!==y||_!==N)break e;var v=e.slice(g,i-E),b=t.slice(g,o-E);return $x(m,v,b,_)}return null}function vb(e,t,r,n){return Ah(e,t,r,n,!0)}vb.INSERT=xn;vb.DELETE=Xn;vb.EQUAL=Er;var dAe=vb,Sy={exports:{}};Sy.exports;(function(e,t){var r=200,n="__lodash_hash_undefined__",s=9007199254740991,i="[object Arguments]",o="[object Array]",a="[object Boolean]",l="[object Date]",c="[object Error]",d="[object Function]",f="[object GeneratorFunction]",h="[object Map]",p="[object Number]",g="[object Object]",m="[object Promise]",y="[object RegExp]",v="[object Set]",b="[object String]",x="[object Symbol]",E="[object WeakMap]",_="[object ArrayBuffer]",N="[object DataView]",k="[object Float32Array]",C="[object Float64Array]",T="[object Int8Array]",$="[object Int16Array]",M="[object Int32Array]",L="[object Uint8Array]",D="[object Uint8ClampedArray]",z="[object Uint16Array]",U="[object Uint32Array]",G=/[\\^$.*+?()[\]{}|]/g,q=/\w*$/,Z=/^\[object .+?Constructor\]$/,ie=/^(?:0|[1-9]\d*)$/,R={};R[i]=R[o]=R[_]=R[N]=R[a]=R[l]=R[k]=R[C]=R[T]=R[$]=R[M]=R[h]=R[p]=R[g]=R[y]=R[v]=R[b]=R[x]=R[L]=R[D]=R[z]=R[U]=!0,R[c]=R[d]=R[E]=!1;var B=typeof ur=="object"&&ur&&ur.Object===Object&&ur,X=typeof self=="object"&&self&&self.Object===Object&&self,oe=B||X||Function("return this")(),W=t&&!t.nodeType&&t,K=W&&!0&&e&&!e.nodeType&&e,ee=K&&K.exports===W;function te(j,A){return j.set(A[0],A[1]),j}function ue(j,A){return j.add(A),j}function V(j,A){for(var F=-1,ne=j?j.length:0;++F<ne&&A(j[F],F,j)!==!1;);return j}function H(j,A){for(var F=-1,ne=A.length,Ve=j.length;++F<ne;)j[Ve+F]=A[F];return j}function se(j,A,F,ne){for(var Ve=-1,$e=j?j.length:0;++Ve<$e;)F=A(F,j[Ve],Ve,j);return F}function O(j,A){for(var F=-1,ne=Array(j);++F<j;)ne[F]=A(F);return ne}function ye(j,A){return j==null?void 0:j[A]}function je(j){var A=!1;if(j!=null&&typeof j.toString!="function")try{A=!!(j+"")}catch{}return A}function Be(j){var A=-1,F=Array(j.size);return j.forEach(function(ne,Ve){F[++A]=[Ve,ne]}),F}function Ue(j,A){return function(F){return j(A(F))}}function nt(j){var A=-1,F=Array(j.size);return j.forEach(function(ne){F[++A]=ne}),F}var St=Array.prototype,Ct=Function.prototype,I=Object.prototype,Y=oe["__core-js_shared__"],J=function(){var j=/[^.]+$/.exec(Y&&Y.keys&&Y.keys.IE_PROTO||"");return j?"Symbol(src)_1."+j:""}(),ve=Ct.toString,pe=I.hasOwnProperty,me=I.toString,Se=RegExp("^"+ve.call(pe).replace(G,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Le=ee?oe.Buffer:void 0,He=oe.Symbol,Ut=oe.Uint8Array,Tt=Ue(Object.getPrototypeOf,Object),zr=Object.create,yi=I.propertyIsEnumerable,ns=St.splice,ss=Object.getOwnPropertySymbols,In=Le?Le.isBuffer:void 0,Gr=Ue(Object.keys,Object),un=Ms(oe,"DataView"),Pr=Ms(oe,"Map"),yr=Ms(oe,"Promise"),dn=Ms(oe,"Set"),Mn=Ms(oe,"WeakMap"),Ln=Ms(Object,"create"),is=fn(un),Rs=fn(Pr),os=fn(yr),Qi=fn(dn),as=fn(Mn),Fn=He?He.prototype:void 0,Jo=Fn?Fn.valueOf:void 0;function Bn(j){var A=-1,F=j?j.length:0;for(this.clear();++A<F;){var ne=j[A];this.set(ne[0],ne[1])}}function Qo(){this.__data__=Ln?Ln(null):{}}function $s(j){return this.has(j)&&delete this.__data__[j]}function eo(j){var A=this.__data__;if(Ln){var F=A[j];return F===n?void 0:F}return pe.call(A,j)?A[j]:void 0}function ea(j){var A=this.__data__;return Ln?A[j]!==void 0:pe.call(A,j)}function vi(j,A){var F=this.__data__;return F[j]=Ln&&A===void 0?n:A,this}Bn.prototype.clear=Qo,Bn.prototype.delete=$s,Bn.prototype.get=eo,Bn.prototype.has=ea,Bn.prototype.set=vi;function ae(j){var A=-1,F=j?j.length:0;for(this.clear();++A<F;){var ne=j[A];this.set(ne[0],ne[1])}}function P(){this.__data__=[]}function re(j){var A=this.__data__,F=wc(A,j);if(F<0)return!1;var ne=A.length-1;return F==ne?A.pop():ns.call(A,F,1),!0}function ge(j){var A=this.__data__,F=wc(A,j);return F<0?void 0:A[F][1]}function Te(j){return wc(this.__data__,j)>-1}function Ye(j,A){var F=this.__data__,ne=wc(F,j);return ne<0?F.push([j,A]):F[ne][1]=A,this}ae.prototype.clear=P,ae.prototype.delete=re,ae.prototype.get=ge,ae.prototype.has=Te,ae.prototype.set=Ye;function Me(j){var A=-1,F=j?j.length:0;for(this.clear();++A<F;){var ne=j[A];this.set(ne[0],ne[1])}}function Xe(){this.__data__={hash:new Bn,map:new(Pr||ae),string:new Bn}}function Ze(j){return ul(this,j).delete(j)}function vr(j){return ul(this,j).get(j)}function At(j){return ul(this,j).has(j)}function It(j,A){return ul(this,j).set(j,A),this}Me.prototype.clear=Xe,Me.prototype.delete=Ze,Me.prototype.get=vr,Me.prototype.has=At,Me.prototype.set=It;function wt(j){this.__data__=new ae(j)}function bi(){this.__data__=new ae}function Is(j){return this.__data__.delete(j)}function Or(j){return this.__data__.get(j)}function ll(j){return this.__data__.has(j)}function Id(j,A){var F=this.__data__;if(F instanceof ae){var ne=F.__data__;if(!Pr||ne.length<r-1)return ne.push([j,A]),this;F=this.__data__=new Me(ne)}return F.set(j,A),this}wt.prototype.clear=bi,wt.prototype.delete=Is,wt.prototype.get=Or,wt.prototype.has=ll,wt.prototype.set=Id;function ta(j,A){var F=Bd(j)||Sc(j)?O(j.length,String):[],ne=F.length,Ve=!!ne;for(var $e in j)pe.call(j,$e)&&!(Ve&&($e=="length"||Zb($e,ne)))&&F.push($e);return F}function Op(j,A,F){var ne=j[A];(!(pe.call(j,A)&&Mp(ne,F))||F===void 0&&!(A in j))&&(j[A]=F)}function wc(j,A){for(var F=j.length;F--;)if(Mp(j[F][0],A))return F;return-1}function xi(j,A){return j&&Fd(A,Ud(A),j)}function Md(j,A,F,ne,Ve,$e,ot){var st;if(ne&&(st=$e?ne(j,Ve,$e,ot):ne(j)),st!==void 0)return st;if(!_i(j))return j;var ar=Bd(j);if(ar){if(st=Yb(j),!A)return Wb(j,st)}else{var ct=ro(j),Zr=ct==d||ct==f;if(Lp(j))return _c(j,A);if(ct==g||ct==i||Zr&&!$e){if(je(j))return $e?j:{};if(st=wi(Zr?{}:j),!A)return Kb(j,xi(st,j))}else{if(!R[ct])return $e?j:{};st=Gb(j,ct,Md,A)}}ot||(ot=new wt);var Sn=ot.get(j);if(Sn)return Sn;if(ot.set(j,st),!ar)var br=F?Hb(j):Ud(j);return V(br||j,function(Xr,Ur){br&&(Ur=Xr,Xr=j[Ur]),Op(st,Ur,Md(Xr,A,F,ne,Ur,j,ot))}),st}function Mb(j){return _i(j)?zr(j):{}}function Lb(j,A,F){var ne=A(j);return Bd(j)?ne:H(ne,F(j))}function Fb(j){return me.call(j)}function Bb(j){if(!_i(j)||Jb(j))return!1;var A=zd(j)||je(j)?Se:Z;return A.test(fn(j))}function zb(j){if(!$p(j))return Gr(j);var A=[];for(var F in Object(j))pe.call(j,F)&&F!="constructor"&&A.push(F);return A}function _c(j,A){if(A)return j.slice();var F=new j.constructor(j.length);return j.copy(F),F}function Ld(j){var A=new j.constructor(j.byteLength);return new Ut(A).set(new Ut(j)),A}function cl(j,A){var F=A?Ld(j.buffer):j.buffer;return new j.constructor(F,j.byteOffset,j.byteLength)}function Dp(j,A,F){var ne=A?F(Be(j),!0):Be(j);return se(ne,te,new j.constructor)}function Rp(j){var A=new j.constructor(j.source,q.exec(j));return A.lastIndex=j.lastIndex,A}function Ub(j,A,F){var ne=A?F(nt(j),!0):nt(j);return se(ne,ue,new j.constructor)}function qb(j){return Jo?Object(Jo.call(j)):{}}function Vb(j,A){var F=A?Ld(j.buffer):j.buffer;return new j.constructor(F,j.byteOffset,j.length)}function Wb(j,A){var F=-1,ne=j.length;for(A||(A=Array(ne));++F<ne;)A[F]=j[F];return A}function Fd(j,A,F,ne){F||(F={});for(var Ve=-1,$e=A.length;++Ve<$e;){var ot=A[Ve],st=void 0;Op(F,ot,st===void 0?j[ot]:st)}return F}function Kb(j,A){return Fd(j,to(j),A)}function Hb(j){return Lb(j,Ud,to)}function ul(j,A){var F=j.__data__;return Xb(A)?F[typeof A=="string"?"string":"hash"]:F.map}function Ms(j,A){var F=ye(j,A);return Bb(F)?F:void 0}var to=ss?Ue(ss,Object):e0,ro=Fb;(un&&ro(new un(new ArrayBuffer(1)))!=N||Pr&&ro(new Pr)!=h||yr&&ro(yr.resolve())!=m||dn&&ro(new dn)!=v||Mn&&ro(new Mn)!=E)&&(ro=function(j){var A=me.call(j),F=A==g?j.constructor:void 0,ne=F?fn(F):void 0;if(ne)switch(ne){case is:return N;case Rs:return h;case os:return m;case Qi:return v;case as:return E}return A});function Yb(j){var A=j.length,F=j.constructor(A);return A&&typeof j[0]=="string"&&pe.call(j,"index")&&(F.index=j.index,F.input=j.input),F}function wi(j){return typeof j.constructor=="function"&&!$p(j)?Mb(Tt(j)):{}}function Gb(j,A,F,ne){var Ve=j.constructor;switch(A){case _:return Ld(j);case a:case l:return new Ve(+j);case N:return cl(j,ne);case k:case C:case T:case $:case M:case L:case D:case z:case U:return Vb(j,ne);case h:return Dp(j,ne,F);case p:case b:return new Ve(j);case y:return Rp(j);case v:return Ub(j,ne,F);case x:return qb(j)}}function Zb(j,A){return A=A??s,!!A&&(typeof j=="number"||ie.test(j))&&j>-1&&j%1==0&&j<A}function Xb(j){var A=typeof j;return A=="string"||A=="number"||A=="symbol"||A=="boolean"?j!=="__proto__":j===null}function Jb(j){return!!J&&J in j}function $p(j){var A=j&&j.constructor,F=typeof A=="function"&&A.prototype||I;return j===F}function fn(j){if(j!=null){try{return ve.call(j)}catch{}try{return j+""}catch{}}return""}function Ip(j){return Md(j,!0,!0)}function Mp(j,A){return j===A||j!==j&&A!==A}function Sc(j){return Qb(j)&&pe.call(j,"callee")&&(!yi.call(j,"callee")||me.call(j)==i)}var Bd=Array.isArray;function Ec(j){return j!=null&&Fp(j.length)&&!zd(j)}function Qb(j){return Bp(j)&&Ec(j)}var Lp=In||t0;function zd(j){var A=_i(j)?me.call(j):"";return A==d||A==f}function Fp(j){return typeof j=="number"&&j>-1&&j%1==0&&j<=s}function _i(j){var A=typeof j;return!!j&&(A=="object"||A=="function")}function Bp(j){return!!j&&typeof j=="object"}function Ud(j){return Ec(j)?ta(j):zb(j)}function e0(){return[]}function t0(){return!1}e.exports=Ip})(Sy,Sy.exports);var VU=Sy.exports,Ey={exports:{}};Ey.exports;(function(e,t){var r=200,n="__lodash_hash_undefined__",s=1,i=2,o=9007199254740991,a="[object Arguments]",l="[object Array]",c="[object AsyncFunction]",d="[object Boolean]",f="[object Date]",h="[object Error]",p="[object Function]",g="[object GeneratorFunction]",m="[object Map]",y="[object Number]",v="[object Null]",b="[object Object]",x="[object Promise]",E="[object Proxy]",_="[object RegExp]",N="[object Set]",k="[object String]",C="[object Symbol]",T="[object Undefined]",$="[object WeakMap]",M="[object ArrayBuffer]",L="[object DataView]",D="[object Float32Array]",z="[object Float64Array]",U="[object Int8Array]",G="[object Int16Array]",q="[object Int32Array]",Z="[object Uint8Array]",ie="[object Uint8ClampedArray]",R="[object Uint16Array]",B="[object Uint32Array]",X=/[\\^$.*+?()[\]{}|]/g,oe=/^\[object .+?Constructor\]$/,W=/^(?:0|[1-9]\d*)$/,K={};K[D]=K[z]=K[U]=K[G]=K[q]=K[Z]=K[ie]=K[R]=K[B]=!0,K[a]=K[l]=K[M]=K[d]=K[L]=K[f]=K[h]=K[p]=K[m]=K[y]=K[b]=K[_]=K[N]=K[k]=K[$]=!1;var ee=typeof ur=="object"&&ur&&ur.Object===Object&&ur,te=typeof self=="object"&&self&&self.Object===Object&&self,ue=ee||te||Function("return this")(),V=t&&!t.nodeType&&t,H=V&&!0&&e&&!e.nodeType&&e,se=H&&H.exports===V,O=se&&ee.process,ye=function(){try{return O&&O.binding&&O.binding("util")}catch{}}(),je=ye&&ye.isTypedArray;function Be(j,A){for(var F=-1,ne=j==null?0:j.length,Ve=0,$e=[];++F<ne;){var ot=j[F];A(ot,F,j)&&($e[Ve++]=ot)}return $e}function Ue(j,A){for(var F=-1,ne=A.length,Ve=j.length;++F<ne;)j[Ve+F]=A[F];return j}function nt(j,A){for(var F=-1,ne=j==null?0:j.length;++F<ne;)if(A(j[F],F,j))return!0;return!1}function St(j,A){for(var F=-1,ne=Array(j);++F<j;)ne[F]=A(F);return ne}function Ct(j){return function(A){return j(A)}}function I(j,A){return j.has(A)}function Y(j,A){return j==null?void 0:j[A]}function J(j){var A=-1,F=Array(j.size);return j.forEach(function(ne,Ve){F[++A]=[Ve,ne]}),F}function ve(j,A){return function(F){return j(A(F))}}function pe(j){var A=-1,F=Array(j.size);return j.forEach(function(ne){F[++A]=ne}),F}var me=Array.prototype,Se=Function.prototype,Le=Object.prototype,He=ue["__core-js_shared__"],Ut=Se.toString,Tt=Le.hasOwnProperty,zr=function(){var j=/[^.]+$/.exec(He&&He.keys&&He.keys.IE_PROTO||"");return j?"Symbol(src)_1."+j:""}(),yi=Le.toString,ns=RegExp("^"+Ut.call(Tt).replace(X,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ss=se?ue.Buffer:void 0,In=ue.Symbol,Gr=ue.Uint8Array,un=Le.propertyIsEnumerable,Pr=me.splice,yr=In?In.toStringTag:void 0,dn=Object.getOwnPropertySymbols,Mn=ss?ss.isBuffer:void 0,Ln=ve(Object.keys,Object),is=to(ue,"DataView"),Rs=to(ue,"Map"),os=to(ue,"Promise"),Qi=to(ue,"Set"),as=to(ue,"WeakMap"),Fn=to(Object,"create"),Jo=fn(is),Bn=fn(Rs),Qo=fn(os),$s=fn(Qi),eo=fn(as),ea=In?In.prototype:void 0,vi=ea?ea.valueOf:void 0;function ae(j){var A=-1,F=j==null?0:j.length;for(this.clear();++A<F;){var ne=j[A];this.set(ne[0],ne[1])}}function P(){this.__data__=Fn?Fn(null):{},this.size=0}function re(j){var A=this.has(j)&&delete this.__data__[j];return this.size-=A?1:0,A}function ge(j){var A=this.__data__;if(Fn){var F=A[j];return F===n?void 0:F}return Tt.call(A,j)?A[j]:void 0}function Te(j){var A=this.__data__;return Fn?A[j]!==void 0:Tt.call(A,j)}function Ye(j,A){var F=this.__data__;return this.size+=this.has(j)?0:1,F[j]=Fn&&A===void 0?n:A,this}ae.prototype.clear=P,ae.prototype.delete=re,ae.prototype.get=ge,ae.prototype.has=Te,ae.prototype.set=Ye;function Me(j){var A=-1,F=j==null?0:j.length;for(this.clear();++A<F;){var ne=j[A];this.set(ne[0],ne[1])}}function Xe(){this.__data__=[],this.size=0}function Ze(j){var A=this.__data__,F=_c(A,j);if(F<0)return!1;var ne=A.length-1;return F==ne?A.pop():Pr.call(A,F,1),--this.size,!0}function vr(j){var A=this.__data__,F=_c(A,j);return F<0?void 0:A[F][1]}function At(j){return _c(this.__data__,j)>-1}function It(j,A){var F=this.__data__,ne=_c(F,j);return ne<0?(++this.size,F.push([j,A])):F[ne][1]=A,this}Me.prototype.clear=Xe,Me.prototype.delete=Ze,Me.prototype.get=vr,Me.prototype.has=At,Me.prototype.set=It;function wt(j){var A=-1,F=j==null?0:j.length;for(this.clear();++A<F;){var ne=j[A];this.set(ne[0],ne[1])}}function bi(){this.size=0,this.__data__={hash:new ae,map:new(Rs||Me),string:new ae}}function Is(j){var A=Ms(this,j).delete(j);return this.size-=A?1:0,A}function Or(j){return Ms(this,j).get(j)}function ll(j){return Ms(this,j).has(j)}function Id(j,A){var F=Ms(this,j),ne=F.size;return F.set(j,A),this.size+=F.size==ne?0:1,this}wt.prototype.clear=bi,wt.prototype.delete=Is,wt.prototype.get=Or,wt.prototype.has=ll,wt.prototype.set=Id;function ta(j){var A=-1,F=j==null?0:j.length;for(this.__data__=new wt;++A<F;)this.add(j[A])}function Op(j){return this.__data__.set(j,n),this}function wc(j){return this.__data__.has(j)}ta.prototype.add=ta.prototype.push=Op,ta.prototype.has=wc;function xi(j){var A=this.__data__=new Me(j);this.size=A.size}function Md(){this.__data__=new Me,this.size=0}function Mb(j){var A=this.__data__,F=A.delete(j);return this.size=A.size,F}function Lb(j){return this.__data__.get(j)}function Fb(j){return this.__data__.has(j)}function Bb(j,A){var F=this.__data__;if(F instanceof Me){var ne=F.__data__;if(!Rs||ne.length<r-1)return ne.push([j,A]),this.size=++F.size,this;F=this.__data__=new wt(ne)}return F.set(j,A),this.size=F.size,this}xi.prototype.clear=Md,xi.prototype.delete=Mb,xi.prototype.get=Lb,xi.prototype.has=Fb,xi.prototype.set=Bb;function zb(j,A){var F=Sc(j),ne=!F&&Mp(j),Ve=!F&&!ne&&Ec(j),$e=!F&&!ne&&!Ve&&Bp(j),ot=F||ne||Ve||$e,st=ot?St(j.length,String):[],ar=st.length;for(var ct in j)Tt.call(j,ct)&&!(ot&&(ct=="length"||Ve&&(ct=="offset"||ct=="parent")||$e&&(ct=="buffer"||ct=="byteLength"||ct=="byteOffset")||Gb(ct,ar)))&&st.push(ct);return st}function _c(j,A){for(var F=j.length;F--;)if(Ip(j[F][0],A))return F;return-1}function Ld(j,A,F){var ne=A(j);return Sc(j)?ne:Ue(ne,F(j))}function cl(j){return j==null?j===void 0?T:v:yr&&yr in Object(j)?ro(j):$p(j)}function Dp(j){return _i(j)&&cl(j)==a}function Rp(j,A,F,ne,Ve){return j===A?!0:j==null||A==null||!_i(j)&&!_i(A)?j!==j&&A!==A:Ub(j,A,F,ne,Rp,Ve)}function Ub(j,A,F,ne,Ve,$e){var ot=Sc(j),st=Sc(A),ar=ot?l:wi(j),ct=st?l:wi(A);ar=ar==a?b:ar,ct=ct==a?b:ct;var Zr=ar==b,Sn=ct==b,br=ar==ct;if(br&&Ec(j)){if(!Ec(A))return!1;ot=!0,Zr=!1}if(br&&!Zr)return $e||($e=new xi),ot||Bp(j)?Fd(j,A,F,ne,Ve,$e):Kb(j,A,ar,F,ne,Ve,$e);if(!(F&s)){var Xr=Zr&&Tt.call(j,"__wrapped__"),Ur=Sn&&Tt.call(A,"__wrapped__");if(Xr||Ur){var ra=Xr?j.value():j,no=Ur?A.value():A;return $e||($e=new xi),Ve(ra,no,F,ne,$e)}}return br?($e||($e=new xi),Hb(j,A,F,ne,Ve,$e)):!1}function qb(j){if(!Fp(j)||Xb(j))return!1;var A=Lp(j)?ns:oe;return A.test(fn(j))}function Vb(j){return _i(j)&&zd(j.length)&&!!K[cl(j)]}function Wb(j){if(!Jb(j))return Ln(j);var A=[];for(var F in Object(j))Tt.call(j,F)&&F!="constructor"&&A.push(F);return A}function Fd(j,A,F,ne,Ve,$e){var ot=F&s,st=j.length,ar=A.length;if(st!=ar&&!(ot&&ar>st))return!1;var ct=$e.get(j);if(ct&&$e.get(A))return ct==A;var Zr=-1,Sn=!0,br=F&i?new ta:void 0;for($e.set(j,A),$e.set(A,j);++Zr<st;){var Xr=j[Zr],Ur=A[Zr];if(ne)var ra=ot?ne(Ur,Xr,Zr,A,j,$e):ne(Xr,Ur,Zr,j,A,$e);if(ra!==void 0){if(ra)continue;Sn=!1;break}if(br){if(!nt(A,function(no,dl){if(!I(br,dl)&&(Xr===no||Ve(Xr,no,F,ne,$e)))return br.push(dl)})){Sn=!1;break}}else if(!(Xr===Ur||Ve(Xr,Ur,F,ne,$e))){Sn=!1;break}}return $e.delete(j),$e.delete(A),Sn}function Kb(j,A,F,ne,Ve,$e,ot){switch(F){case L:if(j.byteLength!=A.byteLength||j.byteOffset!=A.byteOffset)return!1;j=j.buffer,A=A.buffer;case M:return!(j.byteLength!=A.byteLength||!$e(new Gr(j),new Gr(A)));case d:case f:case y:return Ip(+j,+A);case h:return j.name==A.name&&j.message==A.message;case _:case k:return j==A+"";case m:var st=J;case N:var ar=ne&s;if(st||(st=pe),j.size!=A.size&&!ar)return!1;var ct=ot.get(j);if(ct)return ct==A;ne|=i,ot.set(j,A);var Zr=Fd(st(j),st(A),ne,Ve,$e,ot);return ot.delete(j),Zr;case C:if(vi)return vi.call(j)==vi.call(A)}return!1}function Hb(j,A,F,ne,Ve,$e){var ot=F&s,st=ul(j),ar=st.length,ct=ul(A),Zr=ct.length;if(ar!=Zr&&!ot)return!1;for(var Sn=ar;Sn--;){var br=st[Sn];if(!(ot?br in A:Tt.call(A,br)))return!1}var Xr=$e.get(j);if(Xr&&$e.get(A))return Xr==A;var Ur=!0;$e.set(j,A),$e.set(A,j);for(var ra=ot;++Sn<ar;){br=st[Sn];var no=j[br],dl=A[br];if(ne)var sC=ot?ne(dl,no,br,A,j,$e):ne(no,dl,br,j,A,$e);if(!(sC===void 0?no===dl||Ve(no,dl,F,ne,$e):sC)){Ur=!1;break}ra||(ra=br=="constructor")}if(Ur&&!ra){var zp=j.constructor,Up=A.constructor;zp!=Up&&"constructor"in j&&"constructor"in A&&!(typeof zp=="function"&&zp instanceof zp&&typeof Up=="function"&&Up instanceof Up)&&(Ur=!1)}return $e.delete(j),$e.delete(A),Ur}function ul(j){return Ld(j,Ud,Yb)}function Ms(j,A){var F=j.__data__;return Zb(A)?F[typeof A=="string"?"string":"hash"]:F.map}function to(j,A){var F=Y(j,A);return qb(F)?F:void 0}function ro(j){var A=Tt.call(j,yr),F=j[yr];try{j[yr]=void 0;var ne=!0}catch{}var Ve=yi.call(j);return ne&&(A?j[yr]=F:delete j[yr]),Ve}var Yb=dn?function(j){return j==null?[]:(j=Object(j),Be(dn(j),function(A){return un.call(j,A)}))}:e0,wi=cl;(is&&wi(new is(new ArrayBuffer(1)))!=L||Rs&&wi(new Rs)!=m||os&&wi(os.resolve())!=x||Qi&&wi(new Qi)!=N||as&&wi(new as)!=$)&&(wi=function(j){var A=cl(j),F=A==b?j.constructor:void 0,ne=F?fn(F):"";if(ne)switch(ne){case Jo:return L;case Bn:return m;case Qo:return x;case $s:return N;case eo:return $}return A});function Gb(j,A){return A=A??o,!!A&&(typeof j=="number"||W.test(j))&&j>-1&&j%1==0&&j<A}function Zb(j){var A=typeof j;return A=="string"||A=="number"||A=="symbol"||A=="boolean"?j!=="__proto__":j===null}function Xb(j){return!!zr&&zr in j}function Jb(j){var A=j&&j.constructor,F=typeof A=="function"&&A.prototype||Le;return j===F}function $p(j){return yi.call(j)}function fn(j){if(j!=null){try{return Ut.call(j)}catch{}try{return j+""}catch{}}return""}function Ip(j,A){return j===A||j!==j&&A!==A}var Mp=Dp(function(){return arguments}())?Dp:function(j){return _i(j)&&Tt.call(j,"callee")&&!un.call(j,"callee")},Sc=Array.isArray;function Bd(j){return j!=null&&zd(j.length)&&!Lp(j)}var Ec=Mn||t0;function Qb(j,A){return Rp(j,A)}function Lp(j){if(!Fp(j))return!1;var A=cl(j);return A==p||A==g||A==c||A==E}function zd(j){return typeof j=="number"&&j>-1&&j%1==0&&j<=o}function Fp(j){var A=typeof j;return j!=null&&(A=="object"||A=="function")}function _i(j){return j!=null&&typeof j=="object"}var Bp=je?Ct(je):Vb;function Ud(j){return Bd(j)?zb(j):Wb(j)}function e0(){return[]}function t0(){return!1}e.exports=Qb})(Ey,Ey.exports);var WU=Ey.exports,vk={};Object.defineProperty(vk,"__esModule",{value:!0});const fAe=VU,hAe=WU;var j_;(function(e){function t(i={},o={},a=!1){typeof i!="object"&&(i={}),typeof o!="object"&&(o={});let l=fAe(o);a||(l=Object.keys(l).reduce((c,d)=>(l[d]!=null&&(c[d]=l[d]),c),{}));for(const c in i)i[c]!==void 0&&o[c]===void 0&&(l[c]=i[c]);return Object.keys(l).length>0?l:void 0}e.compose=t;function r(i={},o={}){typeof i!="object"&&(i={}),typeof o!="object"&&(o={});const a=Object.keys(i).concat(Object.keys(o)).reduce((l,c)=>(hAe(i[c],o[c])||(l[c]=o[c]===void 0?null:o[c]),l),{});return Object.keys(a).length>0?a:void 0}e.diff=r;function n(i={},o={}){i=i||{};const a=Object.keys(o).reduce((l,c)=>(o[c]!==i[c]&&i[c]!==void 0&&(l[c]=o[c]),l),{});return Object.keys(i).reduce((l,c)=>(i[c]!==o[c]&&o[c]===void 0&&(l[c]=null),l),a)}e.invert=n;function s(i,o,a=!1){if(typeof i!="object")return o;if(typeof o!="object")return;if(!a)return o;const l=Object.keys(o).reduce((c,d)=>(i[d]===void 0&&(c[d]=o[d]),c),{});return Object.keys(l).length>0?l:void 0}e.transform=s})(j_||(j_={}));vk.default=j_;var bb={};Object.defineProperty(bb,"__esModule",{value:!0});var N_;(function(e){function t(r){return typeof r.delete=="number"?r.delete:typeof r.retain=="number"?r.retain:typeof r.retain=="object"&&r.retain!==null?1:typeof r.insert=="string"?r.insert.length:1}e.length=t})(N_||(N_={}));bb.default=N_;var bk={};Object.defineProperty(bk,"__esModule",{value:!0});const pR=bb;class pAe{constructor(t){this.ops=t,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(t){t||(t=1/0);const r=this.ops[this.index];if(r){const n=this.offset,s=pR.default.length(r);if(t>=s-n?(t=s-n,this.index+=1,this.offset=0):this.offset+=t,typeof r.delete=="number")return{delete:t};{const i={};return r.attributes&&(i.attributes=r.attributes),typeof r.retain=="number"?i.retain=t:typeof r.retain=="object"&&r.retain!==null?i.retain=r.retain:typeof r.insert=="string"?i.insert=r.insert.substr(n,t):i.insert=r.insert,i}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?pR.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const t=this.ops[this.index];return t?typeof t.delete=="number"?"delete":typeof t.retain=="number"||typeof t.retain=="object"&&t.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const t=this.offset,r=this.index,n=this.next(),s=this.ops.slice(this.index);return this.offset=t,this.index=r,[n].concat(s)}}else return[]}}bk.default=pAe;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeMap=t.OpIterator=t.Op=void 0;const r=dAe,n=VU,s=WU,i=vk;t.AttributeMap=i.default;const o=bb;t.Op=o.default;const a=bk;t.OpIterator=a.default;const l="\0",c=(f,h)=>{if(typeof f!="object"||f===null)throw new Error(`cannot retain a ${typeof f}`);if(typeof h!="object"||h===null)throw new Error(`cannot retain a ${typeof h}`);const p=Object.keys(f)[0];if(!p||p!==Object.keys(h)[0])throw new Error(`embed types not matched: ${p} != ${Object.keys(h)[0]}`);return[p,f[p],h[p]]};class d{constructor(h){Array.isArray(h)?this.ops=h:h!=null&&Array.isArray(h.ops)?this.ops=h.ops:this.ops=[]}static registerEmbed(h,p){this.handlers[h]=p}static unregisterEmbed(h){delete this.handlers[h]}static getHandler(h){const p=this.handlers[h];if(!p)throw new Error(`no handlers for embed type "${h}"`);return p}insert(h,p){const g={};return typeof h=="string"&&h.length===0?this:(g.insert=h,p!=null&&typeof p=="object"&&Object.keys(p).length>0&&(g.attributes=p),this.push(g))}delete(h){return h<=0?this:this.push({delete:h})}retain(h,p){if(typeof h=="number"&&h<=0)return this;const g={retain:h};return p!=null&&typeof p=="object"&&Object.keys(p).length>0&&(g.attributes=p),this.push(g)}push(h){let p=this.ops.length,g=this.ops[p-1];if(h=n(h),typeof g=="object"){if(typeof h.delete=="number"&&typeof g.delete=="number")return this.ops[p-1]={delete:g.delete+h.delete},this;if(typeof g.delete=="number"&&h.insert!=null&&(p-=1,g=this.ops[p-1],typeof g!="object"))return this.ops.unshift(h),this;if(s(h.attributes,g.attributes)){if(typeof h.insert=="string"&&typeof g.insert=="string")return this.ops[p-1]={insert:g.insert+h.insert},typeof h.attributes=="object"&&(this.ops[p-1].attributes=h.attributes),this;if(typeof h.retain=="number"&&typeof g.retain=="number")return this.ops[p-1]={retain:g.retain+h.retain},typeof h.attributes=="object"&&(this.ops[p-1].attributes=h.attributes),this}}return p===this.ops.length?this.ops.push(h):this.ops.splice(p,0,h),this}chop(){const h=this.ops[this.ops.length-1];return h&&typeof h.retain=="number"&&!h.attributes&&this.ops.pop(),this}filter(h){return this.ops.filter(h)}forEach(h){this.ops.forEach(h)}map(h){return this.ops.map(h)}partition(h){const p=[],g=[];return this.forEach(m=>{(h(m)?p:g).push(m)}),[p,g]}reduce(h,p){return this.ops.reduce(h,p)}changeLength(){return this.reduce((h,p)=>p.insert?h+o.default.length(p):p.delete?h-p.delete:h,0)}length(){return this.reduce((h,p)=>h+o.default.length(p),0)}slice(h=0,p=1/0){const g=[],m=new a.default(this.ops);let y=0;for(;y<p&&m.hasNext();){let v;y<h?v=m.next(h-y):(v=m.next(p-y),g.push(v)),y+=o.default.length(v)}return new d(g)}compose(h){const p=new a.default(this.ops),g=new a.default(h.ops),m=[],y=g.peek();if(y!=null&&typeof y.retain=="number"&&y.attributes==null){let b=y.retain;for(;p.peekType()==="insert"&&p.peekLength()<=b;)b-=p.peekLength(),m.push(p.next());y.retain-b>0&&g.next(y.retain-b)}const v=new d(m);for(;p.hasNext()||g.hasNext();)if(g.peekType()==="insert")v.push(g.next());else if(p.peekType()==="delete")v.push(p.next());else{const b=Math.min(p.peekLength(),g.peekLength()),x=p.next(b),E=g.next(b);if(E.retain){const _={};if(typeof x.retain=="number")_.retain=typeof E.retain=="number"?b:E.retain;else if(typeof E.retain=="number")x.retain==null?_.insert=x.insert:_.retain=x.retain;else{const k=x.retain==null?"insert":"retain",[C,T,$]=c(x[k],E.retain),M=d.getHandler(C);_[k]={[C]:M.compose(T,$,k==="retain")}}const N=i.default.compose(x.attributes,E.attributes,typeof x.retain=="number");if(N&&(_.attributes=N),v.push(_),!g.hasNext()&&s(v.ops[v.ops.length-1],_)){const k=new d(p.rest());return v.concat(k).chop()}}else typeof E.delete=="number"&&(typeof x.retain=="number"||typeof x.retain=="object"&&x.retain!==null)&&v.push(E)}return v.chop()}concat(h){const p=new d(this.ops.slice());return h.ops.length>0&&(p.push(h.ops[0]),p.ops=p.ops.concat(h.ops.slice(1))),p}diff(h,p){if(this.ops===h.ops)return new d;const g=[this,h].map(x=>x.map(E=>{if(E.insert!=null)return typeof E.insert=="string"?E.insert:l;const _=x===h?"on":"with";throw new Error("diff() called "+_+" non-document")}).join("")),m=new d,y=r(g[0],g[1],p,!0),v=new a.default(this.ops),b=new a.default(h.ops);return y.forEach(x=>{let E=x[1].length;for(;E>0;){let _=0;switch(x[0]){case r.INSERT:_=Math.min(b.peekLength(),E),m.push(b.next(_));break;case r.DELETE:_=Math.min(E,v.peekLength()),v.next(_),m.delete(_);break;case r.EQUAL:_=Math.min(v.peekLength(),b.peekLength(),E);const N=v.next(_),k=b.next(_);s(N.insert,k.insert)?m.retain(_,i.default.diff(N.attributes,k.attributes)):m.push(k).delete(_);break}E-=_}}),m.chop()}eachLine(h,p=`
`){const g=new a.default(this.ops);let m=new d,y=0;for(;g.hasNext();){if(g.peekType()!=="insert")return;const v=g.peek(),b=o.default.length(v)-g.peekLength(),x=typeof v.insert=="string"?v.insert.indexOf(p,b)-b:-1;if(x<0)m.push(g.next());else if(x>0)m.push(g.next(x));else{if(h(m,g.next(1).attributes||{},y)===!1)return;y+=1,m=new d}}m.length()>0&&h(m,{},y)}invert(h){const p=new d;return this.reduce((g,m)=>{if(m.insert)p.delete(o.default.length(m));else{if(typeof m.retain=="number"&&m.attributes==null)return p.retain(m.retain),g+m.retain;if(m.delete||typeof m.retain=="number"){const y=m.delete||m.retain;return h.slice(g,g+y).forEach(b=>{m.delete?p.push(b):m.retain&&m.attributes&&p.retain(o.default.length(b),i.default.invert(m.attributes,b.attributes))}),g+y}else if(typeof m.retain=="object"&&m.retain!==null){const y=h.slice(g,g+1),v=new a.default(y.ops).next(),[b,x,E]=c(m.retain,v.insert),_=d.getHandler(b);return p.retain({[b]:_.invert(x,E)},i.default.invert(m.attributes,v.attributes)),g+1}}return g},0),p.chop()}transform(h,p=!1){if(p=!!p,typeof h=="number")return this.transformPosition(h,p);const g=h,m=new a.default(this.ops),y=new a.default(g.ops),v=new d;for(;m.hasNext()||y.hasNext();)if(m.peekType()==="insert"&&(p||y.peekType()!=="insert"))v.retain(o.default.length(m.next()));else if(y.peekType()==="insert")v.push(y.next());else{const b=Math.min(m.peekLength(),y.peekLength()),x=m.next(b),E=y.next(b);if(x.delete)continue;if(E.delete)v.push(E);else{const _=x.retain,N=E.retain;let k=typeof N=="object"&&N!==null?N:b;if(typeof _=="object"&&_!==null&&typeof N=="object"&&N!==null){const C=Object.keys(_)[0];if(C===Object.keys(N)[0]){const T=d.getHandler(C);T&&(k={[C]:T.transform(_[C],N[C],p)})}}v.retain(k,i.default.transform(x.attributes,E.attributes,p))}}return v.chop()}transformPosition(h,p=!1){p=!!p;const g=new a.default(this.ops);let m=0;for(;g.hasNext()&&m<=h;){const y=g.peekLength(),v=g.peekType();if(g.next(),v==="delete"){h-=Math.min(y,h-m);continue}else v==="insert"&&(m<h||!p)&&(h+=y);m+=y}return h}}d.Op=o.default,d.OpIterator=a.default,d.AttributeMap=i.default,d.handlers={},t.default=d,e.exports=d,e.exports.default=d})(E_,E_.exports);var _s=E_.exports;const Pe=ci(_s);class pi extends rs{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}pi.blotName="break";pi.tagName="BR";let li=class extends _y{};const mAe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function xb(e){return e.replace(/[&<>"']/g,t=>mAe[t])}const ji=class ji extends pk{static compare(t,r){const n=ji.order.indexOf(t),s=ji.order.indexOf(r);return n>=0||s>=0?n-s:t===r?0:t<r?-1:1}formatAt(t,r,n,s){if(ji.compare(this.statics.blotName,n)<0&&this.scroll.query(n,Oe.BLOT)){const i=this.isolate(t,r);s&&i.wrap(n,s)}else super.formatAt(t,r,n,s)}optimize(t){if(super.optimize(t),this.parent instanceof ji&&ji.compare(this.statics.blotName,this.parent.statics.blotName)>0){const r=this.parent.isolate(this.offset(),this.length());this.moveChildren(r),r.wrap(this)}}};_e(ji,"allowedChildren",[ji,pi,rs,li]),_e(ji,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let Vi=ji;const mR=1;class Hr extends Th{constructor(){super(...arguments);_e(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=KU(this)),this.cache.delta}deleteAt(r,n){super.deleteAt(r,n),this.cache={}}formatAt(r,n,s,i){n<=0||(this.scroll.query(s,Oe.BLOCK)?r+n===this.length()&&this.format(s,i):super.formatAt(r,Math.min(n,this.length()-r-1),s,i),this.cache={})}insertAt(r,n,s){if(s!=null){super.insertAt(r,n,s),this.cache={};return}if(n.length===0)return;const i=n.split(`
`),o=i.shift();o.length>0&&(r<this.length()-1||this.children.tail==null?super.insertAt(Math.min(r,this.length()-1),o):this.children.tail.insertAt(this.children.tail.length(),o),this.cache={});let a=this;i.reduce((l,c)=>(a=a.split(l,!0),a.insertAt(0,c),c.length),r+o.length)}insertBefore(r,n){const{head:s}=this.children;super.insertBefore(r,n),s instanceof pi&&s.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+mR),this.cache.length}moveChildren(r,n){super.moveChildren(r,n),this.cache={}}optimize(r){super.optimize(r),this.cache={}}path(r){return super.path(r,!0)}removeChild(r){super.removeChild(r),this.cache={}}split(r){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n&&(r===0||r>=this.length()-mR)){const i=this.clone();return r===0?(this.parent.insertBefore(i,this),this):(this.parent.insertBefore(i,this.next),i)}const s=super.split(r,n);return this.cache={},s}}Hr.blotName="block";Hr.tagName="P";Hr.defaultChild=pi;Hr.allowedChildren=[pi,Vi,rs,li];class xs extends rs{attach(){super.attach(),this.attributes=new mb(this.domNode)}delta(){return new Pe().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(t,r){const n=this.scroll.query(t,Oe.BLOCK_ATTRIBUTE);n!=null&&this.attributes.attribute(n,r)}formatAt(t,r,n,s){this.format(n,s)}insertAt(t,r,n){if(n!=null){super.insertAt(t,r,n);return}const s=r.split(`
`),i=s.pop(),o=s.map(l=>{const c=this.scroll.create(Hr.blotName);return c.insertAt(0,l),c}),a=this.split(t);o.forEach(l=>{this.parent.insertBefore(l,a)}),i&&this.parent.insertBefore(this.scroll.create("text",i),a)}}xs.scope=Oe.BLOCK_BLOT;function KU(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.descendants(sn).reduce((r,n)=>n.length()===0?r:r.insert(n.value(),ys(n,{},t)),new Pe).insert(`
`,ys(e))}function ys(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return e==null||("formats"in e&&typeof e.formats=="function"&&(t={...t,...e.formats()},r&&delete t["code-token"]),e.parent==null||e.parent.statics.blotName==="scroll"||e.parent.statics.scope!==e.statics.scope)?t:ys(e.parent,t,r)}const ps=class ps extends rs{static value(){}constructor(t,r,n){super(t,r),this.selection=n,this.textNode=document.createTextNode(ps.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(t,r){if(this.savedLength!==0){super.format(t,r);return}let n=this,s=0;for(;n!=null&&n.statics.scope!==Oe.BLOCK_BLOT;)s+=n.offset(n.parent),n=n.parent;n!=null&&(this.savedLength=ps.CONTENTS.length,n.optimize(),n.formatAt(s,ps.CONTENTS.length,t,r),this.savedLength=0)}index(t,r){return t===this.textNode?0:super.index(t,r)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const t=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const r=this.prev instanceof li?this.prev:null,n=r?r.length():0,s=this.next instanceof li?this.next:null,i=s?s.text:"",{textNode:o}=this,a=o.data.split(ps.CONTENTS).join("");o.data=ps.CONTENTS;let l;if(r)l=r,(a||s)&&(r.insertAt(r.length(),a+i),s&&s.remove());else if(s)l=s,s.insertAt(0,a);else{const c=document.createTextNode(a);l=this.scroll.create(c),this.parent.insertBefore(l,this)}if(this.remove(),t){const c=(h,p)=>r&&h===r.domNode?p:h===o?n+p-1:s&&h===s.domNode?n+a.length+p:null,d=c(t.start.node,t.start.offset),f=c(t.end.node,t.end.offset);if(d!==null&&f!==null)return{startNode:l.domNode,startOffset:d,endNode:l.domNode,endOffset:f}}return null}update(t,r){if(t.some(n=>n.type==="characterData"&&n.target===this.textNode)){const n=this.restore();n&&(r.range=n)}}optimize(t){super.optimize(t);let{parent:r}=this;for(;r;){if(r.domNode.tagName==="A"){this.savedLength=ps.CONTENTS.length,r.isolate(this.offset(r),this.length()).unwrap(),this.savedLength=0;break}r=r.parent}}value(){return""}};_e(ps,"blotName","cursor"),_e(ps,"className","ql-cursor"),_e(ps,"tagName","span"),_e(ps,"CONTENTS","\uFEFF");let td=ps;const k_=new WeakMap,C_=["error","warn","log","info"];let T_="warn";function HU(e){if(T_&&C_.indexOf(e)<=C_.indexOf(T_)){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];console[e](...r)}}function Zo(e){return C_.reduce((t,r)=>(t[r]=HU.bind(console,r,e),t),{})}Zo.level=e=>{T_=e};HU.level=Zo.level;const Ix=Zo("quill:events"),gAe=["selectionchange","mousedown","mouseup","click"];gAe.forEach(e=>{document.addEventListener(e,function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];Array.from(document.querySelectorAll(".ql-container")).forEach(s=>{const i=k_.get(s);i&&i.emitter&&i.emitter.handleDOM(...r)})})});class Ce extends H8{constructor(){super(),this.domListeners={},this.on("error",Ix.error)}emit(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Ix.log.call(Ix,...r),super.emit(...r)}handleDOM(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];(this.domListeners[t.type]||[]).forEach(i=>{let{node:o,handler:a}=i;(t.target===o||o.contains(t.target))&&a(t,...n)})}listenDOM(t,r,n){this.domListeners[t]||(this.domListeners[t]=[]),this.domListeners[t].push({node:r,handler:n})}}_e(Ce,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),_e(Ce,"sources",{API:"api",SILENT:"silent",USER:"user"});const Mx=Zo("quill:selection");let nc=class{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=t,this.length=r}};class yAe{constructor(t,r){this.emitter=r,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new nc(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,Ce.sources.USER),1)}),this.emitter.on(Ce.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const n=this.getNativeRange();n!=null&&n.start.node!==this.cursor.textNode&&this.emitter.once(Ce.events.SCROLL_UPDATE,(s,i)=>{try{this.root.contains(n.start.node)&&this.root.contains(n.end.node)&&this.setNativeRange(n.start.node,n.start.offset,n.end.node,n.end.offset);const o=i.some(a=>a.type==="characterData"||a.type==="childList"||a.type==="attributes"&&a.target===this.root);this.update(o?Ce.sources.SILENT:s)}catch{}})}),this.emitter.on(Ce.events.SCROLL_OPTIMIZE,(n,s)=>{if(s.range){const{startNode:i,startOffset:o,endNode:a,endOffset:l}=s.range;this.setNativeRange(i,o,a,l),this.update(Ce.sources.SILENT)}}),this.update(Ce.sources.SILENT)}handleComposition(){this.emitter.on(Ce.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(Ce.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const t=this.cursor.restore();if(!t)return;setTimeout(()=>{this.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(Ce.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(t,r){this.scroll.update();const n=this.getNativeRange();if(!(n==null||!n.native.collapsed||this.scroll.query(t,Oe.BLOCK))){if(n.start.node!==this.cursor.textNode){const s=this.scroll.find(n.start.node,!1);if(s==null)return;if(s instanceof sn){const i=s.split(n.start.offset);s.parent.insertBefore(this.cursor,i)}else s.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(t,r),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const n=this.scroll.length();t=Math.min(t,n-1),r=Math.min(t+r,n-1)-t;let s,[i,o]=this.scroll.leaf(t);if(i==null)return null;if(r>0&&o===i.length()){const[d]=this.scroll.leaf(t+1);if(d){const[f]=this.scroll.line(t),[h]=this.scroll.line(t+1);f===h&&(i=d,o=0)}}[s,o]=i.position(o,!0);const a=document.createRange();if(r>0)return a.setStart(s,o),[i,o]=this.scroll.leaf(t+r),i==null?null:([s,o]=i.position(o,!0),a.setEnd(s,o),a.getBoundingClientRect());let l="left",c;if(s instanceof Text){if(!s.data.length)return null;o<s.data.length?(a.setStart(s,o),a.setEnd(s,o+1)):(a.setStart(s,o-1),a.setEnd(s,o),l="right"),c=a.getBoundingClientRect()}else{if(!(i.domNode instanceof Element))return null;c=i.domNode.getBoundingClientRect(),o>0&&(l="right")}return{bottom:c.top+c.height,height:c.height,left:c[l],right:c[l],top:c.top,width:0}}getNativeRange(){const t=document.getSelection();if(t==null||t.rangeCount<=0)return null;const r=t.getRangeAt(0);if(r==null)return null;const n=this.normalizeNative(r);return Mx.info("getNativeRange",n),n}getRange(){const t=this.scroll.domNode;if("isConnected"in t&&!t.isConnected)return[null,null];const r=this.getNativeRange();return r==null?[null,null]:[this.normalizedToRange(r),r]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&Lx(this.root,document.activeElement)}normalizedToRange(t){const r=[[t.start.node,t.start.offset]];t.native.collapsed||r.push([t.end.node,t.end.offset]);const n=r.map(o=>{const[a,l]=o,c=this.scroll.find(a,!0),d=c.offset(this.scroll);return l===0?d:c instanceof sn?d+c.index(a,l):d+c.length()}),s=Math.min(Math.max(...n),this.scroll.length()-1),i=Math.min(s,...n);return new nc(i,s-i)}normalizeNative(t){if(!Lx(this.root,t.startContainer)||!t.collapsed&&!Lx(this.root,t.endContainer))return null;const r={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[r.start,r.end].forEach(n=>{let{node:s,offset:i}=n;for(;!(s instanceof Text)&&s.childNodes.length>0;)if(s.childNodes.length>i)s=s.childNodes[i],i=0;else if(s.childNodes.length===i)s=s.lastChild,s instanceof Text?i=s.data.length:s.childNodes.length>0?i=s.childNodes.length:i=s.childNodes.length+1;else break;n.node=s,n.offset=i}),r}rangeToNative(t){const r=this.scroll.length(),n=(s,i)=>{s=Math.min(r-1,s);const[o,a]=this.scroll.leaf(s);return o?o.position(a,i):[null,-1]};return[...n(t.index,!1),...n(t.index+t.length,!0)]}setNativeRange(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:r,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(Mx.info("setNativeRange",t,r,n,s),t!=null&&(this.root.parentNode==null||t.parentNode==null||n.parentNode==null))return;const o=document.getSelection();if(o!=null)if(t!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:a}=this.getNativeRange()||{};if(a==null||i||t!==a.startContainer||r!==a.startOffset||n!==a.endContainer||s!==a.endOffset){t instanceof Element&&t.tagName==="BR"&&(r=Array.from(t.parentNode.childNodes).indexOf(t),t=t.parentNode),n instanceof Element&&n.tagName==="BR"&&(s=Array.from(n.parentNode.childNodes).indexOf(n),n=n.parentNode);const l=document.createRange();l.setStart(t,r),l.setEnd(n,s),o.removeAllRanges(),o.addRange(l)}}else o.removeAllRanges(),this.root.blur()}setRange(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ce.sources.API;if(typeof r=="string"&&(n=r,r=!1),Mx.info("setRange",t),t!=null){const s=this.rangeToNative(t);this.setNativeRange(...s,r)}else this.setNativeRange(null);this.update(n)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ce.sources.USER;const r=this.lastRange,[n,s]=this.getRange();if(this.lastRange=n,this.lastNative=s,this.lastRange!=null&&(this.savedRange=this.lastRange),!Sa(r,this.lastRange)){if(!this.composing&&s!=null&&s.native.collapsed&&s.start.node!==this.cursor.textNode){const o=this.cursor.restore();o&&this.setNativeRange(o.startNode,o.startOffset,o.endNode,o.endOffset)}const i=[Ce.events.SELECTION_CHANGE,_u(this.lastRange),_u(r),t];this.emitter.emit(Ce.events.EDITOR_CHANGE,...i),t!==Ce.sources.SILENT&&this.emitter.emit(...i)}}}function Lx(e,t){try{t.parentNode}catch{return!1}return e.contains(t)}const vAe=/^[ -~]*$/;class bAe{constructor(t){this.scroll=t,this.delta=this.getDelta()}applyDelta(t){this.scroll.update();let r=this.scroll.length();this.scroll.batchStart();const n=gR(t),s=new Pe;return wAe(n.ops.slice()).reduce((o,a)=>{const l=_s.Op.length(a);let c=a.attributes||{},d=!1,f=!1;if(a.insert!=null){if(s.retain(l),typeof a.insert=="string"){const g=a.insert;f=!g.endsWith(`
`)&&(r<=o||!!this.scroll.descendant(xs,o)[0]),this.scroll.insertAt(o,g);const[m,y]=this.scroll.line(o);let v=$a({},ys(m));if(m instanceof Hr){const[b]=m.descendant(sn,y);b&&(v=$a(v,ys(b)))}c=_s.AttributeMap.diff(v,c)||{}}else if(typeof a.insert=="object"){const g=Object.keys(a.insert)[0];if(g==null)return o;const m=this.scroll.query(g,Oe.INLINE)!=null;if(m)(r<=o||this.scroll.descendant(xs,o)[0])&&(f=!0);else if(o>0){const[y,v]=this.scroll.descendant(sn,o-1);y instanceof li?y.value()[v]!==`
`&&(d=!0):y instanceof rs&&y.statics.scope===Oe.INLINE_BLOT&&(d=!0)}if(this.scroll.insertAt(o,g,a.insert[g]),m){const[y]=this.scroll.descendant(sn,o);if(y){const v=$a({},ys(y));c=_s.AttributeMap.diff(v,c)||{}}}}r+=l}else if(s.push(a),a.retain!==null&&typeof a.retain=="object"){const g=Object.keys(a.retain)[0];if(g==null)return o;this.scroll.updateEmbedAt(o,g,a.retain[g])}Object.keys(c).forEach(g=>{this.scroll.formatAt(o,l,g,c[g])});const h=d?1:0,p=f?1:0;return r+=h+p,s.retain(h),s.delete(p),o+l+h+p},0),s.reduce((o,a)=>typeof a.delete=="number"?(this.scroll.deleteAt(o,a.delete),o):o+_s.Op.length(a),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(n)}deleteText(t,r){return this.scroll.deleteAt(t,r),this.update(new Pe().retain(t).delete(r))}formatLine(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(n).forEach(i=>{this.scroll.lines(t,Math.max(r,1)).forEach(o=>{o.format(i,n[i])})}),this.scroll.optimize();const s=new Pe().retain(t).retain(r,_u(n));return this.update(s)}formatText(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(n).forEach(i=>{this.scroll.formatAt(t,r,i,n[i])});const s=new Pe().retain(t).retain(r,_u(n));return this.update(s)}getContents(t,r){return this.delta.slice(t,t+r)}getDelta(){return this.scroll.lines().reduce((t,r)=>t.concat(r.delta()),new Pe)}getFormat(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=[],s=[];r===0?this.scroll.path(t).forEach(a=>{const[l]=a;l instanceof Hr?n.push(l):l instanceof sn&&s.push(l)}):(n=this.scroll.lines(t,r),s=this.scroll.descendants(sn,t,r));const[i,o]=[n,s].map(a=>{const l=a.shift();if(l==null)return{};let c=ys(l);for(;Object.keys(c).length>0;){const d=a.shift();if(d==null)return c;c=xAe(ys(d),c)}return c});return{...i,...o}}getHTML(t,r){const[n,s]=this.scroll.line(t);if(n){const i=n.length();return n.length()>=s+r&&!(s===0&&r===i)?Ph(n,s,r,!0):Ph(this.scroll,t,r,!0)}return""}getText(t,r){return this.getContents(t,r).filter(n=>typeof n.insert=="string").map(n=>n.insert).join("")}insertContents(t,r){const n=gR(r),s=new Pe().retain(t).concat(n);return this.scroll.insertContents(t,n),this.update(s)}insertEmbed(t,r,n){return this.scroll.insertAt(t,r,n),this.update(new Pe().retain(t).insert({[r]:n}))}insertText(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return r=r.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(t,r),Object.keys(n).forEach(s=>{this.scroll.formatAt(t,r.length,s,n[s])}),this.update(new Pe().retain(t).insert(r,_u(n)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const t=this.scroll.children.head;if((t==null?void 0:t.statics.blotName)!==Hr.blotName)return!1;const r=t;return r.children.length>1?!1:r.children.head instanceof pi}removeFormat(t,r){const n=this.getText(t,r),[s,i]=this.scroll.line(t+r);let o=0,a=new Pe;s!=null&&(o=s.length()-i,a=s.delta().slice(i,i+o-1).insert(`
`));const c=this.getContents(t,r+o).diff(new Pe().insert(n).concat(a)),d=new Pe().retain(t).concat(c);return this.applyDelta(d)}update(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const s=this.delta;if(r.length===1&&r[0].type==="characterData"&&r[0].target.data.match(vAe)&&this.scroll.find(r[0].target)){const i=this.scroll.find(r[0].target),o=ys(i),a=i.offset(this.scroll),l=r[0].oldValue.replace(td.CONTENTS,""),c=new Pe().insert(l),d=new Pe().insert(i.value()),f=n&&{oldRange:yR(n.oldRange,-a),newRange:yR(n.newRange,-a)};t=new Pe().retain(a).concat(c.diff(d,f)).reduce((p,g)=>g.insert?p.insert(g.insert,o):p.push(g),new Pe),this.delta=s.compose(t)}else this.delta=this.getDelta(),(!t||!Sa(s.compose(t),this.delta))&&(t=s.diff(this.delta,n));return t}}function Vc(e,t,r){if(e.length===0){const[p]=Fx(r.pop());return t<=0?`</li></${p}>`:`</li></${p}>${Vc([],t-1,r)}`}const[{child:n,offset:s,length:i,indent:o,type:a},...l]=e,[c,d]=Fx(a);if(o>t)return r.push(a),o===t+1?`<${c}><li${d}>${Ph(n,s,i)}${Vc(l,o,r)}`:`<${c}><li>${Vc(e,t+1,r)}`;const f=r[r.length-1];if(o===t&&a===f)return`</li><li${d}>${Ph(n,s,i)}${Vc(l,o,r)}`;const[h]=Fx(r.pop());return`</li></${h}>${Vc(e,t-1,r)}`}function Ph(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in e&&typeof e.html=="function")return e.html(t,r);if(e instanceof li)return xb(e.value().slice(t,t+r)).replaceAll(" ","&nbsp;");if(e instanceof ri){if(e.statics.blotName==="list-container"){const c=[];return e.children.forEachAt(t,r,(d,f,h)=>{const p="formats"in d&&typeof d.formats=="function"?d.formats():{};c.push({child:d,offset:f,length:h,indent:p.indent||0,type:p.list})}),Vc(c,-1,[])}const s=[];if(e.children.forEachAt(t,r,(c,d,f)=>{s.push(Ph(c,d,f))}),n||e.statics.blotName==="list")return s.join("");const{outerHTML:i,innerHTML:o}=e.domNode,[a,l]=i.split(`>${o}<`);return a==="<table"?`<table style="border: 1px solid #000;">${s.join("")}<${l}`:`${a}>${s.join("")}<${l}`}return e.domNode instanceof Element?e.domNode.outerHTML:""}function xAe(e,t){return Object.keys(t).reduce((r,n)=>{if(e[n]==null)return r;const s=t[n];return s===e[n]?r[n]=s:Array.isArray(s)?s.indexOf(e[n])<0?r[n]=s.concat([e[n]]):r[n]=s:r[n]=[s,e[n]],r},{})}function Fx(e){const t=e==="ordered"?"ol":"ul";switch(e){case"checked":return[t,' data-list="checked"'];case"unchecked":return[t,' data-list="unchecked"'];default:return[t,""]}}function gR(e){return e.reduce((t,r)=>{if(typeof r.insert=="string"){const n=r.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return t.insert(n,r.attributes)}return t.push(r)},new Pe)}function yR(e,t){let{index:r,length:n}=e;return new nc(r+t,n)}function wAe(e){const t=[];return e.forEach(r=>{typeof r.insert=="string"?r.insert.split(`
`).forEach((s,i)=>{i&&t.push({insert:`
`,attributes:r.attributes}),s&&t.push({insert:s,attributes:r.attributes})}):t.push(r)}),t}class mi{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=t,this.options=r}}_e(mi,"DEFAULTS",{});const Om="\uFEFF";class xk extends rs{constructor(t,r){super(t,r),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(n=>{this.contentNode.appendChild(n)}),this.leftGuard=document.createTextNode(Om),this.rightGuard=document.createTextNode(Om),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(t,r){return t===this.leftGuard?0:t===this.rightGuard?1:super.index(t,r)}restore(t){let r=null,n;const s=t.data.split(Om).join("");if(t===this.leftGuard)if(this.prev instanceof li){const i=this.prev.length();this.prev.insertAt(i,s),r={startNode:this.prev.domNode,startOffset:i+s.length}}else n=document.createTextNode(s),this.parent.insertBefore(this.scroll.create(n),this),r={startNode:n,startOffset:s.length};else t===this.rightGuard&&(this.next instanceof li?(this.next.insertAt(0,s),r={startNode:this.next.domNode,startOffset:s.length}):(n=document.createTextNode(s),this.parent.insertBefore(this.scroll.create(n),this.next),r={startNode:n,startOffset:s.length}));return t.data=Om,r}update(t,r){t.forEach(n=>{if(n.type==="characterData"&&(n.target===this.leftGuard||n.target===this.rightGuard)){const s=this.restore(n.target);s&&(r.range=s)}})}}class _Ae{constructor(t,r){_e(this,"isComposing",!1);this.scroll=t,this.emitter=r,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",t=>{this.isComposing||this.handleCompositionStart(t)}),this.scroll.domNode.addEventListener("compositionend",t=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(t)})})}handleCompositionStart(t){const r=t.target instanceof Node?this.scroll.find(t.target,!0):null;r&&!(r instanceof xk)&&(this.emitter.emit(Ce.events.COMPOSITION_BEFORE_START,t),this.scroll.batchStart(),this.emitter.emit(Ce.events.COMPOSITION_START,t),this.isComposing=!0)}handleCompositionEnd(t){this.emitter.emit(Ce.events.COMPOSITION_BEFORE_END,t),this.scroll.batchEnd(),this.emitter.emit(Ce.events.COMPOSITION_END,t),this.isComposing=!1}}const Gf=class Gf{constructor(t,r){_e(this,"modules",{});this.quill=t,this.options=r}init(){Object.keys(this.options.modules).forEach(t=>{this.modules[t]==null&&this.addModule(t)})}addModule(t){const r=this.quill.constructor.import(`modules/${t}`);return this.modules[t]=new r(this.quill,this.options.modules[t]||{}),this.modules[t]}};_e(Gf,"DEFAULTS",{modules:{}}),_e(Gf,"themes",{default:Gf});let rd=Gf;const SAe=e=>e.parentElement||e.getRootNode().host||null,EAe=e=>{const t=e.getBoundingClientRect(),r="offsetWidth"in e&&Math.abs(t.width)/e.offsetWidth||1,n="offsetHeight"in e&&Math.abs(t.height)/e.offsetHeight||1;return{top:t.top,right:t.left+e.clientWidth*r,bottom:t.top+e.clientHeight*n,left:t.left}},Dm=e=>{const t=parseInt(e,10);return Number.isNaN(t)?0:t},vR=(e,t,r,n,s,i)=>e<r&&t>n?0:e<r?-(r-e+s):t>n?t-e>n-r?e+s-r:t-n+i:0,jAe=(e,t)=>{var i,o,a;const r=e.ownerDocument;let n=t,s=e;for(;s;){const l=s===r.body,c=l?{top:0,right:((i=window.visualViewport)==null?void 0:i.width)??r.documentElement.clientWidth,bottom:((o=window.visualViewport)==null?void 0:o.height)??r.documentElement.clientHeight,left:0}:EAe(s),d=getComputedStyle(s),f=vR(n.left,n.right,c.left,c.right,Dm(d.scrollPaddingLeft),Dm(d.scrollPaddingRight)),h=vR(n.top,n.bottom,c.top,c.bottom,Dm(d.scrollPaddingTop),Dm(d.scrollPaddingBottom));if(f||h)if(l)(a=r.defaultView)==null||a.scrollBy(f,h);else{const{scrollLeft:p,scrollTop:g}=s;h&&(s.scrollTop+=h),f&&(s.scrollLeft+=f);const m=s.scrollLeft-p,y=s.scrollTop-g;n={left:n.left-m,top:n.top-y,right:n.right-m,bottom:n.bottom-y}}s=l||d.position==="fixed"?null:SAe(s)}},NAe=100,kAe=["block","break","cursor","inline","scroll","text"],CAe=(e,t,r)=>{const n=new ed;return kAe.forEach(s=>{const i=t.query(s);i&&n.register(i)}),e.forEach(s=>{let i=t.query(s);i||r.error(`Cannot register "${s}" specified in "formats" config. Are you sure it was registered?`);let o=0;for(;i;)if(n.register(i),i="blotName"in i?i.requiredContainer??null:null,o+=1,o>NAe){r.error(`Cycle detected in registering blot requiredContainer: "${s}"`);break}}),n},Eu=Zo("quill"),Rm=new ed;ri.uiClass="ql-ui";const Vs=class Vs{static debug(t){t===!0&&(t="log"),Zo.level(t)}static find(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return k_.get(t)||Rm.find(t,r)}static import(t){return this.imports[t]==null&&Eu.error(`Cannot import ${t}. Are you sure it was registered?`),this.imports[t]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const t=arguments.length<=0?void 0:arguments[0],r=!!(!(arguments.length<=1)&&arguments[1]),n="attrName"in t?t.attrName:t.blotName;typeof n=="string"?this.register(`formats/${n}`,t,r):Object.keys(t).forEach(s=>{this.register(s,t[s],r)})}else{const t=arguments.length<=0?void 0:arguments[0],r=arguments.length<=1?void 0:arguments[1],n=!!(!(arguments.length<=2)&&arguments[2]);this.imports[t]!=null&&!n&&Eu.warn(`Overwriting ${t} with`,r),this.imports[t]=r,(t.startsWith("blots/")||t.startsWith("formats/"))&&r&&typeof r!="boolean"&&r.blotName!=="abstract"&&Rm.register(r),typeof r.register=="function"&&r.register(Rm)}}constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=TAe(t,r),this.container=this.options.container,this.container==null){Eu.error("Invalid Quill container",t);return}this.options.debug&&Vs.debug(this.options.debug);const n=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",k_.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new Ce;const s=mk.blotName,i=this.options.registry.query(s);if(!i||!("blotName"in i))throw new Error(`Cannot initialize Quill without "${s}" blot`);if(this.scroll=new i(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new bAe(this.scroll),this.selection=new yAe(this.scroll,this.emitter),this.composition=new _Ae(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(Ce.events.EDITOR_CHANGE,o=>{o===Ce.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(Ce.events.SCROLL_UPDATE,(o,a)=>{const l=this.selection.lastRange,[c]=this.selection.getRange(),d=l&&c?{oldRange:l,newRange:c}:void 0;Ls.call(this,()=>this.editor.update(null,a,d),o)}),this.emitter.on(Ce.events.SCROLL_EMBED_UPDATE,(o,a)=>{const l=this.selection.lastRange,[c]=this.selection.getRange(),d=l&&c?{oldRange:l,newRange:c}:void 0;Ls.call(this,()=>{const f=new Pe().retain(o.offset(this)).retain({[o.statics.blotName]:a});return this.editor.update(f,[],d)},Vs.sources.USER)}),n){const o=this.clipboard.convert({html:`${n}<p><br></p>`,text:`
`});this.setContents(o)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof t=="string"){const n=t;t=document.createElement("div"),t.classList.add(n)}return this.container.insertBefore(t,r),t}blur(){this.selection.setRange(null)}deleteText(t,r,n){return[t,r,,n]=ao(t,r,n),Ls.call(this,()=>this.editor.deleteText(t,r),n,t,-1*r)}disable(){this.enable(!1)}editReadOnly(t){this.allowReadOnlyEdits=!0;const r=t();return this.allowReadOnlyEdits=!1,r}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}focus(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),t.preventScroll||this.scrollSelectionIntoView()}format(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ce.sources.API;return Ls.call(this,()=>{const s=this.getSelection(!0);let i=new Pe;if(s==null)return i;if(this.scroll.query(t,Oe.BLOCK))i=this.editor.formatLine(s.index,s.length,{[t]:r});else{if(s.length===0)return this.selection.format(t,r),i;i=this.editor.formatText(s.index,s.length,{[t]:r})}return this.setSelection(s,Ce.sources.SILENT),i},n)}formatLine(t,r,n,s,i){let o;return[t,r,o,i]=ao(t,r,n,s,i),Ls.call(this,()=>this.editor.formatLine(t,r,o),i,t,0)}formatText(t,r,n,s,i){let o;return[t,r,o,i]=ao(t,r,n,s,i),Ls.call(this,()=>this.editor.formatText(t,r,o),i,t,0)}getBounds(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=null;if(typeof t=="number"?n=this.selection.getBounds(t,r):n=this.selection.getBounds(t.index,t.length),!n)return null;const s=this.container.getBoundingClientRect();return{bottom:n.bottom-s.top,height:n.height,left:n.left-s.left,right:n.right-s.left,top:n.top-s.top,width:n.width}}getContents(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-t;return[t,r]=ao(t,r),this.editor.getContents(t,r)}getFormat(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof t=="number"?this.editor.getFormat(t,r):this.editor.getFormat(t.index,t.length)}getIndex(t){return t.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(t){return this.scroll.leaf(t)}getLine(t){return this.scroll.line(t)}getLines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof t!="number"?this.scroll.lines(t.index,t.length):this.scroll.lines(t,r)}getModule(t){return this.theme.modules[t]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(r=r??this.getLength()-t),[t,r]=ao(t,r),this.editor.getHTML(t,r)}getText(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(r=r??this.getLength()-t),[t,r]=ao(t,r),this.editor.getText(t,r)}hasFocus(){return this.selection.hasFocus()}insertEmbed(t,r,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Vs.sources.API;return Ls.call(this,()=>this.editor.insertEmbed(t,r,n),s,t)}insertText(t,r,n,s,i){let o;return[t,,o,i]=ao(t,0,n,s,i),Ls.call(this,()=>this.editor.insertText(t,r,o),i,t,r.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(t,r,n){return[t,r,,n]=ao(t,r,n),Ls.call(this,()=>this.editor.removeFormat(t,r),n,t)}scrollRectIntoView(t){jAe(this.root,t)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const t=this.selection.lastRange,r=t&&this.selection.getBounds(t.index,t.length);r&&this.scrollRectIntoView(r)}setContents(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ce.sources.API;return Ls.call(this,()=>{t=new Pe(t);const n=this.getLength(),s=this.editor.deleteText(0,n),i=this.editor.insertContents(0,t),o=this.editor.deleteText(this.getLength()-1,1);return s.compose(i).compose(o)},r)}setSelection(t,r,n){t==null?this.selection.setRange(null,r||Vs.sources.API):([t,r,,n]=ao(t,r,n),this.selection.setRange(new nc(Math.max(0,t),r),n),n!==Ce.sources.SILENT&&this.scrollSelectionIntoView())}setText(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ce.sources.API;const n=new Pe().insert(t);return this.setContents(n,r)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ce.sources.USER;const r=this.scroll.update(t);return this.selection.update(t),r}updateContents(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ce.sources.API;return Ls.call(this,()=>(t=new Pe(t),this.editor.applyDelta(t)),r,!0)}};_e(Vs,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:Rm,theme:"default"}),_e(Vs,"events",Ce.events),_e(Vs,"sources",Ce.sources),_e(Vs,"version","2.0.3"),_e(Vs,"imports",{delta:Pe,parchment:tAe,"core/module":mi,"core/theme":rd});let le=Vs;function bR(e){return typeof e=="string"?document.querySelector(e):e}function Bx(e){return Object.entries(e??{}).reduce((t,r)=>{let[n,s]=r;return{...t,[n]:s===!0?{}:s}},{})}function xR(e){return Object.fromEntries(Object.entries(e).filter(t=>t[1]!==void 0))}function TAe(e,t){const r=bR(e);if(!r)throw new Error("Invalid Quill container");const s=!t.theme||t.theme===le.DEFAULTS.theme?rd:le.import(`themes/${t.theme}`);if(!s)throw new Error(`Invalid theme ${t.theme}. Did you register it?`);const{modules:i,...o}=le.DEFAULTS,{modules:a,...l}=s.DEFAULTS;let c=Bx(t.modules);c!=null&&c.toolbar&&c.toolbar.constructor!==Object&&(c={...c,toolbar:{container:c.toolbar}});const d=$a({},Bx(i),Bx(a),c),f={...o,...xR(l),...xR(t)};let h=t.registry;return h?t.formats&&Eu.warn('Ignoring "formats" option because "registry" is specified'):h=t.formats?CAe(t.formats,f.registry,Eu):f.registry,{...f,registry:h,container:r,theme:s,modules:Object.entries(d).reduce((p,g)=>{let[m,y]=g;if(!y)return p;const v=le.import(`modules/${m}`);return v==null?(Eu.error(`Cannot load ${m} module. Are you sure you registered it?`),p):{...p,[m]:$a({},v.DEFAULTS||{},y)}},{}),bounds:bR(f.bounds)}}function Ls(e,t,r,n){if(!this.isEnabled()&&t===Ce.sources.USER&&!this.allowReadOnlyEdits)return new Pe;let s=r==null?null:this.getSelection();const i=this.editor.delta,o=e();if(s!=null&&(r===!0&&(r=s.index),n==null?s=wR(s,o,t):n!==0&&(s=wR(s,r,n,t)),this.setSelection(s,Ce.sources.SILENT)),o.length()>0){const a=[Ce.events.TEXT_CHANGE,o,i,t];this.emitter.emit(Ce.events.EDITOR_CHANGE,...a),t!==Ce.sources.SILENT&&this.emitter.emit(...a)}return o}function ao(e,t,r,n,s){let i={};return typeof e.index=="number"&&typeof e.length=="number"?typeof t!="number"?(s=n,n=r,r=t,t=e.length,e=e.index):(t=e.length,e=e.index):typeof t!="number"&&(s=n,n=r,r=t,t=0),typeof r=="object"?(i=r,s=n):typeof r=="string"&&(n!=null?i[r]=n:s=r),s=s||Ce.sources.API,[e,t,i,s]}function wR(e,t,r,n){const s=typeof r=="number"?r:0;if(e==null)return null;let i,o;return t&&typeof t.transformPosition=="function"?[i,o]=[e.index,e.index+e.length].map(a=>t.transformPosition(a,n!==Ce.sources.USER)):[i,o]=[e.index,e.index+e.length].map(a=>a<t||a===t&&n===Ce.sources.USER?a:s>=0?a+s:Math.max(t,a+s)),new nc(i,o-i)}class vc extends gb{}function _R(e){return e instanceof Hr||e instanceof xs}function SR(e){return typeof e.updateContent=="function"}class Wc extends mk{constructor(t,r,n){let{emitter:s}=n;super(t,r),this.emitter=s,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",i=>this.handleDragStart(i))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const t=this.batch;this.batch=!1,this.update(t)}emitMount(t){this.emitter.emit(Ce.events.SCROLL_BLOT_MOUNT,t)}emitUnmount(t){this.emitter.emit(Ce.events.SCROLL_BLOT_UNMOUNT,t)}emitEmbedUpdate(t,r){this.emitter.emit(Ce.events.SCROLL_EMBED_UPDATE,t,r)}deleteAt(t,r){const[n,s]=this.line(t),[i]=this.line(t+r);if(super.deleteAt(t,r),i!=null&&n!==i&&s>0){if(n instanceof xs||i instanceof xs){this.optimize();return}const o=i.children.head instanceof pi?null:i.children.head;n.moveChildren(i,o),n.remove()}this.optimize()}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",t?"true":"false")}formatAt(t,r,n,s){super.formatAt(t,r,n,s),this.optimize()}insertAt(t,r,n){if(t>=this.length())if(n==null||this.scroll.query(r,Oe.BLOCK)==null){const s=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(s),n==null&&r.endsWith(`
`)?s.insertAt(0,r.slice(0,-1),n):s.insertAt(0,r,n)}else{const s=this.scroll.create(r,n);this.appendChild(s)}else super.insertAt(t,r,n);this.optimize()}insertBefore(t,r){if(t.statics.scope===Oe.INLINE_BLOT){const n=this.scroll.create(this.statics.defaultChild.blotName);n.appendChild(t),super.insertBefore(n,r)}else super.insertBefore(t,r)}insertContents(t,r){const n=this.deltaToRenderBlocks(r.concat(new Pe().insert(`
`))),s=n.pop();if(s==null)return;this.batchStart();const i=n.shift();if(i){const l=i.type==="block"&&(i.delta.length()===0||!this.descendant(xs,t)[0]&&t<this.length()),c=i.type==="block"?i.delta:new Pe().insert({[i.key]:i.value});zx(this,t,c);const d=i.type==="block"?1:0,f=t+c.length()+d;l&&this.insertAt(f-1,`
`);const h=ys(this.line(t)[0]),p=_s.AttributeMap.diff(h,i.attributes)||{};Object.keys(p).forEach(g=>{this.formatAt(f-1,1,g,p[g])}),t=f}let[o,a]=this.children.find(t);if(n.length&&(o&&(o=o.split(a),a=0),n.forEach(l=>{if(l.type==="block"){const c=this.createBlock(l.attributes,o||void 0);zx(c,0,l.delta)}else{const c=this.create(l.key,l.value);this.insertBefore(c,o||void 0),Object.keys(l.attributes).forEach(d=>{c.format(d,l.attributes[d])})}})),s.type==="block"&&s.delta.length()){const l=o?o.offset(o.scroll)+a:this.length();zx(this,l,s.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(t){const r=this.path(t).pop();if(!r)return[null,-1];const[n,s]=r;return n instanceof sn?[n,s]:[null,-1]}line(t){return t===this.length()?this.line(t-1):this.descendant(_R,t)}lines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const n=(s,i,o)=>{let a=[],l=o;return s.children.forEachAt(i,o,(c,d,f)=>{_R(c)?a.push(c):c instanceof gb&&(a=a.concat(n(c,d,l))),l-=f}),a};return n(this,t,r)}optimize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(t,r),t.length>0&&this.emitter.emit(Ce.events.SCROLL_OPTIMIZE,t,r))}path(t){return super.path(t).slice(1)}remove(){}update(t){if(this.batch){Array.isArray(t)&&(this.batch=this.batch.concat(t));return}let r=Ce.sources.USER;typeof t=="string"&&(r=t),Array.isArray(t)||(t=this.observer.takeRecords()),t=t.filter(n=>{let{target:s}=n;const i=this.find(s,!0);return i&&!SR(i)}),t.length>0&&this.emitter.emit(Ce.events.SCROLL_BEFORE_UPDATE,r,t),super.update(t.concat([])),t.length>0&&this.emitter.emit(Ce.events.SCROLL_UPDATE,r,t)}updateEmbedAt(t,r,n){const[s]=this.descendant(i=>i instanceof xs,t);s&&s.statics.blotName===r&&SR(s)&&s.updateContent(n)}handleDragStart(t){t.preventDefault()}deltaToRenderBlocks(t){const r=[];let n=new Pe;return t.forEach(s=>{const i=s==null?void 0:s.insert;if(i)if(typeof i=="string"){const o=i.split(`
`);o.slice(0,-1).forEach(l=>{n.insert(l,s.attributes),r.push({type:"block",delta:n,attributes:s.attributes??{}}),n=new Pe});const a=o[o.length-1];a&&n.insert(a,s.attributes)}else{const o=Object.keys(i)[0];if(!o)return;this.query(o,Oe.INLINE)?n.push(s):(n.length()&&r.push({type:"block",delta:n,attributes:{}}),n=new Pe,r.push({type:"blockEmbed",key:o,value:i[o],attributes:s.attributes??{}}))}}),n.length()&&r.push({type:"block",delta:n,attributes:{}}),r}createBlock(t,r){let n;const s={};Object.entries(t).forEach(a=>{let[l,c]=a;this.query(l,Oe.BLOCK&Oe.BLOT)!=null?n=l:s[l]=c});const i=this.create(n||this.statics.defaultChild.blotName,n?t[n]:void 0);this.insertBefore(i,r||void 0);const o=i.length();return Object.entries(s).forEach(a=>{let[l,c]=a;i.formatAt(0,o,l,c)}),i}}_e(Wc,"blotName","scroll"),_e(Wc,"className","ql-editor"),_e(Wc,"tagName","DIV"),_e(Wc,"defaultChild",Hr),_e(Wc,"allowedChildren",[Hr,xs,vc]);function zx(e,t,r){r.reduce((n,s)=>{const i=_s.Op.length(s);let o=s.attributes||{};if(s.insert!=null){if(typeof s.insert=="string"){const a=s.insert;e.insertAt(n,a);const[l]=e.descendant(sn,n),c=ys(l);o=_s.AttributeMap.diff(c,o)||{}}else if(typeof s.insert=="object"){const a=Object.keys(s.insert)[0];if(a==null)return n;if(e.insertAt(n,a,s.insert[a]),e.scroll.query(a,Oe.INLINE)!=null){const[c]=e.descendant(sn,n),d=ys(c);o=_s.AttributeMap.diff(d,o)||{}}}}return Object.keys(o).forEach(a=>{e.formatAt(n,i,a,o[a])}),n+i},t)}const wk={scope:Oe.BLOCK,whitelist:["right","center","justify"]},AAe=new qi("align","align",wk),YU=new hi("align","ql-align",wk),GU=new il("align","text-align",wk);class ZU extends il{value(t){let r=super.value(t);return r.startsWith("rgb(")?(r=r.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${r.split(",").map(s=>`00${parseInt(s,10).toString(16)}`.slice(-2)).join("")}`):r}}const PAe=new hi("color","ql-color",{scope:Oe.INLINE}),_k=new ZU("color","color",{scope:Oe.INLINE}),OAe=new hi("background","ql-bg",{scope:Oe.INLINE}),Sk=new ZU("background","background-color",{scope:Oe.INLINE});class bc extends vc{static create(t){const r=super.create(t);return r.setAttribute("spellcheck","false"),r}code(t,r){return this.children.map(n=>n.length()<=1?"":n.domNode.innerText).join(`
`).slice(t,t+r)}html(t,r){return`<pre>
${xb(this.code(t,r))}
</pre>`}}class cn extends Hr{static register(){le.register(bc)}}_e(cn,"TAB","  ");class Ek extends Vi{}Ek.blotName="code";Ek.tagName="CODE";cn.blotName="code-block";cn.className="ql-code-block";cn.tagName="DIV";bc.blotName="code-block-container";bc.className="ql-code-block-container";bc.tagName="DIV";bc.allowedChildren=[cn];cn.allowedChildren=[li,pi,td];cn.requiredContainer=bc;const jk={scope:Oe.BLOCK,whitelist:["rtl"]},XU=new qi("direction","dir",jk),JU=new hi("direction","ql-direction",jk),QU=new il("direction","direction",jk),e7={scope:Oe.INLINE,whitelist:["serif","monospace"]},t7=new hi("font","ql-font",e7);class DAe extends il{value(t){return super.value(t).replace(/["']/g,"")}}const r7=new DAe("font","font-family",e7),n7=new hi("size","ql-size",{scope:Oe.INLINE,whitelist:["small","large","huge"]}),s7=new il("size","font-size",{scope:Oe.INLINE,whitelist:["10px","18px","32px"]}),RAe=Zo("quill:keyboard"),$Ae=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class wb extends mi{static match(t,r){return["altKey","ctrlKey","metaKey","shiftKey"].some(n=>!!r[n]!==t[n]&&r[n]!==null)?!1:r.key===t.key||r.key===t.which}constructor(t,r){super(t,r),this.bindings={},Object.keys(this.options.bindings).forEach(n=>{this.options.bindings[n]&&this.addBinding(this.options.bindings[n])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=MAe(t);if(s==null){RAe.warn("Attempted to add invalid keyboard binding",s);return}typeof r=="function"&&(r={handler:r}),typeof n=="function"&&(n={handler:n}),(Array.isArray(s.key)?s.key:[s.key]).forEach(o=>{const a={...s,key:o,...r,...n};this.bindings[a.key]=this.bindings[a.key]||[],this.bindings[a.key].push(a)})}listen(){this.quill.root.addEventListener("keydown",t=>{if(t.defaultPrevented||t.isComposing||t.keyCode===229&&(t.key==="Enter"||t.key==="Backspace"))return;const s=(this.bindings[t.key]||[]).concat(this.bindings[t.which]||[]).filter(v=>wb.match(t,v));if(s.length===0)return;const i=le.find(t.target,!0);if(i&&i.scroll!==this.quill.scroll)return;const o=this.quill.getSelection();if(o==null||!this.quill.hasFocus())return;const[a,l]=this.quill.getLine(o.index),[c,d]=this.quill.getLeaf(o.index),[f,h]=o.length===0?[c,d]:this.quill.getLeaf(o.index+o.length),p=c instanceof _y?c.value().slice(0,d):"",g=f instanceof _y?f.value().slice(h):"",m={collapsed:o.length===0,empty:o.length===0&&a.length()<=1,format:this.quill.getFormat(o),line:a,offset:l,prefix:p,suffix:g,event:t};s.some(v=>{if(v.collapsed!=null&&v.collapsed!==m.collapsed||v.empty!=null&&v.empty!==m.empty||v.offset!=null&&v.offset!==m.offset)return!1;if(Array.isArray(v.format)){if(v.format.every(b=>m.format[b]==null))return!1}else if(typeof v.format=="object"&&!Object.keys(v.format).every(b=>v.format[b]===!0?m.format[b]!=null:v.format[b]===!1?m.format[b]==null:Sa(v.format[b],m.format[b])))return!1;return v.prefix!=null&&!v.prefix.test(m.prefix)||v.suffix!=null&&!v.suffix.test(m.suffix)?!1:v.handler.call(this,o,m,v)!==!0})&&t.preventDefault()})}handleBackspace(t,r){const n=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(r.prefix)?2:1;if(t.index===0||this.quill.getLength()<=1)return;let s={};const[i]=this.quill.getLine(t.index);let o=new Pe().retain(t.index-n).delete(n);if(r.offset===0){const[a]=this.quill.getLine(t.index-1);if(a&&!(a.statics.blotName==="block"&&a.length()<=1)){const c=i.formats(),d=this.quill.getFormat(t.index-1,1);if(s=_s.AttributeMap.diff(c,d)||{},Object.keys(s).length>0){const f=new Pe().retain(t.index+i.length()-2).retain(1,s);o=o.compose(f)}}}this.quill.updateContents(o,le.sources.USER),this.quill.focus()}handleDelete(t,r){const n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(r.suffix)?2:1;if(t.index>=this.quill.getLength()-n)return;let s={};const[i]=this.quill.getLine(t.index);let o=new Pe().retain(t.index).delete(n);if(r.offset>=i.length()-1){const[a]=this.quill.getLine(t.index+1);if(a){const l=i.formats(),c=this.quill.getFormat(t.index,1);s=_s.AttributeMap.diff(l,c)||{},Object.keys(s).length>0&&(o=o.retain(a.length()-1).retain(1,s))}}this.quill.updateContents(o,le.sources.USER),this.quill.focus()}handleDeleteRange(t){Nk({range:t,quill:this.quill}),this.quill.focus()}handleEnter(t,r){const n=Object.keys(r.format).reduce((i,o)=>(this.quill.scroll.query(o,Oe.BLOCK)&&!Array.isArray(r.format[o])&&(i[o]=r.format[o]),i),{}),s=new Pe().retain(t.index).delete(t.length).insert(`
`,n);this.quill.updateContents(s,le.sources.USER),this.quill.setSelection(t.index+1,le.sources.SILENT),this.quill.focus()}}const IAe={bindings:{bold:Ux("bold"),italic:Ux("italic"),underline:Ux("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(e,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","+1",le.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(e,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","-1",le.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(e,t){t.format.indent!=null?this.quill.format("indent","-1",le.sources.USER):t.format.list!=null&&this.quill.format("list",!1,le.sources.USER)}},"indent code-block":ER(!0),"outdent code-block":ER(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(e){this.quill.deleteText(e.index-1,1,le.sources.USER)}},tab:{key:"Tab",handler(e,t){if(t.format.table)return!0;this.quill.history.cutoff();const r=new Pe().retain(e.index).delete(e.length).insert("	");return this.quill.updateContents(r,le.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,le.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,le.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(e,t){const r={list:!1};t.format.indent&&(r.indent=!1),this.quill.formatLine(e.index,e.length,r,le.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(e){const[t,r]=this.quill.getLine(e.index),n={...t.formats(),list:"checked"},s=new Pe().retain(e.index).insert(`
`,n).retain(t.length()-r-1).retain(1,{list:"unchecked"});this.quill.updateContents(s,le.sources.USER),this.quill.setSelection(e.index+1,le.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(e,t){const[r,n]=this.quill.getLine(e.index),s=new Pe().retain(e.index).insert(`
`,t.format).retain(r.length()-n-1).retain(1,{header:null});this.quill.updateContents(s,le.sources.USER),this.quill.setSelection(e.index+1,le.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(e){const t=this.quill.getModule("table");if(t){const[r,n,s,i]=t.getTable(e),o=LAe(r,n,s,i);if(o==null)return;let a=r.offset();if(o<0){const l=new Pe().retain(a).insert(`
`);this.quill.updateContents(l,le.sources.USER),this.quill.setSelection(e.index+1,e.length,le.sources.SILENT)}else if(o>0){a+=r.length();const l=new Pe().retain(a).insert(`
`);this.quill.updateContents(l,le.sources.USER),this.quill.setSelection(a,le.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(e,t){const{event:r,line:n}=t,s=n.offset(this.quill.scroll);r.shiftKey?this.quill.setSelection(s-1,le.sources.USER):this.quill.setSelection(s+n.length(),le.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(e,t){if(this.quill.scroll.query("list")==null)return!0;const{length:r}=t.prefix,[n,s]=this.quill.getLine(e.index);if(s>r)return!0;let i;switch(t.prefix.trim()){case"[]":case"[ ]":i="unchecked";break;case"[x]":i="checked";break;case"-":case"*":i="bullet";break;default:i="ordered"}this.quill.insertText(e.index," ",le.sources.USER),this.quill.history.cutoff();const o=new Pe().retain(e.index-s).delete(r+1).retain(n.length()-2-s).retain(1,{list:i});return this.quill.updateContents(o,le.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-r,le.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(e){const[t,r]=this.quill.getLine(e.index);let n=2,s=t;for(;s!=null&&s.length()<=1&&s.formats()["code-block"];)if(s=s.prev,n-=1,n<=0){const i=new Pe().retain(e.index+t.length()-r-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(i,le.sources.USER),this.quill.setSelection(e.index-1,le.sources.SILENT),!1}return!0}},"embed left":$m("ArrowLeft",!1),"embed left shift":$m("ArrowLeft",!0),"embed right":$m("ArrowRight",!1),"embed right shift":$m("ArrowRight",!0),"table down":jR(!1),"table up":jR(!0)}};wb.DEFAULTS=IAe;function ER(e){return{key:"Tab",shiftKey:!e,format:{"code-block":!0},handler(t,r){let{event:n}=r;const s=this.quill.scroll.query("code-block"),{TAB:i}=s;if(t.length===0&&!n.shiftKey){this.quill.insertText(t.index,i,le.sources.USER),this.quill.setSelection(t.index+i.length,le.sources.SILENT);return}const o=t.length===0?this.quill.getLines(t.index,1):this.quill.getLines(t);let{index:a,length:l}=t;o.forEach((c,d)=>{e?(c.insertAt(0,i),d===0?a+=i.length:l+=i.length):c.domNode.textContent.startsWith(i)&&(c.deleteAt(0,i.length),d===0?a-=i.length:l-=i.length)}),this.quill.update(le.sources.USER),this.quill.setSelection(a,l,le.sources.SILENT)}}}function $m(e,t){return{key:e,shiftKey:t,altKey:null,[e==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(n){let{index:s}=n;e==="ArrowRight"&&(s+=n.length+1);const[i]=this.quill.getLeaf(s);return i instanceof rs?(e==="ArrowLeft"?t?this.quill.setSelection(n.index-1,n.length+1,le.sources.USER):this.quill.setSelection(n.index-1,le.sources.USER):t?this.quill.setSelection(n.index,n.length+1,le.sources.USER):this.quill.setSelection(n.index+n.length+1,le.sources.USER),!1):!0}}}function Ux(e){return{key:e[0],shortKey:!0,handler(t,r){this.quill.format(e,!r.format[e],le.sources.USER)}}}function jR(e){return{key:e?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(t,r){const n=e?"prev":"next",s=r.line,i=s.parent[n];if(i!=null){if(i.statics.blotName==="table-row"){let o=i.children.head,a=s;for(;a.prev!=null;)a=a.prev,o=o.next;const l=o.offset(this.quill.scroll)+Math.min(r.offset,o.length()-1);this.quill.setSelection(l,0,le.sources.USER)}}else{const o=s.table()[n];o!=null&&(e?this.quill.setSelection(o.offset(this.quill.scroll)+o.length()-1,0,le.sources.USER):this.quill.setSelection(o.offset(this.quill.scroll),0,le.sources.USER))}return!1}}}function MAe(e){if(typeof e=="string"||typeof e=="number")e={key:e};else if(typeof e=="object")e=_u(e);else return null;return e.shortKey&&(e[$Ae]=e.shortKey,delete e.shortKey),e}function Nk(e){let{quill:t,range:r}=e;const n=t.getLines(r);let s={};if(n.length>1){const i=n[0].formats(),o=n[n.length-1].formats();s=_s.AttributeMap.diff(o,i)||{}}t.deleteText(r,le.sources.USER),Object.keys(s).length>0&&t.formatLine(r.index,1,s,le.sources.USER),t.setSelection(r.index,le.sources.SILENT)}function LAe(e,t,r,n){return t.prev==null&&t.next==null?r.prev==null&&r.next==null?n===0?-1:1:r.prev==null?-1:1:t.prev==null?-1:t.next==null?1:null}const FAe=/font-weight:\s*normal/,BAe=["P","OL","UL"],NR=e=>e&&BAe.includes(e.tagName),zAe=e=>{Array.from(e.querySelectorAll("br")).filter(t=>NR(t.previousElementSibling)&&NR(t.nextElementSibling)).forEach(t=>{var r;(r=t.parentNode)==null||r.removeChild(t)})},UAe=e=>{Array.from(e.querySelectorAll('b[style*="font-weight"]')).filter(t=>{var r;return(r=t.getAttribute("style"))==null?void 0:r.match(FAe)}).forEach(t=>{var n;const r=e.createDocumentFragment();r.append(...t.childNodes),(n=t.parentNode)==null||n.replaceChild(r,t)})};function qAe(e){e.querySelector('[id^="docs-internal-guid-"]')&&(UAe(e),zAe(e))}const VAe=/\bmso-list:[^;]*ignore/i,WAe=/\bmso-list:[^;]*\bl(\d+)/i,KAe=/\bmso-list:[^;]*\blevel(\d+)/i,HAe=(e,t)=>{const r=e.getAttribute("style"),n=r==null?void 0:r.match(WAe);if(!n)return null;const s=Number(n[1]),i=r==null?void 0:r.match(KAe),o=i?Number(i[1]):1,a=new RegExp(`@list l${s}:level${o}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),l=t.match(a),c=l&&l[1]==="bullet"?"bullet":"ordered";return{id:s,indent:o,type:c,element:e}},YAe=e=>{var o,a;const t=Array.from(e.querySelectorAll("[style*=mso-list]")),r=[],n=[];t.forEach(l=>{(l.getAttribute("style")||"").match(VAe)?r.push(l):n.push(l)}),r.forEach(l=>{var c;return(c=l.parentNode)==null?void 0:c.removeChild(l)});const s=e.documentElement.innerHTML,i=n.map(l=>HAe(l,s)).filter(l=>l);for(;i.length;){const l=[];let c=i.shift();for(;c;)l.push(c),c=i.length&&((o=i[0])==null?void 0:o.element)===c.element.nextElementSibling&&i[0].id===c.id?i.shift():null;const d=document.createElement("ul");l.forEach(p=>{const g=document.createElement("li");g.setAttribute("data-list",p.type),p.indent>1&&g.setAttribute("class",`ql-indent-${p.indent-1}`),g.innerHTML=p.element.innerHTML,d.appendChild(g)});const f=(a=l[0])==null?void 0:a.element,{parentNode:h}=f??{};f&&(h==null||h.replaceChild(d,f)),l.slice(1).forEach(p=>{let{element:g}=p;h==null||h.removeChild(g)})}};function GAe(e){e.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&YAe(e)}const ZAe=[GAe,qAe],XAe=e=>{e.documentElement&&ZAe.forEach(t=>{t(e)})},JAe=Zo("quill:clipboard"),QAe=[[Node.TEXT_NODE,dPe],[Node.TEXT_NODE,CR],["br",sPe],[Node.ELEMENT_NODE,CR],[Node.ELEMENT_NODE,nPe],[Node.ELEMENT_NODE,rPe],[Node.ELEMENT_NODE,cPe],["li",aPe],["ol, ul",lPe],["pre",iPe],["tr",uPe],["b",qx("bold")],["i",qx("italic")],["strike",qx("strike")],["style",oPe]],ePe=[AAe,XU].reduce((e,t)=>(e[t.keyName]=t,e),{}),kR=[GU,Sk,_k,QU,r7,s7].reduce((e,t)=>(e[t.keyName]=t,e),{});class i7 extends mi{constructor(t,r){super(t,r),this.quill.root.addEventListener("copy",n=>this.onCaptureCopy(n,!1)),this.quill.root.addEventListener("cut",n=>this.onCaptureCopy(n,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],QAe.concat(this.options.matchers??[]).forEach(n=>{let[s,i]=n;this.addMatcher(s,i)})}addMatcher(t,r){this.matchers.push([t,r])}convert(t){let{html:r,text:n}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(s[cn.blotName])return new Pe().insert(n||"",{[cn.blotName]:s[cn.blotName]});if(!r)return new Pe().insert(n||"",s);const i=this.convertHTML(r);return bp(i,`
`)&&(i.ops[i.ops.length-1].attributes==null||s.table)?i.compose(new Pe().retain(i.length()-1).delete(1)):i}normalizeHTML(t){XAe(t)}convertHTML(t){const r=new DOMParser().parseFromString(t,"text/html");this.normalizeHTML(r);const n=r.body,s=new WeakMap,[i,o]=this.prepareMatching(n,s);return kk(this.quill.scroll,n,i,o,s)}dangerouslyPasteHTML(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:le.sources.API;if(typeof t=="string"){const s=this.convert({html:t,text:""});this.quill.setContents(s,r),this.quill.setSelection(0,le.sources.SILENT)}else{const s=this.convert({html:r,text:""});this.quill.updateContents(new Pe().retain(t).concat(s),n),this.quill.setSelection(t+s.length(),le.sources.SILENT)}}onCaptureCopy(t){var o,a;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t.defaultPrevented)return;t.preventDefault();const[n]=this.quill.selection.getRange();if(n==null)return;const{html:s,text:i}=this.onCopy(n,r);(o=t.clipboardData)==null||o.setData("text/plain",i),(a=t.clipboardData)==null||a.setData("text/html",s),r&&Nk({range:n,quill:this.quill})}normalizeURIList(t){return t.split(/\r?\n/).filter(r=>r[0]!=="#").join(`
`)}onCapturePaste(t){var o,a,l,c,d;if(t.defaultPrevented||!this.quill.isEnabled())return;t.preventDefault();const r=this.quill.getSelection(!0);if(r==null)return;const n=(o=t.clipboardData)==null?void 0:o.getData("text/html");let s=(a=t.clipboardData)==null?void 0:a.getData("text/plain");if(!n&&!s){const f=(l=t.clipboardData)==null?void 0:l.getData("text/uri-list");f&&(s=this.normalizeURIList(f))}const i=Array.from(((c=t.clipboardData)==null?void 0:c.files)||[]);if(!n&&i.length>0){this.quill.uploader.upload(r,i);return}if(n&&i.length>0){const f=new DOMParser().parseFromString(n,"text/html");if(f.body.childElementCount===1&&((d=f.body.firstElementChild)==null?void 0:d.tagName)==="IMG"){this.quill.uploader.upload(r,i);return}}this.onPaste(r,{html:n,text:s})}onCopy(t){const r=this.quill.getText(t);return{html:this.quill.getSemanticHTML(t),text:r}}onPaste(t,r){let{text:n,html:s}=r;const i=this.quill.getFormat(t.index),o=this.convert({text:n,html:s},i);JAe.log("onPaste",o,{text:n,html:s});const a=new Pe().retain(t.index).delete(t.length).concat(o);this.quill.updateContents(a,le.sources.USER),this.quill.setSelection(a.length()-t.length,le.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(t,r){const n=[],s=[];return this.matchers.forEach(i=>{const[o,a]=i;switch(o){case Node.TEXT_NODE:s.push(a);break;case Node.ELEMENT_NODE:n.push(a);break;default:Array.from(t.querySelectorAll(o)).forEach(l=>{if(r.has(l)){const c=r.get(l);c==null||c.push(a)}else r.set(l,[a])});break}}),[n,s]}}_e(i7,"DEFAULTS",{matchers:[]});function xc(e,t,r,n){return n.query(t)?e.reduce((s,i)=>{if(!i.insert)return s;if(i.attributes&&i.attributes[t])return s.push(i);const o=r?{[t]:r}:{};return s.insert(i.insert,{...o,...i.attributes})},new Pe):e}function bp(e,t){let r="";for(let n=e.ops.length-1;n>=0&&r.length<t.length;--n){const s=e.ops[n];if(typeof s.insert!="string")break;r=s.insert+r}return r.slice(-1*t.length)===t}function Aa(e,t){if(!(e instanceof Element))return!1;const r=t.query(e);return r&&r.prototype instanceof rs?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(e.tagName.toLowerCase())}function tPe(e,t){return e.previousElementSibling&&e.nextElementSibling&&!Aa(e.previousElementSibling,t)&&!Aa(e.nextElementSibling,t)}const Im=new WeakMap;function o7(e){return e==null?!1:(Im.has(e)||(e.tagName==="PRE"?Im.set(e,!0):Im.set(e,o7(e.parentNode))),Im.get(e))}function kk(e,t,r,n,s){return t.nodeType===t.TEXT_NODE?n.reduce((i,o)=>o(t,i,e),new Pe):t.nodeType===t.ELEMENT_NODE?Array.from(t.childNodes||[]).reduce((i,o)=>{let a=kk(e,o,r,n,s);return o.nodeType===t.ELEMENT_NODE&&(a=r.reduce((l,c)=>c(o,l,e),a),a=(s.get(o)||[]).reduce((l,c)=>c(o,l,e),a)),i.concat(a)},new Pe):new Pe}function qx(e){return(t,r,n)=>xc(r,e,!0,n)}function rPe(e,t,r){const n=qi.keys(e),s=hi.keys(e),i=il.keys(e),o={};return n.concat(s).concat(i).forEach(a=>{let l=r.query(a,Oe.ATTRIBUTE);l!=null&&(o[l.attrName]=l.value(e),o[l.attrName])||(l=ePe[a],l!=null&&(l.attrName===a||l.keyName===a)&&(o[l.attrName]=l.value(e)||void 0),l=kR[a],l!=null&&(l.attrName===a||l.keyName===a)&&(l=kR[a],o[l.attrName]=l.value(e)||void 0))}),Object.entries(o).reduce((a,l)=>{let[c,d]=l;return xc(a,c,d,r)},t)}function nPe(e,t,r){const n=r.query(e);if(n==null)return t;if(n.prototype instanceof rs){const s={},i=n.value(e);if(i!=null)return s[n.blotName]=i,new Pe().insert(s,n.formats(e,r))}else if(n.prototype instanceof Th&&!bp(t,`
`)&&t.insert(`
`),"blotName"in n&&"formats"in n&&typeof n.formats=="function")return xc(t,n.blotName,n.formats(e,r),r);return t}function sPe(e,t){return bp(t,`
`)||t.insert(`
`),t}function iPe(e,t,r){const n=r.query("code-block"),s=n&&"formats"in n&&typeof n.formats=="function"?n.formats(e,r):!0;return xc(t,"code-block",s,r)}function oPe(){return new Pe}function aPe(e,t,r){const n=r.query(e);if(n==null||n.blotName!=="list"||!bp(t,`
`))return t;let s=-1,i=e.parentNode;for(;i!=null;)["OL","UL"].includes(i.tagName)&&(s+=1),i=i.parentNode;return s<=0?t:t.reduce((o,a)=>a.insert?a.attributes&&typeof a.attributes.indent=="number"?o.push(a):o.insert(a.insert,{indent:s,...a.attributes||{}}):o,new Pe)}function lPe(e,t,r){const n=e;let s=n.tagName==="OL"?"ordered":"bullet";const i=n.getAttribute("data-checked");return i&&(s=i==="true"?"checked":"unchecked"),xc(t,"list",s,r)}function CR(e,t,r){if(!bp(t,`
`)){if(Aa(e,r)&&(e.childNodes.length>0||e instanceof HTMLParagraphElement))return t.insert(`
`);if(t.length()>0&&e.nextSibling){let n=e.nextSibling;for(;n!=null;){if(Aa(n,r))return t.insert(`
`);const s=r.query(n);if(s&&s.prototype instanceof xs)return t.insert(`
`);n=n.firstChild}}}return t}function cPe(e,t,r){var i;const n={},s=e.style||{};return s.fontStyle==="italic"&&(n.italic=!0),s.textDecoration==="underline"&&(n.underline=!0),s.textDecoration==="line-through"&&(n.strike=!0),((i=s.fontWeight)!=null&&i.startsWith("bold")||parseInt(s.fontWeight,10)>=700)&&(n.bold=!0),t=Object.entries(n).reduce((o,a)=>{let[l,c]=a;return xc(o,l,c,r)},t),parseFloat(s.textIndent||0)>0?new Pe().insert("	").concat(t):t}function uPe(e,t,r){var s,i;const n=((s=e.parentElement)==null?void 0:s.tagName)==="TABLE"?e.parentElement:(i=e.parentElement)==null?void 0:i.parentElement;if(n!=null){const a=Array.from(n.querySelectorAll("tr")).indexOf(e)+1;return xc(t,"table",a,r)}return t}function dPe(e,t,r){var s;let n=e.data;if(((s=e.parentElement)==null?void 0:s.tagName)==="O:P")return t.insert(n.trim());if(!o7(e)){if(n.trim().length===0&&n.includes(`
`)&&!tPe(e,r))return t;n=n.replace(/[^\S\u00a0]/g," "),n=n.replace(/ {2,}/g," "),(e.previousSibling==null&&e.parentElement!=null&&Aa(e.parentElement,r)||e.previousSibling instanceof Element&&Aa(e.previousSibling,r))&&(n=n.replace(/^ /,"")),(e.nextSibling==null&&e.parentElement!=null&&Aa(e.parentElement,r)||e.nextSibling instanceof Element&&Aa(e.nextSibling,r))&&(n=n.replace(/ $/,"")),n=n.replaceAll(" "," ")}return t.insert(n)}class a7 extends mi{constructor(r,n){super(r,n);_e(this,"lastRecorded",0);_e(this,"ignoreChange",!1);_e(this,"stack",{undo:[],redo:[]});_e(this,"currentRange",null);this.quill.on(le.events.EDITOR_CHANGE,(s,i,o,a)=>{s===le.events.SELECTION_CHANGE?i&&a!==le.sources.SILENT&&(this.currentRange=i):s===le.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||a===le.sources.USER?this.record(i,o):this.transform(i)),this.currentRange=A_(this.currentRange,i))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",s=>{s.inputType==="historyUndo"?(this.undo(),s.preventDefault()):s.inputType==="historyRedo"&&(this.redo(),s.preventDefault())})}change(r,n){if(this.stack[r].length===0)return;const s=this.stack[r].pop();if(!s)return;const i=this.quill.getContents(),o=s.delta.invert(i);this.stack[n].push({delta:o,range:A_(s.range,o)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(s.delta,le.sources.USER),this.ignoreChange=!1,this.restoreSelection(s)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(r,n){if(r.ops.length===0)return;this.stack.redo=[];let s=r.invert(n),i=this.currentRange;const o=Date.now();if(this.lastRecorded+this.options.delay>o&&this.stack.undo.length>0){const a=this.stack.undo.pop();a&&(s=s.compose(a.delta),i=a.range)}else this.lastRecorded=o;s.length()!==0&&(this.stack.undo.push({delta:s,range:i}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(r){TR(this.stack.undo,r),TR(this.stack.redo,r)}undo(){this.change("undo","redo")}restoreSelection(r){if(r.range)this.quill.setSelection(r.range,le.sources.USER);else{const n=hPe(this.quill.scroll,r.delta);this.quill.setSelection(n,le.sources.USER)}}}_e(a7,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function TR(e,t){let r=t;for(let n=e.length-1;n>=0;n-=1){const s=e[n];e[n]={delta:r.transform(s.delta,!0),range:s.range&&A_(s.range,r)},r=s.delta.transform(r),e[n].delta.length()===0&&e.splice(n,1)}}function fPe(e,t){const r=t.ops[t.ops.length-1];return r==null?!1:r.insert!=null?typeof r.insert=="string"&&r.insert.endsWith(`
`):r.attributes!=null?Object.keys(r.attributes).some(n=>e.query(n,Oe.BLOCK)!=null):!1}function hPe(e,t){const r=t.reduce((s,i)=>s+(i.delete||0),0);let n=t.length()-r;return fPe(e,t)&&(n-=1),n}function A_(e,t){if(!e)return e;const r=t.transformPosition(e.index),n=t.transformPosition(e.index+e.length);return{index:r,length:n-r}}class l7 extends mi{constructor(t,r){super(t,r),t.root.addEventListener("drop",n=>{var o;n.preventDefault();let s=null;if(document.caretRangeFromPoint)s=document.caretRangeFromPoint(n.clientX,n.clientY);else if(document.caretPositionFromPoint){const a=document.caretPositionFromPoint(n.clientX,n.clientY);s=document.createRange(),s.setStart(a.offsetNode,a.offset),s.setEnd(a.offsetNode,a.offset)}const i=s&&t.selection.normalizeNative(s);if(i){const a=t.selection.normalizedToRange(i);(o=n.dataTransfer)!=null&&o.files&&this.upload(a,n.dataTransfer.files)}})}upload(t,r){const n=[];Array.from(r).forEach(s=>{var i;s&&((i=this.options.mimetypes)!=null&&i.includes(s.type))&&n.push(s)}),n.length>0&&this.options.handler.call(this,t,n)}}l7.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(e,t){if(!this.quill.scroll.query("image"))return;const r=t.map(n=>new Promise(s=>{const i=new FileReader;i.onload=()=>{s(i.result)},i.readAsDataURL(n)}));Promise.all(r).then(n=>{const s=n.reduce((i,o)=>i.insert({image:o}),new Pe().retain(e.index).delete(e.length));this.quill.updateContents(s,Ce.sources.USER),this.quill.setSelection(e.index+n.length,Ce.sources.SILENT)})}};const pPe=["insertText","insertReplacementText"];class mPe extends mi{constructor(t,r){super(t,r),t.root.addEventListener("beforeinput",n=>{this.handleBeforeInput(n)}),/Android/i.test(navigator.userAgent)||t.on(le.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(t){Nk({range:t,quill:this.quill})}replaceText(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(t.length===0)return!1;if(r){const n=this.quill.getFormat(t.index,1);this.deleteRange(t),this.quill.updateContents(new Pe().retain(t.index).insert(r,n),le.sources.USER)}else this.deleteRange(t);return this.quill.setSelection(t.index+r.length,0,le.sources.SILENT),!0}handleBeforeInput(t){if(this.quill.composition.isComposing||t.defaultPrevented||!pPe.includes(t.inputType))return;const r=t.getTargetRanges?t.getTargetRanges()[0]:null;if(!r||r.collapsed===!0)return;const n=gPe(t);if(n==null)return;const s=this.quill.selection.normalizeNative(r),i=s?this.quill.selection.normalizedToRange(s):null;i&&this.replaceText(i,n)&&t.preventDefault()}handleCompositionStart(){const t=this.quill.getSelection();t&&this.replaceText(t)}}function gPe(e){var t;return typeof e.data=="string"?e.data:(t=e.dataTransfer)!=null&&t.types.includes("text/plain")?e.dataTransfer.getData("text/plain"):null}const yPe=/Mac/i.test(navigator.platform),vPe=100,bPe=e=>!!(e.key==="ArrowLeft"||e.key==="ArrowRight"||e.key==="ArrowUp"||e.key==="ArrowDown"||e.key==="Home"||yPe&&e.key==="a"&&e.ctrlKey===!0);class xPe extends mi{constructor(r,n){super(r,n);_e(this,"isListening",!1);_e(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(r,n){let{line:s,event:i}=n;if(!(s instanceof ri)||!s.uiNode)return!0;const o=getComputedStyle(s.domNode).direction==="rtl";return o&&i.key!=="ArrowRight"||!o&&i.key!=="ArrowLeft"?!0:(this.quill.setSelection(r.index-1,r.length+(i.shiftKey?1:0),le.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",r=>{!r.defaultPrevented&&bPe(r)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+vPe,this.isListening)return;this.isListening=!0;const r=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",r,{once:!0})}handleSelectionChange(){const r=document.getSelection();if(!r)return;const n=r.getRangeAt(0);if(n.collapsed!==!0||n.startOffset!==0)return;const s=this.quill.scroll.find(n.startContainer);if(!(s instanceof ri)||!s.uiNode)return;const i=document.createRange();i.setStartAfter(s.uiNode),i.setEndAfter(s.uiNode),r.removeAllRanges(),r.addRange(i)}}le.register({"blots/block":Hr,"blots/block/embed":xs,"blots/break":pi,"blots/container":vc,"blots/cursor":td,"blots/embed":xk,"blots/inline":Vi,"blots/scroll":Wc,"blots/text":li,"modules/clipboard":i7,"modules/history":a7,"modules/keyboard":wb,"modules/uploader":l7,"modules/input":mPe,"modules/uiNode":xPe});class wPe extends hi{add(t,r){let n=0;if(r==="+1"||r==="-1"){const s=this.value(t)||0;n=r==="+1"?s+1:s-1}else typeof r=="number"&&(n=r);return n===0?(this.remove(t),!0):super.add(t,n.toString())}canAdd(t,r){return super.canAdd(t,r)||super.canAdd(t,parseInt(r,10))}value(t){return parseInt(super.value(t),10)||void 0}}const _Pe=new wPe("indent","ql-indent",{scope:Oe.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class P_ extends Hr{}_e(P_,"blotName","blockquote"),_e(P_,"tagName","blockquote");class O_ extends Hr{static formats(t){return this.tagName.indexOf(t.tagName)+1}}_e(O_,"blotName","header"),_e(O_,"tagName",["H1","H2","H3","H4","H5","H6"]);class xp extends vc{}xp.blotName="list-container";xp.tagName="OL";class wp extends Hr{static create(t){const r=super.create();return r.setAttribute("data-list",t),r}static formats(t){return t.getAttribute("data-list")||void 0}static register(){le.register(xp)}constructor(t,r){super(t,r);const n=r.ownerDocument.createElement("span"),s=i=>{if(!t.isEnabled())return;const o=this.statics.formats(r,t);o==="checked"?(this.format("list","unchecked"),i.preventDefault()):o==="unchecked"&&(this.format("list","checked"),i.preventDefault())};n.addEventListener("mousedown",s),n.addEventListener("touchstart",s),this.attachUI(n)}format(t,r){t===this.statics.blotName&&r?this.domNode.setAttribute("data-list",r):super.format(t,r)}}wp.blotName="list";wp.tagName="LI";xp.allowedChildren=[wp];wp.requiredContainer=xp;class Oh extends Vi{static create(){return super.create()}static formats(){return!0}optimize(t){super.optimize(t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}_e(Oh,"blotName","bold"),_e(Oh,"tagName",["STRONG","B"]);class D_ extends Oh{}_e(D_,"blotName","italic"),_e(D_,"tagName",["EM","I"]);class Pa extends Vi{static create(t){const r=super.create(t);return r.setAttribute("href",this.sanitize(t)),r.setAttribute("rel","noopener noreferrer"),r.setAttribute("target","_blank"),r}static formats(t){return t.getAttribute("href")}static sanitize(t){return c7(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}format(t,r){t!==this.statics.blotName||!r?super.format(t,r):this.domNode.setAttribute("href",this.constructor.sanitize(r))}}_e(Pa,"blotName","link"),_e(Pa,"tagName","A"),_e(Pa,"SANITIZED_URL","about:blank"),_e(Pa,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function c7(e,t){const r=document.createElement("a");r.href=e;const n=r.href.slice(0,r.href.indexOf(":"));return t.indexOf(n)>-1}class R_ extends Vi{static create(t){return t==="super"?document.createElement("sup"):t==="sub"?document.createElement("sub"):super.create(t)}static formats(t){if(t.tagName==="SUB")return"sub";if(t.tagName==="SUP")return"super"}}_e(R_,"blotName","script"),_e(R_,"tagName",["SUB","SUP"]);class $_ extends Oh{}_e($_,"blotName","strike"),_e($_,"tagName",["S","STRIKE"]);class I_ extends Vi{}_e(I_,"blotName","underline"),_e(I_,"tagName","U");class ng extends xk{static create(t){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const r=super.create(t);return typeof t=="string"&&(window.katex.render(t,r,{throwOnError:!1,errorColor:"#f00"}),r.setAttribute("data-value",t)),r}static value(t){return t.getAttribute("data-value")}html(){const{formula:t}=this.value();return`<span>${t}</span>`}}_e(ng,"blotName","formula"),_e(ng,"className","ql-formula"),_e(ng,"tagName","SPAN");const AR=["alt","height","width"];class M_ extends rs{static create(t){const r=super.create(t);return typeof t=="string"&&r.setAttribute("src",this.sanitize(t)),r}static formats(t){return AR.reduce((r,n)=>(t.hasAttribute(n)&&(r[n]=t.getAttribute(n)),r),{})}static match(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}static sanitize(t){return c7(t,["http","https","data"])?t:"//:0"}static value(t){return t.getAttribute("src")}format(t,r){AR.indexOf(t)>-1?r?this.domNode.setAttribute(t,r):this.domNode.removeAttribute(t):super.format(t,r)}}_e(M_,"blotName","image"),_e(M_,"tagName","IMG");const PR=["height","width"];class sg extends xs{static create(t){const r=super.create(t);return r.setAttribute("frameborder","0"),r.setAttribute("allowfullscreen","true"),r.setAttribute("src",this.sanitize(t)),r}static formats(t){return PR.reduce((r,n)=>(t.hasAttribute(n)&&(r[n]=t.getAttribute(n)),r),{})}static sanitize(t){return Pa.sanitize(t)}static value(t){return t.getAttribute("src")}format(t,r){PR.indexOf(t)>-1?r?this.domNode.setAttribute(t,r):this.domNode.removeAttribute(t):super.format(t,r)}html(){const{video:t}=this.value();return`<a href="${t}">${t}</a>`}}_e(sg,"blotName","video"),_e(sg,"className","ql-video"),_e(sg,"tagName","IFRAME");const wf=new hi("code-token","hljs",{scope:Oe.INLINE});class Fo extends Vi{static formats(t,r){for(;t!=null&&t!==r.domNode;){if(t.classList&&t.classList.contains(cn.className))return super.formats(t,r);t=t.parentNode}}constructor(t,r,n){super(t,r,n),wf.add(this.domNode,n)}format(t,r){t!==Fo.blotName?super.format(t,r):r?wf.add(this.domNode,r):(wf.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),wf.value(this.domNode)||this.unwrap()}}Fo.blotName="code-token";Fo.className="ql-token";class vs extends cn{static create(t){const r=super.create(t);return typeof t=="string"&&r.setAttribute("data-language",t),r}static formats(t){return t.getAttribute("data-language")||"plain"}static register(){}format(t,r){t===this.statics.blotName&&r?this.domNode.setAttribute("data-language",r):super.format(t,r)}replaceWith(t,r){return this.formatAt(0,this.length(),Fo.blotName,!1),super.replaceWith(t,r)}}class qf extends bc{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(t,r){t===vs.blotName&&(this.forceNext=!0,this.children.forEach(n=>{n.format(t,r)}))}formatAt(t,r,n,s){n===vs.blotName&&(this.forceNext=!0),super.formatAt(t,r,n,s)}highlight(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const s=`${Array.from(this.domNode.childNodes).filter(o=>o!==this.uiNode).map(o=>o.textContent).join(`
`)}
`,i=vs.formats(this.children.head.domNode);if(r||this.forceNext||this.cachedText!==s){if(s.trim().length>0||this.cachedText==null){const o=this.children.reduce((l,c)=>l.concat(KU(c,!1)),new Pe),a=t(s,i);o.diff(a).reduce((l,c)=>{let{retain:d,attributes:f}=c;return d?(f&&Object.keys(f).forEach(h=>{[vs.blotName,Fo.blotName].includes(h)&&this.formatAt(l,d,h,f[h])}),l+d):l},0)}this.cachedText=s,this.forceNext=!1}}html(t,r){const[n]=this.children.find(t);return`<pre data-language="${n?vs.formats(n.domNode):"plain"}">
${xb(this.code(t,r))}
</pre>`}optimize(t){if(super.optimize(t),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const r=vs.formats(this.children.head.domNode);r!==this.uiNode.value&&(this.uiNode.value=r)}}}qf.allowedChildren=[vs];vs.requiredContainer=qf;vs.allowedChildren=[Fo,td,li,pi];const SPe=(e,t,r)=>{if(typeof e.versionString=="string"){const n=e.versionString.split(".")[0];if(parseInt(n,10)>=11)return e.highlight(r,{language:t}).value}return e.highlight(t,r).value};class u7 extends mi{static register(){le.register(Fo,!0),le.register(vs,!0),le.register(qf,!0)}constructor(t,r){if(super(t,r),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((n,s)=>{let{key:i}=s;return n[i]=!0,n},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(le.events.SCROLL_BLOT_MOUNT,t=>{if(!(t instanceof qf))return;const r=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(n=>{let{key:s,label:i}=n;const o=r.ownerDocument.createElement("option");o.textContent=i,o.setAttribute("value",s),r.appendChild(o)}),r.addEventListener("change",()=>{t.format(vs.blotName,r.value),this.quill.root.focus(),this.highlight(t,!0)}),t.uiNode==null&&(t.attachUI(r),t.children.head&&(r.value=vs.formats(t.children.head.domNode)))})}initTimer(){let t=null;this.quill.on(le.events.SCROLL_OPTIMIZE,()=>{t&&clearTimeout(t),t=setTimeout(()=>{this.highlight(),t=null},this.options.interval)})}highlight(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(le.sources.USER);const n=this.quill.getSelection();(t==null?this.quill.scroll.descendants(qf):[t]).forEach(i=>{i.highlight(this.highlightBlot,r)}),this.quill.update(le.sources.SILENT),n!=null&&this.quill.setSelection(n,le.sources.SILENT)}highlightBlot(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(r=this.languages[r]?r:"plain",r==="plain")return xb(t).split(`
`).reduce((s,i,o)=>(o!==0&&s.insert(`
`,{[cn.blotName]:r}),s.insert(i)),new Pe);const n=this.quill.root.ownerDocument.createElement("div");return n.classList.add(cn.className),n.innerHTML=SPe(this.options.hljs,r,t),kk(this.quill.scroll,n,[(s,i)=>{const o=wf.value(s);return o?i.compose(new Pe().retain(i.length(),{[Fo.blotName]:o})):i}],[(s,i)=>s.data.split(`
`).reduce((o,a,l)=>(l!==0&&o.insert(`
`,{[cn.blotName]:r}),o.insert(a)),i)],new WeakMap)}}u7.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const Zf=class Zf extends Hr{static create(t){const r=super.create();return t?r.setAttribute("data-row",t):r.setAttribute("data-row",Ck()),r}static formats(t){if(t.hasAttribute("data-row"))return t.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(t,r){t===Zf.blotName&&r?this.domNode.setAttribute("data-row",r):super.format(t,r)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};_e(Zf,"blotName","table"),_e(Zf,"tagName","TD");let ei=Zf;class Bo extends vc{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const t=this.children.head.formats(),r=this.children.tail.formats(),n=this.next.children.head.formats(),s=this.next.children.tail.formats();return t.table===r.table&&t.table===n.table&&t.table===s.table}return!1}optimize(t){super.optimize(t),this.children.forEach(r=>{if(r.next==null)return;const n=r.formats(),s=r.next.formats();if(n.table!==s.table){const i=this.splitAfter(r);i&&i.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}_e(Bo,"blotName","table-row"),_e(Bo,"tagName","TR");class Ii extends vc{}_e(Ii,"blotName","table-body"),_e(Ii,"tagName","TBODY");class nd extends vc{balanceCells(){const t=this.descendants(Bo),r=t.reduce((n,s)=>Math.max(s.children.length,n),0);t.forEach(n=>{new Array(r-n.children.length).fill(0).forEach(()=>{let s;n.children.head!=null&&(s=ei.formats(n.children.head.domNode));const i=this.scroll.create(ei.blotName,s);n.appendChild(i),i.optimize()})})}cells(t){return this.rows().map(r=>r.children.at(t))}deleteColumn(t){const[r]=this.descendant(Ii);r==null||r.children.head==null||r.children.forEach(n=>{const s=n.children.at(t);s!=null&&s.remove()})}insertColumn(t){const[r]=this.descendant(Ii);r==null||r.children.head==null||r.children.forEach(n=>{const s=n.children.at(t),i=ei.formats(n.children.head.domNode),o=this.scroll.create(ei.blotName,i);n.insertBefore(o,s)})}insertRow(t){const[r]=this.descendant(Ii);if(r==null||r.children.head==null)return;const n=Ck(),s=this.scroll.create(Bo.blotName);r.children.head.children.forEach(()=>{const o=this.scroll.create(ei.blotName,n);s.appendChild(o)});const i=r.children.at(t);r.insertBefore(s,i)}rows(){const t=this.children.head;return t==null?[]:t.children.map(r=>r)}}_e(nd,"blotName","table-container"),_e(nd,"tagName","TABLE");nd.allowedChildren=[Ii];Ii.requiredContainer=nd;Ii.allowedChildren=[Bo];Bo.requiredContainer=Ii;Bo.allowedChildren=[ei];ei.requiredContainer=Bo;function Ck(){return`row-${Math.random().toString(36).slice(2,6)}`}class EPe extends mi{static register(){le.register(ei),le.register(Bo),le.register(Ii),le.register(nd)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(nd).forEach(t=>{t.balanceCells()})}deleteColumn(){const[t,,r]=this.getTable();r!=null&&(t.deleteColumn(r.cellOffset()),this.quill.update(le.sources.USER))}deleteRow(){const[,t]=this.getTable();t!=null&&(t.remove(),this.quill.update(le.sources.USER))}deleteTable(){const[t]=this.getTable();if(t==null)return;const r=t.offset();t.remove(),this.quill.update(le.sources.USER),this.quill.setSelection(r,le.sources.SILENT)}getTable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(t==null)return[null,null,null,-1];const[r,n]=this.quill.getLine(t.index);if(r==null||r.statics.blotName!==ei.blotName)return[null,null,null,-1];const s=r.parent;return[s.parent.parent,s,r,n]}insertColumn(t){const r=this.quill.getSelection();if(!r)return;const[n,s,i]=this.getTable(r);if(i==null)return;const o=i.cellOffset();n.insertColumn(o+t),this.quill.update(le.sources.USER);let a=s.rowOffset();t===0&&(a+=1),this.quill.setSelection(r.index+a,r.length,le.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(t){const r=this.quill.getSelection();if(!r)return;const[n,s,i]=this.getTable(r);if(i==null)return;const o=s.rowOffset();n.insertRow(o+t),this.quill.update(le.sources.USER),t>0?this.quill.setSelection(r,le.sources.SILENT):this.quill.setSelection(r.index+s.children.length,r.length,le.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(t,r){const n=this.quill.getSelection();if(n==null)return;const s=new Array(t).fill(0).reduce(i=>{const o=new Array(r).fill(`
`).join("");return i.insert(o,{table:Ck()})},new Pe().retain(n.index));this.quill.updateContents(s,le.sources.USER),this.quill.setSelection(n.index,le.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(le.events.SCROLL_OPTIMIZE,t=>{t.some(r=>["TD","TR","TBODY","TABLE"].includes(r.target.tagName)?(this.quill.once(le.events.TEXT_CHANGE,(n,s,i)=>{i===le.sources.USER&&this.balanceTables()}),!0):!1)})}}const OR=Zo("quill:toolbar");class Tk extends mi{constructor(t,r){var n,s;if(super(t,r),Array.isArray(this.options.container)){const i=document.createElement("div");i.setAttribute("role","toolbar"),jPe(i,this.options.container),(s=(n=t.container)==null?void 0:n.parentNode)==null||s.insertBefore(i,t.container),this.container=i}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){OR.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(i=>{var a;const o=(a=this.options.handlers)==null?void 0:a[i];o&&this.addHandler(i,o)}),Array.from(this.container.querySelectorAll("button, select")).forEach(i=>{this.attach(i)}),this.quill.on(le.events.EDITOR_CHANGE,()=>{const[i]=this.quill.selection.getRange();this.update(i)})}addHandler(t,r){this.handlers[t]=r}attach(t){let r=Array.from(t.classList).find(s=>s.indexOf("ql-")===0);if(!r)return;if(r=r.slice(3),t.tagName==="BUTTON"&&t.setAttribute("type","button"),this.handlers[r]==null&&this.quill.scroll.query(r)==null){OR.warn("ignoring attaching to nonexistent format",r,t);return}const n=t.tagName==="SELECT"?"change":"click";t.addEventListener(n,s=>{let i;if(t.tagName==="SELECT"){if(t.selectedIndex<0)return;const a=t.options[t.selectedIndex];a.hasAttribute("selected")?i=!1:i=a.value||!1}else t.classList.contains("ql-active")?i=!1:i=t.value||!t.hasAttribute("value"),s.preventDefault();this.quill.focus();const[o]=this.quill.selection.getRange();if(this.handlers[r]!=null)this.handlers[r].call(this,i);else if(this.quill.scroll.query(r).prototype instanceof rs){if(i=prompt(`Enter ${r}`),!i)return;this.quill.updateContents(new Pe().retain(o.index).delete(o.length).insert({[r]:i}),le.sources.USER)}else this.quill.format(r,i,le.sources.USER);this.update(o)}),this.controls.push([r,t])}update(t){const r=t==null?{}:this.quill.getFormat(t);this.controls.forEach(n=>{const[s,i]=n;if(i.tagName==="SELECT"){let o=null;if(t==null)o=null;else if(r[s]==null)o=i.querySelector("option[selected]");else if(!Array.isArray(r[s])){let a=r[s];typeof a=="string"&&(a=a.replace(/"/g,'\\"')),o=i.querySelector(`option[value="${a}"]`)}o==null?(i.value="",i.selectedIndex=-1):o.selected=!0}else if(t==null)i.classList.remove("ql-active"),i.setAttribute("aria-pressed","false");else if(i.hasAttribute("value")){const o=r[s],a=o===i.getAttribute("value")||o!=null&&o.toString()===i.getAttribute("value")||o==null&&!i.getAttribute("value");i.classList.toggle("ql-active",a),i.setAttribute("aria-pressed",a.toString())}else{const o=r[s]!=null;i.classList.toggle("ql-active",o),i.setAttribute("aria-pressed",o.toString())}})}}Tk.DEFAULTS={};function DR(e,t,r){const n=document.createElement("button");n.setAttribute("type","button"),n.classList.add(`ql-${t}`),n.setAttribute("aria-pressed","false"),r!=null?(n.value=r,n.setAttribute("aria-label",`${t}: ${r}`)):n.setAttribute("aria-label",t),e.appendChild(n)}function jPe(e,t){Array.isArray(t[0])||(t=[t]),t.forEach(r=>{const n=document.createElement("span");n.classList.add("ql-formats"),r.forEach(s=>{if(typeof s=="string")DR(n,s);else{const i=Object.keys(s)[0],o=s[i];Array.isArray(o)?NPe(n,i,o):DR(n,i,o)}}),e.appendChild(n)})}function NPe(e,t,r){const n=document.createElement("select");n.classList.add(`ql-${t}`),r.forEach(s=>{const i=document.createElement("option");s!==!1?i.setAttribute("value",String(s)):i.setAttribute("selected","selected"),n.appendChild(i)}),e.appendChild(n)}Tk.DEFAULTS={container:null,handlers:{clean(){const e=this.quill.getSelection();if(e!=null)if(e.length===0){const t=this.quill.getFormat();Object.keys(t).forEach(r=>{this.quill.scroll.query(r,Oe.INLINE)!=null&&this.quill.format(r,!1,le.sources.USER)})}else this.quill.removeFormat(e.index,e.length,le.sources.USER)},direction(e){const{align:t}=this.quill.getFormat();e==="rtl"&&t==null?this.quill.format("align","right",le.sources.USER):!e&&t==="right"&&this.quill.format("align",!1,le.sources.USER),this.quill.format("direction",e,le.sources.USER)},indent(e){const t=this.quill.getSelection(),r=this.quill.getFormat(t),n=parseInt(r.indent||0,10);if(e==="+1"||e==="-1"){let s=e==="+1"?1:-1;r.direction==="rtl"&&(s*=-1),this.quill.format("indent",n+s,le.sources.USER)}},link(e){e===!0&&(e=prompt("Enter link URL:")),this.quill.format("link",e,le.sources.USER)},list(e){const t=this.quill.getSelection(),r=this.quill.getFormat(t);e==="check"?r.list==="checked"||r.list==="unchecked"?this.quill.format("list",!1,le.sources.USER):this.quill.format("list","unchecked",le.sources.USER):this.quill.format("list",e,le.sources.USER)}}};const kPe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',CPe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',TPe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',APe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',PPe='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',OPe='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',DPe='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',RPe='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',RR='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',$Pe='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',IPe='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',MPe='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',LPe='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',FPe='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',BPe='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',zPe='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',UPe='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',qPe='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',VPe='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',WPe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',KPe='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',HPe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',YPe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',GPe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',ZPe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',XPe='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',JPe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',QPe='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',eOe='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',tOe='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',rOe='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',nOe='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',sOe='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',Dh={align:{"":kPe,center:CPe,right:TPe,justify:APe},background:PPe,blockquote:OPe,bold:DPe,clean:RPe,code:RR,"code-block":RR,color:$Pe,direction:{"":IPe,rtl:MPe},formula:LPe,header:{1:FPe,2:BPe,3:zPe,4:UPe,5:qPe,6:VPe},italic:WPe,image:KPe,indent:{"+1":HPe,"-1":YPe},link:GPe,list:{bullet:ZPe,check:XPe,ordered:JPe},script:{sub:QPe,super:eOe},strike:tOe,table:rOe,underline:nOe,video:sOe},iOe='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let $R=0;function IR(e,t){e.setAttribute(t,`${e.getAttribute(t)!=="true"}`)}class _b{constructor(t){this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",r=>{switch(r.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),r.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),IR(this.label,"aria-expanded"),IR(this.options,"aria-hidden")}buildItem(t){const r=document.createElement("span");r.tabIndex="0",r.setAttribute("role","button"),r.classList.add("ql-picker-item");const n=t.getAttribute("value");return n&&r.setAttribute("data-value",n),t.textContent&&r.setAttribute("data-label",t.textContent),r.addEventListener("click",()=>{this.selectItem(r,!0)}),r.addEventListener("keydown",s=>{switch(s.key){case"Enter":this.selectItem(r,!0),s.preventDefault();break;case"Escape":this.escape(),s.preventDefault();break}}),r}buildLabel(){const t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML=iOe,t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}buildOptions(){const t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id=`ql-picker-options-${$R}`,$R+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,Array.from(this.select.options).forEach(r=>{const n=this.buildItem(r);t.appendChild(n),r.selected===!0&&this.selectItem(n)}),this.container.appendChild(t)}buildPicker(){Array.from(this.select.attributes).forEach(t=>{this.container.setAttribute(t.name,t.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.container.querySelector(".ql-selected");t!==n&&(n!=null&&n.classList.remove("ql-selected"),t!=null&&(t.classList.add("ql-selected"),this.select.selectedIndex=Array.from(t.parentNode.children).indexOf(t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),r&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let t;if(this.select.selectedIndex>-1){const n=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(n)}else this.selectItem(null);const r=t!=null&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",r)}}class d7 extends _b{constructor(t,r){super(t),this.label.innerHTML=r,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(n=>{n.classList.add("ql-primary")})}buildItem(t){const r=super.buildItem(t);return r.style.backgroundColor=t.getAttribute("value")||"",r}selectItem(t,r){super.selectItem(t,r);const n=this.label.querySelector(".ql-color-label"),s=t&&t.getAttribute("data-value")||"";n&&(n.tagName==="line"?n.style.stroke=s:n.style.fill=s)}}class f7 extends _b{constructor(t,r){super(t),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(n=>{n.innerHTML=r[n.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(t,r){super.selectItem(t,r);const n=t||this.defaultItem;if(n!=null){if(this.label.innerHTML===n.innerHTML)return;this.label.innerHTML=n.innerHTML}}}const oOe=e=>{const{overflowY:t}=getComputedStyle(e,null);return t!=="visible"&&t!=="clip"};class h7{constructor(t,r){this.quill=t,this.boundsContainer=r||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,oOe(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(t){const r=t.left+t.width/2-this.root.offsetWidth/2,n=t.bottom+this.quill.root.scrollTop;this.root.style.left=`${r}px`,this.root.style.top=`${n}px`,this.root.classList.remove("ql-flip");const s=this.boundsContainer.getBoundingClientRect(),i=this.root.getBoundingClientRect();let o=0;if(i.right>s.right&&(o=s.right-i.right,this.root.style.left=`${r+o}px`),i.left<s.left&&(o=s.left-i.left,this.root.style.left=`${r+o}px`),i.bottom>s.bottom){const a=i.bottom-i.top,l=t.bottom-t.top+a;this.root.style.top=`${n-l}px`,this.root.classList.add("ql-flip")}return o}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const aOe=[!1,"center","right","justify"],lOe=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],cOe=[!1,"serif","monospace"],uOe=["1","2","3",!1],dOe=["small",!1,"large","huge"];class _p extends rd{constructor(t,r){super(t,r);const n=s=>{if(!document.body.contains(t.root)){document.body.removeEventListener("click",n);return}this.tooltip!=null&&!this.tooltip.root.contains(s.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(i=>{i.container.contains(s.target)||i.close()})};t.emitter.listenDOM("click",document.body,n)}addModule(t){const r=super.addModule(t);return t==="toolbar"&&this.extendToolbar(r),r}buildButtons(t,r){Array.from(t).forEach(n=>{(n.getAttribute("class")||"").split(/\s+/).forEach(i=>{if(i.startsWith("ql-")&&(i=i.slice(3),r[i]!=null))if(i==="direction")n.innerHTML=r[i][""]+r[i].rtl;else if(typeof r[i]=="string")n.innerHTML=r[i];else{const o=n.value||"";o!=null&&r[i][o]&&(n.innerHTML=r[i][o])}})})}buildPickers(t,r){this.pickers=Array.from(t).map(s=>{if(s.classList.contains("ql-align")&&(s.querySelector("option")==null&&uf(s,aOe),typeof r.align=="object"))return new f7(s,r.align);if(s.classList.contains("ql-background")||s.classList.contains("ql-color")){const i=s.classList.contains("ql-background")?"background":"color";return s.querySelector("option")==null&&uf(s,lOe,i==="background"?"#ffffff":"#000000"),new d7(s,r[i])}return s.querySelector("option")==null&&(s.classList.contains("ql-font")?uf(s,cOe):s.classList.contains("ql-header")?uf(s,uOe):s.classList.contains("ql-size")&&uf(s,dOe)),new _b(s)});const n=()=>{this.pickers.forEach(s=>{s.update()})};this.quill.on(Ce.events.EDITOR_CHANGE,n)}}_p.DEFAULTS=$a({},rd.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let e=this.container.querySelector("input.ql-image[type=file]");e==null&&(e=document.createElement("input"),e.setAttribute("type","file"),e.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),e.classList.add("ql-image"),e.addEventListener("change",()=>{const t=this.quill.getSelection(!0);this.quill.uploader.upload(t,e.files),e.value=""}),this.container.appendChild(e)),e.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class p7 extends h7{constructor(t,r){super(t,r),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",t=>{t.key==="Enter"?(this.save(),t.preventDefault()):t.key==="Escape"&&(this.cancel(),t.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;r!=null?this.textbox.value=r:t!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const n=this.quill.getBounds(this.quill.selection.savedRange);n!=null&&this.position(n),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${t}`)||""),this.root.setAttribute("data-mode",t)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:t}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:r}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",t,Ce.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",t,Ce.sources.USER)),this.quill.root.scrollTop=r;break}case"video":t=fOe(t);case"formula":{if(!t)break;const r=this.quill.getSelection(!0);if(r!=null){const n=r.index+r.length;this.quill.insertEmbed(n,this.root.getAttribute("data-mode"),t,Ce.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(n+1," ",Ce.sources.USER),this.quill.setSelection(n+2,Ce.sources.USER)}break}}this.textbox.value="",this.hide()}}function fOe(e){let t=e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return t?`${t[1]||"https"}://www.youtube.com/embed/${t[2]}?showinfo=0`:(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${t[1]||"https"}://player.vimeo.com/video/${t[2]}/`:e}function uf(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;t.forEach(n=>{const s=document.createElement("option");n===r?s.setAttribute("selected","selected"):s.setAttribute("value",String(n)),e.appendChild(s)})}const hOe=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class m7 extends p7{constructor(t,r){super(t,r),this.quill.on(Ce.events.EDITOR_CHANGE,(n,s,i,o)=>{if(n===Ce.events.SELECTION_CHANGE)if(s!=null&&s.length>0&&o===Ce.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const a=this.quill.getLines(s.index,s.length);if(a.length===1){const l=this.quill.getBounds(s);l!=null&&this.position(l)}else{const l=a[a.length-1],c=this.quill.getIndex(l),d=Math.min(l.length()-1,s.index+s.length-c),f=this.quill.getBounds(new nc(c,d));f!=null&&this.position(f)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(Ce.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const t=this.quill.getSelection();if(t!=null){const r=this.quill.getBounds(t);r!=null&&this.position(r)}},1)})}cancel(){this.show()}position(t){const r=super.position(t),n=this.root.querySelector(".ql-tooltip-arrow");return n.style.marginLeft="",r!==0&&(n.style.marginLeft=`${-1*r-n.offsetWidth/2}px`),r}}_e(m7,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class g7 extends _p{constructor(t,r){r.modules.toolbar!=null&&r.modules.toolbar.container==null&&(r.modules.toolbar.container=hOe),super(t,r),this.quill.container.classList.add("ql-bubble")}extendToolbar(t){this.tooltip=new m7(this.quill,this.options.bounds),t.container!=null&&(this.tooltip.root.appendChild(t.container),this.buildButtons(t.container.querySelectorAll("button"),Dh),this.buildPickers(t.container.querySelectorAll("select"),Dh))}}g7.DEFAULTS=$a({},_p.DEFAULTS,{modules:{toolbar:{handlers:{link(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1,le.sources.USER)}}}}});const pOe=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class y7 extends p7{constructor(){super(...arguments);_e(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",r=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),r.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",r=>{if(this.linkRange!=null){const n=this.linkRange;this.restoreFocus(),this.quill.formatText(n,"link",!1,Ce.sources.USER),delete this.linkRange}r.preventDefault(),this.hide()}),this.quill.on(Ce.events.SELECTION_CHANGE,(r,n,s)=>{if(r!=null){if(r.length===0&&s===Ce.sources.USER){const[i,o]=this.quill.scroll.descendant(Pa,r.index);if(i!=null){this.linkRange=new nc(r.index-o,i.length());const a=Pa.formats(i.domNode);this.preview.textContent=a,this.preview.setAttribute("href",a),this.show();const l=this.quill.getBounds(this.linkRange);l!=null&&this.position(l);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}_e(y7,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class v7 extends _p{constructor(t,r){r.modules.toolbar!=null&&r.modules.toolbar.container==null&&(r.modules.toolbar.container=pOe),super(t,r),this.quill.container.classList.add("ql-snow")}extendToolbar(t){t.container!=null&&(t.container.classList.add("ql-snow"),this.buildButtons(t.container.querySelectorAll("button"),Dh),this.buildPickers(t.container.querySelectorAll("select"),Dh),this.tooltip=new y7(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(r,n)=>{t.handlers.link.call(t,!n.format.link)}))}}v7.DEFAULTS=$a({},_p.DEFAULTS,{modules:{toolbar:{handlers:{link(e){if(e){const t=this.quill.getSelection();if(t==null||t.length===0)return;let r=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(r)&&r.indexOf("mailto:")!==0&&(r=`mailto:${r}`);const{tooltip:n}=this.quill.theme;n.edit("link",r)}else this.quill.format("link",!1,le.sources.USER)}}}}});le.register({"attributors/attribute/direction":XU,"attributors/class/align":YU,"attributors/class/background":OAe,"attributors/class/color":PAe,"attributors/class/direction":JU,"attributors/class/font":t7,"attributors/class/size":n7,"attributors/style/align":GU,"attributors/style/background":Sk,"attributors/style/color":_k,"attributors/style/direction":QU,"attributors/style/font":r7,"attributors/style/size":s7},!0);le.register({"formats/align":YU,"formats/direction":JU,"formats/indent":_Pe,"formats/background":Sk,"formats/color":_k,"formats/font":t7,"formats/size":n7,"formats/blockquote":P_,"formats/code-block":cn,"formats/header":O_,"formats/list":wp,"formats/bold":Oh,"formats/code":Ek,"formats/italic":D_,"formats/link":Pa,"formats/script":R_,"formats/strike":$_,"formats/underline":I_,"formats/formula":ng,"formats/image":M_,"formats/video":sg,"modules/syntax":u7,"modules/table":EPe,"modules/toolbar":Tk,"themes/bubble":g7,"themes/snow":v7,"ui/icons":Dh,"ui/picker":_b,"ui/icon-picker":f7,"ui/color-picker":d7,"ui/tooltip":h7},!0);class Sp extends w.Component{constructor(t){super(t),this.editingAreaRef=w.createRef(),this.containerRef=w.createRef(),this.dirtyProps=["modules","formats","bounds","theme","children"],this.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],this.state={generation:0},this.selection=null,this.onEditorChange=(n,s,i,o)=>{var a,l;n==="text-change"?(a=this.onEditorChangeText)==null||a.call(this,this.editor.root.innerHTML,s,o,this.unprivilegedEditor):n==="selection-change"&&((l=this.onEditorChangeSelection)==null||l.call(this,s,o,this.unprivilegedEditor))};const r=this.isControlled()?t.value:t.defaultValue;this.value=r??""}validateProps(t){if(w.Children.count(t.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(w.Children.count(t.children)){const r=w.Children.only(t.children);if((r==null?void 0:r.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&t.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")}shouldComponentUpdate(t,r){if(this.validateProps(t),!this.editor||this.state.generation!==r.generation)return!0;if("value"in t){const n=this.getEditorContents(),s=t.value??"";this.isEqualValue(s,n)||this.setEditorContents(this.editor,s)}return t.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,t.readOnly),[...this.cleanProps,...this.dirtyProps].some(n=>!Sa(t[n],this.props[n]))}shouldComponentRegenerate(t){return this.dirtyProps.some(r=>!Sa(t[r],this.props[r]))}componentDidMount(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())}componentWillUnmount(){this.destroyEditor()}componentDidUpdate(t,r){if(this.editor&&this.shouldComponentRegenerate(t)){const n=this.editor.getContents(),s=this.editor.getSelection();this.regenerationSnapshot={delta:n,selection:s},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==r.generation){const{delta:n,selection:s}=this.regenerationSnapshot;delete this.regenerationSnapshot,this.instantiateEditor();const i=this.editor;i.setContents(n),MR(()=>this.setEditorSelection(i,s))}}instantiateEditor(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())}destroyEditor(){var n,s;if(!this.editor)return;this.unhookEditor(this.editor);const t=(n=this.props.modules)==null?void 0:n.toolbar;if(!(typeof t=="object"&&t&&"container"in t&&typeof t.container=="string"||typeof t=="string")){const i=(s=this.containerRef.current)==null?void 0:s.querySelector(".ql-toolbar");i&&i.remove()}delete this.editor}isControlled(){return"value"in this.props}getEditorConfig(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,tabIndex:this.props.tabIndex,theme:this.props.theme}}getEditor(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor}createEditor(t,r){const n=new le(t,r);return r.tabIndex!=null&&this.setEditorTabIndex(n,r.tabIndex),this.hookEditor(n),n}hookEditor(t){this.unprivilegedEditor=this.makeUnprivilegedEditor(t),t.on("editor-change",this.onEditorChange)}unhookEditor(t){t.off("editor-change",this.onEditorChange)}getEditorContents(){return this.value}getEditorSelection(){return this.selection}isDelta(t){return t&&t.ops}isEqualValue(t,r){return this.isDelta(t)&&this.isDelta(r)?Sa(t.ops,r.ops):Sa(t,r)}setEditorContents(t,r){this.value=r;const n=this.getEditorSelection();typeof r=="string"?t.setContents(t.clipboard.convert({html:r})):t.setContents(r),MR(()=>this.setEditorSelection(t,n))}setEditorSelection(t,r){if(this.selection=r,r){const n=t.getLength();r.index=Math.max(0,Math.min(r.index,n-1)),r.length=Math.max(0,Math.min(r.length,n-1-r.index)),t.setSelection(r)}}setEditorTabIndex(t,r){var n;(n=t==null?void 0:t.scroll)!=null&&n.domNode&&(t.scroll.domNode.tabIndex=r)}setEditorReadOnly(t,r){r?t.disable():t.enable()}makeUnprivilegedEditor(t){const r=t;return{getHTML:()=>r.root.innerHTML,getSemanticHTML:r.getSemanticHTML.bind(r),getLength:r.getLength.bind(r),getText:r.getText.bind(r),getContents:r.getContents.bind(r),getSelection:r.getSelection.bind(r),getBounds:r.getBounds.bind(r)}}getEditingArea(){const t=this.editingAreaRef.current;if(!t)throw new Error("Cannot find element for editing area");if(t.nodeType===3)throw new Error("Editing area cannot be a text node");return t}renderEditingArea(){const{children:t,preserveWhitespace:r}=this.props,{generation:n}=this.state,s={key:n,ref:this.editingAreaRef};return w.Children.count(t)?w.cloneElement(w.Children.only(t),s):r?w.createElement("pre",{...s}):w.createElement("div",{...s})}render(){return w.createElement("div",{ref:this.containerRef,id:this.props.id,style:this.props.style,key:this.state.generation,className:`quill ${this.props.className??""}`,onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())}onEditorChangeText(t,r,n,s){var o,a;if(!this.editor)return;const i=this.isDelta(this.value)?s.getContents():s.getHTML();i!==this.getEditorContents()&&(this.lastDeltaChangeSet=r,this.value=i,(a=(o=this.props).onChange)==null||a.call(o,t,r,n,s))}onEditorChangeSelection(t,r,n){var a,l,c,d,f,h;if(!this.editor)return;const s=this.getEditorSelection(),i=!s&&t,o=s&&!t;Sa(t,s)||(this.selection=t,(l=(a=this.props).onChangeSelection)==null||l.call(a,t,r,n),i?(d=(c=this.props).onFocus)==null||d.call(c,t,r,n):o&&((h=(f=this.props).onBlur)==null||h.call(f,s,r,n)))}focus(){this.editor&&this.editor.focus()}blur(){this.editor&&(this.selection=null,this.editor.blur())}}Sp.displayName="React Quill";Sp.Quill=le;Sp.defaultProps={theme:"snow",modules:{},readOnly:!1};function MR(e){Promise.resolve().then(e)}const mOe=async()=>{const{data:e,error:t}=await he.from("posts").select("*");if(t)throw new Error(t.message);return e},gOe=async e=>{const{data:{user:t},error:r}=await he.auth.getUser();if(r)throw new Error(r.message);if(!t)throw new Error("User not authenticated.");console.log("Attempting to create post with data:",{...e,author_id:t.id});const{data:n,error:s}=await he.from("posts").insert({...e,author_id:t.id}).select();if(s)throw new Error(s.message);if(!n||n.length===0)throw new Error("Failed to create post: No data returned.");return n[0]},yOe=async e=>{const{data:t,error:r}=await he.from("posts").update(e).eq("id",e.id).select();if(r)throw new Error(r.message);return t[0]},vOe=async e=>{const{error:t}=await he.from("posts").delete().eq("id",e);if(t)throw new Error(t.message)},bOe=({post:e,onSave:t,onCancel:r})=>{const[n,s]=w.useState({title:(e==null?void 0:e.title)||"",content:(e==null?void 0:e.content)||"",status:(e==null?void 0:e.status)||"draft",slug:(e==null?void 0:e.slug)||""}),i=()=>{if(!n.title.trim()){Ei.error("Title cannot be empty.");return}if(!n.slug.trim()){Ei.error("Slug cannot be empty.");return}const o=e?{...e,...n}:n;t(o)};return u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e?"Edit Post":"Create New Post"}),u.jsx("button",{onClick:r,className:"p-2 text-gray-500 hover:text-gray-700",children:u.jsx(La,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),u.jsx("input",{type:"text",value:n.title,onChange:o=>s({...n,title:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter post title...",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Slug"}),u.jsx("input",{type:"text",value:n.slug,onChange:o=>s({...n,slug:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"post-url-slug"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content"}),u.jsx(Sp,{theme:"snow",value:n.content,onChange:o=>s({...n,content:o}),className:"h-64 mb-12"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),u.jsxs("select",{value:n.status,onChange:o=>s({...n,status:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"draft",children:"Draft"}),u.jsx("option",{value:"published",children:"Published"}),u.jsx("option",{value:"archived",children:"Archived"})]})]}),u.jsxs("div",{className:"flex gap-3 pt-4",children:[u.jsxs("button",{type:"button",onClick:i,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:[u.jsx(qS,{className:"w-4 h-4"}),"Save Post"]}),u.jsx("button",{type:"button",onClick:r,className:"flex items-center gap-2 bg-gray-200 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})]})},xOe=()=>{const e=qo(),[t,r]=w.useState(!1),[n,s]=w.useState(null),[i,o]=w.useState(""),[a,l]=w.useState("all"),{data:c,isLoading:d,isError:f,error:h}=dr({queryKey:["posts"],queryFn:mOe}),p=Xt({mutationFn:gOe,onSuccess:()=>{e.invalidateQueries({queryKey:["posts"]}),r(!1),s(null)}}),g=Xt({mutationFn:yOe,onSuccess:()=>{e.invalidateQueries({queryKey:["posts"]}),r(!1),s(null)}}),m=Xt({mutationFn:vOe,onSuccess:()=>{e.invalidateQueries({queryKey:["posts"]})}}),y=x=>{if(n)g.mutate(x);else{const{...E}=x;p.mutate(E)}},v=x=>{window.confirm("Are you sure you want to delete this post?")&&m.mutate(x)},b=(c==null?void 0:c.filter(x=>{const E=x.title.toLowerCase().includes(i.toLowerCase()),_=a==="all"||x.status===a;return E&&_}))||[];return d?u.jsx("div",{children:"Loading posts..."}):f?u.jsxs("div",{children:["Error loading posts: ",h==null?void 0:h.message]}):u.jsx("div",{className:"space-y-6",children:t?u.jsx(bOe,{post:n,onSave:y,onCancel:()=>{r(!1),s(null)}}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Posts"}),u.jsxs("button",{onClick:()=>{s(null),r(!0)},className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:[u.jsx(Fi,{className:"w-4 h-4"}),"New Post"]})]}),u.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:u.jsxs("div",{className:"flex gap-4",children:[u.jsx("div",{className:"flex-1",children:u.jsxs("div",{className:"relative",children:[u.jsx(cc,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),u.jsx("input",{type:"text",value:i,onChange:x=>o(x.target.value),placeholder:"Search posts...",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),u.jsxs("select",{value:a,onChange:x=>l(x.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"all",children:"All Status"}),u.jsx("option",{value:"published",children:"Published"}),u.jsx("option",{value:"draft",children:"Draft"}),u.jsx("option",{value:"archived",children:"Archived"})]})]})}),u.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:u.jsxs("tr",{children:[u.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-900",children:"Title"}),u.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-900",children:"Status"}),u.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-900",children:"Author"}),u.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-900",children:"Date"}),u.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-900",children:"Views"}),u.jsx("th",{className:"text-right py-3 px-6 text-sm font-medium text-gray-900",children:"Actions"})]})}),u.jsx("tbody",{children:b.map(x=>u.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[u.jsx("td",{className:"py-4 px-6",children:u.jsx("div",{className:"font-medium text-gray-900",children:x.title})}),u.jsx("td",{className:"py-4 px-6",children:u.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${x.status==="published"?"bg-green-100 text-green-800":x.status==="draft"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:x.status})}),u.jsx("td",{className:"py-4 px-6 text-sm text-gray-500",children:x.author_id}),u.jsx("td",{className:"py-4 px-6 text-sm text-gray-500",children:new Date(x.created_at).toLocaleDateString()}),u.jsx("td",{className:"py-4 px-6 text-sm text-gray-500",children:x.views}),u.jsx("td",{className:"py-4 px-6",children:u.jsxs("div",{className:"flex items-center justify-end gap-2",children:[u.jsx("button",{onClick:()=>{s(x),r(!0)},className:"p-1 text-gray-500 hover:text-blue-600",children:u.jsx(ev,{className:"w-4 h-4"})}),u.jsx("button",{className:"p-1 text-gray-500 hover:text-green-600",children:u.jsx(Hh,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>v(x.id),className:"p-1 text-gray-500 hover:text-red-600",children:u.jsx(uc,{className:"w-4 h-4"})})]})})]},x.id))})]})})]})})};function wOe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _Oe=wOe(function(e){const t=new URLSearchParams;t.append("code",e);for(let r=1;r<arguments.length;r++)t.append("v",arguments[r]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});const b7=w.createContext(null);function SOe(e,t){return{getTheme:function(){return t??null}}}function Pd(){const e=w.useContext(b7);return e==null&&_Oe(8),e}function EOe(e){return{}}const Ak={},jOe={},x7={},Vl={},ju={},jy={},Nu={},Pk={},L_={},Rh={},$h={},Oa={},Ok={},Dk={},NOe={},w7={},kOe={},_7={},COe={},S7={},E7={},Ny={},TOe={},j7={},N7={},k7={},AOe={},POe={},OOe={},LR={},C7={},DOe={},T7={},A7={},ROe={},Sb={},Rk={},F_={},$Oe={},IOe={},Mm={},Lm={},MOe={},LOe={},FOe={},gi=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,BOe=gi&&"documentMode"in document?document.documentMode:null,Bs=gi&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),Ia=gi&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),ky=!(!gi||!("InputEvent"in window)||BOe)&&"getTargetRanges"in new window.InputEvent("input"),$k=gi&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),Eb=gi&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,zOe=gi&&/Android/.test(navigator.userAgent),P7=gi&&/^(?=.*Chrome).*/i.test(navigator.userAgent),UOe=gi&&zOe&&P7,Ik=gi&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!P7,Ep=1,ol=3,sc=0,O7=1,sd=2,qOe=0,VOe=1,WOe=2,Cy=4,Ty=8,Mk=128,KOe=112|(3|Cy|Ty)|Mk,Lk=1,Fk=2,Bk=3,zk=4,Uk=5,qk=6,jb=$k||Eb||Ik?" ":"​",zo=`

`,HOe=Ia?" ":jb,D7="֑-߿יִ-﷽ﹰ-ﻼ",R7="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",YOe=new RegExp("^[^"+R7+"]*["+D7+"]"),GOe=new RegExp("^[^"+D7+"]*["+R7+"]"),ic={bold:1,code:16,highlight:Mk,italic:2,strikethrough:Cy,subscript:32,superscript:64,underline:Ty},ZOe={directionless:1,unmergeable:2},FR={center:Fk,end:qk,justify:zk,left:Lk,right:Bk,start:Uk},XOe={[Fk]:"center",[qk]:"end",[zk]:"justify",[Lk]:"left",[Bk]:"right",[Uk]:"start"},JOe={normal:0,segmented:2,token:1},QOe={[qOe]:"normal",[WOe]:"segmented",[VOe]:"token"};function e2e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ee=e2e(function(e){const t=new URLSearchParams;t.append("code",e);for(let r=1;r<arguments.length;r++)t.append("v",arguments[r]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});function Ay(...e){const t=[];for(const r of e)if(r&&typeof r=="string")for(const[n]of r.matchAll(/\S+/g))t.push(n);return t}const t2e=100;let B_=!1,Vk=0;function r2e(e){Vk=e.timeStamp}function Vx(e,t,r){return t.__lexicalLineBreak===e||e[`__lexicalKey_${r._key}`]!==void 0}function n2e(e,t,r){const n=Ki(r._window);let s=null,i=null;n!==null&&n.anchorNode===e&&(s=n.anchorOffset,i=n.focusOffset);const o=e.nodeValue;o!==null&&Yk(t,o,s,i,!1)}function s2e(e,t,r){if(be(e)){const n=e.anchor.getNode();if(n.is(r)&&e.format!==n.getFormat())return!1}return t.nodeType===ol&&r.isAttached()}function $7(e,t,r){B_=!0;const n=performance.now()-Vk>t2e;try{Zn(e,()=>{const s=Ie()||function(h){return h.getEditorState().read(()=>{const p=Ie();return p!==null?p.clone():null})}(e),i=new Map,o=e.getRootElement(),a=e._editorState,l=e._blockCursorElement;let c=!1,d="";for(let h=0;h<t.length;h++){const p=t[h],g=p.type,m=p.target;let y=oc(m,a);if(!(y===null&&m!==o||$t(y))){if(g==="characterData")n&&we(y)&&s2e(s,m,y)&&n2e(m,y,e);else if(g==="childList"){c=!0;const v=p.addedNodes;for(let E=0;E<v.length;E++){const _=v[E],N=B7(_),k=_.parentNode;if(k!=null&&_!==l&&N===null&&(_.nodeName!=="BR"||!Vx(_,k,e))){if(Ia){const C=_.innerText||_.nodeValue;C&&(d+=C)}k.removeChild(_)}}const b=p.removedNodes,x=b.length;if(x>0){let E=0;for(let _=0;_<x;_++){const N=b[_];(N.nodeName==="BR"&&Vx(N,m,e)||l===N)&&(m.appendChild(N),E++)}x!==E&&(m===o&&(y=U7(a)),i.set(m,y))}}}}if(i.size>0)for(const[h,p]of i)if(de(p)){const g=p.getChildrenKeys();let m=h.firstChild;for(let y=0;y<g.length;y++){const v=g[y],b=e.getElementByKey(v);b!==null&&(m==null?(h.appendChild(b),m=b):m!==b&&h.replaceChild(b,m),m=m.nextSibling)}}else we(p)&&p.markDirty();const f=r.takeRecords();if(f.length>0){for(let h=0;h<f.length;h++){const p=f[h],g=p.addedNodes,m=p.target;for(let y=0;y<g.length;y++){const v=g[y],b=v.parentNode;b==null||v.nodeName!=="BR"||Vx(v,m,e)||b.removeChild(v)}}r.takeRecords()}s!==null&&(c&&(s.dirty=!0,Wi(s)),Ia&&K7(e)&&s.insertRawText(d))})}finally{B_=!1}}function I7(e){const t=e._observer;t!==null&&$7(e,t.takeRecords(),t)}function M7(e){(function(t){Vk===0&&Cb(t).addEventListener("textInput",r2e,!0)})(e),e._observer=new MutationObserver((t,r)=>{$7(e,t,r)})}function BR(e,t){const r=e.__mode,n=e.__format,s=e.__style,i=t.__mode,o=t.__format,a=t.__style;return!(r!==null&&r!==i||n!==null&&n!==o||s!==null&&s!==a)}function zR(e,t){const r=e.mergeWithSibling(t),n=rr()._normalizedNodes;return n.add(e.__key),n.add(t.__key),r}function UR(e){let t,r,n=e;if(n.__text!==""||!n.isSimpleText()||n.isUnmergeable()){for(;(t=n.getPreviousSibling())!==null&&we(t)&&t.isSimpleText()&&!t.isUnmergeable();){if(t.__text!==""){if(BR(t,n)){n=zR(t,n);break}break}t.remove()}for(;(r=n.getNextSibling())!==null&&we(r)&&r.isSimpleText()&&!r.isUnmergeable();){if(r.__text!==""){if(BR(n,r)){n=zR(n,r);break}break}r.remove()}}else n.remove()}function L7(e){return qR(e.anchor),qR(e.focus),e}function qR(e){for(;e.type==="element";){const t=e.getNode(),r=e.offset;let n,s;if(r===t.getChildrenSize()?(n=t.getChildAtIndex(r-1),s=!0):(n=t.getChildAtIndex(r),s=!1),we(n)){e.set(n.__key,s?n.getTextContentSize():0,"text");break}if(!de(n))break;e.set(n.__key,s?n.getChildrenSize():0,"element")}}let i2e=1;const o2e=typeof queueMicrotask=="function"?queueMicrotask:e=>{Promise.resolve().then(e)};function Wk(e){const t=document.activeElement;if(t===null)return!1;const r=t.nodeName;return $t(oc(e))&&(r==="INPUT"||r==="TEXTAREA"||t.contentEditable==="true"&&t.__lexicalEditor==null)}function jp(e,t,r){const n=e.getRootElement();try{return n!==null&&n.contains(t)&&n.contains(r)&&t!==null&&!Wk(t)&&F7(t)===e}catch{return!1}}function F7(e){let t=e;for(;t!=null;){const r=t.__lexicalEditor;if(r!=null)return r;t=kb(t)}return null}function Kc(e){return e.isToken()||e.isSegmented()}function a2e(e){return e.nodeType===ol}function Py(e){let t=e;for(;t!=null;){if(a2e(t))return t;t=t.firstChild}return null}function z_(e,t,r){const n=ic[t];if(r!==null&&(e&n)==(r&n))return e;let s=e^n;return t==="subscript"?s&=-65:t==="superscript"&&(s&=-33),s}function l2e(e,t){if(t!=null)return void(e.__key=t);Tn(),f9();const r=rr(),n=Xo(),s=""+i2e++;n._nodeMap.set(s,e),de(e)?r._dirtyElements.set(s,!0):r._dirtyLeaves.add(s),r._cloneNotNeeded.add(s),r._dirtyType=O7,e.__key=s}function Wl(e){const t=e.getParent();if(t!==null){const r=e.getWritable(),n=t.getWritable(),s=e.getPreviousSibling(),i=e.getNextSibling();if(s===null)if(i!==null){const o=i.getWritable();n.__first=i.__key,o.__prev=null}else n.__first=null;else{const o=s.getWritable();if(i!==null){const a=i.getWritable();a.__prev=o.__key,o.__next=a.__key}else o.__next=null;r.__prev=null}if(i===null)if(s!==null){const o=s.getWritable();n.__last=s.__key,o.__next=null}else n.__last=null;else{const o=i.getWritable();if(s!==null){const a=s.getWritable();a.__next=o.__key,o.__prev=a.__key}else o.__prev=null;r.__next=null}n.__size--,r.__parent=null}}function Oy(e){f9();const t=e.getLatest(),r=t.__parent,n=Xo(),s=rr(),i=n._nodeMap,o=s._dirtyElements;r!==null&&function(l,c,d){let f=l;for(;f!==null;){if(d.has(f))return;const h=c.get(f);if(h===void 0)break;d.set(f,!1),f=h.__parent}}(r,i,o);const a=t.__key;s._dirtyType=O7,de(e)?o.set(a,!0):s._dirtyLeaves.add(a)}function Kr(e){Tn();const t=rr(),r=t._compositionKey;if(e!==r){if(t._compositionKey=e,r!==null){const n=yn(r);n!==null&&n.getWritable()}if(e!==null){const n=yn(e);n!==null&&n.getWritable()}}}function Da(){return Ap()?null:rr()._compositionKey}function yn(e,t){const r=(t||Xo())._nodeMap.get(e);return r===void 0?null:r}function B7(e,t){const r=e[`__lexicalKey_${rr()._key}`];return r!==void 0?yn(r,t):null}function oc(e,t){let r=e;for(;r!=null;){const n=B7(r,t);if(n!==null)return n;r=kb(r)}return null}function z7(e){const t=e._decorators,r=Object.assign({},t);return e._pendingDecorators=r,r}function VR(e){return e.read(()=>mr().getTextContent())}function mr(){return U7(Xo())}function U7(e){return e._nodeMap.get("root")}function Wi(e){Tn();const t=Xo();e!==null&&(e.dirty=!0,e.setCachedNodes(null)),t._selection=e}function fu(e){const t=rr(),r=function(n,s){let i=n;for(;i!=null;){const o=i[`__lexicalKey_${s._key}`];if(o!==void 0)return o;i=kb(i)}return null}(e,t);return r===null?e===t.getRootElement()?yn("root"):null:yn(r)}function WR(e,t){return t?e.getTextContentSize():0}function q7(e){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(e)}function Kk(e){const t=[];let r=e;for(;r!==null;)t.push(r),r=r._parentEditor;return t}function V7(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}function W7(e){return e.nodeType===ol?e.nodeValue:null}function Hk(e,t,r){const n=Ki(t._window);if(n===null)return;const s=n.anchorNode;let{anchorOffset:i,focusOffset:o}=n;if(s!==null){let a=W7(s);const l=oc(s);if(a!==null&&we(l)){if(a===jb&&r){const c=r.length;a=r,i=c,o=c}a!==null&&Yk(l,a,i,o,e)}}}function Yk(e,t,r,n,s){let i=e;if(i.isAttached()&&(s||!i.isDirty())){const o=i.isComposing();let a=t;(o||s)&&t[t.length-1]===jb&&(a=t.slice(0,-1));const l=i.getTextContent();if(s||a!==l){if(a===""){if(Kr(null),$k||Eb||Ik)i.remove();else{const m=rr();setTimeout(()=>{m.update(()=>{i.isAttached()&&i.remove()})},20)}return}const c=i.getParent(),d=Tp(),f=i.getTextContentSize(),h=Da(),p=i.getKey();if(i.isToken()||h!==null&&p===h&&!o||be(d)&&(c!==null&&!c.canInsertTextBefore()&&d.anchor.offset===0||d.anchor.key===e.__key&&d.anchor.offset===0&&!i.canInsertTextBefore()&&!o||d.focus.key===e.__key&&d.focus.offset===f&&!i.canInsertTextAfter()&&!o))return void i.markDirty();const g=Ie();if(!be(g)||r===null||n===null)return void i.setTextContent(a);if(g.setTextNodeRange(i,r,i,n),i.isSegmented()){const m=tn(i.getTextContent());i.replace(m),i=m}i.setTextContent(a)}}}function c2e(e,t){if(t.isSegmented())return!0;if(!e.isCollapsed())return!1;const r=e.anchor.offset,n=t.getParentOrThrow(),s=t.isToken();return r===0?!t.canInsertTextBefore()||!n.canInsertTextBefore()&&!t.isComposing()||s||function(i){const o=i.getPreviousSibling();return(we(o)||de(o)&&o.isInline())&&!o.canInsertTextAfter()}(t):r===t.getTextContentSize()&&(!t.canInsertTextAfter()||!n.canInsertTextAfter()&&!t.isComposing()||s)}function KR(e){return e==="ArrowLeft"}function HR(e){return e==="ArrowRight"}function _f(e,t){return Bs?e:t}function YR(e){return e==="Enter"}function df(e){return e==="Backspace"}function ff(e){return e==="Delete"}function GR(e,t,r){return e.toLowerCase()==="a"&&_f(t,r)}function u2e(){const e=mr();Wi(L7(e.select(0,e.getChildrenSize())))}function Vf(e,t){e.__lexicalClassNameCache===void 0&&(e.__lexicalClassNameCache={});const r=e.__lexicalClassNameCache,n=r[t];if(n!==void 0)return n;const s=e[t];if(typeof s=="string"){const i=Ay(s);return r[t]=i,i}return s}function Gk(e,t,r,n,s){if(r.size===0)return;const i=n.__type,o=n.__key,a=t.get(i);a===void 0&&Ee(33,i);const l=a.klass;let c=e.get(l);c===void 0&&(c=new Map,e.set(l,c));const d=c.get(o),f=d==="destroyed"&&s==="created";(d===void 0||f)&&c.set(o,f?"updated":s)}function ZR(e,t,r){const n=e.getParent();let s=r,i=e;return n!==null&&(t&&r===0?(s=i.getIndexWithinParent(),i=n):t||r!==i.getChildrenSize()||(s=i.getIndexWithinParent()+1,i=n)),i.getChildAtIndex(t?s-1:s)}function Ih(e,t){const r=e.offset;if(e.type==="element")return ZR(e.getNode(),t,r);{const n=e.getNode();if(t&&r===0||!t&&r===n.getTextContentSize()){const s=t?n.getPreviousSibling():n.getNextSibling();return s===null?ZR(n.getParentOrThrow(),t,n.getIndexWithinParent()+(t?0:1)):s}}return null}function K7(e){const t=Cb(e).event,r=t&&t.inputType;return r==="insertFromPaste"||r==="insertFromPasteAsQuotation"}function Ne(e,t,r){return h9(e,t,r)}function Nb(e){return!ln(e)&&!e.isLastChild()&&!e.isInline()}function Dy(e,t){const r=e._keyToDOMMap.get(t);return r===void 0&&Ee(75,t),r}function kb(e){const t=e.assignedSlot||e.parentElement;return t!==null&&t.nodeType===11?t.host:t}function U_(e,t){let r=e.getParent();for(;r!==null;){if(r.is(t))return!0;r=r.getParent()}return!1}function Cb(e){const t=e._window;return t===null&&Ee(78),t}function d2e(e){let t=e.getParentOrThrow();for(;t!==null;){if(Od(t))return t;t=t.getParentOrThrow()}return t}function Od(e){return ln(e)||de(e)&&e.isShadowRoot()}function Tb(e){const t=rr(),r=e.constructor.getType(),n=t._nodes.get(r);n===void 0&&Ee(97);const s=n.replace;if(s!==null){const i=s(e);return i instanceof e.constructor||Ee(98),i}return e}function Wx(e,t){!ln(e.getParent())||de(t)||$t(t)||Ee(99)}function Kx(e){return($t(e)||de(e)&&!e.canBeEmpty())&&!e.isInline()}function Zk(e,t,r){r.style.removeProperty("caret-color"),t._blockCursorElement=null;const n=e.parentElement;n!==null&&n.removeChild(e)}function f2e(e,t,r){let n=e._blockCursorElement;if(be(r)&&r.isCollapsed()&&r.anchor.type==="element"&&t.contains(document.activeElement)){const s=r.anchor,i=s.getNode(),o=s.offset;let a=!1,l=null;if(o===i.getChildrenSize())Kx(i.getChildAtIndex(o-1))&&(a=!0);else{const c=i.getChildAtIndex(o);if(Kx(c)){const d=c.getPreviousSibling();(d===null||Kx(d))&&(a=!0,l=e.getElementByKey(c.__key))}}if(a){const c=e.getElementByKey(i.__key);return n===null&&(e._blockCursorElement=n=function(d){const f=d.theme,h=document.createElement("div");h.contentEditable="false",h.setAttribute("data-lexical-cursor","true");let p=f.blockCursor;if(p!==void 0){if(typeof p=="string"){const g=Ay(p);p=f.blockCursor=g}p!==void 0&&h.classList.add(...p)}return h}(e._config)),t.style.caretColor="transparent",void(l===null?c.appendChild(n):c.insertBefore(n,l))}}n!==null&&Zk(n,e,t)}function Ki(e){return gi?(e||window).getSelection():null}function Xk(e){return e.nodeType===1}function h2e(e){const t=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return e.nodeName.match(t)!==null}function p2e(e){const t=new RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return e.nodeName.match(t)!==null}function Hc(e){if(ln(e)||$t(e)&&!e.isInline())return!0;if(!de(e)||Od(e))return!1;const t=e.getFirstChild(),r=t===null||Hf(t)||we(t)||t.isInline();return!e.isInline()&&e.canBeEmpty()!==!1&&r}function Hx(e,t){let r=e;for(;r!==null&&r.getParent()!==null&&!t(r);)r=r.getParentOrThrow();return t(r)?r:null}function H7(e,t,r,n,s,i){let o=e.getFirstChild();for(;o!==null;){const a=o.__key;o.__parent===t&&(de(o)&&H7(o,a,r,n,s,i),r.has(a)||i.delete(a),s.push(a)),o=o.getNextSibling()}}let Wa,_n,Mh,Ab,q_,V_,ac,ni,W_,Lh,jr="",wn="",qs=null,ho="",Y7=!1,Pb=!1,ig=null;function Ry(e,t){const r=ac.get(e);if(t!==null){const n=Y_(e);n.parentNode===t&&t.removeChild(n)}if(ni.has(e)||_n._keyToDOMMap.delete(e),de(r)){const n=Iy(r,ac);K_(n,0,n.length-1,null)}r!==void 0&&Gk(Lh,Mh,Ab,r,"destroyed")}function K_(e,t,r,n){let s=t;for(;s<=r;++s){const i=e[s];i!==void 0&&Ry(i,n)}}function ml(e,t){e.setProperty("text-align",t)}const m2e="40px";function G7(e,t){const r=Wa.theme.indent;if(typeof r=="string"){const s=e.classList.contains(r);t>0&&!s?e.classList.add(r):t<1&&s&&e.classList.remove(r)}const n=getComputedStyle(e).getPropertyValue("--lexical-indent-base-value")||m2e;e.style.setProperty("padding-inline-start",t===0?"":`calc(${t} * ${n})`)}function Z7(e,t){const r=e.style;t===0?ml(r,""):t===Lk?ml(r,"left"):t===Fk?ml(r,"center"):t===Bk?ml(r,"right"):t===zk?ml(r,"justify"):t===Uk?ml(r,"start"):t===qk&&ml(r,"end")}function $y(e,t,r){const n=ni.get(e);n===void 0&&Ee(60);const s=n.createDOM(Wa,_n);if(function(i,o,a){const l=a._keyToDOMMap;o["__lexicalKey_"+a._key]=i,l.set(i,o)}(e,s,_n),we(n)?s.setAttribute("data-lexical-text","true"):$t(n)&&s.setAttribute("data-lexical-decorator","true"),de(n)){const i=n.__indent,o=n.__size;if(i!==0&&G7(s,i),o!==0){const l=o-1;(function(c,d,f,h){const p=wn;wn="",H_(c,f,0,d,h,null),J7(f,h),wn=p})(Iy(n,ni),l,n,s)}const a=n.__format;a!==0&&Z7(s,a),n.isInline()||X7(null,n,s),Nb(n)&&(jr+=zo,ho+=zo)}else{const i=n.getTextContent();if($t(n)){const o=n.decorate(_n,Wa);o!==null&&Q7(e,o),s.contentEditable="false"}else we(n)&&(n.isDirectionless()||(wn+=i));jr+=i,ho+=i}if(t!==null)if(r!=null)t.insertBefore(s,r);else{const i=t.__lexicalLineBreak;i!=null?t.insertBefore(s,i):t.appendChild(s)}return Gk(Lh,Mh,Ab,n,"created"),s}function H_(e,t,r,n,s,i){const o=jr;jr="";let a=r;for(;a<=n;++a){$y(e[a],s,i);const l=ni.get(e[a]);l!==null&&qs===null&&we(l)&&(qs=l.getFormat())}Nb(t)&&(jr+=zo),s.__lexicalTextContent=jr,jr=o+jr}function XR(e,t){const r=t.get(e);return Hf(r)||$t(r)&&r.isInline()}function X7(e,t,r){const n=e!==null&&(e.__size===0||XR(e.__last,ac)),s=t.__size===0||XR(t.__last,ni);if(n){if(!s){const i=r.__lexicalLineBreak;i!=null&&r.removeChild(i),r.__lexicalLineBreak=null}}else if(s){const i=document.createElement("br");r.__lexicalLineBreak=i,r.appendChild(i)}}function J7(e,t){const r=t.__lexicalDirTextContent,n=t.__lexicalDir;if(r!==wn||n!==ig){const i=wn==="",o=i?ig:(s=wn,YOe.test(s)?"rtl":GOe.test(s)?"ltr":null);if(o!==n){const a=t.classList,l=Wa.theme;let c=n!==null?l[n]:void 0,d=o!==null?l[o]:void 0;if(c!==void 0){if(typeof c=="string"){const f=Ay(c);c=l[n]=f}a.remove(...c)}if(o===null||i&&o==="ltr")t.removeAttribute("dir");else{if(d!==void 0){if(typeof d=="string"){const f=Ay(d);d=l[o]=f}d!==void 0&&a.add(...d)}t.dir=o}Pb||(e.getWritable().__dir=o)}ig=o,t.__lexicalDirTextContent=wn,t.__lexicalDir=o}var s}function g2e(e,t,r){const n=wn;var s;wn="",qs=null,function(i,o,a){const l=jr,c=i.__size,d=o.__size;if(jr="",c===1&&d===1){const f=i.__first,h=o.__first;if(f===h)Sf(f,a);else{const g=Y_(f),m=$y(h,null,null);a.replaceChild(m,g),Ry(f,null)}const p=ni.get(h);qs===null&&we(p)&&(qs=p.getFormat())}else{const f=Iy(i,ac),h=Iy(o,ni);if(c===0)d!==0&&H_(h,o,0,d-1,a,null);else if(d===0){if(c!==0){const p=a.__lexicalLineBreak==null;K_(f,0,c-1,p?null:a),p&&(a.textContent="")}}else(function(p,g,m,y,v,b){const x=y-1,E=v-1;let _,N,k=($=b,$.firstChild),C=0,T=0;for(var $;C<=x&&T<=E;){const D=g[C],z=m[T];if(D===z)k=Yx(Sf(z,b)),C++,T++;else{_===void 0&&(_=new Set(g)),N===void 0&&(N=new Set(m));const G=N.has(D),q=_.has(z);if(G)if(q){const Z=Dy(_n,z);Z===k?k=Yx(Sf(z,b)):(k!=null?b.insertBefore(Z,k):b.appendChild(Z),Sf(z,b)),C++,T++}else $y(z,b,k),T++;else k=Yx(Y_(D)),Ry(D,b),C++}const U=ni.get(z);U!==null&&qs===null&&we(U)&&(qs=U.getFormat())}const M=C>x,L=T>E;if(M&&!L){const D=m[E+1];H_(m,p,T,E,b,D===void 0?null:_n.getElementByKey(D))}else L&&!M&&K_(g,C,x,b)})(o,f,h,c,d,a)}Nb(o)&&(jr+=zo),a.__lexicalTextContent=jr,jr=l+jr}(e,t,r),J7(t,r),od(s=t)&&qs!=null&&qs!==s.__textFormat&&!Pb&&s.setTextFormat(qs),wn=n,qs=null}function Iy(e,t){const r=[];let n=e.__first;for(;n!==null;){const s=t.get(n);s===void 0&&Ee(101),r.push(n),n=s.__next}return r}function Sf(e,t){const r=ac.get(e);let n=ni.get(e);r!==void 0&&n!==void 0||Ee(61);const s=Y7||V_.has(e)||q_.has(e),i=Dy(_n,e);if(r===n&&!s){if(de(r)){const o=i.__lexicalTextContent;o!==void 0&&(jr+=o,ho+=o);const a=i.__lexicalDirTextContent;a!==void 0&&(wn+=a)}else{const o=r.getTextContent();we(r)&&!r.isDirectionless()&&(wn+=o),ho+=o,jr+=o}return i}if(r!==n&&s&&Gk(Lh,Mh,Ab,n,"updated"),n.updateDOM(r,i,Wa)){const o=$y(e,null,null);return t===null&&Ee(62),t.replaceChild(o,i),Ry(e,null),o}if(de(r)&&de(n)){const o=n.__indent;o!==r.__indent&&G7(i,o);const a=n.__format;a!==r.__format&&Z7(i,a),s&&(g2e(r,n,i),ln(n)||n.isInline()||X7(r,n,i)),Nb(n)&&(jr+=zo,ho+=zo)}else{const o=n.getTextContent();if($t(n)){const a=n.decorate(_n,Wa);a!==null&&Q7(e,a)}else we(n)&&!n.isDirectionless()&&(wn+=o);jr+=o,ho+=o}if(!Pb&&ln(n)&&n.__cachedText!==ho){const o=n.getWritable();o.__cachedText=ho,n=o}return i}function Q7(e,t){let r=_n._pendingDecorators;const n=_n._decorators;if(r===null){if(n[e]===t)return;r=z7(_n)}r[e]=t}function Yx(e){let t=e.nextSibling;return t!==null&&t===_n._blockCursorElement&&(t=t.nextSibling),t}function y2e(e,t,r,n,s,i){jr="",ho="",wn="",Y7=n===sd,ig=null,_n=r,Wa=r._config,Mh=r._nodes,Ab=_n._listeners.mutation,q_=s,V_=i,ac=e._nodeMap,ni=t._nodeMap,Pb=t._readOnly,W_=new Map(r._keyToDOMMap);const o=new Map;return Lh=o,Sf("root",null),_n=void 0,Mh=void 0,q_=void 0,V_=void 0,ac=void 0,ni=void 0,Wa=void 0,W_=void 0,Lh=void 0,o}function Y_(e){const t=W_.get(e);return t===void 0&&Ee(75,e),t}const lo=Object.freeze({}),G_=30,Z_=[["keydown",function(e,t){if(Wf=e.timeStamp,e9=e.key,t.isComposing())return;const{key:r,shiftKey:n,ctrlKey:s,metaKey:i,altKey:o}=e;Ne(t,NOe,e)||r!=null&&(function(a,l,c,d){return HR(a)&&!l&&!d&&!c}(r,s,o,i)?Ne(t,w7,e):function(a,l,c,d,f){return HR(a)&&!d&&!c&&(l||f)}(r,s,n,o,i)?Ne(t,kOe,e):function(a,l,c,d){return KR(a)&&!l&&!d&&!c}(r,s,o,i)?Ne(t,_7,e):function(a,l,c,d,f){return KR(a)&&!d&&!c&&(l||f)}(r,s,n,o,i)?Ne(t,COe,e):function(a,l,c){return function(d){return d==="ArrowUp"}(a)&&!l&&!c}(r,s,i)?Ne(t,S7,e):function(a,l,c){return function(d){return d==="ArrowDown"}(a)&&!l&&!c}(r,s,i)?Ne(t,E7,e):function(a,l){return YR(a)&&l}(r,n)?(Kf=!0,Ne(t,Ny,e)):function(a){return a===" "}(r)?Ne(t,TOe,e):function(a,l){return Bs&&l&&a.toLowerCase()==="o"}(r,s)?(e.preventDefault(),Kf=!0,Ne(t,ju,!0)):function(a,l){return YR(a)&&!l}(r,n)?(Kf=!1,Ne(t,Ny,e)):function(a,l,c,d){return Bs?!l&&!c&&(df(a)||a.toLowerCase()==="h"&&d):!(d||l||c)&&df(a)}(r,o,i,s)?df(r)?Ne(t,j7,e):(e.preventDefault(),Ne(t,Vl,!0)):function(a){return a==="Escape"}(r)?Ne(t,N7,e):function(a,l,c,d,f){return Bs?!(c||d||f)&&(ff(a)||a.toLowerCase()==="d"&&l):!(l||d||f)&&ff(a)}(r,s,n,o,i)?ff(r)?Ne(t,k7,e):(e.preventDefault(),Ne(t,Vl,!1)):function(a,l,c){return df(a)&&(Bs?l:c)}(r,o,s)?(e.preventDefault(),Ne(t,Rh,!0)):function(a,l,c){return ff(a)&&(Bs?l:c)}(r,o,s)?(e.preventDefault(),Ne(t,Rh,!1)):function(a,l){return Bs&&l&&df(a)}(r,i)?(e.preventDefault(),Ne(t,$h,!0)):function(a,l){return Bs&&l&&ff(a)}(r,i)?(e.preventDefault(),Ne(t,$h,!1)):function(a,l,c,d){return a.toLowerCase()==="b"&&!l&&_f(c,d)}(r,o,i,s)?(e.preventDefault(),Ne(t,Oa,"bold")):function(a,l,c,d){return a.toLowerCase()==="u"&&!l&&_f(c,d)}(r,o,i,s)?(e.preventDefault(),Ne(t,Oa,"underline")):function(a,l,c,d){return a.toLowerCase()==="i"&&!l&&_f(c,d)}(r,o,i,s)?(e.preventDefault(),Ne(t,Oa,"italic")):function(a,l,c,d){return a==="Tab"&&!l&&!c&&!d}(r,o,s,i)?Ne(t,AOe,e):function(a,l,c,d){return a.toLowerCase()==="z"&&!l&&_f(c,d)}(r,n,i,s)?(e.preventDefault(),Ne(t,Ok,void 0)):function(a,l,c,d){return Bs?a.toLowerCase()==="z"&&c&&l:a.toLowerCase()==="y"&&d||a.toLowerCase()==="z"&&d&&l}(r,n,i,s)?(e.preventDefault(),Ne(t,Dk,void 0)):Ys(t._editorState._selection)?function(a,l,c,d){return!l&&a.toLowerCase()==="c"&&(Bs?c:d)}(r,n,i,s)?(e.preventDefault(),Ne(t,Sb,e)):function(a,l,c,d){return!l&&a.toLowerCase()==="x"&&(Bs?c:d)}(r,n,i,s)?(e.preventDefault(),Ne(t,Rk,e)):GR(r,i,s)&&(e.preventDefault(),Ne(t,F_,e)):!Ia&&GR(r,i,s)&&(e.preventDefault(),Ne(t,F_,e)),function(a,l,c,d){return a||l||c||d}(s,n,o,i)&&Ne(t,FOe,e))}],["pointerdown",function(e,t){const r=e.target,n=e.pointerType;r instanceof Node&&n!=="touch"&&Zn(t,()=>{$t(oc(r))||(J_=!0)})}],["compositionstart",function(e,t){Zn(t,()=>{const r=Ie();if(be(r)&&!t.isComposing()){const n=r.anchor,s=r.anchor.getNode();Kr(n.key),(e.timeStamp<Wf+G_||n.type==="element"||!r.isCollapsed()||s.getFormat()!==r.format||we(s)&&s.getStyle()!==r.style)&&Ne(t,Nu,HOe)}})}],["compositionend",function(e,t){Ia?hf=!0:Zn(t,()=>{Gx(t,e.data)})}],["input",function(e,t){e.stopPropagation(),Zn(t,()=>{const r=Ie(),n=e.data,s=s9(e);if(n!=null&&be(r)&&n9(r,s,n,e.timeStamp,!1)){hf&&(Gx(t,n),hf=!1);const i=r.anchor.getNode(),o=Ki(t._window);if(o===null)return;const a=r.isBackward(),l=a?r.anchor.offset:r.focus.offset,c=a?r.focus.offset:r.anchor.offset;ky&&!r.isCollapsed()&&we(i)&&o.anchorNode!==null&&i.getTextContent().slice(0,l)+n+i.getTextContent().slice(l+c)===W7(o.anchorNode)||Ne(t,Nu,n);const d=n.length;Ia&&d>1&&e.inputType==="insertCompositionText"&&!t.isComposing()&&(r.anchor.offset-=d),$k||Eb||Ik||!t.isComposing()||(Wf=0,Kr(null))}else Hk(!1,t,n!==null?n:void 0),hf&&(Gx(t,n||void 0),hf=!1);Tn(),I7(rr())}),Yc=null}],["click",function(e,t){Zn(t,()=>{const r=Ie(),n=Ki(t._window),s=Tp();if(n){if(be(r)){const i=r.anchor,o=i.getNode();i.type==="element"&&i.offset===0&&r.isCollapsed()&&!ln(o)&&mr().getChildrenSize()===1&&o.getTopLevelElementOrThrow().isEmpty()&&s!==null&&r.is(s)?(n.removeAllRanges(),r.dirty=!0):e.detail===3&&!r.isCollapsed()&&o!==r.focus.getNode()&&(de(o)?o.select(0):o.getParentOrThrow().select(0))}else if(e.pointerType==="touch"){const i=n.anchorNode;if(i!==null){const o=i.nodeType;(o===Ep||o===ol)&&Wi(Qk(s,n,t,e))}}}Ne(t,x7,e)})}],["cut",lo],["copy",lo],["dragstart",lo],["dragover",lo],["dragend",lo],["paste",lo],["focus",lo],["blur",lo],["drop",lo]];ky&&Z_.push(["beforeinput",(e,t)=>function(r,n){const s=r.inputType,i=s9(r);s==="deleteCompositionText"||Ia&&K7(n)||s!=="insertCompositionText"&&Zn(n,()=>{const o=Ie();if(s==="deleteContentBackward"){if(o===null){const p=Tp();if(!be(p))return;Wi(p.clone())}if(be(o)){const p=o.anchor.key===o.focus.key;if(a=r.timeStamp,e9==="MediaLast"&&a<Wf+G_&&n.isComposing()&&p){if(Kr(null),Wf=0,setTimeout(()=>{Zn(n,()=>{Kr(null)})},G_),be(o)){const g=o.anchor.getNode();g.markDirty(),o.format=g.getFormat(),we(g)||Ee(142),o.style=g.getStyle()}}else{Kr(null),r.preventDefault();const g=o.anchor.getNode().getTextContent(),m=o.anchor.offset===0&&o.focus.offset===g.length;UOe&&p&&!m||Ne(n,Vl,!0)}return}}var a;if(!be(o))return;const l=r.data;Yc!==null&&Hk(!1,n,Yc),o.dirty&&Yc===null||!o.isCollapsed()||ln(o.anchor.getNode())||i===null||o.applyDOMRange(i),Yc=null;const c=o.anchor,d=o.focus,f=c.getNode(),h=d.getNode();if(s!=="insertText"&&s!=="insertTranspose")switch(r.preventDefault(),s){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":Ne(n,Nu,r);break;case"insertFromComposition":Kr(null),Ne(n,Nu,r);break;case"insertLineBreak":Kr(null),Ne(n,ju,!1);break;case"insertParagraph":Kr(null),Kf&&!Eb?(Kf=!1,Ne(n,ju,!1)):Ne(n,jy,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":Ne(n,Pk,r);break;case"deleteByComposition":(function(p,g){return p!==g||de(p)||de(g)||!p.isToken()||!g.isToken()})(f,h)&&Ne(n,L_,r);break;case"deleteByDrag":case"deleteByCut":Ne(n,L_,r);break;case"deleteContent":Ne(n,Vl,!1);break;case"deleteWordBackward":Ne(n,Rh,!0);break;case"deleteWordForward":Ne(n,Rh,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":Ne(n,$h,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":Ne(n,$h,!1);break;case"formatStrikeThrough":Ne(n,Oa,"strikethrough");break;case"formatBold":Ne(n,Oa,"bold");break;case"formatItalic":Ne(n,Oa,"italic");break;case"formatUnderline":Ne(n,Oa,"underline");break;case"historyUndo":Ne(n,Ok,void 0);break;case"historyRedo":Ne(n,Dk,void 0)}else{if(l===`
`)r.preventDefault(),Ne(n,ju,!1);else if(l===zo)r.preventDefault(),Ne(n,jy,void 0);else if(l==null&&r.dataTransfer){const p=r.dataTransfer.getData("text/plain");r.preventDefault(),o.insertRawText(p)}else l!=null&&n9(o,i,l,r.timeStamp,!0)?(r.preventDefault(),Ne(n,Nu,l)):Yc=l;t9=r.timeStamp}})}(e,t)]);let Wf=0,e9=null,t9=0,Yc=null;const My=new WeakMap;let X_=!1,J_=!1,Kf=!1,hf=!1,r9=[0,"",0,"root",0];function n9(e,t,r,n,s){const i=e.anchor,o=e.focus,a=i.getNode(),l=rr(),c=Ki(l._window),d=c!==null?c.anchorNode:null,f=i.key,h=l.getElementByKey(f),p=r.length;return f!==o.key||!we(a)||(!s&&(!ky||t9<n+50)||a.isDirty()&&p<2||q7(r))&&i.offset!==o.offset&&!a.isComposing()||Kc(a)||a.isDirty()&&p>1||(s||!ky)&&h!==null&&!a.isComposing()&&d!==Py(h)||c!==null&&t!==null&&(!t.collapsed||t.startContainer!==c.anchorNode||t.startOffset!==c.anchorOffset)||a.getFormat()!==e.format||a.getStyle()!==e.style||c2e(e,a)}function JR(e,t){return e!==null&&e.nodeValue!==null&&e.nodeType===ol&&t!==0&&t!==e.nodeValue.length}function QR(e,t,r){const{anchorNode:n,anchorOffset:s,focusNode:i,focusOffset:o}=e;X_&&(X_=!1,JR(n,s)&&JR(i,o))||Zn(t,()=>{if(!r)return void Wi(null);if(!jp(t,n,i))return;const a=Ie();if(be(a)){const l=a.anchor,c=l.getNode();if(a.isCollapsed()){e.type==="Range"&&e.anchorNode===e.focusNode&&(a.dirty=!0);const d=Cb(t).event,f=d?d.timeStamp:performance.now(),[h,p,g,m,y]=r9,v=mr(),b=t.isComposing()===!1&&v.getTextContent()==="";if(f<y+200&&l.offset===g&&l.key===m)a.format=h,a.style=p;else if(l.type==="text")we(c)||Ee(141),a.format=c.getFormat(),a.style=c.getStyle();else if(l.type==="element"&&!b){const x=l.getNode();x instanceof Rd&&x.getChildrenSize()===0?a.format=x.getTextFormat():a.format=0,a.style=""}}else{const d=l.key,f=a.focus.key,h=a.getNodes(),p=h.length,g=a.isBackward(),m=g?o:s,y=g?s:o,v=g?f:d,b=g?d:f;let x=KOe,E=!1;for(let _=0;_<p;_++){const N=h[_],k=N.getTextContentSize();if(we(N)&&k!==0&&!(_===0&&N.__key===v&&m===k||_===p-1&&N.__key===b&&y===0)&&(E=!0,x&=N.getFormat(),x===0))break}a.format=E?x:0}}Ne(t,Ak,void 0)})}function s9(e){if(!e.getTargetRanges)return null;const t=e.getTargetRanges();return t.length===0?null:t[0]}function Gx(e,t){const r=e._compositionKey;if(Kr(null),r!==null&&t!=null){if(t===""){const n=yn(r),s=Py(e.getElementByKey(r));return void(s!==null&&s.nodeValue!==null&&we(n)&&Yk(n,s.nodeValue,null,null,!0))}if(t[t.length-1]===`
`){const n=Ie();if(be(n)){const s=n.focus;return n.anchor.set(s.key,s.offset,s.type),void Ne(e,Ny,null)}}}Hk(!0,e,t)}function i9(e){let t=e.__lexicalEventHandles;return t===void 0&&(t=[],e.__lexicalEventHandles=t),t}const ku=new Map;function o9(e){const t=e.target,r=Ki(t==null?null:t.nodeType===9?t.defaultView:t.ownerDocument.defaultView);if(r===null)return;const n=F7(r.anchorNode);if(n===null)return;J_&&(J_=!1,Zn(n,()=>{const c=Tp(),d=r.anchorNode;if(d===null)return;const f=d.nodeType;f!==Ep&&f!==ol||Wi(Qk(c,r,n,e))}));const s=Kk(n),i=s[s.length-1],o=i._key,a=ku.get(o),l=a||i;l!==n&&QR(r,l,!1),QR(r,n,!0),n!==i?ku.set(o,n):a&&ku.delete(o)}function e$(e){e._lexicalHandled=!0}function t$(e){return e._lexicalHandled===!0}function v2e(e){const t=e.ownerDocument,r=My.get(t);r===void 0&&Ee(162);const n=r-1;n>=0||Ee(164),My.set(t,n),n===0&&t.removeEventListener("selectionchange",o9);const s=e.__lexicalEditor;s!=null&&(function(o){if(o._parentEditor!==null){const a=Kk(o),l=a[a.length-1]._key;ku.get(l)===o&&ku.delete(l)}else ku.delete(o._key)}(s),e.__lexicalEditor=null);const i=i9(e);for(let o=0;o<i.length;o++)i[o]();e.__lexicalEventHandles=[]}function Q_(e,t,r){Tn();const n=e.__key,s=e.getParent();if(s===null)return;const i=function(a){const l=Ie();if(!be(l)||!de(a))return l;const{anchor:c,focus:d}=l,f=c.getNode(),h=d.getNode();return U_(f,a)&&c.set(a.__key,0,"element"),U_(h,a)&&d.set(a.__key,0,"element"),l}(e);let o=!1;if(be(i)&&t){const a=i.anchor,l=i.focus;a.key===n&&(Fy(a,e,s,e.getPreviousSibling(),e.getNextSibling()),o=!0),l.key===n&&(Fy(l,e,s,e.getPreviousSibling(),e.getNextSibling()),o=!0)}else Ys(i)&&t&&e.isSelected()&&e.selectPrevious();if(be(i)&&t&&!o){const a=e.getIndexWithinParent();Wl(e),Ly(i,s,a,-1)}else Wl(e);r||Od(s)||s.canBeEmpty()||!s.isEmpty()||Q_(s,t),t&&ln(s)&&s.isEmpty()&&s.selectEnd()}class Ob{static getType(){Ee(64,this.name)}static clone(t){Ee(65,this.name)}constructor(t){this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,l2e(this,t)}getType(){return this.__type}isInline(){Ee(137,this.constructor.name)}isAttached(){let t=this.__key;for(;t!==null;){if(t==="root")return!0;const r=yn(t);if(r===null)break;t=r.__parent}return!1}isSelected(t){const r=t||Ie();if(r==null)return!1;const n=r.getNodes().some(s=>s.__key===this.__key);return(we(this)||!be(r)||r.anchor.type!=="element"||r.focus.type!=="element"||r.anchor.key!==r.focus.key||r.anchor.offset!==r.focus.offset)&&n}getKey(){return this.__key}getIndexWithinParent(){const t=this.getParent();if(t===null)return-1;let r=t.getFirstChild(),n=0;for(;r!==null;){if(this.is(r))return n;n++,r=r.getNextSibling()}return-1}getParent(){const t=this.getLatest().__parent;return t===null?null:yn(t)}getParentOrThrow(){const t=this.getParent();return t===null&&Ee(66,this.__key),t}getTopLevelElement(){let t=this;for(;t!==null;){const r=t.getParent();if(Od(r))return de(t)||Ee(138),t;t=r}return null}getTopLevelElementOrThrow(){const t=this.getTopLevelElement();return t===null&&Ee(67,this.__key),t}getParents(){const t=[];let r=this.getParent();for(;r!==null;)t.push(r),r=r.getParent();return t}getParentKeys(){const t=[];let r=this.getParent();for(;r!==null;)t.push(r.__key),r=r.getParent();return t}getPreviousSibling(){const t=this.getLatest().__prev;return t===null?null:yn(t)}getPreviousSiblings(){const t=[],r=this.getParent();if(r===null)return t;let n=r.getFirstChild();for(;n!==null&&!n.is(this);)t.push(n),n=n.getNextSibling();return t}getNextSibling(){const t=this.getLatest().__next;return t===null?null:yn(t)}getNextSiblings(){const t=[];let r=this.getNextSibling();for(;r!==null;)t.push(r),r=r.getNextSibling();return t}getCommonAncestor(t){const r=this.getParents(),n=t.getParents();de(this)&&r.unshift(this),de(t)&&n.unshift(t);const s=r.length,i=n.length;if(s===0||i===0||r[s-1]!==n[i-1])return null;const o=new Set(n);for(let a=0;a<s;a++){const l=r[a];if(o.has(l))return l}return null}is(t){return t!=null&&this.__key===t.__key}isBefore(t){if(this===t)return!1;if(t.isParentOf(this))return!0;if(this.isParentOf(t))return!1;const r=this.getCommonAncestor(t);let n=0,s=0,i=this;for(;;){const o=i.getParentOrThrow();if(o===r){n=i.getIndexWithinParent();break}i=o}for(i=t;;){const o=i.getParentOrThrow();if(o===r){s=i.getIndexWithinParent();break}i=o}return n<s}isParentOf(t){const r=this.__key;if(r===t.__key)return!1;let n=t;for(;n!==null;){if(n.__key===r)return!0;n=n.getParent()}return!1}getNodesBetween(t){const r=this.isBefore(t),n=[],s=new Set;let i=this;for(;i!==null;){const o=i.__key;if(s.has(o)||(s.add(o),n.push(i)),i===t)break;const a=de(i)?r?i.getFirstChild():i.getLastChild():null;if(a!==null){i=a;continue}const l=r?i.getNextSibling():i.getPreviousSibling();if(l!==null){i=l;continue}const c=i.getParentOrThrow();if(s.has(c.__key)||n.push(c),c===t)break;let d=null,f=c;do{if(f===null&&Ee(68),d=r?f.getNextSibling():f.getPreviousSibling(),f=f.getParent(),f===null)break;d!==null||s.has(f.__key)||n.push(f)}while(d===null);i=d}return r||n.reverse(),n}isDirty(){const t=rr()._dirtyLeaves;return t!==null&&t.has(this.__key)}getLatest(){const t=yn(this.__key);return t===null&&Ee(113),t}getWritable(){Tn();const t=Xo(),r=rr(),n=t._nodeMap,s=this.__key,i=this.getLatest(),o=i.__parent,a=r._cloneNotNeeded,l=Ie();if(l!==null&&l.setCachedNodes(null),a.has(s))return Oy(i),i;const c=i.constructor.clone(i);return c.__parent=o,c.__next=i.__next,c.__prev=i.__prev,de(i)&&de(c)?(od(i)&&od(c)&&(c.__textFormat=i.__textFormat),c.__first=i.__first,c.__last=i.__last,c.__size=i.__size,c.__indent=i.__indent,c.__format=i.__format,c.__dir=i.__dir):we(i)&&we(c)&&(c.__format=i.__format,c.__style=i.__style,c.__mode=i.__mode,c.__detail=i.__detail),a.add(s),c.__key=s,Oy(c),n.set(s,c),c}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(t,r){Ee(70)}updateDOM(t,r,n){Ee(71)}exportDOM(t){return{element:this.createDOM(t._config,t)}}exportJSON(){Ee(72)}static importJSON(t){Ee(18,this.name)}static transform(){return null}remove(t){Q_(this,!0,t)}replace(t,r){Tn();let n=Ie();n!==null&&(n=n.clone()),Wx(this,t);const s=this.getLatest(),i=this.__key,o=t.__key,a=t.getWritable(),l=this.getParentOrThrow().getWritable(),c=l.__size;Wl(a);const d=s.getPreviousSibling(),f=s.getNextSibling(),h=s.__prev,p=s.__next,g=s.__parent;if(Q_(s,!1,!0),d===null?l.__first=o:d.getWritable().__next=o,a.__prev=h,f===null?l.__last=o:f.getWritable().__prev=o,a.__next=p,a.__parent=g,l.__size=c,r&&(de(this)&&de(a)||Ee(139),this.getChildren().forEach(m=>{a.append(m)})),be(n)){Wi(n);const m=n.anchor,y=n.focus;m.key===i&&o$(m,a),y.key===i&&o$(y,a)}return Da()===i&&Kr(o),a}insertAfter(t,r=!0){Tn(),Wx(this,t);const n=this.getWritable(),s=t.getWritable(),i=s.getParent(),o=Ie();let a=!1,l=!1;if(i!==null){const p=t.getIndexWithinParent();if(Wl(s),be(o)){const g=i.__key,m=o.anchor,y=o.focus;a=m.type==="element"&&m.key===g&&m.offset===p+1,l=y.type==="element"&&y.key===g&&y.offset===p+1}}const c=this.getNextSibling(),d=this.getParentOrThrow().getWritable(),f=s.__key,h=n.__next;if(c===null?d.__last=f:c.getWritable().__prev=f,d.__size++,n.__next=f,s.__next=h,s.__prev=n.__key,s.__parent=n.__parent,r&&be(o)){const p=this.getIndexWithinParent();Ly(o,d,p+1);const g=d.__key;a&&o.anchor.set(g,p+2,"element"),l&&o.focus.set(g,p+2,"element")}return t}insertBefore(t,r=!0){Tn(),Wx(this,t);const n=this.getWritable(),s=t.getWritable(),i=s.__key;Wl(s);const o=this.getPreviousSibling(),a=this.getParentOrThrow().getWritable(),l=n.__prev,c=this.getIndexWithinParent();o===null?a.__first=i:o.getWritable().__next=i,a.__size++,n.__prev=i,s.__prev=l,s.__next=n.__key,s.__parent=n.__parent;const d=Ie();return r&&be(d)&&Ly(d,this.getParentOrThrow(),c),t}isParentRequired(){return!1}createParentElementNode(){return Mi()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(t,r){Tn();const n=this.getPreviousSibling(),s=this.getParentOrThrow();if(n===null)return s.select(0,0);if(de(n))return n.select();if(!we(n)){const i=n.getIndexWithinParent()+1;return s.select(i,i)}return n.select(t,r)}selectNext(t,r){Tn();const n=this.getNextSibling(),s=this.getParentOrThrow();if(n===null)return s.select();if(de(n))return n.select(0,0);if(!we(n)){const i=n.getIndexWithinParent();return s.select(i,i)}return n.select(t,r)}markDirty(){this.getWritable()}}class Np extends Ob{static getType(){return"linebreak"}static clone(t){return new Np(t.__key)}constructor(t){super(t)}getTextContent(){return`
`}createDOM(){return document.createElement("br")}updateDOM(){return!1}static importDOM(){return{br:t=>function(r){const n=r.parentElement;if(n!==null){const s=n.firstChild;if(s===r||s.nextSibling===r&&r$(s)){const i=n.lastChild;if(i===r||i.previousSibling===r&&r$(i))return!0}}return!1}(t)?null:{conversion:b2e,priority:0}}}static importJSON(t){return id()}exportJSON(){return{type:"linebreak",version:1}}}function b2e(e){return{node:id()}}function id(){return Tb(new Np)}function Hf(e){return e instanceof Np}function r$(e){return e.nodeType===ol&&/^( |\t|\r?\n)+$/.test(e.textContent||"")}function Zx(e,t){return 16&t?"code":t&Mk?"mark":32&t?"sub":64&t?"sup":null}function Xx(e,t){return 1&t?"strong":2&t?"em":"span"}function a9(e,t,r,n,s){const i=n.classList;let o=Vf(s,"base");o!==void 0&&i.add(...o),o=Vf(s,"underlineStrikethrough");let a=!1;const l=t&Ty&&t&Cy;o!==void 0&&(r&Ty&&r&Cy?(a=!0,l||i.add(...o)):l&&i.remove(...o));for(const c in ic){const d=ic[c];if(o=Vf(s,c),o!==void 0)if(r&d){if(a&&(c==="underline"||c==="strikethrough")){t&d&&i.remove(...o);continue}t&d&&(!l||c!=="underline")&&c!=="strikethrough"||i.add(...o)}else t&d&&i.remove(...o)}}function l9(e,t,r){const n=t.firstChild,s=r.isComposing(),i=e+(s?jb:"");if(n==null)t.textContent=i;else{const o=n.nodeValue;if(o!==i)if(s||Ia){const[a,l,c]=function(d,f){const h=d.length,p=f.length;let g=0,m=0;for(;g<h&&g<p&&d[g]===f[g];)g++;for(;m+g<h&&m+g<p&&d[h-m-1]===f[p-m-1];)m++;return[g,h-g-m,f.slice(g,p-m)]}(o,i);l!==0&&n.deleteData(a,l),n.insertData(a,c)}else n.nodeValue=i}}function n$(e,t,r,n,s,i){l9(s,e,t);const o=i.theme.text;o!==void 0&&a9(0,0,n,e,o)}function Fm(e,t){const r=document.createElement(t);return r.appendChild(e),r}class Dd extends Ob{static getType(){return"text"}static clone(t){return new Dd(t.__text,t.__key)}constructor(t,r){super(r),this.__text=t,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){const t=this.getLatest();return QOe[t.__mode]}getStyle(){return this.getLatest().__style}isToken(){return this.getLatest().__mode===1}isComposing(){return this.__key===Da()}isSegmented(){return this.getLatest().__mode===2}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(t){const r=ic[t];return!!(this.getFormat()&r)}isSimpleText(){return this.__type==="text"&&this.__mode===0}getTextContent(){return this.getLatest().__text}getFormatFlags(t,r){return z_(this.getLatest().__format,t,r)}canHaveFormat(){return!0}createDOM(t,r){const n=this.__format,s=Zx(0,n),i=Xx(0,n),o=s===null?i:s,a=document.createElement(o);let l=a;this.hasFormat("code")&&a.setAttribute("spellcheck","false"),s!==null&&(l=document.createElement(i),a.appendChild(l)),n$(l,this,0,n,this.__text,t);const c=this.__style;return c!==""&&(a.style.cssText=c),a}updateDOM(t,r,n){const s=this.__text,i=t.__format,o=this.__format,a=Zx(0,i),l=Zx(0,o),c=Xx(0,i),d=Xx(0,o);if((a===null?c:a)!==(l===null?d:l))return!0;if(a===l&&c!==d){const m=r.firstChild;m==null&&Ee(48);const y=document.createElement(d);return n$(y,this,0,o,s,n),r.replaceChild(y,m),!1}let f=r;l!==null&&a!==null&&(f=r.firstChild,f==null&&Ee(49)),l9(s,f,this);const h=n.theme.text;h!==void 0&&i!==o&&a9(0,i,o,f,h);const p=t.__style,g=this.__style;return p!==g&&(r.style.cssText=g),!1}static importDOM(){return{"#text":()=>({conversion:S2e,priority:0}),b:()=>({conversion:w2e,priority:0}),code:()=>({conversion:ca,priority:0}),em:()=>({conversion:ca,priority:0}),i:()=>({conversion:ca,priority:0}),s:()=>({conversion:ca,priority:0}),span:()=>({conversion:x2e,priority:0}),strong:()=>({conversion:ca,priority:0}),sub:()=>({conversion:ca,priority:0}),sup:()=>({conversion:ca,priority:0}),u:()=>({conversion:ca,priority:0})}}static importJSON(t){const r=tn(t.text);return r.setFormat(t.format),r.setDetail(t.detail),r.setMode(t.mode),r.setStyle(t.style),r}exportDOM(t){let{element:r}=super.exportDOM(t);return r!==null&&Xk(r)||Ee(132),r.style.whiteSpace="pre-wrap",this.hasFormat("bold")&&(r=Fm(r,"b")),this.hasFormat("italic")&&(r=Fm(r,"i")),this.hasFormat("strikethrough")&&(r=Fm(r,"s")),this.hasFormat("underline")&&(r=Fm(r,"u")),{element:r}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),type:"text",version:1}}selectionTransform(t,r){}setFormat(t){const r=this.getWritable();return r.__format=typeof t=="string"?ic[t]:t,r}setDetail(t){const r=this.getWritable();return r.__detail=typeof t=="string"?ZOe[t]:t,r}setStyle(t){const r=this.getWritable();return r.__style=t,r}toggleFormat(t){const r=z_(this.getFormat(),t,null);return this.setFormat(r)}toggleDirectionless(){const t=this.getWritable();return t.__detail^=1,t}toggleUnmergeable(){const t=this.getWritable();return t.__detail^=2,t}setMode(t){const r=JOe[t];if(this.__mode===r)return this;const n=this.getWritable();return n.__mode=r,n}setTextContent(t){if(this.__text===t)return this;const r=this.getWritable();return r.__text=t,r}select(t,r){Tn();let n=t,s=r;const i=Ie(),o=this.getTextContent(),a=this.__key;if(typeof o=="string"){const l=o.length;n===void 0&&(n=l),s===void 0&&(s=l)}else n=0,s=0;if(!be(i))return d9(a,n,a,s,"text","text");{const l=Da();l!==i.anchor.key&&l!==i.focus.key||Kr(a),i.setTextNodeRange(this,n,this,s)}return i}selectStart(){return this.select(0,0)}selectEnd(){const t=this.getTextContentSize();return this.select(t,t)}spliceText(t,r,n,s){const i=this.getWritable(),o=i.__text,a=n.length;let l=t;l<0&&(l=a+l,l<0&&(l=0));const c=Ie();if(s&&be(c)){const f=t+a;c.setTextNodeRange(i,f,i,f)}const d=o.slice(0,l)+n+o.slice(l+r);return i.__text=d,i}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...t){Tn();const r=this.getLatest(),n=r.getTextContent(),s=r.__key,i=Da(),o=new Set(t),a=[],l=n.length;let c="";for(let k=0;k<l;k++)c!==""&&o.has(k)&&(a.push(c),c=""),c+=n[k];c!==""&&a.push(c);const d=a.length;if(d===0)return[];if(a[0]===n)return[r];const f=a[0],h=r.getParentOrThrow();let p;const g=r.getFormat(),m=r.getStyle(),y=r.__detail;let v=!1;r.isSegmented()?(p=tn(f),p.__format=g,p.__style=m,p.__detail=y,v=!0):(p=r.getWritable(),p.__text=f);const b=Ie(),x=[p];let E=f.length;for(let k=1;k<d;k++){const C=a[k],T=C.length,$=tn(C).getWritable();$.__format=g,$.__style=m,$.__detail=y;const M=$.__key,L=E+T;if(be(b)){const D=b.anchor,z=b.focus;D.key===s&&D.type==="text"&&D.offset>E&&D.offset<=L&&(D.key=M,D.offset-=E,b.dirty=!0),z.key===s&&z.type==="text"&&z.offset>E&&z.offset<=L&&(z.key=M,z.offset-=E,b.dirty=!0)}i===s&&Kr(M),E=L,x.push($)}(function(k){const C=k.getPreviousSibling(),T=k.getNextSibling();C!==null&&Oy(C),T!==null&&Oy(T)})(this);const _=h.getWritable(),N=this.getIndexWithinParent();return v?(_.splice(N,0,x),this.remove()):_.splice(N,1,x),be(b)&&Ly(b,h,N,d-1),x}mergeWithSibling(t){const r=t===this.getPreviousSibling();r||t===this.getNextSibling()||Ee(50);const n=this.__key,s=t.__key,i=this.__text,o=i.length;Da()===s&&Kr(n);const a=Ie();if(be(a)){const f=a.anchor,h=a.focus;f!==null&&f.key===s&&(h$(f,r,n,t,o),a.dirty=!0),h!==null&&h.key===s&&(h$(h,r,n,t,o),a.dirty=!0)}const l=t.__text,c=r?l+i:i+l;this.setTextContent(c);const d=this.getWritable();return t.remove(),d}isTextEntity(){return!1}}function x2e(e){return{forChild:Jk(e.style),node:null}}function w2e(e){const t=e,r=t.style.fontWeight==="normal";return{forChild:Jk(t.style,r?void 0:"bold"),node:null}}const s$=new WeakMap;function _2e(e){return e.nodeName==="PRE"||e.nodeType===Ep&&e.style!==void 0&&e.style.whiteSpace!==void 0&&e.style.whiteSpace.startsWith("pre")}function S2e(e){const t=e;e.parentElement===null&&Ee(129);let r=t.textContent||"";if(function(n){let s,i=n.parentNode;const o=[n];for(;i!==null&&(s=s$.get(i))===void 0&&!_2e(i);)o.push(i),i=i.parentNode;const a=s===void 0?i:s;for(let l=0;l<o.length;l++)s$.set(o[l],a);return a}(t)!==null){const n=r.split(/(\r?\n|\t)/),s=[],i=n.length;for(let o=0;o<i;o++){const a=n[o];a===`
`||a===`\r
`?s.push(id()):a==="	"?s.push(Cp()):a!==""&&s.push(tn(a))}return{node:s}}if(r=r.replace(/\r/g,"").replace(/[ \t\n]+/g," "),r==="")return{node:null};if(r[0]===" "){let n=t,s=!0;for(;n!==null&&(n=i$(n,!1))!==null;){const i=n.textContent||"";if(i.length>0){/[ \t\n]$/.test(i)&&(r=r.slice(1)),s=!1;break}}s&&(r=r.slice(1))}if(r[r.length-1]===" "){let n=t,s=!0;for(;n!==null&&(n=i$(n,!0))!==null;)if((n.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){s=!1;break}s&&(r=r.slice(0,r.length-1))}return r===""?{node:null}:{node:tn(r)}}function i$(e,t){let r=e;for(;;){let n;for(;(n=t?r.nextSibling:r.previousSibling)===null;){const i=r.parentElement;if(i===null)return null;r=i}if(r=n,r.nodeType===Ep){const i=r.style.display;if(i===""&&!h2e(r)||i!==""&&!i.startsWith("inline"))return null}let s=r;for(;(s=t?r.firstChild:r.lastChild)!==null;)r=s;if(r.nodeType===ol)return r;if(r.nodeName==="BR")return null}}const E2e={code:"code",em:"italic",i:"italic",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function ca(e){const t=E2e[e.nodeName.toLowerCase()];return t===void 0?{node:null}:{forChild:Jk(e.style,t),node:null}}function tn(e=""){return Tb(new Dd(e))}function we(e){return e instanceof Dd}function Jk(e,t){const r=e.fontWeight,n=e.textDecoration.split(" "),s=r==="700"||r==="bold",i=n.includes("line-through"),o=e.fontStyle==="italic",a=n.includes("underline"),l=e.verticalAlign;return c=>(we(c)&&(s&&!c.hasFormat("bold")&&c.toggleFormat("bold"),i&&!c.hasFormat("strikethrough")&&c.toggleFormat("strikethrough"),o&&!c.hasFormat("italic")&&c.toggleFormat("italic"),a&&!c.hasFormat("underline")&&c.toggleFormat("underline"),l!=="sub"||c.hasFormat("subscript")||c.toggleFormat("subscript"),l!=="super"||c.hasFormat("superscript")||c.toggleFormat("superscript"),t&&!c.hasFormat(t)&&c.toggleFormat(t)),c)}class kp extends Dd{static getType(){return"tab"}static clone(t){const r=new kp(t.__key);return r.__text=t.__text,r.__format=t.__format,r.__style=t.__style,r}constructor(t){super("	",t),this.__detail=2}static importDOM(){return null}static importJSON(t){const r=Cp();return r.setFormat(t.format),r.setStyle(t.style),r}exportJSON(){return{...super.exportJSON(),type:"tab",version:1}}setTextContent(t){Ee(126)}setDetail(t){Ee(127)}setMode(t){Ee(128)}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function Cp(){return Tb(new kp)}function j2e(e){return e instanceof kp}class N2e{constructor(t,r,n){this._selection=null,this.key=t,this.offset=r,this.type=n}is(t){return this.key===t.key&&this.offset===t.offset&&this.type===t.type}isBefore(t){let r=this.getNode(),n=t.getNode();const s=this.offset,i=t.offset;if(de(r)){const o=r.getDescendantByIndex(s);r=o??r}if(de(n)){const o=n.getDescendantByIndex(i);n=o??n}return r===n?s<i:r.isBefore(n)}getNode(){const t=yn(this.key);return t===null&&Ee(20),t}set(t,r,n){const s=this._selection,i=this.key;this.key=t,this.offset=r,this.type=n,Ap()||(Da()===i&&Kr(t),s!==null&&(s.setCachedNodes(null),s.dirty=!0))}}function Hi(e,t,r){return new N2e(e,t,r)}function Jx(e,t){let r=t.__key,n=e.offset,s="element";if(we(t)){s="text";const i=t.getTextContentSize();n>i&&(n=i)}else if(!de(t)){const i=t.getNextSibling();if(we(i))r=i.__key,n=0,s="text";else{const o=t.getParent();o&&(r=o.__key,n=t.getIndexWithinParent()+1)}}e.set(r,n,s)}function o$(e,t){if(de(t)){const r=t.getLastDescendant();de(r)||we(r)?Jx(e,r):Jx(e,t)}else Jx(e,t)}function va(e,t,r,n){e.key=t,e.offset=r,e.type=n}class Db{constructor(t){this._cachedNodes=null,this._nodes=t,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(t){this._cachedNodes=t}is(t){if(!Ys(t))return!1;const r=this._nodes,n=t._nodes;return r.size===n.size&&Array.from(r).every(s=>n.has(s))}isCollapsed(){return!1}isBackward(){return!1}getStartEndPoints(){return null}add(t){this.dirty=!0,this._nodes.add(t),this._cachedNodes=null}delete(t){this.dirty=!0,this._nodes.delete(t),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(t){return this._nodes.has(t)}clone(){return new Db(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(t){}insertText(){}insertNodes(t){const r=this.getNodes(),n=r.length,s=r[n-1];let i;if(we(s))i=s.select();else{const o=s.getIndexWithinParent()+1;i=s.getParentOrThrow().select(o,o)}i.insertNodes(t);for(let o=0;o<n;o++)r[o].remove()}getNodes(){const t=this._cachedNodes;if(t!==null)return t;const r=this._nodes,n=[];for(const s of r){const i=yn(s);i!==null&&n.push(i)}return Ap()||(this._cachedNodes=n),n}getTextContent(){const t=this.getNodes();let r="";for(let n=0;n<t.length;n++)r+=t[n].getTextContent();return r}}function be(e){return e instanceof al}class al{constructor(t,r,n,s){this.anchor=t,this.focus=r,t._selection=this,r._selection=this,this._cachedNodes=null,this.format=n,this.style=s,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(t){this._cachedNodes=t}is(t){return!!be(t)&&this.anchor.is(t.anchor)&&this.focus.is(t.focus)&&this.format===t.format&&this.style===t.style}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){const t=this._cachedNodes;if(t!==null)return t;const r=this.anchor,n=this.focus,s=r.isBefore(n),i=s?r:n,o=s?n:r;let a=i.getNode(),l=o.getNode();const c=i.offset,d=o.offset;if(de(a)){const h=a.getDescendantByIndex(c);a=h??a}if(de(l)){let h=l.getDescendantByIndex(d);h!==null&&h!==a&&l.getChildAtIndex(d)===h&&(h=h.getPreviousSibling()),l=h??l}let f;return f=a.is(l)?de(a)&&a.getChildrenSize()>0?[]:[a]:a.getNodesBetween(l),Ap()||(this._cachedNodes=f),f}setTextNodeRange(t,r,n,s){va(this.anchor,t.__key,r,"text"),va(this.focus,n.__key,s,"text"),this._cachedNodes=null,this.dirty=!0}getTextContent(){const t=this.getNodes();if(t.length===0)return"";const r=t[0],n=t[t.length-1],s=this.anchor,i=this.focus,o=s.isBefore(i),[a,l]=eS(this);let c="",d=!0;for(let f=0;f<t.length;f++){const h=t[f];if(de(h)&&!h.isInline())d||(c+=`
`),d=!h.isEmpty();else if(d=!1,we(h)){let p=h.getTextContent();h===r?h===n?s.type==="element"&&i.type==="element"&&i.offset!==s.offset||(p=a<l?p.slice(a,l):p.slice(l,a)):p=o?p.slice(a):p.slice(l):h===n&&(p=o?p.slice(0,l):p.slice(0,a)),c+=p}else!$t(h)&&!Hf(h)||h===n&&this.isCollapsed()||(c+=h.getTextContent())}return c}applyDOMRange(t){const r=rr(),n=r.getEditorState()._selection,s=u9(t.startContainer,t.startOffset,t.endContainer,t.endOffset,r,n);if(s===null)return;const[i,o]=s;va(this.anchor,i.key,i.offset,i.type),va(this.focus,o.key,o.offset,o.type),this._cachedNodes=null}clone(){const t=this.anchor,r=this.focus;return new al(Hi(t.key,t.offset,t.type),Hi(r.key,r.offset,r.type),this.format,this.style)}toggleFormat(t){this.format=z_(this.format,t,null),this.dirty=!0}setStyle(t){this.style=t,this.dirty=!0}hasFormat(t){const r=ic[t];return!!(this.format&r)}insertRawText(t){const r=t.split(/(\r?\n|\t)/),n=[],s=r.length;for(let i=0;i<s;i++){const o=r[i];o===`
`||o===`\r
`?n.push(id()):o==="	"?n.push(Cp()):n.push(tn(o))}this.insertNodes(n)}insertText(t){const r=this.anchor,n=this.focus,s=this.format,i=this.style;let o=r,a=n;!this.isCollapsed()&&n.isBefore(r)&&(o=n,a=r),o.type==="element"&&function(y,v,b,x){const E=y.getNode(),_=E.getChildAtIndex(y.offset),N=tn(),k=ln(E)?Mi().append(N):N;N.setFormat(b),N.setStyle(x),_===null?E.append(k):_.insertBefore(k),y.is(v)&&v.set(N.__key,0,"text"),y.set(N.__key,0,"text")}(o,a,s,i);const l=o.offset;let c=a.offset;const d=this.getNodes(),f=d.length;let h=d[0];we(h)||Ee(26);const p=h.getTextContent().length,g=h.getParentOrThrow();let m=d[f-1];if(f===1&&a.type==="element"&&(c=p,a.set(o.key,c,"text")),this.isCollapsed()&&l===p&&(h.isSegmented()||h.isToken()||!h.canInsertTextAfter()||!g.canInsertTextAfter()&&h.getNextSibling()===null)){let y=h.getNextSibling();if(we(y)&&y.canInsertTextBefore()&&!Kc(y)||(y=tn(),y.setFormat(s),y.setStyle(i),g.canInsertTextAfter()?h.insertAfter(y):g.insertAfter(y)),y.select(0,0),h=y,t!=="")return void this.insertText(t)}else if(this.isCollapsed()&&l===0&&(h.isSegmented()||h.isToken()||!h.canInsertTextBefore()||!g.canInsertTextBefore()&&h.getPreviousSibling()===null)){let y=h.getPreviousSibling();if(we(y)&&!Kc(y)||(y=tn(),y.setFormat(s),g.canInsertTextBefore()?h.insertBefore(y):g.insertBefore(y)),y.select(),h=y,t!=="")return void this.insertText(t)}else if(h.isSegmented()&&l!==p){const y=tn(h.getTextContent());y.setFormat(s),h.replace(y),h=y}else if(!this.isCollapsed()&&t!==""){const y=m.getParent();if(!g.canInsertTextBefore()||!g.canInsertTextAfter()||de(y)&&(!y.canInsertTextBefore()||!y.canInsertTextAfter()))return this.insertText(""),c9(this.anchor,this.focus,null),void this.insertText(t)}if(f===1){if(h.isToken()){const x=tn(t);return x.select(),void h.replace(x)}const y=h.getFormat(),v=h.getStyle();if(l!==c||y===s&&v===i){if(j2e(h)){const x=tn(t);return x.setFormat(s),x.setStyle(i),x.select(),void h.replace(x)}}else{if(h.getTextContent()!==""){const x=tn(t);if(x.setFormat(s),x.setStyle(i),x.select(),l===0)h.insertBefore(x,!1);else{const[E]=h.splitText(l);E.insertAfter(x,!1)}return void(x.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=t.length))}h.setFormat(s),h.setStyle(i)}const b=c-l;h=h.spliceText(l,b,t,!0),h.getTextContent()===""?h.remove():this.anchor.type==="text"&&(h.isComposing()?this.anchor.offset-=t.length:(this.format=y,this.style=v))}else{const y=new Set([...h.getParentKeys(),...m.getParentKeys()]),v=de(h)?h:h.getParentOrThrow();let b=de(m)?m:m.getParentOrThrow(),x=m;if(!v.is(b)&&b.isInline())do x=b,b=b.getParentOrThrow();while(b.isInline());if(a.type==="text"&&(c!==0||m.getTextContent()==="")||a.type==="element"&&m.getIndexWithinParent()<c)if(we(m)&&!m.isToken()&&c!==m.getTextContentSize()){if(m.isSegmented()){const C=tn(m.getTextContent());m.replace(C),m=C}ln(a.getNode())||a.type!=="text"||(m=m.spliceText(0,c,"")),y.add(m.__key)}else{const C=m.getParentOrThrow();C.canBeEmpty()||C.getChildrenSize()!==1?m.remove():C.remove()}else y.add(m.__key);const E=b.getChildren(),_=new Set(d),N=v.is(b),k=v.isInline()&&h.getNextSibling()===null?v:h;for(let C=E.length-1;C>=0;C--){const T=E[C];if(T.is(h)||de(T)&&T.isParentOf(h))break;T.isAttached()&&(!_.has(T)||T.is(x)?N||k.insertAfter(T,!1):T.remove())}if(!N){let C=b,T=null;for(;C!==null;){const $=C.getChildren(),M=$.length;(M===0||$[M-1].is(T))&&(y.delete(C.__key),T=C),C=C.getParent()}}if(h.isToken())if(l===p)h.select();else{const C=tn(t);C.select(),h.replace(C)}else h=h.spliceText(l,p-l,t,!0),h.getTextContent()===""?h.remove():h.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=t.length);for(let C=1;C<f;C++){const T=d[C],$=T.__key;y.has($)||T.remove()}}}removeText(){this.insertText("")}formatText(t){if(this.isCollapsed())return this.toggleFormat(t),void Kr(null);const r=this.getNodes(),n=[];for(const b of r)we(b)&&n.push(b);const s=n.length;if(s===0)return this.toggleFormat(t),void Kr(null);const i=this.anchor,o=this.focus,a=this.isBackward(),l=a?o:i,c=a?i:o;let d=0,f=n[0],h=l.type==="element"?0:l.offset;if(l.type==="text"&&h===f.getTextContentSize()&&(d=1,f=n[1],h=0),f==null)return;const p=f.getFormatFlags(t,null),g=s-1;let m=n[g];const y=c.type==="text"?c.offset:m.getTextContentSize();if(f.is(m)){if(h===y)return;if(Kc(f)||h===0&&y===f.getTextContentSize())f.setFormat(p);else{const b=f.splitText(h,y),x=h===0?b[0]:b[1];x.setFormat(p),l.type==="text"&&l.set(x.__key,0,"text"),c.type==="text"&&c.set(x.__key,y-h,"text")}return void(this.format=p)}h===0||Kc(f)||([,f]=f.splitText(h),h=0),f.setFormat(p);const v=m.getFormatFlags(t,p);y>0&&(y===m.getTextContentSize()||Kc(m)||([m]=m.splitText(y)),m.setFormat(v));for(let b=d+1;b<g;b++){const x=n[b],E=x.getFormatFlags(t,v);x.setFormat(E)}l.type==="text"&&l.set(f.__key,h,"text"),c.type==="text"&&c.set(m.__key,y,"text"),this.format=p|v}insertNodes(t){if(t.length===0)return;if(this.anchor.key==="root"){this.insertParagraph();const g=Ie();return be(g)||Ee(134),g.insertNodes(t)}const r=Hx((this.isBackward()?this.focus:this.anchor).getNode(),Hc),n=t[t.length-1];if("__language"in r&&de(r)){if("__language"in t[0])this.insertText(t[0].getTextContent());else{const g=Qx(this);r.splice(g,0,t),n.selectEnd()}return}if(!t.some(g=>(de(g)||$t(g))&&!g.isInline())){de(r)||Ee(135);const g=Qx(this);return r.splice(g,0,t),void n.selectEnd()}const s=function(g){const m=Mi();let y=null;for(let v=0;v<g.length;v++){const b=g[v],x=Hf(b);if(x||$t(b)&&b.isInline()||de(b)&&b.isInline()||we(b)||b.isParentRequired()){if(y===null&&(y=b.createParentElementNode(),m.append(y),x))continue;y!==null&&y.append(b)}else m.append(b),y=null}return m}(t),i=s.getLastDescendant(),o=s.getChildren(),a=g=>"__value"in g&&"__checked"in g,l=!de(r)||!r.isEmpty()?this.insertParagraph():null,c=o[o.length-1];let d=o[0];var f;de(f=d)&&Hc(f)&&!f.isEmpty()&&de(r)&&(!r.isEmpty()||a(r))&&(de(r)||Ee(135),r.append(...d.getChildren()),d=o[1]),d&&function(g,m,y){const v=m.getParentOrThrow().getLastChild();let b=m;const x=[m];for(;b!==v;)b.getNextSibling()||Ee(140),b=b.getNextSibling(),x.push(b);let E=g;for(const _ of x)E=E.insertAfter(_)}(r,d);const h=Hx(i,Hc);l&&de(h)&&(a(l)||Hc(c))&&(h.append(...l.getChildren()),l.remove()),de(r)&&r.isEmpty()&&r.remove(),i.selectEnd();const p=de(r)?r.getLastChild():null;Hf(p)&&h!==r&&p.remove()}insertParagraph(){if(this.anchor.key==="root"){const o=Mi();return mr().splice(this.anchor.offset,0,[o]),o.select(),o}const t=Qx(this),r=Hx(this.anchor.getNode(),Hc);de(r)||Ee(136);const n=r.getChildAtIndex(t),s=n?[n,...n.getNextSiblings()]:[],i=r.insertNewAfter(this,!1);return i?(i.append(...s),i.selectStart(),i):null}insertLineBreak(t){const r=id();if(this.insertNodes([r]),t){const n=r.getParentOrThrow(),s=r.getIndexWithinParent();n.select(s,s)}}extract(){const t=this.getNodes(),r=t.length,n=r-1,s=this.anchor,i=this.focus;let o=t[0],a=t[n];const[l,c]=eS(this);if(r===0)return[];if(r===1){if(we(o)&&!this.isCollapsed()){const f=l>c?c:l,h=l>c?l:c,p=o.splitText(f,h),g=f===0?p[0]:p[1];return g!=null?[g]:[]}return[o]}const d=s.isBefore(i);if(we(o)){const f=d?l:c;f===o.getTextContentSize()?t.shift():f!==0&&([,o]=o.splitText(f),t[0]=o)}if(we(a)){const f=a.getTextContent().length,h=d?c:l;h===0?t.pop():h!==f&&([a]=a.splitText(h),t[n]=a)}return t}modify(t,r,n){const s=this.focus,i=this.anchor,o=t==="move",a=Ih(s,r);if($t(a)&&!a.isIsolated()){if(o&&a.isKeyboardSelectable()){const p=d$();return p.add(a.__key),void Wi(p)}const h=r?a.getPreviousSibling():a.getNextSibling();if(we(h)){const p=h.__key,g=r?h.getTextContent().length:0;return s.set(p,g,"text"),void(o&&i.set(p,g,"text"))}{const p=a.getParentOrThrow();let g,m;return de(h)?(m=h.__key,g=r?h.getChildrenSize():0):(g=a.getIndexWithinParent(),m=p.__key,r||g++),s.set(m,g,"element"),void(o&&i.set(m,g,"element"))}}const l=rr(),c=Ki(l._window);if(!c)return;const d=l._blockCursorElement,f=l._rootElement;if(f===null||d===null||!de(a)||a.isInline()||a.canBeEmpty()||Zk(d,l,f),function(h,p,g,m){h.modify(p,g,m)}(c,t,r?"backward":"forward",n),c.rangeCount>0){const h=c.getRangeAt(0),p=this.anchor.getNode(),g=ln(p)?p:d2e(p);if(this.applyDOMRange(h),this.dirty=!0,!o){const m=this.getNodes(),y=[];let v=!1;for(let b=0;b<m.length;b++){const x=m[b];U_(x,g)?y.push(x):v=!0}if(v&&y.length>0)if(r){const b=y[0];de(b)?b.selectStart():b.getParentOrThrow().selectStart()}else{const b=y[y.length-1];de(b)?b.selectEnd():b.getParentOrThrow().selectEnd()}c.anchorNode===h.startContainer&&c.anchorOffset===h.startOffset||function(b){const x=b.focus,E=b.anchor,_=E.key,N=E.offset,k=E.type;va(E,x.key,x.offset,x.type),va(x,_,N,k),b._cachedNodes=null}(this)}}}forwardDeletion(t,r,n){if(!n&&(t.type==="element"&&de(r)&&t.offset===r.getChildrenSize()||t.type==="text"&&t.offset===r.getTextContentSize())){const s=r.getParent(),i=r.getNextSibling()||(s===null?null:s.getNextSibling());if(de(i)&&i.isShadowRoot())return!0}return!1}deleteCharacter(t){const r=this.isCollapsed();if(this.isCollapsed()){const n=this.anchor;let s=n.getNode();if(this.forwardDeletion(n,s,t))return;const i=this.focus,o=Ih(i,t);if($t(o)&&!o.isIsolated()){if(o.isKeyboardSelectable()&&de(s)&&s.getChildrenSize()===0){s.remove();const a=d$();a.add(o.__key),Wi(a)}else o.remove(),rr().dispatchCommand(Ak,void 0);return}if(!t&&de(o)&&de(s)&&s.isEmpty())return s.remove(),void o.selectStart();if(this.modify("extend",t,"character"),this.isCollapsed()){if(t&&n.offset===0&&(n.type==="element"?n.getNode():n.getNode().getParentOrThrow()).collapseAtStart(this))return}else{const a=i.type==="text"?i.getNode():null;if(s=n.type==="text"?n.getNode():null,a!==null&&a.isSegmented()){const l=i.offset,c=a.getTextContentSize();if(a.is(s)||t&&l!==c||!t&&l!==0)return void l$(a,t,l)}else if(s!==null&&s.isSegmented()){const l=n.offset,c=s.getTextContentSize();if(s.is(a)||t&&l!==0||!t&&l!==c)return void l$(s,t,l)}(function(l,c){const d=l.anchor,f=l.focus,h=d.getNode(),p=f.getNode();if(h===p&&d.type==="text"&&f.type==="text"){const g=d.offset,m=f.offset,y=g<m,v=y?g:m,b=y?m:g,x=b-1;v!==x&&(q7(h.getTextContent().slice(v,b))||(c?f.offset=x:d.offset=x))}})(this,t)}}if(this.removeText(),t&&!r&&this.isCollapsed()&&this.anchor.type==="element"&&this.anchor.offset===0){const n=this.anchor.getNode();n.isEmpty()&&ln(n.getParent())&&n.getIndexWithinParent()===0&&n.collapseAtStart(this)}}deleteLine(t){if(this.isCollapsed()){const r=this.anchor.type==="element";if(r&&this.insertText(" "),this.modify("extend",t,"lineboundary"),(t?this.focus:this.anchor).offset===0&&this.modify("extend",t,"character"),r){const n=t?this.anchor:this.focus;n.set(n.key,n.offset+1,n.type)}}this.removeText()}deleteWord(t){if(this.isCollapsed()){const r=this.anchor,n=r.getNode();if(this.forwardDeletion(r,n,t))return;this.modify("extend",t,"word")}this.removeText()}isBackward(){return this.focus.isBefore(this.anchor)}getStartEndPoints(){return[this.anchor,this.focus]}}function Ys(e){return e instanceof Db}function a$(e){const t=e.offset;if(e.type==="text")return t;const r=e.getNode();return t===r.getChildrenSize()?r.getTextContent().length:0}function eS(e){const t=e.getStartEndPoints();if(t===null)return[0,0];const[r,n]=t;return r.type==="element"&&n.type==="element"&&r.key===n.key&&r.offset===n.offset?[0,0]:[a$(r),a$(n)]}function l$(e,t,r){const n=e,s=n.getTextContent().split(/(?=\s)/g),i=s.length;let o=0,a=0;for(let c=0;c<i;c++){const d=c===i-1;if(a=o,o+=s[c].length,t&&o===r||o>r||d){s.splice(c,1),d&&(a=void 0);break}}const l=s.join("").trim();l===""?n.remove():(n.setTextContent(l),n.select(a,a))}function c$(e,t,r,n){let s,i=t;if(e.nodeType===Ep){let o=!1;const a=e.childNodes,l=a.length,c=n._blockCursorElement;i===l&&(o=!0,i=l-1);let d=a[i],f=!1;if(d===c)d=a[i+1],f=!0;else if(c!==null){const h=c.parentNode;e===h&&t>Array.prototype.indexOf.call(h.children,c)&&i--}if(s=fu(d),we(s))i=WR(s,o);else{let h=fu(e);if(h===null)return null;if(de(h)){i=Math.min(h.getChildrenSize(),i);let p=h.getChildAtIndex(i);if(de(p)&&function(g,m,y){const v=g.getParent();return y===null||v===null||!v.canBeEmpty()||v!==y.getNode()}(p,0,r)){const g=o?p.getLastDescendant():p.getFirstDescendant();g===null?h=p:(p=g,h=de(p)?p:p.getParentOrThrow()),i=0}we(p)?(s=p,h=null,i=WR(p,o)):p!==h&&o&&!f&&i++}else{const p=h.getIndexWithinParent();i=t===0&&$t(h)&&fu(e)===h?p:p+1,h=h.getParentOrThrow()}if(de(h))return Hi(h.__key,i,"element")}}else s=fu(e);return we(s)?Hi(s.__key,i,"text"):null}function u$(e,t,r){const n=e.offset,s=e.getNode();if(n===0){const i=s.getPreviousSibling(),o=s.getParent();if(t){if((r||!t)&&i===null&&de(o)&&o.isInline()){const a=o.getPreviousSibling();we(a)&&(e.key=a.__key,e.offset=a.getTextContent().length)}}else de(i)&&!r&&i.isInline()?(e.key=i.__key,e.offset=i.getChildrenSize(),e.type="element"):we(i)&&(e.key=i.__key,e.offset=i.getTextContent().length)}else if(n===s.getTextContent().length){const i=s.getNextSibling(),o=s.getParent();if(t&&de(i)&&i.isInline())e.key=i.__key,e.offset=0,e.type="element";else if((r||t)&&i===null&&de(o)&&o.isInline()&&!o.canInsertTextAfter()){const a=o.getNextSibling();we(a)&&(e.key=a.__key,e.offset=0)}}}function c9(e,t,r){if(e.type==="text"&&t.type==="text"){const n=e.isBefore(t),s=e.is(t);u$(e,n,s),u$(t,!n,s),s&&(t.key=e.key,t.offset=e.offset,t.type=e.type);const i=rr();if(i.isComposing()&&i._compositionKey!==e.key&&be(r)){const o=r.anchor,a=r.focus;va(e,o.key,o.offset,o.type),va(t,a.key,a.offset,a.type)}}}function u9(e,t,r,n,s,i){if(e===null||r===null||!jp(s,e,r))return null;const o=c$(e,t,be(i)?i.anchor:null,s);if(o===null)return null;const a=c$(r,n,be(i)?i.focus:null,s);if(a===null)return null;if(o.type==="element"&&a.type==="element"){const l=fu(e),c=fu(r);if($t(l)&&$t(c))return null}return c9(o,a,i),[o,a]}function tS(e){return de(e)&&!e.isInline()}function d9(e,t,r,n,s,i){const o=Xo(),a=new al(Hi(e,t,s),Hi(r,n,i),0,"");return a.dirty=!0,o._selection=a,a}function k2e(){const e=Hi("root",0,"element"),t=Hi("root",0,"element");return new al(e,t,0,"")}function d$(){return new Db(new Set)}function Qk(e,t,r,n){const s=r._window;if(s===null)return null;const i=n||s.event,o=i?i.type:void 0,a=o==="selectionchange",l=!B_&&(a||o==="beforeinput"||o==="compositionstart"||o==="compositionend"||o==="click"&&i&&i.detail===3||o==="drop"||o===void 0);let c,d,f,h;if(be(e)&&!l)return e.clone();if(t===null)return null;if(c=t.anchorNode,d=t.focusNode,f=t.anchorOffset,h=t.focusOffset,a&&be(e)&&!jp(r,c,d))return e.clone();const p=u9(c,f,d,h,r,e);if(p===null)return null;const[g,m]=p;return new al(g,m,be(e)?e.format:0,be(e)?e.style:"")}function Ie(){return Xo()._selection}function Tp(){return rr()._editorState._selection}function Ly(e,t,r,n=1){const s=e.anchor,i=e.focus,o=s.getNode(),a=i.getNode();if(!t.is(o)&&!t.is(a))return;const l=t.__key;if(e.isCollapsed()){const c=s.offset;if(r<=c&&n>0||r<c&&n<0){const d=Math.max(0,c+n);s.set(l,d,"element"),i.set(l,d,"element"),f$(e)}}else{const c=e.isBackward(),d=c?i:s,f=d.getNode(),h=c?s:i,p=h.getNode();if(t.is(f)){const g=d.offset;(r<=g&&n>0||r<g&&n<0)&&d.set(l,Math.max(0,g+n),"element")}if(t.is(p)){const g=h.offset;(r<=g&&n>0||r<g&&n<0)&&h.set(l,Math.max(0,g+n),"element")}}f$(e)}function f$(e){const t=e.anchor,r=t.offset,n=e.focus,s=n.offset,i=t.getNode(),o=n.getNode();if(e.isCollapsed()){if(!de(i))return;const a=i.getChildrenSize(),l=r>=a,c=l?i.getChildAtIndex(a-1):i.getChildAtIndex(r);if(we(c)){let d=0;l&&(d=c.getTextContentSize()),t.set(c.__key,d,"text"),n.set(c.__key,d,"text")}}else{if(de(i)){const a=i.getChildrenSize(),l=r>=a,c=l?i.getChildAtIndex(a-1):i.getChildAtIndex(r);if(we(c)){let d=0;l&&(d=c.getTextContentSize()),t.set(c.__key,d,"text")}}if(de(o)){const a=o.getChildrenSize(),l=s>=a,c=l?o.getChildAtIndex(a-1):o.getChildAtIndex(s);if(we(c)){let d=0;l&&(d=c.getTextContentSize()),n.set(c.__key,d,"text")}}}}function Fy(e,t,r,n,s){let i=null,o=0,a=null;n!==null?(i=n.__key,we(n)?(o=n.getTextContentSize(),a="text"):de(n)&&(o=n.getChildrenSize(),a="element")):s!==null&&(i=s.__key,we(s)?a="text":de(s)&&(a="element")),i!==null&&a!==null?e.set(i,o,a):(o=t.getIndexWithinParent(),o===-1&&(o=r.getChildrenSize()),e.set(r.__key,o,"element"))}function h$(e,t,r,n,s){e.type==="text"?(e.key=r,t||(e.offset+=s)):e.offset>n.getIndexWithinParent()&&(e.offset-=1)}function C2e(e,t,r,n,s,i,o){const a=n.anchorNode,l=n.focusNode,c=n.anchorOffset,d=n.focusOffset,f=document.activeElement;if(s.has("collaboration")&&f!==i||f!==null&&Wk(f))return;if(!be(t))return void(e!==null&&jp(r,a,l)&&n.removeAllRanges());const h=t.anchor,p=t.focus,g=h.key,m=p.key,y=Dy(r,g),v=Dy(r,m),b=h.offset,x=p.offset,E=t.format,_=t.style,N=t.isCollapsed();let k=y,C=v,T=!1;if(h.type==="text"){k=Py(y);const U=h.getNode();T=U.getFormat()!==E||U.getStyle()!==_}else be(e)&&e.anchor.type==="text"&&(T=!0);var $,M,L,D,z;if(p.type==="text"&&(C=Py(v)),k!==null&&C!==null&&(N&&(e===null||T||be(e)&&(e.format!==E||e.style!==_))&&($=E,M=_,L=b,D=g,z=performance.now(),r9=[$,M,L,D,z]),c!==b||d!==x||a!==k||l!==C||n.type==="Range"&&N||(f!==null&&i.contains(f)||i.focus({preventScroll:!0}),h.type==="element"))){try{n.setBaseAndExtent(k,b,C,x)}catch{}if(!s.has("skip-scroll-into-view")&&t.isCollapsed()&&i!==null&&i===document.activeElement){const U=t instanceof al&&t.anchor.type==="element"?k.childNodes[b]||null:n.rangeCount>0?n.getRangeAt(0):null;if(U!==null){let G;if(U instanceof Text){const q=document.createRange();q.selectNode(U),G=q.getBoundingClientRect()}else G=U.getBoundingClientRect();(function(q,Z,ie){const R=ie.ownerDocument,B=R.defaultView;if(B===null)return;let{top:X,bottom:oe}=Z,W=0,K=0,ee=ie;for(;ee!==null;){const te=ee===R.body;if(te)W=0,K=Cb(q).innerHeight;else{const V=ee.getBoundingClientRect();W=V.top,K=V.bottom}let ue=0;if(X<W?ue=-(W-X):oe>K&&(ue=oe-K),ue!==0)if(te)B.scrollBy(0,ue);else{const V=ee.scrollTop;ee.scrollTop+=ue;const H=ee.scrollTop-V;X-=H,oe-=H}if(te)break;ee=kb(ee)}})(r,G,i)}}X_=!0}}function T2e(e){let t=Ie()||Tp();t===null&&(t=mr().selectEnd()),t.insertNodes(e)}function Qx(e){let t=e;e.isCollapsed()||t.removeText();const r=Ie();be(r)&&(t=r),be(t)||Ee(161);const n=t.anchor;let s=n.getNode(),i=n.offset;for(;!Hc(s);)[s,i]=A2e(s,i);return i}function A2e(e,t){const r=e.getParent();if(!r){const s=Mi();return mr().append(s),s.select(),[mr(),0]}if(we(e)){const s=e.splitText(t);if(s.length===0)return[r,e.getIndexWithinParent()];const i=t===0?0:1;return[r,s[0].getIndexWithinParent()+i]}if(!de(e)||t===0)return[r,e.getIndexWithinParent()];const n=e.getChildAtIndex(t);if(n){const s=new al(Hi(e.__key,t,"element"),Hi(e.__key,t,"element"),0,""),i=e.insertNewAfter(s);i&&i.append(n,...n.getNextSiblings())}return[r,e.getIndexWithinParent()+1]}let $r=null,Ir=null,Dn=!1,ew=!1,og=0;const p$={characterData:!0,childList:!0,subtree:!0};function Ap(){return Dn||$r!==null&&$r._readOnly}function Tn(){Dn&&Ee(13)}function f9(){og>99&&Ee(14)}function Xo(){return $r===null&&Ee(15),$r}function rr(){return Ir===null&&Ee(16),Ir}function P2e(){return Ir}function m$(e,t,r){const n=t.__type,s=function(a,l){const c=a._nodes.get(l);return c===void 0&&Ee(30,l),c}(e,n);let i=r.get(n);i===void 0&&(i=Array.from(s.transforms),r.set(n,i));const o=i.length;for(let a=0;a<o&&(i[a](t),t.isAttached());a++);}function g$(e,t){return e!==void 0&&e.__key!==t&&e.isAttached()}function O2e(e){return eC(e,rr()._nodes)}function eC(e,t){const r=e.type,n=t.get(r);n===void 0&&Ee(17,r);const s=n.klass;e.type!==s.getType()&&Ee(18,s.name);const i=s.importJSON(e),o=e.children;if(de(i)&&Array.isArray(o))for(let a=0;a<o.length;a++){const l=eC(o[a],t);i.append(l)}return i}function y$(e,t){const r=$r,n=Dn,s=Ir;$r=e,Dn=!0,Ir=null;try{return t()}finally{$r=r,Dn=n,Ir=s}}function Kl(e,t){const r=e._pendingEditorState,n=e._rootElement,s=e._headless||n===null;if(r===null)return;const i=e._editorState,o=i._selection,a=r._selection,l=e._dirtyType!==sc,c=$r,d=Dn,f=Ir,h=e._updating,p=e._observer;let g=null;if(e._pendingEditorState=null,e._editorState=r,!s&&l&&p!==null){Ir=e,$r=r,Dn=!1,e._updating=!0;try{const N=e._dirtyType,k=e._dirtyElements,C=e._dirtyLeaves;p.disconnect(),g=y2e(i,r,e,N,k,C)}catch(N){if(N instanceof Error&&e._onError(N),ew)throw N;return g9(e,null,n,r),M7(e),e._dirtyType=sd,ew=!0,Kl(e,i),void(ew=!1)}finally{p.observe(n,p$),e._updating=h,$r=c,Dn=d,Ir=f}}r._readOnly||(r._readOnly=!0);const m=e._dirtyLeaves,y=e._dirtyElements,v=e._normalizedNodes,b=e._updateTags,x=e._deferred;l&&(e._dirtyType=sc,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements=new Map,e._normalizedNodes=new Set,e._updateTags=new Set),function(N,k){const C=N._decorators;let T=N._pendingDecorators||C;const $=k._nodeMap;let M;for(M in T)$.has(M)||(T===C&&(T=z7(N)),delete T[M])}(e,r);const E=s?null:Ki(e._window);if(e._editable&&E!==null&&(l||a===null||a.dirty)){Ir=e,$r=r;try{if(p!==null&&p.disconnect(),l||a===null||a.dirty){const N=e._blockCursorElement;N!==null&&Zk(N,e,n),C2e(o,a,e,E,b,n)}f2e(e,n,a),p!==null&&p.observe(n,p$)}finally{Ir=f,$r=c}}g!==null&&function(N,k,C,T,$){const M=Array.from(N._listeners.mutation),L=M.length;for(let D=0;D<L;D++){const[z,U]=M[D],G=k.get(U);G!==void 0&&z(G,{dirtyLeaves:T,prevEditorState:$,updateTags:C})}}(e,g,b,m,i),be(a)||a===null||o!==null&&o.is(a)||e.dispatchCommand(Ak,void 0);const _=e._pendingDecorators;_!==null&&(e._decorators=_,e._pendingDecorators=null,Yf("decorator",e,!0,_)),function(N,k,C){const T=VR(k),$=VR(C);T!==$&&Yf("textcontent",N,!0,$)}(e,t||i,r),Yf("update",e,!0,{dirtyElements:y,dirtyLeaves:m,editorState:r,normalizedNodes:v,prevEditorState:t||i,tags:b}),function(N,k){if(N._deferred=[],k.length!==0){const C=N._updating;N._updating=!0;try{for(let T=0;T<k.length;T++)k[T]()}finally{N._updating=C}}}(e,x),function(N){const k=N._updates;if(k.length!==0){const C=k.shift();if(C){const[T,$]=C;p9(N,T,$)}}}(e)}function Yf(e,t,r,...n){const s=t._updating;t._updating=r;try{const i=Array.from(t._listeners[e]);for(let o=0;o<i.length;o++)i[o].apply(null,n)}finally{t._updating=s}}function h9(e,t,r){if(e._updating===!1||Ir!==e){let s=!1;return e.update(()=>{s=h9(e,t,r)}),s}const n=Kk(e);for(let s=4;s>=0;s--)for(let i=0;i<n.length;i++){const o=n[i]._commands.get(t);if(o!==void 0){const a=o[s];if(a!==void 0){const l=Array.from(a),c=l.length;for(let d=0;d<c;d++)if(l[d](r,e)===!0)return!0}}}return!1}function v$(e,t){const r=e._updates;let n=t||!1;for(;r.length!==0;){const s=r.shift();if(s){const[i,o]=s;let a,l;o!==void 0&&(a=o.onUpdate,l=o.tag,o.skipTransforms&&(n=!0),a&&e._deferred.push(a),l&&e._updateTags.add(l)),i()}}return n}function p9(e,t,r){const n=e._updateTags;let s,i,o=!1,a=!1;r!==void 0&&(s=r.onUpdate,i=r.tag,i!=null&&n.add(i),o=r.skipTransforms||!1,a=r.discrete||!1),s&&e._deferred.push(s);const l=e._editorState;let c=e._pendingEditorState,d=!1;(c===null||c._readOnly)&&(c=e._pendingEditorState=new $b(new Map((c||l)._nodeMap)),d=!0),c._flushSync=a;const f=$r,h=Dn,p=Ir,g=e._updating;$r=c,Dn=!1,e._updating=!0,Ir=e;try{d&&(e._headless?l._selection!==null&&(c._selection=l._selection.clone()):c._selection=function(b){const x=b.getEditorState()._selection,E=Ki(b._window);return be(x)||x==null?Qk(x,E,b,null):x.clone()}(e));const y=e._compositionKey;t(),o=v$(e,o),function(b,x){const E=x.getEditorState()._selection,_=b._selection;if(be(_)){const N=_.anchor,k=_.focus;let C;if(N.type==="text"&&(C=N.getNode(),C.selectionTransform(E,_)),k.type==="text"){const T=k.getNode();C!==T&&T.selectionTransform(E,_)}}}(c,e),e._dirtyType!==sc&&(o?function(b,x){const E=x._dirtyLeaves,_=b._nodeMap;for(const N of E){const k=_.get(N);we(k)&&k.isAttached()&&k.isSimpleText()&&!k.isUnmergeable()&&UR(k)}}(c,e):function(b,x){const E=x._dirtyLeaves,_=x._dirtyElements,N=b._nodeMap,k=Da(),C=new Map;let T=E,$=T.size,M=_,L=M.size;for(;$>0||L>0;){if($>0){x._dirtyLeaves=new Set;for(const D of T){const z=N.get(D);we(z)&&z.isAttached()&&z.isSimpleText()&&!z.isUnmergeable()&&UR(z),z!==void 0&&g$(z,k)&&m$(x,z,C),E.add(D)}if(T=x._dirtyLeaves,$=T.size,$>0){og++;continue}}x._dirtyLeaves=new Set,x._dirtyElements=new Map;for(const D of M){const z=D[0],U=D[1];if(z!=="root"&&!U)continue;const G=N.get(z);G!==void 0&&g$(G,k)&&m$(x,G,C),_.set(z,U)}T=x._dirtyLeaves,$=T.size,M=x._dirtyElements,L=M.size,og++}x._dirtyLeaves=E,x._dirtyElements=_}(c,e),v$(e),function(b,x,E,_){const N=b._nodeMap,k=x._nodeMap,C=[];for(const[T]of _){const $=k.get(T);$!==void 0&&($.isAttached()||(de($)&&H7($,T,N,k,C,_),N.has(T)||_.delete(T),C.push(T)))}for(const T of C)k.delete(T);for(const T of E){const $=k.get(T);$===void 0||$.isAttached()||(N.has(T)||E.delete(T),k.delete(T))}}(l,c,e._dirtyLeaves,e._dirtyElements)),y!==e._compositionKey&&(c._flushSync=!0);const v=c._selection;if(be(v)){const b=c._nodeMap,x=v.anchor.key,E=v.focus.key;b.get(x)!==void 0&&b.get(E)!==void 0||Ee(19)}else Ys(v)&&v._nodes.size===0&&(c._selection=null)}catch(y){return y instanceof Error&&e._onError(y),e._pendingEditorState=l,e._dirtyType=sd,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),void Kl(e)}finally{$r=f,Dn=h,Ir=p,e._updating=g,og=0}e._dirtyType!==sc||function(y,v){const b=v.getEditorState()._selection,x=y._selection;if(x!==null){if(x.dirty||!x.is(b))return!0}else if(b!==null)return!0;return!1}(c,e)?c._flushSync?(c._flushSync=!1,Kl(e)):d&&o2e(()=>{Kl(e)}):(c._flushSync=!1,d&&(n.clear(),e._deferred=[],e._pendingEditorState=null))}function Zn(e,t,r){e._updating?e._updates.push([t,r]):p9(e,t,r)}class Rb extends Ob{constructor(t){super(t),this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__indent=0,this.__dir=null}getFormat(){return this.getLatest().__format}getFormatType(){const t=this.getFormat();return XOe[t]||""}getIndent(){return this.getLatest().__indent}getChildren(){const t=[];let r=this.getFirstChild();for(;r!==null;)t.push(r),r=r.getNextSibling();return t}getChildrenKeys(){const t=[];let r=this.getFirstChild();for(;r!==null;)t.push(r.__key),r=r.getNextSibling();return t}getChildrenSize(){return this.getLatest().__size}isEmpty(){return this.getChildrenSize()===0}isDirty(){const t=rr()._dirtyElements;return t!==null&&t.has(this.__key)}isLastChild(){const t=this.getLatest(),r=this.getParentOrThrow().getLastChild();return r!==null&&r.is(t)}getAllTextNodes(){const t=[];let r=this.getFirstChild();for(;r!==null;){if(we(r)&&t.push(r),de(r)){const n=r.getAllTextNodes();t.push(...n)}r=r.getNextSibling()}return t}getFirstDescendant(){let t=this.getFirstChild();for(;de(t);){const r=t.getFirstChild();if(r===null)break;t=r}return t}getLastDescendant(){let t=this.getLastChild();for(;de(t);){const r=t.getLastChild();if(r===null)break;t=r}return t}getDescendantByIndex(t){const r=this.getChildren(),n=r.length;if(t>=n){const i=r[n-1];return de(i)&&i.getLastDescendant()||i||null}const s=r[t];return de(s)&&s.getFirstDescendant()||s||null}getFirstChild(){const t=this.getLatest().__first;return t===null?null:yn(t)}getFirstChildOrThrow(){const t=this.getFirstChild();return t===null&&Ee(45,this.__key),t}getLastChild(){const t=this.getLatest().__last;return t===null?null:yn(t)}getLastChildOrThrow(){const t=this.getLastChild();return t===null&&Ee(96,this.__key),t}getChildAtIndex(t){const r=this.getChildrenSize();let n,s;if(t<r/2){for(n=this.getFirstChild(),s=0;n!==null&&s<=t;){if(s===t)return n;n=n.getNextSibling(),s++}return null}for(n=this.getLastChild(),s=r-1;n!==null&&s>=t;){if(s===t)return n;n=n.getPreviousSibling(),s--}return null}getTextContent(){let t="";const r=this.getChildren(),n=r.length;for(let s=0;s<n;s++){const i=r[s];t+=i.getTextContent(),de(i)&&s!==n-1&&!i.isInline()&&(t+=zo)}return t}getTextContentSize(){let t=0;const r=this.getChildren(),n=r.length;for(let s=0;s<n;s++){const i=r[s];t+=i.getTextContentSize(),de(i)&&s!==n-1&&!i.isInline()&&(t+=zo.length)}return t}getDirection(){return this.getLatest().__dir}hasFormat(t){if(t!==""){const r=FR[t];return!!(this.getFormat()&r)}return!1}select(t,r){Tn();const n=Ie();let s=t,i=r;const o=this.getChildrenSize();if(!this.canBeEmpty()){if(t===0&&r===0){const l=this.getFirstChild();if(we(l)||de(l))return l.select(0,0)}else if(!(t!==void 0&&t!==o||r!==void 0&&r!==o)){const l=this.getLastChild();if(we(l)||de(l))return l.select()}}s===void 0&&(s=o),i===void 0&&(i=o);const a=this.__key;return be(n)?(n.anchor.set(a,s,"element"),n.focus.set(a,i,"element"),n.dirty=!0,n):d9(a,s,a,i,"element","element")}selectStart(){const t=this.getFirstDescendant();return t?t.selectStart():this.select()}selectEnd(){const t=this.getLastDescendant();return t?t.selectEnd():this.select()}clear(){const t=this.getWritable();return this.getChildren().forEach(r=>r.remove()),t}append(...t){return this.splice(this.getChildrenSize(),0,t)}setDirection(t){const r=this.getWritable();return r.__dir=t,r}setFormat(t){return this.getWritable().__format=t!==""?FR[t]:0,this}setIndent(t){return this.getWritable().__indent=t,this}splice(t,r,n){const s=n.length,i=this.getChildrenSize(),o=this.getWritable(),a=o.__key,l=[],c=[],d=this.getChildAtIndex(t+r);let f=null,h=i-r+s;if(t!==0)if(t===i)f=this.getLastChild();else{const g=this.getChildAtIndex(t);g!==null&&(f=g.getPreviousSibling())}if(r>0){let g=f===null?this.getFirstChild():f.getNextSibling();for(let m=0;m<r;m++){g===null&&Ee(100);const y=g.getNextSibling(),v=g.__key;Wl(g.getWritable()),c.push(v),g=y}}let p=f;for(let g=0;g<s;g++){const m=n[g];p!==null&&m.is(p)&&(f=p=p.getPreviousSibling());const y=m.getWritable();y.__parent===a&&h--,Wl(y);const v=m.__key;if(p===null)o.__first=v,y.__prev=null;else{const b=p.getWritable();b.__next=v,y.__prev=b.__key}m.__key===a&&Ee(76),y.__parent=a,l.push(v),p=m}if(t+r===i)p!==null&&(p.getWritable().__next=null,o.__last=p.__key);else if(d!==null){const g=d.getWritable();if(p!==null){const m=p.getWritable();g.__prev=p.__key,m.__next=d.__key}else g.__prev=null}if(o.__size=h,c.length){const g=Ie();if(be(g)){const m=new Set(c),y=new Set(l),{anchor:v,focus:b}=g;b$(v,m,y)&&Fy(v,v.getNode(),this,f,d),b$(b,m,y)&&Fy(b,b.getNode(),this,f,d),h!==0||this.canBeEmpty()||Od(this)||this.remove()}}return o}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"element",version:1}}insertNewAfter(t,r){return null}canIndent(){return!0}collapseAtStart(t){return!1}excludeFromCopy(t){return!1}canReplaceWith(t){return!0}canInsertAfter(t){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(t){return!1}extractWithChild(t,r,n){return!1}}function de(e){return e instanceof Rb}function b$(e,t,r){let n=e.getNode();for(;n;){const s=n.__key;if(t.has(s)&&!r.has(s))return!0;n=n.getParent()}return!1}class D2e extends Ob{constructor(t){super(t)}decorate(t,r){Ee(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function $t(e){return e instanceof D2e}class Pp extends Rb{static getType(){return"root"}static clone(){return new Pp}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){Ee(51)}getTextContent(){const t=this.__cachedText;return!Ap()&&rr()._dirtyType!==sc||t===null?super.getTextContent():t}remove(){Ee(52)}replace(t){Ee(53)}insertBefore(t){Ee(54)}insertAfter(t){Ee(55)}updateDOM(t,r){return!1}append(...t){for(let r=0;r<t.length;r++){const n=t[r];de(n)||$t(n)||Ee(56)}return super.append(...t)}static importJSON(t){const r=mr();return r.setFormat(t.format),r.setIndent(t.indent),r.setDirection(t.direction),r}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"root",version:1}}collapseAtStart(){return!0}}function ln(e){return e instanceof Pp}function tC(){return new $b(new Map([["root",new Pp]]))}function m9(e){const t=e.exportJSON(),r=e.constructor;if(t.type!==r.getType()&&Ee(130,r.name),de(e)){const n=t.children;Array.isArray(n)||Ee(59,r.name);const s=e.getChildren();for(let i=0;i<s.length;i++){const o=m9(s[i]);n.push(o)}}return t}class $b{constructor(t,r){this._nodeMap=t,this._selection=r||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return this._nodeMap.size===1&&this._selection===null}read(t){return y$(this,t)}clone(t){const r=new $b(this._nodeMap,t===void 0?this._selection:t);return r._readOnly=!0,r}toJSON(){return y$(this,()=>({root:m9(mr())}))}}class rC extends Rb{static getType(){return"artificial"}createDOM(t){return document.createElement("div")}}class Rd extends Rb{constructor(t){super(t),this.__textFormat=0}static getType(){return"paragraph"}getTextFormat(){return this.getLatest().__textFormat}setTextFormat(t){const r=this.getWritable();return r.__textFormat=t,r}hasTextFormat(t){const r=ic[t];return!!(this.getTextFormat()&r)}static clone(t){return new Rd(t.__key)}createDOM(t){const r=document.createElement("p"),n=Vf(t.theme,"paragraph");return n!==void 0&&r.classList.add(...n),r}updateDOM(t,r,n){return!1}static importDOM(){return{p:t=>({conversion:R2e,priority:0})}}exportDOM(t){const{element:r}=super.exportDOM(t);if(r&&Xk(r)){this.isEmpty()&&r.append(document.createElement("br"));const n=this.getFormatType();r.style.textAlign=n;const s=this.getDirection();s&&(r.dir=s);const i=this.getIndent();i>0&&(r.style.textIndent=20*i+"px")}return{element:r}}static importJSON(t){const r=Mi();return r.setFormat(t.format),r.setIndent(t.indent),r.setDirection(t.direction),r.setTextFormat(t.textFormat),r}exportJSON(){return{...super.exportJSON(),textFormat:this.getTextFormat(),type:"paragraph",version:1}}insertNewAfter(t,r){const n=Mi();n.setTextFormat(t.format);const s=this.getDirection();return n.setDirection(s),n.setFormat(this.getFormatType()),this.insertAfter(n,r),n}collapseAtStart(){const t=this.getChildren();if(t.length===0||we(t[0])&&t[0].getTextContent().trim()===""){if(this.getNextSibling()!==null)return this.selectNext(),this.remove(),!0;if(this.getPreviousSibling()!==null)return this.selectPrevious(),this.remove(),!0}return!1}}function R2e(e){const t=Mi();if(e.style){t.setFormat(e.style.textAlign);const r=parseInt(e.style.textIndent,10)/20;r>0&&t.setIndent(r)}return{node:t}}function Mi(){return Tb(new Rd)}function od(e){return e instanceof Rd}const lt=0,$2e=4;function g9(e,t,r,n){const s=e._keyToDOMMap;s.clear(),e._editorState=tC(),e._pendingEditorState=n,e._compositionKey=null,e._dirtyType=sc,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),e._normalizedNodes=new Set,e._updateTags=new Set,e._updates=[],e._blockCursorElement=null;const i=e._observer;i!==null&&(i.disconnect(),e._observer=null),t!==null&&(t.textContent=""),r!==null&&(r.textContent="",s.set("root",r))}function I2e(e){const t=e||{},r=P2e(),n=t.theme||{},s=e===void 0?r:t.parentEditor||null,i=t.disableEvents||!1,o=tC(),a=t.namespace||(s!==null?s._config.namespace:V7()),l=t.editorState,c=[Pp,Dd,Np,kp,Rd,rC,...t.nodes||[]],{onError:d,html:f}=t,h=t.editable===void 0||t.editable;let p;if(e===void 0&&r!==null)p=r._nodes;else{p=new Map;for(let m=0;m<c.length;m++){let y=c[m],v=null,b=null;if(typeof y!="function"){const N=y;y=N.replace,v=N.with,b=N.withKlass||null}const x=y.getType(),E=y.transform(),_=new Set;E!==null&&_.add(E),p.set(x,{exportDOM:f&&f.export?f.export.get(y):void 0,klass:y,replace:v,replaceWithKlass:b,transforms:_})}}const g=new M2e(o,s,p,{disableEvents:i,namespace:a,theme:n},d||console.error,function(m,y){const v=new Map,b=new Set,x=E=>{Object.keys(E).forEach(_=>{let N=v.get(_);N===void 0&&(N=[],v.set(_,N)),N.push(E[_])})};return m.forEach(E=>{const _=E.klass.importDOM;if(_==null||b.has(_))return;b.add(_);const N=_.call(E.klass);N!==null&&x(N)}),y&&x(y),v}(p,f?f.import:void 0),h);return l!==void 0&&(g._pendingEditorState=l,g._dirtyType=sd),g}class M2e{constructor(t,r,n,s,i,o,a){this._parentEditor=r,this._rootElement=null,this._editorState=t,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=s,this._nodes=n,this._decorators={},this._pendingDecorators=null,this._dirtyType=sc,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=V7(),this._onError=i,this._htmlConversions=o,this._editable=a,this._headless=r!==null&&r._headless,this._window=null,this._blockCursorElement=null}isComposing(){return this._compositionKey!=null}registerUpdateListener(t){const r=this._listeners.update;return r.add(t),()=>{r.delete(t)}}registerEditableListener(t){const r=this._listeners.editable;return r.add(t),()=>{r.delete(t)}}registerDecoratorListener(t){const r=this._listeners.decorator;return r.add(t),()=>{r.delete(t)}}registerTextContentListener(t){const r=this._listeners.textcontent;return r.add(t),()=>{r.delete(t)}}registerRootListener(t){const r=this._listeners.root;return t(this._rootElement,null),r.add(t),()=>{t(null,this._rootElement),r.delete(t)}}registerCommand(t,r,n){n===void 0&&Ee(35);const s=this._commands;s.has(t)||s.set(t,[new Set,new Set,new Set,new Set,new Set]);const i=s.get(t);i===void 0&&Ee(36,String(t));const o=i[n];return o.add(r),()=>{o.delete(r),i.every(a=>a.size===0)&&s.delete(t)}}registerMutationListener(t,r){let n=this._nodes.get(t.getType());n===void 0&&Ee(37,t.name);let s=t,i=null;for(;i=n.replaceWithKlass;)s=i,n=this._nodes.get(i.getType()),n===void 0&&Ee(37,i.name);const o=this._listeners.mutation;return o.set(r,s),()=>{o.delete(r)}}registerNodeTransformToKlass(t,r){const n=t.getType(),s=this._nodes.get(n);return s===void 0&&Ee(37,t.name),s.transforms.add(r),s}registerNodeTransform(t,r){const n=this.registerNodeTransformToKlass(t,r),s=[n],i=n.replaceWithKlass;if(i!=null){const l=this.registerNodeTransformToKlass(i,r);s.push(l)}var o,a;return o=this,a=t.getType(),Zn(o,()=>{const l=Xo();if(l.isEmpty())return;if(a==="root")return void mr().markDirty();const c=l._nodeMap;for(const[,d]of c)d.markDirty()},o._pendingEditorState===null?{tag:"history-merge"}:void 0),()=>{s.forEach(l=>l.transforms.delete(r))}}hasNode(t){return this._nodes.has(t.getType())}hasNodes(t){return t.every(this.hasNode.bind(this))}dispatchCommand(t,r){return Ne(this,t,r)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(t){const r=this._rootElement;if(t!==r){const n=Vf(this._config.theme,"root"),s=this._pendingEditorState||this._editorState;if(this._rootElement=t,g9(this,r,t,s),r!==null&&(this._config.disableEvents||v2e(r),n!=null&&r.classList.remove(...n)),t!==null){const i=function(a){const l=a.ownerDocument;return l&&l.defaultView||null}(t),o=t.style;o.userSelect="text",o.whiteSpace="pre-wrap",o.wordBreak="break-word",t.setAttribute("data-lexical-editor","true"),this._window=i,this._dirtyType=sd,M7(this),this._updateTags.add("history-merge"),Kl(this),this._config.disableEvents||function(a,l){const c=a.ownerDocument,d=My.get(c);(d===void 0||d<1)&&c.addEventListener("selectionchange",o9),My.set(c,(d||0)+1),a.__lexicalEditor=l;const f=i9(a);for(let h=0;h<Z_.length;h++){const[p,g]=Z_[h],m=typeof g=="function"?y=>{t$(y)||(e$(y),(l.isEditable()||p==="click")&&g(y,l))}:y=>{if(t$(y))return;e$(y);const v=l.isEditable();switch(p){case"cut":return v&&Ne(l,Rk,y);case"copy":return Ne(l,Sb,y);case"paste":return v&&Ne(l,Pk,y);case"dragstart":return v&&Ne(l,T7,y);case"dragover":return v&&Ne(l,A7,y);case"dragend":return v&&Ne(l,ROe,y);case"focus":return v&&Ne(l,MOe,y);case"blur":return v&&Ne(l,LOe,y);case"drop":return v&&Ne(l,C7,y)}};a.addEventListener(p,m),f.push(()=>{a.removeEventListener(p,m)})}}(t,this),n!=null&&t.classList.add(...n)}else this._editorState=s,this._pendingEditorState=null,this._window=null;Yf("root",this,!1,t,r)}}getElementByKey(t){return this._keyToDOMMap.get(t)||null}getEditorState(){return this._editorState}setEditorState(t,r){t.isEmpty()&&Ee(38),I7(this);const n=this._pendingEditorState,s=this._updateTags,i=r!==void 0?r.tag:null;n===null||n.isEmpty()||(i!=null&&s.add(i),Kl(this)),this._pendingEditorState=t,this._dirtyType=sd,this._dirtyElements.set("root",!1),this._compositionKey=null,i!=null&&s.add(i),Kl(this)}parseEditorState(t,r){return function(n,s,i){const o=tC(),a=$r,l=Dn,c=Ir,d=s._dirtyElements,f=s._dirtyLeaves,h=s._cloneNotNeeded,p=s._dirtyType;s._dirtyElements=new Map,s._dirtyLeaves=new Set,s._cloneNotNeeded=new Set,s._dirtyType=0,$r=o,Dn=!1,Ir=s;try{const g=s._nodes;eC(n.root,g),i&&i(),o._readOnly=!0}catch(g){g instanceof Error&&s._onError(g)}finally{s._dirtyElements=d,s._dirtyLeaves=f,s._cloneNotNeeded=h,s._dirtyType=p,$r=a,Dn=l,Ir=c}return o}(typeof t=="string"?JSON.parse(t):t,this,r)}update(t,r){Zn(this,t,r)}focus(t,r={}){const n=this._rootElement;n!==null&&(n.setAttribute("autocapitalize","off"),Zn(this,()=>{const s=Ie(),i=mr();s!==null?s.dirty=!0:i.getChildrenSize()!==0&&(r.defaultSelection==="rootStart"?i.selectStart():i.selectEnd())},{onUpdate:()=>{n.removeAttribute("autocapitalize"),t&&t()},tag:"focus"}),this._pendingEditorState===null&&n.removeAttribute("autocapitalize"))}blur(){const t=this._rootElement;t!==null&&t.blur();const r=Ki(this._window);r!==null&&r.removeAllRanges()}isEditable(){return this._editable}setEditable(t){this._editable!==t&&(this._editable=t,Yf("editable",this,!0,t))}toJSON(){return{editorState:this._editorState.toJSON()}}}const y9=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,L2e=y9?w.useLayoutEffect:w.useEffect,Bm={tag:"history-merge"};function F2e({initialConfig:e,children:t}){const r=w.useMemo(()=>{const{theme:n,namespace:s,editor__DEPRECATED:i,nodes:o,onError:a,editorState:l,html:c}=e,d=SOe(null,n);let f=i||null;if(f===null){const h=I2e({editable:e.editable,html:c,namespace:s,nodes:o,onError:p=>a(p,h),theme:n});(function(p,g){if(g!==null){if(g===void 0)p.update(()=>{const m=mr();if(m.isEmpty()){const y=Mi();m.append(y);const v=y9?document.activeElement:null;(Ie()!==null||v!==null&&v===p.getRootElement())&&y.select()}},Bm);else if(g!==null)switch(typeof g){case"string":{const m=p.parseEditorState(g);p.setEditorState(m,Bm);break}case"object":p.setEditorState(g,Bm);break;case"function":p.update(()=>{mr().isEmpty()&&g(p)},Bm)}}})(h,l),f=h}return[f,d]},[]);return L2e(()=>{const n=e.editable,[s]=r;s.setEditable(n===void 0||n)},[]),u.jsx(b7.Provider,{value:r,children:t})}const B2e=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?w.useLayoutEffect:w.useEffect;function z2e(e){return{initialValueFn:()=>e.isEditable(),subscribe:t=>e.registerEditableListener(t)}}function U2e(){return function(e){const[t]=Pd(),r=w.useMemo(()=>e(t),[t,e]),n=w.useRef(r.initialValueFn()),[s,i]=w.useState(n.current);return B2e(()=>{const{initialValueFn:o,subscribe:a}=r,l=o();return n.current!==l&&(n.current=l,i(l)),a(c=>{n.current=c,i(c)})},[r,e]),s}(z2e)}function q2e(){return mr().getTextContent()}function V2e(e,t=!0){if(e)return!1;let r=q2e();return t&&(r=r.trim()),r===""}function W2e(e){if(!V2e(e,!1))return!1;const t=mr().getChildren(),r=t.length;if(r>1)return!1;for(let n=0;n<r;n++){const s=t[n];if($t(s))return!1;if(de(s)){if(!od(s)||s.__indent!==0)return!1;const i=s.getChildren(),o=i.length;for(let a=0;a<o;a++){const l=i[n];if(!we(l))return!1}}}return!0}function K2e(e){return()=>W2e(e)}function H2e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}H2e(function(e){const t=new URLSearchParams;t.append("code",e);for(let r=1;r<arguments.length;r++)t.append("v",arguments[r]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});function Y2e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}Y2e(function(e){const t=new URLSearchParams;t.append("code",e);for(let r=1;r<arguments.length;r++)t.append("v",arguments[r]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});const G2e=new Map;function Z2e(e){const t={},r=e.split(";");for(const n of r)if(n!==""){const[s,i]=n.split(/:([^]+)/);s&&i&&(t[s.trim()]=i.trim())}return t}function v9(e){const t=e.constructor.clone(e);return t.__parent=e.__parent,t.__next=e.__next,t.__prev=e.__prev,de(e)&&de(t)?(n=e,(r=t).__first=n.__first,r.__last=n.__last,r.__size=n.__size,r.__format=n.__format,r.__indent=n.__indent,r.__dir=n.__dir,r):we(e)&&we(t)?function(s,i){return s.__format=i.__format,s.__style=i.__style,s.__mode=i.__mode,s.__detail=i.__detail,s}(t,e):od(e)&&od(t)?function(s,i){return s.__textFormat=i.__textFormat,s}(t,e):t;var r,n}function b9(e,t){const r=e.getStartEndPoints();if(t.isSelected(e)&&!t.isSegmented()&&!t.isToken()&&r!==null){const[n,s]=r,i=e.isBackward(),o=n.getNode(),a=s.getNode(),l=t.is(o),c=t.is(a);if(l||c){const[d,f]=eS(e),h=o.is(a),p=t.is(i?a:o),g=t.is(i?o:a);let m,y=0;return h?(y=d>f?f:d,m=d>f?d:f):p?(y=i?f:d,m=void 0):g&&(y=0,m=i?d:f),t.__text=t.__text.slice(y,m),t}}return t}function X2e(e){const t=e.getStyle(),r=Z2e(t);G2e.set(t,r)}function x$(e,t){const r=Ih(e.focus,t);return $t(r)&&!r.isIsolated()||de(r)&&!r.isInline()&&!r.canBeEmpty()}function J2e(e,t,r,n){e.modify(t?"extend":"move",r,n)}function Q2e(e){const t=e.anchor.getNode();return(ln(t)?t:t.getParentOrThrow()).getDirection()==="rtl"}function w$(e,t,r){const n=Q2e(e);J2e(e,t,r?!n:n,"character")}function eDe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var tDe=eDe(function(e){const t=new URLSearchParams;t.append("code",e);for(let r=1;r<arguments.length;r++)t.append("v",arguments[r]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});const x9=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,rDe=x9&&"documentMode"in document?document.documentMode:null;!(!x9||!("InputEvent"in window)||rDe)&&"getTargetRanges"in new window.InputEvent("input");function Ib(...e){return()=>{for(let t=e.length-1;t>=0;t--)e[t]();e.length=0}}function nDe(e){const t=nC(e,r=>de(r)&&!r.isInline());return de(t)||tDe(4,e.__key),t}const nC=(e,t)=>{let r=e;for(;r!==mr()&&r!=null;){if(t(r))return r;r=r.getParent()}return null};function Pl(e,t){return e!==null&&Object.getPrototypeOf(e).constructor.name===t.name}function sDe(e){const t=window.location.origin,r=n=>{if(n.origin!==t)return;const s=e.getRootElement();if(document.activeElement!==s)return;const i=n.data;if(typeof i=="string"){let o;try{o=JSON.parse(i)}catch{return}if(o&&o.protocol==="nuanria_messaging"&&o.type==="request"){const a=o.payload;if(a&&a.functionId==="makeChanges"){const l=a.args;if(l){const[c,d,f,h,p,g]=l;e.update(()=>{const m=Ie();if(be(m)){const y=m.anchor;let v=y.getNode(),b=0,x=0;if(we(v)&&c>=0&&d>=0&&(b=c,x=c+d,m.setTextNodeRange(v,b,v,x)),b===x&&f===""||(m.insertRawText(f),v=y.getNode()),we(v)){b=h,x=h+p;const E=v.getTextContentSize();b=b>E?E:b,x=x>E?E:x,m.setTextNodeRange(v,b,v,x)}n.stopImmediatePropagation()}})}}}}};return window.addEventListener("message",r,!0),()=>{window.removeEventListener("message",r,!0)}}function iDe(e,t){const r=t.body?t.body.childNodes:[];let n=[];const s=[];for(let i=0;i<r.length;i++){const o=r[i];if(!_9.has(o.nodeName)){const a=S9(o,e,s,!1);a!==null&&(n=n.concat(a))}}return function(i){for(const o of i)o.getNextSibling()instanceof rC&&o.insertAfter(id());for(const o of i){const a=o.getChildren();for(const l of a)o.insertBefore(l);o.remove()}}(s),n}function oDe(e,t){if(typeof document>"u"||typeof window>"u"&&global.window===void 0)throw new Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");const r=document.createElement("div"),n=mr().getChildren();for(let s=0;s<n.length;s++)w9(e,n[s],r,t);return r.innerHTML}function w9(e,t,r,n=null){let s=n===null||t.isSelected(n);const i=de(t)&&t.excludeFromCopy("html");let o=t;if(n!==null){let p=v9(t);p=we(p)&&n!==null?b9(n,p):p,o=p}const a=de(o)?o.getChildren():[],l=e._nodes.get(o.getType());let c;c=l&&l.exportDOM!==void 0?l.exportDOM(e,o):o.exportDOM(e);const{element:d,after:f}=c;if(!d)return!1;const h=document.createDocumentFragment();for(let p=0;p<a.length;p++){const g=a[p],m=w9(e,g,h,n);!s&&de(t)&&m&&t.extractWithChild(g,n,"html")&&(s=!0)}if(s&&!i){if(Xk(d)&&d.append(h),r.append(d),f){const p=f.call(o,d);p&&d.replaceWith(p)}}else r.append(h);return s}const _9=new Set(["STYLE","SCRIPT"]);function S9(e,t,r,n,s=new Map,i){let o=[];if(_9.has(e.nodeName))return o;let a=null;const l=function(g,m){const{nodeName:y}=g,v=m._htmlConversions.get(y.toLowerCase());let b=null;if(v!==void 0)for(const x of v){const E=x(g);E!==null&&(b===null||(b.priority||0)<(E.priority||0))&&(b=E)}return b!==null?b.conversion:null}(e,t),c=l?l(e):null;let d=null;if(c!==null){d=c.after;const g=c.node;if(a=Array.isArray(g)?g[g.length-1]:g,a!==null){for(const[,m]of s)if(a=m(a,i),!a)break;a&&o.push(...Array.isArray(g)?g:[a])}c.forChild!=null&&s.set(e.nodeName,c.forChild)}const f=e.childNodes;let h=[];const p=(a==null||!Od(a))&&(a!=null&&tS(a)||n);for(let g=0;g<f.length;g++)h.push(...S9(f[g],t,r,p,new Map(s),a));return d!=null&&(h=d(h)),p2e(e)&&(h=aDe(e,h,p?()=>{const g=new rC;return r.push(g),g}:Mi)),a==null?o=o.concat(h):de(a)&&a.append(...h),o}function aDe(e,t,r){const n=e.style.textAlign,s=[];let i=[];for(let o=0;o<t.length;o++){const a=t[o];if(tS(a))n&&!a.getFormat()&&a.setFormat(n),s.push(a);else if(i.push(a),o===t.length-1||o<t.length-1&&tS(t[o+1])){const l=r();l.setFormat(n),l.append(...i),s.push(l),i=[]}}return s}function lDe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var By=lDe(function(e){const t=new URLSearchParams;t.append("code",e);for(let r=1;r<arguments.length;r++)t.append("v",arguments[r]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});const cDe=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,E9=e=>cDe?(e||window).getSelection():null;function uDe(e){const t=Ie();return t==null&&By(166),be(t)&&t.isCollapsed()||t.getNodes().length===0?"":oDe(e,t)}function dDe(e){const t=Ie();return t==null&&By(166),be(t)&&t.isCollapsed()||t.getNodes().length===0?null:JSON.stringify(fDe(e,t))}function _$(e,t,r){const n=e.getData("application/x-lexical-editor");if(n)try{const o=JSON.parse(n);if(o.namespace===r._config.namespace&&Array.isArray(o.nodes))return S$(r,hDe(o.nodes),t)}catch{}const s=e.getData("text/html");if(s)try{const o=new DOMParser().parseFromString(s,"text/html");return S$(r,iDe(r,o),t)}catch{}const i=e.getData("text/plain")||e.getData("text/uri-list");if(i!=null)if(be(t)){const o=i.split(/(\r?\n|\t)/);o[o.length-1]===""&&o.pop();for(let a=0;a<o.length;a++){const l=Ie();if(be(l)){const c=o[a];c===`
`||c===`\r
`?l.insertParagraph():c==="	"?l.insertNodes([Cp()]):l.insertText(c)}}}else t.insertRawText(i)}function S$(e,t,r){e.dispatchCommand(jOe,{nodes:t,selection:r})||r.insertNodes(t)}function j9(e,t,r,n=[]){let s=t===null||r.isSelected(t);const i=de(r)&&r.excludeFromCopy("html");let o=r;if(t!==null){let c=v9(r);c=we(c)&&t!==null?b9(t,c):c,o=c}const a=de(o)?o.getChildren():[],l=function(c){const d=c.exportJSON(),f=c.constructor;if(d.type!==f.getType()&&By(58,f.name),de(c)){const h=d.children;Array.isArray(h)||By(59,f.name)}return d}(o);if(we(o)){const c=o.__text;c.length>0?l.text=c:s=!1}for(let c=0;c<a.length;c++){const d=a[c],f=j9(e,t,d,l.children);!s&&de(r)&&f&&r.extractWithChild(d,t,"clone")&&(s=!0)}if(s&&!i)n.push(l);else if(Array.isArray(l.children))for(let c=0;c<l.children.length;c++){const d=l.children[c];n.push(d)}return s}function fDe(e,t){const r=[],n=mr().getChildren();for(let s=0;s<n.length;s++)j9(e,t,n[s],r);return{namespace:e._config.namespace,nodes:r}}function hDe(e){const t=[];for(let r=0;r<e.length;r++){const n=e[r],s=O2e(n);we(s)&&X2e(s),t.push(s)}return t}let Mc=null;async function E$(e,t){if(Mc!==null)return!1;if(t!==null)return new Promise((a,l)=>{e.update(()=>{a(j$(e,t))})});const r=e.getRootElement(),n=e._window==null?window.document:e._window.document,s=E9(e._window);if(r===null||s===null)return!1;const i=n.createElement("span");i.style.cssText="position: fixed; top: -1000px;",i.append(n.createTextNode("#")),r.append(i);const o=new Range;return o.setStart(i,0),o.setEnd(i,1),s.removeAllRanges(),s.addRange(o),new Promise((a,l)=>{const c=e.registerCommand(Sb,d=>(Pl(d,ClipboardEvent)&&(c(),Mc!==null&&(window.clearTimeout(Mc),Mc=null),a(j$(e,d))),!0),$2e);Mc=window.setTimeout(()=>{c(),Mc=null,a(!1)},50),n.execCommand("copy"),i.remove()})}function j$(e,t){const r=E9(e._window);if(!r)return!1;const n=r.anchorNode,s=r.focusNode;if(n!==null&&s!==null&&!jp(e,n,s))return!1;t.preventDefault();const i=t.clipboardData,o=Ie();if(i===null||o===null)return!1;const a=uDe(e),l=dDe(e);let c="";return o!==null&&(c=o.getTextContent()),a!==null&&i.setData("text/html",a),l!==null&&i.setData("application/x-lexical-editor",l),i.setData("text/plain",c),!0}function N$(e,t){if(document.caretRangeFromPoint!==void 0){const r=document.caretRangeFromPoint(e,t);return r===null?null:{node:r.startContainer,offset:r.startOffset}}if(document.caretPositionFromPoint!=="undefined"){const r=document.caretPositionFromPoint(e,t);return r===null?null:{node:r.offsetNode,offset:r.offset}}return null}const $d=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,pDe=$d&&"documentMode"in document?document.documentMode:null,mDe=!(!$d||!("InputEvent"in window)||pDe)&&"getTargetRanges"in new window.InputEvent("input"),gDe=$d&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),yDe=$d&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,vDe=$d&&/^(?=.*Chrome).*/i.test(navigator.userAgent),bDe=$d&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!vDe,k$=EOe();function zm(e){let t=null;if(Pl(e,DragEvent)?t=e.dataTransfer:Pl(e,ClipboardEvent)&&(t=e.clipboardData),t===null)return[!1,[],!1];const r=t.types,n=r.includes("Files"),s=r.includes("text/html")||r.includes("text/plain");return[n,Array.from(t.files),s]}function C$(e){const t=Ie();if(!be(t))return!1;const r=new Set,n=t.getNodes();for(let s=0;s<n.length;s++){const i=n[s],o=i.getKey();if(r.has(o))continue;const a=nC(i,c=>de(c)&&!c.isInline());if(a===null)continue;const l=a.getKey();a.canIndent()&&!r.has(l)&&(r.add(l),e(a))}return r.size>0}function Um(e){const t=oc(e);return $t(t)}function xDe(e){return Ib(e.registerCommand(x7,t=>{const r=Ie();return!!Ys(r)&&(r.clear(),!0)},0),e.registerCommand(Vl,t=>{const r=Ie();return!!be(r)&&(r.deleteCharacter(t),!0)},lt),e.registerCommand(Rh,t=>{const r=Ie();return!!be(r)&&(r.deleteWord(t),!0)},lt),e.registerCommand($h,t=>{const r=Ie();return!!be(r)&&(r.deleteLine(t),!0)},lt),e.registerCommand(Nu,t=>{const r=Ie();if(typeof t=="string")r!==null&&r.insertText(t);else{if(r===null)return!1;const n=t.dataTransfer;if(n!=null)_$(n,r,e);else if(be(r)){const s=t.data;return s&&r.insertText(s),!0}}return!0},lt),e.registerCommand(L_,()=>{const t=Ie();return!!be(t)&&(t.removeText(),!0)},lt),e.registerCommand(Oa,t=>{const r=Ie();return!!be(r)&&(r.formatText(t),!0)},lt),e.registerCommand(DOe,t=>{const r=Ie();if(!be(r)&&!Ys(r))return!1;const n=r.getNodes();for(const s of n){const i=nC(s,o=>de(o)&&!o.isInline());i!==null&&i.setFormat(t)}return!0},lt),e.registerCommand(ju,t=>{const r=Ie();return!!be(r)&&(r.insertLineBreak(t),!0)},lt),e.registerCommand(jy,()=>{const t=Ie();return!!be(t)&&(t.insertParagraph(),!0)},lt),e.registerCommand(POe,()=>(T2e([Cp()]),!0),lt),e.registerCommand(OOe,()=>C$(t=>{const r=t.getIndent();t.setIndent(r+1)}),lt),e.registerCommand(LR,()=>C$(t=>{const r=t.getIndent();r>0&&t.setIndent(r-1)}),lt),e.registerCommand(S7,t=>{const r=Ie();if(Ys(r)&&!Um(t.target)){const n=r.getNodes();if(n.length>0)return n[0].selectPrevious(),!0}else if(be(r)){const n=Ih(r.focus,!0);if(!t.shiftKey&&$t(n)&&!n.isIsolated()&&!n.isInline())return n.selectPrevious(),t.preventDefault(),!0}return!1},lt),e.registerCommand(E7,t=>{const r=Ie();if(Ys(r)){const n=r.getNodes();if(n.length>0)return n[0].selectNext(0,0),!0}else if(be(r)){if(function(s){const i=s.focus;return i.key==="root"&&i.offset===mr().getChildrenSize()}(r))return t.preventDefault(),!0;const n=Ih(r.focus,!1);if(!t.shiftKey&&$t(n)&&!n.isIsolated()&&!n.isInline())return n.selectNext(),t.preventDefault(),!0}return!1},lt),e.registerCommand(_7,t=>{const r=Ie();if(Ys(r)){const n=r.getNodes();if(n.length>0)return t.preventDefault(),n[0].selectPrevious(),!0}if(!be(r))return!1;if(x$(r,!0)){const n=t.shiftKey;return t.preventDefault(),w$(r,n,!0),!0}return!1},lt),e.registerCommand(w7,t=>{const r=Ie();if(Ys(r)&&!Um(t.target)){const s=r.getNodes();if(s.length>0)return t.preventDefault(),s[0].selectNext(0,0),!0}if(!be(r))return!1;const n=t.shiftKey;return!!x$(r,!1)&&(t.preventDefault(),w$(r,n,!1),!0)},lt),e.registerCommand(j7,t=>{if(Um(t.target))return!1;const r=Ie();if(!be(r))return!1;t.preventDefault();const{anchor:n}=r,s=n.getNode();return r.isCollapsed()&&n.offset===0&&!ln(s)&&nDe(s).getIndent()>0?e.dispatchCommand(LR,void 0):e.dispatchCommand(Vl,!0)},lt),e.registerCommand(k7,t=>{if(Um(t.target))return!1;const r=Ie();return!!be(r)&&(t.preventDefault(),e.dispatchCommand(Vl,!1))},lt),e.registerCommand(Ny,t=>{const r=Ie();if(!be(r))return!1;if(t!==null){if((yDe||gDe||bDe)&&mDe)return!1;if(t.preventDefault(),t.shiftKey)return e.dispatchCommand(ju,!1)}return e.dispatchCommand(jy,void 0)},lt),e.registerCommand(N7,()=>{const t=Ie();return!!be(t)&&(e.blur(),!0)},lt),e.registerCommand(C7,t=>{const[,r]=zm(t);if(r.length>0){const s=N$(t.clientX,t.clientY);if(s!==null){const{offset:i,node:o}=s,a=oc(o);if(a!==null){const l=k2e();if(we(a))l.anchor.set(a.getKey(),i,"text"),l.focus.set(a.getKey(),i,"text");else{const d=a.getParentOrThrow().getKey(),f=a.getIndexWithinParent()+1;l.anchor.set(d,f,"element"),l.focus.set(d,f,"element")}const c=L7(l);Wi(c)}e.dispatchCommand(k$,r)}return t.preventDefault(),!0}const n=Ie();return!!be(n)},lt),e.registerCommand(T7,t=>{const[r]=zm(t),n=Ie();return!(r&&!be(n))},lt),e.registerCommand(A7,t=>{const[r]=zm(t),n=Ie();if(r&&!be(n))return!1;const s=N$(t.clientX,t.clientY);if(s!==null){const i=oc(s.node);$t(i)&&t.preventDefault()}return!0},lt),e.registerCommand(F_,()=>(u2e(),!0),lt),e.registerCommand(Sb,t=>(E$(e,Pl(t,ClipboardEvent)?t:null),!0),lt),e.registerCommand(Rk,t=>(async function(r,n){await E$(n,Pl(r,ClipboardEvent)?r:null),n.update(()=>{const s=Ie();be(s)?s.removeText():Ys(s)&&s.getNodes().forEach(i=>i.remove())})}(t,e),!0),lt),e.registerCommand(Pk,t=>{const[,r,n]=zm(t);return r.length>0&&!n?(e.dispatchCommand(k$,r),!0):Wk(t.target)?!1:Ie()!==null&&(function(s,i){s.preventDefault(),i.update(()=>{const o=Ie(),a=Pl(s,InputEvent)||Pl(s,KeyboardEvent)?null:s.clipboardData;a!=null&&o!==null&&_$(a,o,i)},{tag:"paste"})}(t,e),!0)},lt))}const rS=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?w.useLayoutEffect:w.useEffect;function T$(e){return e.getEditorState().read(K2e(e.isComposing()))}function wDe({contentEditable:e,placeholder:t,ErrorBoundary:r}){const[n]=Pd(),s=function(i,o){const[a,l]=w.useState(()=>i.getDecorators());return rS(()=>i.registerDecoratorListener(c=>{Li.flushSync(()=>{l(c)})}),[i]),w.useEffect(()=>{l(i.getDecorators())},[i]),w.useMemo(()=>{const c=[],d=Object.keys(a);for(let f=0;f<d.length;f++){const h=d[f],p=u.jsx(o,{onError:m=>i._onError(m),children:u.jsx(w.Suspense,{fallback:null,children:a[h]})}),g=i.getElementByKey(h);g!==null&&c.push(Li.createPortal(p,g,h))}return c},[o,a,i])}(n,r);return function(i){rS(()=>Ib(xDe(i),sDe(i)),[i])}(n),u.jsxs(u.Fragment,{children:[e,u.jsx(_De,{content:t}),s]})}function _De({content:e}){const[t]=Pd(),r=function(s){const[i,o]=w.useState(()=>T$(s));return rS(()=>{function a(){const l=T$(s);o(l)}return a(),Ib(s.registerUpdateListener(()=>{a()}),s.registerEditableListener(()=>{a()}))},[s]),i}(t),n=U2e();return r?typeof e=="function"?e(n):e:null}const SDe=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?w.useLayoutEffect:w.useEffect;function EDe({ariaActiveDescendant:e,ariaAutoComplete:t,ariaControls:r,ariaDescribedBy:n,ariaExpanded:s,ariaLabel:i,ariaLabelledBy:o,ariaMultiline:a,ariaOwns:l,ariaRequired:c,autoCapitalize:d,className:f,id:h,role:p="textbox",spellCheck:g=!0,style:m,tabIndex:y,"data-testid":v,...b}){const[x]=Pd(),[E,_]=w.useState(!1),N=w.useCallback(k=>{k&&k.ownerDocument&&k.ownerDocument.defaultView&&x.setRootElement(k)},[x]);return SDe(()=>(_(x.isEditable()),x.registerEditableListener(k=>{_(k)})),[x]),u.jsx("div",{...b,"aria-activedescendant":E?e:void 0,"aria-autocomplete":E?t:"none","aria-controls":E?r:void 0,"aria-describedby":n,"aria-expanded":E&&p==="combobox"?!!s:void 0,"aria-label":i,"aria-labelledby":o,"aria-multiline":a,"aria-owns":E?l:void 0,"aria-readonly":!E||void 0,"aria-required":c,autoCapitalize:d,className:f,contentEditable:E,"data-testid":v,id:h,ref:N,role:p,spellCheck:g,style:m,tabIndex:y})}const qm=0,nS=1,sS=2,Ws=0,jDe=1,A$=2,NDe=3,kDe=4;function CDe(e,t,r,n,s){if(e===null||r.size===0&&n.size===0&&!s)return Ws;const i=t._selection,o=e._selection;if(s)return jDe;if(!(be(i)&&be(o)&&o.isCollapsed()&&i.isCollapsed()))return Ws;const a=function(v,b,x){const E=v._nodeMap,_=[];for(const N of b){const k=E.get(N);k!==void 0&&_.push(k)}for(const[N,k]of x){if(!k)continue;const C=E.get(N);C===void 0||ln(C)||_.push(C)}return _}(t,r,n);if(a.length===0)return Ws;if(a.length>1){const v=t._nodeMap,b=v.get(i.anchor.key),x=v.get(o.anchor.key);return b&&x&&!e._nodeMap.has(b.__key)&&we(b)&&b.__text.length===1&&i.anchor.offset===1?A$:Ws}const l=a[0],c=e._nodeMap.get(l.__key);if(!we(c)||!we(l)||c.__mode!==l.__mode)return Ws;const d=c.__text,f=l.__text;if(d===f)return Ws;const h=i.anchor,p=o.anchor;if(h.key!==p.key||h.type!=="text")return Ws;const g=h.offset,m=p.offset,y=f.length-d.length;return y===1&&m===g-1?A$:y===-1&&m===g+1?NDe:y===-1&&m===g?kDe:Ws}function TDe(e,t){let r=Date.now(),n=Ws;return(s,i,o,a,l,c)=>{const d=Date.now();if(c.has("historic"))return n=Ws,r=d,sS;const f=CDe(s,i,a,l,e.isComposing()),h=(()=>{const p=o===null||o.editor===e,g=c.has("history-push");if(!g&&p&&c.has("history-merge"))return qm;if(s===null)return nS;const m=i._selection;return a.size>0||l.size>0?g===!1&&f!==Ws&&f===n&&d<r+t&&p||a.size===1&&function(y,v,b){const x=v._nodeMap.get(y),E=b._nodeMap.get(y),_=v._selection,N=b._selection;let k=!1;return be(_)&&be(N)&&(k=_.anchor.type==="element"&&_.focus.type==="element"&&N.anchor.type==="text"&&N.focus.type==="text"),!(k||!we(x)||!we(E))&&x.__type===E.__type&&x.__text===E.__text&&x.__mode===E.__mode&&x.__detail===E.__detail&&x.__style===E.__style&&x.__format===E.__format&&x.__parent===E.__parent}(Array.from(a)[0],s,i)?qm:nS:m!==null?qm:sS})();return r=d,n=f,h}}function P$(e){e.undoStack=[],e.redoStack=[],e.current=null}function ADe(e,t,r){const n=TDe(e,r);return Ib(e.registerCommand(Ok,()=>(function(i,o){const a=o.redoStack,l=o.undoStack;if(l.length!==0){const c=o.current,d=l.pop();c!==null&&(a.push(c),i.dispatchCommand(Mm,!0)),l.length===0&&i.dispatchCommand(Lm,!1),o.current=d||null,d&&d.editor.setEditorState(d.editorState,{tag:"historic"})}}(e,t),!0),lt),e.registerCommand(Dk,()=>(function(i,o){const a=o.redoStack,l=o.undoStack;if(a.length!==0){const c=o.current;c!==null&&(l.push(c),i.dispatchCommand(Lm,!0));const d=a.pop();a.length===0&&i.dispatchCommand(Mm,!1),o.current=d||null,d&&d.editor.setEditorState(d.editorState,{tag:"historic"})}}(e,t),!0),lt),e.registerCommand($Oe,()=>(P$(t),!1),lt),e.registerCommand(IOe,()=>(P$(t),e.dispatchCommand(Mm,!1),e.dispatchCommand(Lm,!1),!0),lt),e.registerUpdateListener(({editorState:i,prevEditorState:o,dirtyLeaves:a,dirtyElements:l,tags:c})=>{const d=t.current,f=t.redoStack,h=t.undoStack,p=d===null?null:d.editorState;if(d!==null&&i===p)return;const g=n(o,i,d,a,l,c);if(g===nS)f.length!==0&&(t.redoStack=[],e.dispatchCommand(Mm,!1)),d!==null&&(h.push({...d}),e.dispatchCommand(Lm,!0));else if(g===sS)return;t.current={editor:e,editorState:i}}))}function PDe(){return{current:null,redoStack:[],undoStack:[]}}function ODe({externalHistoryState:e}){const[t]=Pd();return function(r,n,s=1e3){const i=w.useMemo(()=>n||PDe(),[n]);w.useEffect(()=>ADe(r,i,s),[s,r,i])}(t,e),null}function DDe({defaultSelection:e}){const[t]=Pd();return w.useEffect(()=>{t.focus(()=>{const r=document.activeElement,n=t.getRootElement();n===null||r!==null&&n.contains(r)||n.focus({preventScroll:!0})},{defaultSelection:e})},[e,t]),null}function iS(e,t){return iS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},iS(e,t)}var O$={error:null},RDe=function(e){var t,r;function n(){for(var i,o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return(i=e.call.apply(e,[this].concat(a))||this).state=O$,i.resetErrorBoundary=function(){for(var c,d=arguments.length,f=new Array(d),h=0;h<d;h++)f[h]=arguments[h];i.props.onReset==null||(c=i.props).onReset.apply(c,f),i.reset()},i}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,iS(t,r),n.getDerivedStateFromError=function(i){return{error:i}};var s=n.prototype;return s.reset=function(){this.setState(O$)},s.componentDidCatch=function(i,o){var a,l;(a=(l=this.props).onError)==null||a.call(l,i,o)},s.componentDidUpdate=function(i,o){var a,l,c,d,f=this.state.error,h=this.props.resetKeys;f!==null&&o.error!==null&&((c=i.resetKeys)===void 0&&(c=[]),(d=h)===void 0&&(d=[]),c.length!==d.length||c.some(function(p,g){return!Object.is(p,d[g])}))&&((a=(l=this.props).onResetKeysChange)==null||a.call(l,i.resetKeys,h),this.reset())},s.render=function(){var i=this.state.error,o=this.props,a=o.fallbackRender,l=o.FallbackComponent,c=o.fallback;if(i!==null){var d={error:i,resetErrorBoundary:this.resetErrorBoundary};if(S.isValidElement(c))return c;if(typeof a=="function")return a(d);if(l)return S.createElement(l,d);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},n}(S.Component);function $De({children:e,onError:t}){return u.jsx(RDe,{fallback:u.jsx("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"},children:"An error was thrown."}),onError:t,children:e})}function IDe({item:e,contentType:t,onSave:r,onCancel:n}){const[s,i]=w.useState(l()),[o,a]=w.useState({});function l(){if(e){const{id:y,created_at:v,updated_at:b,created_by:x,...E}=e;return E}return(()=>{switch(t){case"posts":case"pages":return{status:"draft",title:"",content:"",slug:"",author_id:void 0,excerpt:void 0,featured_image:void 0,tags:[],category_id:void 0};case"storeItems":return{status:"active",name:"",description:"",price:0,category:"digital",image_url:void 0,stock_quantity:0,sku:void 0};case"libraryItems":return{status:"draft",title:"",description:"",file_url:"",file_type:void 0,file_size:0,category:"tutorial",thumbnail_url:void 0};case"characters":return{status:"draft",name:"",description:"",role:"",backstory:"",image_url:"",birth_date:void 0,death_date:void 0,species:void 0,occupation:void 0,relationships:void 0};case"timelineEvents":return{status:"draft",title:"",date:"",era:"ancient",description:"",is_published:!1,details:null,background_image:null,nested_events:[]};case"betaUsers":return{status:"pending",name:"",email:"",message:""};default:throw new Error(`Unsupported content type: ${t}`)}})()}const c=w.useCallback(()=>{const m=e?{...e,...s}:s;r(m)},[s,e,r]),d={namespace:"MyEditor",theme:{},onError(m){console.error(m)}},f=w.useCallback(m=>y=>{const v=y.target.value;i(b=>({...b,[m]:v}))},[]),h=w.useCallback(m=>y=>{const v=parseFloat(y.target.value);i(b=>({...b,[m]:v}))},[]),p=w.useCallback(m=>y=>{const v=y.target.value;i(b=>({...b,[m]:v}))},[]),g=()=>{switch(t){case"posts":case"pages":const m=s;return u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),u.jsx("input",{type:"text",value:m.title,onChange:f("title"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter title...",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Slug"}),u.jsx("input",{type:"text",value:m.slug,onChange:_=>i(N=>({...N,slug:_.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"my-awesome-post"}),u.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"URL-friendly version of the title. e.g., 'my-awesome-post'"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content"}),u.jsx("div",{className:"editor-container",children:u.jsxs(F2e,{initialConfig:d,children:[u.jsx(wDe,{contentEditable:u.jsx(EDe,{className:"editor-input"}),placeholder:u.jsx("div",{className:"editor-placeholder",children:"Enter your content..."}),ErrorBoundary:$De}),u.jsx(ODe,{}),u.jsx(DDe,{})]})})]})]});case"storeItems":const y=s;return u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Name"}),u.jsx("input",{type:"text",value:y.name,onChange:f("name"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Product name..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price"}),u.jsx("input",{type:"number",step:"0.01",value:y.price,onChange:h("price"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),u.jsxs("select",{value:y.category,onChange:p("category"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"digital",children:"Digital"}),u.jsx("option",{value:"physical",children:"Physical"}),u.jsx("option",{value:"subscription",children:"Subscription"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),u.jsx("textarea",{value:y.description,onChange:f("description"),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Product description..."})]})]});case"libraryItems":const v=s;return u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),u.jsx("input",{type:"text",value:v.title,onChange:f("title"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Resource title..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),u.jsxs("select",{value:v.category,onChange:p("category"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"tutorial",children:"Tutorial"}),u.jsx("option",{value:"resources",children:"Resources"}),u.jsx("option",{value:"template",children:"Template"}),u.jsx("option",{value:"guide",children:"Guide"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"File URL"}),u.jsx("input",{type:"url",value:v.file_url,onChange:f("file_url"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),u.jsx("textarea",{value:v.description,onChange:f("description"),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Resource description..."})]})]});case"characters":const b=s;return u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Character Name"}),u.jsx("input",{type:"text",value:b.name,onChange:f("name"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Character name..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),u.jsxs("select",{value:b.role,onChange:p("role"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"protagonist",children:"Protagonist"}),u.jsx("option",{value:"antagonist",children:"Antagonist"}),u.jsx("option",{value:"mentor",children:"Mentor"}),u.jsx("option",{value:"ally",children:"Ally"}),u.jsx("option",{value:"neutral",children:"Neutral"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),u.jsx("textarea",{value:b.description,onChange:f("description"),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Character description..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Backstory"}),u.jsx("textarea",{value:b.backstory,onChange:f("backstory"),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Character backstory..."})]})]});case"timelineEvents":const x=s;return u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Title"}),u.jsx("input",{type:"text",value:x.title,onChange:f("title"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Event title..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),u.jsx("input",{type:"date",value:x.date,onChange:f("date"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Era"}),u.jsxs("select",{value:x.era,onChange:p("era"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"ancient",children:"Ancient"}),u.jsx("option",{value:"medieval",children:"Medieval"}),u.jsx("option",{value:"modern",children:"Modern"}),u.jsx("option",{value:"future",children:"Future"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),u.jsx("textarea",{value:x.description,onChange:f("description"),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Event description..."})]})]});case"betaUsers":const E=s;return u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),u.jsx("input",{type:"text",value:E.name,onChange:f("name"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"User name..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),u.jsx("input",{type:"email",value:E.email,onChange:f("email"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"user@example.com"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),u.jsx("textarea",{value:E.message,onChange:f("message"),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"User message/notes..."})]})]});default:return null}};return u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e?`Edit ${t}`:`Create New ${t}`}),u.jsx("button",{onClick:n,className:"p-2 text-gray-500 hover:text-gray-700",children:u.jsx(La,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"space-y-6",children:[g(),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),u.jsxs("select",{value:s.status,onChange:m=>i({...s,status:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[t==="posts"&&u.jsxs(u.Fragment,{children:[u.jsx("option",{value:"draft",children:"Draft"}),u.jsx("option",{value:"published",children:"Published"}),u.jsx("option",{value:"archived",children:"Archived"})]}),t==="pages"&&u.jsxs(u.Fragment,{children:[u.jsx("option",{value:"draft",children:"Draft"}),u.jsx("option",{value:"published",children:"Published"})]}),t==="storeItems"&&u.jsxs(u.Fragment,{children:[u.jsx("option",{value:"active",children:"Active"}),u.jsx("option",{value:"inactive",children:"Inactive"})]}),t==="libraryItems"&&u.jsxs(u.Fragment,{children:[u.jsx("option",{value:"draft",children:"Draft"}),u.jsx("option",{value:"published",children:"Published"})]}),t==="characters"&&u.jsxs(u.Fragment,{children:[u.jsx("option",{value:"draft",children:"Draft"}),u.jsx("option",{value:"published",children:"Published"})]}),t==="timelineEvents"&&u.jsxs(u.Fragment,{children:[u.jsx("option",{value:"draft",children:"Draft"}),u.jsx("option",{value:"published",children:"Published"})]}),t==="betaUsers"&&u.jsxs(u.Fragment,{children:[u.jsx("option",{value:"pending",children:"Pending"}),u.jsx("option",{value:"active",children:"Active"}),u.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),u.jsxs("div",{className:"flex gap-3 pt-4",children:[u.jsxs("button",{type:"button",onClick:c,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:[u.jsx(qS,{className:"w-4 h-4"}),"Save"]}),u.jsx("button",{type:"button",onClick:n,className:"flex items-center gap-2 bg-gray-200 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})]})}const MDe=({contentType:e,items:t,title:r,columns:n,createActionLabel:s,onEdit:i,onDelete:o,onCreateNew:a})=>{const[l,c]=w.useState(""),[d,f]=w.useState("all"),h=t.filter(p=>{const g=Object.values(p).some(y=>y&&y.toString().toLowerCase().includes(l.toLowerCase())),m=d==="all"||p.status===d;return g&&m});return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:r}),u.jsxs("button",{onClick:a,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:[u.jsx(Fi,{className:"w-4 h-4"}),s]})]}),u.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:u.jsxs("div",{className:"flex gap-4",children:[u.jsx("div",{className:"flex-1",children:u.jsxs("div",{className:"relative",children:[u.jsx(cc,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),u.jsx("input",{type:"text",value:l,onChange:p=>c(p.target.value),placeholder:`Search ${r.toLowerCase()}...`,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),u.jsxs("select",{value:d,onChange:p=>f(p.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"all",children:"All Status"}),u.jsx("option",{value:"published",children:"Published"}),u.jsx("option",{value:"draft",children:"Draft"}),u.jsx("option",{value:"active",children:"Active"}),u.jsx("option",{value:"inactive",children:"Inactive"}),u.jsx("option",{value:"pending",children:"Pending"})]})]})}),u.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:u.jsxs("tr",{children:[n.map(p=>u.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-900",children:p.label},p.key)),u.jsx("th",{className:"text-right py-3 px-6 text-sm font-medium text-gray-900",children:"Actions"})]})}),u.jsx("tbody",{children:h.map(p=>u.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[n.map(g=>u.jsx("td",{className:"py-4 px-6",children:g.render?g.render(p):u.jsx("div",{className:g.key===n[0].key?"font-medium text-gray-900":"text-sm text-gray-500",children:p[g.key]})},g.key)),u.jsx("td",{className:"py-4 px-6",children:u.jsxs("div",{className:"flex items-center justify-end gap-2",children:[u.jsx("button",{onClick:()=>i(p),className:"p-1 text-gray-500 hover:text-blue-600",children:u.jsx(ev,{className:"w-4 h-4"})}),u.jsx("button",{className:"p-1 text-gray-500 hover:text-green-600",children:u.jsx(Hh,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>o(p.id),className:"p-1 text-gray-500 hover:text-red-600",children:u.jsx(uc,{className:"w-4 h-4"})})]})})]},p.id))})]})})]})},LDe=async()=>{const{data:e,error:t}=await he.from("pages").select("*");if(t)throw new Error(t.message);return e},FDe=async e=>{const{data:t,error:r}=await he.from("pages").insert(e).select();if(r)throw new Error(r.message);return t[0]},BDe=async e=>{const{data:t,error:r}=await he.from("pages").update(e).eq("id",e.id).select();if(r)throw new Error(r.message);return t[0]},zDe=async e=>{const{error:t}=await he.from("pages").delete().eq("id",e);if(t)throw new Error(t.message)},UDe=()=>{const e=qo(),[t,r]=w.useState(!1),[n,s]=w.useState(null),{data:i,isLoading:o,isError:a,error:l}=dr({queryKey:["pages"],queryFn:LDe}),c=Xt({mutationFn:FDe,onSuccess:()=>{e.invalidateQueries({queryKey:["pages"]}),r(!1),s(null)}}),d=Xt({mutationFn:BDe,onSuccess:()=>{e.invalidateQueries({queryKey:["pages"]}),r(!1),s(null)}}),f=Xt({mutationFn:zDe,onSuccess:()=>{e.invalidateQueries({queryKey:["pages"]})}}),h=m=>{n?d.mutate(m):c.mutate(m)},p=m=>{window.confirm("Are you sure you want to delete this page?")&&f.mutate(m)},g=[{key:"title",label:"Page Title"},{key:"slug",label:"URL Slug"},{key:"status",label:"Status",render:m=>u.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${m.status==="published"?"bg-green-100 text-green-800":m.status==="draft"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:m.status})},{key:"created_at",label:"Created At",render:m=>new Date(m.created_at).toLocaleDateString()},{key:"updated_at",label:"Last Updated",render:m=>new Date(m.updated_at).toLocaleDateString()}];return o?u.jsx("div",{children:"Loading pages..."}):a?u.jsxs("div",{children:["Error loading pages: ",l==null?void 0:l.message]}):u.jsx("div",{className:"space-y-6",children:t?u.jsx(IDe,{item:n,contentType:"pages",onSave:h,onCancel:()=>{r(!1),s(null)}}):u.jsx(MDe,{contentType:"pages",items:i||[],title:"Website Pages",columns:g,createActionLabel:"New Page",onEdit:m=>{s(m),r(!0)},onDelete:p,onCreateNew:()=>{s(null),r(!0)}})})},qDe=async()=>{const{data:e,error:t}=await he.from("characters").select("*").order("created_at",{ascending:!0});if(t)throw new Error(t.message);return e},VDe=async e=>{const{data:t,error:r}=await he.from("characters").insert(e).select();if(r)throw new Error(r.message);return t[0]},WDe=async e=>{const{id:t,...r}=e,{data:n,error:s}=await he.from("characters").update(r).eq("id",t).select();if(s)throw new Error(s.message);return n[0]},KDe=async e=>{const{error:t}=await he.from("characters").delete().eq("id",e);if(t)throw new Error(t.message)},HDe=({character:e,onSave:t,onCancel:r})=>{const[n,s]=w.useState({name:(e==null?void 0:e.name)||"",title:(e==null?void 0:e.title)||"",description:(e==null?void 0:e.description)||"",traits:(e==null?void 0:e.traits.join(", "))||"",image_url:(e==null?void 0:e.image_url)||"",silhouette_url:(e==null?void 0:e.silhouette_url)||""}),i=()=>{const o={...n,traits:n.traits.split(",").map(a=>a.trim()).filter(a=>a!=="")};t({...e,...o,id:e==null?void 0:e.id})};return u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6 mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:e?"Edit Character":"Create New Character"}),u.jsxs("form",{onSubmit:o=>{o.preventDefault(),i()},children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),u.jsx("input",{type:"text",value:n.name,onChange:o=>s({...n,name:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),u.jsx("input",{type:"text",value:n.title,onChange:o=>s({...n,title:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),u.jsx("textarea",{value:n.description,onChange:o=>s({...n,description:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 h-32"})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Traits (comma-separated)"}),u.jsx("input",{type:"text",value:n.traits,onChange:o=>s({...n,traits:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image URL"}),u.jsx("input",{type:"url",value:n.image_url,onChange:o=>s({...n,image_url:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Silhouette URL (Optional)"}),u.jsx("input",{type:"url",value:n.silhouette_url,onChange:o=>s({...n,silhouette_url:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"Save Character"}),u.jsx("button",{type:"button",onClick:r,className:"bg-gray-200 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})]})},YDe=()=>{const e=qo(),[t,r]=w.useState(!1),[n,s]=w.useState(null),[i,o]=w.useState(""),{data:a,isLoading:l,isError:c,error:d}=dr({queryKey:["characters"],queryFn:qDe}),f=Xt({mutationFn:VDe,onSuccess:()=>{e.invalidateQueries({queryKey:["characters"]}),r(!1),s(null)}}),h=Xt({mutationFn:WDe,onSuccess:()=>{e.invalidateQueries({queryKey:["characters"]}),r(!1),s(null)}}),p=Xt({mutationFn:KDe,onSuccess:()=>{e.invalidateQueries({queryKey:["characters"]})}}),g=v=>{n?h.mutate(v):f.mutate(v)},m=v=>{window.confirm("Are you sure you want to delete this character?")&&p.mutate(v)},y=(a==null?void 0:a.filter(v=>v.name.toLowerCase().includes(i.toLowerCase())))||[];return l?u.jsx("div",{children:"Loading characters..."}):c?u.jsxs("div",{children:["Error loading characters: ",d==null?void 0:d.message]}):u.jsx("div",{className:"space-y-6",children:t?u.jsx(HDe,{character:n,onSave:g,onCancel:()=>{r(!1),s(null)}}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Characters"}),u.jsxs("button",{onClick:()=>{s(null),r(!0)},className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:[u.jsx(Fi,{className:"w-4 h-4"}),"New Character"]})]}),u.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border mb-6",children:u.jsxs("div",{className:"relative",children:[u.jsx(cc,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),u.jsx("input",{type:"text",value:i,onChange:v=>o(v.target.value),placeholder:"Search characters...",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),u.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:u.jsxs("tr",{children:[u.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-900",children:"Name"}),u.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-900",children:"Title"}),u.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-900",children:"Traits"}),u.jsx("th",{className:"text-right py-3 px-6 text-sm font-medium text-gray-900",children:"Actions"})]})}),u.jsx("tbody",{children:y.map(v=>u.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[u.jsx("td",{className:"py-4 px-6",children:u.jsx("div",{className:"font-medium text-gray-900",children:v.name})}),u.jsx("td",{className:"py-4 px-6 text-sm text-gray-500",children:v.title}),u.jsx("td",{className:"py-4 px-6 text-sm text-gray-500",children:v.traits.join(", ")}),u.jsx("td",{className:"py-4 px-6",children:u.jsxs("div",{className:"flex items-center justify-end gap-2",children:[u.jsx("button",{onClick:()=>{s(v),r(!0)},className:"p-1 text-gray-500 hover:text-blue-600",children:u.jsx(ev,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>m(v.id),className:"p-1 text-gray-500 hover:text-red-600",children:u.jsx(uc,{className:"w-4 h-4"})})]})})]},v.id))})]})})]})})},GDe=async()=>{const{data:e,error:t}=await he.from("works").select("*").order("created_at",{ascending:!0});if(t)throw new Error(t.message);return e},ZDe=async e=>{const{data:t,error:r}=await he.from("works").insert(e).select();if(r)throw new Error(r.message);return t[0]},XDe=async e=>{const{id:t,...r}=e,{data:n,error:s}=await he.from("works").update(r).eq("id",t).select();if(s)throw new Error(s.message);return n[0]},JDe=async e=>{const{error:t}=await he.from("works").delete().eq("id",e);if(t)throw new Error(t.message)},QDe=({work:e,onSave:t,onCancel:r,allWorks:n})=>{const[s,i]=w.useState({title:(e==null?void 0:e.title)||"",type:(e==null?void 0:e.type)||"book",parent_id:(e==null?void 0:e.parent_id)||"",order_in_parent:(e==null?void 0:e.order_in_parent)||"",description:(e==null?void 0:e.description)||"",status:(e==null?void 0:e.status)||"planning",progress_percentage:(e==null?void 0:e.progress_percentage)||0,release_date:(e==null?void 0:e.release_date)||"",estimated_release:(e==null?void 0:e.estimated_release)||"",cover_image_url:(e==null?void 0:e.cover_image_url)||"",sample_content:(e==null?void 0:e.sample_content)||"",is_purchasable:(e==null?void 0:e.is_purchasable)??!0,is_featured:(e==null?void 0:e.is_featured)??!1,word_count:(e==null?void 0:e.word_count)||"",target_word_count:(e==null?void 0:e.target_word_count)||""}),o=()=>{t({...e,...s,parent_id:s.parent_id===""?null:s.parent_id,order_in_parent:s.order_in_parent?Number(s.order_in_parent):void 0,progress_percentage:s.progress_percentage?Number(s.progress_percentage):void 0,word_count:s.word_count?Number(s.word_count):void 0,target_word_count:s.target_word_count?Number(s.target_word_count):void 0,id:e==null?void 0:e.id})},a=n.filter(l=>l.id!==(e==null?void 0:e.id));return u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6 mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:e?"Edit Work":"Create New Work"}),u.jsxs("form",{onSubmit:l=>{l.preventDefault(),o()},children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),u.jsx("input",{type:"text",value:s.title,onChange:l=>i({...s,title:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),u.jsxs("select",{value:s.type,onChange:l=>i({...s,type:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[u.jsx("option",{value:"book",children:"Book"}),u.jsx("option",{value:"volume",children:"Volume"}),u.jsx("option",{value:"saga",children:"Saga"}),u.jsx("option",{value:"arc",children:"Arc"}),u.jsx("option",{value:"issue",children:"Issue"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Parent Work (for nesting)"}),u.jsxs("select",{value:s.parent_id,onChange:l=>i({...s,parent_id:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"",children:"None"}),a.map(l=>u.jsxs("option",{value:l.id,children:[l.title," (",l.type,")"]},l.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order in Parent"}),u.jsx("input",{type:"number",value:s.order_in_parent,onChange:l=>i({...s,order_in_parent:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),u.jsx("textarea",{value:s.description,onChange:l=>i({...s,description:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 h-32"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),u.jsxs("select",{value:s.status,onChange:l=>i({...s,status:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[u.jsx("option",{value:"planning",children:"Planning"}),u.jsx("option",{value:"writing",children:"Writing"}),u.jsx("option",{value:"editing",children:"Editing"}),u.jsx("option",{value:"published",children:"Published"}),u.jsx("option",{value:"on_hold",children:"On Hold"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Progress Percentage (0-100)"}),u.jsx("input",{type:"number",value:s.progress_percentage,onChange:l=>i({...s,progress_percentage:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0",max:"100"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Release Date"}),u.jsx("input",{type:"date",value:s.release_date,onChange:l=>i({...s,release_date:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estimated Release (e.g., Q2 2024)"}),u.jsx("input",{type:"text",value:s.estimated_release,onChange:l=>i({...s,estimated_release:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cover Image URL"}),u.jsx("input",{type:"url",value:s.cover_image_url,onChange:l=>i({...s,cover_image_url:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sample Content"}),u.jsx("textarea",{value:s.sample_content,onChange:l=>i({...s,sample_content:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 h-48"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Word Count"}),u.jsx("input",{type:"number",value:s.word_count,onChange:l=>i({...s,word_count:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Target Word Count"}),u.jsx("input",{type:"number",value:s.target_word_count,onChange:l=>i({...s,target_word_count:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),u.jsxs("div",{className:"mb-4 flex items-center",children:[u.jsx("input",{type:"checkbox",id:"isPurchasable",checked:s.is_purchasable,onChange:l=>i({...s,is_purchasable:l.target.checked}),className:"mr-2"}),u.jsx("label",{htmlFor:"isPurchasable",className:"text-sm font-medium text-gray-700",children:"Is Purchasable"})]}),u.jsxs("div",{className:"mb-4 flex items-center",children:[u.jsx("input",{type:"checkbox",id:"isFeatured",checked:s.is_featured,onChange:l=>i({...s,is_featured:l.target.checked}),className:"mr-2"}),u.jsx("label",{htmlFor:"isFeatured",className:"text-sm font-medium text-gray-700",children:"Is Featured"})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"Save Work"}),u.jsx("button",{type:"button",onClick:r,className:"bg-gray-200 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})]})},eRe=()=>{const e=qo(),[t,r]=w.useState(!1),[n,s]=w.useState(null),[i,o]=w.useState(""),[a,l]=w.useState("all"),[c,d]=w.useState("all"),{data:f,isLoading:h,isError:p,error:g}=dr({queryKey:["works"],queryFn:GDe}),m=Xt({mutationFn:ZDe,onSuccess:()=>{e.invalidateQueries({queryKey:["works"]}),r(!1),s(null)},onError:_=>{alert(`Error creating work: ${_.message}`)}}),y=Xt({mutationFn:XDe,onSuccess:()=>{e.invalidateQueries({queryKey:["works"]}),r(!1),s(null)},onError:_=>{alert(`Error updating work: ${_.message}`)}}),v=Xt({mutationFn:JDe,onSuccess:()=>{e.invalidateQueries({queryKey:["works"]})}}),b=_=>{n?y.mutate(_):m.mutate(_)},x=_=>{window.confirm("Are you sure you want to delete this work?")&&v.mutate(_)},E=(f==null?void 0:f.filter(_=>{const N=_.title.toLowerCase().includes(i.toLowerCase()),k=a==="all"||_.type===a,C=c==="all"||_.status===c;return N&&k&&C}))||[];return h?u.jsx("div",{children:"Loading works..."}):p?u.jsxs("div",{children:["Error loading works: ",g==null?void 0:g.message]}):u.jsx("div",{className:"space-y-6",children:t?u.jsx(QDe,{work:n,onSave:b,onCancel:()=>{r(!1),s(null)},allWorks:f||[]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Works Management"}),u.jsxs("button",{onClick:()=>{s(null),r(!0)},className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:[u.jsx(Fi,{className:"w-4 h-4"}),"New Work"]})]}),u.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border mb-6",children:u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(cc,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),u.jsx("input",{type:"text",value:i,onChange:_=>o(_.target.value),placeholder:"Search works...",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u.jsxs("select",{value:a,onChange:_=>l(_.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"all",children:"All Types"}),u.jsx("option",{value:"book",children:"Book"}),u.jsx("option",{value:"volume",children:"Volume"}),u.jsx("option",{value:"saga",children:"Saga"}),u.jsx("option",{value:"arc",children:"Arc"}),u.jsx("option",{value:"issue",children:"Issue"})]}),u.jsxs("select",{value:c,onChange:_=>d(_.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"all",children:"All Status"}),u.jsx("option",{value:"planning",children:"Planning"}),u.jsx("option",{value:"writing",children:"Writing"}),u.jsx("option",{value:"editing",children:"Editing"}),u.jsx("option",{value:"published",children:"Published"}),u.jsx("option",{value:"on_hold",children:"On Hold"})]})]})}),u.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:u.jsxs("tr",{children:[u.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-900",children:"Title"}),u.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-900",children:"Type"}),u.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-900",children:"Status"}),u.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-900",children:"Parent"}),u.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-900",children:"Release Date"}),u.jsx("th",{className:"text-right py-3 px-6 text-sm font-medium text-gray-900",children:"Actions"})]})}),u.jsx("tbody",{children:E.map(_=>{var N;return u.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[u.jsx("td",{className:"py-4 px-6",children:u.jsx("div",{className:"font-medium text-gray-900",children:_.title})}),u.jsx("td",{className:"py-4 px-6 text-sm text-gray-500",children:_.type}),u.jsx("td",{className:"py-4 px-6",children:u.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${_.status==="published"?"bg-green-100 text-green-800":_.status==="planning"?"bg-blue-100 text-blue-800":_.status==="writing"?"bg-yellow-100 text-yellow-800":_.status==="editing"?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:_.status})}),u.jsx("td",{className:"py-4 px-6 text-sm text-gray-500",children:((N=f==null?void 0:f.find(k=>k.id===_.parent_id))==null?void 0:N.title)||"N/A"}),u.jsx("td",{className:"py-4 px-6 text-sm text-gray-500",children:_.release_date||_.estimated_release||"N/A"}),u.jsx("td",{className:"py-4 px-6",children:u.jsxs("div",{className:"flex items-center justify-end gap-2",children:[u.jsx("button",{onClick:()=>{s(_),r(!0)},className:"p-1 text-gray-500 hover:text-blue-600",children:u.jsx(ev,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>x(_.id),className:"p-1 text-gray-500 hover:text-red-600",children:u.jsx(uc,{className:"w-4 h-4"})})]})})]},_.id)})})]})})]})})},tRe=()=>{const[e,t]=w.useState(""),[r,n]=w.useState("chapter"),[s,i]=w.useState(""),[o,a]=w.useState(""),[l,c]=w.useState(""),[d,f]=w.useState(null),[h,p]=w.useState(null),[g,m]=w.useState(null),[y,v]=w.useState(""),[b,x]=w.useState(""),[E,_]=w.useState(!1),[N,k]=w.useState([]),[C,T]=w.useState(!0),[$,M]=w.useState(null),[L,D]=w.useState(!1),[z,U]=w.useState(null),[G,q]=w.useState(""),[Z,ie]=w.useState(!1),[R,B]=w.useState(""),[X,oe]=w.useState(""),W=async()=>{T(!0),M(null);try{const{data:{session:V}}=await he.auth.getSession();if(!V){M("User not authenticated."),T(!1);return}const H=await fetch("/api/admin/users",{headers:{Authorization:`Bearer ${V.access_token}`}});if(!H.ok){const O=await H.json();throw new Error(O.error||"Failed to fetch users.")}const se=await H.json();k(se.users)}catch(V){console.error("Error fetching users:",V instanceof Error?V.message:V),M("Failed to load users: "+(V instanceof Error?V.message:"Unknown error"))}finally{T(!1)}};w.useEffect(()=>{W()},[]);const K=async V=>{V.preventDefault(),v(""),x(""),_(!0);const H=new FormData;H.append("title",e),H.append("type",r),H.append("description",s),H.append("release_date",o),H.append("cover_image_url",l),d&&H.append("epub_file",d),h&&H.append("pdf_file",h),g&&H.append("mobi_file",g);try{const se="YOUR_ADMIN_USER_ID";if(se==="YOUR_ADMIN_USER_ID"){x("Please replace 'YOUR_ADMIN_USER_ID' with an actual admin user's ID in AdminUploadPage.jsx"),_(!1);return}const O=await fetch("http://localhost:3001/api/admin/works",{method:"POST",headers:{"x-user-id":se},body:H}),ye=await O.json();O.ok?(v("Work uploaded successfully!"),t(""),n("chapter"),i(""),a(""),c(""),f(null),p(null),m(null),document.getElementById("epubFileInput").value="",document.getElementById("pdfFileInput").value="",document.getElementById("mobiFileInput").value=""):x(ye.message||"Failed to upload work.")}catch(se){console.error("Error uploading work:",se),x("An error occurred while uploading the work. Check console for details.")}finally{_(!1)}},ee=V=>{U(V);const H=V.subscriptions.find(se=>se.status==="active"||se.status==="trialing");H?(q(H.subscription_type),ie(H.status==="active"||H.status==="trialing"),B(H.start_date?H.start_date.split("T")[0]:""),oe(H.current_period_end?H.current_period_end.split("T")[0]:"")):(q(""),ie(!1),B(new Date().toISOString().split("T")[0]),oe("")),D(!0)},te=()=>{D(!1),U(null)},ue=async V=>{if(V.preventDefault(),!!z)try{const{data:{session:H}}=await he.auth.getSession();if(!H){alert("You must be logged in to manage subscriptions.");return}const se=await fetch(`/api/admin/users/${z.id}/subscription`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${H.access_token}`},body:JSON.stringify({subscription_type:G,status:Z?"active":"canceled",start_date:R,current_period_end:X||null})});if(!se.ok){const O=await se.json();throw new Error(O.error||"Failed to update subscription.")}alert("Subscription updated successfully!"),te(),W()}catch(H){console.error("Error updating subscription:",H instanceof Error?H.message:H),alert("Error updating subscription: "+(H instanceof Error?H.message:"Unknown error"))}};return u.jsxs("div",{style:{padding:"20px",maxWidth:"1200px",margin:"auto",fontFamily:"Arial, sans-serif"},children:[u.jsx("h1",{style:{textAlign:"center",marginBottom:"30px"},children:"Admin Dashboard"}),u.jsxs("div",{style:{marginBottom:"50px",border:"1px solid #ccc",padding:"20px",borderRadius:"8px"},children:[u.jsx("h2",{children:"Upload New Work (Chapter/Issue)"}),y&&u.jsx("p",{style:{color:"green",fontWeight:"bold"},children:y}),b&&u.jsx("p",{style:{color:"red",fontWeight:"bold"},children:b}),u.jsxs("form",{onSubmit:K,style:{display:"flex",flexDirection:"column",gap:"15px"},children:[u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"Title:"}),u.jsx("input",{type:"text",value:e,onChange:V=>t(V.target.value),required:!0,style:{width:"100%",padding:"8px",boxSizing:"border-box"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"Type:"}),u.jsxs("select",{value:r,onChange:V=>n(V.target.value),style:{width:"100%",padding:"8px",boxSizing:"border-box"},children:[u.jsx("option",{value:"chapter",children:"Chapter"}),u.jsx("option",{value:"issue",children:"Issue"}),u.jsx("option",{value:"book",children:"Book"}),u.jsx("option",{value:"volume",children:"Volume"}),u.jsx("option",{value:"saga",children:"Saga"}),u.jsx("option",{value:"arc",children:"Arc"})]})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"Description:"}),u.jsx("textarea",{value:s,onChange:V=>i(V.target.value),style:{width:"100%",padding:"8px",boxSizing:"border-box",minHeight:"80px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"Release Date:"}),u.jsx("input",{type:"date",value:o,onChange:V=>a(V.target.value),style:{width:"100%",padding:"8px",boxSizing:"border-box"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"Cover Image URL:"}),u.jsx("input",{type:"text",value:l,onChange:V=>c(V.target.value),placeholder:"e.g., https://example.com/cover.jpg",style:{width:"100%",padding:"8px",boxSizing:"border-box"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"EPUB File:"}),u.jsx("input",{type:"file",id:"epubFileInput",onChange:V=>f(V.target.files[0]),accept:".epub",style:{width:"100%",padding:"8px",boxSizing:"border-box"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"PDF File:"}),u.jsx("input",{type:"file",id:"pdfFileInput",onChange:V=>p(V.target.files[0]),accept:".pdf",style:{width:"100%",padding:"8px",boxSizing:"border-box"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"MOBI File:"}),u.jsx("input",{type:"file",id:"mobiFileInput",onChange:V=>m(V.target.files[0]),accept:".mobi",style:{width:"100%",padding:"8px",boxSizing:"border-box"}})]}),u.jsx("button",{type:"submit",disabled:E,style:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"5px",cursor:E?"not-allowed":"pointer",fontSize:"16px"},children:E?"Uploading...":"Upload Work"})]})]}),u.jsxs("div",{style:{border:"1px solid #ccc",padding:"20px",borderRadius:"8px"},children:[u.jsx("h2",{children:"User Management"}),C&&u.jsx("p",{children:"Loading users..."}),$&&u.jsx("p",{style:{color:"red"},children:$}),!C&&!$&&u.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"20px"},children:[u.jsx("thead",{children:u.jsxs("tr",{style:{backgroundColor:"#f2f2f2"},children:[u.jsx("th",{style:{border:"1px solid #ddd",padding:"8px",textAlign:"left"},children:"Email"}),u.jsx("th",{style:{border:"1px solid #ddd",padding:"8px",textAlign:"left"},children:"Display Name"}),u.jsx("th",{style:{border:"1px solid #ddd",padding:"8px",textAlign:"left"},children:"Role"}),u.jsx("th",{style:{border:"1px solid #ddd",padding:"8px",textAlign:"left"},children:"Subscription Status"}),u.jsx("th",{style:{border:"1px solid #ddd",padding:"8px",textAlign:"left"},children:"Actions"})]})}),u.jsx("tbody",{children:N.map(V=>{var H,se;return u.jsxs("tr",{children:[u.jsx("td",{style:{border:"1px solid #ddd",padding:"8px"},children:V.email}),u.jsx("td",{style:{border:"1px solid #ddd",padding:"8px"},children:((H=V.profile)==null?void 0:H.display_name)||"N/A"}),u.jsx("td",{style:{border:"1px solid #ddd",padding:"8px"},children:((se=V.profile)==null?void 0:se.role)||"user"}),u.jsx("td",{style:{border:"1px solid #ddd",padding:"8px"},children:V.subscriptions.length>0&&V.subscriptions.some(O=>O.status==="active"||O.status==="trialing")?"Active":"Inactive"}),u.jsxs("td",{style:{border:"1px solid #ddd",padding:"8px"},children:[u.jsx("button",{style:{marginRight:"5px",padding:"5px 10px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"},onClick:()=>ee(V),children:"Manage Subscription"}),u.jsx("button",{style:{padding:"5px 10px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"},children:"Manage Entitlements"})]})]},V.id)})})]})]}),L&&z&&u.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center"},children:u.jsxs("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"8px",width:"500px",color:"black"},children:[u.jsxs("h3",{style:{marginBottom:"15px"},children:["Manage Subscription for ",z.email]}),u.jsxs("form",{onSubmit:ue,style:{display:"flex",flexDirection:"column",gap:"10px"},children:[u.jsxs("div",{children:[u.jsx("label",{children:"Subscription Type:"}),u.jsx("input",{type:"text",value:G,onChange:V=>q(V.target.value),required:!0,style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{children:"Is Active:"}),u.jsx("input",{type:"checkbox",checked:Z,onChange:V=>ie(V.target.checked),style:{marginLeft:"10px"}})]}),u.jsxs("div",{children:[u.jsx("label",{children:"Start Date:"}),u.jsx("input",{type:"date",value:R,onChange:V=>B(V.target.value),required:!0,style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{children:"End Date:"}),u.jsx("input",{type:"date",value:X,onChange:V=>oe(V.target.value),style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px",marginTop:"20px"},children:[u.jsx("button",{type:"button",onClick:te,style:{padding:"8px 15px",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Cancel"}),u.jsx("button",{type:"submit",style:{padding:"8px 15px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Save"})]})]})]})})]})},rRe=()=>{var vi;const[e,t]=w.useState([]),[r,n]=w.useState(!0),[s,i]=w.useState(null),[o,a]=w.useState(!1),[l,c]=w.useState(!1),[d,f]=w.useState(!1),[h,p]=w.useState(!1),[g,m]=w.useState(null),[y,v]=w.useState(null),[b,x]=w.useState(null),[E,_]=w.useState(""),[N,k]=w.useState("active"),[C,T]=w.useState(""),[$,M]=w.useState(""),[L,D]=w.useState(""),[z,U]=w.useState(""),[G,q]=w.useState(!1),[Z,ie]=w.useState(!1),[R,B]=w.useState(""),[X,oe]=w.useState(""),[W,K]=w.useState(""),[ee,te]=w.useState(""),[ue,V]=w.useState("user"),[H,se]=w.useState(!1),[O,ye]=w.useState(""),[je,Be]=w.useState(""),[Ue,nt]=w.useState(""),[St,Ct]=w.useState(""),[I,Y]=w.useState(""),[J,ve]=w.useState("created_at"),[pe,me]=w.useState("desc"),[Se,Le]=w.useState(1),[He,Ut]=w.useState(10);function Tt(ae){return!ae.subscriptions||ae.subscriptions.length===0?"No Subscription":ae.subscriptions.some(re=>re.status==="active"||re.status==="trialing")?"Active":"Inactive"}function zr(ae){switch(ae){case"Active":return u.jsx(xa,{className:"w-4 h-4 text-green-500"});case"Inactive":return u.jsx(zS,{className:"w-4 h-4 text-red-500"});default:return u.jsx(Ni,{className:"w-4 h-4 text-gray-400"})}}function yi(ae){switch(ae){case"admin":return"bg-purple-100 text-purple-800";case"user":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}}function ns(ae){if(!ae)return"—";const P=new Date(ae);return Number.isNaN(P.getTime())?"—":P.toLocaleString()}const[ss,In]=w.useState(!1),Gr=w.useCallback(async()=>{n(!0),i(null);try{const{data:{session:ae}}=await he.auth.getSession();if(!ae){i("User not authenticated."),n(!1);return}const P=await fetch("/api/admin/users",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${ae.access_token}`}});if(!P.ok){const ge=await P.json();throw new Error(ge.error||"Failed to fetch users.")}const re=await P.json();t(re),re.length>0&&(re[0].role==="admin"||re[0].role==="super_admin")?In(!0):In(!1)}catch(ae){console.error("Error fetching users or checking admin status:",ae),i((ae instanceof Error?ae.message:String(ae))||"An unexpected error occurred.")}finally{n(!1)}},[]);w.useEffect(()=>{Gr()},[Gr]);const un=w.useMemo(()=>{const ae=e.filter(P=>{var Me;const re=P.email.toLowerCase().includes(Ue.toLowerCase())||(((Me=P.profile)==null?void 0:Me.display_name)||"").toLowerCase().includes(Ue.toLowerCase()),ge=!St||P.role===St,Te=Tt(P);return re&&ge&&(!I||Te===I)});return ae.sort((P,re)=>{var Ye,Me;let ge=P[J],Te=re[J];return J==="display_name"&&(ge=((Ye=P.profile)==null?void 0:Ye.display_name)||"",Te=((Me=re.profile)==null?void 0:Me.display_name)||""),(J==="created_at"||J==="last_sign_in")&&(ge=new Date(ge),Te=new Date(Te)),ge<Te?pe==="asc"?-1:1:ge>Te?pe==="asc"?1:-1:0}),ae},[e,Ue,St,I,J,pe]),Pr=w.useMemo(()=>{const ae=(Se-1)*He;return un.slice(ae,ae+He)},[un,Se,He]),yr=Math.ceil(un.length/He)||1,dn=()=>{K(""),te(""),V("user"),ye(""),Be(""),f(!0)},Mn=()=>{f(!1)},Ln=ae=>{var re;m(ae);const P=(re=ae.subscriptions)==null?void 0:re.find(ge=>ge.is_active);P?(_(P.plan_id||""),k(P.status),T(P.current_period_start?new Date(P.current_period_start).toISOString().split("T")[0]:""),M(P.current_period_end?new Date(P.current_period_end).toISOString().split("T")[0]:"")):(_(""),k("active"),T(new Date().toISOString().split("T")[0]),M("")),D(""),U(""),a(!0)},is=()=>{a(!1),m(null),q(!1)},Rs=ae=>{v(ae),B(""),oe(""),c(!0)},os=()=>{c(!1),v(null),ie(!1)},Qi=ae=>{x(ae),p(!0)},as=()=>{p(!1),x(null)},Fn=async ae=>{ae.preventDefault(),se(!0),ye(""),Be("");try{if(!W||!/\S+@\S+\.\S+/.test(W))throw new Error("Please enter a valid email address.");if(e.some(Te=>Te.email.toLowerCase()===W.toLowerCase()))throw new Error("A user with this email already exists in the list.");const P={action:"addProfile",data:{username:ee||W.split("@")[0],email:W,role:ue}},re=await fetch("/functions/v1/manage-user-subscriptions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${(await he.auth.getSession()).data.session.access_token}`},body:JSON.stringify(P)}),ge=await re.json();if(!re.ok)throw new Error(ge.error||"Failed to add user profile via Edge Function");ye("User profile added successfully! Full user creation (auth.users) might require backend."),Gr(),setTimeout(()=>{Mn()},600)}catch(P){console.error("Error adding user:",P),Be((P instanceof Error?P.message:String(P))||"An unexpected error occurred while adding user.")}finally{se(!1)}},Jo=async ae=>{if(ae.preventDefault(),!!g){q(!0),D(""),U("");try{if(C&&$&&new Date(C)>=new Date($))throw new Error("End date must be after start date.");const P={action:"updateSubscription",userId:g.id,data:{plan_id:E,status:N,current_period_start:C?new Date(C).toISOString():null,current_period_end:$?new Date($).toISOString():null}},re=await fetch("/functions/v1/manage-user-subscriptions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${(await he.auth.getSession()).data.session.access_token}`},body:JSON.stringify(P)}),ge=await re.json();if(!re.ok)throw new Error(ge.error||"Failed to update subscription via Edge Function");D("Subscription updated successfully!"),Gr(),setTimeout(()=>{is()},600)}catch(P){console.error("Error managing subscription:",P),U((P instanceof Error?P.message:String(P))||"An unexpected error occurred while managing subscription.")}finally{q(!1)}}},Bn=async ae=>{if(ae.preventDefault(),!!y){ie(!0),B(""),oe("");try{const P=new FormData(ae.target),re=P.get("displayName"),ge=P.get("role"),Te={action:"changeRole",targetUserId:y.id,newRole:ge,data:{display_name:re}},Ye=await fetch("/functions/v1/manage-user-subscriptions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${(await he.auth.getSession()).data.session.access_token}`},body:JSON.stringify(Te)}),Me=await Ye.json();if(!Ye.ok)throw new Error(Me.error||"Failed to update user details via Edge Function");B("User details updated successfully!"),Gr(),setTimeout(()=>{os()},600)}catch(P){console.error("Error updating user details:",P),oe((P instanceof Error?P.message:String(P))||"An unexpected error occurred while updating user details.")}finally{ie(!1)}}},Qo=async()=>{if(b)try{const ae={action:"deleteUser",targetUserId:b.id},P=await fetch("/functions/v1/manage-user-subscriptions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${(await he.auth.getSession()).data.session.access_token}`},body:JSON.stringify(ae)}),re=await P.json();if(!P.ok)throw new Error(re.error||"Failed to delete user via Edge Function");t(ge=>ge.filter(Te=>Te.id!==b.id)),as(),Pr.length===1&&Se>1&&Le(Se-1),alert(`User ${b.email} deleted successfully.`)}catch(ae){console.error("Error deleting user:",ae),alert(`Failed to delete user: ${ae instanceof Error?ae.message:String(ae)}`)}},$s=ae=>{J===ae?me(pe==="asc"?"desc":"asc"):(ve(ae),me("asc")),Le(1)},eo=ae=>{ae<1||ae>yr||Le(ae)},ea=ae=>{Ut(ae),Le(1)};return r?u.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),u.jsx("span",{className:"text-gray-600",children:"Loading users and plans..."})]})}):s?u.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:u.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 max-w-md",children:[u.jsxs("div",{className:"flex items-center space-x-2 text-red-600 mb-2",children:[u.jsx(Ni,{className:"w-5 h-5"}),u.jsx("span",{className:"font-semibold",children:"Error"})]}),u.jsx("p",{className:"text-red-700",children:s}),u.jsx("button",{onClick:Gr,className:"mt-4 px-4 py-2 bg-red-600 text-white text-sm rounded-lg hover:bg-red-700 transition-colors",children:"Try Again"})]})}):u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"User Management"}),u.jsx("p",{className:"text-gray-600",children:"Manage users, subscriptions, and account details"})]}),u.jsx("div",{className:"mt-4 sm:mt-0",children:u.jsxs("button",{onClick:dn,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[u.jsx(lG,{className:"w-4 h-4 mr-2"}),"Add User"]})})]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[u.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(gu,{className:"w-8 h-8 text-blue-500"}),u.jsxs("div",{className:"ml-3",children:[u.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Users"}),u.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]})]})}),u.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(xa,{className:"w-8 h-8 text-green-500"}),u.jsxs("div",{className:"ml-3",children:[u.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Active Subscriptions"}),u.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(ae=>Tt(ae)==="Active").length})]})]})}),u.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(eh,{className:"w-8 h-8 text-purple-500"}),u.jsxs("div",{className:"ml-3",children:[u.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Admin Users"}),u.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(ae=>ae.role==="admin").length})]})]})}),u.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(Ni,{className:"w-8 h-8 text-gray-400"}),u.jsxs("div",{className:"ml-3",children:[u.jsx("p",{className:"text-sm font-medium text-gray-500",children:"No Subscription"}),u.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(ae=>Tt(ae)==="No Subscription").length})]})]})})]}),u.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx(cc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),u.jsx("input",{type:"text",placeholder:"Search users...",value:Ue,onChange:ae=>{nt(ae.target.value),Le(1)},className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),u.jsxs("select",{value:St,onChange:ae=>{Ct(ae.target.value),Le(1)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[u.jsx("option",{value:"",children:"All Roles"}),u.jsx("option",{value:"admin",children:"Admin"}),u.jsx("option",{value:"user",children:"User"})]}),u.jsxs("select",{value:I,onChange:ae=>{Y(ae.target.value),Le(1)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[u.jsx("option",{value:"",children:"All Statuses"}),u.jsx("option",{value:"Active",children:"Active"}),u.jsx("option",{value:"Inactive",children:"Inactive"}),u.jsx("option",{value:"No Subscription",children:"No Subscription"})]}),u.jsxs("select",{value:He,onChange:ae=>ea(Number(ae.target.value)),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[u.jsx("option",{value:5,children:"5 per page"}),u.jsx("option",{value:10,children:"10 per page"}),u.jsx("option",{value:25,children:"25 per page"}),u.jsx("option",{value:50,children:"50 per page"})]}),u.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[u.jsx(KY,{className:"w-4 h-4 mr-2"}),un.length," of ",e.length," users"]})]})}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>$s("email"),children:u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx(ZM,{className:"w-4 h-4"}),u.jsx("span",{children:"Email"}),J==="email"&&u.jsx("span",{className:"text-blue-500",children:pe==="asc"?"↑":"↓"})]})}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>$s("display_name"),children:u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx(gu,{className:"w-4 h-4"}),u.jsx("span",{children:"Display Name"}),J==="display_name"&&u.jsx("span",{className:"text-blue-500",children:pe==="asc"?"↑":"↓"})]})}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx(eh,{className:"w-4 h-4"}),u.jsx("span",{children:"Role"})]})}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subscription Status"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>$s("created_at"),children:u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx(WM,{className:"w-4 h-4"}),u.jsx("span",{children:"Created At"}),J==="created_at"&&u.jsx("span",{className:"text-blue-500",children:pe==="asc"?"↑":"↓"})]})}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>$s("last_sign_in"),children:u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx(US,{className:"w-4 h-4"}),u.jsx("span",{children:"Last Sign In"}),J==="last_sign_in"&&u.jsx("span",{className:"text-blue-500",children:pe==="asc"?"↑":"↓"})]})}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),u.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[Pr.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-sm text-gray-500",children:"No users found."})}),Pr.map(ae=>{var re;const P=Tt(ae);return u.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"flex-shrink-0 h-8 w-8",children:u.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center",children:u.jsx(gu,{className:"w-4 h-4 text-gray-500"})})}),u.jsx("div",{className:"ml-3",children:u.jsx("div",{className:"text-sm font-medium text-gray-900",children:ae.email})})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:((re=ae.profile)==null?void 0:re.display_name)||"—"}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${yi(ae.role)}`,children:ae.role})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[zr(P),u.jsx("span",{className:"text-gray-900",children:P})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:ns(ae.created_at)}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:ae.last_sign_in?ns(ae.last_sign_in):"Never"}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{onClick:()=>Rs(ae),className:"inline-flex items-center px-2.5 py-1.5 border border-gray-300 rounded-md hover:bg-gray-50",title:"Edit Details",children:[u.jsx(QY,{className:"w-4 h-4 mr-1"}),"Edit"]}),u.jsxs("button",{onClick:()=>Ln(ae),className:"inline-flex items-center px-2.5 py-1.5 border border-gray-300 rounded-md hover:bg-gray-50",title:"Manage Subscription",children:[u.jsx(Hh,{className:"w-4 h-4 mr-1"}),"Subscription"]}),u.jsxs("button",{onClick:()=>Qi(ae),className:"inline-flex items-center px-2.5 py-1.5 border border-red-300 text-red-700 rounded-md hover:bg-red-50",title:"Delete User",children:[u.jsx(uc,{className:"w-4 h-4 mr-1"}),"Delete"]})]})})]},ae.id)})]})]})}),u.jsxs("div",{className:"px-6 py-4 flex items-center justify-between",children:[u.jsxs("div",{className:"text-sm text-gray-600",children:["Page ",Se," of ",yr]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>eo(Se-1),disabled:Se===1,className:"px-3 py-1.5 text-sm border rounded-md disabled:opacity-50",children:"Previous"}),Array.from({length:yr}).map((ae,P)=>u.jsx("button",{onClick:()=>eo(P+1),className:`px-3 py-1.5 text-sm border rounded-md ${Se===P+1?"bg-blue-600 text-white border-blue-600":"hover:bg-gray-50"}`,children:P+1},P)),u.jsx("button",{onClick:()=>eo(Se+1),disabled:Se===yr,className:"px-3 py-1.5 text-sm border rounded-md disabled:opacity-50",children:"Next"})]})]})]})]}),d&&u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[u.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:Mn}),u.jsxs("div",{className:"relative bg-white w-full max-w-lg rounded-lg shadow-lg p-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add New User"}),u.jsxs("form",{onSubmit:Fn,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),u.jsx("input",{type:"email",value:W,onChange:ae=>K(ae.target.value),className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"user@example.com",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Name (optional)"}),u.jsx("input",{type:"text",value:ee,onChange:ae=>te(ae.target.value),className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Jane Doe"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),u.jsxs("select",{value:ue,onChange:ae=>V(ae.target.value),className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[u.jsx("option",{value:"user",children:"User"}),u.jsx("option",{value:"admin",children:"Admin"}),u.jsx("option",{value:"super_admin",children:"Super Admin"})]})]}),je&&u.jsxs("div",{className:"text-sm text-red-600 flex items-center gap-2",children:[u.jsx(Ni,{className:"w-4 h-4"}),je]}),O&&u.jsxs("div",{className:"text-sm text-green-600 flex items-center gap-2",children:[u.jsx(xa,{className:"w-4 h-4"}),O]}),u.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2",children:[u.jsx("button",{type:"button",onClick:Mn,className:"px-4 py-2 rounded-md border",children:"Cancel"}),u.jsx("button",{type:"submit",disabled:H,className:"px-4 py-2 rounded-md bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50",children:H?"Adding…":"Add User"})]})]})]})]}),o&&g&&u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[u.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:is}),u.jsxs("div",{className:"relative bg-white w-full max-w-xl rounded-lg shadow-lg p-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Manage Subscription"}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:g.email}),u.jsxs("form",{onSubmit:Jo,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Plan"}),u.jsxs("select",{value:E,onChange:ae=>_(ae.target.value),className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[u.jsx("option",{value:"",children:"— Select a plan —"}),u.jsx("option",{value:"Monthly",children:"Monthly"}),u.jsx("option",{value:"Yearly",children:"Yearly"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),u.jsxs("select",{value:N,onChange:ae=>k(ae.target.value),className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[u.jsx("option",{value:"active",children:"active"}),u.jsx("option",{value:"trialing",children:"trialing"}),u.jsx("option",{value:"canceled",children:"canceled"}),u.jsx("option",{value:"paused",children:"paused"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),u.jsx("input",{type:"date",value:C,onChange:ae=>T(ae.target.value),className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),u.jsx("input",{type:"date",value:$,onChange:ae=>M(ae.target.value),className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),z&&u.jsxs("div",{className:"text-sm text-red-600 flex items-center gap-2",children:[u.jsx(Ni,{className:"w-4 h-4"}),z]}),L&&u.jsxs("div",{className:"text-sm text-green-600 flex items-center gap-2",children:[u.jsx(xa,{className:"w-4 h-4"}),L]}),u.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2",children:[u.jsx("button",{type:"button",onClick:is,className:"px-4 py-2 rounded-md border",children:"Cancel"}),u.jsx("button",{type:"submit",disabled:G,className:"px-4 py-2 rounded-md bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50",children:G?"Saving…":"Save Changes"})]})]})]})]}),l&&y&&u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[u.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:os}),u.jsxs("div",{className:"relative bg-white w-full max-w-lg rounded-lg shadow-lg p-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Edit User Details"}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:y.email}),u.jsxs("form",{onSubmit:Bn,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Name"}),u.jsx("input",{name:"displayName",type:"text",defaultValue:((vi=y.profile)==null?void 0:vi.display_name)||"",className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Jane Doe"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),u.jsxs("select",{name:"role",defaultValue:y.role,className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[u.jsx("option",{value:"user",children:"User"}),u.jsx("option",{value:"admin",children:"Admin"}),u.jsx("option",{value:"super_admin",children:"Super Admin"})]})]}),X&&u.jsxs("div",{className:"text-sm text-red-600 flex items-center gap-2",children:[u.jsx(Ni,{className:"w-4 h-4"}),X]}),R&&u.jsxs("div",{className:"text-sm text-green-600 flex items-center gap-2",children:[u.jsx(xa,{className:"w-4 h-4"}),R]}),u.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2",children:[u.jsx("button",{type:"button",onClick:os,className:"px-4 py-2 rounded-md border",children:"Cancel"}),u.jsx("button",{type:"submit",disabled:Z,className:"px-4 py-2 rounded-md bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50",children:Z?"Saving…":"Save Changes"})]})]})]})]}),h&&b&&u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[u.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:as}),u.jsxs("div",{className:"relative bg-white w-full max-w-md rounded-lg shadow-lg p-6",children:[u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"shrink-0 mt-1",children:u.jsx(Ni,{className:"w-6 h-6 text-red-600"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Delete user?"}),u.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["This will permanently remove ",u.jsx("span",{className:"font-mono",children:b.email})," and their subscriptions from the local list."]})]})]}),u.jsxs("div",{className:"flex items-center justify-end gap-2 mt-6",children:[u.jsx("button",{onClick:as,className:"px-4 py-2 rounded-md border",children:"Cancel"}),u.jsx("button",{onClick:Qo,className:"px-4 py-2 rounded-md bg-red-600 text-white hover:bg-red-700",children:"Delete"})]})]})]})]})},nRe=()=>{const e=w.useRef(null);return w.useEffect(()=>{const t=e.current;if(!t)return;const r=50,n=()=>{const i=document.createElement("div");i.className="star absolute bg-ink rounded-full",i.style.left=Math.random()*100+"%",i.style.top=Math.random()*100+"%";const o=Math.random()*3+1;i.style.width=i.style.height=o+"px",i.style.animationDelay=Math.random()*3+"s",i.style.animationDuration=Math.random()*2+2+"s",t.appendChild(i)};t.innerHTML="";for(let i=0;i<r;i++)n();const s=()=>{const o=window.pageYOffset*-.1;t&&(t.style.transform=`translateY(${o}px)`)};return window.addEventListener("scroll",s),()=>{window.removeEventListener("scroll",s)}},[]),u.jsx("div",{ref:e,className:"stars fixed top-0 left-0 w-full h-full pointer-events-none -z-10",children:" "})},sRe=async()=>{const{data:e,error:t}=await he.from("works").select("id, title");if(t)throw new Error(t.message);return e},iRe=async e=>{const{data:t,error:r}=await he.from("works").insert({title:e,type:"book"}).select();if(r)throw new Error(r.message);return t[0]},oRe=()=>{const e=qo(),[t,r]=w.useState(null),[n,s]=w.useState(""),[i,o]=w.useState(1),[a,l]=w.useState(""),[c,d]=w.useState(""),[f,h]=w.useState(!1),[p,g]=w.useState(!1),{data:m,isLoading:y,isError:v,error:b}=dr({queryKey:["books"],queryFn:sRe}),x=Xt({mutationFn:iRe,onSuccess:N=>{e.invalidateQueries({queryKey:["books"]}),l(N.id),d(""),Ei.success(`Book "${N.title}" created successfully!`)},onError:N=>{Ei.error(`Error creating book: ${N.message}`)}}),E=N=>{N.target.files&&N.target.files[0]&&r(N.target.files[0])},_=async N=>{if(N.preventDefault(),!t||!n||!i){Ei.error("Please fill in all required chapter fields and select a file.");return}let k=a;if(c){if(x.isPending){Ei.error("Book creation is already in progress. Please wait.");return}try{k=(await x.mutateAsync(c)).id}catch{return}}if(!k){Ei.error("Please select an existing book or create a new one.");return}g(!0);const C=new FormData;C.append("file",t),C.append("title",n),C.append("chapter_number",i.toString()),C.append("book_id",k),C.append("is_published",f.toString());try{const{data:{session:T},error:$}=await he.auth.getSession();if($||!T){Ei.error("User session not found. Please log in."),g(!1);return}const M=await fetch("/api/chapters/upload",{method:"POST",body:C,headers:{Authorization:`Bearer ${T.access_token}`}});if(!M.ok){const L=await M.json();throw new Error(L.message||L.error||"Failed to upload chapter.")}await M.json(),Ei.success("Chapter uploaded successfully!"),r(null),s(""),o(1),l(""),d(""),h(!1),N.target instanceof HTMLFormElement&&N.target.reset()}catch(T){console.error("Upload error:",T),Ei.error(T.message||"An error occurred during upload.")}finally{g(!1)}};return y?u.jsx("div",{className:"text-center py-8",children:"Loading books..."}):v?u.jsxs("div",{className:"text-center py-8 text-red-500",children:["Error loading books: ",b==null?void 0:b.message]}):u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsx(aje,{}),u.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Upload New Chapter"}),u.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:u.jsxs("form",{onSubmit:_,children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"file",className:"block text-sm font-medium text-gray-700 mb-2",children:"Chapter File (PDF, DOCX, TXT, HTML)"}),u.jsx("input",{type:"file",id:"file",onChange:E,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",accept:".pdf,.docx,.txt,.html",required:!0}),t&&u.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Selected file: ",t.name]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"chapterTitle",className:"block text-sm font-medium text-gray-700 mb-2",children:"Chapter Title"}),u.jsx("input",{type:"text",id:"chapterTitle",value:n,onChange:N=>s(N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"chapterNumber",className:"block text-sm font-medium text-gray-700 mb-2",children:"Chapter Number"}),u.jsx("input",{type:"number",id:"chapterNumber",value:i,onChange:N=>o(parseInt(N.target.value)||""),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,min:"1"})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"bookId",className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Existing Book"}),u.jsxs("select",{id:"bookId",value:a,onChange:N=>l(N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"",children:"-- Select a Book --"}),m==null?void 0:m.map(N=>u.jsx("option",{value:N.id,children:N.title},N.id))]})]}),u.jsxs("div",{className:"mb-4 flex items-center",children:[u.jsx("span",{className:"text-gray-500 mr-2",children:"OR"}),u.jsx("div",{className:"flex-grow border-t border-gray-300"})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"newBookTitle",className:"block text-sm font-medium text-gray-700 mb-2",children:"Create New Book"}),u.jsx("input",{type:"text",id:"newBookTitle",value:c,onChange:N=>d(N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter new book title"})]}),u.jsxs("div",{className:"mb-4 flex items-center",children:[u.jsx("input",{type:"checkbox",id:"isPublished",checked:f,onChange:N=>h(N.target.checked),className:"mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),u.jsx("label",{htmlFor:"isPublished",className:"text-sm font-medium text-gray-700",children:"Publish Immediately"})]}),u.jsx("button",{type:"submit",className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:p||x.isPending,children:p?u.jsxs(u.Fragment,{children:[u.jsx(UY,{className:"w-4 h-4 animate-pulse"}),"Uploading Chapter..."]}):x.isPending?u.jsxs(u.Fragment,{children:[u.jsx(LY,{className:"w-4 h-4 animate-pulse"}),"Creating Book..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Fi,{className:"w-4 h-4"}),"Upload Chapter"]})})]})})]})},ag=S.forwardRef(({className:e,...t},r)=>u.jsx("div",{ref:r,className:nr("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ag.displayName="Card";const lg=S.forwardRef(({className:e,...t},r)=>u.jsx("div",{ref:r,className:nr("flex flex-col space-y-1.5 p-6",e),...t}));lg.displayName="CardHeader";const oS=S.forwardRef(({className:e,...t},r)=>u.jsx("h3",{ref:r,className:nr("text-2xl font-semibold leading-none tracking-tight",e),...t}));oS.displayName="CardTitle";const aRe=S.forwardRef(({className:e,...t},r)=>u.jsx("p",{ref:r,className:nr("text-sm text-muted-foreground",e),...t}));aRe.displayName="CardDescription";const cg=S.forwardRef(({className:e,...t},r)=>u.jsx("div",{ref:r,className:nr("p-6 pt-0",e),...t}));cg.displayName="CardContent";const lRe=S.forwardRef(({className:e,...t},r)=>u.jsx("div",{ref:r,className:nr("flex items-center p-6 pt-0",e),...t}));lRe.displayName="CardFooter";const cRe=zy("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary/10 text-primary hover:bg-primary/20",secondary:"border-transparent bg-secondary/10 text-secondary-foreground hover:bg-secondary/20",destructive:"border-transparent bg-destructive/10 text-destructive hover:bg-destructive/20",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function D$({className:e,variant:t,...r}){return u.jsx("div",{className:nr(cRe({variant:t}),e),...r})}const aS=w.forwardRef(({value:e,onChange:t,theme:r="snow",modules:n={toolbar:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],["link","image"],["clean"]]},formats:s=["header","bold","italic","underline","strike","list","bullet","link","image"],...i},o)=>{const a=l=>{try{t&&t(l)}catch(c){console.error("Error in handleChange:",c)}};return u.jsx("div",{className:"mt-4",children:u.jsx(Sp,{ref:o,theme:r,value:e,onChange:a,modules:{toolbar:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],["link","image"],["clean"]]},formats:["header","bold","italic","underline","strike","list","bullet","link","image"],...i})})});aS.displayName="QuillEditor";function N9({id:e,onUpdatePage:t,initialData:r}){const{id:n}=Jy(),s=Gi(),[i,o]=w.useState(!!e),[a,l]=w.useState(!1),[c,d]=w.useState([]),[f,h]=w.useState(""),[p,g]=w.useState(!1),[m,y]=w.useState(null),[v,b]=w.useState(""),[x,E]=w.useState(!1),[_,N]=w.useState(()=>r?{...r,category:r.category||null,user:r.user||null}:{id:"",title:"",slug:"",excerpt:null,content:"",seo_title:null,seo_description:null,seo_keywords:[],sections:[],category_id:null,is_published:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),created_by:null,folder_id:null,view_count:null,category:null,user:null}),[k,C]=w.useState("");w.useEffect(()=>{const W=e||n;T(),W?$(W):o(!1)},[e,n]);const T=async()=>{try{console.log("Fetching categories...");const W=await eW();d(W||[]),(!W||W.length===0)&&(console.warn("No categories found in the database"),qe.warning("No categories found. Please create categories first."))}catch(W){console.error("Error in fetchCategories:",W),qe.error("Failed to load categories. Check console for details.")}},$=async W=>{try{const K=await QV(W);if(K){const ee={...K,sections:K.sections||[]};N(ee),K.category&&y(K.category)}else throw new Error("Wiki page not found.")}catch(K){console.error("Error fetching wiki page:",K),qe.error("Failed to load wiki page")}finally{o(!1)}},M=W=>{const{name:K,value:ee}=W.target;N(te=>({...te,[K]:ee}))},L=W=>{const K={id:`section-${Date.now()}`,title:"New Section",content:"",type:W||"paragraph"};N(ee=>({...ee,sections:[...ee.sections,K]}))},D=(W,K)=>{N(ee=>({...ee,sections:ee.sections.map(te=>te.id===W?{...te,...K}:te)}))},z=W=>{if(_.sections.length<=1){qe.error("You must have at least one section");return}N(K=>({...K,sections:K.sections.filter(ee=>ee.id!==W)}))},U=W=>{y(W),N(K=>({...K,category_id:W.id})),g(!1)},G=()=>{y(null),N(W=>({...W,category_id:null}))},q=W=>W.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/--+/g,"-").trim(),Z=W=>{const K=W.target.value;N(ee=>({...ee,title:K,slug:q(K),seo_title:ee.seo_title||K}))},ie=async()=>{var W,K;l(!0);try{if(!((W=_==null?void 0:_.title)!=null&&W.trim())){qe.error("Title is required"),l(!1);return}if(!((K=_.slug)!=null&&K.trim())){qe.error("Slug is required"),l(!1);return}const{data:{user:ee},error:te}=await he.auth.getUser();if(te||!ee){qe.error("You must be signed in to save changes."),l(!1);return}const ue={title:_.title.trim(),slug:_.slug.trim(),category_id:_.category_id||null,is_published:_.is_published,updated_at:new Date().toISOString()};let V=null;if(e){const{data:H,error:se}=await he.from("wiki_pages").update(ue).eq("id",e).select().single();if(se)throw se;if(H)V=H;else throw new Error("Page data not found after update.");qe.success("Wiki page updated successfully");const{error:O}=await he.from("wiki_content_blocks").delete().eq("page_id",V.id);if(O)throw console.error("Error deleting old content blocks:",O),new Error("Failed to update content blocks")}else{const{data:H,error:se}=await he.from("wiki_pages").insert([{...ue,created_by:ee.id,created_at:new Date().toISOString(),view_count:0}]).select("*, user:profiles(*), category:wiki_categories(*)").single();if(se)throw se;if(H)V=H;else throw new Error("Page data not found after creation.");qe.success("Wiki page created successfully")}if(V&&_.sections&&_.sections.length>0){const H=_.sections.map((O,ye)=>({page_id:V.id,type:O.type,content:O.content,position:ye,created_by:ee.id})),{error:se}=await he.from("wiki_content_blocks").insert(H);if(se)throw console.error("Error saving content blocks:",se),new Error("Failed to save content blocks")}if(V){let H=null;V.user&&typeof V.user=="object"&&!("error"in V.user)&&(H=V.user);const se={...V,title:_.title,slug:_.slug,excerpt:_.excerpt||null,is_published:_.is_published,category_id:_.category_id||null,category:m||null,sections:_.sections||[],created_at:V.created_at||new Date().toISOString(),updated_at:new Date().toISOString(),user:H};t&&t(se),e||s(`/account/admin/wiki/page/${V.id}`)}}catch(ee){throw console.error("Error saving wiki page:",ee),ee.code==="23505"?qe.error("A page with this slug already exists"):ee.code==="42501"?qe.error("You do not have permission to perform this action"):qe.error(`Failed to save wiki page: ${(ee instanceof Error?ee.message:String(ee))||"Unknown error"}`),ee}finally{l(!1)}},R=async()=>{const W=!_.is_published;if(N(K=>({...K,is_published:W})),e)try{const{error:K}=await he.from("wiki_pages").update({is_published:W,published_at:W?new Date().toISOString():null}).eq("id",e);if(K)throw K;qe.success(`Page ${W?"published":"unpublished"} successfully`)}catch(K){console.error("Error updating publish status:",K),qe.error(`Failed to update page status: ${K instanceof Error?K.message:String(K)}`),N(ee=>({...ee,is_published:!W}))}},B=async()=>{if(!v.trim()){qe.error("Category name cannot be empty");return}try{const{data:{user:W}}=await he.auth.getUser();if(!W){qe.error("You must be logged in to create categories");return}const{data:K,error:ee}=await he.from("wiki_categories").insert([{name:v.trim(),slug:v.trim().toLowerCase().replace(/\s+/g,"-"),created_by:W.id,is_active:!0}]).select().single();if(ee)throw console.error("Error creating category:",ee),new Error("Failed to create category");if(K===null){console.error("No data returned after creating category, but no error was thrown."),qe.error("Failed to create category: No data received.");return}const te=K;d(ue=>[...ue,te]),U(te),b(""),E(!1),qe.success("Category created successfully")}catch(W){console.error("Error creating category:",W),qe.error("Failed to create category")}},X=()=>u.jsxs("div",{className:"space-y-2",children:[u.jsx(Kn,{children:"Category"}),m?u.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-md",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(D$,{className:"h-4 w-4 mr-2 text-muted-foreground"}),u.jsx("span",{children:m.name})]}),u.jsx(tt,{type:"button",variant:"ghost",size:"sm",onClick:G,children:u.jsx(La,{className:"h-4 w-4"})})]}):x?u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex space-x-2",children:[u.jsx(bs,{placeholder:"Enter category name",value:v,onChange:W=>b(W.target.value),autoFocus:!0}),u.jsx(tt,{type:"button",onClick:B,disabled:!v.trim(),children:"Add"})]}),u.jsx(tt,{type:"button",variant:"ghost",size:"sm",onClick:()=>E(!1),children:"Cancel"})]}):u.jsxs("div",{className:"space-y-2",children:[u.jsxs(tt,{type:"button",variant:"outline",className:"w-full justify-start",onClick:()=>g(!0),children:[u.jsx(D$,{className:"h-4 w-4 mr-2"}),"Select a category"]}),u.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:["or"," ",u.jsx("button",{type:"button",className:"text-primary hover:underline",onClick:()=>E(!0),children:"create a new category"})]})]})]}),oe=W=>{const K=ee=>{D(W.id,{content:ee})};switch(W.type){case"heading_1":case"heading_2":case"heading_3":case"paragraph":case"bullet_list":case"ordered_list":return u.jsx("div",{className:"mt-4",children:u.jsx(aS,{value:W.content||"",onChange:K,placeholder:"Start writing..."})});case"quote":return u.jsx("div",{className:"mt-4 border-l-4 border-gray-300 pl-4 italic",children:u.jsx(aS,{value:W.content||"",onChange:K,placeholder:"Start writing..."})});case"code":return u.jsx("div",{className:"mt-4 bg-gray-100 p-4 rounded-md font-mono text-sm",children:u.jsx(hv,{value:W.content||"",onChange:ee=>D(W.id,{content:ee.target.value}),placeholder:"Enter code...",rows:6,className:"font-mono"})});case"divider":return u.jsx("div",{className:"my-6 border-t border-gray-200"});case"image":return u.jsxs("div",{className:"mt-4",children:[u.jsx(bs,{type:"text",value:W.content||"",onChange:ee=>D(W.id,{content:ee.target.value}),placeholder:"Enter image URL..."}),W.content&&u.jsx("div",{className:"mt-2",children:u.jsx("img",{src:W.content,alt:"Section content",className:"max-w-full h-auto rounded-md"})})]});default:return u.jsxs("div",{className:"mt-4 text-gray-500 italic",children:["Unsupported section type: ",W.type]})}};return i?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx(Fu,{className:"h-8 w-8 animate-spin"})}):(f&&c.filter(W=>W.name.toLowerCase().includes(f.toLowerCase())),u.jsx("div",{className:"container mx-auto p-6",children:u.jsxs("form",{onSubmit:W=>W.preventDefault(),children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs(tt,{type:"button",variant:"outline",size:"sm",onClick:()=>s("/account/admin/wiki"),children:[u.jsx(VM,{className:"mr-2 h-4 w-4"})," Back to Wiki"]}),u.jsx("h1",{className:"text-2xl font-bold",children:e?"Edit Wiki Page":"Create New Wiki Page"})]}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Kn,{htmlFor:"is_published",children:"Publish"}),u.jsx(ah,{id:"is_published",checked:_.is_published,onCheckedChange:R})]}),u.jsx(tt,{type:"button",disabled:a,onClick:ie,children:a?u.jsxs(u.Fragment,{children:[u.jsx(Fu,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):u.jsxs(u.Fragment,{children:[u.jsx(qS,{className:"mr-2 h-4 w-4"}),"Save Changes"]})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsx("div",{className:"lg:col-span-2 space-y-6",children:u.jsxs(ag,{children:[u.jsx(lg,{children:u.jsx(oS,{children:"Page Content"})}),u.jsxs(cg,{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Kn,{htmlFor:"title",children:"Title *"}),u.jsx(bs,{id:"title",name:"title",value:_.title,onChange:Z,placeholder:"Enter page title",required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx(Kn,{htmlFor:"slug",children:"URL Slug *"}),u.jsx("span",{className:"text-sm text-muted-foreground",children:`${window.location.origin}/wiki/${_.slug||"your-page-slug"}`})]}),u.jsx(bs,{id:"slug",name:"slug",value:_.slug,onChange:M,placeholder:"page-slug",required:!0})]}),X(),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Kn,{children:"Sections"}),_.sections.map((W,K)=>u.jsxs(ag,{className:"mb-4",children:[u.jsx(lg,{children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx(bs,{value:W.title,onChange:ee=>D(W.id,{title:ee.target.value}),placeholder:"Section Title",className:"text-xl font-bold"}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsxs("select",{value:W.type,onChange:ee=>D(W.id,{type:ee.target.value}),className:"text-sm p-1 border rounded",children:[u.jsx("option",{value:"paragraph",children:"Paragraph"}),u.jsx("option",{value:"heading_1",children:"Heading 1"}),u.jsx("option",{value:"heading_2",children:"Heading 2"}),u.jsx("option",{value:"heading_3",children:"Heading 3"}),u.jsx("option",{value:"bullet_list",children:"Bullet List"}),u.jsx("option",{value:"ordered_list",children:"Ordered List"}),u.jsx("option",{value:"image",children:"Image"}),u.jsx("option",{value:"table",children:"Table"}),u.jsx("option",{value:"quote",children:"Quote"}),u.jsx("option",{value:"code",children:"Code"}),u.jsx("option",{value:"divider",children:"Divider"})]}),u.jsx(tt,{variant:"ghost",size:"icon",type:"button",onClick:()=>z(W.id),disabled:_.sections.length<=1,children:u.jsx(La,{className:"h-4 w-4"})})]})]})}),u.jsx(cg,{children:oe(W)})]},W.id))]}),u.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[u.jsx(tt,{type:"button",variant:"outline",onClick:()=>L("paragraph"),children:"Add Paragraph"}),u.jsx(tt,{type:"button",variant:"outline",onClick:()=>L("heading_1"),children:"Add Heading 1"}),u.jsx(tt,{type:"button",variant:"outline",onClick:()=>L("quote"),children:"Add Quote"})]})]})]})}),u.jsx("div",{className:"space-y-6",children:u.jsxs(ag,{children:[u.jsx(lg,{children:u.jsx(oS,{children:"Publishing"})}),u.jsxs(cg,{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium",children:"Status"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:_.is_published?"Published":"Draft"})]}),u.jsx(ah,{checked:_.is_published,onCheckedChange:R})]}),e&&u.jsxs("div",{className:"space-y-2",children:[u.jsx("h4",{className:"font-medium",children:"URL"}),u.jsx("div",{className:"flex items-center",children:u.jsxs("a",{href:`/wiki/${_.slug}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline flex items-center",children:["View page ",u.jsx(Hh,{className:"ml-1 h-3 w-3"})]})})]})]})]})})]})]})}))}function uRe({folders:e,pages:t,selectedFolder:r,selectedPage:n,onSelect:s,onPageSelect:i,onDeleteFolder:o,onEditFolder:a,onDeletePage:l,onEditPage:c}){const d=w.useMemo(()=>{const h=new Map,p=[];e.forEach(m=>{const y={...m,children:[],pages:[],type:"folder"};h.set(m.id,y)}),e.forEach(m=>{const y=h.get(m.id);if(y&&m.parent_id&&h.has(m.parent_id)){const v=h.get(m.parent_id);v&&v.children.push(y)}else y&&p.push(y)});const g=[];return t.forEach(m=>{const y={id:m.id,title:m.title,slug:m.slug,folder_id:m.folder_id,category_id:m.category_id,created_at:m.created_at,updated_at:m.updated_at,created_by:m.created_by,is_published:m.is_published||!1,excerpt:m.excerpt||null,view_count:m.view_count||0,type:"page",content:m.content};if(m.folder_id&&h.has(m.folder_id)){const v=h.get(m.folder_id);v&&v.pages.push(y)}else m.folder_id||g.push(y)}),[...p,...g]},[e,t]),f=(h,p=0)=>h?h.type==="page"?u.jsxs("div",{className:nr("flex items-center px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-800",n===h.id&&"bg-blue-50 dark:bg-blue-900/30"),onClick:()=>i(h.id),children:[u.jsx(mg,{className:"h-4 w-4 mr-2 text-gray-500"}),u.jsx("span",{className:"truncate",children:h.title})]},h.id):u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:nr("flex items-center justify-between p-2 rounded-md cursor-pointer",r===h.id?"bg-blue-50 dark:bg-blue-900/30":"hover:bg-gray-100 dark:hover:bg-gray-800"),onClick:()=>s(h.id),children:[u.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[u.jsx(gg,{className:"h-4 w-4 text-blue-500"}),u.jsx("span",{className:"truncate",children:h.name})]}),u.jsxs("div",{className:"flex space-x-1",children:[u.jsx(tt,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:g=>{g.stopPropagation(),a(h)},children:u.jsx(nG,{className:"h-3.5 w-3.5"})}),u.jsx(tt,{variant:"ghost",size:"icon",className:"h-6 w-6 text-red-500 hover:text-red-600",onClick:g=>{g.stopPropagation(),o(h.id)},children:u.jsx(uc,{className:"h-3.5 w-3.5"})})]})]}),h.children.length>0&&u.jsx("div",{className:"pl-4 border-l border-gray-200 dark:border-gray-700",children:h.children.map(g=>f(g,p+1))}),h.pages.length>0&&u.jsx("div",{className:"pl-4",children:h.pages.map(g=>f(g,p+1))})]},h.id):null;return u.jsx("div",{className:"space-y-1",children:d.map(h=>u.jsx("div",{children:f(h,0)},h.id))})}function dRe(){const{folderId:e}=Jy(),t=Gi(),[r,n]=w.useState([]),[s,i]=w.useState([]),[o,a]=w.useState(""),[l,c]=w.useState(""),[d,f]=w.useState(!1),[h,p]=w.useState(!1),[g,m]=w.useState(null),[y,v]=w.useState(null),[b,x]=w.useState(null),[E,_]=w.useState(""),[N,k]=w.useState(!0);w.useEffect(()=>{(async()=>{try{k(!0);const{data:B,error:X}=await he.from("wiki_folders").select("*").order("name");if(X)throw X;const{data:oe,error:W}=await he.from("wiki_pages").select(`
            *,
            sections:wiki_sections(*)
          `);if(W)throw W;const K=(oe||[]).map(ee=>({...ee,sections:(ee.sections||[]).map(te=>({...te,content:te.content||""}))}));n(B||[]),i(K)}catch(B){console.error("Error fetching wiki data:",B),qe.error("Failed to load wiki content")}finally{k(!1)}})()},[]);const C=async()=>{if(o.trim())try{const R=(await he.auth.getUser()).data.user;if(!R){qe.error("You must be logged in to create a folder");return}const{data:B,error:X}=await he.from("wiki_folders").insert([{name:o.trim(),slug:o.trim().toLowerCase().replace(/\s+/g,"-"),parent_id:e||null,created_by:R.id}]).select().single();if(X)throw X;n(oe=>[...oe,B]),a(""),f(!1),t(`/account/admin/wiki/folder/${B.id}`),qe.success("Folder created successfully")}catch(R){console.error("Error creating folder:",R),qe.error(R instanceof Error?R.message:"Failed to create folder")}},T=async R=>{try{const B=(await he.auth.getUser()).data.user;if(!B){qe.error("You must be logged in to create a page");return}const{data:X,error:oe}=await he.from("wiki_pages").insert([{title:"New Page",content:"",folder_id:R||null,is_published:!1,created_by:B.id,excerpt:"",slug:"new-page-"+Date.now(),seo_title:"New Page",seo_description:"",seo_keywords:[],view_count:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),category_id:null}]).select("*").single();if(oe)throw oe;i(W=>[...W,{...X,sections:[]}]),X&&(m(X.id),v(X.id)),c(""),p(!1),qe.success("Page created successfully")}catch(B){console.error("Error creating page:",B),qe.error(B instanceof Error?B.message:"Failed to create page")}},$=R=>{v(R.id),m(R.id)},M=async R=>{if(confirm("Are you sure you want to delete this page? This action cannot be undone."))try{k(!0);const{error:B}=await he.from("wiki_content_blocks").delete().eq("page_id",R);if(B)throw B;const{error:X}=await he.from("wiki_pages").delete().eq("id",R);if(X)throw X;i(oe=>oe.filter(W=>W.id!==R)),g===R&&(m(null),v(null)),qe.success("Page deleted successfully")}catch(B){console.error("Error deleting page:",B),qe.error("Failed to delete page")}finally{k(!1)}},L=async R=>{var B;try{const{data:X,error:oe}=await he.from("wiki_pages").upsert({...R,updated_at:new Date().toISOString(),updated_by:(B=(await he.auth.getUser()).data.user)==null?void 0:B.id}).select().single();if(oe)throw oe;return i(W=>W.map(K=>K.id===X.id?{...K,...X}:K)),qe.success("Page saved successfully"),X}catch(X){throw console.error("Error saving page:",X),qe.error("Failed to save page"),X}},D=R=>{x(R),_(R.name)},z=async()=>{if(!(!b||!E.trim()))try{const{data:R,error:B}=await he.from("wiki_folders").update({name:E.trim(),slug:E.trim().toLowerCase().replace(/\s+/g,"-")}).eq("id",b.id).select().single();if(B)throw B;n(X=>X.map(oe=>oe.id===R.id?R:oe)),x(null),_(""),qe.success("Folder updated successfully")}catch(R){console.error("Error updating folder:",R),qe.error("Failed to update folder")}},U=async R=>{var B;if(confirm("Are you sure you want to delete this folder and all its contents? This action cannot be undone."))try{k(!0);const{error:X}=await he.from("wiki_folders").delete().eq("id",R);if(X)throw X;const oe=(W,K)=>W.reduce((ee,te)=>te.id===K||te.parent_id===K?ee:[...ee,te],[]);if(n(W=>oe(W,R)),R===R||r.some(W=>W.parent_id===R&&W.id===R)){const W=(B=r.find(K=>K.id===R))==null?void 0:B.parent_id;t(W?`/account/admin/wiki/folder/${W}`:"/account/admin/wiki")}qe.success("Folder and its contents deleted successfully")}catch(X){console.error("Error deleting folder:",X),qe.error("Failed to delete folder. Please try again.")}finally{k(!1)}},G=async(R,B)=>{try{if(r.some(oe=>oe.id===R)){const{error:oe}=await he.from("wiki_folders").update({parent_id:B}).eq("id",R);if(oe)throw oe;n(W=>W.map(K=>K.id===R?{...K,parent_id:B}:K))}else{const{error:oe}=await he.from("wiki_pages").update({folder_id:B}).eq("id",R);if(oe)throw oe;i(W=>W.map(K=>K.id===R?{...K,folder_id:B}:K))}qe.success("Item moved successfully")}catch(X){console.error("Error moving item:",X),qe.error("Failed to move item")}},q=R=>{m(null),v(null),t(`/account/admin/wiki/folder/${R}`)};w.useMemo(()=>{const R=new Map,B=[];r.forEach(W=>{R.set(W.id,{...W,children:[]})}),r.forEach(W=>{const K=R.get(W.id);if(K)if(W.parent_id&&R.has(W.parent_id)){const ee=R.get(W.parent_id);ee&&ee.children.push(K)}else B.push(K)});const X=W=>[...W].sort((K,ee)=>{var te,ue;return(((te=K.data)==null?void 0:te.order_index)??0)-(((ue=ee.data)==null?void 0:ue.order_index)??0)}),oe=W=>X(W).map(ee=>({...ee,children:ee.children?oe(ee.children):[]}));return oe(B)},[r,e]);const Z=r.find(R=>R.id===e),ie=s.find(R=>R.id===g);return u.jsxs("div",{className:"flex h-screen bg-gray-100 dark:bg-gray-900",children:[u.jsxs("div",{className:"w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col",children:[u.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[u.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Wiki Manager"}),u.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400 mt-2 overflow-x-auto",children:[u.jsx("button",{onClick:()=>t("/account/admin/wiki"),className:"hover:text-blue-600 dark:hover:text-blue-400",children:"Home"}),Z&&u.jsxs(u.Fragment,{children:[u.jsx(Qf,{className:"h-4 w-4 mx-1"}),u.jsx("span",{className:"font-medium text-blue-600 dark:text-blue-400",children:Z.name})]})]})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-2",children:[u.jsxs("div",{className:"space-y-2 mb-4",children:[u.jsxs("div",{className:"flex space-x-2",children:[u.jsxs(tt,{variant:"outline",size:"sm",className:"flex-1 justify-center bg-white dark:bg-gray-700 text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>T(e),children:[u.jsx(Fi,{size:14,className:"mr-2"}),"New Page"]}),u.jsxs(tt,{variant:"outline",size:"sm",className:"flex-1 justify-center bg-white dark:bg-gray-700 text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>f(!d),children:[u.jsx(gg,{size:14,className:"mr-2"}),"New Folder"]})]}),d&&u.jsxs("div",{className:"flex space-x-2 bg-white dark:bg-gray-800 p-2 rounded border border-gray-200 dark:border-gray-700",children:[u.jsx(bs,{autoFocus:!0,value:o,onChange:R=>a(R.target.value),onKeyDown:R=>R.key==="Enter"&&C(),placeholder:"Folder name",className:"h-8 text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),u.jsx(tt,{size:"sm",onClick:C,disabled:!o.trim(),className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Add"})]}),h&&u.jsxs("div",{className:"flex space-x-2 bg-white dark:bg-gray-800 p-2 rounded border border-gray-200 dark:border-gray-700",children:[u.jsx(bs,{autoFocus:!0,value:l,onChange:R=>c(R.target.value),onKeyDown:R=>{R.key==="Enter"&&T(e)},placeholder:"Page title",className:"h-8 text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),u.jsx(tt,{size:"sm",onClick:()=>T(e),disabled:!l.trim(),className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Add"})]})]}),u.jsx("div",{className:"mt-2",children:N?u.jsx("div",{className:"flex justify-center py-4",children:u.jsx(Fu,{className:"h-4 w-4 animate-spin text-gray-700 dark:text-gray-300"})}):u.jsx("div",{className:"text-gray-700 dark:text-gray-300",children:u.jsx(uRe,{folders:r,pages:s,selectedFolder:e,selectedPage:g,onSelect:q,onPageSelect:R=>{m(R),v(R)},onDeleteFolder:U,onEditFolder:D,onDeletePage:M,onEditPage:$,onMoveItem:G})})})]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:ie?u.jsx(N9,{id:ie.id,onUpdatePage:L}):u.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-8",children:[u.jsx(mg,{className:"h-16 w-16 text-gray-400 mb-4"}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:Z?`No pages in ${Z.name}`:"No page selected"}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6",children:Z?"Create a new page in this folder using the sidebar.":"Select a page from the sidebar or create a new one."}),u.jsxs(tt,{onClick:()=>T(e),className:"bg-blue-600 hover:bg-blue-700 text-white",children:[u.jsx(Fi,{className:"h-4 w-4 mr-2"}),"New Page"]})]})}),b&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-xl w-96",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Edit Folder"}),u.jsx(bs,{autoFocus:!0,value:E,onChange:R=>_(R.target.value),onKeyDown:R=>R.key==="Enter"&&z(),placeholder:"Folder name",className:"mb-4"}),u.jsxs("div",{className:"flex justify-end space-x-2",children:[u.jsx(tt,{variant:"outline",onClick:()=>{x(null),_("")},children:"Cancel"}),u.jsx(tt,{onClick:z,disabled:!E.trim(),className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Save Changes"})]})]})})]})}const fRe=()=>u.jsx("div",{children:u.jsx("h1",{className:"text-3xl font-bold",children:"Timelines"})}),hRe={"Stage 1":{title:"Basic Information & Pre-Screening",description:"Initial qualification and basic details",auto_disqualify:!0,min_score_required:15,max_possible_score:30,questions:[{id:"reading_frequency",type:"multiple_choice",question:"How many books do you typically read per year?",options:[{text:"0-5 books",score:1},{text:"6-11 books",score:3},{text:"12-24 books",score:5},{text:"25-49 books",score:7},{text:"50+ books",score:10}],weight:.33,required:!0},{id:"genre_familiarity",type:"multiple_choice",question:"How familiar are you with [YOUR GENRE] fiction?",options:[{text:"Never read it",score:1},{text:"Read a few books",score:3},{text:"Read occasionally",score:5},{text:"Read regularly",score:7},{text:"Expert knowledge",score:10}],weight:.33,required:!0},{id:"time_commitment",type:"multiple_choice",question:"How many hours per week can you dedicate to beta reading?",options:[{text:"1-2 hours",score:2},{text:"3-5 hours",score:5},{text:"6-9 hours",score:7},{text:"10-14 hours",score:9},{text:"15+ hours",score:10}],weight:.34,required:!0}]},"Stage 2":{title:"Experience & Skills Assessment",description:"Detailed evaluation of reading and feedback experience",conditional_display:!0,min_score_required:25,max_possible_score:40,questions:[{id:"beta_experience",type:"multiple_choice",question:"How many beta reading projects have you completed?",options:[{text:"None",score:2},{text:"1 project",score:4},{text:"2-4 projects",score:6},{text:"5-9 projects",score:8},{text:"10+ projects",score:10}],weight:.25,required:!0},{id:"feedback_strengths",type:"checkbox_multiple",question:"What are your strongest areas for providing feedback? (Select all that apply)",options:[{text:"Plot structure and pacing",score:3},{text:"Character development",score:3},{text:"Dialogue authenticity",score:2},{text:"World-building consistency",score:2},{text:"Grammar and style",score:2},{text:"Emotional impact",score:2}],weight:.3,max_selections:4,required:!0},{id:"writing_background",type:"multiple_choice",question:"What best describes your writing/editing background?",options:[{text:"No writing experience",score:2},{text:"Casual writer",score:4},{text:"Serious writer (unpublished)",score:6},{text:"Published author",score:8},{text:"Professional editor/reviewer",score:10}],weight:.25,required:!0},{id:"reading_speed",type:"slider",question:"Approximately how many pages can you read per hour?",min:10,max:100,step:5,scoring_formula:"Math.min(10, Math.floor(value / 10))",weight:.2,required:!0}]},"Stage 3":{title:"Sample Feedback Analysis",description:"Evaluate analytical skills through sample text review",min_score_required:30,max_possible_score:50,questions:[{id:"excerpt_analysis",type:"textarea",question:"Read this excerpt and identify what works well (100-300 words):",sample_text:"The obsidian gates groaned, not with the weight of stone, but with the sorrow of ages. Kaelen watched from the shadows, his breath a ghost in the frigid air, as the sigil on the archway pulsed with a faint, sickly green light. It was a warning. It was an invitation.",scoring_criteria:[{aspect:"Identifies specific literary techniques",max_score:3},{aspect:"Provides concrete examples from text",max_score:3},{aspect:"Shows genre awareness",max_score:2},{aspect:"Demonstrates emotional engagement",max_score:2}],min_words:100,max_words:300,weight:.3,required:!0},{id:"problem_identification",type:"textarea",question:"What, if anything, was confusing or unclear? How could it be improved? (100-300 words)",scoring_criteria:[{aspect:"Identifies genuine readability issues",max_score:3},{aspect:"Distinguishes objective vs subjective concerns",max_score:3},{aspect:"Explains reasoning clearly",max_score:2},{aspect:"Provides constructive context",max_score:2}],min_words:100,max_words:300,weight:.3,required:!0},{id:"actionable_suggestion",type:"textarea",question:"Provide one specific, actionable suggestion to enhance this scene (60-200 words)",scoring_criteria:[{aspect:"Offers specific, implementable solution",max_score:4},{aspect:"Shows understanding of author's intent",max_score:3},{aspect:"Suggests enhancement rather than just fixes",max_score:3}],min_words:60,max_words:200,weight:.4,required:!0}]},"Stage 4":{title:"Final Assessment & Preferences",description:"Communication style and final compatibility check",min_score_required:20,max_possible_score:30,questions:[{id:"communication_style",type:"multiple_choice",question:"How would you describe your feedback style?",options:[{text:"Direct and detailed",score:8},{text:"Gentle but thorough",score:10},{text:"Focused on major issues",score:6},{text:"Encouraging with suggestions",score:9},{text:"Technical and analytical",score:7}],weight:.4,required:!0},{id:"availability_window",type:"date_range",question:"What is your availability window for this project?",scoring_criteria:[{aspect:"Matches project timeline",max_score:5},{aspect:"Provides realistic timeframe",max_score:3},{aspect:"Shows flexibility",max_score:2}],weight:.3,required:!0},{id:"motivation",type:"textarea",question:"Why do you want to be a beta reader for this project? (50-150 words)",scoring_criteria:[{aspect:"Shows genuine interest in the work",max_score:4},{aspect:"Demonstrates understanding of role",max_score:3},{aspect:"Articulates value they can provide",max_score:3}],min_words:50,max_words:150,weight:.3,required:!0}]}},pRe={overall_thresholds:{auto_accept:90,strong_candidate:75,interview_required:60}},mRe={application_stages:hRe,scoring_system:pRe},R$=mRe,gRe=()=>{const[e,t]=w.useState(0),[r,n]=w.useState({}),[s,i]=w.useState({}),[o,a]=w.useState({}),[l,c]=w.useState(!0),[d,f]=w.useState(!1),[h,p]=w.useState(""),[g,m]=w.useState(0),y=Object.values(R$.application_stages),v=y[e],b=y.length;w.useEffect(()=>{const D={};y.forEach(z=>{z.questions.forEach(U=>{U.type==="checkbox_multiple"||U.type==="date_range"?D[U.id]=[]:(U.type==="multiple_choice"||U.type==="slider"||U.type==="textarea")&&(D[U.id]="")})}),n(D)},[]);const x=D=>{const{name:z,value:U,type:G,checked:q}=D.target;n(Z=>({...Z,[z]:G==="checkbox"?q:U})),i(Z=>({...Z,[z]:void 0}))},E=D=>D.trim().split(/\s+/).filter(z=>z.length>0).length,_=()=>{let D={},z=!0;return v.questions.forEach(U=>{if(U.required){const G=r[U.id];if(!G||Array.isArray(G)&&G.length===0)D[U.id]="This field is required.",z=!1;else if(U.type==="textarea"){const q=E(G);U.min_words&&q<U.min_words&&(D[U.id]=`Minimum ${U.min_words} words required.`,z=!1),U.max_words&&q>U.max_words&&(D[U.id]=`Maximum ${U.max_words} words allowed.`,z=!1)}}U.type==="checkbox_multiple"&&U.max_selections&&r[U.id]&&r[U.id].length>U.max_selections&&(D[U.id]=`You can select a maximum of ${U.max_selections} options.`,z=!1)}),i(D),z},N=(D,z)=>{let U=0;if(D.type==="multiple_choice"&&D.options){const G=D.options.find(q=>q.text===z);U=G?G.score:0}else D.type==="checkbox_multiple"&&D.options&&Array.isArray(z)?U=z.reduce((G,q)=>{var ie;const Z=(ie=D.options)==null?void 0:ie.find(R=>R.text===q);return G+(Z?Z.score:0)},0):D.type==="slider"&&z?U=Math.min(10,Math.floor(parseInt(z)/10)):D.type==="textarea"&&(U=z&&E(z)>0?5:0);return U*D.weight},k=D=>{let z=0;return D.questions.forEach(U=>{z+=N(U,r[U.id])}),Math.round(z*(D.max_possible_score/10))},C=()=>{if(_()){const D=k(v);if(a(z=>({...z,[e]:D})),v.min_score_required&&D<v.min_score_required){c(!1),f(!0);return}e<b-1?t(z=>z+1):M()}},T=()=>{e>0&&t(D=>D-1)},$=D=>{const z=R$.scoring_system.overall_thresholds;return D>=z.auto_accept?"auto_accept":D>=z.strong_candidate?"strong_candidate":D>=z.interview_required?"interview_required":"auto_reject"},M=()=>{let D=Object.values(o).reduce((z,U)=>z+U,0);m(D),p($(D)),f(!0)},L=D=>{var G,q;const z=r[D.id],U=s[D.id];switch(D.type){case"multiple_choice":return u.jsxs("div",{className:"question-container mb-4 p-4 bg-background-light rounded-lg shadow-sm border-l-4 border-primary",children:[u.jsxs("label",{className:"block text-lg font-semibold text-textLight mb-2",children:[D.question," ",D.required&&u.jsx("span",{className:"text-errorRed",children:"*"})]}),(G=D.options)==null?void 0:G.map(Z=>u.jsxs("label",{className:"radio-option",children:[u.jsx("input",{type:"radio",name:D.id,value:Z.text,checked:z===Z.text,onChange:x}),u.jsx("span",{className:"radio-custom"}),u.jsx("span",{className:"option-text",children:Z.text})]},Z.text)),U&&u.jsx("p",{className:"text-errorRed text-sm mt-1",children:U})]},D.id);case"checkbox_multiple":return u.jsxs("div",{className:"question-container mb-4 p-4 bg-background-light rounded-lg shadow-sm border-l-4 border-primary",children:[u.jsxs("label",{className:"block text-lg font-semibold text-textLight mb-2",children:[D.question," ",D.required&&u.jsx("span",{className:"text-errorRed",children:"*"})]}),(q=D.options)==null?void 0:q.map(Z=>u.jsxs("label",{className:"checkbox-option",children:[u.jsx("input",{type:"checkbox",name:D.id,value:Z.text,checked:Array.isArray(z)&&z.includes(Z.text),onChange:x}),u.jsx("span",{className:"checkbox-custom"}),u.jsx("span",{className:"option-text",children:Z.text})]},Z.text)),D.max_selections&&u.jsxs("p",{className:"text-sm text-grayDark mt-1",children:["Select up to ",D.max_selections]}),U&&u.jsx("p",{className:"text-errorRed text-sm mt-1",children:U})]},D.id);case"textarea":return u.jsxs("div",{className:"question-container mb-4 p-4 bg-background-light rounded-lg shadow-sm border-l-4 border-primary",children:[u.jsxs("label",{htmlFor:D.id,className:"block text-lg font-semibold text-textLight mb-2",children:[D.question," ",D.required&&u.jsx("span",{className:"text-errorRed",children:"*"})]}),D.sample_text&&u.jsx("p",{className:"text-grayDark text-base mb-2 italic",children:D.sample_text}),u.jsx("textarea",{id:D.id,name:D.id,value:z||"",onChange:x,rows:6,className:"mt-1 block w-full border border-borderColorLight rounded-md shadow-sm p-2 focus:border-primary focus:ring-primary"}),D.min_words&&D.max_words&&u.jsxs("p",{className:"text-xs text-grayDark mt-1",children:["Words: ",E(z||"")," / ",D.max_words," (min: ",D.min_words,")"]}),U&&u.jsx("p",{className:"text-errorRed text-sm mt-1",children:U})]},D.id);case"slider":return u.jsxs("div",{className:"question-container mb-4 p-4 bg-background-light rounded-lg shadow-sm border-l-4 border-primary",children:[u.jsxs("label",{htmlFor:D.id,className:"block text-lg font-semibold text-textLight mb-2",children:[D.question," ",D.required&&u.jsx("span",{className:"text-errorRed",children:"*"})]}),u.jsx("input",{type:"range",id:D.id,name:D.id,min:D.min,max:D.max,step:D.step,value:z||D.min||0,onChange:x,className:"w-full h-2 bg-grayMedium rounded-lg appearance-none cursor-pointer accent-primary"}),u.jsxs("div",{className:"flex justify-between text-sm text-grayDark mt-1",children:[u.jsx("span",{children:D.min}),u.jsx("span",{children:z||D.min||0}),u.jsx("span",{children:D.max})]}),U&&u.jsx("p",{className:"text-errorRed text-sm mt-1",children:U})]},D.id);case"date_range":return u.jsxs("div",{className:"question-container mb-4 p-4 bg-background-light rounded-lg shadow-sm border-l-4 border-primary",children:[u.jsxs("label",{htmlFor:D.id,className:"block text-lg font-semibold text-textLight mb-2",children:[D.question," ",D.required&&u.jsx("span",{className:"text-errorRed",children:"*"})]}),u.jsx("p",{className:"text-base text-grayDark",children:"Date range selection not fully implemented in this example."}),U&&u.jsx("p",{className:"text-errorRed text-sm mt-1",children:U})]},D.id);default:return u.jsxs("p",{className:"text-errorRed",children:["Unknown question type: ",D.type]},D.id)}};if(d)if(l){const D={auto_accept:"Congratulations! You have been automatically accepted into our beta reader program.",strong_candidate:"Excellent! You are a strong candidate. We will contact you within 48 hours.",interview_required:"Thank you for applying. We would like to schedule a brief interview with you.",auto_reject:"Thank you for your interest. Unfortunately, you do not meet our current requirements."};return u.jsxs("div",{className:"container mx-auto p-4 text-center text-textLight rounded-lg shadow-lg my-8 card-glow",children:[u.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Application Complete"}),u.jsxs("div",{className:"p-6 rounded-lg shadow-md mb-6 card-glow",children:[u.jsxs("h2",{className:"text-3xl font-semibold mb-2",children:["Your Score: ",g]}),u.jsx("p",{className:"text-lg",children:D[h]})]}),u.jsx("button",{onClick:()=>window.location.reload(),className:"btn-glow text-white p-3 rounded-md font-semibold active:scale-95 active:shadow-inner cursor-pointer transition duration-300 ease-in-out",children:"Apply Again"})]})}else return u.jsxs("div",{className:"container mx-auto p-4 text-center text-textLight rounded-lg shadow-lg my-8 card-glow",children:[u.jsx("h1",{className:"text-4xl font-bold mb-4 text-errorRed",children:"Application Not Qualified"}),u.jsx("p",{className:"text-lg mb-4 text-grayDark",children:"Thank you for your interest in our beta reader program."}),u.jsx("p",{className:"text-md mb-6 text-grayDark",children:"Unfortunately, you do not meet the minimum requirements for this stage. We encourage you to gain more reading experience and apply again in the future."}),u.jsx("button",{onClick:()=>window.location.reload(),className:"btn-glow text-white p-3 rounded-md font-semibold active:scale-95 active:shadow-inner cursor-pointer transition duration-300 ease-in-out",children:"Start Over"})]});return u.jsxs("div",{className:"container mx-auto p-4 bg-background-light text-textLight rounded-lg shadow-lg my-8",children:[u.jsx("h1",{className:"text-4xl font-bold mb-6 text-primary text-center hero-title-glow",children:"Beta Program Application"}),u.jsx("div",{className:"w-full bg-grayMedium rounded-full h-2.5 mb-4",children:u.jsx("div",{className:"bg-primary h-2.5 rounded-full transition-all duration-500 ease-in-out",style:{width:`${(e+1)/b*100}%`}})}),u.jsxs("p",{className:"text-center text-base text-grayDark mb-6",children:["Stage ",e+1," of ",b,": ",v.title]}),u.jsxs("form",{onSubmit:D=>{D.preventDefault(),C()},className:"space-y-6",children:[u.jsxs("section",{className:"p-6 bg-background-light rounded-lg shadow-md border border-borderColorLight",children:[u.jsx("h2",{className:"text-3xl font-semibold mb-4 text-textLight",children:v.title}),u.jsx("p",{className:"text-lg text-grayDark mb-4",children:v.description}),v.questions.map(L)]}),u.jsxs("div",{className:"flex justify-between mt-6",children:[e>0&&u.jsx("button",{type:"button",onClick:T,className:"btn-glow text-white p-3 rounded-md font-semibold active:scale-95 active:shadow-inner cursor-pointer transition duration-300 ease-in-out",children:"Previous"}),u.jsx("button",{type:"submit",className:"btn-glow text-white p-3 rounded-md font-semibold active:scale-95 active:shadow-inner cursor-pointer transition duration-300 ease-in-out ml-auto",children:e===b-1?"Submit Application":"Next"})]})]})]})},yRe=({product:e,onPurchase:t,showCheckout:r=!1})=>{const[n,s]=w.useState(!1),[i,o]=w.useState(!1),[a,l]=w.useState(null),{addItem:c,isInCart:d}=mI(),f=e.prices&&e.prices.length>0?{id:e.prices[0].id,unit_amount:e.prices[0].unit_amount,currency:e.prices[0].currency,interval:e.prices[0].interval||void 0,trial_days:e.prices[0].trial_days||void 0}:null,h=(b,x)=>new Intl.NumberFormat("en-US",{style:"currency",currency:x.toUpperCase()}).format(b/100),p=b=>{l(b),s(!0)},g=()=>{f&&c({id:e.id,title:e.name,price:f.unit_amount/100,currency:f.currency,format:"digital"})},m=b=>{s(!1),t&&t(e.id),console.log("Purchase successful:",b)},y=()=>{s(!1)};if(!f)return null;const v=d(e.id);return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"bg-background-light/30 backdrop-blur-sm rounded-2xl shadow-lg overflow-hidden hover:shadow-2xl transition-all duration-300 product-card-hover glass-effect border border-border/30",children:[u.jsxs("div",{className:"relative h-64 bg-gradient-to-br from-primary/30 via-secondary/30 to-accent/30",children:[u.jsx("div",{className:"w-full h-full flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx(eh,{className:"w-16 h-16 text-secondary mx-auto mb-2"}),u.jsx("p",{className:"text-text-light/60 text-sm font-medium",children:e.name})]})}),e.active&&u.jsx("div",{className:"absolute top-4 right-4 bg-success text-white px-3 py-1 rounded-full text-xs font-medium shadow-lg",children:"Available"}),e.product_type==="bundle"&&u.jsx("div",{className:"absolute top-4 left-4 bg-secondary text-background px-3 py-1 rounded-full text-xs font-medium shadow-lg",children:"Bundle"}),(e.product_type==="chapter_pass"||e.product_type==="arc_pass")&&u.jsx("div",{className:"absolute top-4 left-4 bg-accent text-white px-3 py-1 rounded-full text-xs font-medium shadow-lg",children:"Subscription"})]}),u.jsxs("div",{className:"p-6",children:[u.jsx("h3",{className:"text-xl font-bold text-text-light mb-3 line-clamp-2",children:e.name}),u.jsx("p",{className:"text-text-light/70 text-sm mb-4 line-clamp-3 leading-relaxed",children:e.description}),u.jsxs("div",{className:"mb-6",children:[u.jsx("div",{className:"text-3xl font-bold text-secondary mb-2",children:h(f.unit_amount,f.currency)}),(e.product_type==="chapter_pass"||e.product_type==="arc_pass")&&u.jsx("div",{className:"text-text-light/70 text-sm",children:"per month"}),!(e.product_type==="chapter_pass"||e.product_type==="arc_pass")&&u.jsx("div",{className:"text-text-light/70 text-sm",children:"One-time purchase"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("button",{onClick:g,disabled:v,className:`w-full py-3 px-4 rounded-xl font-medium transition-all duration-200 flex items-center justify-center space-x-2 ${v?"bg-success text-white cursor-not-allowed":"bg-secondary text-background hover:bg-secondary-dark focus:outline-none focus:ring-2 focus:ring-secondary/50 focus:ring-offset-2 focus:ring-offset-background-light shadow-lg hover:shadow-xl"}`,children:v?u.jsxs(u.Fragment,{children:[u.jsx("span",{children:"✓"}),u.jsx("span",{children:"Added to Cart"})]}):u.jsxs(u.Fragment,{children:[u.jsx(Fi,{className:"w-5 h-5"}),u.jsx("span",{children:"Add to Cart"})]})}),u.jsxs("button",{onClick:()=>p(f),className:"w-full bg-primary text-white py-3 px-4 rounded-xl font-medium hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-primary/50 focus:ring-offset-2 focus:ring-offset-background-light transition-all duration-200 flex items-center justify-center space-x-2 shadow-lg hover:shadow-xl",children:[u.jsx(JM,{className:"w-5 h-5"}),u.jsx("span",{children:e.product_type==="chapter_pass"||e.product_type==="arc_pass"?"Start Subscription":"Buy Now"})]})]}),u.jsx("div",{className:"mt-6 pt-4 border-t border-border/30",children:u.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-text-dark",children:[u.jsxs("div",{children:[u.jsx("span",{className:"font-medium text-text-light",children:"Published:"}),u.jsx("br",{}),new Date(e.created_at).toLocaleDateString()]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-medium text-text-light",children:"Type:"}),u.jsx("br",{}),e.product_type==="bundle"?"Bundle":e.product_type==="chapter_pass"||e.product_type==="arc_pass"?"Subscription":"Single Issue"]})]})})]})]}),n&&a&&u.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-background-light rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto glass-effect border border-border/30",children:[u.jsx("div",{className:"p-6 border-b border-border/30",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-lg font-medium text-text-light",children:"Complete Purchase"}),u.jsxs("button",{onClick:()=>s(!1),className:"text-text-dark hover:text-text-light transition-colors p-1 rounded-lg hover:bg-background/30",children:[u.jsx("span",{className:"sr-only",children:"Close"}),u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]})}),u.jsx(m5,{product:{id:e.id,name:e.name,price:a.unit_amount,currency:a.currency,interval:a.interval,trial_period_days:a.trial_days,is_subscription:e.product_type==="chapter_pass"||e.product_type==="arc_pass"},onSuccess:m,onCancel:y})]})})]})},k9=({item:e,isActive:t=!1,level:r=0,onClick:n})=>{const{title:s,slug:i,type:o,children:a=[]}=e,l=a&&a.length>0,c=`${r*16+8}px`,d=f=>{f.preventDefault(),n&&n(i)};return u.jsxs("div",{className:`wiki-nav-item ${t?"active":""}`,style:{paddingLeft:c},children:[u.jsxs(Rr,{to:`/wiki/${i}`,className:`nav-link ${o}`,onClick:d,children:[s,l&&u.jsx("span",{className:"nav-toggle",children:t?"▼":"▶"})]}),l&&t&&u.jsx("div",{className:"nav-children",children:a.map((f,h)=>u.jsx(k9,{item:f,level:r+1,isActive:t,onClick:n},f.slug))})]})},vRe=({count:e=4,viewMode:t="grid",className:r})=>{const n=Array.from({length:e},(s,i)=>u.jsxs("div",{className:`${t==="grid"?"bg-background-light/30 backdrop-blur-sm rounded-2xl border border-border/30 overflow-hidden":"bg-background-light/30 backdrop-blur-sm rounded-2xl p-6 border border-border/30"}`,children:[u.jsx("div",{className:"h-64 bg-gradient-to-r from-border/20 to-border/40 skeleton"}),u.jsxs("div",{className:"p-6",children:[u.jsx("div",{className:"h-6 bg-border/20 rounded skeleton mb-3"}),u.jsxs("div",{className:"space-y-2 mb-4",children:[u.jsx("div",{className:"h-4 bg-border/20 rounded skeleton"}),u.jsx("div",{className:"h-4 bg-border/20 rounded skeleton w-3/4"}),u.jsx("div",{className:"h-4 bg-border/20 rounded skeleton w-1/2"})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("div",{className:"h-4 bg-border/20 rounded skeleton w-24 mb-2"}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("div",{className:"h-6 bg-border/20 rounded-full skeleton w-16"}),u.jsx("div",{className:"h-6 bg-border/20 rounded-full skeleton w-20"})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("div",{className:"h-8 bg-border/20 rounded skeleton w-20 mb-2"}),u.jsx("div",{className:"h-4 bg-border/20 rounded skeleton w-32"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:"h-12 bg-border/20 rounded-xl skeleton"}),u.jsx("div",{className:"h-10 bg-border/20 rounded-xl skeleton"})]})]})]},i));return u.jsx("div",{className:nr(t==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4",r),children:n})};function bRe(){return{toast:({title:t,description:r,variant:n})=>{n==="destructive"?Wt.error(t,{id:t,duration:5e3,style:{background:"#fee2e2",color:"#ef4444",border:"1px solid #fca5a5"},iconTheme:{primary:"#ef4444",secondary:"#fee2e2"}}):Wt.success(t,{id:t,duration:3e3,style:{background:"#dcfce7",color:"#22c55e",border:"1px solid #86efac"},iconTheme:{primary:"#22c55e",secondary:"#dcfce7"}})}}}const xRe={default:"bg-primary text-primary-foreground hover:bg-primary/80 border-transparent",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 border-transparent",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/80 border-transparent",outline:"text-foreground border border-input hover:bg-accent hover:text-accent-foreground",success:"bg-green-500 text-white hover:bg-green-600 border-transparent"},C9=S.forwardRef(({className:e,variant:t="default",...r},n)=>u.jsx("div",{ref:n,className:We("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",xRe[t],e),...r}));C9.displayName="Badge";exports.AccountPage=uG;exports.AchievementsTab=rL;exports.AdminLayout=fG;exports.AdminProtectedRoute=hG;exports.AdminStorePage=Hse;exports.AdminUploadPage=tRe;exports.Alert=Sv;exports.AlertDescription=lh;exports.AlertDialog=kM;exports.AlertDialogAction=AS;exports.AlertDialogCancel=PS;exports.AlertDialogContent=jS;exports.AlertDialogDescription=TS;exports.AlertDialogFooter=kS;exports.AlertDialogHeader=NS;exports.AlertDialogOverlay=ES;exports.AlertDialogPortal=CM;exports.AlertDialogTitle=CS;exports.AlertDialogTrigger=cH;exports.AlertTitle=Ev;exports.AlertWithIcon=Z4;exports.Badge=C9;exports.BetaApplicationPage=gRe;exports.BetaApplicationStatusPage=Tue;exports.BetaPortalPage=Cue;exports.BlogPage=Nue;exports.Button=tt;exports.Card=eu;exports.CardContent=nu;exports.CardDescription=s5;exports.CardFooter=i5;exports.CardHeader=tu;exports.CardTitle=ru;exports.ChapterUploadPage=oRe;exports.CharactersManager=YDe;exports.CharactersPage=wue;exports.CheckoutPage=Pue;exports.ConfirmDialog=uH;exports.DashboardPage=bEe;exports.Dialog=Q4;exports.DialogClose=Ise;exports.DialogContent=wE;exports.DialogDescription=n5;exports.DialogFooter=r5;exports.DialogHeader=_E;exports.DialogOverlay=xE;exports.DialogPortal=t5;exports.DialogTitle=SE;exports.DialogTrigger=e5;exports.GlossaryPage=Sue;exports.HomePage=MZ;exports.HomepageContentManager=xje;exports.ImageUpload=hH;exports.Input=bs;exports.Label=Kn;exports.Layout=MG;exports.LibraryPage=Qse;exports.LoadingSkeleton=vRe;exports.LocationsPage=_ue;exports.LoginPage=DY;exports.NotFoundPage=kue;exports.OverviewTab=QM;exports.PagesManager=UDe;exports.PostsManager=xOe;exports.PreferencesTab=nL;exports.ProductCard=yRe;exports.ProfileTab=eL;exports.ReadingTab=tL;exports.ReviewsPage=Eue;exports.SecurityTab=sL;exports.Select=gf;exports.SelectContent=Qc;exports.SelectGroup=jse;exports.SelectItem=zs;exports.SelectLabel=U4;exports.SelectSeparator=q4;exports.SelectTrigger=Jc;exports.SelectValue=yf;exports.StarsBackground=nRe;exports.SubscriptionPage=mue;exports.SubscriptionSuccessPage=gue;exports.Switch=ah;exports.Table=yE;exports.TableBody=bE;exports.TableCaption=J4;exports.TableCell=ga;exports.TableFooter=X4;exports.TableHead=_l;exports.TableHeader=vE;exports.TableRow=$f;exports.Tabs=CL;exports.TabsContent=Zc;exports.TabsList=KS;exports.TabsTrigger=Gc;exports.Textarea=hv;exports.TimelinesPage=fRe;exports.UsersManagement=rRe;exports.WikiEditor=N9;exports.WikiManager=dRe;exports.WikiNavItem=k9;exports.WikiViewer=bue;exports.WorkReaderPage=Aue;exports.WorksManager=eRe;exports.buttonVariants=_I;exports.cn=nr;exports.jsxRuntimeExports=u;exports.useToast=bRe;
