"use strict";var x7=Object.defineProperty;var w7=(e,t,r)=>t in e?x7(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var we=(e,t,r)=>w7(e,typeof t!="symbol"?t+"":t,r);const w=require("react"),J=require("@zoroaster/shared"),_i=require("react-dom"),Je=require("react-router-dom"),Me=require("@tanstack/react-query");function HD(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const r in e)if(r!=="default"){const n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:()=>e[r]})}}return t.default=e,Object.freeze(t)}const j=HD(w),YD=HD(_i);var sr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function _7(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var q0={exports:{}},nd={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CN;function S7(){if(CN)return nd;CN=1;var e=w,t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(a,l,c){var d,f={},h=null,p=null;c!==void 0&&(h=""+c),l.key!==void 0&&(h=""+l.key),l.ref!==void 0&&(p=l.ref);for(d in l)n.call(l,d)&&!i.hasOwnProperty(d)&&(f[d]=l[d]);if(a&&a.defaultProps)for(d in l=a.defaultProps,l)f[d]===void 0&&(f[d]=l[d]);return{$$typeof:t,type:a,key:h,ref:p,props:f,_owner:s.current}}return nd.Fragment=r,nd.jsx=o,nd.jsxs=o,nd}var sd={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TN;function E7(){return TN||(TN=1,process.env.NODE_ENV!=="production"&&function(){var e=w,t=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.offscreen"),g=Symbol.iterator,m="@@iterator";function y(P){if(P===null||typeof P!="object")return null;var ne=g&&P[g]||P[m];return typeof ne=="function"?ne:null}var v=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function b(P){{for(var ne=arguments.length,me=new Array(ne>1?ne-1:0),Ce=1;Ce<ne;Ce++)me[Ce-1]=arguments[Ce];x("error",P,me)}}function x(P,ne,me){{var Ce=v.ReactDebugCurrentFrame,He=Ce.getStackAddendum();He!==""&&(ne+="%s",me=me.concat([He]));var Ie=me.map(function(Ze){return String(Ze)});Ie.unshift("Warning: "+ne),Function.prototype.apply.call(console[P],console,Ie)}}var S=!1,_=!1,N=!1,k=!1,C=!1,A;A=Symbol.for("react.module.reference");function I(P){return!!(typeof P=="string"||typeof P=="function"||P===n||P===i||C||P===s||P===c||P===d||k||P===p||S||_||N||typeof P=="object"&&P!==null&&(P.$$typeof===h||P.$$typeof===f||P.$$typeof===o||P.$$typeof===a||P.$$typeof===l||P.$$typeof===A||P.getModuleId!==void 0))}function M(P,ne,me){var Ce=P.displayName;if(Ce)return Ce;var He=ne.displayName||ne.name||"";return He!==""?me+"("+He+")":me}function L(P){return P.displayName||"Context"}function D(P){if(P==null)return null;if(typeof P.tag=="number"&&b("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof P=="function")return P.displayName||P.name||null;if(typeof P=="string")return P;switch(P){case n:return"Fragment";case r:return"Portal";case i:return"Profiler";case s:return"StrictMode";case c:return"Suspense";case d:return"SuspenseList"}if(typeof P=="object")switch(P.$$typeof){case a:var ne=P;return L(ne)+".Consumer";case o:var me=P;return L(me._context)+".Provider";case l:return M(P,P.render,"ForwardRef");case f:var Ce=P.displayName||null;return Ce!==null?Ce:D(P.type)||"Memo";case h:{var He=P,Ie=He._payload,Ze=He._init;try{return D(Ze(Ie))}catch{return null}}}return null}var z=Object.assign,U=0,G,q,Z,oe,$,B,X;function ae(){}ae.__reactDisabledLog=!0;function W(){{if(U===0){G=console.log,q=console.info,Z=console.warn,oe=console.error,$=console.group,B=console.groupCollapsed,X=console.groupEnd;var P={configurable:!0,enumerable:!0,value:ae,writable:!0};Object.defineProperties(console,{info:P,log:P,warn:P,error:P,group:P,groupCollapsed:P,groupEnd:P})}U++}}function K(){{if(U--,U===0){var P={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:z({},P,{value:G}),info:z({},P,{value:q}),warn:z({},P,{value:Z}),error:z({},P,{value:oe}),group:z({},P,{value:$}),groupCollapsed:z({},P,{value:B}),groupEnd:z({},P,{value:X})})}U<0&&b("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var te=v.ReactCurrentDispatcher,re;function ue(P,ne,me){{if(re===void 0)try{throw Error()}catch(He){var Ce=He.stack.trim().match(/\n( *(at )?)/);re=Ce&&Ce[1]||""}return`
`+re+P}}var V=!1,H;{var ie=typeof WeakMap=="function"?WeakMap:Map;H=new ie}function O(P,ne){if(!P||V)return"";{var me=H.get(P);if(me!==void 0)return me}var Ce;V=!0;var He=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var Ie;Ie=te.current,te.current=null,W();try{if(ne){var Ze=function(){throw Error()};if(Object.defineProperty(Ze.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ze,[])}catch(jr){Ce=jr}Reflect.construct(P,[],Ze)}else{try{Ze.call()}catch(jr){Ce=jr}P.call(Ze.prototype)}}else{try{throw Error()}catch(jr){Ce=jr}P()}}catch(jr){if(jr&&Ce&&typeof jr.stack=="string"){for(var Ge=jr.stack.split(`
`),dr=Ce.stack.split(`
`),Nt=Ge.length-1,Pt=dr.length-1;Nt>=1&&Pt>=0&&Ge[Nt]!==dr[Pt];)Pt--;for(;Nt>=1&&Pt>=0;Nt--,Pt--)if(Ge[Nt]!==dr[Pt]){if(Nt!==1||Pt!==1)do if(Nt--,Pt--,Pt<0||Ge[Nt]!==dr[Pt]){var yt=`
`+Ge[Nt].replace(" at new "," at ");return P.displayName&&yt.includes("<anonymous>")&&(yt=yt.replace("<anonymous>",P.displayName)),typeof P=="function"&&H.set(P,yt),yt}while(Nt>=1&&Pt>=0);break}}}finally{V=!1,te.current=Ie,K(),Error.prepareStackTrace=He}var si=P?P.displayName||P.name:"",Ss=si?ue(si):"";return typeof P=="function"&&H.set(P,Ss),Ss}function ge(P,ne,me){return O(P,!1)}function Ee(P){var ne=P.prototype;return!!(ne&&ne.isReactComponent)}function Be(P,ne,me){if(P==null)return"";if(typeof P=="function")return O(P,Ee(P));if(typeof P=="string")return ue(P);switch(P){case c:return ue("Suspense");case d:return ue("SuspenseList")}if(typeof P=="object")switch(P.$$typeof){case l:return ge(P.render);case f:return Be(P.type,ne,me);case h:{var Ce=P,He=Ce._payload,Ie=Ce._init;try{return Be(Ie(He),ne,me)}catch{}}}return""}var Ue=Object.prototype.hasOwnProperty,et={},bt=v.ReactDebugCurrentFrame;function Et(P){if(P){var ne=P._owner,me=Be(P.type,P._source,ne?ne.type:null);bt.setExtraStackFrame(me)}else bt.setExtraStackFrame(null)}function R(P,ne,me,Ce,He){{var Ie=Function.call.bind(Ue);for(var Ze in P)if(Ie(P,Ze)){var Ge=void 0;try{if(typeof P[Ze]!="function"){var dr=Error((Ce||"React class")+": "+me+" type `"+Ze+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof P[Ze]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw dr.name="Invariant Violation",dr}Ge=P[Ze](ne,Ze,Ce,me,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(Nt){Ge=Nt}Ge&&!(Ge instanceof Error)&&(Et(He),b("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",Ce||"React class",me,Ze,typeof Ge),Et(null)),Ge instanceof Error&&!(Ge.message in et)&&(et[Ge.message]=!0,Et(He),b("Failed %s type: %s",me,Ge.message),Et(null))}}}var Y=Array.isArray;function Q(P){return Y(P)}function ye(P){{var ne=typeof Symbol=="function"&&Symbol.toStringTag,me=ne&&P[Symbol.toStringTag]||P.constructor.name||"Object";return me}}function he(P){try{return pe(P),!1}catch{return!0}}function pe(P){return""+P}function _e(P){if(he(P))return b("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",ye(P)),pe(P)}var Le=v.ReactCurrentOwner,Ke={key:!0,ref:!0,__self:!0,__source:!0},Mt,jt;function Or(P){if(Ue.call(P,"ref")){var ne=Object.getOwnPropertyDescriptor(P,"ref").get;if(ne&&ne.isReactWarning)return!1}return P.ref!==void 0}function ri(P){if(Ue.call(P,"key")){var ne=Object.getOwnPropertyDescriptor(P,"key").get;if(ne&&ne.isReactWarning)return!1}return P.key!==void 0}function Wn(P,ne){typeof P.ref=="string"&&Le.current}function Kn(P,ne){{var me=function(){Mt||(Mt=!0,b("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",ne))};me.isReactWarning=!0,Object.defineProperty(P,"key",{get:me,configurable:!0})}}function En(P,ne){{var me=function(){jt||(jt=!0,b("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",ne))};me.isReactWarning=!0,Object.defineProperty(P,"ref",{get:me,configurable:!0})}}var Br=function(P,ne,me,Ce,He,Ie,Ze){var Ge={$$typeof:t,type:P,key:ne,ref:me,props:Ze,_owner:Ie};return Ge._store={},Object.defineProperty(Ge._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(Ge,"_self",{configurable:!1,enumerable:!1,writable:!1,value:Ce}),Object.defineProperty(Ge,"_source",{configurable:!1,enumerable:!1,writable:!1,value:He}),Object.freeze&&(Object.freeze(Ge.props),Object.freeze(Ge)),Ge};function en(P,ne,me,Ce,He){{var Ie,Ze={},Ge=null,dr=null;me!==void 0&&(_e(me),Ge=""+me),ri(ne)&&(_e(ne.key),Ge=""+ne.key),Or(ne)&&(dr=ne.ref,Wn(ne,He));for(Ie in ne)Ue.call(ne,Ie)&&!Ke.hasOwnProperty(Ie)&&(Ze[Ie]=ne[Ie]);if(P&&P.defaultProps){var Nt=P.defaultProps;for(Ie in Nt)Ze[Ie]===void 0&&(Ze[Ie]=Nt[Ie])}if(Ge||dr){var Pt=typeof P=="function"?P.displayName||P.name||"Unknown":P;Ge&&Kn(Ze,Pt),dr&&En(Ze,Pt)}return Br(P,Ge,dr,He,Ce,Le.current,Ze)}}var Er=v.ReactCurrentOwner,ur=v.ReactDebugCurrentFrame;function tn(P){if(P){var ne=P._owner,me=Be(P.type,P._source,ne?ne.type:null);ur.setExtraStackFrame(me)}else ur.setExtraStackFrame(null)}var jn;jn=!1;function Nn(P){return typeof P=="object"&&P!==null&&P.$$typeof===t}function Hn(){{if(Er.current){var P=D(Er.current.type);if(P)return`

Check the render method of \``+P+"`."}return""}}function ws(P){return""}var Yn={};function Ri(P){{var ne=Hn();if(!ne){var me=typeof P=="string"?P:P.displayName||P.name;me&&(ne=`

Check the top-level render call using <`+me+">.")}return ne}}function Gn(P,ne){{if(!P._store||P._store.validated||P.key!=null)return;P._store.validated=!0;var me=Ri(ne);if(Yn[me])return;Yn[me]=!0;var Ce="";P&&P._owner&&P._owner!==Er.current&&(Ce=" It was passed a child from "+D(P._owner.type)+"."),tn(P),b('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',me,Ce),tn(null)}}function kn(P,ne){{if(typeof P!="object")return;if(Q(P))for(var me=0;me<P.length;me++){var Ce=P[me];Nn(Ce)&&Gn(Ce,ne)}else if(Nn(P))P._store&&(P._store.validated=!0);else if(P){var He=y(P);if(typeof He=="function"&&He!==P.entries)for(var Ie=He.call(P),Ze;!(Ze=Ie.next()).done;)Nn(Ze.value)&&Gn(Ze.value,ne)}}}function Ao(P){{var ne=P.type;if(ne==null||typeof ne=="string")return;var me;if(typeof ne=="function")me=ne.propTypes;else if(typeof ne=="object"&&(ne.$$typeof===l||ne.$$typeof===f))me=ne.propTypes;else return;if(me){var Ce=D(ne);R(me,P.props,"prop",Ce,P)}else if(ne.PropTypes!==void 0&&!jn){jn=!0;var He=D(ne);b("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",He||"Unknown")}typeof ne.getDefaultProps=="function"&&!ne.getDefaultProps.isReactClassApproved&&b("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Cn(P){{for(var ne=Object.keys(P.props),me=0;me<ne.length;me++){var Ce=ne[me];if(Ce!=="children"&&Ce!=="key"){tn(P),b("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",Ce),tn(null);break}}P.ref!==null&&(tn(P),b("Invalid attribute `ref` supplied to `React.Fragment`."),tn(null))}}var Po={};function _s(P,ne,me,Ce,He,Ie){{var Ze=I(P);if(!Ze){var Ge="";(P===void 0||typeof P=="object"&&P!==null&&Object.keys(P).length===0)&&(Ge+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var dr=ws();dr?Ge+=dr:Ge+=Hn();var Nt;P===null?Nt="null":Q(P)?Nt="array":P!==void 0&&P.$$typeof===t?(Nt="<"+(D(P.type)||"Unknown")+" />",Ge=" Did you accidentally export a JSX literal instead of a component?"):Nt=typeof P,b("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",Nt,Ge)}var Pt=en(P,ne,me,He,Ie);if(Pt==null)return Pt;if(Ze){var yt=ne.children;if(yt!==void 0)if(Ce)if(Q(yt)){for(var si=0;si<yt.length;si++)kn(yt[si],P);Object.freeze&&Object.freeze(yt)}else b("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else kn(yt,P)}if(Ue.call(ne,"key")){var Ss=D(P),jr=Object.keys(ne).filter(function(Do){return Do!=="key"}),Oa=jr.length>0?"{key: someKey, "+jr.join(": ..., ")+": ...}":"{key: someKey}";if(!Po[Ss+Oa]){var Zu=jr.length>0?"{"+jr.join(": ..., ")+": ...}":"{}";b(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,Oa,Ss,Zu,Ss),Po[Ss+Oa]=!0}}return P===n?Cn(Pt):Ao(Pt),Pt}}function Ii(P,ne,me){return _s(P,ne,me,!0)}function Oo(P,ne,me){return _s(P,ne,me,!1)}var ni=Oo,le=Ii;sd.Fragment=n,sd.jsx=ni,sd.jsxs=le}()),sd}process.env.NODE_ENV==="production"?q0.exports=S7():q0.exports=E7();var u=q0.exports;function AN(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function GD(...e){return t=>{let r=!1;const n=e.map(s=>{const i=AN(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():AN(e[s],null)}}}}function _n(...e){return j.useCallback(GD(...e),e)}function af(e){const t=N7(e),r=j.forwardRef((n,s)=>{const{children:i,...o}=n,a=j.Children.toArray(i),l=a.find(C7);if(l){const c=l.props.children,d=a.map(f=>f===l?j.Children.count(c)>1?j.Children.only(null):j.isValidElement(c)?c.props.children:null:f);return u.jsx(t,{...o,ref:s,children:j.isValidElement(c)?j.cloneElement(c,void 0,d):null})}return u.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var j7=af("Slot");function N7(e){const t=j.forwardRef((r,n)=>{const{children:s,...i}=r;if(j.isValidElement(s)){const o=A7(s),a=T7(i,s.props);return s.type!==j.Fragment&&(a.ref=n?GD(n,o):o),j.cloneElement(s,a)}return j.Children.count(s)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ZD=Symbol("radix.slottable");function k7(e){const t=({children:r})=>u.jsx(u.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=ZD,t}function C7(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ZD}function T7(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function A7(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function XD(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=XD(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function nt(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=XD(e))&&(n&&(n+=" "),n+=t);return n}const PN=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,ON=nt,Rg=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return ON(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(c=>{const d=r==null?void 0:r[c],f=i==null?void 0:i[c];if(d===null)return null;const h=PN(d)||PN(f);return s[c][h]}),a=r&&Object.entries(r).reduce((c,d)=>{let[f,h]=d;return h===void 0||(c[f]=h),c},{}),l=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((c,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(g=>{let[m,y]=g;return Array.isArray(y)?y.includes({...i,...a}[m]):{...i,...a}[m]===y})?[...c,f,h]:c},[]);return ON(e,o,l,r==null?void 0:r.class,r==null?void 0:r.className)},JD=Rg("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Qe=j.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const o=n?j7:"button";return u.jsx(o,{className:J.cn(JD({variant:t,size:r,className:e})),ref:i,...s})});Qe.displayName="Button";function P7(e,t){const r=j.createContext(t),n=i=>{const{children:o,...a}=i,l=j.useMemo(()=>a,Object.values(a));return u.jsx(r.Provider,{value:l,children:o})};n.displayName=e+"Provider";function s(i){const o=j.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function _u(e,t=[]){let r=[];function n(i,o){const a=j.createContext(o),l=r.length;r=[...r,o];const c=f=>{var v;const{scope:h,children:p,...g}=f,m=((v=h==null?void 0:h[e])==null?void 0:v[l])||a,y=j.useMemo(()=>g,Object.values(g));return u.jsx(m.Provider,{value:y,children:p})};c.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[l])||a,g=j.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=r.map(o=>j.createContext(o));return function(a){const l=(a==null?void 0:a[e])||i;return j.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[n,O7(s,...t)]}function O7(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return j.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function br(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}var Yc=globalThis!=null&&globalThis.document?j.useLayoutEffect:()=>{},D7=j[" useId ".trim().toString()]||(()=>{}),$7=0;function Rd(e){const[t,r]=j.useState(D7());return Yc(()=>{r(n=>n??String($7++))},[e]),t?`radix-${t}`:""}var R7=j[" useInsertionEffect ".trim().toString()]||Yc;function Ig({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,o]=I7({defaultProp:t,onChange:r}),a=e!==void 0,l=a?e:s;{const d=j.useRef(e!==void 0);j.useEffect(()=>{const f=d.current;f!==a&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,n])}const c=j.useCallback(d=>{var f;if(a){const h=M7(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[a,e,i,o]);return[l,c]}function I7({defaultProp:e,onChange:t}){const[r,n]=j.useState(e),s=j.useRef(r),i=j.useRef(t);return R7(()=>{i.current=t},[t]),j.useEffect(()=>{var o;s.current!==r&&((o=i.current)==null||o.call(i,r),s.current=r)},[r,s]),[r,n,i]}function M7(e){return typeof e=="function"}var L7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Tr=L7.reduce((e,t)=>{const r=af(`Primitive.${t}`),n=j.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...a,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function F7(e,t){e&&YD.flushSync(()=>e.dispatchEvent(t))}function Gc(e){const t=j.useRef(e);return j.useEffect(()=>{t.current=e}),j.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function B7(e,t=globalThis==null?void 0:globalThis.document){const r=Gc(e);j.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var z7="DismissableLayer",V0="dismissableLayer.update",U7="dismissableLayer.pointerDownOutside",q7="dismissableLayer.focusOutside",DN,QD=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),e$=j.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=e,c=j.useContext(QD),[d,f]=j.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=j.useState({}),g=_n(t,k=>f(k)),m=Array.from(c.layers),[y]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=m.indexOf(y),b=d?m.indexOf(d):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,S=b>=v,_=K7(k=>{const C=k.target,A=[...c.branches].some(I=>I.contains(C));!S||A||(s==null||s(k),o==null||o(k),k.defaultPrevented||a==null||a())},h),N=H7(k=>{const C=k.target;[...c.branches].some(I=>I.contains(C))||(i==null||i(k),o==null||o(k),k.defaultPrevented||a==null||a())},h);return B7(k=>{b===c.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&a&&(k.preventDefault(),a()))},h),j.useEffect(()=>{if(d)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(DN=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),$N(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=DN)}},[d,h,r,c]),j.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),$N())},[d,c]),j.useEffect(()=>{const k=()=>p({});return document.addEventListener(V0,k),()=>document.removeEventListener(V0,k)},[]),u.jsx(Tr.div,{...l,ref:g,style:{pointerEvents:x?S?"auto":"none":void 0,...e.style},onFocusCapture:br(e.onFocusCapture,N.onFocusCapture),onBlurCapture:br(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:br(e.onPointerDownCapture,_.onPointerDownCapture)})});e$.displayName=z7;var V7="DismissableLayerBranch",W7=j.forwardRef((e,t)=>{const r=j.useContext(QD),n=j.useRef(null),s=_n(t,n);return j.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),u.jsx(Tr.div,{...e,ref:s})});W7.displayName=V7;function K7(e,t=globalThis==null?void 0:globalThis.document){const r=Gc(e),n=j.useRef(!1),s=j.useRef(()=>{});return j.useEffect(()=>{const i=a=>{if(a.target&&!n.current){let l=function(){t$(U7,r,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function H7(e,t=globalThis==null?void 0:globalThis.document){const r=Gc(e),n=j.useRef(!1);return j.useEffect(()=>{const s=i=>{i.target&&!n.current&&t$(q7,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function $N(){const e=new CustomEvent(V0);document.dispatchEvent(e)}function t$(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?F7(s,i):s.dispatchEvent(i)}var Kv="focusScope.autoFocusOnMount",Hv="focusScope.autoFocusOnUnmount",RN={bubbles:!1,cancelable:!0},Y7="FocusScope",r$=j.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[a,l]=j.useState(null),c=Gc(s),d=Gc(i),f=j.useRef(null),h=_n(t,m=>l(m)),p=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(n){let m=function(x){if(p.paused||!a)return;const S=x.target;a.contains(S)?f.current=S:Uo(f.current,{select:!0})},y=function(x){if(p.paused||!a)return;const S=x.relatedTarget;S!==null&&(a.contains(S)||Uo(f.current,{select:!0}))},v=function(x){if(document.activeElement===document.body)for(const _ of x)_.removedNodes.length>0&&Uo(a)};document.addEventListener("focusin",m),document.addEventListener("focusout",y);const b=new MutationObserver(v);return a&&b.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",y),b.disconnect()}}},[n,a,p.paused]),j.useEffect(()=>{if(a){MN.add(p);const m=document.activeElement;if(!a.contains(m)){const v=new CustomEvent(Kv,RN);a.addEventListener(Kv,c),a.dispatchEvent(v),v.defaultPrevented||(G7(eU(n$(a)),{select:!0}),document.activeElement===m&&Uo(a))}return()=>{a.removeEventListener(Kv,c),setTimeout(()=>{const v=new CustomEvent(Hv,RN);a.addEventListener(Hv,d),a.dispatchEvent(v),v.defaultPrevented||Uo(m??document.body,{select:!0}),a.removeEventListener(Hv,d),MN.remove(p)},0)}}},[a,c,d,p]);const g=j.useCallback(m=>{if(!r&&!n||p.paused)return;const y=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,v=document.activeElement;if(y&&v){const b=m.currentTarget,[x,S]=Z7(b);x&&S?!m.shiftKey&&v===S?(m.preventDefault(),r&&Uo(x,{select:!0})):m.shiftKey&&v===x&&(m.preventDefault(),r&&Uo(S,{select:!0})):v===b&&m.preventDefault()}},[r,n,p.paused]);return u.jsx(Tr.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});r$.displayName=Y7;function G7(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Uo(n,{select:t}),document.activeElement!==r)return}function Z7(e){const t=n$(e),r=IN(t,e),n=IN(t.reverse(),e);return[r,n]}function n$(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function IN(e,t){for(const r of e)if(!X7(r,{upTo:t}))return r}function X7(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function J7(e){return e instanceof HTMLInputElement&&"select"in e}function Uo(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&J7(e)&&t&&e.select()}}var MN=Q7();function Q7(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=LN(e,t),e.unshift(t)},remove(t){var r;e=LN(e,t),(r=e[0])==null||r.resume()}}}function LN(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function eU(e){return e.filter(t=>t.tagName!=="A")}var tU="Portal",s$=j.forwardRef((e,t)=>{var a;const{container:r,...n}=e,[s,i]=j.useState(!1);Yc(()=>i(!0),[]);const o=r||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?_i.createPortal(u.jsx(Tr.div,{...n,ref:t}),o):null});s$.displayName=tU;function rU(e,t){return j.useReducer((r,n)=>t[r][n]??r,e)}var Hf=e=>{const{present:t,children:r}=e,n=nU(t),s=typeof r=="function"?r({present:n.isPresent}):j.Children.only(r),i=_n(n.ref,sU(s));return typeof r=="function"||n.isPresent?j.cloneElement(s,{ref:i}):null};Hf.displayName="Presence";function nU(e){const[t,r]=j.useState(),n=j.useRef(null),s=j.useRef(e),i=j.useRef("none"),o=e?"mounted":"unmounted",[a,l]=rU(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const c=Kh(n.current);i.current=a==="mounted"?c:"none"},[a]),Yc(()=>{const c=n.current,d=s.current;if(d!==e){const h=i.current,p=Kh(c);e?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),Yc(()=>{if(t){let c;const d=t.ownerDocument.defaultView??window,f=p=>{const m=Kh(n.current).includes(CSS.escape(p.animationName));if(p.target===t&&m&&(l("ANIMATION_END"),!s.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",c=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},h=p=>{p.target===t&&(i.current=Kh(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(c),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:j.useCallback(c=>{n.current=c?getComputedStyle(c):null,r(c)},[])}}function Kh(e){return(e==null?void 0:e.animationName)||"none"}function sU(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Yv=0;function iU(){j.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??FN()),document.body.insertAdjacentElement("beforeend",e[1]??FN()),Yv++,()=>{Yv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Yv--}},[])}function FN(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Yr=function(){return Yr=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Yr.apply(this,arguments)};function B1(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function i$(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Id="right-scroll-bar-position",Md="width-before-scroll-bar",oU="with-scroll-bars-hidden",aU="--removed-body-scroll-bar-size";function Gv(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function lU(e,t){var r=w.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var cU=typeof window<"u"?j.useLayoutEffect:j.useEffect,BN=new WeakMap;function o$(e,t){var r=lU(null,function(n){return e.forEach(function(s){return Gv(s,n)})});return cU(function(){var n=BN.get(r);if(n){var s=new Set(n),i=new Set(e),o=r.current;s.forEach(function(a){i.has(a)||Gv(a,null)}),i.forEach(function(a){s.has(a)||Gv(a,o)})}BN.set(r,e)},[e]),r}function uU(e){return e}function dU(e,t){t===void 0&&(t=uU);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(a){return i(a)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var a=r;r=[],a.forEach(i),o=r}var l=function(){var d=o;o=[],d.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),r={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),r}}}};return s}function a$(e){e===void 0&&(e={});var t=dU(null);return t.options=Yr({async:!0,ssr:!1},e),t}var l$=function(e){var t=e.sideCar,r=B1(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return j.createElement(n,Yr({},r))};l$.isSideCarExport=!0;function c$(e,t){return e.useMedium(t),l$}var u$=a$(),Zv=function(){},Mg=j.forwardRef(function(e,t){var r=j.useRef(null),n=j.useState({onScrollCapture:Zv,onWheelCapture:Zv,onTouchMoveCapture:Zv}),s=n[0],i=n[1],o=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noRelative,g=e.noIsolation,m=e.inert,y=e.allowPinchZoom,v=e.as,b=v===void 0?"div":v,x=e.gapMode,S=B1(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,N=o$([r,t]),k=Yr(Yr({},S),s);return j.createElement(j.Fragment,null,d&&j.createElement(_,{sideCar:u$,removeScrollBar:c,shards:f,noRelative:p,noIsolation:g,inert:m,setCallbacks:i,allowPinchZoom:!!y,lockRef:r,gapMode:x}),o?j.cloneElement(j.Children.only(a),Yr(Yr({},k),{ref:N})):j.createElement(b,Yr({},k,{className:l,ref:N}),a))});Mg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Mg.classNames={fullWidth:Md,zeroRight:Id};var fU=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function hU(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=fU();return t&&e.setAttribute("nonce",t),e}function pU(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function mU(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var gU=function(){var e=0,t=null;return{add:function(r){e==0&&(t=hU())&&(pU(t,r),mU(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},yU=function(){var e=gU();return function(t,r){j.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},z1=function(){var e=yU(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},vU={left:0,top:0,right:0,gap:0},Xv=function(e){return parseInt(e||"",10)||0},bU=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Xv(r),Xv(n),Xv(s)]},xU=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return vU;var t=bU(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},wU=z1(),Dc="data-scroll-locked",_U=function(e,t,r,n){var s=e.left,i=e.top,o=e.right,a=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(oU,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(Dc,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Id,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Md,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Id," .").concat(Id,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Md," .").concat(Md,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Dc,`] {
    `).concat(aU,": ").concat(a,`px;
  }
`)},zN=function(){var e=parseInt(document.body.getAttribute(Dc)||"0",10);return isFinite(e)?e:0},SU=function(){j.useEffect(function(){return document.body.setAttribute(Dc,(zN()+1).toString()),function(){var e=zN()-1;e<=0?document.body.removeAttribute(Dc):document.body.setAttribute(Dc,e.toString())}},[])},d$=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;SU();var i=j.useMemo(function(){return xU(s)},[s]);return j.createElement(wU,{styles:_U(i,!t,s,r?"":"!important")})},W0=!1;if(typeof window<"u")try{var Hh=Object.defineProperty({},"passive",{get:function(){return W0=!0,!0}});window.addEventListener("test",Hh,Hh),window.removeEventListener("test",Hh,Hh)}catch{W0=!1}var Wl=W0?{passive:!1}:!1,EU=function(e){return e.tagName==="TEXTAREA"},f$=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!EU(e)&&r[t]==="visible")},jU=function(e){return f$(e,"overflowY")},NU=function(e){return f$(e,"overflowX")},UN=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=h$(e,n);if(s){var i=p$(e,n),o=i[1],a=i[2];if(o>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},kU=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},CU=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},h$=function(e,t){return e==="v"?jU(t):NU(t)},p$=function(e,t){return e==="v"?kU(t):CU(t)},TU=function(e,t){return e==="h"&&t==="rtl"?-1:1},AU=function(e,t,r,n,s){var i=TU(e,window.getComputedStyle(t).direction),o=i*n,a=r.target,l=t.contains(a),c=!1,d=o>0,f=0,h=0;do{if(!a)break;var p=p$(e,a),g=p[0],m=p[1],y=p[2],v=m-y-i*g;(g||v)&&h$(e,a)&&(f+=v,h+=g);var b=a.parentNode;a=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(c=!0),c},Yh=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},qN=function(e){return[e.deltaX,e.deltaY]},VN=function(e){return e&&"current"in e?e.current:e},PU=function(e,t){return e[0]===t[0]&&e[1]===t[1]},OU=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},DU=0,Kl=[];function $U(e){var t=j.useRef([]),r=j.useRef([0,0]),n=j.useRef(),s=j.useState(DU++)[0],i=j.useState(z1)[0],o=j.useRef(e);j.useEffect(function(){o.current=e},[e]),j.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=i$([e.lockRef.current],(e.shards||[]).map(VN),!0).filter(Boolean);return m.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=j.useCallback(function(m,y){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var v=Yh(m),b=r.current,x="deltaX"in m?m.deltaX:b[0]-v[0],S="deltaY"in m?m.deltaY:b[1]-v[1],_,N=m.target,k=Math.abs(x)>Math.abs(S)?"h":"v";if("touches"in m&&k==="h"&&N.type==="range")return!1;var C=UN(k,N);if(!C)return!0;if(C?_=k:(_=k==="v"?"h":"v",C=UN(k,N)),!C)return!1;if(!n.current&&"changedTouches"in m&&(x||S)&&(n.current=_),!_)return!0;var A=n.current||_;return AU(A,y,m,A==="h"?x:S)},[]),l=j.useCallback(function(m){var y=m;if(!(!Kl.length||Kl[Kl.length-1]!==i)){var v="deltaY"in y?qN(y):Yh(y),b=t.current.filter(function(_){return _.name===y.type&&(_.target===y.target||y.target===_.shadowParent)&&PU(_.delta,v)})[0];if(b&&b.should){y.cancelable&&y.preventDefault();return}if(!b){var x=(o.current.shards||[]).map(VN).filter(Boolean).filter(function(_){return _.contains(y.target)}),S=x.length>0?a(y,x[0]):!o.current.noIsolation;S&&y.cancelable&&y.preventDefault()}}},[]),c=j.useCallback(function(m,y,v,b){var x={name:m,delta:y,target:v,should:b,shadowParent:RU(v)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(S){return S!==x})},1)},[]),d=j.useCallback(function(m){r.current=Yh(m),n.current=void 0},[]),f=j.useCallback(function(m){c(m.type,qN(m),m.target,a(m,e.lockRef.current))},[]),h=j.useCallback(function(m){c(m.type,Yh(m),m.target,a(m,e.lockRef.current))},[]);j.useEffect(function(){return Kl.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Wl),document.addEventListener("touchmove",l,Wl),document.addEventListener("touchstart",d,Wl),function(){Kl=Kl.filter(function(m){return m!==i}),document.removeEventListener("wheel",l,Wl),document.removeEventListener("touchmove",l,Wl),document.removeEventListener("touchstart",d,Wl)}},[]);var p=e.removeScrollBar,g=e.inert;return j.createElement(j.Fragment,null,g?j.createElement(i,{styles:OU(s)}):null,p?j.createElement(d$,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function RU(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const IU=c$(u$,$U);var m$=j.forwardRef(function(e,t){return j.createElement(Mg,Yr({},e,{ref:t,sideCar:IU}))});m$.classNames=Mg.classNames;var MU=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Hl=new WeakMap,Gh=new WeakMap,Zh={},Jv=0,g$=function(e){return e&&(e.host||g$(e.parentNode))},LU=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=g$(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},FU=function(e,t,r,n){var s=LU(t,Array.isArray(e)?e:[e]);Zh[r]||(Zh[r]=new WeakMap);var i=Zh[r],o=[],a=new Set,l=new Set(s),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};s.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))d(h);else try{var p=h.getAttribute(n),g=p!==null&&p!=="false",m=(Hl.get(h)||0)+1,y=(i.get(h)||0)+1;Hl.set(h,m),i.set(h,y),o.push(h),m===1&&g&&Gh.set(h,!0),y===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return d(t),a.clear(),Jv++,function(){o.forEach(function(f){var h=Hl.get(f)-1,p=i.get(f)-1;Hl.set(f,h),i.set(f,p),h||(Gh.has(f)||f.removeAttribute(n),Gh.delete(f)),p||f.removeAttribute(r)}),Jv--,Jv||(Hl=new WeakMap,Hl=new WeakMap,Gh=new WeakMap,Zh={})}},y$=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=MU(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),FU(n,s,r,"aria-hidden")):function(){return null}},Lg="Dialog",[v$,b$]=_u(Lg),[BU,Zs]=v$(Lg),x$=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,a=j.useRef(null),l=j.useRef(null),[c,d]=Ig({prop:n,defaultProp:s??!1,onChange:i,caller:Lg});return u.jsx(BU,{scope:t,triggerRef:a,contentRef:l,contentId:Rd(),titleId:Rd(),descriptionId:Rd(),open:c,onOpenChange:d,onOpenToggle:j.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};x$.displayName=Lg;var w$="DialogTrigger",_$=j.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Zs(w$,r),i=_n(t,s.triggerRef);return u.jsx(Tr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":V1(s.open),...n,ref:i,onClick:br(e.onClick,s.onOpenToggle)})});_$.displayName=w$;var U1="DialogPortal",[zU,S$]=v$(U1,{forceMount:void 0}),E$=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=Zs(U1,t);return u.jsx(zU,{scope:t,forceMount:r,children:j.Children.map(n,o=>u.jsx(Hf,{present:r||i.open,children:u.jsx(s$,{asChild:!0,container:s,children:o})}))})};E$.displayName=U1;var cm="DialogOverlay",j$=j.forwardRef((e,t)=>{const r=S$(cm,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Zs(cm,e.__scopeDialog);return i.modal?u.jsx(Hf,{present:n||i.open,children:u.jsx(qU,{...s,ref:t})}):null});j$.displayName=cm;var UU=af("DialogOverlay.RemoveScroll"),qU=j.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Zs(cm,r);return u.jsx(m$,{as:UU,allowPinchZoom:!0,shards:[s.contentRef],children:u.jsx(Tr.div,{"data-state":V1(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),hl="DialogContent",N$=j.forwardRef((e,t)=>{const r=S$(hl,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Zs(hl,e.__scopeDialog);return u.jsx(Hf,{present:n||i.open,children:i.modal?u.jsx(VU,{...s,ref:t}):u.jsx(WU,{...s,ref:t})})});N$.displayName=hl;var VU=j.forwardRef((e,t)=>{const r=Zs(hl,e.__scopeDialog),n=j.useRef(null),s=_n(t,r.contentRef,n);return j.useEffect(()=>{const i=n.current;if(i)return y$(i)},[]),u.jsx(k$,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:br(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:br(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:br(e.onFocusOutside,i=>i.preventDefault())})}),WU=j.forwardRef((e,t)=>{const r=Zs(hl,e.__scopeDialog),n=j.useRef(!1),s=j.useRef(!1);return u.jsx(k$,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=r.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),k$=j.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,a=Zs(hl,r),l=j.useRef(null),c=_n(t,l);return iU(),u.jsxs(u.Fragment,{children:[u.jsx(r$,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:u.jsx(e$,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":V1(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(HU,{titleId:a.titleId}),u.jsx(GU,{contentRef:l,descriptionId:a.descriptionId})]})]})}),q1="DialogTitle",C$=j.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Zs(q1,r);return u.jsx(Tr.h2,{id:s.titleId,...n,ref:t})});C$.displayName=q1;var T$="DialogDescription",A$=j.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Zs(T$,r);return u.jsx(Tr.p,{id:s.descriptionId,...n,ref:t})});A$.displayName=T$;var P$="DialogClose",O$=j.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Zs(P$,r);return u.jsx(Tr.button,{type:"button",...n,ref:t,onClick:br(e.onClick,()=>s.onOpenChange(!1))})});O$.displayName=P$;function V1(e){return e?"open":"closed"}var D$="DialogTitleWarning",[KU,$$]=P7(D$,{contentName:hl,titleName:q1,docsSlug:"dialog"}),HU=({titleId:e})=>{const t=$$(D$),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return j.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},YU="DialogDescriptionWarning",GU=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${$$(YU).contentName}}.`;return j.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},R$=x$,I$=_$,M$=E$,W1=j$,K1=N$,H1=C$,Y1=A$,Fg=O$,L$="AlertDialog",[ZU,EPe]=_u(L$,[b$]),wo=b$(),F$=e=>{const{__scopeAlertDialog:t,...r}=e,n=wo(t);return u.jsx(R$,{...n,...r,modal:!0})};F$.displayName=L$;var XU="AlertDialogTrigger",B$=j.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=wo(r);return u.jsx(I$,{...s,...n,ref:t})});B$.displayName=XU;var JU="AlertDialogPortal",z$=e=>{const{__scopeAlertDialog:t,...r}=e,n=wo(t);return u.jsx(M$,{...n,...r})};z$.displayName=JU;var QU="AlertDialogOverlay",U$=j.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=wo(r);return u.jsx(W1,{...s,...n,ref:t})});U$.displayName=QU;var $c="AlertDialogContent",[e9,t9]=ZU($c),r9=k7("AlertDialogContent"),q$=j.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,i=wo(r),o=j.useRef(null),a=_n(t,o),l=j.useRef(null);return u.jsx(KU,{contentName:$c,titleName:V$,docsSlug:"alert-dialog",children:u.jsx(e9,{scope:r,cancelRef:l,children:u.jsxs(K1,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:br(s.onOpenAutoFocus,c=>{var d;c.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[u.jsx(r9,{children:n}),u.jsx(s9,{contentRef:o})]})})})});q$.displayName=$c;var V$="AlertDialogTitle",W$=j.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=wo(r);return u.jsx(H1,{...s,...n,ref:t})});W$.displayName=V$;var K$="AlertDialogDescription",H$=j.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=wo(r);return u.jsx(Y1,{...s,...n,ref:t})});H$.displayName=K$;var n9="AlertDialogAction",Y$=j.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=wo(r);return u.jsx(Fg,{...s,...n,ref:t})});Y$.displayName=n9;var G$="AlertDialogCancel",Z$=j.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=t9(G$,r),i=wo(r),o=_n(t,s);return u.jsx(Fg,{...i,...n,ref:o})});Z$.displayName=G$;var s9=({contentRef:e})=>{const t=`\`${$c}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${$c}\` by passing a \`${K$}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${$c}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return j.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},i9=F$,o9=B$,a9=z$,X$=U$,J$=q$,Q$=Y$,eR=Z$,tR=W$,rR=H$;const nR=i9,l9=o9,sR=a9,G1=j.forwardRef(({className:e,...t},r)=>u.jsx(X$,{className:J.cn("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));G1.displayName=X$.displayName;const Z1=j.forwardRef(({className:e,...t},r)=>u.jsxs(sR,{children:[u.jsx(G1,{}),u.jsx(J$,{ref:r,className:J.cn("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Z1.displayName=J$.displayName;const X1=({className:e,...t})=>u.jsx("div",{className:J.cn("flex flex-col space-y-2 text-center sm:text-left",e),...t});X1.displayName="AlertDialogHeader";const J1=({className:e,...t})=>u.jsx("div",{className:J.cn("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});J1.displayName="AlertDialogFooter";const Q1=j.forwardRef(({className:e,...t},r)=>u.jsx(tR,{ref:r,className:J.cn("text-lg font-semibold",e),...t}));Q1.displayName=tR.displayName;const e_=j.forwardRef(({className:e,...t},r)=>u.jsx(rR,{ref:r,className:J.cn("text-sm text-muted-foreground",e),...t}));e_.displayName=rR.displayName;const t_=j.forwardRef(({className:e,...t},r)=>u.jsx(Q$,{ref:r,className:J.cn("inline-flex h-10 items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground ring-offset-background transition-colors hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));t_.displayName=Q$.displayName;const r_=j.forwardRef(({className:e,...t},r)=>u.jsx(eR,{ref:r,className:J.cn("inline-flex h-10 items-center justify-center rounded-md border border-input bg-background px-4 py-2 text-sm font-medium ring-offset-background transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=open]:bg-slate-100 data-[state=open]:text-slate-500","sm:mt-0",e),...t}));r_.displayName=eR.displayName;function c9({open:e,onOpenChange:t,onConfirm:r,title:n,description:s,confirmText:i="Confirm",cancelText:o="Cancel"}){return u.jsx(nR,{open:e,onOpenChange:t,children:u.jsxs(Z1,{children:[u.jsxs(X1,{children:[u.jsx(Q1,{children:n}),u.jsx(e_,{children:s})]}),u.jsxs(J1,{children:[u.jsx(r_,{children:o}),u.jsx(t_,{asChild:!0,children:u.jsx(Qe,{variant:"destructive",onClick:r,children:i})})]})]})})}const u9=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Promise.resolve().then(()=>Su).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class n_ extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class d9 extends n_{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class WN extends n_{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class KN extends n_{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var K0;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(K0||(K0={}));var f9=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class h9{constructor(t,{headers:r={},customFetch:n,region:s=K0.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=u9(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return f9(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let a={},{region:l}=r;l||(l=this.region);const c=new URL(`${this.url}/${t}`);l&&l!=="any"&&(a["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(a["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(a["Content-Type"]="application/json",d=JSON.stringify(o)));const f=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:d}).catch(m=>{throw new d9(m)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new WN(f);if(!f.ok)throw new KN(f);let p=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return p==="application/json"?g=yield f.json():p==="application/octet-stream"?g=yield f.blob():p==="text/event-stream"?g=f:p==="multipart/form-data"?g=yield f.formData():g=yield f.text(),{data:g,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof KN||s instanceof WN?s.context:void 0}}})}}var gn={},s_={},Bg={},Yf={},zg={},Ug={},p9=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Zc=p9();const m9=Zc.fetch,iR=Zc.fetch.bind(Zc),oR=Zc.Headers,g9=Zc.Request,y9=Zc.Response,Su=Object.freeze(Object.defineProperty({__proto__:null,Headers:oR,Request:g9,Response:y9,default:iR,fetch:m9},Symbol.toStringTag,{value:"Module"})),v9=_7(Su);var qg={};Object.defineProperty(qg,"__esModule",{value:!0});let b9=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};qg.default=b9;var aR=sr&&sr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ug,"__esModule",{value:!0});const x9=aR(v9),w9=aR(qg);let _9=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=x9.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l,c;let d=null,f=null,h=null,p=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const b=await i.text();b===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?f=b:f=JSON.parse(b))}const y=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),v=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");y&&v&&v.length>1&&(h=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,p=406,g="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const y=await i.text();try{d=JSON.parse(y),Array.isArray(d)&&i.status===404&&(f=[],d=null,p=200,g="OK")}catch{i.status===404&&y===""?(p=204,g="No Content"):d={message:y}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,p=200,g="OK"),d&&this.shouldThrowOnError)throw new w9.default(d)}return{error:d,data:f,count:h,status:p,statusText:g}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Ug.default=_9;var S9=sr&&sr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zg,"__esModule",{value:!0});const E9=S9(Ug);let j9=class extends E9.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};zg.default=j9;var N9=sr&&sr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yf,"__esModule",{value:!0});const k9=N9(zg);let C9=class extends k9.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Yf.default=C9;var T9=sr&&sr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bg,"__esModule",{value:!0});const id=T9(Yf);let A9=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new id.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var s;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new id.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new id.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:r}={}){var n;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new id.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new id.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Bg.default=A9;var lR=sr&&sr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(s_,"__esModule",{value:!0});const P9=lR(Bg),O9=lR(Yf);let D9=class cR{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new P9.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new cR(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{l.searchParams.append(f,h)})):(a="POST",c=r);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new O9.default({method:a,url:l,headers:d,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};s_.default=D9;var Eu=sr&&sr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gn,"__esModule",{value:!0});gn.PostgrestError=gn.PostgrestBuilder=gn.PostgrestTransformBuilder=gn.PostgrestFilterBuilder=gn.PostgrestQueryBuilder=gn.PostgrestClient=void 0;const uR=Eu(s_);gn.PostgrestClient=uR.default;const dR=Eu(Bg);gn.PostgrestQueryBuilder=dR.default;const fR=Eu(Yf);gn.PostgrestFilterBuilder=fR.default;const hR=Eu(zg);gn.PostgrestTransformBuilder=hR.default;const pR=Eu(Ug);gn.PostgrestBuilder=pR.default;const mR=Eu(qg);gn.PostgrestError=mR.default;var $9=gn.default={PostgrestClient:uR.default,PostgrestQueryBuilder:dR.default,PostgrestFilterBuilder:fR.default,PostgrestTransformBuilder:hR.default,PostgrestBuilder:pR.default,PostgrestError:mR.default};const{PostgrestClient:R9,PostgrestQueryBuilder:APe,PostgrestFilterBuilder:PPe,PostgrestTransformBuilder:OPe,PostgrestBuilder:DPe,PostgrestError:$Pe}=$9;class I9{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const M9="2.15.1",L9=`realtime-js/${M9}`,F9="1.0.0",H0=1e4,B9=1e3,z9=100;var Ld;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ld||(Ld={}));var pr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(pr||(pr={}));var Ds;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ds||(Ds={}));var Y0;(function(e){e.websocket="websocket"})(Y0||(Y0={}));var Wa;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Wa||(Wa={}));class U9{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(t.slice(o,o+s));o=o+s;const l=n.decode(t.slice(o,o+i));o=o+i;const c=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class gR{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var xt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(xt||(xt={}));const HN=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=q9(o,e,t,s),i),{})},q9=(e,t,r,n)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?yR(i,o):G0(o)},yR=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return H9(t,r)}switch(e){case xt.bool:return V9(t);case xt.float4:case xt.float8:case xt.int2:case xt.int4:case xt.int8:case xt.numeric:case xt.oid:return W9(t);case xt.json:case xt.jsonb:return K9(t);case xt.timestamp:return Y9(t);case xt.abstime:case xt.date:case xt.daterange:case xt.int4range:case xt.int8range:case xt.money:case xt.reltime:case xt.text:case xt.time:case xt.timestamptz:case xt.timetz:case xt.tsrange:case xt.tstzrange:return G0(t);default:return G0(t)}},G0=e=>e,V9=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},W9=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},K9=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},H9=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>yR(t,a))}return e},Y9=e=>typeof e=="string"?e.replace(" ","T"):e,vR=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Qv{constructor(t,r,n={},s=H0){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var YN;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(YN||(YN={}));class Fd{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Fd.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Fd.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Fd.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),a={},l={};return this.map(i,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const f=i[c];if(f){const h=d.map(y=>y.presence_ref),p=f.map(y=>y.presence_ref),g=d.filter(y=>p.indexOf(y.presence_ref)<0),m=f.filter(y=>h.indexOf(y.presence_ref)<0);g.length>0&&(a[c]=g),m.length>0&&(l[c]=m)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const d=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),d.length>0){const f=t[a].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[a].unshift(...h)}n(a,d,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),t[a]=c,s(a,c,l),c.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var GN;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(GN||(GN={}));var Bd;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Bd||(Bd={}));var Ki;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ki||(Ki={}));class i_{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=pr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Qv(this,Ds.join,this.params,this.timeout),this.rejoinTimer=new gR(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pr.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=pr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=pr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ds.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Fd(this),this.broadcastEndpointURL=vR(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==pr.closed){const{config:{broadcast:i,presence:o,private:a}}=this.params,l=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[Bd.PRESENCE]&&this.bindings[Bd.PRESENCE].length>0,d={},f={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:c}),postgres_changes:l,private:a};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(h=>t==null?void 0:t(Ki.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(Ki.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var p;if(this.socket.setAuth(),h===void 0){t==null||t(Ki.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,m=(p=g==null?void 0:g.length)!==null&&p!==void 0?p:0,y=[];for(let v=0;v<m;v++){const b=g[v],{filter:{event:x,schema:S,table:_,filter:N}}=b,k=h&&h[v];if(k&&k.event===x&&k.schema===S&&k.table===_&&k.filter===N)y.push(Object.assign(Object.assign({},b),{id:k.id}));else{this.unsubscribe(),this.state=pr.errored,t==null||t(Ki.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(Ki.SUBSCRIBED);return}}).receive("error",h=>{this.state=pr.errored,t==null||t(Ki.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ki.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===pr.joined&&t===Bd.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=pr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ds.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Qv(this,Ds.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=pr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Qv(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>z9){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=Ds;if(n&&[a,l,c,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var g,m,y;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((y=(m=p.filter)===null||m===void 0?void 0:m.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var g,m,y,v,b,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const S=p.id,_=(g=p.filter)===null||g===void 0?void 0:g.event;return S&&((m=r.ids)===null||m===void 0?void 0:m.includes(S))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const S=(b=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return S==="*"||S===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:m,table:y,commit_timestamp:v,type:b,errors:x}=g;h=Object.assign(Object.assign({},{schema:m,table:y,commit_timestamp:v,eventType:b,new:{},old:{},errors:x}),this._getPayloadRecords(g))}p.callback(h,n)})}_isClosed(){return this.state===pr.closed}_isJoined(){return this.state===pr.joined}_isJoining(){return this.state===pr.joining}_isLeaving(){return this.state===pr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&i_.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ds.close,{},t)}_onError(t){this._on(Ds.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=HN(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=HN(t.columns,t.old_record)),r}}const ZN=()=>{},Xh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},G9=[1e3,2e3,5e3,1e4],Z9=1e4,X9=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class J9{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=H0,this.transport=null,this.heartbeatIntervalMs=Xh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ZN,this.ref=0,this.reconnectTimer=null,this.logger=ZN,this.conn=null,this.sendBuffer=[],this.serializer=new U9,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>Promise.resolve().then(()=>Su).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Y0.websocket}`,this.httpEndpoint=vR(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=I9.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:F9}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ld.connecting:return Wa.Connecting;case Ld.open:return Wa.Open;case Ld.closing:return Wa.Closing;default:return Wa.Closed}}isConnected(){return this.connectionState()===Wa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new i_(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(B9,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Xh.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ds.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([X9],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:L9};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Ds.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new gR(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Xh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,o,a,l,c;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:H0,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Xh.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(a=t==null?void 0:t.reconnectAfterMs)!==null&&a!==void 0?a:d=>G9[d-1]||Z9,this.encode=(l=t==null?void 0:t.encode)!==null&&l!==void 0?l:(d,f)=>f(JSON.stringify(d)),this.decode=(c=t==null?void 0:t.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class o_ extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function gr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Q9 extends o_{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Z0 extends o_{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var eq=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const bR=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Promise.resolve().then(()=>Su).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},tq=()=>eq(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Promise.resolve().then(()=>Su)).Response:Response}),X0=e=>{if(Array.isArray(e))return e.map(r=>X0(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=X0(n)}),t},rq=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Cl=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const eb=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),nq=(e,t,r)=>Cl(void 0,void 0,void 0,function*(){const n=yield tq();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const i=e.status||500,o=(s==null?void 0:s.statusCode)||i+"";t(new Q9(eb(s),i,o))}).catch(s=>{t(new Z0(eb(s),s))}):t(new Z0(eb(e),e))}),sq=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(rq(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function Gf(e,t,r,n,s,i){return Cl(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,sq(t,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>nq(l,a,n))})})}function um(e,t,r,n){return Cl(this,void 0,void 0,function*(){return Gf(e,"GET",t,r,n)})}function li(e,t,r,n,s){return Cl(this,void 0,void 0,function*(){return Gf(e,"POST",t,n,s,r)})}function J0(e,t,r,n,s){return Cl(this,void 0,void 0,function*(){return Gf(e,"PUT",t,n,s,r)})}function iq(e,t,r,n){return Cl(this,void 0,void 0,function*(){return Gf(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function xR(e,t,r,n,s){return Cl(this,void 0,void 0,function*(){return Gf(e,"DELETE",t,n,s,r)})}var nn=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const oq={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},XN={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class aq{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=bR(s)}uploadOrUpdate(t,r,n,s){return nn(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},XN),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),f=yield(t=="PUT"?J0:li)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(gr(i))return{data:null,error:i};throw i}})}upload(t,r,n){return nn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return nn(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:XN.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield J0(this.fetch,a.toString(),l,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(l){if(gr(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return nn(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield li(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new o_("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(gr(n))return{data:null,error:n};throw n}})}update(t,r,n){return nn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return nn(this,void 0,void 0,function*(){try{return{data:yield li(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(gr(s))return{data:null,error:s};throw s}})}copy(t,r,n){return nn(this,void 0,void 0,function*(){try{return{data:{path:(yield li(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(gr(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return nn(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield li(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(gr(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return nn(this,void 0,void 0,function*(){try{const s=yield li(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(gr(s))return{data:null,error:s};throw s}})}download(t,r){return nn(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield um(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(gr(a))return{data:null,error:a};throw a}})}info(t){return nn(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield um(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:X0(n),error:null}}catch(n){if(gr(n))return{data:null,error:n};throw n}})}exists(t){return nn(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield iq(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(gr(n)&&n instanceof Z0){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(t){return nn(this,void 0,void 0,function*(){try{return{data:yield xR(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(gr(r))return{data:null,error:r};throw r}})}list(t,r,n){return nn(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},oq),r),{prefix:t||""});return{data:yield li(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(gr(s))return{data:null,error:s};throw s}})}listV2(t,r){return nn(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield li(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(gr(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const lq="2.11.0",cq={"X-Client-Info":`storage-js/${lq}`};var Yl=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class uq{constructor(t,r={},n,s){const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},cq),r),this.fetch=bR(n)}listBuckets(){return Yl(this,void 0,void 0,function*(){try{return{data:yield um(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(gr(t))return{data:null,error:t};throw t}})}getBucket(t){return Yl(this,void 0,void 0,function*(){try{return{data:yield um(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(gr(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Yl(this,void 0,void 0,function*(){try{return{data:yield li(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(gr(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Yl(this,void 0,void 0,function*(){try{return{data:yield J0(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(gr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Yl(this,void 0,void 0,function*(){try{return{data:yield li(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(gr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Yl(this,void 0,void 0,function*(){try{return{data:yield xR(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(gr(r))return{data:null,error:r};throw r}})}}class dq extends uq{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new aq(this.url,this.headers,t,this.fetch)}}const fq="2.56.0";let Nd="";typeof Deno<"u"?Nd="deno":typeof document<"u"?Nd="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Nd="react-native":Nd="node";const hq={"X-Client-Info":`supabase-js-${Nd}/${fq}`},pq={headers:hq},mq={schema:"public"},gq={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},yq={};var vq=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const bq=e=>{let t;return e?t=e:typeof fetch>"u"?t=iR:t=fetch,(...r)=>t(...r)},xq=()=>typeof Headers>"u"?oR:Headers,wq=(e,t,r)=>{const n=bq(r),s=xq();return(i,o)=>vq(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:c}))})};var _q=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};function Sq(e){return e.endsWith("/")?e:e+"/"}function Eq(e,t){var r,n;const{db:s,auth:i,realtime:o,global:a}=e,{db:l,auth:c,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>_q(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const wR="2.71.1",sc=30*1e3,Q0=3,tb=Q0*sc,jq="http://localhost:9999",Nq="supabase.auth.token",kq={"X-Client-Info":`gotrue-js/${wR}`},ex="X-Supabase-Api-Version",_R={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Cq=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Tq=10*60*1e3;class a_ extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function We(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Aq extends a_{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Pq(e){return We(e)&&e.name==="AuthApiError"}class SR extends a_{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ga extends a_{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class qo extends ga{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Oq(e){return We(e)&&e.name==="AuthSessionMissingError"}class Jh extends ga{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Qh extends ga{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ep extends ga{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Dq(e){return We(e)&&e.name==="AuthImplicitGrantRedirectError"}class JN extends ga{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class tx extends ga{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function rb(e){return We(e)&&e.name==="AuthRetryableFetchError"}class QN extends ga{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class rx extends ga{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const dm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ek=` 	
\r=`.split(""),$q=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ek.length;t+=1)e[ek[t].charCodeAt(0)]=-2;for(let t=0;t<dm.length;t+=1)e[dm[t].charCodeAt(0)]=t;return e})();function tk(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(dm[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(dm[n]),t.queuedBits-=6}}function ER(e,t,r){const n=$q[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function rk(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Mq(o,n,r)};for(let o=0;o<e.length;o+=1)ER(e.charCodeAt(o),s,i);return t.join("")}function Rq(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Iq(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Rq(n,t)}}function Mq(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Lq(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)ER(e.charCodeAt(s),r,n);return new Uint8Array(t)}function Fq(e){const t=[];return Iq(e,r=>t.push(r)),new Uint8Array(t)}function Bq(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>tk(s,r,n)),tk(null,r,n),t.join("")}function zq(e){return Math.round(Date.now()/1e3)+e}function Uq(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ns=()=>typeof window<"u"&&typeof document<"u",Ia={tested:!1,writable:!1},jR=()=>{if(!Ns())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ia.tested)return Ia.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ia.tested=!0,Ia.writable=!0}catch{Ia.tested=!0,Ia.writable=!1}return Ia.writable};function qq(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const NR=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Promise.resolve().then(()=>Su).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Vq=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ic=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ma=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ro=async(e,t)=>{await e.removeItem(t)};class Vg{constructor(){this.promise=new Vg.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Vg.promiseConstructor=Promise;function nb(e){const t=e.split(".");if(t.length!==3)throw new rx("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Cq.test(t[n]))throw new rx("JWT not in base64url format");return{header:JSON.parse(rk(t[0])),payload:JSON.parse(rk(t[1])),signature:Lq(t[2]),raw:{header:t[0],payload:t[1]}}}async function Wq(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Kq(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function Hq(e){return("0"+e.toString(16)).substr(-2)}function Yq(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,Hq).join("")}async function Gq(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Zq(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Gq(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Gl(e,t,r=!1){const n=Yq();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await ic(e,`${t}-code-verifier`,s);const i=await Zq(n);return[i,n===i?"plain":"s256"]}const Xq=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Jq(e){const t=e.headers.get(ex);if(!t||!t.match(Xq))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Qq(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function eV(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const tV=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Zl(e){if(!tV.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function sb(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function nk(e){return JSON.parse(JSON.stringify(e))}var rV=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Ba=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),nV=[502,503,504];async function sk(e){var t;if(!Vq(e))throw new tx(Ba(e),0);if(nV.includes(e.status))throw new tx(Ba(e),e.status);let r;try{r=await e.json()}catch(i){throw new SR(Ba(i),i)}let n;const s=Jq(e);if(s&&s.getTime()>=_R["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new QN(Ba(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new qo}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new QN(Ba(r),e.status,r.weak_password.reasons);throw new Aq(Ba(r),e.status||500,n)}const sV=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Xe(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[ex]||(i[ex]=_R["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await iV(e,t,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function iV(e,t,r,n,s,i){const o=sV(t,n,s,i);let a;try{a=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new tx(Ba(l),0)}if(a.ok||await sk(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await sk(l)}}function Wi(e){var t;let r=null;cV(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=zq(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function ik(e){const t=Wi(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Xo(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function oV(e){return{data:e,error:null}}function aV(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=rV(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function lV(e){return e}function cV(e){return e.access_token&&e.refresh_token&&e.expires_in}const ib=["global","local","others"];var uV=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class dV{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=NR(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=ib[0]){if(ib.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ib.join(", ")}`);try{return await Xe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(We(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Xe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Xo})}catch(n){if(We(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=uV(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Xe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:aV,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(We(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Xe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Xo})}catch(r){if(We(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await Xe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:lV});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);c[`${y}Page`]=m}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(We(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Zl(t);try{return await Xe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Xo})}catch(r){if(We(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Zl(t);try{return await Xe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Xo})}catch(n){if(We(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Zl(t);try{return await Xe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Xo})}catch(n){if(We(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Zl(t.userId);try{const{data:r,error:n}=await Xe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(We(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Zl(t.userId),Zl(t.id);try{return{data:await Xe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(We(r))return{data:null,error:r};throw r}}}function ok(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function fV(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Xl={debug:!!(globalThis&&jR()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class kR extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class hV extends kR{}async function pV(e,t,r){Xl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Xl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Xl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Xl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Xl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new hV(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Xl.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}fV();const mV={url:jq,storageKey:Nq,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:kq,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ak(e,t,r){return await r()}const Jl={};class lf{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=lf.nextInstanceID,lf.nextInstanceID+=1,this.instanceID>0&&Ns()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},mV),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new dV({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=NR(s.fetch),this.lock=s.lock||ak,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ns()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=pV:this.lock=ak,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:jR()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ok(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=ok(this.memoryStorage)),Ns()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Jl[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Jl[this.storageKey]=Object.assign(Object.assign({},Jl[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Jl[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Jl[this.storageKey]=Object.assign(Object.assign({},Jl[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${wR}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=qq(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ns()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Dq(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return We(r)?{error:r}:{error:new SR("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await Xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Wi}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(We(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Gl(this.storage,this.storageKey)),i=await Xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:g},xform:Wi})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await Xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Wi})}else throw new Qh("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(We(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:a}=t;r=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ik})}else if("phone"in t){const{phone:i,password:o,options:a}=t;r=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ik})}else throw new Qh("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Jh}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(We(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,o,a,l,c,d,f,h,p;let g,m;if("message"in t)g=t.message,m=t.signature;else{const{chain:y,wallet:v,statement:b,options:x}=t;let S;if(Ns())if(typeof v=="object")S=v;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))S=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=v}const _=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const N=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),b?{statement:b}:null));let k;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")k=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)k=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)g=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),m=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${_.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((f=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...x.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const N=await S.signMessage(new TextEncoder().encode(g),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=N}}try{const{data:y,error:v}=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Bq(m)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Wi});if(v)throw v;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Jh}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:v})}catch(y){if(We(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const r=await Ma(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Wi});if(await Ro(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Jh}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(We(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,a=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Wi}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Jh}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(We(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Gl(this.storage,this.storageKey));const{error:f}=await Xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:d}=await Xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Qh("You must provide either an email or phone number.")}catch(a){if(We(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await Xe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Wi});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(We(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Gl(this.storage,this.storageKey)),await Xe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:oV})}catch(i){if(We(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new qo;const{error:s}=await Xe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(We(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await Xe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:a}=await Xe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Qh("You must provide either an email or phone number and a type")}catch(r){if(We(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ma(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<tb:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Ma(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=sb()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Xo}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new qo}:await Xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Xo})})}catch(r){if(We(r))return Oq(r)&&(await this._removeSession(),await Ro(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new qo;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Gl(this.storage,this.storageKey));const{data:c,error:d}=await Xe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Xo});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(We(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new qo;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=nb(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(We(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:a}=r;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new qo;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(We(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Ns())throw new ep("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ep(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new JN("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ep("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new JN("No code detected.");const{data:b,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!i||!a||!o||!c)throw new ep("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(a);let h=d+f;l&&(h=parseInt(l));const p=h-d;p*1e3<=sc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:m,error:y}=await this._getUser(i);if(y)throw y;const v={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(n){if(We(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ma(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(Pq(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Ro(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Uq(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Gl(this.storage,this.storageKey,!0));try{return await Xe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(We(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(We(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,c,d;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Xe(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ns()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(We(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await Xe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(We(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Kq(async s=>(s>0&&await Wq(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Xe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Wi})),(s,i)=>{const o=200*Math.pow(2,s);return i&&rb(i)&&Date.now()+o-n<sc})}catch(n){if(this._debug(r,"error",n),We(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ns()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Ma(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Ma(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await ic(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:sb()}else if(s&&!s.user&&!s.user){const o=await Ma(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Ro(this.storage,this.storageKey+"-user"),await ic(this.storage,this.storageKey,s)):s.user=sb()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<tb;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${tb}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),rb(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new qo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Vg;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new qo;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),We(i)){const o={session:null,error:i};return rb(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ic(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=nk(s);await ic(this.storage,this.storageKey,i)}else{const s=nk(r);await ic(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Ro(this.storage,this.storageKey),await Ro(this.storage,this.storageKey+"-code-verifier"),await Ro(this.storage,this.storageKey+"-user"),this.userStorage&&await Ro(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ns()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),sc);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/sc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${sc}ms, refresh threshold is ${Q0} ticks`),s<=Q0&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof kR)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ns()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Gl(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await Xe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(We(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await Xe(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(We(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await Xe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(We(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await Xe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(We(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=nb(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(a=>a.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+Tq>s)return n;const{data:i,error:o}=await Xe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:g}=await this.getSession();if(g||!p.session)return{data:null,error:g};n=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=nb(n);r!=null&&r.allowExpired||Qq(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const d=eV(s.alg),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,Fq(`${a}.${l}`)))throw new rx("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(We(n))return{data:null,error:n};throw n}}}lf.nextInstanceID=0;const gV=lf;class yV extends gV{constructor(t){super(t)}}var vV=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class bV{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=Sq(t),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:mq,realtime:yq,auth:Object.assign(Object.assign({},gq),{storageKey:c}),global:pq},f=Eq(n??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=wq(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new R9(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new dq(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new h9(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return vV(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:a,debug:l},c,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new yV({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),c),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new J9(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const CR=(e,t,r)=>new bV(e,t,r);function xV(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}xV()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const wV="https://opukvvmumyegtkukqint.supabase.co",_V="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9wdWt2dm11bXllZ3RrdWtxaW50Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUzMDM3ODQsImV4cCI6MjA3MDg3OTc4NH0.rqMHc03LOI4z5j1V0b0LHeW6J1fCQOiBm-I10tF82_s",lk=CR(wV,_V,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),SV=({folder:e,onUpload:t,onError:r,onStart:n,children:s,accept:i="image/png, image/jpeg, image/jpg, image/gif, image/webp",maxSizeMB:o=5})=>{const[a,l]=w.useState(!1),[c,d]=w.useState(!1),f=w.useRef(null),h=b=>{b.preventDefault(),b.stopPropagation(),a||l(!0)},p=b=>{b.preventDefault(),b.stopPropagation(),l(!1)},g=b=>{if(b.preventDefault(),b.stopPropagation(),l(!1),b.dataTransfer.files&&b.dataTransfer.files.length>0){const x=b.dataTransfer.files[0];v(x)}},m=()=>{var b;(b=f.current)==null||b.click()},y=b=>{if(b.target.files&&b.target.files.length>0){const x=b.target.files[0];v(x)}},v=async b=>{if(!b.type.match("image.*")){r("Only image files are allowed");return}if(b.size>o*1024*1024){r(`File size must be less than ${o}MB`);return}try{n==null||n(),d(!0);const x=b.name.split(".").pop(),S=`${Math.random().toString(36).substring(2)}.${x}`,_=`${e}/${S}`,{error:N}=await lk.storage.from("timeline").upload(_,b,{cacheControl:"3600",upsert:!1});if(N)throw N;const{data:{publicUrl:k}}=lk.storage.from("timeline").getPublicUrl(_);t(k)}catch(x){console.error("Error uploading file:",x),r(x instanceof Error?x.message:"Failed to upload image")}finally{d(!1)}};return w.useEffect(()=>()=>{f.current&&(f.current.value="")},[]),u.jsxs("div",{onClick:m,onDragOver:h,onDragLeave:p,onDrop:g,className:`relative ${c?"opacity-50 pointer-events-none":""} ${a?"ring-2 ring-primary ring-offset-2":""}`,children:[u.jsx("input",{type:"file",ref:f,onChange:y,className:"hidden",accept:i}),s]})},EV=()=>{const[e,t]=w.useState("login"),[r,n]=w.useState(null),[s,i]=w.useState(!1),[o,a]=w.useState(""),[l,c]=w.useState(""),[d,f]=w.useState(""),[h,p]=w.useState(""),[g,m]=w.useState(""),[y,v]=w.useState(""),[b,x]=w.useState(null),S=Je.useNavigate(),_=(A,I="info")=>{n({text:A,type:I});const M=setTimeout(()=>n(null),6e3);return()=>clearTimeout(M)},N=async A=>{if(A.preventDefault(),!o||!l){_("Please enter both email and password","error");return}i(!0);try{const{error:I}=await J.supabase.auth.signInWithPassword({email:o,password:l});if(I)throw I;S("/")}catch(I){const M=I instanceof Error?I.message:"Failed to sign in";_(M,"error")}finally{i(!1)}},k=async A=>{if(A.preventDefault(),h!==y){_("Passwords do not match","error");return}i(!0);try{const{error:I}=await J.supabase.auth.signUp({email:d,password:h,options:{data:{display_name:g}}});if(I)throw I;_("Account created! Please check your email to confirm your account.","success"),t("login")}catch(I){const M=I instanceof Error?I.message:"Failed to create account";_(M,"error")}finally{i(!1)}},C=A=>{if(!A){x(null);return}let I=0;A.length>=8&&I++,/[A-Z]/.test(A)&&I++,/[a-z]/.test(A)&&I++,/[0-9]/.test(A)&&I++,/[^A-Za-z0-9]/.test(A)&&I++,A.length>=12&&I++;const M=[{text:"Weak",className:"weak"},{text:"Fair",className:"fair"},{text:"Good",className:"good"},{text:"Strong",className:"strong"},{text:"Very Strong",className:"very-strong"}],L=Math.min(I,M.length-1);x(M[L])};return u.jsx("div",{className:"auth-page",children:u.jsxs("div",{className:"auth-container",children:[u.jsxs("div",{className:"auth-header",children:[u.jsx("h1",{children:e==="login"?"Welcome Back":"Create Account"}),u.jsx("p",{children:e==="login"?"Sign in to access your account":"Join our community today"})]}),r&&u.jsx("div",{className:`message ${r.type}`,children:r.text}),u.jsxs("div",{className:"tabs",children:[u.jsx("button",{className:`tab ${e==="login"?"active":""}`,onClick:()=>t("login"),type:"button",children:"Sign In"}),u.jsx("button",{className:`tab ${e==="signup"?"active":""}`,onClick:()=>t("signup"),type:"button",children:"Create Account"})]}),e==="login"?u.jsxs("form",{className:"auth-form",onSubmit:N,children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"loginEmail",children:"Email"}),u.jsx("input",{type:"email",id:"loginEmail",value:o,onChange:A=>a(A.target.value),placeholder:"Enter your email",required:!0,disabled:s})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"loginPassword",children:"Password"}),u.jsx("input",{type:"password",id:"loginPassword",value:l,onChange:A=>c(A.target.value),placeholder:"Enter your password",required:!0,disabled:s})]}),u.jsx("button",{type:"submit",className:"btn primary",disabled:s,children:s?"Signing in...":"Sign In"}),u.jsx("div",{className:"form-footer",children:u.jsx(Je.Link,{to:"/forgot-password",children:"Forgot password?"})})]}):u.jsxs("form",{className:"auth-form",onSubmit:k,children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"signupDisplayName",children:"Display Name"}),u.jsx("input",{type:"text",id:"signupDisplayName",value:g,onChange:A=>m(A.target.value),placeholder:"Enter your name",required:!0,disabled:s})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"signupEmail",children:"Email"}),u.jsx("input",{type:"email",id:"signupEmail",value:d,onChange:A=>f(A.target.value),placeholder:"your.email@example.com",required:!0,disabled:s})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"signupPassword",children:"Password"}),u.jsx("input",{type:"password",id:"signupPassword",value:h,onChange:A=>{p(A.target.value),C(A.target.value)},placeholder:"Create a strong password",required:!0,disabled:s}),b&&u.jsxs("div",{className:`password-strength ${b.className}`,children:["Password strength: ",b.text]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),u.jsx("input",{type:"password",id:"confirmPassword",value:y,onChange:A=>v(A.target.value),placeholder:"Re-enter your password",required:!0,disabled:s})]}),u.jsx("button",{type:"submit",className:"btn primary",disabled:s,children:s?"Creating account...":"Create Account"})]}),u.jsx("div",{className:"auth-divider",children:u.jsx("span",{children:"or continue with"})}),u.jsxs("div",{className:"social-logins",children:[u.jsx("button",{type:"button",className:"btn social google",onClick:()=>_("Google login is not yet implemented","info"),disabled:s,children:"Google"}),u.jsx("button",{type:"button",className:"btn social github",onClick:()=>_("GitHub login is not yet implemented","info"),disabled:s,children:"GitHub"})]}),u.jsx("div",{className:"auth-footer",children:e==="login"?u.jsxs(u.Fragment,{children:["Don't have an account?"," ",u.jsx("button",{type:"button",className:"text-link",onClick:()=>t("signup"),children:"Sign up"})]}):u.jsxs(u.Fragment,{children:["Already have an account?"," ",u.jsx("button",{type:"button",className:"text-link",onClick:()=>t("login"),children:"Sign in"})]})})]})})};/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jV=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),TR=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var NV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...a},l)=>w.createElement("svg",{ref:l,...NV,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:TR("lucide",s),...a},[...o.map(([c,d])=>w.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=(e,t)=>{const r=w.forwardRef(({className:n,...s},i)=>w.createElement(kV,{ref:i,iconNode:t,className:TR(`lucide-${jV(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=Oe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=Oe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CV=Oe("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xc=Oe("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TV=Oe("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AV=Oe("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=Oe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=Oe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PV=Oe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=Oe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=Oe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=Oe("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OV=Oe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=Oe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=Oe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DV=Oe("CloudUpload",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $V=Oe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=Oe("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RV=Oe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=Oe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IV=Oe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=Oe("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MV=Oe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=Oe("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=Oe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FV=Oe("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=Oe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BV=Oe("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zV=Oe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UV=Oe("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qV=Oe("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qc=Oe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $R=Oe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=Oe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=Oe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=Oe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=Oe("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VV=Oe("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WV=Oe("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KV=Oe("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=Oe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=Oe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=Oe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=Oe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=Oe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=Oe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HV=Oe("SquareCheckBig",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YV=Oe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=Oe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=Oe("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=Oe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=Oe("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XV=Oe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JV=Oe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=Oe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=Oe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=Oe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QV=Oe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),LR=({userProfile:e})=>u.jsxs("div",{children:[u.jsx("h2",{className:"section-title text-2xl font-semibold text-secondary mb-4 border-b-2 border-primary-dark pb-2",children:"Dashboard Overview"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[u.jsxs("div",{className:"bg-primary-dark/20 border border-primary-dark rounded-lg p-4 text-center",children:[u.jsx("span",{className:"block text-3xl font-bold text-secondary",children:e.books_read}),u.jsx("div",{className:"text-sm text-primary-light mt-1",children:"Books Read"})]}),u.jsxs("div",{className:"bg-primary-dark/20 border border-primary-dark rounded-lg p-4 text-center",children:[u.jsx("span",{className:"block text-3xl font-bold text-secondary",children:e.currently_reading}),u.jsx("div",{className:"text-sm text-primary-light mt-1",children:"Currently Reading"})]}),u.jsxs("div",{className:"bg-primary-dark/20 border border-primary-dark rounded-lg p-4 text-center",children:[u.jsx("span",{className:"block text-3xl font-bold text-secondary",children:e.reading_hours}),u.jsx("div",{className:"text-sm text-primary-light mt-1",children:"Reading Hours"})]}),u.jsxs("div",{className:"bg-primary-dark/20 border border-primary-dark rounded-lg p-4 text-center",children:[u.jsx("span",{className:"block text-3xl font-bold text-secondary",children:e.achievements_count}),u.jsx("div",{className:"text-sm text-primary-light mt-1",children:"Achievements"})]})]}),u.jsx("h3",{className:"text-xl font-semibold text-secondary mb-4",children:"Recent Activity"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-background-dark/50 border border-background-dark rounded-lg p-4 flex items-center gap-4",children:[u.jsx("div",{className:"w-16 h-20 bg-primary-dark flex items-center justify-center text-lg font-bold rounded-md",children:"V1"}),u.jsxs("div",{children:[u.jsx("div",{className:"font-semibold text-text-light",children:"Volume 1: Foundations of Ruin"}),u.jsx("div",{className:"text-sm text-primary-light",children:"Completed  Read 3 days ago"})]})]}),u.jsxs("div",{className:"bg-background-dark/50 border border-background-dark rounded-lg p-4 flex items-center gap-4",children:[u.jsx("div",{className:"w-16 h-20 bg-primary-dark flex items-center justify-center text-lg font-bold rounded-md",children:"A3"}),u.jsxs("div",{children:[u.jsx("div",{className:"font-semibold text-text-light",children:"Arc 3: The Silent Accord"}),u.jsx("div",{className:"text-sm text-primary-light",children:"Chapter 5 of 8"}),u.jsx("div",{className:"w-full bg-primary-dark/30 rounded-full h-1.5 mt-1",children:u.jsx("div",{className:"bg-secondary h-1.5 rounded-full",style:{width:"62.5%"}})})]})]})]})]}),FR=({userProfile:e,onProfileUpdate:t})=>{const[r,n]=w.useState(e.display_name||""),[s,i]=w.useState(e.bio||""),[o,a]=w.useState(e.location||""),[l,c]=w.useState(e.favorite_genre||""),[d,f]=w.useState(e.reading_goal||0),[h,p]=w.useState(!1);w.useEffect(()=>{n(e.display_name||""),i(e.bio||""),a(e.location||""),c(e.favorite_genre||""),f(e.reading_goal||0)},[e]);const g=async m=>{m.preventDefault(),p(!0);const y={display_name:r,bio:s,location:o,favorite_genre:l,reading_goal:d,updated_at:new Date().toISOString()},{error:v}=await J.supabase.from("profiles").update(y).eq("id",e.id);v?(console.error("Error updating profile:",v.message),alert("Error updating profile!")):(alert("Profile updated successfully!"),t({...e,...y})),p(!1)};return u.jsxs("div",{children:[u.jsx("h2",{className:"section-title text-2xl font-semibold text-secondary mb-4 border-b-2 border-primary-dark pb-2",children:"Edit Profile"}),u.jsxs("form",{onSubmit:g,children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"block text-text-light text-sm font-bold mb-2",children:"Username"}),u.jsx("input",{type:"text",className:"w-full p-2 rounded-md bg-background-dark border border-primary-dark text-text-light",value:e.username,readOnly:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"block text-text-light text-sm font-bold mb-2",children:"Display Name"}),u.jsx("input",{type:"text",className:"w-full p-2 rounded-md bg-background-dark border border-primary-dark text-text-light",value:r,onChange:m=>n(m.target.value)})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"block text-text-light text-sm font-bold mb-2",children:"Email"}),u.jsx("input",{type:"email",className:"w-full p-2 rounded-md bg-background-dark border border-primary-dark text-text-light",value:e.email||"N/A",readOnly:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"block text-text-light text-sm font-bold mb-2",children:"Location"}),u.jsx("input",{type:"text",className:"w-full p-2 rounded-md bg-background-dark border border-primary-dark text-text-light",value:o,onChange:m=>a(m.target.value)})]})]}),u.jsxs("div",{className:"form-group mb-4",children:[u.jsx("label",{className:"block text-text-light text-sm font-bold mb-2",children:"Bio"}),u.jsx("textarea",{className:"w-full p-2 rounded-md bg-background-dark border border-primary-dark text-text-light h-24 resize-y",value:s,onChange:m=>i(m.target.value)})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"block text-text-light text-sm font-bold mb-2",children:"Favorite Genre"}),u.jsx("input",{type:"text",className:"w-full p-2 rounded-md bg-background-dark border border-primary-dark text-text-light",value:l,onChange:m=>c(m.target.value)})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"block text-text-light text-sm font-bold mb-2",children:"Reading Goal (Books/Year)"}),u.jsx("input",{type:"number",className:"w-full p-2 rounded-md bg-background-dark border border-primary-dark text-text-light",value:d,onChange:m=>f(parseInt(m.target.value))})]})]}),u.jsx("button",{type:"submit",className:"bg-secondary hover:bg-secondary-dark text-background-dark font-bold py-2 px-4 rounded-md transition-colors duration-300",disabled:h,children:h?"Saving...":"Save Changes"})]})]})},BR=({userProfile:e})=>{const[t,r]=w.useState([]),[n,s]=w.useState(!0),[i,o]=w.useState(null);w.useEffect(()=>{(async()=>{try{s(!0);const{data:{user:c}}=await J.supabase.auth.getUser();if(!c){o("User not authenticated."),s(!1);return}const d=new Date().toISOString();let h=J.supabase.from("subscriptions").select("id").eq("user_id",c.id).eq("is_active",!0).lte("start_date",d);h=h.or(`current_period_end.gte.${d},current_period_end.is.null`);const{data:p,error:g}=await h;if(g)throw g;const m=p;if(!m||m.length===0){o("No active subscriptions found."),s(!1);return}const{data:y,error:v}=await J.supabase.from("entitlements").select("scope").eq("user_id",c.id);if(v)throw v;if(!y||y.length===0){o("No content entitlements found for your active subscription."),s(!1);return}const b=y.map(_=>_.scope.split(":")[1]),{data:x,error:S}=await J.supabase.from("chapters").select("*").in("work_id",b).eq("is_published",!0).order("chapter_number",{ascending:!0});if(S)throw S;r(x||[])}catch(c){console.error("Error fetching chapters:",c.message),o("Failed to load chapters: "+c.message)}finally{s(!1)}})()},[]);const a=async l=>{var c;try{const d=await fetch(`/api/chapters/secure/${l}`,{headers:{Authorization:`Bearer ${(c=(await J.supabase.auth.getSession()).data.session)==null?void 0:c.access_token}`}});if(!d.ok){const h=await d.json();throw new Error(h.error||"Failed to get signed URL.")}const f=await d.json();window.open(f.signedUrl,"_blank")}catch(d){console.error("Error reading chapter:",d.message),alert("Error reading chapter: "+d.message)}};return n?u.jsx("div",{className:"text-center py-4",children:"Loading chapters..."}):i?u.jsx("div",{className:"text-center py-4 text-red-500",children:i}):t.length===0?u.jsx("div",{className:"text-center py-4",children:"No chapters found for your active subscriptions."}):u.jsxs("div",{className:"p-4",children:[u.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Your Chapters"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(l=>u.jsxs("div",{className:"bg-background-dark p-4 rounded-lg shadow-md",children:[u.jsx("h3",{className:"text-xl font-medium text-primary",children:l.title}),u.jsxs("p",{className:"text-text-light",children:["Chapter ",l.chapter_number]}),u.jsxs("p",{className:"text-text-light text-sm",children:["Work ID: ",l.work_id]}),u.jsx("button",{className:"mt-4 bg-primary hover:bg-primary-dark text-white font-bold py-2 px-4 rounded",onClick:()=>a(l.id),children:"Read Chapter"})]},l.id))})]})},zR=({userProfile:e})=>u.jsxs("div",{children:[u.jsx("h2",{className:"section-title text-2xl font-semibold text-secondary mb-4 border-b-2 border-primary-dark pb-2",children:"Achievements"}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"bg-primary-dark/20 border border-primary-dark rounded-lg p-4 text-center transition-all duration-300 hover:scale-105",children:[u.jsx("span",{className:"block text-4xl mb-2",children:""}),u.jsx("div",{className:"font-semibold text-text-light text-sm",children:"First Chapter"})]}),u.jsxs("div",{className:"bg-primary-dark/20 border border-primary-dark rounded-lg p-4 text-center transition-all duration-300 hover:scale-105",children:[u.jsx("span",{className:"block text-4xl mb-2",children:""}),u.jsx("div",{className:"font-semibold text-text-light text-sm",children:"Book Reviewer"})]}),u.jsxs("div",{className:"bg-primary-dark/20 border border-primary-dark rounded-lg p-4 text-center transition-all duration-300 hover:scale-105",children:[u.jsx("span",{className:"block text-4xl mb-2",children:""}),u.jsx("div",{className:"font-semibold text-text-light text-sm",children:"Reading Streak"})]}),u.jsxs("div",{className:"bg-primary-dark/20 border border-primary-dark rounded-lg p-4 text-center transition-all duration-300 hover:scale-105",children:[u.jsx("span",{className:"block text-4xl mb-2",children:""}),u.jsx("div",{className:"font-semibold text-text-light text-sm",children:"Beta Reader"})]}),u.jsxs("div",{className:"bg-background-dark/50 border border-background-dark rounded-lg p-4 text-center transition-all duration-300 hover:scale-105",children:[u.jsx("span",{className:"block text-4xl mb-2",children:""}),u.jsx("div",{className:"font-semibold text-text-light text-sm",children:"Completionist"})]}),u.jsxs("div",{className:"bg-background-dark/50 border border-background-dark rounded-lg p-4 text-center transition-all duration-300 hover:scale-105",children:[u.jsx("span",{className:"block text-4xl mb-2",children:""}),u.jsx("div",{className:"font-semibold text-text-light text-sm",children:"Super Fan"})]})]})]}),UR=({userProfile:e})=>u.jsxs("div",{children:[u.jsx("h2",{className:"section-title text-2xl font-semibold text-secondary mb-4 border-b-2 border-primary-dark pb-2",children:"Preferences"}),u.jsxs("div",{className:"bg-background-dark/50 rounded-lg p-6 mb-6",children:[u.jsx("h3",{className:"text-xl font-semibold text-secondary mb-4",children:"Reading Preferences"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"darkMode",className:"form-checkbox h-5 w-5 text-secondary rounded",defaultChecked:!0}),u.jsx("label",{htmlFor:"darkMode",className:"ml-2 text-text-light",children:"Dark mode"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"autoBookmark",className:"form-checkbox h-5 w-5 text-secondary rounded"}),u.jsx("label",{htmlFor:"autoBookmark",className:"ml-2 text-text-light",children:"Auto-bookmark progress"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"readingReminders",className:"form-checkbox h-5 w-5 text-secondary rounded",defaultChecked:!0}),u.jsx("label",{htmlFor:"readingReminders",className:"ml-2 text-text-light",children:"Reading reminders"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"spoilerWarnings",className:"form-checkbox h-5 w-5 text-secondary rounded",defaultChecked:!0}),u.jsx("label",{htmlFor:"spoilerWarnings",className:"ml-2 text-text-light",children:"Spoiler warnings"})]})]})]}),u.jsxs("div",{className:"bg-background-dark/50 rounded-lg p-6 mb-6",children:[u.jsx("h3",{className:"text-xl font-semibold text-secondary mb-4",children:"Notifications"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"newReleases",className:"form-checkbox h-5 w-5 text-secondary rounded",defaultChecked:!0}),u.jsx("label",{htmlFor:"newReleases",className:"ml-2 text-text-light",children:"New releases"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"blogUpdates",className:"form-checkbox h-5 w-5 text-secondary rounded",defaultChecked:!0}),u.jsx("label",{htmlFor:"blogUpdates",className:"ml-2 text-text-light",children:"Blog updates"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"communityUpdates",className:"form-checkbox h-5 w-5 text-secondary rounded"}),u.jsx("label",{htmlFor:"communityUpdates",className:"ml-2 text-text-light",children:"Community updates"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"betaInvites",className:"form-checkbox h-5 w-5 text-secondary rounded",defaultChecked:!0}),u.jsx("label",{htmlFor:"betaInvites",className:"ml-2 text-text-light",children:"Beta reader invites"})]})]})]}),u.jsx("button",{className:"bg-secondary hover:bg-secondary-dark text-background-dark font-bold py-2 px-4 rounded-md transition-colors duration-300",children:"Save Preferences"})]}),qR=({userProfile:e})=>u.jsxs("div",{children:[u.jsx("h2",{className:"section-title text-2xl font-semibold text-secondary mb-4 border-b-2 border-primary-dark pb-2",children:"Security Settings"}),u.jsxs("div",{className:"bg-background-dark/50 rounded-lg p-6 mb-6",children:[u.jsx("h3",{className:"text-xl font-semibold text-secondary mb-4",children:"Change Password"}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-text-light text-sm font-bold mb-2",children:"Current Password"}),u.jsx("input",{type:"password",className:"w-full p-2 rounded-md bg-background-dark border border-primary-dark text-text-light"})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-text-light text-sm font-bold mb-2",children:"New Password"}),u.jsx("input",{type:"password",className:"w-full p-2 rounded-md bg-background-dark border border-primary-dark text-text-light"})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-text-light text-sm font-bold mb-2",children:"Confirm New Password"}),u.jsx("input",{type:"password",className:"w-full p-2 rounded-md bg-background-dark border border-primary-dark text-text-light"})]}),u.jsx("button",{className:"bg-secondary hover:bg-secondary-dark text-background-dark font-bold py-2 px-4 rounded-md transition-colors duration-300",children:"Update Password"})]}),u.jsxs("div",{className:"bg-background-dark/50 rounded-lg p-6 mb-6",children:[u.jsx("h3",{className:"text-xl font-semibold text-secondary mb-4",children:"Account Settings"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"twoFactor",className:"form-checkbox h-5 w-5 text-secondary rounded"}),u.jsx("label",{htmlFor:"twoFactor",className:"ml-2 text-text-light",children:"Enable two-factor authentication"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"loginNotifications",className:"form-checkbox h-5 w-5 text-secondary rounded",defaultChecked:!0}),u.jsx("label",{htmlFor:"loginNotifications",className:"ml-2 text-text-light",children:"Login notifications"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"profilePublic",className:"form-checkbox h-5 w-5 text-secondary rounded",defaultChecked:!0}),u.jsx("label",{htmlFor:"profilePublic",className:"ml-2 text-text-light",children:"Public profile"})]})]})]}),u.jsxs("div",{className:"bg-red-900/20 border border-red-700 rounded-lg p-6",children:[u.jsx("h3",{className:"text-xl font-semibold text-red-500 mb-4",children:"Danger Zone"}),u.jsx("button",{className:"bg-red-700 hover:bg-red-800 text-white font-bold py-2 px-4 rounded-md transition-colors duration-300",children:"Delete Account"})]})]}),eW=()=>{var m;const{user:e,userProfile:t,isLoading:r,isAuthenticated:n}=J.useAuth(),[s,i]=w.useState("overview"),[o,a]=w.useState(null),l=Je.useNavigate(),c=t;w.useEffect(()=>{!r&&!n&&l("/login")},[r,n,l]);const d=async()=>{await J.supabase.auth.signOut(),l("/login")},f=y=>{};if(r)return u.jsxs("div",{className:"flex justify-center items-center min-h-screen",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"}),u.jsx("span",{className:"ml-4 text-text-light",children:"Loading your profile..."})]});if(o)return u.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:[u.jsxs("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 w-full max-w-2xl",role:"alert",children:[u.jsx("p",{className:"font-bold",children:"Error"}),u.jsx("p",{children:o})]}),u.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-primary text-white rounded hover:bg-primary-dark transition-colors",children:"Try Again"})]});if(!c)return u.jsx("div",{className:"flex justify-center items-center min-h-screen",children:u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-text-light text-lg mb-4",children:"No profile data found."}),u.jsx("button",{onClick:()=>l("/login"),className:"px-4 py-2 bg-primary text-white rounded hover:bg-primary-dark transition-colors",children:"Go to Login"})]})});const h=y=>{i(y)},p=[{id:"overview",name:"Overview",icon:u.jsx(Rc,{size:18}),component:u.jsx(LR,{userProfile:c})},{id:"profile",name:"Profile",icon:u.jsx(Rc,{size:18}),component:u.jsx(FR,{userProfile:c,onProfileUpdate:f})},{id:"reading",name:"Reading",icon:u.jsx(Xc,{size:18}),component:u.jsx(BR,{userProfile:c})},{id:"achievements",name:"Achievements",icon:u.jsx(CV,{size:18}),component:u.jsx(zR,{userProfile:c})},{id:"preferences",name:"Preferences",icon:u.jsx(MR,{size:18}),component:u.jsx(UR,{userProfile:c})},{id:"security",name:"Security",icon:u.jsx(uk,{size:18}),component:u.jsx(qR,{userProfile:c})}],g=[{label:"Books Read",value:c.books_read||0,icon:u.jsx(AV,{size:16})},{label:"Reading Goal",value:`${c.reading_goal||0} books`,icon:u.jsx(Kg,{size:16})},{label:"Reading Streak",value:`${c.reading_streak||0} days`,icon:u.jsx(c_,{size:16})},{label:"Account Security",value:"Strong",icon:u.jsx($R,{size:16})}];return u.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background-dark to-background-darker text-text-light",children:[u.jsx("div",{className:"bg-background-darker/50 backdrop-blur-md border-b border-gray-800",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-white",children:"Account Dashboard"}),u.jsx("p",{className:"mt-2 text-gray-400",children:"Manage your profile and preferences"})]}),u.jsxs("button",{onClick:d,className:"mt-4 md:mt-0 inline-flex items-center px-4 py-2 border border-red-600 text-red-400 rounded-md hover:bg-red-600/10 transition-colors duration-200",children:[u.jsx(RR,{size:16,className:"mr-2"}),"Sign Out"]})]})})}),u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:u.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[u.jsxs("aside",{className:"w-full lg:w-64 flex-shrink-0",children:[u.jsxs("div",{className:"bg-background-light/50 backdrop-blur-sm rounded-xl overflow-hidden border border-gray-800",children:[u.jsxs("div",{className:"p-6 text-center border-b border-gray-800",children:[u.jsxs("div",{className:"relative inline-block",children:[u.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-primary to-secondary flex items-center justify-center text-4xl font-bold text-white",children:c.display_name?c.display_name.charAt(0).toUpperCase():c.username.charAt(0).toUpperCase()}),u.jsx("button",{className:"absolute -bottom-1 -right-1 bg-primary w-8 h-8 rounded-full flex items-center justify-center text-white hover:bg-primary/90 transition-colors",children:u.jsx(Rc,{size:16})})]}),u.jsx("h2",{className:"mt-4 text-xl font-semibold text-white",children:c.display_name||c.username}),u.jsx("p",{className:"text-sm text-gray-400",children:c.role||"Member"})]}),u.jsx("nav",{className:"p-2",children:u.jsxs("ul",{className:"space-y-1",children:[p.map(y=>u.jsx("li",{children:u.jsxs("button",{onClick:()=>h(y.id),className:`w-full flex items-center justify-between px-4 py-3 text-sm font-medium rounded-lg transition-colors ${s===y.id?"bg-primary/10 text-primary":"text-gray-300 hover:bg-gray-800/50 hover:text-white"}`,children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"mr-3",children:y.icon}),y.name]}),u.jsx(cf,{size:16,className:"text-gray-500"})]})},y.id)),c.role==="admin"&&u.jsx("li",{children:u.jsxs("a",{href:"/admin",className:"w-full flex items-center justify-between px-4 py-3 text-sm font-medium text-amber-400 rounded-lg hover:bg-amber-900/20 transition-colors",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(uk,{size:18,className:"mr-3"}),"Admin Dashboard"]}),u.jsx(cf,{size:16})]})})]})})]}),s==="overview"&&u.jsxs("div",{className:"mt-6 bg-background-light/50 backdrop-blur-sm rounded-xl p-6 border border-gray-800",children:[u.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-4",children:"YOUR STATS"}),u.jsx("div",{className:"space-y-4",children:g.map((y,v)=>u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-lg bg-primary/10 flex items-center justify-center text-primary",children:y.icon}),u.jsxs("div",{className:"ml-3",children:[u.jsx("p",{className:"text-sm font-medium text-gray-300",children:y.label}),u.jsx("p",{className:"text-lg font-semibold text-white",children:y.value})]})]},v))})]})]}),u.jsx("main",{className:"flex-1",children:u.jsx("div",{className:"bg-background-light/50 backdrop-blur-sm rounded-xl border border-gray-800 overflow-hidden",children:u.jsx("div",{className:"p-6",children:(m=p.find(y=>y.id===s))==null?void 0:m.component})})})]})})]})},tW=[{name:"Dashboard",href:"/account/admin",icon:zV},{name:"Posts",href:"/account/admin/posts",icon:IV},{name:"Media",href:"/account/admin/media",icon:XV},{name:"Users",href:"/account/admin/users",icon:pm},{name:"Beta Applications",href:"/account/admin/beta-applications",icon:pm},{name:"Store",href:"/account/admin/store",icon:GV},{name:"Works",href:"/account/admin/works",icon:Xc},{name:"Timeline",href:"/account/admin/timeline/events",icon:PR},{name:"Settings",href:"/account/admin/settings",icon:MR}],rW=()=>{var d,f;const[e,t]=w.useState(!1),[r,n]=w.useState(!1),s=Je.useLocation(),i=Je.useNavigate(),{user:o,userProfile:a}=J.useAuth();w.useEffect(()=>{n(!1)},[s]);const l=()=>{t(!e)},c=async()=>{await J.supabase.auth.signOut(),i("/login")};return u.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 transition-colors duration-200 flex",children:[u.jsx("button",{onClick:l,className:J.cn("fixed top-4 left-0 z-50 p-2 rounded-r-lg bg-white dark:bg-gray-800 shadow-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-all duration-300",e?"translate-x-0":"translate-x-64","lg:hidden"),"aria-label":e?"Expand sidebar":"Collapse sidebar",children:e?u.jsx(cf,{size:20}):u.jsx(PV,{size:20})}),u.jsx("aside",{className:J.cn("fixed top-0 left-0 z-40 h-screen bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 transition-all duration-300 ease-in-out",e?"w-0 opacity-0":"w-64 opacity-100",r?"translate-x-0":"-translate-x-full lg:translate-x-0","lg:opacity-100"),children:u.jsxs("div",{className:"h-full flex flex-col",children:[u.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:u.jsx("h2",{className:"text-xl font-bold",children:"Admin"})}),u.jsx("nav",{className:"flex-1 overflow-y-auto py-4 px-2",children:u.jsx("ul",{className:"space-y-1",children:tW.map(h=>u.jsx("li",{children:u.jsxs(Je.NavLink,{to:h.href,end:h.href==="/account/admin",className:({isActive:p})=>J.cn("flex items-center p-3 rounded-lg transition-colors",p?"bg-blue-50 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400":"hover:bg-gray-100 dark:hover:bg-gray-700",e?"justify-center":"space-x-3"),children:[u.jsx(h.icon,{size:20,className:"flex-shrink-0"}),!e&&u.jsx("span",{children:h.name})]})},h.name))})}),u.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:u.jsxs("div",{className:J.cn("flex items-center",e?"justify-center":"justify-between"),children:[!e&&u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-9 h-9 rounded-full bg-blue-500 flex items-center justify-center text-white font-bold",children:((d=a==null?void 0:a.display_name)==null?void 0:d.charAt(0))||((f=o==null?void 0:o.email)==null?void 0:f.charAt(0).toUpperCase())}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium truncate max-w-[140px]",children:(a==null?void 0:a.display_name)||"Admin User"}),u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate max-w-[140px]",children:o==null?void 0:o.email})]})]}),u.jsx("button",{onClick:c,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",title:"Sign out",children:u.jsx(RR,{size:18})})]})})]})}),u.jsx("div",{className:J.cn("transition-all duration-300 min-h-screen",e?"lg:ml-0":"lg:ml-64","ml-0 w-full"),children:u.jsx("div",{className:"w-full max-w-[2000px] mx-auto px-4 py-6",children:u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4 md:p-6",children:u.jsx(Je.Outlet,{})})})})]})},nW=({children:e})=>{var o,a;const[t,r]=w.useState(!0),[n,s]=w.useState({isAuthenticated:!1,isAdmin:!1}),i=Je.useLocation();return w.useEffect(()=>{(async()=>{console.log(" [AdminProtectedRoute] Checking session and admin status...");const{data:{session:c},error:d}=await J.supabase.auth.getSession();if(d||!c){console.log(" [AdminProtectedRoute] No authenticated session found."),s({isAuthenticated:!1,isAdmin:!1}),r(!1);return}console.log(" [AdminProtectedRoute] Session found. User:",c.user.email);const{data:f,error:h}=await J.supabase.rpc("is_admin");h&&console.error(" [AdminProtectedRoute] Error calling is_admin RPC:",h);const g={isAuthenticated:!0,isAdmin:f===!0,user:c.user};console.log(" [AdminProtectedRoute] Final auth state:",g),s(g),r(!1)})()},[]),t?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900 text-white",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-400 mx-auto"}),u.jsx("p",{className:"mt-4",children:"Verifying Admin Privileges..."})]})}):n.isAuthenticated?n.isAdmin?u.jsx(u.Fragment,{children:e}):(console.log(" [AdminProtectedRoute] Access Denied. User is not an admin."),u.jsx("div",{className:"min-h-screen bg-gray-900 py-12 px-4 sm:px-6 lg:px-8 text-white",children:u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsxs("div",{className:"bg-gray-800 shadow-lg rounded-lg overflow-hidden",children:[u.jsxs("div",{className:"bg-red-600 p-6",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Access Denied"}),u.jsx("p",{className:"text-red-100",children:"You do not have the necessary permissions to view this page."})]}),u.jsxs("div",{className:"p-6 space-y-4",children:[u.jsx("p",{children:"The page you are trying to access is restricted to administrators only."}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-medium text-gray-300 mb-2",children:"Your Account Details"}),u.jsxs("dl",{className:"bg-gray-700/50 rounded-lg p-4 space-y-2 text-sm",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("dt",{className:"text-gray-400",children:"User ID"}),u.jsx("dd",{className:"font-mono",children:((o=n.user)==null?void 0:o.id)||"N/A"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("dt",{className:"text-gray-400",children:"Email"}),u.jsx("dd",{children:((a=n.user)==null?void 0:a.email)||"N/A"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("dt",{className:"text-gray-400",children:"Admin Status"}),u.jsx("dd",{className:"font-semibold text-red-400",children:"Not an Admin"})]})]})]}),u.jsx("p",{children:"If you believe this is an error, please contact support."}),u.jsx("div",{className:"pt-4",children:u.jsx("a",{href:"/",className:"px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:"Go to Homepage"})})]})]})})})):(console.log(" [AdminProtectedRoute] Not authenticated, redirecting to login."),u.jsx(Je.Navigate,{to:"/login",state:{from:i},replace:!0}))},sW="_zoroHeader_6lzsp_2",iW="_logo_6lzsp_16",oW="_navbar_6lzsp_23",aW="_navMenu_6lzsp_27",lW="_navLink_6lzsp_39",cW="_dropdownMenu_6lzsp_53",uW="_dropdownMenuItem_6lzsp_73",dW="_dropdown_6lzsp_53",fW="_headerControls_6lzsp_96",hW="_searchForm_6lzsp_121",pW="_themeToggle_6lzsp_165",mW="_icon_6lzsp_186",gW="_iconSun_6lzsp_197",yW="_iconMoon_6lzsp_203",Vr={zoroHeader:sW,logo:iW,navbar:oW,navMenu:aW,navLink:lW,dropdownMenu:cW,dropdownMenuItem:uW,dropdown:dW,headerControls:fW,searchForm:hW,themeToggle:pW,icon:mW,iconSun:gW,iconMoon:yW},dk="zoro-theme",vW=()=>{const[e,t]=w.useState(()=>{if(typeof window<"u"){const n=localStorage.getItem(dk),s=window.matchMedia("(prefers-color-scheme: dark)").matches;return n??(s?"dark":"light")}return"dark"});w.useEffect(()=>{const n=window.document.documentElement;n.setAttribute("data-theme",e),localStorage.setItem(dk,e),e==="dark"?(n.classList.add("dark"),n.classList.remove("light")):(n.classList.add("light"),n.classList.remove("dark"))},[e]);const r=()=>{t(n=>n==="dark"?"light":"dark")};return u.jsxs("button",{id:"theme-toggle",className:Vr.themeToggle,"aria-label":"Toggle dark mode","aria-pressed":e==="dark"?"true":"false",title:e==="dark"?"Switch to light mode":"Switch to dark mode",onClick:r,children:[u.jsxs("svg",{className:`${Vr.icon} ${Vr.iconSun}`,viewBox:"0 0 24 24",width:"22",height:"22","aria-hidden":"true",children:[u.jsx("circle",{cx:"12",cy:"12",r:"4",fill:"currentColor"}),u.jsxs("g",{stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",children:[u.jsx("line",{x1:"12",y1:"2",x2:"12",y2:"5"}),u.jsx("line",{x1:"12",y1:"19",x2:"12",y2:"22"}),u.jsx("line",{x1:"2",y1:"12",x2:"5",y2:"12"}),u.jsx("line",{x1:"19",y1:"12",x2:"22",y2:"12"}),u.jsx("line",{x1:"4.2",y1:"4.2",x2:"6.3",y2:"6.3"}),u.jsx("line",{x1:"17.7",y1:"17.7",x2:"19.8",y2:"19.8"}),u.jsx("line",{x1:"4.2",y1:"19.8",x2:"6.3",y2:"17.7"}),u.jsx("line",{x1:"17.7",y1:"6.3",x2:"19.8",y2:"4.2"})]})]}),u.jsx("svg",{className:`${Vr.icon} ${Vr.iconMoon}`,viewBox:"0 0 24 24",width:"22",height:"22","aria-hidden":"true",children:u.jsx("path",{d:`M21 14.5a9 9 0 1 1-8.5-12
                 a8 8 0 0 0 8.5 12z`,fill:"currentColor"})})]})},bW=()=>{const[e,t]=w.useState(!1),[r,n]=w.useState(!1),[s,i]=w.useState("none"),o=Je.useNavigate();w.useEffect(()=>{(async()=>{var h,p;const{data:{session:f}}=await J.supabase.auth.getSession();n(!!f),(p=(h=f==null?void 0:f.user)==null?void 0:h.user_metadata)!=null&&p.betaApplicationStatus&&i(f.user.user_metadata.betaApplicationStatus)})();const{data:d}=J.supabase.auth.onAuthStateChange((f,h)=>{var p,g;n(!!h),(g=(p=h==null?void 0:h.user)==null?void 0:p.user_metadata)!=null&&g.betaApplicationStatus&&i(h.user.user_metadata.betaApplicationStatus)});return()=>{d.subscription.unsubscribe()}},[]);const a=async()=>{await J.supabase.auth.signOut(),o("/")},l=[{name:"Home",path:"/"},{name:"Explore",path:"#",children:[{name:"Library",path:"/library"},{name:"Wiki",path:"/wiki"},{name:"Timelines",path:"/timelines"},{name:"Characters",path:"/characters"},{name:"Blog",path:"/blog"}]},{name:"Beta Program",path:"/beta/application"}];if(r){const c=[];c.push({name:"Store",path:"/store"}),c.push({name:"Subscriptions",path:"/subscriptions"}),s==="accepted"&&c.push({name:"Beta Portal",path:"/beta/portal"}),c.push({name:"My Account",path:"/account"}),l.push({name:"Account",path:"#",children:c}),l.push({name:"Logout",path:"#",onClick:a})}else l.push({name:"Login",path:"/login"});return u.jsxs("header",{className:Vr.zoroHeader,children:[u.jsx("div",{className:Vr.logo,children:u.jsx(Je.NavLink,{to:"/",children:u.jsx("h1",{children:"Zoroasterverse"})})}),u.jsxs("div",{className:Vr.headerControls,children:[" ",u.jsxs("form",{className:Vr.searchForm,children:[u.jsx("input",{type:"text",placeholder:"Search..."}),u.jsxs("button",{type:"submit",children:[u.jsx(Tl,{})," "]})]}),u.jsx(vW,{})," "]}),u.jsx("nav",{className:Vr.navbar,children:u.jsx("ul",{className:Vr.navMenu,children:l.map(c=>u.jsxs("li",{className:c.children?Vr.dropdown:"",children:[c.onClick?u.jsx("button",{onClick:c.onClick,className:Vr.navLink,children:c.name}):u.jsxs(Je.NavLink,{to:c.path,className:Vr.navLink,children:[c.name," ",c.children?"":""]}),c.children&&u.jsx("ul",{className:Vr.dropdownMenu,children:c.children.map(d=>u.jsx("li",{children:u.jsx(Je.NavLink,{to:d.path,className:Vr.dropdownMenuItem,children:d.name})},d.name))})]},c.name))})})]})},xW="_zoroFooter_8qpog_1",wW="_footerContent_8qpog_8",_W="_footerColumns_8qpog_13",SW="_column_8qpog_20",EW="_socialIcons_8qpog_50",jW="_footerQuote_8qpog_59",Io={zoroFooter:xW,footerContent:wW,footerColumns:_W,column:SW,socialIcons:EW,footerQuote:jW},NW=()=>u.jsx("footer",{className:Io.zoroFooter,children:u.jsxs("div",{className:Io.footerContent,children:[u.jsxs("div",{className:Io.footerColumns,children:[u.jsxs("div",{className:Io.column,children:[u.jsx("h4",{children:"Zoroasterverse"}),u.jsx("p",{children:"Truth is the architect of happiness."}),u.jsxs("p",{children:[" ",new Date().getFullYear()," Zoroasterverse. All rights reserved."]})]}),u.jsxs("div",{className:Io.column,children:[u.jsx("h4",{children:"Explore"}),u.jsxs("ul",{children:[u.jsx("li",{children:u.jsx("a",{href:"/about",children:"About"})}),u.jsx("li",{children:u.jsx("a",{href:"/books",children:"Books"})}),u.jsx("li",{children:u.jsx("a",{href:"/collaborate",children:"Artist Collaboration"})}),u.jsx("li",{children:u.jsx("a",{href:"/contact",children:"Contact"})})]})]}),u.jsxs("div",{className:Io.column,children:[u.jsx("h4",{children:"Connect"}),u.jsxs("ul",{className:Io.socialIcons,children:[u.jsx("li",{children:u.jsx("a",{href:"#",children:u.jsx(ZV,{})})}),u.jsx("li",{children:u.jsx("a",{href:"#",children:u.jsx(BV,{})})}),u.jsx("li",{children:u.jsx("a",{href:"#",children:u.jsx(IR,{})})})]})]})]}),u.jsx("div",{className:Io.footerQuote,children:u.jsx("em",{children:"Let your conscience be the altar where right intention dwells."})})]})}),kW=()=>u.jsxs("div",{className:"zr-root",children:[u.jsx(bW,{}),u.jsx("main",{children:u.jsx(Je.Outlet,{})}),u.jsx(NW,{})]}),CW="_zrHero_1fsok_1",TW="_parchmentCard_1fsok_12",AW="_zrHeroContent_1fsok_70",PW="_zrTitle_1fsok_74",OW="_zrQuote_1fsok_88",DW="_zrIntro_1fsok_97",$W="_zrCta_1fsok_105",RW="_zrHeroArt_1fsok_123",IW="_videoFire_1fsok_156",MW="_prophecyMask_1fsok_168",LW="_prophecyReel_1fsok_183",FW="_prophecyReelSpinning_1fsok_189",BW="_prophecyItem_1fsok_193",zW="_englishText_1fsok_207",UW="_zrSection_1fsok_256",qW="_zrH2_1fsok_263",VW="_srOnly_1fsok_279",WW="_spinsIndicator_1fsok_286",KW="_spinDot_1fsok_295",HW="_spinDotActive_1fsok_322",rt={zrHero:CW,parchmentCard:TW,zrHeroContent:AW,zrTitle:PW,zrQuote:OW,zrIntro:DW,zrCta:$W,zrHeroArt:RW,videoFire:IW,prophecyMask:MW,prophecyReel:LW,prophecyReelSpinning:FW,prophecyItem:BW,englishText:zW,zrSection:UW,zrH2:qW,srOnly:VW,spinsIndicator:WW,spinDot:KW,spinDotActive:HW},YW=async()=>{const{data:e,error:t}=await J.supabase.from("homepage_content").select("*");if(t)throw new Error(t.message);return e},GW=async()=>{const{data:e,error:t}=await J.supabase.from("posts").select("id, title, slug, content, created_at").eq("status","published").order("created_at",{ascending:!1}).limit(3);if(t)throw new Error(t.message);return e},ZW=async()=>{const{data:e,error:t}=await J.supabase.from("release_items").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e},XW=({spinsLeft:e,setSpinsLeft:t})=>{const r=w.useRef(null),[n,s]=w.useState(!1),i=150,o=[{english:"Your heart is a compass that always points toward lovetrust it, follow it, honor it."},{english:"You are not who you were yesterday unless you choose to beeach day offers the gift of becoming."},{english:"The friend of truth shall be the friend of my spirit, O Ahura Mazda. (Yasna 46.2)"},{english:"Every moment is sacred when approached with reverence, every task holy when performed with love."},{english:"The mind aligned with truth thinks God's thoughts after Him, sees with divine eyes, loves with cosmic heart."},{english:"May the beneficent spirit help us to speak truth and act righteously. (Yasna 47.6)"},{english:"Hope is the thing with feathers that perches in the soul and sings without words."},{english:"Self-knowledge is the beginning of wisdom, self-acceptance the foundation of growth."},{english:"Grant me, O Truth, the rewards of good thinking that bring joy and satisfaction. (Yasna 50.4)"},{english:"The sacred fire burns brightest in the heart that chooses truth over comfort. Let your conscience be the altar where right intention dwells."},{english:"Truth without compassion is cruelty; compassion without truth is sentimentalitybalance both."},{english:"I praise You as the greatest and best, as the most beautiful, O Mazda Ahura. (Yasna 43.16)"},{english:"Truth is the architect of happiness, the foundation of peace, the cornerstone of wisdom. Build your life upon this rock."},{english:"The weight of moral choice is the proof of human dignityangels don't choose, demons can't choose, but you can."},{english:"Plant seeds of hope in winter and trust them to bloom when spring returns to your life."},{english:"Appreciation is the highest form of prayerseeing the divine in every blessing."},{english:"The future is not predetermined but is being written by every choice you make right now."},{english:"When shadows of doubt gather, kindle the inner flame of discernment. Fire purifies not by destroying, but by revealing what is true."},{english:"Begin each day as if it were your firstwith wonder. End each day as if it were your lastwith gratitude."},{english:"Morning brings the gift of choice renewed. Stand at the crossroads of thought and deedwhich path serves the light?"},{english:"We invoke good thinking, truth, and the beneficent spirit of Ahura Mazda. (Yasna 37.4)"},{english:"Where truth flourishes, freedom follows; where freedom is genuine, truth is honored."},{english:"The divine dwells not only in temples but in every heart that welcomes it, every life that serves it."},{english:"The sacred fire asks no permission to burn, needs no fuel but truth, casts no shadow but illumination."},{english:"May we be instruments of peace, servants of truth, children of light. (Benediction)"},{english:"Let the fire within you remember the spark of dawnevery choice a new horizon to the world's unfolding. Walk in watchfulness, and the light of Good Mind will not fail you."},{english:"Devotion asks not what you can receive but what you can give, not what you deserve but what you can serve."},{english:"Freedom is not the absence of constraints but the presence of meaningful options."},{english:"Through the beneficent spirit, may we overcome all obstacles to righteousness. (Prayer)"},{english:"The light of understanding grows not by accumulating facts but by illuminating connections."},{english:"The peaceful heart creates peaceful surroundings; the harmonious soul attracts harmonious relationships."},{english:"I take refuge in good thinking, truth, and Your lordship, Mazda, from whom comes the most beneficent spirit. (Yasna 33.5)"},{english:"Rational thought and intuitive wisdom are not opposites but partners in the dance of understanding."},{english:"When you have the power to help and choose not to, you become complicit in the suffering you could have prevented."},{english:"Like a candle lights a thousand candles without diminishing, share your inner light freely with all."},{english:"You are both the author and the main character of your life storywrite it well."},{english:"The good mind is not the mind that knows everything but the mind that remains open to learning."},{english:"The stranger is just a friend you haven't met yet, a teacher you haven't learned from yet, a gift you haven't unwrapped yet."},{english:"Those who seek to destroy my family and clan, Mazda, I put them in Your hands through good thinking and truth. (Yasna 48.8)"},{english:"I pray to You with outstretched hands, O Mazda, seeking Your help through the beneficent spirit. (Yasna 50.8)"},{english:"Every decision is a seed planted in the soil of time. What kind of forest are you growing?"},{english:"Devotion is gratitude in action, love expressing itself through loyal service."},{english:"The fire of truth burns away all that is false in you, leaving only what is real and precious."},{english:"The unexamined life scatters like leaves in the wind; the examined life grows deep roots in truth."},{english:"The arc of justice bends only when people like you choose to bend itbe a force for righteousness."},{english:"Choose as if your choice matters to everyone who will ever livebecause it does."},{english:"When Good Mind came to me, I first learned to proclaim Your words, O Mazda. (Yasna 43.15)"},{english:"To You, the beneficent ones shall come for refuge, Mazda, not to the followers of falsehood. (Yasna 48.4)"},{english:"Understanding comes not from standing above others but from standing with them in shared humanity."},{english:"The doorway to wisdom opens inwardthe journey begins when you stop looking outside and start looking within."},{english:"May we be worthy of Your friendship through righteous actions, O Mazda. (Yasna 46.6)"},{english:"This I ask You: tell me truly, Ahurawhat craftsman created light and darkness? (Yasna 44.5)"},{english:"Harmony does not require uniformityan orchestra creates beauty through coordinated differences."},{english:"May Ahura Mazda be praised! May the beneficent spirit be glorified! (Traditional praise)"},{english:"Wisdom whispers while foolishness shoutstrain your ear to hear the quiet voice of truth."},{english:"The measure of a society is how it treats those who cannot defend themselves."},{english:"What doesn't challenge you doesn't change you; what doesn't stretch you doesn't strengthen you."},{english:"Fair is not everyone getting the same thing; fair is everyone getting what they need to thrive."},{english:"Through Your fire, show me the rewards that come through truth for both partiesthose who uphold righteousness and those who do not. (Yasna 31.3)"},{english:"The world is changed not by those who point out what's wrong but by those who do what's right."},{english:"Service is love made visible, compassion made practical, faith made fruitful."},{english:"I have recognized You as beneficent through truth and good thinking, O Mazda. (Yasna 49.5)"},{english:"The holy is not somewhere else or some time else but here and now, in this place, at this moment."},{english:"Let your presence be a sanctuary where others can find rest from the storms of life."},{english:"Friendship is truth telling and burden sharing, celebration and consolation, walking together toward the light."},{english:"Small daily improvements lead to stunning yearly resultsbe consistent rather than dramatic."},{english:"The mind that dwells in truth becomes a sanctuary where peace is always available."},{english:"Your life is a sacred text written one choice at a timemake it a beautiful story."},{english:"Blessed is he who brings happiness to others through truth and good deeds. (Traditional blessing)"},{english:"You are the protector of the righteous, O Mazda, through Your beneficent spirit. (Yasna 47.3)"},{english:"This I ask You: tell me truly, Ahurawho established the path of the sun and stars? (Yasna 44.5)"},{english:"At the crossroads of decision, remember: you are always choosing not just for yourself but for all who will follow."},{english:"I approach You, O Mazda, with good thinking, so that You may grant me both the blessings of this existence and that of the spirit. (Yasna 28.4)"},{english:"Your life is your offeringwhat will you place on the altar of existence?"},{english:"Learning from others shortens your path to wisdom; teaching others deepens your own understanding."},{english:"Pure thoughts birth noble words; noble words inspire righteous deeds; righteous deeds purify thoughts in return."},{english:"Every meal is communion when shared with gratitude, every conversation prayer when spoken with love."},{english:"The freedom to choose your response to any situation is the last of human freedomsexercise it wisely."},{english:"Your conscience is your connection to cosmic justicehonor it by living in alignment with its guidance."},{english:"Every sunrise is nature's way of saying, 'Try again'accept the invitation with gratitude."},{english:"Truth is patient but not passive, gentle but not weak, humble but not uncertain of its worth."},{english:"Action without reflection is blind; reflection without action is empty; but action guided by reflection is transformative."},{english:"Righteousness is the best good. Happiness to him who is righteous for the sake of righteousness alone. (Ashem Vohu variation)"},{english:"Community is not a place but a relationship, not a location but a connection."},{english:"Good thinking leads to good feeling, good feeling leads to good willing, good willing leads to good living."},{english:"Every crossroads is a classroom, every decision a teacher, every consequence a lesson."},{english:"The present moment is the only moment over which you have powermake it count."},{english:"Hope is not naive optimism but courageous commitment to work for what ought to be."},{english:"Every mistake is a teacher in disguise, every failure a step toward success, every setback a setup for comeback."},{english:"The inner fire burns brightest not when fed by passion but when fueled by principle."},{english:"Your privilege is not your fault, but your responsibility. Use whatever advantages you have to lift others."},{english:"Through Your radiant fire, assign the destiny of the righteous and the unrighteous, O Mazda, that our teaching may spread among the living. (Yasna 31.19)"},{english:"Knowledge builds walls to separate us from ignorance; wisdom builds bridges to connect us with all beings."},{english:"As long as I have strength and power, I shall teach people to seek truth. (Yasna 45.4)"},{english:"The beneficent spirit manifests wherever love meets action. Be the hands and heart through which goodness enters the world."},{english:"The bounteous mentality sees abundance everywherein every sunrise, every breath, every opportunity to serve the good."},{english:"The mind illuminated by truth sees possibilities where others see only problems. Think with hope, and hope becomes reality."},{english:"Peace begins with each person choosing to be peaceful, harmony starts with each individual choosing to be harmonious."},{english:"Let gratitude be your first thought at dawn, your last thought at dusk, your constant companion throughout the day."},{english:"I realized You, Mazda, to be beneficent when I was encircled by Good Mind, when he taught me to proclaim: 'Let not men seek to please the followers of falsehood.' (Yasna 43.11)"},{english:"Compassion is not feeling sorry for others but feeling with them, sharing their burden until it becomes lighter."},{english:"Count your blessings, not your problems; focus on your gains, not your losses; see your progress, not your perfection."},{english:"Compassion is not pity from above but solidarity from withinsuffer with, celebrate with, grow with."},{english:"At every moment you are choosing who you are becomingchoose the highest version of yourself."},{english:"Evening reflection is the mirror of morning intention. End as mindfully as you began."},{english:"True knowledge transforms the knower. If you remain unchanged by what you learn, you have learned nothing."},{english:"The paradox of freedom: you are most free when you choose to serve something greater than yourself."},{english:"The ripple effects of your actions extend far beyond what you can seeact as if the future depends on you."},{english:"The fire of wisdom burns without consuming. Feed it with honest reflection, and it will illumine your path forever."},{english:"Let your thoughts be seeds of kindness, your words be rain of encouragement, your deeds be sunshine of hope."},{english:"For whom did You create this earth and sky? Who made the luminaries and the darkness? (Yasna 29.1)"},{english:"Your presence in the world matters more than you knowshow up fully, authentically, lovingly."},{english:"When the world seems broken beyond repair, remember that you are part of the repair."},{english:"The darkness is never permanent, the light is never extinguished completely. Keep the vigil."},{english:"To help the world progress, O Mazda, we have sought You through good thinking. (Yasna 30.6)"},{english:"Let your spirit be a fountain, not a drain. Pour out blessing upon blessing, and watch the desert of despair bloom."},{english:"Loneliness is the human condition; connection is the human choice. Choose connection."},{english:"For a wise Lord I knew You to be, Mazda, when Good Mind came to me and asked: 'Who are you? To whom do you belong?' (Yasna 43.7)"},{english:"True strength is not in never falling but in how gracefully you rise each time you fall."},{english:"Disorder is not the opposite of truth but its absencefill the void with authentic being."},{english:"The path of wisdom begins with a single step: the decision to begin walking."},{english:"True justice considers not only what is legal but what is right, not only what is permitted but what is beneficial."},{english:"Grant me, O Mazda, through Your most beneficent spirit, through truth, the rewards of good thinking, through which I may bring joy to my supporters. (Yasna 28.11)"},{english:"The fire of Ahura Mazda brings light to the righteous and terror to the wicked. (Fire prayer)"},{english:"Your choices are your prayersthey reveal what you truly worship, what you genuinely value."},{english:"The false teacher leads people astray from the path of good thinking and truth. (Yasna 32.3)"},{english:"The phoenix rises not in spite of the ashes but because of themlet your failures fuel your renewal."},{english:"Forgiveness is not condoning what was wrong but choosing to be free from the burden of carrying resentment."},{english:"I praise good thoughts, good words, good deeds, and the good religion. (Fravarane prayer)"},{english:"The greatest among you will be your servantgreatness is measured by how much you give, not how much you get."},{english:"The morning star reminds us: even in the darkest hour, light is already on its way."},{english:"Where differences divide, find common ground; where similarities unite, celebrate diversity."},{english:"You who are Mazda, through Your spirit and fire, through truth and good thinking, grant me integrity and strength. (Yasna 28.7)"},{english:"In the garden of the heart, plant seeds of truthful speech. Words watered with wisdom bloom into lasting peace."},{english:"Your daily habits are votes for the type of person you wish to becomevote wisely."},{english:"May we receive the promised reward, the joy that comes from truth, O Mazda. (Yasna 33.11)"},{english:"Hope plants seeds in winter, trusting in the promise of spring."},{english:"You are not just in the community; the community is in youyou carry it wherever you go."},{english:"Your presence is often more healing than your words, your listening more valuable than your advice."},{english:"You are a unique note in the symphony of existenceplay your part beautifully and boldly."},{english:"Bridge-builders are more valuable than wall-builders, peacemakers more needed than warriors."},{english:"Growth requires leaving your comfort zone regularlycomfort and growth cannot coexist."},{english:"But the righteous man chooses truth and good thinking as his allies. (Yasna 32.2)"},{english:"The threefold path begins in the silence of right thinking, flows through the beauty of truthful speech, and culminates in the power of loving action."},{english:"Truth needs no defense, only expression. Speak it simply and let its power do the rest."},{english:"Through good deeds may we come to You, O Mazda, with joy and gladness. (Yasna 50.10)"},{english:"I beheld You clearly in my mind's eye as the first one at the birth of life, when You made actions have consequencesevil for the evil, good reward for the good. (Yasna 43.5)"},{english:"Inner peace is not a luxury but a necessity, not a retreat from the world but preparation for effective engagement."},{english:"The wise heart holds both confidence and humility, certainty and openness, in perfect balance."},{english:"Your breath connects you to every living beingbreathe consciously, live connectedly."},{english:"Whoever upholds truth most, whether man or woman, O Mazda Ahura, is most dear to You. (Yasna 46.11)"},{english:"Yes, there are two fundamental spirits, twins, renowned to be in conflict. In thought and word, in action, they are two: the good and the bad. Between these two, the beneficent have correctly chosen. (Yasna 30.3)"},{english:"Transformation happens not when you try to become someone else but when you become more fully yourself."},{english:"Where injustice flourishes, it is not enough to be personally righteous. Stand up, speak out, act decisively."},{english:"Then spoke Ahura Mazda: We have no pastor here who is both knowing and holy. (Yasna 29.6)"},{english:"The practice of gratitude transforms ordinary moments into sacred experiences."},{english:"Truth is like the sunyou cannot look directly at it for long, but it lights everything else."},{english:"I shall serve You with good thinking, with truth and righteous action, so that You may grant me that which leads to the straight path. (Yasna 28.5)"},{english:"May good thinking and truth dwell in our house forever, O Ahura Mazda. (Yasna 60.6)"},{english:"Look within with the same honesty you demand from others, the same compassion you show to friends."},{english:"The healing the world needs begins with the healing you give yourselfbe gentle, be patient, be kind."},{english:"Hope is not a feeling but a decisiondecide to hope and then live as if your hope is justified."},{english:"One chooses that rule of good thinking allied with truth in order to serve the beneficent spirit. (Yasna 51.18)"},{english:"The good mind is a gift that grows with giving. Share your wisdom freely, and watch understanding multiply among all beings."},{english:"When thought, word, and deed align like three rivers meeting, their combined power can move mountains of indifference."},{english:"The music of the spheres plays onattune your heart to hear the cosmic symphony of love."},{english:"We rise by lifting others, we succeed by serving others, we find ourselves by losing ourselves in love."},{english:"The truth you speak has a pastit comes from your experience. Make sure that past is worthy of the truth."},{english:"The beneficent spirit breathes in every act of kindness. When you lift another's burden, you lighten the world."},{english:"Your talents are gifts to be shared, not treasures to be hoardedinvest them in making the world better."},{english:"The grateful heart attracts more to be grateful forappreciation is the magnet for abundance."},{english:"The person who knows their weaknesses is stronger than the person who denies them."},{english:"May good fortune come through truth to those who proclaim these teachings, O Mazda. (Yasna 51.16)"},{english:"Meditation is the art of listening to the still small voice that whispers your deepest truth."},{english:"The most important choice you make each day is who you choose to become in that day."},{english:"Order emerges not from control but from harmonythe willing cooperation of free beings choosing good."},{english:"True intelligence is not the ability to solve problems but to see the connections between all things."},{english:"Thus speaks the maiden: 'You are the support of good thinking, of truth, and of the lordship desired by Mazda.' (Yasna 53.3)"},{english:"The spiral of growth means you will revisit the same lessons at deeper levelsembrace the journey."},{english:"When you choose increase over decrease, healing over harm, you align with the progressive spirit of creation itself."},{english:"When someone trusts you with their vulnerability, you hold sacred ground. Tread carefully and gratefully."},{english:"Renewal comes not from changing everything at once but from changing one thing completely."},{english:"When will the noble warriors come who shall drive out from here the thirst of the wicked? (Yasna 32.1)"},{english:"The sacred space is wherever you are when you remember who you really are and why you are here."},{english:"Good thinking, good words, and good deedsthese three bring a person to paradise, the best existence, light, and all good things. (Traditional summary)"},{english:"The progressive spirit never asks 'Why me?' but always 'How can I help?' Be an answer to someone's prayer today."},{english:"Then shall I recognize You as mighty, Mazda, when through good thinking You shall grant the blessings that the truthful and untruthful seek. (Yasna 45.8)"},{english:"I know You to be the first and the last, O Ahura MazdaYou are father of good thinking, creator of truth, judge of our actions. (Yasna 31.8)"},{english:"Wisdom is not knowing all the answers but asking better questions. Begin with: How can I serve?"},{english:"Conscience is the ember of the divine fire planted in every human hearttend it carefully."},{english:"By Your beneficent spirit and by fire, O Mazda, show me truth and good thinking, through whose work one goes to Your abode. (Yasna 31.20)"},{english:"Come to my help, O Mazda, grant me strength through truth and good thinking. (Yasna 33.6)"},{english:"Through good deeds and righteous words, may we please Your spirit, O Mazda. (Yasna 49.10)"},{english:"Through truth we serve the Lord of Wisdom with good mind and beneficial action. (Summary verse)"},{english:"Service is not about being needed but about being useful, not about being thanked but about being trustworthy."},{english:"I who shall serve You with good thinking... may I thus bring solace to the soul of Earth. (Yasna 28.2)"},{english:"Holiness is not about being perfect but about being present, not about being pure but about being real."},{english:"May we be guides for those who seek the path of truth and righteousness. (Yasna 31.22)"},{english:"Wisdom is like waterit takes the shape of whatever vessel contains it, yet never loses its essence."},{english:"The enlightened mind is like clear waterit reflects perfectly what is, without adding or subtracting anything."},{english:"A thankful heart is a magnet for miracles, drawing goodness from the infinite storehouse of grace."},{english:"The pattern that connects all things is love expressing itself as truth, truth expressing itself as justice."},{english:"We are all connectedwhat helps one helps all, what harms one harms all."},{english:"Both bridegroom and bride, bring your minds into agreement for the practice of the best thoughts. (Yasna 53.4)"},{english:"The questions you ask shape the life you liveask better questions, live a better life."},{english:"May the light of good thinking shine in our hearts forever. (Prayer verse)"},{english:"True self-knowledge includes knowing not just what you are but what you could become."},{english:"I know You to be mighty when You help me with good thinking, O Mazda Ahura. (Yasna 31.5)"},{english:"Justice is not revenge but restorationmaking right what has been wrong, healing what has been harmed."},{english:"The sun rises not because you need it but because it is the nature of the sun to shinebe like the sun."},{english:"Justice is love applied to systems, compassion embodied in institutions, kindness made structural."},{english:"Grant victory to those who speak truth and live righteously, O Ahura Mazda. (Yasna 48.12)"},{english:"The journey inward is the most courageous journeyit requires facing yourself without flinching."},{english:"I have realized You as beneficent, Mazda Ahura, when You came to me with good thinking and asked: 'Who are you willing to please?' (Yasna 49.3)"},{english:"Each choice carves a channel for future choices to follow. Choose wisely what river you dig for tomorrow."},{english:"Therefore may we be among those who make this world fresh and new! (Yasna 30.9)"},{english:"Truth is the gravity of the moral universewhat goes up in lies must come down in consequences."},{english:"The weight of choice is the price of consciousness. Bear it gladly, for it makes you a partner in creation's unfolding."},{english:"This I ask You: Which is the first and which the last? (Yasna 44.6)"},{english:"Thank the sunrise for its faithfulness, the earth for its generosity, life for its infinite possibilities."},{english:"The sacred is not separate from the ordinary but hidden within it, waiting to be discovered."},{english:"Reflect with a clear mindeach person for themselvesbefore the Great Event of Choices. Awaken to this doctrine: there is no compromise between right and wrong. (Yasna 30.2)"},{english:"Your choices reveal your values more accurately than your wordschoose as if your character depends on it."},{english:"You are not just in the world; the world is in youtake care of both."},{english:"Time is the canvas, your choices the paint, your life the masterpiececreate something beautiful."},{english:"I entrust my soul to You, O Mazda, seeking Your protection through good thinking. (Yasna 48.9)"},{english:"The isolated tree falls in the storm; the forest of trees stands strong together."},{english:"Sacred living means recognizing the extraordinary within the ordinary, the eternal within the temporal."},{english:"The arc of the moral universe bends toward justice only when conscious beings like you and me choose to bend it."},{english:"The cosmic order is written in every sunrise, every heartbeat, every act of genuine kindness."},{english:"This I ask You: Who holds up the earth below and keeps the sky from falling? (Yasna 44.4)"},{english:"Let the fire within purify your motives, clarify your vision, energize your compassion."},{english:"The strength of the individual is the community; the strength of the community is the individual."},{english:"The hands that heal are holier than the hands that pray without helping."},{english:"The grateful heart sees abundance everywhere; the ungrateful heart finds scarcity in plenty."},{english:"This I ask You: tell me truly, Ahurahow shall I drive deceit far from us who seek to promote truth in the world? (Yasna 51.4)"},{english:"Every ending contains a beginning; every death, a birth; every loss, an opportunity for growth."},{english:"Know yourself not to become self-absorbed but to become self-aware, not to focus inward but to focus clearly."},{english:"When these two spirits came together in the beginning, they established life and not-life, and how at the end the worst existence shall be for the followers of falsehood, but the best mind for the truthful. (Yasna 30.4)"},{english:"Wisdom is the art of living skillfully, the science of choosing well, the practice of loving wisely."},{english:"In the morning, set your mind like a compass toward truth; let all your steps follow this direction."},{english:"May Your fire shine forth to help the supporter of truth, O Mazda. (Yasna 34.4)"},{english:"The curious mind stays young, the learning heart stays open, the growing soul stays alive."},{english:"The bridge between what is and what could be is built with the materials of hope and hard work."},{english:"The mirror of self-reflection shows not what you want to see but what you need to see."},{english:"Let truth be our guide, good thinking our companion, right action our path. (Summary)"},{english:"The universe conspires to help those who help themselves and othersbe part of the conspiracy of good."},{english:"Every act of love is a victory over the forces that diminish lifelove boldly, love widely, love deeply."},{english:"The paradox of wisdom: the more you truly know, the more you realize how much you don't know."},{english:"Each day offers lessons if you are willing to be a student, opportunities if you are willing to try."},{english:"Justice is not just a destination but a journeywalk it one step at a time, one choice at a time."},{english:"The beginner's mind sees possibilities everywhere; the expert mind sees problems in everything."},{english:"Every choice is a prayer, every decision a vote for the kind of world you want to live in."},{english:"Justice delayed is often justice denied, but justice rushed is sometimes injustice accomplished. Seek the balanced way."},{english:"To what land to flee? Where shall I go to flee? They exclude me from family and clan. (Yasna 46.1)"},{english:"You are the one who rewards both the truthful and the untruthful according to their deeds. (Yasna 43.12)"},{english:"Who, Mazda, is the faithful friend of Your spirit? Let him teach me the straight paths of good thinking and of truth. (Yasna 47.4)"},{english:"With outstretched hands I pray to You, O Mazda, first of all through truth. (Yasna 28.1)"},{english:"Self-reflection without self-compassion becomes self-criticism; self-compassion without self-reflection becomes self-deception."},{english:"May good thinking reign supreme, may truth be established in the world. (Yasna 45.10)"},{english:"True belonging doesn't require you to change who you are; it requires you to be who you are."},{english:"When you light the lamp of compassion, you illuminate your own path as well as others'."},{english:"The order of existence rewards those who align with it, not to punish those who don't, but to heal what is broken."},{english:"The good mind seeks first to understand, then to be understood; first to serve, then to be served."},{english:"The trinity of human goodnessthink well, speak well, act wellechoes the divine harmony that sustains all worlds."},{english:"Freedom is not the absence of consequences but the power to choose which consequences you will embrace."},{english:"Every moment is a fresh beginning, every breath a new chance, every choice a sacred opportunity."},{english:"Begin each day by asking: How can I make today better than yesterday? End each day by answering: How did I succeed?"},{english:"Through Your most beneficent spirit, O Mazda, I seek to do Your will. (Yasna 47.1)"},{english:"The greatest sermon is a life well-lived in service to truth, beauty, and goodness."},{english:"The deepest truth is often the most simple: be kind, be honest, be helpful, be present."},{english:"Peace is not the absence of conflict but the presence of justice, not the silence of oppression but the harmony of mutual respect."},{english:"The darkest night produces the brightest starsyour current darkness may be developing your greatest light."},{english:"Connection is the energy that exists between people when they feel seen, heard, and valued."},{english:"Like fire transforms wood to light, let your choices transform the world from what it is to what it should be."},{english:"Through good thinking, truth, and the spirit's power, they shall overcome the violence of the deceitful. (Yasna 32.16)"},{english:"The day unfolds like a scroll waiting to be written. What story will your choices tell?"},{english:"The gift of choice is also the burden of choiceembrace both aspects with equal courage."},{english:"The scales of justice are balanced not by equal punishment but by proportional restoration."},{english:"The seeds of tomorrow are planted in the soil of todayplant wisely."},{english:"Good thinking is the bridge between knowing and acting. Cross it with courage, and find yourself in the land of fulfillment."},{english:"I approach You, Mazda, with hands outstretched, with good thinking, with truth, hoping to please Your spirit with righteous actions. (Yasna 50.5)"},{english:"The heart that has been broken and healed is stronger than one that has never been tested."},{english:"Thanksgiving is not just a day but a way of lifelive thankfully and you will have much to be thankful for."},{english:"Begin each day by asking: How shall I increase the good in the world through my being here?"},{english:"The wise person learns from everyone, teaches everyone, and judges no one harshly."},{english:"Each breath is a gift, each heartbeat a blessing, each moment an opportunity for thankfulness."},{english:"Like a lighthouse guides ships safely home, let your conscience guide you through moral storms to peaceful harbors."},{english:"Your legacy is not what you leave behind but what you build in others while you are here."},{english:"The growing edge is always uncomfortablethat's how you know you're growing."},{english:"We seek Your blessing through fire, through truth, through good thinking. (Yasna 36.3)"},{english:"This I ask You: tell me truly, Ahurawho was the first father of truth by begetting? (Yasna 44.3)"},{english:"Morning is creation's invitation to begin again. Accept it with gratitude and intentional presence."},{english:"Your conscience is the hearth of heaventend it with thoughts of justice, words of compassion, deeds of righteousness."},{english:"Your life may be a drop in the ocean, but without your drop the ocean would be less."},{english:"When moral darkness surrounds you, be the flame that others can navigate by."},{english:"Grant us, O Mazda, the straight paths of good thinking and truth. (Yasna 33.5)"},{english:"Your conscience is the sacred fire that never sleeps, never lies, never abandons you in darkness."},{english:"Your work in the world is your worshipdo it with the reverence you would bring to the most sacred task."},{english:"True leadership is not about being served but about serving, not about having followers but about creating leaders."},{english:"Renewal comes not from changing your circumstances but from changing your relationship to your circumstances."},{english:"Speak to me as friend speaks to friend! Show me the supports on which both worlds rest. (Yasna 31.3)"},{english:"The light you seek is the light you arestop looking for it and start being it."},{english:"Honesty is telling the truth to other people; integrity is telling the truth to yourself."},{english:"The wise person is not one who has never erred but one who learns from every mistake."},{english:"When the mind is clear like mountain water, right decisions flow naturally. Still the turbulent thoughts and find your center."},{english:"Through the beneficent spirit, Mazda, give me strength for good thinking, that I may find the straight paths of life. (Yasna 47.2)"},{english:"May we be among those who make this world progress, who are the healers of this world, O Mazda and You, O Truth. (Yasna 30.9)"},{english:"The wise Lord rewards those who serve truth with sincerity and devotion. (Teaching verse)"},{english:"The divine spark within you knows the difference between right and wrongtrust it, follow it, serve it."},{english:"The inner flame burns brightest when fed by deeds of righteousness, words of truth, thoughts of love."},{english:"The deepest wisdom is often the simplest truth, lived with complete sincerity."},{english:"Every person you meet is fighting a battle you know nothing aboutbe kind, be patient, be present."},{english:"The man of good life speaks to him of ill life: 'May your conscience torment you continuously!' (Yasna 46.11)"},{english:"The flame that burns for justice never consumes the just, only the injustice they oppose."},{english:"We approach You, O Ahura Mazda, with good thinking and truth, seeking Your blessing. (Yasna 34.1)"},{english:"Personal evolution is not about perfection but about progression, not about arrival but about journey."},{english:"Gratitude is the memory of the heartit never forgets a kindness received or given."},{english:"I shall worship You with good thinking, O Mazda Ahura, so that You may teach me truth through Your spirit. (Yasna 45.6)"},{english:"Each dawn brings the covenant renewed: to think with clarity, speak with truth, act with love."},{english:"Kindness is the universal language that the deaf can hear and the blind can see."},{english:"Even in the darkest times, remember: you are here for a reason, at this time, in this place."},{english:"The phoenix is not reborn from ashes but through themtransformation requires embracing the fire."},{english:"As the first, O Mazda, You gave bodies and breath to the corporeal world through Your thought. (Yasna 31.11)"},{english:"Your inner fire is not yours aloneit is borrowed from the eternal flame that lights all worlds."},{english:"The river that moves you also moves through youyou are not separate from the flow of life."},{english:"The ultimate measure of your life is not what you accomplish but who you become."},{english:"The most precious gift you can give another person is your full, undivided, loving attention."},{english:"Truth is not a destination but a way of walking. Each step in harmony with what is right brings the world closer to wholeness."},{english:"May Ahura Mazda grant us that good which we seek through truth and good thinking. (Yasna 60.12)"},{english:"Gratitude turns what we have into enough, transforms ordinary days into thanksgivings, routine jobs into joy."},{english:"Love is the recognition that the other person's happiness is as important as your ownmaybe more important."},{english:"Every person you meet is your teachersome teach by example, others by cautionary tale."},{english:"Through righteousness may we attain that world of good thinking. (Yasna 34.15)"},{english:"The deceitful one chose to bring to realization the worst things. But the very beneficent spirit chose truth, and so shall those who satisfy the Wise Lord continuously with true actions. (Yasna 30.5)"},{english:"Each breath is a chance to choose life over death, hope over despair, love over fear."},{english:"True understanding comes not from accumulating facts but from seeing the patterns that connect all things."},{english:"Every act of service is a prayer, every moment of helpfulness a hymn, every gesture of kindness a blessing."},{english:"Where truth blooms, falsehood cannot take root. Cultivate the garden of your life with seeds of honesty and integrity."},{english:"The future is not fixed because you are still choosingmake your next choice count."},{english:"The most powerful force in the universe is a human being living in alignment with their highest truth."},{english:"When you see injustice and do nothing, you become part of the injusticespeak up, stand up, act up."},{english:"As rivers seek the sea, let your thoughts flow toward truth. In the silence of right action, wisdom speaks without words."},{english:"Your daily work is your temple, your loving relationships your prayer, your kind actions your worship."},{english:"The true order of existence is good; the most-good existence it is; desire it! Wish it! Happiness, bliss, enlightenment it is for that existence which is the true order of existence. (Ashem Vohu)"},{english:"The heart that has known pain is the heart most capable of healing others' pain."},{english:"Conflict is often the birth-pain of greater understandingdo not avoid it, but engage it constructively."},{english:"Clear thinking leads to clear speaking, which leads to clear acting. Begin each day by clarifying your deepest intentions."},{english:"The order of existence reveals itself to those who seek with sincere hearts. Look closelytruth hides in plain sight."},{english:"Let the actions of good thinking come to fruition for the man who teaches truth to Zarathustra. (Yasna 28.6)"},{english:"The loving man who brings help to the truthful, whether kinsman or fellow-member of the community, is in good accord with truth. (Yasna 46.2)"},{english:"When shall I know that You have power over those who cause harm to me, O Mazda? Let fire accompanied by good thinking make this known to me through truth. (Yasna 48.7)"},{english:"Clarity comes not from having all the answers but from asking the right questions."},{english:"Wisdom is knowing what to do; virtue is doing it; integrity is being consistent in both."},{english:"And when punishment comes to the wicked, then shall Your power be revealed to all, O Mazda. (Yasna 30.8)"},{english:"Your network is not about who can help you but who you can help, not who you know but who knows they can count on you."},{english:"Every ending is a new beginning in disguiselook for the hidden gift in every goodbye."},{english:"Through truth I complete my worship and my praise with actions, O Mazda Ahura. (Yasna 50.11)"},{english:"Where shall the righteous man find refuge when the wicked overwhelm the land? (Yasna 46.1)"},{english:"Like a river finds its course, truth finds its way through every obstacle. Be the clear channel through which it flows."},{english:"Every moment offers the great choice: will you add to the world's burden or its blessing? Choose consciously."},{english:"The rhythm of sunrise and sunset teaches the sacred pace of effort and rest, engagement and reflection."},{english:"Your fire, strong through truth, is a visible help to Your supporter, but visible harm to Your enemy, O Ahura Mazda. (Yasna 34.4)"},{english:"The soul of the earth cries out: For whom did You fashion me? Who created me? (Yasna 29.1)"},{english:"Service is the rent we pay for living on this planetpay it gladly and generously."}],a=5,l=o.length,c=[];for(let h=0;h<a;h++)c.push(...o);const d=[...c.slice(c.length-l),...c,...c.slice(0,l)],f=async()=>{if(n||!r.current||e<=0){console.log("No spins left or already spinning.");return}console.log("handleSpin called");try{new Audio("/gear-click-351962.mp3").play().catch(v=>console.error("Error playing sound:",v))}catch(y){console.error("Error creating Audio object:",y)}s(!0),t(y=>y-1);const{data:{user:h}}=await J.supabase.auth.getUser();if(h){const y=new Date().toISOString().slice(0,10),{error:v}=await J.supabase.from("daily_spins").upsert({user_id:h.id,spin_date:y,spin_count:3-e+1},{onConflict:"user_id, spin_date"});v&&console.error("Error updating daily spin count:",v)}const p=Math.floor(Math.random()*o.length),m=(l+p+o.length*Math.floor(a/2))*i;r.current.classList.add(rt.prophecyReelSpinning),r.current.style.transform=`translateY(-${m}px)`,setTimeout(()=>{if(!r.current)return;r.current.classList.remove(rt.prophecyReelSpinning),r.current.style.transition="none";const y=p*i;r.current.style.transform=`translateY(-${y}px)`,r.current.offsetHeight,r.current.style.transition="transform 1.5s cubic-bezier(0.25, 1, 0.5, 1)",s(!1)},1600)};return u.jsx(u.Fragment,{children:u.jsx("div",{className:`${rt.prophecyMask} ${rt.englishMask}`,onClick:f,children:u.jsx("div",{ref:r,className:rt.prophecyReel,children:d.map((h,p)=>u.jsx("div",{className:rt.prophecyItem,children:u.jsx("span",{className:rt.englishText,children:h.english})},p))})})})},JW=({contentMap:e,spinsLeft:t,setSpinsLeft:r})=>{var o,a,l;const n=((o=e.get("hero_title"))==null?void 0:o.content)||"Zoroasterverse",s=((a=e.get("hero_quote"))==null?void 0:a.content)||"Happiness comes to them who bring happiness to others.",i=((l=e.get("hero_description"))==null?void 0:l.content)||"Learn about the teachings of the prophet Zarathustra, the history of one of the worlds oldest religions, and the principles of Good Thoughts, Good Words, and Good Deeds.";return u.jsxs("section",{id:"home",className:rt.zrHero,children:[u.jsxs("div",{className:rt.zrHeroContent,children:[u.jsx("h1",{className:rt.zrTitle,children:n}),u.jsx("p",{className:rt.zrQuote,children:s}),u.jsx("p",{className:rt.zrIntro,children:i}),u.jsx(Je.Link,{className:rt.zrCta,to:"/blog/about",children:"Learn More"})]}),u.jsxs("figure",{className:rt.zrHeroArt,"aria-labelledby":"art-caption",children:[u.jsx("video",{src:"/200716-913538378.mp4",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:rt.videoFire}),u.jsx("div",{className:rt.spinsIndicator,children:[...Array(3)].map((c,d)=>u.jsx("div",{className:`${rt.spinDot} ${d<t?rt.spinDotActive:""}`},d))}),u.jsx(XW,{spinsLeft:t,setSpinsLeft:r}),u.jsx("figcaption",{id:"art-caption",className:rt.srOnly,children:"A stylized winged figure above a sacred fire."})]})]})},QW=({posts:e})=>u.jsxs("section",{className:rt.zrSection,children:[u.jsx("h2",{className:rt.zrH2,children:"Latest News & Updates"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:e.map(t=>{const r=t.content.length>100?t.content.substring(0,100)+"...":t.content;return u.jsxs("div",{className:rt.parchmentCard,children:[u.jsx("h3",{children:t.title}),u.jsx("p",{className:"mt-2",dangerouslySetInnerHTML:{__html:r}}),u.jsx(Je.Link,{to:`/blog/${t.slug}`,className:"mt-4 inline-block",children:"Read More"})]},t.id)})})]}),eK=({releases:e})=>u.jsxs("section",{className:rt.zrSection,children:[u.jsx("h2",{className:rt.zrH2,children:"Latest Releases"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:e.map(t=>u.jsxs("div",{className:rt.parchmentCard,children:[u.jsx("h3",{children:t.title}),u.jsxs("p",{className:"mt-2",children:["Type: ",t.type]}),u.jsx("a",{href:t.link||"#",className:"mt-4 inline-block",children:"View Details / Purchase"})]},t.id))})]}),tK=()=>{var y,v,b,x;const{data:e,isLoading:t,isError:r}=Me.useQuery({queryKey:["homepageContent"],queryFn:YW}),{data:n,isLoading:s,isError:i}=Me.useQuery({queryKey:["latestPosts"],queryFn:GW}),{data:o,isLoading:a,isError:l}=Me.useQuery({queryKey:["releaseItems"],queryFn:ZW}),[c,d]=w.useState(3),[f,h]=w.useState(null);w.useEffect(()=>{(async()=>{const{data:{user:_}}=await J.supabase.auth.getUser();if(!_){d(0);return}const N=new Date().toISOString().slice(0,10),{data:k,error:C}=await J.supabase.from("daily_spins").select("*").eq("user_id",_.id).eq("spin_date",N).single();if(C&&C.code!=="PGRST116"){console.error("Error fetching daily spins:",C),d(0);return}if(k)d(3-k.spin_count),h(k.spin_date);else{d(3),h(N);const{error:A}=await J.supabase.from("daily_spins").insert({user_id:_.id,spin_date:N,spin_count:0});A&&console.error("Error inserting new daily spin entry:",A)}})()},[]);const p=t||s||a,g=r||i||l;if(p)return u.jsx("div",{className:"text-center py-8",children:"Loading homepage content..."});if(g)return u.jsx("div",{className:"text-center py-8 text-red-400",children:"Error loading homepage content."});const m=new Map(e==null?void 0:e.map(S=>[S.section,S]));return u.jsxs("div",{children:[u.jsx(JW,{contentMap:m,spinsLeft:c,setSpinsLeft:d}),u.jsxs("section",{className:rt.zrSection,children:[u.jsx("h2",{className:rt.zrH2,children:"Our Progress"}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 text-center",children:[u.jsxs("div",{className:rt.parchmentCard,children:[u.jsx("h3",{className:"text-4xl font-bold text-primary",children:((y=m.get("statistics_words_written"))==null?void 0:y.content)||"0"}),u.jsx("p",{className:"text-muted-foreground",children:"Words Written"})]}),u.jsxs("div",{className:rt.parchmentCard,children:[u.jsx("h3",{className:"text-4xl font-bold text-primary",children:((v=m.get("statistics_beta_readers"))==null?void 0:v.content)||"0"}),u.jsx("p",{className:"text-muted-foreground",children:"Beta Readers"})]}),u.jsxs("div",{className:rt.parchmentCard,children:[u.jsx("h3",{className:"text-4xl font-bold text-primary",children:((b=m.get("statistics_average_rating"))==null?void 0:b.content)||"0"}),u.jsx("p",{className:"text-muted-foreground",children:"Average Rating"})]}),u.jsxs("div",{className:rt.parchmentCard,children:[u.jsx("h3",{className:"text-4xl font-bold text-primary",children:((x=m.get("statistics_books_published"))==null?void 0:x.content)||"0"}),u.jsx("p",{className:"text-muted-foreground",children:"Books Published"})]})]})]}),u.jsx(QW,{posts:n||[]}),u.jsx(eK,{releases:o||[]}),u.jsxs("section",{className:rt.zrSection,children:[u.jsx("h2",{className:rt.zrH2,children:"Artist Collaboration"}),u.jsxs("div",{className:"relative rounded-lg shadow-lg overflow-hidden w-full",children:[u.jsx("img",{src:"/images/invite_to_Colab_card.png",alt:"Artist Collaboration Invitation",className:"w-full h-full object-contain"}),u.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex flex-col items-center justify-center p-8",children:[u.jsx("h3",{className:"text-2xl font-bold text-white mb-4 text-shadow-md",children:"Join Our Creative Team!"}),u.jsx("p",{className:"text-white mb-6 text-shadow-sm",children:"We're looking for talented artists to help shape the visual identity of the Zangar/Spandam Series. Explore revenue-share opportunities and bring your vision to life."}),u.jsx(Je.Link,{to:"/artist-collaboration",className:"inline-block bg-primary hover:bg-primary-dark text-white font-bold py-3 px-6 rounded-lg transition duration-300 ease-in-out transform hover:scale-105",children:"Apply Now"})]})]})]})]})};function rK(e){const t=e+"CollectionProvider",[r,n]=_u(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:y,children:v}=m,b=w.useRef(null),x=w.useRef(new Map).current;return u.jsx(s,{scope:y,itemMap:x,collectionRef:b,children:v})};o.displayName=t;const a=e+"CollectionSlot",l=af(a),c=w.forwardRef((m,y)=>{const{scope:v,children:b}=m,x=i(a,v),S=_n(y,x.collectionRef);return u.jsx(l,{ref:S,children:b})});c.displayName=a;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=af(d),p=w.forwardRef((m,y)=>{const{scope:v,children:b,...x}=m,S=w.useRef(null),_=_n(y,S),N=i(d,v);return w.useEffect(()=>(N.itemMap.set(S,{ref:S,...x}),()=>void N.itemMap.delete(S))),u.jsx(h,{[f]:"",ref:_,children:b})});p.displayName=d;function g(m){const y=i(e+"CollectionConsumer",m);return w.useCallback(()=>{const b=y.collectionRef.current;if(!b)return[];const x=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((N,k)=>x.indexOf(N.ref.current)-x.indexOf(k.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:c,ItemSlot:p},g,n]}var nK=j.createContext(void 0);function VR(e){const t=j.useContext(nK);return e||t||"ltr"}var ob="rovingFocusGroup.onEntryFocus",sK={bubbles:!1,cancelable:!0},Xf="RovingFocusGroup",[nx,WR,iK]=rK(Xf),[oK,KR]=_u(Xf,[iK]),[aK,lK]=oK(Xf),HR=j.forwardRef((e,t)=>u.jsx(nx.Provider,{scope:e.__scopeRovingFocusGroup,children:u.jsx(nx.Slot,{scope:e.__scopeRovingFocusGroup,children:u.jsx(cK,{...e,ref:t})})}));HR.displayName=Xf;var cK=j.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...f}=e,h=j.useRef(null),p=_n(t,h),g=VR(i),[m,y]=Ig({prop:o,defaultProp:a??null,onChange:l,caller:Xf}),[v,b]=j.useState(!1),x=Gc(c),S=WR(r),_=j.useRef(!1),[N,k]=j.useState(0);return j.useEffect(()=>{const C=h.current;if(C)return C.addEventListener(ob,x),()=>C.removeEventListener(ob,x)},[x]),u.jsx(aK,{scope:r,orientation:n,dir:g,loop:s,currentTabStopId:m,onItemFocus:j.useCallback(C=>y(C),[y]),onItemShiftTab:j.useCallback(()=>b(!0),[]),onFocusableItemAdd:j.useCallback(()=>k(C=>C+1),[]),onFocusableItemRemove:j.useCallback(()=>k(C=>C-1),[]),children:u.jsx(Tr.div,{tabIndex:v||N===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:br(e.onMouseDown,()=>{_.current=!0}),onFocus:br(e.onFocus,C=>{const A=!_.current;if(C.target===C.currentTarget&&A&&!v){const I=new CustomEvent(ob,sK);if(C.currentTarget.dispatchEvent(I),!I.defaultPrevented){const M=S().filter(G=>G.focusable),L=M.find(G=>G.active),D=M.find(G=>G.id===m),U=[L,D,...M].filter(Boolean).map(G=>G.ref.current);ZR(U,d)}}_.current=!1}),onBlur:br(e.onBlur,()=>b(!1))})})}),YR="RovingFocusGroupItem",GR=j.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:o,...a}=e,l=Rd(),c=i||l,d=lK(YR,r),f=d.currentTabStopId===c,h=WR(r),{onFocusableItemAdd:p,onFocusableItemRemove:g,currentTabStopId:m}=d;return j.useEffect(()=>{if(n)return p(),()=>g()},[n,p,g]),u.jsx(nx.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:u.jsx(Tr.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...a,ref:t,onMouseDown:br(e.onMouseDown,y=>{n?d.onItemFocus(c):y.preventDefault()}),onFocus:br(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:br(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const v=fK(y,d.orientation,d.dir);if(v!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let x=h().filter(S=>S.focusable).map(S=>S.ref.current);if(v==="last")x.reverse();else if(v==="prev"||v==="next"){v==="prev"&&x.reverse();const S=x.indexOf(y.currentTarget);x=d.loop?hK(x,S+1):x.slice(S+1)}setTimeout(()=>ZR(x))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:m!=null}):o})})});GR.displayName=YR;var uK={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function dK(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function fK(e,t,r){const n=dK(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return uK[n]}function ZR(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function hK(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var pK=HR,mK=GR,Hg="Tabs",[gK,RPe]=_u(Hg,[KR]),XR=KR(),[yK,f_]=gK(Hg),JR=j.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=e,d=VR(a),[f,h]=Ig({prop:n,onChange:s,defaultProp:i??"",caller:Hg});return u.jsx(yK,{scope:r,baseId:Rd(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:l,children:u.jsx(Tr.div,{dir:d,"data-orientation":o,...c,ref:t})})});JR.displayName=Hg;var QR="TabsList",eI=j.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=f_(QR,r),o=XR(r);return u.jsx(pK,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:u.jsx(Tr.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});eI.displayName=QR;var tI="TabsTrigger",rI=j.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,o=f_(tI,r),a=XR(r),l=iI(o.baseId,n),c=oI(o.baseId,n),d=n===o.value;return u.jsx(mK,{asChild:!0,...a,focusable:!s,active:d,children:u.jsx(Tr.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:t,onMouseDown:br(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:br(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:br(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(n)})})})});rI.displayName=tI;var nI="TabsContent",sI=j.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=e,a=f_(nI,r),l=iI(a.baseId,n),c=oI(a.baseId,n),d=n===a.value,f=j.useRef(d);return j.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),u.jsx(Hf,{present:s||d,children:({present:h})=>u.jsx(Tr.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:c,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});sI.displayName=nI;function iI(e,t){return`${e}-trigger-${t}`}function oI(e,t){return`${e}-content-${t}`}var vK=JR,aI=eI,lI=rI,cI=sI;const uI=vK,h_=j.forwardRef(({className:e,...t},r)=>u.jsx(aI,{ref:r,className:J.cn("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));h_.displayName=aI.displayName;const mc=j.forwardRef(({className:e,...t},r)=>u.jsx(lI,{ref:r,className:J.cn("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));mc.displayName=lI.displayName;const gc=j.forwardRef(({className:e,...t},r)=>u.jsx(cI,{ref:r,className:J.cn("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));gc.displayName=cI.displayName;var Jf=e=>e.type==="checkbox",Ha=e=>e instanceof Date,sn=e=>e==null;const dI=e=>typeof e=="object";var Gt=e=>!sn(e)&&!Array.isArray(e)&&dI(e)&&!Ha(e),fI=e=>Gt(e)&&e.target?Jf(e.target)?e.target.checked:e.target.value:e,bK=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,hI=(e,t)=>e.has(bK(t)),xK=e=>{const t=e.constructor&&e.constructor.prototype;return Gt(t)&&t.hasOwnProperty("isPrototypeOf")},p_=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function mr(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(p_&&(e instanceof Blob||n))&&(r||Gt(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!xK(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=mr(e[s]));else return e;return t}var Yg=e=>/^\w*$/.test(e),Yt=e=>e===void 0,m_=e=>Array.isArray(e)?e.filter(Boolean):[],g_=e=>m_(e.replace(/["|']|\]/g,"").split(/\.|\[/)),be=(e,t,r)=>{if(!t||!Gt(e))return r;const n=(Yg(t)?[t]:g_(t)).reduce((s,i)=>sn(s)?s:s[i],e);return Yt(n)||n===e?Yt(e[t])?r:e[t]:n},On=e=>typeof e=="boolean",dt=(e,t,r)=>{let n=-1;const s=Yg(t)?[t]:g_(t),i=s.length,o=i-1;for(;++n<i;){const a=s[n];let l=r;if(n!==o){const c=e[a];l=Gt(c)||Array.isArray(c)?c:isNaN(+s[n+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;e[a]=l,e=e[a]}};const mm={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ls={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Bi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},pI=w.createContext(null);pI.displayName="HookFormContext";const y_=()=>w.useContext(pI);var mI=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Ls.all&&(t._proxyFormState[o]=!n||Ls.all),r&&(r[o]=!0),e[o]}});return s};const v_=typeof window<"u"?w.useLayoutEffect:w.useEffect;function wK(e){const t=y_(),{control:r=t.control,disabled:n,name:s,exact:i}=e||{},[o,a]=w.useState(r._formState),l=w.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return v_(()=>r._subscribe({name:s,formState:l.current,exact:i,callback:c=>{!n&&a({...r._formState,...c})}}),[s,n,i]),w.useEffect(()=>{l.current.isValid&&r._setValid(!0)},[r]),w.useMemo(()=>mI(o,r,l.current,!1),[o,r])}var di=e=>typeof e=="string",gI=(e,t,r,n,s)=>di(e)?(n&&t.watch.add(e),be(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),be(r,i))):(n&&(t.watchAll=!0),r),sx=e=>sn(e)||!dI(e);function Zi(e,t,r=new WeakSet){if(sx(e)||sx(t))return e===t;if(Ha(e)&&Ha(t))return e.getTime()===t.getTime();const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const o=e[i];if(!s.includes(i))return!1;if(i!=="ref"){const a=t[i];if(Ha(o)&&Ha(a)||Gt(o)&&Gt(a)||Array.isArray(o)&&Array.isArray(a)?!Zi(o,a,r):o!==a)return!1}}return!0}function _K(e){const t=y_(),{control:r=t.control,name:n,defaultValue:s,disabled:i,exact:o,compute:a}=e||{},l=w.useRef(s),c=w.useRef(a),d=w.useRef(void 0);c.current=a;const f=w.useMemo(()=>r._getWatch(n,l.current),[r,n]),[h,p]=w.useState(c.current?c.current(f):f);return v_(()=>r._subscribe({name:n,formState:{values:!0},exact:o,callback:g=>{if(!i){const m=gI(n,r._names,g.values||r._formValues,!1,l.current);if(c.current){const y=c.current(m);Zi(y,d.current)||(p(y),d.current=y)}else p(m)}}}),[r,i,n,o]),w.useEffect(()=>r._removeUnmounted()),h}function SK(e){const t=y_(),{name:r,disabled:n,control:s=t.control,shouldUnregister:i,defaultValue:o}=e,a=hI(s._names.array,r),l=w.useMemo(()=>be(s._formValues,r,be(s._defaultValues,r,o)),[s,r,o]),c=_K({control:s,name:r,defaultValue:l,exact:!0}),d=wK({control:s,name:r,exact:!0}),f=w.useRef(e),h=w.useRef(s.register(r,{...e.rules,value:c,...On(e.disabled)?{disabled:e.disabled}:{}}));f.current=e;const p=w.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!be(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!be(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!be(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!be(d.validatingFields,r)},error:{enumerable:!0,get:()=>be(d.errors,r)}}),[d,r]),g=w.useCallback(b=>h.current.onChange({target:{value:fI(b),name:r},type:mm.CHANGE}),[r]),m=w.useCallback(()=>h.current.onBlur({target:{value:be(s._formValues,r),name:r},type:mm.BLUR}),[r,s._formValues]),y=w.useCallback(b=>{const x=be(s._fields,r);x&&b&&(x._f.ref={focus:()=>b.focus&&b.focus(),select:()=>b.select&&b.select(),setCustomValidity:S=>b.setCustomValidity(S),reportValidity:()=>b.reportValidity()})},[s._fields,r]),v=w.useMemo(()=>({name:r,value:c,...On(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:g,onBlur:m,ref:y}),[r,n,d.disabled,g,m,y,c]);return w.useEffect(()=>{const b=s._options.shouldUnregister||i;s.register(r,{...f.current.rules,...On(f.current.disabled)?{disabled:f.current.disabled}:{}});const x=(S,_)=>{const N=be(s._fields,S);N&&N._f&&(N._f.mount=_)};if(x(r,!0),b){const S=mr(be(s._options.defaultValues,r));dt(s._defaultValues,r,S),Yt(be(s._formValues,r))&&dt(s._formValues,r,S)}return!a&&s.register(r),()=>{(a?b&&!s._state.action:b)?s.unregister(r):x(r,!1)}},[r,s,a,i]),w.useEffect(()=>{s._setDisabledField({disabled:n,name:r})},[n,r,s]),w.useMemo(()=>({field:v,formState:d,fieldState:p}),[v,d,p])}const ab=e=>e.render(SK(e));var b_=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},Ud=e=>Array.isArray(e)?e:[e],fk=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},pn=e=>Gt(e)&&!Object.keys(e).length,x_=e=>e.type==="file",Fs=e=>typeof e=="function",gm=e=>{if(!p_)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},yI=e=>e.type==="select-multiple",w_=e=>e.type==="radio",EK=e=>w_(e)||Jf(e),lb=e=>gm(e)&&e.isConnected;function jK(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Yt(e)?n++:e[t[n++]];return e}function NK(e){for(const t in e)if(e.hasOwnProperty(t)&&!Yt(e[t]))return!1;return!0}function rr(e,t){const r=Array.isArray(t)?t:Yg(t)?[t]:g_(t),n=r.length===1?e:jK(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(Gt(n)&&pn(n)||Array.isArray(n)&&NK(n))&&rr(e,r.slice(0,-1)),e}var vI=e=>{for(const t in e)if(Fs(e[t]))return!0;return!1};function ym(e,t={}){const r=Array.isArray(e);if(Gt(e)||r)for(const n in e)Array.isArray(e[n])||Gt(e[n])&&!vI(e[n])?(t[n]=Array.isArray(e[n])?[]:{},ym(e[n],t[n])):sn(e[n])||(t[n]=!0);return t}function bI(e,t,r){const n=Array.isArray(e);if(Gt(e)||n)for(const s in e)Array.isArray(e[s])||Gt(e[s])&&!vI(e[s])?Yt(t)||sx(r[s])?r[s]=Array.isArray(e[s])?ym(e[s],[]):{...ym(e[s])}:bI(e[s],sn(t)?{}:t[s],r[s]):r[s]=!Zi(e[s],t[s]);return r}var od=(e,t)=>bI(e,t,ym(t));const hk={value:!1,isValid:!1},pk={value:!0,isValid:!0};var xI=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Yt(e[0].attributes.value)?Yt(e[0].value)||e[0].value===""?pk:{value:e[0].value,isValid:!0}:pk:hk}return hk},wI=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Yt(e)?e:t?e===""?NaN:e&&+e:r&&di(e)?new Date(e):n?n(e):e;const mk={isValid:!1,value:null};var _I=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,mk):mk;function gk(e){const t=e.ref;return x_(t)?t.files:w_(t)?_I(e.refs).value:yI(t)?[...t.selectedOptions].map(({value:r})=>r):Jf(t)?xI(e.refs).value:wI(Yt(t.value)?e.ref.value:t.value,e)}var kK=(e,t,r,n)=>{const s={};for(const i of e){const o=be(t,i);o&&dt(s,i,o._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},vm=e=>e instanceof RegExp,ad=e=>Yt(e)?e:vm(e)?e.source:Gt(e)?vm(e.value)?e.value.source:e.value:e,yk=e=>({isOnSubmit:!e||e===Ls.onSubmit,isOnBlur:e===Ls.onBlur,isOnChange:e===Ls.onChange,isOnAll:e===Ls.all,isOnTouch:e===Ls.onTouched});const vk="AsyncFunction";var CK=e=>!!e&&!!e.validate&&!!(Fs(e.validate)&&e.validate.constructor.name===vk||Gt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===vk)),TK=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),bk=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const qd=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=be(e,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(qd(a,t))break}else if(Gt(a)&&qd(a,t))break}}};function xk(e,t,r){const n=be(e,r);if(n||Yg(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),o=be(t,i),a=be(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(a&&a.type)return{name:i,error:a};if(a&&a.root&&a.root.type)return{name:`${i}.root`,error:a.root};s.pop()}return{name:r}}var AK=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return pn(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||Ls.all))},PK=(e,t,r)=>!e||!t||e===t||Ud(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),OK=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,DK=(e,t)=>!m_(be(e,t)).length&&rr(e,t),$K=(e,t,r)=>{const n=Ud(be(e,r));return dt(n,"root",t[r]),dt(e,r,n),e},Kp=e=>di(e);function wk(e,t,r="validate"){if(Kp(e)||Array.isArray(e)&&e.every(Kp)||On(e)&&!e)return{type:r,message:Kp(e)?e:"",ref:t}}var Ql=e=>Gt(e)&&!vm(e)?e:{value:e,message:""},_k=async(e,t,r,n,s,i)=>{const{ref:o,refs:a,required:l,maxLength:c,minLength:d,min:f,max:h,pattern:p,validate:g,name:m,valueAsNumber:y,mount:v}=e._f,b=be(r,m);if(!v||t.has(m))return{};const x=a?a[0]:o,S=L=>{s&&x.reportValidity&&(x.setCustomValidity(On(L)?"":L||""),x.reportValidity())},_={},N=w_(o),k=Jf(o),C=N||k,A=(y||x_(o))&&Yt(o.value)&&Yt(b)||gm(o)&&o.value===""||b===""||Array.isArray(b)&&!b.length,I=b_.bind(null,m,n,_),M=(L,D,z,U=Bi.maxLength,G=Bi.minLength)=>{const q=L?D:z;_[m]={type:L?U:G,message:q,ref:o,...I(L?U:G,q)}};if(i?!Array.isArray(b)||!b.length:l&&(!C&&(A||sn(b))||On(b)&&!b||k&&!xI(a).isValid||N&&!_I(a).isValid)){const{value:L,message:D}=Kp(l)?{value:!!l,message:l}:Ql(l);if(L&&(_[m]={type:Bi.required,message:D,ref:x,...I(Bi.required,D)},!n))return S(D),_}if(!A&&(!sn(f)||!sn(h))){let L,D;const z=Ql(h),U=Ql(f);if(!sn(b)&&!isNaN(b)){const G=o.valueAsNumber||b&&+b;sn(z.value)||(L=G>z.value),sn(U.value)||(D=G<U.value)}else{const G=o.valueAsDate||new Date(b),q=$=>new Date(new Date().toDateString()+" "+$),Z=o.type=="time",oe=o.type=="week";di(z.value)&&b&&(L=Z?q(b)>q(z.value):oe?b>z.value:G>new Date(z.value)),di(U.value)&&b&&(D=Z?q(b)<q(U.value):oe?b<U.value:G<new Date(U.value))}if((L||D)&&(M(!!L,z.message,U.message,Bi.max,Bi.min),!n))return S(_[m].message),_}if((c||d)&&!A&&(di(b)||i&&Array.isArray(b))){const L=Ql(c),D=Ql(d),z=!sn(L.value)&&b.length>+L.value,U=!sn(D.value)&&b.length<+D.value;if((z||U)&&(M(z,L.message,D.message),!n))return S(_[m].message),_}if(p&&!A&&di(b)){const{value:L,message:D}=Ql(p);if(vm(L)&&!b.match(L)&&(_[m]={type:Bi.pattern,message:D,ref:o,...I(Bi.pattern,D)},!n))return S(D),_}if(g){if(Fs(g)){const L=await g(b,r),D=wk(L,x);if(D&&(_[m]={...D,...I(Bi.validate,D.message)},!n))return S(D.message),_}else if(Gt(g)){let L={};for(const D in g){if(!pn(L)&&!n)break;const z=wk(await g[D](b,r),x,D);z&&(L={...z,...I(D,z.message)},S(z.message),n&&(_[m]=L))}if(!pn(L)&&(_[m]={ref:x,...L},!n))return _}}return S(!0),_};const RK={mode:Ls.onSubmit,reValidateMode:Ls.onChange,shouldFocusError:!0};function IK(e={}){let t={...RK,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Fs(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=Gt(t.defaultValues)||Gt(t.values)?mr(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:mr(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:fk(),state:fk()},p=t.criteriaMode===Ls.all,g=R=>Y=>{clearTimeout(c),c=setTimeout(R,Y)},m=async R=>{if(!t.disabled&&(d.isValid||f.isValid||R)){const Y=t.resolver?pn((await k()).errors):await A(n,!0);Y!==r.isValid&&h.state.next({isValid:Y})}},y=(R,Y)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((R||Array.from(a.mount)).forEach(Q=>{Q&&(Y?dt(r.validatingFields,Q,Y):rr(r.validatingFields,Q))}),h.state.next({validatingFields:r.validatingFields,isValidating:!pn(r.validatingFields)}))},v=(R,Y=[],Q,ye,he=!0,pe=!0)=>{if(ye&&Q&&!t.disabled){if(o.action=!0,pe&&Array.isArray(be(n,R))){const _e=Q(be(n,R),ye.argA,ye.argB);he&&dt(n,R,_e)}if(pe&&Array.isArray(be(r.errors,R))){const _e=Q(be(r.errors,R),ye.argA,ye.argB);he&&dt(r.errors,R,_e),DK(r.errors,R)}if((d.touchedFields||f.touchedFields)&&pe&&Array.isArray(be(r.touchedFields,R))){const _e=Q(be(r.touchedFields,R),ye.argA,ye.argB);he&&dt(r.touchedFields,R,_e)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=od(s,i)),h.state.next({name:R,isDirty:M(R,Y),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else dt(i,R,Y)},b=(R,Y)=>{dt(r.errors,R,Y),h.state.next({errors:r.errors})},x=R=>{r.errors=R,h.state.next({errors:r.errors,isValid:!1})},S=(R,Y,Q,ye)=>{const he=be(n,R);if(he){const pe=be(i,R,Yt(Q)?be(s,R):Q);Yt(pe)||ye&&ye.defaultChecked||Y?dt(i,R,Y?pe:gk(he._f)):z(R,pe),o.mount&&m()}},_=(R,Y,Q,ye,he)=>{let pe=!1,_e=!1;const Le={name:R};if(!t.disabled){if(!Q||ye){(d.isDirty||f.isDirty)&&(_e=r.isDirty,r.isDirty=Le.isDirty=M(),pe=_e!==Le.isDirty);const Ke=Zi(be(s,R),Y);_e=!!be(r.dirtyFields,R),Ke?rr(r.dirtyFields,R):dt(r.dirtyFields,R,!0),Le.dirtyFields=r.dirtyFields,pe=pe||(d.dirtyFields||f.dirtyFields)&&_e!==!Ke}if(Q){const Ke=be(r.touchedFields,R);Ke||(dt(r.touchedFields,R,Q),Le.touchedFields=r.touchedFields,pe=pe||(d.touchedFields||f.touchedFields)&&Ke!==Q)}pe&&he&&h.state.next(Le)}return pe?Le:{}},N=(R,Y,Q,ye)=>{const he=be(r.errors,R),pe=(d.isValid||f.isValid)&&On(Y)&&r.isValid!==Y;if(t.delayError&&Q?(l=g(()=>b(R,Q)),l(t.delayError)):(clearTimeout(c),l=null,Q?dt(r.errors,R,Q):rr(r.errors,R)),(Q?!Zi(he,Q):he)||!pn(ye)||pe){const _e={...ye,...pe&&On(Y)?{isValid:Y}:{},errors:r.errors,name:R};r={...r,..._e},h.state.next(_e)}},k=async R=>{y(R,!0);const Y=await t.resolver(i,t.context,kK(R||a.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return y(R),Y},C=async R=>{const{errors:Y}=await k(R);if(R)for(const Q of R){const ye=be(Y,Q);ye?dt(r.errors,Q,ye):rr(r.errors,Q)}else r.errors=Y;return Y},A=async(R,Y,Q={valid:!0})=>{for(const ye in R){const he=R[ye];if(he){const{_f:pe,..._e}=he;if(pe){const Le=a.array.has(pe.name),Ke=he._f&&CK(he._f);Ke&&d.validatingFields&&y([ye],!0);const Mt=await _k(he,a.disabled,i,p,t.shouldUseNativeValidation&&!Y,Le);if(Ke&&d.validatingFields&&y([ye]),Mt[pe.name]&&(Q.valid=!1,Y))break;!Y&&(be(Mt,pe.name)?Le?$K(r.errors,Mt,pe.name):dt(r.errors,pe.name,Mt[pe.name]):rr(r.errors,pe.name))}!pn(_e)&&await A(_e,Y,Q)}}return Q.valid},I=()=>{for(const R of a.unMount){const Y=be(n,R);Y&&(Y._f.refs?Y._f.refs.every(Q=>!lb(Q)):!lb(Y._f.ref))&&re(R)}a.unMount=new Set},M=(R,Y)=>!t.disabled&&(R&&Y&&dt(i,R,Y),!Zi($(),s)),L=(R,Y,Q)=>gI(R,a,{...o.mount?i:Yt(Y)?s:di(R)?{[R]:Y}:Y},Q,Y),D=R=>m_(be(o.mount?i:s,R,t.shouldUnregister?be(s,R,[]):[])),z=(R,Y,Q={})=>{const ye=be(n,R);let he=Y;if(ye){const pe=ye._f;pe&&(!pe.disabled&&dt(i,R,wI(Y,pe)),he=gm(pe.ref)&&sn(Y)?"":Y,yI(pe.ref)?[...pe.ref.options].forEach(_e=>_e.selected=he.includes(_e.value)):pe.refs?Jf(pe.ref)?pe.refs.forEach(_e=>{(!_e.defaultChecked||!_e.disabled)&&(Array.isArray(he)?_e.checked=!!he.find(Le=>Le===_e.value):_e.checked=he===_e.value||!!he)}):pe.refs.forEach(_e=>_e.checked=_e.value===he):x_(pe.ref)?pe.ref.value="":(pe.ref.value=he,pe.ref.type||h.state.next({name:R,values:mr(i)})))}(Q.shouldDirty||Q.shouldTouch)&&_(R,he,Q.shouldTouch,Q.shouldDirty,!0),Q.shouldValidate&&oe(R)},U=(R,Y,Q)=>{for(const ye in Y){if(!Y.hasOwnProperty(ye))return;const he=Y[ye],pe=R+"."+ye,_e=be(n,pe);(a.array.has(R)||Gt(he)||_e&&!_e._f)&&!Ha(he)?U(pe,he,Q):z(pe,he,Q)}},G=(R,Y,Q={})=>{const ye=be(n,R),he=a.array.has(R),pe=mr(Y);dt(i,R,pe),he?(h.array.next({name:R,values:mr(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&Q.shouldDirty&&h.state.next({name:R,dirtyFields:od(s,i),isDirty:M(R,pe)})):ye&&!ye._f&&!sn(pe)?U(R,pe,Q):z(R,pe,Q),bk(R,a)&&h.state.next({...r,name:R}),h.state.next({name:o.mount?R:void 0,values:mr(i)})},q=async R=>{o.mount=!0;const Y=R.target;let Q=Y.name,ye=!0;const he=be(n,Q),pe=Ke=>{ye=Number.isNaN(Ke)||Ha(Ke)&&isNaN(Ke.getTime())||Zi(Ke,be(i,Q,Ke))},_e=yk(t.mode),Le=yk(t.reValidateMode);if(he){let Ke,Mt;const jt=Y.type?gk(he._f):fI(R),Or=R.type===mm.BLUR||R.type===mm.FOCUS_OUT,ri=!TK(he._f)&&!t.resolver&&!be(r.errors,Q)&&!he._f.deps||OK(Or,be(r.touchedFields,Q),r.isSubmitted,Le,_e),Wn=bk(Q,a,Or);dt(i,Q,jt),Or?(!Y||!Y.readOnly)&&(he._f.onBlur&&he._f.onBlur(R),l&&l(0)):he._f.onChange&&he._f.onChange(R);const Kn=_(Q,jt,Or),En=!pn(Kn)||Wn;if(!Or&&h.state.next({name:Q,type:R.type,values:mr(i)}),ri)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?Or&&m():Or||m()),En&&h.state.next({name:Q,...Wn?{}:Kn});if(!Or&&Wn&&h.state.next({...r}),t.resolver){const{errors:Br}=await k([Q]);if(pe(jt),ye){const en=xk(r.errors,n,Q),Er=xk(Br,n,en.name||Q);Ke=Er.error,Q=Er.name,Mt=pn(Br)}}else y([Q],!0),Ke=(await _k(he,a.disabled,i,p,t.shouldUseNativeValidation))[Q],y([Q]),pe(jt),ye&&(Ke?Mt=!1:(d.isValid||f.isValid)&&(Mt=await A(n,!0)));ye&&(he._f.deps&&oe(he._f.deps),N(Q,Mt,Ke,Kn))}},Z=(R,Y)=>{if(be(r.errors,Y)&&R.focus)return R.focus(),1},oe=async(R,Y={})=>{let Q,ye;const he=Ud(R);if(t.resolver){const pe=await C(Yt(R)?R:he);Q=pn(pe),ye=R?!he.some(_e=>be(pe,_e)):Q}else R?(ye=(await Promise.all(he.map(async pe=>{const _e=be(n,pe);return await A(_e&&_e._f?{[pe]:_e}:_e)}))).every(Boolean),!(!ye&&!r.isValid)&&m()):ye=Q=await A(n);return h.state.next({...!di(R)||(d.isValid||f.isValid)&&Q!==r.isValid?{}:{name:R},...t.resolver||!R?{isValid:Q}:{},errors:r.errors}),Y.shouldFocus&&!ye&&qd(n,Z,R?he:a.mount),ye},$=R=>{const Y={...o.mount?i:s};return Yt(R)?Y:di(R)?be(Y,R):R.map(Q=>be(Y,Q))},B=(R,Y)=>({invalid:!!be((Y||r).errors,R),isDirty:!!be((Y||r).dirtyFields,R),error:be((Y||r).errors,R),isValidating:!!be(r.validatingFields,R),isTouched:!!be((Y||r).touchedFields,R)}),X=R=>{R&&Ud(R).forEach(Y=>rr(r.errors,Y)),h.state.next({errors:R?r.errors:{}})},ae=(R,Y,Q)=>{const ye=(be(n,R,{_f:{}})._f||{}).ref,he=be(r.errors,R)||{},{ref:pe,message:_e,type:Le,...Ke}=he;dt(r.errors,R,{...Ke,...Y,ref:ye}),h.state.next({name:R,errors:r.errors,isValid:!1}),Q&&Q.shouldFocus&&ye&&ye.focus&&ye.focus()},W=(R,Y)=>Fs(R)?h.state.subscribe({next:Q=>"values"in Q&&R(L(void 0,Y),Q)}):L(R,Y,!0),K=R=>h.state.subscribe({next:Y=>{PK(R.name,Y.name,R.exact)&&AK(Y,R.formState||d,et,R.reRenderRoot)&&R.callback({values:{...i},...r,...Y,defaultValues:s})}}).unsubscribe,te=R=>(o.mount=!0,f={...f,...R.formState},K({...R,formState:f})),re=(R,Y={})=>{for(const Q of R?Ud(R):a.mount)a.mount.delete(Q),a.array.delete(Q),Y.keepValue||(rr(n,Q),rr(i,Q)),!Y.keepError&&rr(r.errors,Q),!Y.keepDirty&&rr(r.dirtyFields,Q),!Y.keepTouched&&rr(r.touchedFields,Q),!Y.keepIsValidating&&rr(r.validatingFields,Q),!t.shouldUnregister&&!Y.keepDefaultValue&&rr(s,Q);h.state.next({values:mr(i)}),h.state.next({...r,...Y.keepDirty?{isDirty:M()}:{}}),!Y.keepIsValid&&m()},ue=({disabled:R,name:Y})=>{(On(R)&&o.mount||R||a.disabled.has(Y))&&(R?a.disabled.add(Y):a.disabled.delete(Y))},V=(R,Y={})=>{let Q=be(n,R);const ye=On(Y.disabled)||On(t.disabled);return dt(n,R,{...Q||{},_f:{...Q&&Q._f?Q._f:{ref:{name:R}},name:R,mount:!0,...Y}}),a.mount.add(R),Q?ue({disabled:On(Y.disabled)?Y.disabled:t.disabled,name:R}):S(R,!0,Y.value),{...ye?{disabled:Y.disabled||t.disabled}:{},...t.progressive?{required:!!Y.required,min:ad(Y.min),max:ad(Y.max),minLength:ad(Y.minLength),maxLength:ad(Y.maxLength),pattern:ad(Y.pattern)}:{},name:R,onChange:q,onBlur:q,ref:he=>{if(he){V(R,Y),Q=be(n,R);const pe=Yt(he.value)&&he.querySelectorAll&&he.querySelectorAll("input,select,textarea")[0]||he,_e=EK(pe),Le=Q._f.refs||[];if(_e?Le.find(Ke=>Ke===pe):pe===Q._f.ref)return;dt(n,R,{_f:{...Q._f,..._e?{refs:[...Le.filter(lb),pe,...Array.isArray(be(s,R))?[{}]:[]],ref:{type:pe.type,name:R}}:{ref:pe}}}),S(R,!1,void 0,pe)}else Q=be(n,R,{}),Q._f&&(Q._f.mount=!1),(t.shouldUnregister||Y.shouldUnregister)&&!(hI(a.array,R)&&o.action)&&a.unMount.add(R)}}},H=()=>t.shouldFocusError&&qd(n,Z,a.mount),ie=R=>{On(R)&&(h.state.next({disabled:R}),qd(n,(Y,Q)=>{const ye=be(n,Q);ye&&(Y.disabled=ye._f.disabled||R,Array.isArray(ye._f.refs)&&ye._f.refs.forEach(he=>{he.disabled=ye._f.disabled||R}))},0,!1))},O=(R,Y)=>async Q=>{let ye;Q&&(Q.preventDefault&&Q.preventDefault(),Q.persist&&Q.persist());let he=mr(i);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:pe,values:_e}=await k();r.errors=pe,he=mr(_e)}else await A(n);if(a.disabled.size)for(const pe of a.disabled)rr(he,pe);if(rr(r.errors,"root"),pn(r.errors)){h.state.next({errors:{}});try{await R(he,Q)}catch(pe){ye=pe}}else Y&&await Y({...r.errors},Q),H(),setTimeout(H);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:pn(r.errors)&&!ye,submitCount:r.submitCount+1,errors:r.errors}),ye)throw ye},ge=(R,Y={})=>{be(n,R)&&(Yt(Y.defaultValue)?G(R,mr(be(s,R))):(G(R,Y.defaultValue),dt(s,R,mr(Y.defaultValue))),Y.keepTouched||rr(r.touchedFields,R),Y.keepDirty||(rr(r.dirtyFields,R),r.isDirty=Y.defaultValue?M(R,mr(be(s,R))):M()),Y.keepError||(rr(r.errors,R),d.isValid&&m()),h.state.next({...r}))},Ee=(R,Y={})=>{const Q=R?mr(R):s,ye=mr(Q),he=pn(R),pe=he?s:ye;if(Y.keepDefaultValues||(s=Q),!Y.keepValues){if(Y.keepDirtyValues){const _e=new Set([...a.mount,...Object.keys(od(s,i))]);for(const Le of Array.from(_e))be(r.dirtyFields,Le)?dt(pe,Le,be(i,Le)):G(Le,be(pe,Le))}else{if(p_&&Yt(R))for(const _e of a.mount){const Le=be(n,_e);if(Le&&Le._f){const Ke=Array.isArray(Le._f.refs)?Le._f.refs[0]:Le._f.ref;if(gm(Ke)){const Mt=Ke.closest("form");if(Mt){Mt.reset();break}}}}if(Y.keepFieldsRef)for(const _e of a.mount)G(_e,be(pe,_e));else n={}}i=t.shouldUnregister?Y.keepDefaultValues?mr(s):{}:mr(pe),h.array.next({values:{...pe}}),h.state.next({values:{...pe}})}a={mount:Y.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!Y.keepIsValid||!!Y.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:Y.keepSubmitCount?r.submitCount:0,isDirty:he?!1:Y.keepDirty?r.isDirty:!!(Y.keepDefaultValues&&!Zi(R,s)),isSubmitted:Y.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:he?{}:Y.keepDirtyValues?Y.keepDefaultValues&&i?od(s,i):r.dirtyFields:Y.keepDefaultValues&&R?od(s,R):Y.keepDirty?r.dirtyFields:{},touchedFields:Y.keepTouched?r.touchedFields:{},errors:Y.keepErrors?r.errors:{},isSubmitSuccessful:Y.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},Be=(R,Y)=>Ee(Fs(R)?R(i):R,Y),Ue=(R,Y={})=>{const Q=be(n,R),ye=Q&&Q._f;if(ye){const he=ye.refs?ye.refs[0]:ye.ref;he.focus&&(he.focus(),Y.shouldSelect&&Fs(he.select)&&he.select())}},et=R=>{r={...r,...R}},Et={control:{register:V,unregister:re,getFieldState:B,handleSubmit:O,setError:ae,_subscribe:K,_runSchema:k,_focusError:H,_getWatch:L,_getDirty:M,_setValid:m,_setFieldArray:v,_setDisabledField:ue,_setErrors:x,_getFieldArray:D,_reset:Ee,_resetDefaultValues:()=>Fs(t.defaultValues)&&t.defaultValues().then(R=>{Be(R,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:I,_disableForm:ie,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(R){o=R},get _defaultValues(){return s},get _names(){return a},set _names(R){a=R},get _formState(){return r},get _options(){return t},set _options(R){t={...t,...R}}},subscribe:te,trigger:oe,register:V,handleSubmit:O,watch:W,setValue:G,getValues:$,reset:Be,resetField:ge,clearErrors:X,unregister:re,setError:ae,setFocus:Ue,getFieldState:B};return{...Et,formControl:Et}}function MK(e={}){const t=w.useRef(void 0),r=w.useRef(void 0),[n,s]=w.useState({isDirty:!1,isValidating:!1,isLoading:Fs(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Fs(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Fs(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...a}=IK(e);t.current={...a,formState:n}}const i=t.current.control;return i._options=e,v_(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(a=>({...a,isReady:!0})),i._formState.isReady=!0,o},[i]),w.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),w.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),w.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),w.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),w.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),w.useEffect(()=>{e.values&&!Zi(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,s(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),w.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=mI(n,i),t.current}const Sk=(e,t,r)=>{if(e&&"reportValidity"in e){const n=be(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},ix=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?Sk(n.ref,r,e):n&&n.refs&&n.refs.forEach(s=>Sk(s,r,e))}},Ek=(e,t)=>{t.shouldUseNativeValidation&&ix(e,t);const r={};for(const n in e){const s=be(t.fields,n),i=Object.assign(e[n]||{},{ref:s&&s.ref});if(LK(t.names||Object.keys(e),n)){const o=Object.assign({},be(r,n));dt(o,"root",i),dt(r,n,o)}else dt(r,n,i)}return r},LK=(e,t)=>{const r=jk(t);return e.some(n=>jk(n).match(`^${r}\\.\\d+`))};function jk(e){return e.replace(/\]|\[/g,"")}function fe(e,t,r){function n(a,l){var c;Object.defineProperty(a,"_zod",{value:a._zod??{},enumerable:!1}),(c=a._zod).traits??(c.traits=new Set),a._zod.traits.add(e),t(a,l);for(const d in o.prototype)d in a||Object.defineProperty(a,d,{value:o.prototype[d].bind(a)});a._zod.constr=o,a._zod.def=l}const s=(r==null?void 0:r.Parent)??Object;class i extends s{}Object.defineProperty(i,"name",{value:e});function o(a){var l;const c=r!=null&&r.Parent?new i:this;n(c,a),(l=c._zod).deferred??(l.deferred=[]);for(const d of c._zod.deferred)d();return c}return Object.defineProperty(o,"init",{value:n}),Object.defineProperty(o,Symbol.hasInstance,{value:a=>{var l,c;return r!=null&&r.Parent&&a instanceof r.Parent?!0:(c=(l=a==null?void 0:a._zod)==null?void 0:l.traits)==null?void 0:c.has(e)}}),Object.defineProperty(o,"name",{value:e}),o}class Ic extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class SI extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const EI={};function pl(e){return EI}function FK(e){const t=Object.values(e).filter(n=>typeof n=="number");return Object.entries(e).filter(([n,s])=>t.indexOf(+n)===-1).map(([n,s])=>s)}function ox(e,t){return typeof t=="bigint"?t.toString():t}function __(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function S_(e){return e==null}function E_(e){const t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}const Nk=Symbol("evaluating");function St(e,t,r){let n;Object.defineProperty(e,t,{get(){if(n!==Nk)return n===void 0&&(n=Nk,n=r()),n},set(s){Object.defineProperty(e,t,{value:s})},configurable:!0})}function BK(e){return Object.create(Object.getPrototypeOf(e),Object.getOwnPropertyDescriptors(e))}function ya(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function ju(...e){const t={};for(const r of e){const n=Object.getOwnPropertyDescriptors(r);Object.assign(t,n)}return Object.defineProperties({},t)}function kk(e){return JSON.stringify(e)}const jI="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function bm(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const zK=__(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function uf(e){if(bm(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(bm(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function NI(e){return uf(e)?{...e}:e}const UK=new Set(["string","number","symbol"]);function Gg(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function va(e,t,r){const n=new e._zod.constr(t??e._zod.def);return(!t||r!=null&&r.parent)&&(n._zod.parent=e),n}function ze(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function qK(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}function VK(e,t){const r=e._zod.def,n=ju(e._zod.def,{get shape(){const s={};for(const i in t){if(!(i in r.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&(s[i]=r.shape[i])}return ya(this,"shape",s),s},checks:[]});return va(e,n)}function WK(e,t){const r=e._zod.def,n=ju(e._zod.def,{get shape(){const s={...e._zod.def.shape};for(const i in t){if(!(i in r.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&delete s[i]}return ya(this,"shape",s),s},checks:[]});return va(e,n)}function KK(e,t){if(!uf(t))throw new Error("Invalid input to extend: expected a plain object");const r=e._zod.def.checks;if(r&&r.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const s=ju(e._zod.def,{get shape(){const i={...e._zod.def.shape,...t};return ya(this,"shape",i),i},checks:[]});return va(e,s)}function HK(e,t){if(!uf(t))throw new Error("Invalid input to safeExtend: expected a plain object");const r={...e._zod.def,get shape(){const n={...e._zod.def.shape,...t};return ya(this,"shape",n),n},checks:e._zod.def.checks};return va(e,r)}function YK(e,t){const r=ju(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return ya(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return va(e,r)}function GK(e,t,r){const n=ju(t._zod.def,{get shape(){const s=t._zod.def.shape,i={...s};if(r)for(const o in r){if(!(o in s))throw new Error(`Unrecognized key: "${o}"`);r[o]&&(i[o]=e?new e({type:"optional",innerType:s[o]}):s[o])}else for(const o in s)i[o]=e?new e({type:"optional",innerType:s[o]}):s[o];return ya(this,"shape",i),i},checks:[]});return va(t,n)}function ZK(e,t,r){const n=ju(t._zod.def,{get shape(){const s=t._zod.def.shape,i={...s};if(r)for(const o in r){if(!(o in i))throw new Error(`Unrecognized key: "${o}"`);r[o]&&(i[o]=new e({type:"nonoptional",innerType:s[o]}))}else for(const o in s)i[o]=new e({type:"nonoptional",innerType:s[o]});return ya(this,"shape",i),i},checks:[]});return va(t,n)}function yc(e,t=0){var r;if(e.aborted===!0)return!0;for(let n=t;n<e.issues.length;n++)if(((r=e.issues[n])==null?void 0:r.continue)!==!0)return!0;return!1}function kI(e,t){return t.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(e),r})}function tp(e){return typeof e=="string"?e:e==null?void 0:e.message}function ml(e,t,r){var s,i,o,a,l,c;const n={...e,path:e.path??[]};if(!e.message){const d=tp((o=(i=(s=e.inst)==null?void 0:s._zod.def)==null?void 0:i.error)==null?void 0:o.call(i,e))??tp((a=t==null?void 0:t.error)==null?void 0:a.call(t,e))??tp((l=r.customError)==null?void 0:l.call(r,e))??tp((c=r.localeError)==null?void 0:c.call(r,e))??"Invalid input";n.message=d}return delete n.inst,delete n.continue,t!=null&&t.reportInput||delete n.input,n}function j_(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function df(...e){const[t,r,n]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:n}:{...t}}const CI=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,ox,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},N_=fe("$ZodError",CI),Zg=fe("$ZodError",CI,{Parent:Error});function XK(e,t=r=>r.message){const r={},n=[];for(const s of e.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):n.push(t(s));return{formErrors:n,fieldErrors:r}}function JK(e,t){const r=t||function(i){return i.message},n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(a=>s({issues:a}));else if(o.code==="invalid_key")s({issues:o.issues});else if(o.code==="invalid_element")s({issues:o.issues});else if(o.path.length===0)n._errors.push(r(o));else{let a=n,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(r(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return s(e),n}const Xg=e=>(t,r,n,s)=>{const i=n?Object.assign(n,{async:!1}):{async:!1},o=t._zod.run({value:r,issues:[]},i);if(o instanceof Promise)throw new Ic;if(o.issues.length){const a=new((s==null?void 0:s.Err)??e)(o.issues.map(l=>ml(l,i,pl())));throw jI(a,s==null?void 0:s.callee),a}return o.value},QK=Xg(Zg),Jg=e=>async(t,r,n,s)=>{const i=n?Object.assign(n,{async:!0}):{async:!0};let o=t._zod.run({value:r,issues:[]},i);if(o instanceof Promise&&(o=await o),o.issues.length){const a=new((s==null?void 0:s.Err)??e)(o.issues.map(l=>ml(l,i,pl())));throw jI(a,s==null?void 0:s.callee),a}return o.value},eH=Jg(Zg),Qg=e=>(t,r,n)=>{const s=n?{...n,async:!1}:{async:!1},i=t._zod.run({value:r,issues:[]},s);if(i instanceof Promise)throw new Ic;return i.issues.length?{success:!1,error:new(e??N_)(i.issues.map(o=>ml(o,s,pl())))}:{success:!0,data:i.value}},tH=Qg(Zg),ey=e=>async(t,r,n)=>{const s=n?Object.assign(n,{async:!0}):{async:!0};let i=t._zod.run({value:r,issues:[]},s);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new e(i.issues.map(o=>ml(o,s,pl())))}:{success:!0,data:i.value}},rH=ey(Zg),nH=e=>(t,r,n)=>{const s=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Xg(e)(t,r,s)},sH=e=>(t,r,n)=>Xg(e)(t,r,n),iH=e=>async(t,r,n)=>{const s=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Jg(e)(t,r,s)},oH=e=>async(t,r,n)=>Jg(e)(t,r,n),aH=e=>(t,r,n)=>{const s=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Qg(e)(t,r,s)},lH=e=>(t,r,n)=>Qg(e)(t,r,n),cH=e=>async(t,r,n)=>{const s=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return ey(e)(t,r,s)},uH=e=>async(t,r,n)=>ey(e)(t,r,n),dH=/^[cC][^\s-]{8,}$/,fH=/^[0-9a-z]+$/,hH=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,pH=/^[0-9a-vA-V]{20}$/,mH=/^[A-Za-z0-9]{27}$/,gH=/^[a-zA-Z0-9_-]{21}$/,yH=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,vH=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Ck=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,bH=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,xH="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function wH(){return new RegExp(xH,"u")}const _H=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,SH=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,EH=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,jH=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,NH=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,TI=/^[A-Za-z0-9_-]*$/,kH=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,CH=/^\+(?:[0-9]){6,14}[0-9]$/,AI="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",TH=new RegExp(`^${AI}$`);function PI(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function AH(e){return new RegExp(`^${PI(e)}$`)}function PH(e){const t=PI({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const n=`${t}(?:${r.join("|")})`;return new RegExp(`^${AI}T(?:${n})$`)}const OH=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},DH=/true|false/i,$H=/^[^A-Z]*$/,RH=/^[^a-z]*$/,Oi=fe("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),IH=fe("$ZodCheckMaxLength",(e,t)=>{var r;Oi.init(e,t),(r=e._zod.def).when??(r.when=n=>{const s=n.value;return!S_(s)&&s.length!==void 0}),e._zod.onattach.push(n=>{const s=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<s&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const s=n.value;if(s.length<=t.maximum)return;const o=j_(s);n.issues.push({origin:o,code:"too_big",maximum:t.maximum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),MH=fe("$ZodCheckMinLength",(e,t)=>{var r;Oi.init(e,t),(r=e._zod.def).when??(r.when=n=>{const s=n.value;return!S_(s)&&s.length!==void 0}),e._zod.onattach.push(n=>{const s=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>s&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const s=n.value;if(s.length>=t.minimum)return;const o=j_(s);n.issues.push({origin:o,code:"too_small",minimum:t.minimum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),LH=fe("$ZodCheckLengthEquals",(e,t)=>{var r;Oi.init(e,t),(r=e._zod.def).when??(r.when=n=>{const s=n.value;return!S_(s)&&s.length!==void 0}),e._zod.onattach.push(n=>{const s=n._zod.bag;s.minimum=t.length,s.maximum=t.length,s.length=t.length}),e._zod.check=n=>{const s=n.value,i=s.length;if(i===t.length)return;const o=j_(s),a=i>t.length;n.issues.push({origin:o,...a?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),ty=fe("$ZodCheckStringFormat",(e,t)=>{var r,n;Oi.init(e,t),e._zod.onattach.push(s=>{const i=s._zod.bag;i.format=t.format,t.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=s=>{t.pattern.lastIndex=0,!t.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:t.format,input:s.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),FH=fe("$ZodCheckRegex",(e,t)=>{ty.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),BH=fe("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=$H),ty.init(e,t)}),zH=fe("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=RH),ty.init(e,t)}),UH=fe("$ZodCheckIncludes",(e,t)=>{Oi.init(e,t);const r=Gg(t.includes),n=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(s=>{const i=s._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=s=>{s.value.includes(t.includes,t.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:s.value,inst:e,continue:!t.abort})}}),qH=fe("$ZodCheckStartsWith",(e,t)=>{Oi.init(e,t);const r=new RegExp(`^${Gg(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const s=n._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),VH=fe("$ZodCheckEndsWith",(e,t)=>{Oi.init(e,t);const r=new RegExp(`.*${Gg(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const s=n._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}}),WH=fe("$ZodCheckOverwrite",(e,t)=>{Oi.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});class KH{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const n=t.split(`
`).filter(o=>o),s=Math.min(...n.map(o=>o.length-o.trimStart().length)),i=n.map(o=>o.slice(s)).map(o=>" ".repeat(this.indent*2)+o);for(const o of i)this.content.push(o)}compile(){const t=Function,r=this==null?void 0:this.args,s=[...((this==null?void 0:this.content)??[""]).map(i=>`  ${i}`)];return new t(...r,s.join(`
`))}}const HH={major:4,minor:1,patch:3},cr=fe("$ZodType",(e,t)=>{var s;var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=HH;const n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(const i of n)for(const o of i._zod.onattach)o(e);if(n.length===0)(r=e._zod).deferred??(r.deferred=[]),(s=e._zod.deferred)==null||s.push(()=>{e._zod.run=e._zod.parse});else{const i=(a,l,c)=>{let d=yc(a),f;for(const h of l){if(h._zod.def.when){if(!h._zod.def.when(a))continue}else if(d)continue;const p=a.issues.length,g=h._zod.check(a);if(g instanceof Promise&&(c==null?void 0:c.async)===!1)throw new Ic;if(f||g instanceof Promise)f=(f??Promise.resolve()).then(async()=>{await g,a.issues.length!==p&&(d||(d=yc(a,p)))});else{if(a.issues.length===p)continue;d||(d=yc(a,p))}}return f?f.then(()=>a):a},o=(a,l,c)=>{if(yc(a))return a.aborted=!0,a;const d=i(l,n,c);if(d instanceof Promise){if(c.async===!1)throw new Ic;return d.then(f=>e._zod.parse(f,c))}return e._zod.parse(d,c)};e._zod.run=(a,l)=>{if(l.skipChecks)return e._zod.parse(a,l);if(l.direction==="backward"){const d=e._zod.parse({value:a.value,issues:[]},{...l,skipChecks:!0});return d instanceof Promise?d.then(f=>o(f,a,l)):o(d,a,l)}const c=e._zod.parse(a,l);if(c instanceof Promise){if(l.async===!1)throw new Ic;return c.then(d=>i(d,n,l))}return i(c,n,l)}}e["~standard"]={validate:i=>{var o;try{const a=tH(e,i);return a.success?{value:a.data}:{issues:(o=a.error)==null?void 0:o.issues}}catch{return rH(e,i).then(l=>{var c;return l.success?{value:l.data}:{issues:(c=l.error)==null?void 0:c.issues}})}},vendor:"zod",version:1}}),k_=fe("$ZodString",(e,t)=>{var r;cr.init(e,t),e._zod.pattern=[...((r=e==null?void 0:e._zod.bag)==null?void 0:r.patterns)??[]].pop()??OH(e._zod.bag),e._zod.parse=(n,s)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),Rt=fe("$ZodStringFormat",(e,t)=>{ty.init(e,t),k_.init(e,t)}),YH=fe("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=vH),Rt.init(e,t)}),GH=fe("$ZodUUID",(e,t)=>{if(t.version){const n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(n===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=Ck(n))}else t.pattern??(t.pattern=Ck());Rt.init(e,t)}),ZH=fe("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=bH),Rt.init(e,t)}),XH=fe("$ZodURL",(e,t)=>{Rt.init(e,t),e._zod.check=r=>{try{const n=r.value.trim(),s=new URL(n);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(s.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:kH.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=s.href:r.value=n;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),JH=fe("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=wH()),Rt.init(e,t)}),QH=fe("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=gH),Rt.init(e,t)}),eY=fe("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=dH),Rt.init(e,t)}),tY=fe("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=fH),Rt.init(e,t)}),rY=fe("$ZodULID",(e,t)=>{t.pattern??(t.pattern=hH),Rt.init(e,t)}),nY=fe("$ZodXID",(e,t)=>{t.pattern??(t.pattern=pH),Rt.init(e,t)}),sY=fe("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=mH),Rt.init(e,t)}),iY=fe("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=PH(t)),Rt.init(e,t)}),oY=fe("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=TH),Rt.init(e,t)}),aY=fe("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=AH(t)),Rt.init(e,t)}),lY=fe("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=yH),Rt.init(e,t)}),cY=fe("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=_H),Rt.init(e,t),e._zod.onattach.push(r=>{const n=r._zod.bag;n.format="ipv4"})}),uY=fe("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=SH),Rt.init(e,t),e._zod.onattach.push(r=>{const n=r._zod.bag;n.format="ipv6"}),e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),dY=fe("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=EH),Rt.init(e,t)}),fY=fe("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=jH),Rt.init(e,t),e._zod.check=r=>{const[n,s]=r.value.split("/");try{if(!s)throw new Error;const i=Number(s);if(`${i}`!==s)throw new Error;if(i<0||i>128)throw new Error;new URL(`http://[${n}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function OI(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const hY=fe("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=NH),Rt.init(e,t),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64"}),e._zod.check=r=>{OI(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function pY(e){if(!TI.test(e))return!1;const t=e.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return OI(r)}const mY=fe("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=TI),Rt.init(e,t),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64url"}),e._zod.check=r=>{pY(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),gY=fe("$ZodE164",(e,t)=>{t.pattern??(t.pattern=CH),Rt.init(e,t)});function yY(e,t=null){try{const r=e.split(".");if(r.length!==3)return!1;const[n]=r;if(!n)return!1;const s=JSON.parse(atob(n));return!("typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&(!("alg"in s)||s.alg!==t))}catch{return!1}}const vY=fe("$ZodJWT",(e,t)=>{Rt.init(e,t),e._zod.check=r=>{yY(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),bY=fe("$ZodBoolean",(e,t)=>{cr.init(e,t),e._zod.pattern=DH,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=!!r.value}catch{}const s=r.value;return typeof s=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:s,inst:e}),r}}),xY=fe("$ZodUnknown",(e,t)=>{cr.init(e,t),e._zod.parse=r=>r}),wY=fe("$ZodNever",(e,t)=>{cr.init(e,t),e._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)});function Tk(e,t,r){e.issues.length&&t.issues.push(...kI(r,e.issues)),t.value[r]=e.value}const _Y=fe("$ZodArray",(e,t)=>{cr.init(e,t),e._zod.parse=(r,n)=>{const s=r.value;if(!Array.isArray(s))return r.issues.push({expected:"array",code:"invalid_type",input:s,inst:e}),r;r.value=Array(s.length);const i=[];for(let o=0;o<s.length;o++){const a=s[o],l=t.element._zod.run({value:a,issues:[]},n);l instanceof Promise?i.push(l.then(c=>Tk(c,r,o))):Tk(l,r,o)}return i.length?Promise.all(i).then(()=>r):r}});function xm(e,t,r,n){e.issues.length&&t.issues.push(...kI(r,e.issues)),e.value===void 0?r in n&&(t.value[r]=void 0):t.value[r]=e.value}function DI(e){const t=Object.keys(e.shape);for(const n of t)if(!e.shape[n]._zod.traits.has("$ZodType"))throw new Error(`Invalid element at key "${n}": expected a Zod schema`);const r=qK(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)}}function $I(e,t,r,n,s,i){const o=[],a=s.keySet,l=s.catchall._zod,c=l.def.type;for(const d of Object.keys(t)){if(a.has(d))continue;if(c==="never"){o.push(d);continue}const f=l.run({value:t[d],issues:[]},n);f instanceof Promise?e.push(f.then(h=>xm(h,r,d,t))):xm(f,r,d,t)}return o.length&&r.issues.push({code:"unrecognized_keys",keys:o,input:t,inst:i}),e.length?Promise.all(e).then(()=>r):r}const SY=fe("$ZodObject",(e,t)=>{cr.init(e,t);const r=__(()=>DI(t));St(e._zod,"propValues",()=>{const o=t.shape,a={};for(const l in o){const c=o[l]._zod;if(c.values){a[l]??(a[l]=new Set);for(const d of c.values)a[l].add(d)}}return a});const n=bm,s=t.catchall;let i;e._zod.parse=(o,a)=>{i??(i=r.value);const l=o.value;if(!n(l))return o.issues.push({expected:"object",code:"invalid_type",input:l,inst:e}),o;o.value={};const c=[],d=i.shape;for(const f of i.keys){const p=d[f]._zod.run({value:l[f],issues:[]},a);p instanceof Promise?c.push(p.then(g=>xm(g,o,f,l))):xm(p,o,f,l)}return s?$I(c,l,o,a,r.value,e):c.length?Promise.all(c).then(()=>o):o}}),EY=fe("$ZodObjectJIT",(e,t)=>{SY.init(e,t);const r=e._zod.parse,n=__(()=>DI(t)),s=h=>{const p=new KH(["shape","payload","ctx"]),g=n.value,m=x=>{const S=kk(x);return`shape[${S}]._zod.run({ value: input[${S}], issues: [] }, ctx)`};p.write("const input = payload.value;");const y=Object.create(null);let v=0;for(const x of g.keys)y[x]=`key_${v++}`;p.write("const newResult = {}");for(const x of g.keys){const S=y[x],_=kk(x);p.write(`const ${S} = ${m(x)};`),p.write(`
        if (${S}.issues.length) {
          payload.issues = payload.issues.concat(${S}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${_}, ...iss.path] : [${_}]
          })));
        }
        
        if (${S}.value === undefined) {
          if (${_} in input) {
            newResult[${_}] = undefined;
          }
        } else {
          newResult[${_}] = ${S}.value;
        }
      `)}p.write("payload.value = newResult;"),p.write("return payload;");const b=p.compile();return(x,S)=>b(h,x,S)};let i;const o=bm,a=!EI.jitless,c=a&&zK.value,d=t.catchall;let f;e._zod.parse=(h,p)=>{f??(f=n.value);const g=h.value;return o(g)?a&&c&&(p==null?void 0:p.async)===!1&&p.jitless!==!0?(i||(i=s(t.shape)),h=i(h,p),d?$I([],g,h,p,f,e):h):r(h,p):(h.issues.push({expected:"object",code:"invalid_type",input:g,inst:e}),h)}});function Ak(e,t,r,n){for(const i of e)if(i.issues.length===0)return t.value=i.value,t;const s=e.filter(i=>!yc(i));return s.length===1?(t.value=s[0].value,s[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(i=>i.issues.map(o=>ml(o,n,pl())))}),t)}const jY=fe("$ZodUnion",(e,t)=>{cr.init(e,t),St(e._zod,"optin",()=>t.options.some(s=>s._zod.optin==="optional")?"optional":void 0),St(e._zod,"optout",()=>t.options.some(s=>s._zod.optout==="optional")?"optional":void 0),St(e._zod,"values",()=>{if(t.options.every(s=>s._zod.values))return new Set(t.options.flatMap(s=>Array.from(s._zod.values)))}),St(e._zod,"pattern",()=>{if(t.options.every(s=>s._zod.pattern)){const s=t.options.map(i=>i._zod.pattern);return new RegExp(`^(${s.map(i=>E_(i.source)).join("|")})$`)}});const r=t.options.length===1,n=t.options[0]._zod.run;e._zod.parse=(s,i)=>{if(r)return n(s,i);let o=!1;const a=[];for(const l of t.options){const c=l._zod.run({value:s.value,issues:[]},i);if(c instanceof Promise)a.push(c),o=!0;else{if(c.issues.length===0)return c;a.push(c)}}return o?Promise.all(a).then(l=>Ak(l,s,e,i)):Ak(a,s,e,i)}}),NY=fe("$ZodIntersection",(e,t)=>{cr.init(e,t),e._zod.parse=(r,n)=>{const s=r.value,i=t.left._zod.run({value:s,issues:[]},n),o=t.right._zod.run({value:s,issues:[]},n);return i instanceof Promise||o instanceof Promise?Promise.all([i,o]).then(([l,c])=>Pk(r,l,c)):Pk(r,i,o)}});function ax(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(uf(e)&&uf(t)){const r=Object.keys(t),n=Object.keys(e).filter(i=>r.indexOf(i)!==-1),s={...e,...t};for(const i of n){const o=ax(e[i],t[i]);if(!o.valid)return{valid:!1,mergeErrorPath:[i,...o.mergeErrorPath]};s[i]=o.data}return{valid:!0,data:s}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let n=0;n<e.length;n++){const s=e[n],i=t[n],o=ax(s,i);if(!o.valid)return{valid:!1,mergeErrorPath:[n,...o.mergeErrorPath]};r.push(o.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function Pk(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),yc(e))return e;const n=ax(t.value,r.value);if(!n.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return e.value=n.data,e}const kY=fe("$ZodEnum",(e,t)=>{cr.init(e,t);const r=FK(t.entries),n=new Set(r);e._zod.values=n,e._zod.pattern=new RegExp(`^(${r.filter(s=>UK.has(typeof s)).map(s=>typeof s=="string"?Gg(s):s.toString()).join("|")})$`),e._zod.parse=(s,i)=>{const o=s.value;return n.has(o)||s.issues.push({code:"invalid_value",values:r,input:o,inst:e}),s}}),CY=fe("$ZodTransform",(e,t)=>{cr.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new SI(e.constructor.name);const s=t.transform(r.value,r);if(n.async)return(s instanceof Promise?s:Promise.resolve(s)).then(o=>(r.value=o,r));if(s instanceof Promise)throw new Ic;return r.value=s,r}});function Ok(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const TY=fe("$ZodOptional",(e,t)=>{cr.init(e,t),e._zod.optin="optional",e._zod.optout="optional",St(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),St(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${E_(r.source)})?$`):void 0}),e._zod.parse=(r,n)=>{if(t.innerType._zod.optin==="optional"){const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(i=>Ok(i,r.value)):Ok(s,r.value)}return r.value===void 0?r:t.innerType._zod.run(r,n)}}),AY=fe("$ZodNullable",(e,t)=>{cr.init(e,t),St(e._zod,"optin",()=>t.innerType._zod.optin),St(e._zod,"optout",()=>t.innerType._zod.optout),St(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${E_(r.source)}|null)$`):void 0}),St(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,n)=>r.value===null?r:t.innerType._zod.run(r,n)}),PY=fe("$ZodDefault",(e,t)=>{cr.init(e,t),e._zod.optin="optional",St(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);if(r.value===void 0)return r.value=t.defaultValue,r;const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(i=>Dk(i,t)):Dk(s,t)}});function Dk(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const OY=fe("$ZodPrefault",(e,t)=>{cr.init(e,t),e._zod.optin="optional",St(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>(n.direction==="backward"||r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,n))}),DY=fe("$ZodNonOptional",(e,t)=>{cr.init(e,t),St(e._zod,"values",()=>{const r=t.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),e._zod.parse=(r,n)=>{const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(i=>$k(i,e)):$k(s,e)}});function $k(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const $Y=fe("$ZodCatch",(e,t)=>{cr.init(e,t),St(e._zod,"optin",()=>t.innerType._zod.optin),St(e._zod,"optout",()=>t.innerType._zod.optout),St(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(i=>(r.value=i.value,i.issues.length&&(r.value=t.catchValue({...r,error:{issues:i.issues.map(o=>ml(o,n,pl()))},input:r.value}),r.issues=[]),r)):(r.value=s.value,s.issues.length&&(r.value=t.catchValue({...r,error:{issues:s.issues.map(i=>ml(i,n,pl()))},input:r.value}),r.issues=[]),r)}}),RY=fe("$ZodPipe",(e,t)=>{cr.init(e,t),St(e._zod,"values",()=>t.in._zod.values),St(e._zod,"optin",()=>t.in._zod.optin),St(e._zod,"optout",()=>t.out._zod.optout),St(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{if(n.direction==="backward"){const i=t.out._zod.run(r,n);return i instanceof Promise?i.then(o=>rp(o,t.in,n)):rp(i,t.in,n)}const s=t.in._zod.run(r,n);return s instanceof Promise?s.then(i=>rp(i,t.out,n)):rp(s,t.out,n)}});function rp(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}const IY=fe("$ZodReadonly",(e,t)=>{cr.init(e,t),St(e._zod,"propValues",()=>t.innerType._zod.propValues),St(e._zod,"values",()=>t.innerType._zod.values),St(e._zod,"optin",()=>t.innerType._zod.optin),St(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(Rk):Rk(s)}});function Rk(e){return e.value=Object.freeze(e.value),e}const MY=fe("$ZodCustom",(e,t)=>{Oi.init(e,t),cr.init(e,t),e._zod.parse=(r,n)=>r,e._zod.check=r=>{const n=r.value,s=t.fn(n);if(s instanceof Promise)return s.then(i=>Ik(i,r,n,e));Ik(s,r,n,e)}});function Ik(e,t,r,n){if(!e){const s={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(s.params=n._zod.def.params),t.issues.push(df(s))}}class LY{constructor(){this._map=new Map,this._idmap=new Map}add(t,...r){const n=r[0];if(this._map.set(t,n),n&&typeof n=="object"&&"id"in n){if(this._idmap.has(n.id))throw new Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,t)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(t){const r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){const r=t._zod.parent;if(r){const n={...this.get(r)??{}};delete n.id;const s={...n,...this._map.get(t)};return Object.keys(s).length?s:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function FY(){return new LY}const np=FY();function BY(e,t){return new e({type:"string",...ze(t)})}function zY(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...ze(t)})}function Mk(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...ze(t)})}function UY(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...ze(t)})}function qY(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...ze(t)})}function VY(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...ze(t)})}function WY(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...ze(t)})}function KY(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...ze(t)})}function HY(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...ze(t)})}function YY(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...ze(t)})}function GY(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...ze(t)})}function ZY(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...ze(t)})}function XY(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...ze(t)})}function JY(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...ze(t)})}function QY(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...ze(t)})}function eG(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...ze(t)})}function tG(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...ze(t)})}function rG(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...ze(t)})}function nG(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...ze(t)})}function sG(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...ze(t)})}function iG(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...ze(t)})}function oG(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...ze(t)})}function aG(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...ze(t)})}function lG(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...ze(t)})}function cG(e,t){return new e({type:"string",format:"date",check:"string_format",...ze(t)})}function uG(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...ze(t)})}function dG(e,t){return new e({type:"string",format:"duration",check:"string_format",...ze(t)})}function fG(e,t){return new e({type:"boolean",...ze(t)})}function hG(e){return new e({type:"unknown"})}function pG(e,t){return new e({type:"never",...ze(t)})}function RI(e,t){return new IH({check:"max_length",...ze(t),maximum:e})}function wm(e,t){return new MH({check:"min_length",...ze(t),minimum:e})}function II(e,t){return new LH({check:"length_equals",...ze(t),length:e})}function mG(e,t){return new FH({check:"string_format",format:"regex",...ze(t),pattern:e})}function gG(e){return new BH({check:"string_format",format:"lowercase",...ze(e)})}function yG(e){return new zH({check:"string_format",format:"uppercase",...ze(e)})}function vG(e,t){return new UH({check:"string_format",format:"includes",...ze(t),includes:e})}function bG(e,t){return new qH({check:"string_format",format:"starts_with",...ze(t),prefix:e})}function xG(e,t){return new VH({check:"string_format",format:"ends_with",...ze(t),suffix:e})}function Qf(e){return new WH({check:"overwrite",tx:e})}function wG(e){return Qf(t=>t.normalize(e))}function _G(){return Qf(e=>e.trim())}function SG(){return Qf(e=>e.toLowerCase())}function EG(){return Qf(e=>e.toUpperCase())}function jG(e,t,r){return new e({type:"array",element:t,...ze(r)})}function NG(e,t,r){return new e({type:"custom",check:"custom",fn:t,...ze(r)})}function kG(e){const t=CG(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(df(n,r.value,t._zod.def));else{const s=n;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=r.value),s.inst??(s.inst=t),s.continue??(s.continue=!t._zod.def.abort),r.issues.push(df(s))}},e(r.value,r)));return t}function CG(e,t){const r=new Oi({check:"custom",...ze(t)});return r._zod.check=e,r}function Lk(e,t){try{var r=e()}catch(n){return t(n)}return r&&r.then?r.then(void 0,t):r}function TG(e,t){for(var r={};e.length;){var n=e[0],s=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var a=n.unionErrors[0].errors[0];r[o]={message:a.message,type:a.code}}else r[o]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var l=r[o].types,c=l&&l[n.code];r[o]=b_(o,t,r,s,c?[].concat(c,n.message):n.message)}e.shift()}return r}function AG(e,t){for(var r={};e.length;){var n=e[0],s=n.code,i=n.message,o=n.path.join(".");if(!r[o])if(n.code==="invalid_union"&&n.errors.length>0){var a=n.errors[0][0];r[o]={message:a.message,type:a.code}}else r[o]={message:i,type:s};if(n.code==="invalid_union"&&n.errors.forEach(function(d){return d.forEach(function(f){return e.push(f)})}),t){var l=r[o].types,c=l&&l[n.code];r[o]=b_(o,t,r,s,c?[].concat(c,n.message):n.message)}e.shift()}return r}function PG(e,t,r){if(r===void 0&&(r={}),function(n){return"_def"in n&&typeof n._def=="object"&&"typeName"in n._def}(e))return function(n,s,i){try{return Promise.resolve(Lk(function(){return Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(o){return i.shouldUseNativeValidation&&ix({},i),{errors:{},values:r.raw?Object.assign({},n):o}})},function(o){if(function(a){return Array.isArray(a==null?void 0:a.issues)}(o))return{values:{},errors:Ek(TG(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}};if(function(n){return"_zod"in n&&typeof n._zod=="object"}(e))return function(n,s,i){try{return Promise.resolve(Lk(function(){return Promise.resolve((r.mode==="sync"?QK:eH)(e,n,t)).then(function(o){return i.shouldUseNativeValidation&&ix({},i),{errors:{},values:r.raw?Object.assign({},n):o}})},function(o){if(function(a){return a instanceof N_}(o))return{values:{},errors:Ek(AG(o.issues,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}};throw new Error("Invalid input: not a Zod schema")}const OG=fe("ZodISODateTime",(e,t)=>{iY.init(e,t),qt.init(e,t)});function DG(e){return lG(OG,e)}const $G=fe("ZodISODate",(e,t)=>{oY.init(e,t),qt.init(e,t)});function RG(e){return cG($G,e)}const IG=fe("ZodISOTime",(e,t)=>{aY.init(e,t),qt.init(e,t)});function MG(e){return uG(IG,e)}const LG=fe("ZodISODuration",(e,t)=>{lY.init(e,t),qt.init(e,t)});function FG(e){return dG(LG,e)}const BG=(e,t)=>{N_.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>JK(e,r)},flatten:{value:r=>XK(e,r)},addIssue:{value:r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,ox,2)}},addIssues:{value:r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,ox,2)}},isEmpty:{get(){return e.issues.length===0}}})},ys=fe("ZodError",BG,{Parent:Error}),zG=Xg(ys),UG=Jg(ys),qG=Qg(ys),VG=ey(ys),WG=nH(ys),KG=sH(ys),HG=iH(ys),YG=oH(ys),GG=aH(ys),ZG=lH(ys),XG=cH(ys),JG=uH(ys),xr=fe("ZodType",(e,t)=>(cr.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone({...t,checks:[...t.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]}),e.clone=(r,n)=>va(e,r,n),e.brand=()=>e,e.register=(r,n)=>(r.add(e,n),e),e.parse=(r,n)=>zG(e,r,n,{callee:e.parse}),e.safeParse=(r,n)=>qG(e,r,n),e.parseAsync=async(r,n)=>UG(e,r,n,{callee:e.parseAsync}),e.safeParseAsync=async(r,n)=>VG(e,r,n),e.spa=e.safeParseAsync,e.encode=(r,n)=>WG(e,r,n),e.decode=(r,n)=>KG(e,r,n),e.encodeAsync=async(r,n)=>HG(e,r,n),e.decodeAsync=async(r,n)=>YG(e,r,n),e.safeEncode=(r,n)=>GG(e,r,n),e.safeDecode=(r,n)=>ZG(e,r,n),e.safeEncodeAsync=async(r,n)=>XG(e,r,n),e.safeDecodeAsync=async(r,n)=>JG(e,r,n),e.refine=(r,n)=>e.check(UZ(r,n)),e.superRefine=r=>e.check(qZ(r)),e.overwrite=r=>e.check(Qf(r)),e.optional=()=>Uk(e),e.nullable=()=>qk(e),e.nullish=()=>Uk(qk(e)),e.nonoptional=r=>RZ(e,r),e.array=()=>LI(e),e.or=r=>jZ([e,r]),e.and=r=>kZ(e,r),e.transform=r=>Vk(e,TZ(r)),e.default=r=>OZ(e,r),e.prefault=r=>$Z(e,r),e.catch=r=>MZ(e,r),e.pipe=r=>Vk(e,r),e.readonly=()=>BZ(e),e.describe=r=>{const n=e.clone();return np.add(n,{description:r}),n},Object.defineProperty(e,"description",{get(){var r;return(r=np.get(e))==null?void 0:r.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return np.get(e);const n=e.clone();return np.add(n,r[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),MI=fe("_ZodString",(e,t)=>{k_.init(e,t),xr.init(e,t);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...n)=>e.check(mG(...n)),e.includes=(...n)=>e.check(vG(...n)),e.startsWith=(...n)=>e.check(bG(...n)),e.endsWith=(...n)=>e.check(xG(...n)),e.min=(...n)=>e.check(wm(...n)),e.max=(...n)=>e.check(RI(...n)),e.length=(...n)=>e.check(II(...n)),e.nonempty=(...n)=>e.check(wm(1,...n)),e.lowercase=n=>e.check(gG(n)),e.uppercase=n=>e.check(yG(n)),e.trim=()=>e.check(_G()),e.normalize=(...n)=>e.check(wG(...n)),e.toLowerCase=()=>e.check(SG()),e.toUpperCase=()=>e.check(EG())}),QG=fe("ZodString",(e,t)=>{k_.init(e,t),MI.init(e,t),e.email=r=>e.check(zY(eZ,r)),e.url=r=>e.check(KY(tZ,r)),e.jwt=r=>e.check(aG(gZ,r)),e.emoji=r=>e.check(HY(rZ,r)),e.guid=r=>e.check(Mk(Fk,r)),e.uuid=r=>e.check(UY(ip,r)),e.uuidv4=r=>e.check(qY(ip,r)),e.uuidv6=r=>e.check(VY(ip,r)),e.uuidv7=r=>e.check(WY(ip,r)),e.nanoid=r=>e.check(YY(nZ,r)),e.guid=r=>e.check(Mk(Fk,r)),e.cuid=r=>e.check(GY(sZ,r)),e.cuid2=r=>e.check(ZY(iZ,r)),e.ulid=r=>e.check(XY(oZ,r)),e.base64=r=>e.check(sG(hZ,r)),e.base64url=r=>e.check(iG(pZ,r)),e.xid=r=>e.check(JY(aZ,r)),e.ksuid=r=>e.check(QY(lZ,r)),e.ipv4=r=>e.check(eG(cZ,r)),e.ipv6=r=>e.check(tG(uZ,r)),e.cidrv4=r=>e.check(rG(dZ,r)),e.cidrv6=r=>e.check(nG(fZ,r)),e.e164=r=>e.check(oG(mZ,r)),e.datetime=r=>e.check(DG(r)),e.date=r=>e.check(RG(r)),e.time=r=>e.check(MG(r)),e.duration=r=>e.check(FG(r))});function sp(e){return BY(QG,e)}const qt=fe("ZodStringFormat",(e,t)=>{Rt.init(e,t),MI.init(e,t)}),eZ=fe("ZodEmail",(e,t)=>{ZH.init(e,t),qt.init(e,t)}),Fk=fe("ZodGUID",(e,t)=>{YH.init(e,t),qt.init(e,t)}),ip=fe("ZodUUID",(e,t)=>{GH.init(e,t),qt.init(e,t)}),tZ=fe("ZodURL",(e,t)=>{XH.init(e,t),qt.init(e,t)}),rZ=fe("ZodEmoji",(e,t)=>{JH.init(e,t),qt.init(e,t)}),nZ=fe("ZodNanoID",(e,t)=>{QH.init(e,t),qt.init(e,t)}),sZ=fe("ZodCUID",(e,t)=>{eY.init(e,t),qt.init(e,t)}),iZ=fe("ZodCUID2",(e,t)=>{tY.init(e,t),qt.init(e,t)}),oZ=fe("ZodULID",(e,t)=>{rY.init(e,t),qt.init(e,t)}),aZ=fe("ZodXID",(e,t)=>{nY.init(e,t),qt.init(e,t)}),lZ=fe("ZodKSUID",(e,t)=>{sY.init(e,t),qt.init(e,t)}),cZ=fe("ZodIPv4",(e,t)=>{cY.init(e,t),qt.init(e,t)}),uZ=fe("ZodIPv6",(e,t)=>{uY.init(e,t),qt.init(e,t)}),dZ=fe("ZodCIDRv4",(e,t)=>{dY.init(e,t),qt.init(e,t)}),fZ=fe("ZodCIDRv6",(e,t)=>{fY.init(e,t),qt.init(e,t)}),hZ=fe("ZodBase64",(e,t)=>{hY.init(e,t),qt.init(e,t)}),pZ=fe("ZodBase64URL",(e,t)=>{mY.init(e,t),qt.init(e,t)}),mZ=fe("ZodE164",(e,t)=>{gY.init(e,t),qt.init(e,t)}),gZ=fe("ZodJWT",(e,t)=>{vY.init(e,t),qt.init(e,t)}),yZ=fe("ZodBoolean",(e,t)=>{bY.init(e,t),xr.init(e,t)});function vZ(e){return fG(yZ,e)}const bZ=fe("ZodUnknown",(e,t)=>{xY.init(e,t),xr.init(e,t)});function Bk(){return hG(bZ)}const xZ=fe("ZodNever",(e,t)=>{wY.init(e,t),xr.init(e,t)});function wZ(e){return pG(xZ,e)}const _Z=fe("ZodArray",(e,t)=>{_Y.init(e,t),xr.init(e,t),e.element=t.element,e.min=(r,n)=>e.check(wm(r,n)),e.nonempty=r=>e.check(wm(1,r)),e.max=(r,n)=>e.check(RI(r,n)),e.length=(r,n)=>e.check(II(r,n)),e.unwrap=()=>e.element});function LI(e,t){return jG(_Z,e,t)}const SZ=fe("ZodObject",(e,t)=>{EY.init(e,t),xr.init(e,t),St(e,"shape",()=>t.shape),e.keyof=()=>cx(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Bk()}),e.loose=()=>e.clone({...e._zod.def,catchall:Bk()}),e.strict=()=>e.clone({...e._zod.def,catchall:wZ()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>KK(e,r),e.safeExtend=r=>HK(e,r),e.merge=r=>YK(e,r),e.pick=r=>VK(e,r),e.omit=r=>WK(e,r),e.partial=(...r)=>GK(FI,e,r[0]),e.required=(...r)=>ZK(BI,e,r[0])});function zk(e,t){const r={type:"object",get shape(){return ya(this,"shape",e?BK(e):{}),this.shape},...ze(t)};return new SZ(r)}const EZ=fe("ZodUnion",(e,t)=>{jY.init(e,t),xr.init(e,t),e.options=t.options});function jZ(e,t){return new EZ({type:"union",options:e,...ze(t)})}const NZ=fe("ZodIntersection",(e,t)=>{NY.init(e,t),xr.init(e,t)});function kZ(e,t){return new NZ({type:"intersection",left:e,right:t})}const lx=fe("ZodEnum",(e,t)=>{kY.init(e,t),xr.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const r=new Set(Object.keys(t.entries));e.extract=(n,s)=>{const i={};for(const o of n)if(r.has(o))i[o]=t.entries[o];else throw new Error(`Key ${o} not found in enum`);return new lx({...t,checks:[],...ze(s),entries:i})},e.exclude=(n,s)=>{const i={...t.entries};for(const o of n)if(r.has(o))delete i[o];else throw new Error(`Key ${o} not found in enum`);return new lx({...t,checks:[],...ze(s),entries:i})}});function cx(e,t){const r=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new lx({type:"enum",entries:r,...ze(t)})}const CZ=fe("ZodTransform",(e,t)=>{CY.init(e,t),xr.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new SI(e.constructor.name);r.addIssue=i=>{if(typeof i=="string")r.issues.push(df(i,r.value,t));else{const o=i;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=r.value),o.inst??(o.inst=e),r.issues.push(df(o))}};const s=t.transform(r.value,r);return s instanceof Promise?s.then(i=>(r.value=i,r)):(r.value=s,r)}});function TZ(e){return new CZ({type:"transform",transform:e})}const FI=fe("ZodOptional",(e,t)=>{TY.init(e,t),xr.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Uk(e){return new FI({type:"optional",innerType:e})}const AZ=fe("ZodNullable",(e,t)=>{AY.init(e,t),xr.init(e,t),e.unwrap=()=>e._zod.def.innerType});function qk(e){return new AZ({type:"nullable",innerType:e})}const PZ=fe("ZodDefault",(e,t)=>{PY.init(e,t),xr.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function OZ(e,t){return new PZ({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():NI(t)}})}const DZ=fe("ZodPrefault",(e,t)=>{OY.init(e,t),xr.init(e,t),e.unwrap=()=>e._zod.def.innerType});function $Z(e,t){return new DZ({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():NI(t)}})}const BI=fe("ZodNonOptional",(e,t)=>{DY.init(e,t),xr.init(e,t),e.unwrap=()=>e._zod.def.innerType});function RZ(e,t){return new BI({type:"nonoptional",innerType:e,...ze(t)})}const IZ=fe("ZodCatch",(e,t)=>{$Y.init(e,t),xr.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function MZ(e,t){return new IZ({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const LZ=fe("ZodPipe",(e,t)=>{RY.init(e,t),xr.init(e,t),e.in=t.in,e.out=t.out});function Vk(e,t){return new LZ({type:"pipe",in:e,out:t})}const FZ=fe("ZodReadonly",(e,t)=>{IY.init(e,t),xr.init(e,t),e.unwrap=()=>e._zod.def.innerType});function BZ(e){return new FZ({type:"readonly",innerType:e})}const zZ=fe("ZodCustom",(e,t)=>{MY.init(e,t),xr.init(e,t)});function UZ(e,t={}){return NG(zZ,e,t)}function qZ(e){return kG(e)}const as=j.forwardRef(({className:e,type:t,...r},n)=>u.jsx("input",{type:t,className:J.cn("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));as.displayName="Input";var VZ="Label",zI=j.forwardRef((e,t)=>u.jsx(Tr.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));zI.displayName=VZ;var UI=zI;const WZ=Rg("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),$n=j.forwardRef(({className:e,...t},r)=>u.jsx(UI,{ref:r,className:J.cn(WZ(),e),...t}));$n.displayName=UI.displayName;const ry=j.forwardRef(({className:e,...t},r)=>u.jsx("textarea",{className:J.cn("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));ry.displayName="Textarea";function mt(){return mt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mt.apply(null,arguments)}function Wk(e,[t,r]){return Math.min(r,Math.max(t,e))}function on(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function C_(e,t=[]){let r=[];function n(i,o){const a=w.createContext(o),l=r.length;r=[...r,o];function c(f){const{scope:h,children:p,...g}=f,m=(h==null?void 0:h[e][l])||a,y=w.useMemo(()=>g,Object.values(g));return w.createElement(m.Provider,{value:y},p)}function d(f,h){const p=(h==null?void 0:h[e][l])||a,g=w.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=r.map(o=>w.createContext(o));return function(a){const l=(a==null?void 0:a[e])||i;return w.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[n,KZ(s,...t)]}function KZ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function HZ(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function qI(...e){return t=>e.forEach(r=>HZ(r,t))}function Sn(...e){return w.useCallback(qI(...e),e)}const ff=w.forwardRef((e,t)=>{const{children:r,...n}=e,s=w.Children.toArray(r),i=s.find(GZ);if(i){const o=i.props.children,a=s.map(l=>l===i?w.Children.count(o)>1?w.Children.only(null):w.isValidElement(o)?o.props.children:null:l);return w.createElement(ux,mt({},n,{ref:t}),w.isValidElement(o)?w.cloneElement(o,void 0,a):null)}return w.createElement(ux,mt({},n,{ref:t}),r)});ff.displayName="Slot";const ux=w.forwardRef((e,t)=>{const{children:r,...n}=e;return w.isValidElement(r)?w.cloneElement(r,{...ZZ(n,r.props),ref:t?qI(t,r.ref):r.ref}):w.Children.count(r)>1?w.Children.only(null):null});ux.displayName="SlotClone";const YZ=({children:e})=>w.createElement(w.Fragment,null,e);function GZ(e){return w.isValidElement(e)&&e.type===YZ}function ZZ(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{i(...a),s(...a)}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function XZ(e){const t=e+"CollectionProvider",[r,n]=C_(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:g,children:m}=p,y=w.useRef(null),v=w.useRef(new Map).current;return w.createElement(s,{scope:g,itemMap:v,collectionRef:y},m)},a=e+"CollectionSlot",l=w.forwardRef((p,g)=>{const{scope:m,children:y}=p,v=i(a,m),b=Sn(g,v.collectionRef);return w.createElement(ff,{ref:b},y)}),c=e+"CollectionItemSlot",d="data-radix-collection-item",f=w.forwardRef((p,g)=>{const{scope:m,children:y,...v}=p,b=w.useRef(null),x=Sn(g,b),S=i(c,m);return w.useEffect(()=>(S.itemMap.set(b,{ref:b,...v}),()=>void S.itemMap.delete(b))),w.createElement(ff,{[d]:"",ref:x},y)});function h(p){const g=i(e+"CollectionConsumer",p);return w.useCallback(()=>{const y=g.collectionRef.current;if(!y)return[];const v=Array.from(y.querySelectorAll(`[${d}]`));return Array.from(g.itemMap.values()).sort((S,_)=>v.indexOf(S.ref.current)-v.indexOf(_.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:l,ItemSlot:f},h,n]}const JZ=w.createContext(void 0);function QZ(e){const t=w.useContext(JZ);return e||t||"ltr"}const eX=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Fr=eX.reduce((e,t)=>{const r=w.forwardRef((n,s)=>{const{asChild:i,...o}=n,a=i?ff:t;return w.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),w.createElement(a,mt({},o,{ref:s}))});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function tX(e,t){e&&_i.flushSync(()=>e.dispatchEvent(t))}function no(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...r)=>{var n;return(n=t.current)===null||n===void 0?void 0:n.call(t,...r)},[])}function rX(e,t=globalThis==null?void 0:globalThis.document){const r=no(e);w.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n),()=>t.removeEventListener("keydown",n)},[r,t])}const dx="dismissableLayer.update",nX="dismissableLayer.pointerDownOutside",sX="dismissableLayer.focusOutside";let Kk;const iX=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),oX=w.forwardRef((e,t)=>{var r;const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...c}=e,d=w.useContext(iX),[f,h]=w.useState(null),p=(r=f==null?void 0:f.ownerDocument)!==null&&r!==void 0?r:globalThis==null?void 0:globalThis.document,[,g]=w.useState({}),m=Sn(t,C=>h(C)),y=Array.from(d.layers),[v]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),b=y.indexOf(v),x=f?y.indexOf(f):-1,S=d.layersWithOutsidePointerEventsDisabled.size>0,_=x>=b,N=aX(C=>{const A=C.target,I=[...d.branches].some(M=>M.contains(A));!_||I||(i==null||i(C),a==null||a(C),C.defaultPrevented||l==null||l())},p),k=lX(C=>{const A=C.target;[...d.branches].some(M=>M.contains(A))||(o==null||o(C),a==null||a(C),C.defaultPrevented||l==null||l())},p);return rX(C=>{x===d.layers.size-1&&(s==null||s(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},p),w.useEffect(()=>{if(f)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Kk=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),Hk(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Kk)}},[f,p,n,d]),w.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),Hk())},[f,d]),w.useEffect(()=>{const C=()=>g({});return document.addEventListener(dx,C),()=>document.removeEventListener(dx,C)},[]),w.createElement(Fr.div,mt({},c,{ref:m,style:{pointerEvents:S?_?"auto":"none":void 0,...e.style},onFocusCapture:on(e.onFocusCapture,k.onFocusCapture),onBlurCapture:on(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:on(e.onPointerDownCapture,N.onPointerDownCapture)}))});function aX(e,t=globalThis==null?void 0:globalThis.document){const r=no(e),n=w.useRef(!1),s=w.useRef(()=>{});return w.useEffect(()=>{const i=a=>{if(a.target&&!n.current){let c=function(){VI(nX,r,l,{discrete:!0})};const l={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function lX(e,t=globalThis==null?void 0:globalThis.document){const r=no(e),n=w.useRef(!1);return w.useEffect(()=>{const s=i=>{i.target&&!n.current&&VI(sX,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Hk(){const e=new CustomEvent(dx);document.dispatchEvent(e)}function VI(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?tX(s,i):s.dispatchEvent(i)}let cb=0;function cX(){w.useEffect(()=>{var e,t;const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=r[0])!==null&&e!==void 0?e:Yk()),document.body.insertAdjacentElement("beforeend",(t=r[1])!==null&&t!==void 0?t:Yk()),cb++,()=>{cb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),cb--}},[])}function Yk(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}const ub="focusScope.autoFocusOnMount",db="focusScope.autoFocusOnUnmount",Gk={bubbles:!1,cancelable:!0},uX=w.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[a,l]=w.useState(null),c=no(s),d=no(i),f=w.useRef(null),h=Sn(t,m=>l(m)),p=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(n){let m=function(x){if(p.paused||!a)return;const S=x.target;a.contains(S)?f.current=S:Vo(f.current,{select:!0})},y=function(x){if(p.paused||!a)return;const S=x.relatedTarget;S!==null&&(a.contains(S)||Vo(f.current,{select:!0}))},v=function(x){const S=document.activeElement;for(const _ of x)_.removedNodes.length>0&&(a!=null&&a.contains(S)||Vo(a))};document.addEventListener("focusin",m),document.addEventListener("focusout",y);const b=new MutationObserver(v);return a&&b.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",y),b.disconnect()}}},[n,a,p.paused]),w.useEffect(()=>{if(a){Xk.add(p);const m=document.activeElement;if(!a.contains(m)){const v=new CustomEvent(ub,Gk);a.addEventListener(ub,c),a.dispatchEvent(v),v.defaultPrevented||(dX(gX(WI(a)),{select:!0}),document.activeElement===m&&Vo(a))}return()=>{a.removeEventListener(ub,c),setTimeout(()=>{const v=new CustomEvent(db,Gk);a.addEventListener(db,d),a.dispatchEvent(v),v.defaultPrevented||Vo(m??document.body,{select:!0}),a.removeEventListener(db,d),Xk.remove(p)},0)}}},[a,c,d,p]);const g=w.useCallback(m=>{if(!r&&!n||p.paused)return;const y=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,v=document.activeElement;if(y&&v){const b=m.currentTarget,[x,S]=fX(b);x&&S?!m.shiftKey&&v===S?(m.preventDefault(),r&&Vo(x,{select:!0})):m.shiftKey&&v===x&&(m.preventDefault(),r&&Vo(S,{select:!0})):v===b&&m.preventDefault()}},[r,n,p.paused]);return w.createElement(Fr.div,mt({tabIndex:-1},o,{ref:h,onKeyDown:g}))});function dX(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Vo(n,{select:t}),document.activeElement!==r)return}function fX(e){const t=WI(e),r=Zk(t,e),n=Zk(t.reverse(),e);return[r,n]}function WI(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Zk(e,t){for(const r of e)if(!hX(r,{upTo:t}))return r}function hX(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function pX(e){return e instanceof HTMLInputElement&&"select"in e}function Vo(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&pX(e)&&t&&e.select()}}const Xk=mX();function mX(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Jk(e,t),e.unshift(t)},remove(t){var r;e=Jk(e,t),(r=e[0])===null||r===void 0||r.resume()}}}function Jk(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function gX(e){return e.filter(t=>t.tagName!=="A")}const so=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},yX=j.useId||(()=>{});let vX=0;function T_(e){const[t,r]=j.useState(yX());return so(()=>{r(n=>n??String(vX++))},[e]),t?`radix-${t}`:""}const bX=["top","right","bottom","left"],ca=Math.min,Rn=Math.max,_m=Math.round,op=Math.floor,mi=e=>({x:e,y:e}),xX={left:"right",right:"left",bottom:"top",top:"bottom"},wX={start:"end",end:"start"};function fx(e,t,r){return Rn(e,ca(t,r))}function io(e,t){return typeof e=="function"?e(t):e}function oo(e){return e.split("-")[0]}function Nu(e){return e.split("-")[1]}function A_(e){return e==="x"?"y":"x"}function P_(e){return e==="y"?"height":"width"}const _X=new Set(["top","bottom"]);function fi(e){return _X.has(oo(e))?"y":"x"}function O_(e){return A_(fi(e))}function SX(e,t,r){r===void 0&&(r=!1);const n=Nu(e),s=O_(e),i=P_(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Sm(o)),[o,Sm(o)]}function EX(e){const t=Sm(e);return[hx(e),t,hx(t)]}function hx(e){return e.replace(/start|end/g,t=>wX[t])}const Qk=["left","right"],eC=["right","left"],jX=["top","bottom"],NX=["bottom","top"];function kX(e,t,r){switch(e){case"top":case"bottom":return r?t?eC:Qk:t?Qk:eC;case"left":case"right":return t?jX:NX;default:return[]}}function CX(e,t,r,n){const s=Nu(e);let i=kX(oo(e),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(hx)))),i}function Sm(e){return e.replace(/left|right|bottom|top/g,t=>xX[t])}function TX(e){return{top:0,right:0,bottom:0,left:0,...e}}function KI(e){return typeof e!="number"?TX(e):{top:e,right:e,bottom:e,left:e}}function Em(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function tC(e,t,r){let{reference:n,floating:s}=e;const i=fi(t),o=O_(t),a=P_(o),l=oo(t),c=i==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[a]/2-s[a]/2;let p;switch(l){case"top":p={x:d,y:n.y-s.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-s.width,y:f};break;default:p={x:n.x,y:n.y}}switch(Nu(t)){case"start":p[o]-=h*(r&&c?-1:1);break;case"end":p[o]+=h*(r&&c?-1:1);break}return p}const AX=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=tC(c,n,l),h=n,p={},g=0;for(let m=0;m<a.length;m++){const{name:y,fn:v}=a[m],{x:b,y:x,data:S,reset:_}=await v({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:p,rects:c,platform:o,elements:{reference:e,floating:t}});d=b??d,f=x??f,p={...p,[y]:{...p[y],...S}},_&&g<=50&&(g++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(c=_.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):_.rects),{x:d,y:f}=tC(c,h,l)),m=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:p}};async function hf(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:o,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=io(t,e),g=KI(p),y=a[h?f==="floating"?"reference":"floating":f],v=Em(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(y)))==null||r?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),b=f==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),S=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},_=Em(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:x,strategy:l}):b);return{top:(v.top-_.top+g.top)/S.y,bottom:(_.bottom-v.bottom+g.bottom)/S.y,left:(v.left-_.left+g.left)/S.x,right:(_.right-v.right+g.right)/S.x}}const PX=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=t,{element:c,padding:d=0}=io(e,t)||{};if(c==null)return{};const f=KI(d),h={x:r,y:n},p=O_(s),g=P_(p),m=await o.getDimensions(c),y=p==="y",v=y?"top":"left",b=y?"bottom":"right",x=y?"clientHeight":"clientWidth",S=i.reference[g]+i.reference[p]-h[p]-i.floating[g],_=h[p]-i.reference[p],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let k=N?N[x]:0;(!k||!await(o.isElement==null?void 0:o.isElement(N)))&&(k=a.floating[x]||i.floating[g]);const C=S/2-_/2,A=k/2-m[g]/2-1,I=ca(f[v],A),M=ca(f[b],A),L=I,D=k-m[g]-M,z=k/2-m[g]/2+C,U=fx(L,z,D),G=!l.arrow&&Nu(s)!=null&&z!==U&&i.reference[g]/2-(z<L?I:M)-m[g]/2<0,q=G?z<L?z-L:z-D:0;return{[p]:h[p]+q,data:{[p]:U,centerOffset:z-U-q,...G&&{alignmentOffset:q}},reset:G}}}),OX=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...y}=io(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const v=oo(s),b=fi(a),x=oo(a)===a,S=await(l.isRTL==null?void 0:l.isRTL(c.floating)),_=h||(x||!m?[Sm(a)]:EX(a)),N=g!=="none";!h&&N&&_.push(...CX(a,m,g,S));const k=[a,..._],C=await hf(t,y),A=[];let I=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&A.push(C[v]),f){const z=SX(s,o,S);A.push(C[z[0]],C[z[1]])}if(I=[...I,{placement:s,overflows:A}],!A.every(z=>z<=0)){var M,L;const z=(((M=i.flip)==null?void 0:M.index)||0)+1,U=k[z];if(U&&(!(f==="alignment"?b!==fi(U):!1)||I.every(Z=>fi(Z.placement)===b?Z.overflows[0]>0:!0)))return{data:{index:z,overflows:I},reset:{placement:U}};let G=(L=I.filter(q=>q.overflows[0]<=0).sort((q,Z)=>q.overflows[1]-Z.overflows[1])[0])==null?void 0:L.placement;if(!G)switch(p){case"bestFit":{var D;const q=(D=I.filter(Z=>{if(N){const oe=fi(Z.placement);return oe===b||oe==="y"}return!0}).map(Z=>[Z.placement,Z.overflows.filter(oe=>oe>0).reduce((oe,$)=>oe+$,0)]).sort((Z,oe)=>Z[1]-oe[1])[0])==null?void 0:D[0];q&&(G=q);break}case"initialPlacement":G=a;break}if(s!==G)return{reset:{placement:G}}}return{}}}};function rC(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function nC(e){return bX.some(t=>e[t]>=0)}const DX=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=io(e,t);switch(n){case"referenceHidden":{const i=await hf(t,{...s,elementContext:"reference"}),o=rC(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:nC(o)}}}case"escaped":{const i=await hf(t,{...s,altBoundary:!0}),o=rC(i,r.floating);return{data:{escapedOffsets:o,escaped:nC(o)}}}default:return{}}}}},HI=new Set(["left","top"]);async function $X(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=oo(r),a=Nu(r),l=fi(r)==="y",c=HI.has(o)?-1:1,d=i&&l?-1:1,f=io(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof g=="number"&&(p=a==="end"?g*-1:g),l?{x:p*d,y:h*c}:{x:h*c,y:p*d}}const RX=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:o,middlewareData:a}=t,l=await $X(t,e);return o===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},IX=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:v,y:b}=y;return{x:v,y:b}}},...l}=io(e,t),c={x:r,y:n},d=await hf(t,l),f=fi(oo(s)),h=A_(f);let p=c[h],g=c[f];if(i){const y=h==="y"?"top":"left",v=h==="y"?"bottom":"right",b=p+d[y],x=p-d[v];p=fx(b,p,x)}if(o){const y=f==="y"?"top":"left",v=f==="y"?"bottom":"right",b=g+d[y],x=g-d[v];g=fx(b,g,x)}const m=a.fn({...t,[h]:p,[f]:g});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:i,[f]:o}}}}}},MX=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=io(e,t),d={x:r,y:n},f=fi(s),h=A_(f);let p=d[h],g=d[f];const m=io(a,t),y=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const x=h==="y"?"height":"width",S=i.reference[h]-i.floating[x]+y.mainAxis,_=i.reference[h]+i.reference[x]-y.mainAxis;p<S?p=S:p>_&&(p=_)}if(c){var v,b;const x=h==="y"?"width":"height",S=HI.has(oo(s)),_=i.reference[f]-i.floating[x]+(S&&((v=o.offset)==null?void 0:v[f])||0)+(S?0:y.crossAxis),N=i.reference[f]+i.reference[x]+(S?0:((b=o.offset)==null?void 0:b[f])||0)-(S?y.crossAxis:0);g<_?g=_:g>N&&(g=N)}return{[h]:p,[f]:g}}}},LX=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:o,elements:a}=t,{apply:l=()=>{},...c}=io(e,t),d=await hf(t,c),f=oo(s),h=Nu(s),p=fi(s)==="y",{width:g,height:m}=i.floating;let y,v;f==="top"||f==="bottom"?(y=f,v=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(v=f,y=h==="end"?"top":"bottom");const b=m-d.top-d.bottom,x=g-d.left-d.right,S=ca(m-d[y],b),_=ca(g-d[v],x),N=!t.middlewareData.shift;let k=S,C=_;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(C=x),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=b),N&&!h){const I=Rn(d.left,0),M=Rn(d.right,0),L=Rn(d.top,0),D=Rn(d.bottom,0);p?C=g-2*(I!==0||M!==0?I+M:Rn(d.left,d.right)):k=m-2*(L!==0||D!==0?L+D:Rn(d.top,d.bottom))}await l({...t,availableWidth:C,availableHeight:k});const A=await o.getDimensions(a.floating);return g!==A.width||m!==A.height?{reset:{rects:!0}}:{}}}};function ny(){return typeof window<"u"}function ku(e){return YI(e)?(e.nodeName||"").toLowerCase():"#document"}function Bn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Di(e){var t;return(t=(YI(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function YI(e){return ny()?e instanceof Node||e instanceof Bn(e).Node:!1}function Ws(e){return ny()?e instanceof Element||e instanceof Bn(e).Element:!1}function Ei(e){return ny()?e instanceof HTMLElement||e instanceof Bn(e).HTMLElement:!1}function sC(e){return!ny()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Bn(e).ShadowRoot}const FX=new Set(["inline","contents"]);function eh(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Ks(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!FX.has(s)}const BX=new Set(["table","td","th"]);function zX(e){return BX.has(ku(e))}const UX=[":popover-open",":modal"];function sy(e){return UX.some(t=>{try{return e.matches(t)}catch{return!1}})}const qX=["transform","translate","scale","rotate","perspective"],VX=["transform","translate","scale","rotate","perspective","filter"],WX=["paint","layout","strict","content"];function D_(e){const t=$_(),r=Ws(e)?Ks(e):e;return qX.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||VX.some(n=>(r.willChange||"").includes(n))||WX.some(n=>(r.contain||"").includes(n))}function KX(e){let t=ua(e);for(;Ei(t)&&!eu(t);){if(D_(t))return t;if(sy(t))return null;t=ua(t)}return null}function $_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const HX=new Set(["html","body","#document"]);function eu(e){return HX.has(ku(e))}function Ks(e){return Bn(e).getComputedStyle(e)}function iy(e){return Ws(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ua(e){if(ku(e)==="html")return e;const t=e.assignedSlot||e.parentNode||sC(e)&&e.host||Di(e);return sC(t)?t.host:t}function GI(e){const t=ua(e);return eu(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ei(t)&&eh(t)?t:GI(t)}function pf(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=GI(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=Bn(s);if(i){const a=px(o);return t.concat(o,o.visualViewport||[],eh(s)?s:[],a&&r?pf(a):[])}return t.concat(s,pf(s,[],r))}function px(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function ZI(e){const t=Ks(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Ei(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,a=_m(r)!==i||_m(n)!==o;return a&&(r=i,n=o),{width:r,height:n,$:a}}function R_(e){return Ws(e)?e:e.contextElement}function Mc(e){const t=R_(e);if(!Ei(t))return mi(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=ZI(t);let o=(i?_m(r.width):r.width)/n,a=(i?_m(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const YX=mi(0);function XI(e){const t=Bn(e);return!$_()||!t.visualViewport?YX:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function GX(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Bn(e)?!1:t}function gl(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=R_(e);let o=mi(1);t&&(n?Ws(n)&&(o=Mc(n)):o=Mc(e));const a=GX(i,r,n)?XI(i):mi(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const h=Bn(i),p=n&&Ws(n)?Bn(n):n;let g=h,m=px(g);for(;m&&n&&p!==g;){const y=Mc(m),v=m.getBoundingClientRect(),b=Ks(m),x=v.left+(m.clientLeft+parseFloat(b.paddingLeft))*y.x,S=v.top+(m.clientTop+parseFloat(b.paddingTop))*y.y;l*=y.x,c*=y.y,d*=y.x,f*=y.y,l+=x,c+=S,g=Bn(m),m=px(g)}}return Em({width:d,height:f,x:l,y:c})}function oy(e,t){const r=iy(e).scrollLeft;return t?t.left+r:gl(Di(e)).left+r}function JI(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-oy(e,r),s=r.top+t.scrollTop;return{x:n,y:s}}function ZX(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",o=Di(n),a=t?sy(t.floating):!1;if(n===o||a&&i)return r;let l={scrollLeft:0,scrollTop:0},c=mi(1);const d=mi(0),f=Ei(n);if((f||!f&&!i)&&((ku(n)!=="body"||eh(o))&&(l=iy(n)),Ei(n))){const p=gl(n);c=Mc(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=o&&!f&&!i?JI(o,l):mi(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+d.x+h.x,y:r.y*c.y-l.scrollTop*c.y+d.y+h.y}}function XX(e){return Array.from(e.getClientRects())}function JX(e){const t=Di(e),r=iy(e),n=e.ownerDocument.body,s=Rn(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Rn(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+oy(e);const a=-r.scrollTop;return Ks(n).direction==="rtl"&&(o+=Rn(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:a}}const iC=25;function QX(e,t){const r=Bn(e),n=Di(e),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const d=$_();(!d||d&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}const c=oy(n);if(c<=0){const d=n.ownerDocument,f=d.body,h=getComputedStyle(f),p=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,g=Math.abs(n.clientWidth-f.clientWidth-p);g<=iC&&(i-=g)}else c<=iC&&(i+=c);return{width:i,height:o,x:a,y:l}}const eJ=new Set(["absolute","fixed"]);function tJ(e,t){const r=gl(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=Ei(e)?Mc(e):mi(1),o=e.clientWidth*i.x,a=e.clientHeight*i.y,l=s*i.x,c=n*i.y;return{width:o,height:a,x:l,y:c}}function oC(e,t,r){let n;if(t==="viewport")n=QX(e,r);else if(t==="document")n=JX(Di(e));else if(Ws(t))n=tJ(t,r);else{const s=XI(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Em(n)}function QI(e,t){const r=ua(e);return r===t||!Ws(r)||eu(r)?!1:Ks(r).position==="fixed"||QI(r,t)}function rJ(e,t){const r=t.get(e);if(r)return r;let n=pf(e,[],!1).filter(a=>Ws(a)&&ku(a)!=="body"),s=null;const i=Ks(e).position==="fixed";let o=i?ua(e):e;for(;Ws(o)&&!eu(o);){const a=Ks(o),l=D_(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&eJ.has(s.position)||eh(o)&&!l&&QI(e,o))?n=n.filter(d=>d!==o):s=a,o=ua(o)}return t.set(e,n),n}function nJ(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?sy(t)?[]:rJ(t,this._c):[].concat(r),n],a=o[0],l=o.reduce((c,d)=>{const f=oC(t,d,s);return c.top=Rn(f.top,c.top),c.right=ca(f.right,c.right),c.bottom=ca(f.bottom,c.bottom),c.left=Rn(f.left,c.left),c},oC(t,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function sJ(e){const{width:t,height:r}=ZI(e);return{width:t,height:r}}function iJ(e,t,r){const n=Ei(t),s=Di(t),i=r==="fixed",o=gl(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const l=mi(0);function c(){l.x=oy(s)}if(n||!n&&!i)if((ku(t)!=="body"||eh(s))&&(a=iy(t)),n){const p=gl(t,!0,i,t);l.x=p.x+t.clientLeft,l.y=p.y+t.clientTop}else s&&c();i&&!n&&s&&c();const d=s&&!n&&!i?JI(s,a):mi(0),f=o.left+a.scrollLeft-l.x-d.x,h=o.top+a.scrollTop-l.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function fb(e){return Ks(e).position==="static"}function aC(e,t){if(!Ei(e)||Ks(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Di(e)===r&&(r=r.ownerDocument.body),r}function eM(e,t){const r=Bn(e);if(sy(e))return r;if(!Ei(e)){let s=ua(e);for(;s&&!eu(s);){if(Ws(s)&&!fb(s))return s;s=ua(s)}return r}let n=aC(e,t);for(;n&&zX(n)&&fb(n);)n=aC(n,t);return n&&eu(n)&&fb(n)&&!D_(n)?r:n||KX(e)||r}const oJ=async function(e){const t=this.getOffsetParent||eM,r=this.getDimensions,n=await r(e.floating);return{reference:iJ(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function aJ(e){return Ks(e).direction==="rtl"}const lJ={convertOffsetParentRelativeRectToViewportRelativeRect:ZX,getDocumentElement:Di,getClippingRect:nJ,getOffsetParent:eM,getElementRects:oJ,getClientRects:XX,getDimensions:sJ,getScale:Mc,isElement:Ws,isRTL:aJ};function tM(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function cJ(e,t){let r=null,n;const s=Di(e);function i(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=c;if(a||t(),!h||!p)return;const g=op(f),m=op(s.clientWidth-(d+h)),y=op(s.clientHeight-(f+p)),v=op(d),x={rootMargin:-g+"px "+-m+"px "+-y+"px "+-v+"px",threshold:Rn(0,ca(1,l))||1};let S=!0;function _(N){const k=N[0].intersectionRatio;if(k!==l){if(!S)return o();k?o(!1,k):n=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!tM(c,e.getBoundingClientRect())&&o(),S=!1}try{r=new IntersectionObserver(_,{...x,root:s.ownerDocument})}catch{r=new IntersectionObserver(_,x)}r.observe(e)}return o(!0),i}function uJ(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=R_(e),d=s||i?[...c?pf(c):[],...pf(t)]:[];d.forEach(v=>{s&&v.addEventListener("scroll",r,{passive:!0}),i&&v.addEventListener("resize",r)});const f=c&&a?cJ(c,r):null;let h=-1,p=null;o&&(p=new ResizeObserver(v=>{let[b]=v;b&&b.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var x;(x=p)==null||x.observe(t)})),r()}),c&&!l&&p.observe(c),p.observe(t));let g,m=l?gl(e):null;l&&y();function y(){const v=gl(e);m&&!tM(m,v)&&r(),m=v,g=requestAnimationFrame(y)}return r(),()=>{var v;d.forEach(b=>{s&&b.removeEventListener("scroll",r),i&&b.removeEventListener("resize",r)}),f==null||f(),(v=p)==null||v.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const dJ=RX,fJ=IX,hJ=OX,pJ=LX,mJ=DX,lC=PX,gJ=MX,yJ=(e,t,r)=>{const n=new Map,s={platform:lJ,...r},i={...s.platform,_c:n};return AX(e,t,{...s,platform:i})};var vJ=typeof document<"u",bJ=function(){},Hp=vJ?w.useLayoutEffect:bJ;function jm(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!jm(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!jm(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function rM(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function cC(e,t){const r=rM(e);return Math.round(t*r)/r}function hb(e){const t=j.useRef(e);return Hp(()=>{t.current=e}),t}function xJ(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[d,f]=j.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=j.useState(n);jm(h,n)||p(n);const[g,m]=j.useState(null),[y,v]=j.useState(null),b=j.useCallback(Z=>{Z!==N.current&&(N.current=Z,m(Z))},[]),x=j.useCallback(Z=>{Z!==k.current&&(k.current=Z,v(Z))},[]),S=i||g,_=o||y,N=j.useRef(null),k=j.useRef(null),C=j.useRef(d),A=l!=null,I=hb(l),M=hb(s),L=hb(c),D=j.useCallback(()=>{if(!N.current||!k.current)return;const Z={placement:t,strategy:r,middleware:h};M.current&&(Z.platform=M.current),yJ(N.current,k.current,Z).then(oe=>{const $={...oe,isPositioned:L.current!==!1};z.current&&!jm(C.current,$)&&(C.current=$,YD.flushSync(()=>{f($)}))})},[h,t,r,M,L]);Hp(()=>{c===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(Z=>({...Z,isPositioned:!1})))},[c]);const z=j.useRef(!1);Hp(()=>(z.current=!0,()=>{z.current=!1}),[]),Hp(()=>{if(S&&(N.current=S),_&&(k.current=_),S&&_){if(I.current)return I.current(S,_,D);D()}},[S,_,D,I,A]);const U=j.useMemo(()=>({reference:N,floating:k,setReference:b,setFloating:x}),[b,x]),G=j.useMemo(()=>({reference:S,floating:_}),[S,_]),q=j.useMemo(()=>{const Z={position:r,left:0,top:0};if(!G.floating)return Z;const oe=cC(G.floating,d.x),$=cC(G.floating,d.y);return a?{...Z,transform:"translate("+oe+"px, "+$+"px)",...rM(G.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:oe,top:$}},[r,a,G.floating,d.x,d.y]);return j.useMemo(()=>({...d,update:D,refs:U,elements:G,floatingStyles:q}),[d,D,U,G,q])}const wJ=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?lC({element:n.current,padding:s}).fn(r):{}:n?lC({element:n,padding:s}).fn(r):{}}}},_J=(e,t)=>({...dJ(e),options:[e,t]}),SJ=(e,t)=>({...fJ(e),options:[e,t]}),EJ=(e,t)=>({...gJ(e),options:[e,t]}),jJ=(e,t)=>({...hJ(e),options:[e,t]}),NJ=(e,t)=>({...pJ(e),options:[e,t]}),kJ=(e,t)=>({...mJ(e),options:[e,t]}),CJ=(e,t)=>({...wJ(e),options:[e,t]});function TJ(e){const[t,r]=w.useState(void 0);return so(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=e.offsetWidth,a=e.offsetHeight;r({width:o,height:a})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}const nM="Popper",[sM,iM]=C_(nM),[AJ,oM]=sM(nM),PJ=e=>{const{__scopePopper:t,children:r}=e,[n,s]=w.useState(null);return w.createElement(AJ,{scope:t,anchor:n,onAnchorChange:s},r)},OJ="PopperAnchor",DJ=w.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=oM(OJ,r),o=w.useRef(null),a=Sn(t,o);return w.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:w.createElement(Fr.div,mt({},s,{ref:a}))}),aM="PopperContent",[$J,IPe]=sM(aM),RJ=w.forwardRef((e,t)=>{var r,n,s,i,o,a,l,c;const{__scopePopper:d,side:f="bottom",sideOffset:h=0,align:p="center",alignOffset:g=0,arrowPadding:m=0,collisionBoundary:y=[],collisionPadding:v=0,sticky:b="partial",hideWhenDetached:x=!1,avoidCollisions:S=!0,onPlaced:_,...N}=e,k=oM(aM,d),[C,A]=w.useState(null),I=Sn(t,Ee=>A(Ee)),[M,L]=w.useState(null),D=TJ(M),z=(r=D==null?void 0:D.width)!==null&&r!==void 0?r:0,U=(n=D==null?void 0:D.height)!==null&&n!==void 0?n:0,G=f+(p!=="center"?"-"+p:""),q=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},Z=Array.isArray(y)?y:[y],oe=Z.length>0,$={padding:q,boundary:Z.filter(IJ),altBoundary:oe},{refs:B,floatingStyles:X,placement:ae,isPositioned:W,middlewareData:K}=xJ({strategy:"fixed",placement:G,whileElementsMounted:uJ,elements:{reference:k.anchor},middleware:[_J({mainAxis:h+U,alignmentAxis:g}),S&&SJ({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?EJ():void 0,...$}),S&&jJ({...$}),NJ({...$,apply:({elements:Ee,rects:Be,availableWidth:Ue,availableHeight:et})=>{const{width:bt,height:Et}=Be.reference,R=Ee.floating.style;R.setProperty("--radix-popper-available-width",`${Ue}px`),R.setProperty("--radix-popper-available-height",`${et}px`),R.setProperty("--radix-popper-anchor-width",`${bt}px`),R.setProperty("--radix-popper-anchor-height",`${Et}px`)}}),M&&CJ({element:M,padding:m}),MJ({arrowWidth:z,arrowHeight:U}),x&&kJ({strategy:"referenceHidden"})]}),[te,re]=lM(ae),ue=no(_);so(()=>{W&&(ue==null||ue())},[W,ue]);const V=(s=K.arrow)===null||s===void 0?void 0:s.x,H=(i=K.arrow)===null||i===void 0?void 0:i.y,ie=((o=K.arrow)===null||o===void 0?void 0:o.centerOffset)!==0,[O,ge]=w.useState();return so(()=>{C&&ge(window.getComputedStyle(C).zIndex)},[C]),w.createElement("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:W?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:O,"--radix-popper-transform-origin":[(a=K.transformOrigin)===null||a===void 0?void 0:a.x,(l=K.transformOrigin)===null||l===void 0?void 0:l.y].join(" ")},dir:e.dir},w.createElement($J,{scope:d,placedSide:te,onArrowChange:L,arrowX:V,arrowY:H,shouldHideArrow:ie},w.createElement(Fr.div,mt({"data-side":te,"data-align":re},N,{ref:I,style:{...N.style,animation:W?void 0:"none",opacity:(c=K.hide)!==null&&c!==void 0&&c.referenceHidden?0:void 0}}))))});function IJ(e){return e!==null}const MJ=e=>({name:"transformOrigin",options:e,fn(t){var r,n,s,i,o;const{placement:a,rects:l,middlewareData:c}=t,f=((r=c.arrow)===null||r===void 0?void 0:r.centerOffset)!==0,h=f?0:e.arrowWidth,p=f?0:e.arrowHeight,[g,m]=lM(a),y={start:"0%",center:"50%",end:"100%"}[m],v=((n=(s=c.arrow)===null||s===void 0?void 0:s.x)!==null&&n!==void 0?n:0)+h/2,b=((i=(o=c.arrow)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0)+p/2;let x="",S="";return g==="bottom"?(x=f?y:`${v}px`,S=`${-p}px`):g==="top"?(x=f?y:`${v}px`,S=`${l.floating.height+p}px`):g==="right"?(x=`${-p}px`,S=f?y:`${b}px`):g==="left"&&(x=`${l.floating.width+p}px`,S=f?y:`${b}px`),{data:{x,y:S}}}});function lM(e){const[t,r="center"]=e.split("-");return[t,r]}const LJ=PJ,FJ=DJ,BJ=RJ,zJ=w.forwardRef((e,t)=>{var r;const{container:n=globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,...s}=e;return n?_i.createPortal(w.createElement(Fr.div,mt({},s,{ref:t})),n):null});function uC({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=UJ({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:n,a=no(r),l=w.useCallback(c=>{if(i){const f=typeof c=="function"?c(e):c;f!==e&&a(f)}else s(c)},[i,e,s,a]);return[o,l]}function UJ({defaultProp:e,onChange:t}){const r=w.useState(e),[n]=r,s=w.useRef(n),i=no(t);return w.useEffect(()=>{s.current!==n&&(i(n),s.current=n)},[n,s,i]),r}function qJ(e){const t=w.useRef({value:e,previous:e});return w.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}const VJ=w.forwardRef((e,t)=>w.createElement(Fr.span,mt({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}})));var cM=a$(),pb=function(){},ay=j.forwardRef(function(e,t){var r=j.useRef(null),n=j.useState({onScrollCapture:pb,onWheelCapture:pb,onTouchMoveCapture:pb}),s=n[0],i=n[1],o=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noIsolation,g=e.inert,m=e.allowPinchZoom,y=e.as,v=y===void 0?"div":y,b=B1(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),x=h,S=o$([r,t]),_=Yr(Yr({},b),s);return j.createElement(j.Fragment,null,d&&j.createElement(x,{sideCar:cM,removeScrollBar:c,shards:f,noIsolation:p,inert:g,setCallbacks:i,allowPinchZoom:!!m,lockRef:r}),o?j.cloneElement(j.Children.only(a),Yr(Yr({},_),{ref:S})):j.createElement(v,Yr({},_,{className:l,ref:S}),a))});ay.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ay.classNames={fullWidth:Md,zeroRight:Id};var mx=!1;if(typeof window<"u")try{var ap=Object.defineProperty({},"passive",{get:function(){return mx=!0,!0}});window.addEventListener("test",ap,ap),window.removeEventListener("test",ap,ap)}catch{mx=!1}var ec=mx?{passive:!1}:!1,WJ=function(e){return e.tagName==="TEXTAREA"},uM=function(e,t){var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!WJ(e)&&r[t]==="visible")},KJ=function(e){return uM(e,"overflowY")},HJ=function(e){return uM(e,"overflowX")},dC=function(e,t){var r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var n=dM(e,r);if(n){var s=fM(e,r),i=s[1],o=s[2];if(i>o)return!0}r=r.parentNode}while(r&&r!==document.body);return!1},YJ=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},GJ=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},dM=function(e,t){return e==="v"?KJ(t):HJ(t)},fM=function(e,t){return e==="v"?YJ(t):GJ(t)},ZJ=function(e,t){return e==="h"&&t==="rtl"?-1:1},XJ=function(e,t,r,n,s){var i=ZJ(e,window.getComputedStyle(t).direction),o=i*n,a=r.target,l=t.contains(a),c=!1,d=o>0,f=0,h=0;do{var p=fM(e,a),g=p[0],m=p[1],y=p[2],v=m-y-i*g;(g||v)&&dM(e,a)&&(f+=v,h+=g),a=a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(d&&f===0||!d&&h===0)&&(c=!0),c},lp=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},fC=function(e){return[e.deltaX,e.deltaY]},hC=function(e){return e&&"current"in e?e.current:e},JJ=function(e,t){return e[0]===t[0]&&e[1]===t[1]},QJ=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},eQ=0,tc=[];function tQ(e){var t=j.useRef([]),r=j.useRef([0,0]),n=j.useRef(),s=j.useState(eQ++)[0],i=j.useState(function(){return z1()})[0],o=j.useRef(e);j.useEffect(function(){o.current=e},[e]),j.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=i$([e.lockRef.current],(e.shards||[]).map(hC),!0).filter(Boolean);return m.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=j.useCallback(function(m,y){if("touches"in m&&m.touches.length===2)return!o.current.allowPinchZoom;var v=lp(m),b=r.current,x="deltaX"in m?m.deltaX:b[0]-v[0],S="deltaY"in m?m.deltaY:b[1]-v[1],_,N=m.target,k=Math.abs(x)>Math.abs(S)?"h":"v";if("touches"in m&&k==="h"&&N.type==="range")return!1;var C=dC(k,N);if(!C)return!0;if(C?_=k:(_=k==="v"?"h":"v",C=dC(k,N)),!C)return!1;if(!n.current&&"changedTouches"in m&&(x||S)&&(n.current=_),!_)return!0;var A=n.current||_;return XJ(A,y,m,A==="h"?x:S)},[]),l=j.useCallback(function(m){var y=m;if(!(!tc.length||tc[tc.length-1]!==i)){var v="deltaY"in y?fC(y):lp(y),b=t.current.filter(function(_){return _.name===y.type&&_.target===y.target&&JJ(_.delta,v)})[0];if(b&&b.should){y.cancelable&&y.preventDefault();return}if(!b){var x=(o.current.shards||[]).map(hC).filter(Boolean).filter(function(_){return _.contains(y.target)}),S=x.length>0?a(y,x[0]):!o.current.noIsolation;S&&y.cancelable&&y.preventDefault()}}},[]),c=j.useCallback(function(m,y,v,b){var x={name:m,delta:y,target:v,should:b};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(S){return S!==x})},1)},[]),d=j.useCallback(function(m){r.current=lp(m),n.current=void 0},[]),f=j.useCallback(function(m){c(m.type,fC(m),m.target,a(m,e.lockRef.current))},[]),h=j.useCallback(function(m){c(m.type,lp(m),m.target,a(m,e.lockRef.current))},[]);j.useEffect(function(){return tc.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,ec),document.addEventListener("touchmove",l,ec),document.addEventListener("touchstart",d,ec),function(){tc=tc.filter(function(m){return m!==i}),document.removeEventListener("wheel",l,ec),document.removeEventListener("touchmove",l,ec),document.removeEventListener("touchstart",d,ec)}},[]);var p=e.removeScrollBar,g=e.inert;return j.createElement(j.Fragment,null,g?j.createElement(i,{styles:QJ(s)}):null,p?j.createElement(d$,{gapMode:"margin"}):null)}const rQ=c$(cM,tQ);var hM=j.forwardRef(function(e,t){return j.createElement(ay,Yr({},e,{ref:t,sideCar:rQ}))});hM.classNames=ay.classNames;const nQ=[" ","Enter","ArrowUp","ArrowDown"],sQ=[" ","Enter"],ly="Select",[cy,I_,iQ]=XZ(ly),[Cu,MPe]=C_(ly,[iQ,iM]),M_=iM(),[oQ,Pl]=Cu(ly),[aQ,lQ]=Cu(ly),cQ=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:h,required:p}=e,g=M_(t),[m,y]=w.useState(null),[v,b]=w.useState(null),[x,S]=w.useState(!1),_=QZ(c),[N=!1,k]=uC({prop:n,defaultProp:s,onChange:i}),[C,A]=uC({prop:o,defaultProp:a,onChange:l}),I=w.useRef(null),M=m?!!m.closest("form"):!0,[L,D]=w.useState(new Set),z=Array.from(L).map(U=>U.props.value).join(";");return w.createElement(LJ,g,w.createElement(oQ,{required:p,scope:t,trigger:m,onTriggerChange:y,valueNode:v,onValueNodeChange:b,valueNodeHasChildren:x,onValueNodeHasChildrenChange:S,contentId:T_(),value:C,onValueChange:A,open:N,onOpenChange:k,dir:_,triggerPointerDownPosRef:I,disabled:h},w.createElement(cy.Provider,{scope:t},w.createElement(aQ,{scope:e.__scopeSelect,onNativeOptionAdd:w.useCallback(U=>{D(G=>new Set(G).add(U))},[]),onNativeOptionRemove:w.useCallback(U=>{D(G=>{const q=new Set(G);return q.delete(U),q})},[])},r)),M?w.createElement(gM,{key:z,"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:C,onChange:U=>A(U.target.value),disabled:h},C===void 0?w.createElement("option",{value:""}):null,Array.from(L)):null))},uQ="SelectTrigger",dQ=w.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=M_(r),o=Pl(uQ,r),a=o.disabled||n,l=Sn(t,o.onTriggerChange),c=I_(r),[d,f,h]=yM(g=>{const m=c().filter(b=>!b.disabled),y=m.find(b=>b.value===o.value),v=vM(m,g,y);v!==void 0&&o.onValueChange(v.value)}),p=()=>{a||(o.onOpenChange(!0),h())};return w.createElement(FJ,mt({asChild:!0},i),w.createElement(Fr.button,mt({type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":o.value===void 0?"":void 0},s,{ref:l,onClick:on(s.onClick,g=>{g.currentTarget.focus()}),onPointerDown:on(s.onPointerDown,g=>{const m=g.target;m.hasPointerCapture(g.pointerId)&&m.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&(p(),o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)},g.preventDefault())}),onKeyDown:on(s.onKeyDown,g=>{const m=d.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&f(g.key),!(m&&g.key===" ")&&nQ.includes(g.key)&&(p(),g.preventDefault())})})))}),fQ="SelectValue",hQ=w.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o,...a}=e,l=Pl(fQ,r),{onValueNodeHasChildrenChange:c}=l,d=i!==void 0,f=Sn(t,l.onValueNodeChange);return so(()=>{c(d)},[c,d]),w.createElement(Fr.span,mt({},a,{ref:f,style:{pointerEvents:"none"}}),l.value===void 0&&o!==void 0?o:i)}),pQ=w.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return w.createElement(Fr.span,mt({"aria-hidden":!0},s,{ref:t}),n||"")}),mQ=e=>w.createElement(zJ,mt({asChild:!0},e)),tu="SelectContent",gQ=w.forwardRef((e,t)=>{const r=Pl(tu,e.__scopeSelect),[n,s]=w.useState();if(so(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?_i.createPortal(w.createElement(pM,{scope:e.__scopeSelect},w.createElement(cy.Slot,{scope:e.__scopeSelect},w.createElement("div",null,e.children))),i):null}return w.createElement(yQ,mt({},e,{ref:t}))}),Hi=10,[pM,uy]=Cu(tu),yQ=w.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:y,...v}=e,b=Pl(tu,r),[x,S]=w.useState(null),[_,N]=w.useState(null),k=Sn(t,re=>S(re)),[C,A]=w.useState(null),[I,M]=w.useState(null),L=I_(r),[D,z]=w.useState(!1),U=w.useRef(!1);w.useEffect(()=>{if(x)return y$(x)},[x]),cX();const G=w.useCallback(re=>{const[ue,...V]=L().map(O=>O.ref.current),[H]=V.slice(-1),ie=document.activeElement;for(const O of re)if(O===ie||(O==null||O.scrollIntoView({block:"nearest"}),O===ue&&_&&(_.scrollTop=0),O===H&&_&&(_.scrollTop=_.scrollHeight),O==null||O.focus(),document.activeElement!==ie))return},[L,_]),q=w.useCallback(()=>G([C,x]),[G,C,x]);w.useEffect(()=>{D&&q()},[D,q]);const{onOpenChange:Z,triggerPointerDownPosRef:oe}=b;w.useEffect(()=>{if(x){let re={x:0,y:0};const ue=H=>{var ie,O,ge,Ee;re={x:Math.abs(Math.round(H.pageX)-((ie=(O=oe.current)===null||O===void 0?void 0:O.x)!==null&&ie!==void 0?ie:0)),y:Math.abs(Math.round(H.pageY)-((ge=(Ee=oe.current)===null||Ee===void 0?void 0:Ee.y)!==null&&ge!==void 0?ge:0))}},V=H=>{re.x<=10&&re.y<=10?H.preventDefault():x.contains(H.target)||Z(!1),document.removeEventListener("pointermove",ue),oe.current=null};return oe.current!==null&&(document.addEventListener("pointermove",ue),document.addEventListener("pointerup",V,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ue),document.removeEventListener("pointerup",V,{capture:!0})}}},[x,Z,oe]),w.useEffect(()=>{const re=()=>Z(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[Z]);const[$,B]=yM(re=>{const ue=L().filter(ie=>!ie.disabled),V=ue.find(ie=>ie.ref.current===document.activeElement),H=vM(ue,re,V);H&&setTimeout(()=>H.ref.current.focus())}),X=w.useCallback((re,ue,V)=>{const H=!U.current&&!V;(b.value!==void 0&&b.value===ue||H)&&(A(re),H&&(U.current=!0))},[b.value]),ae=w.useCallback(()=>x==null?void 0:x.focus(),[x]),W=w.useCallback((re,ue,V)=>{const H=!U.current&&!V;(b.value!==void 0&&b.value===ue||H)&&M(re)},[b.value]),K=n==="popper"?pC:vQ,te=K===pC?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:y}:{};return w.createElement(pM,{scope:r,content:x,viewport:_,onViewportChange:N,itemRefCallback:X,selectedItem:C,onItemLeave:ae,itemTextRefCallback:W,focusSelectedItem:q,selectedItemText:I,position:n,isPositioned:D,searchRef:$},w.createElement(hM,{as:ff,allowPinchZoom:!0},w.createElement(uX,{asChild:!0,trapped:b.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:on(s,re=>{var ue;(ue=b.trigger)===null||ue===void 0||ue.focus({preventScroll:!0}),re.preventDefault()})},w.createElement(oX,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>b.onOpenChange(!1)},w.createElement(K,mt({role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:re=>re.preventDefault()},v,te,{onPlaced:()=>z(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:on(v.onKeyDown,re=>{const ue=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!ue&&re.key.length===1&&B(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let H=L().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);if(["ArrowUp","End"].includes(re.key)&&(H=H.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const ie=re.target,O=H.indexOf(ie);H=H.slice(O+1)}setTimeout(()=>G(H)),re.preventDefault()}})}))))))}),vQ=w.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=Pl(tu,r),o=uy(tu,r),[a,l]=w.useState(null),[c,d]=w.useState(null),f=Sn(t,k=>d(k)),h=I_(r),p=w.useRef(!1),g=w.useRef(!0),{viewport:m,selectedItem:y,selectedItemText:v,focusSelectedItem:b}=o,x=w.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&m&&y&&v){const k=i.trigger.getBoundingClientRect(),C=c.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),I=v.getBoundingClientRect();if(i.dir!=="rtl"){const ie=I.left-C.left,O=A.left-ie,ge=k.left-O,Ee=k.width+ge,Be=Math.max(Ee,C.width),Ue=window.innerWidth-Hi,et=Wk(O,[Hi,Ue-Be]);a.style.minWidth=Ee+"px",a.style.left=et+"px"}else{const ie=C.right-I.right,O=window.innerWidth-A.right-ie,ge=window.innerWidth-k.right-O,Ee=k.width+ge,Be=Math.max(Ee,C.width),Ue=window.innerWidth-Hi,et=Wk(O,[Hi,Ue-Be]);a.style.minWidth=Ee+"px",a.style.right=et+"px"}const M=h(),L=window.innerHeight-Hi*2,D=m.scrollHeight,z=window.getComputedStyle(c),U=parseInt(z.borderTopWidth,10),G=parseInt(z.paddingTop,10),q=parseInt(z.borderBottomWidth,10),Z=parseInt(z.paddingBottom,10),oe=U+G+D+Z+q,$=Math.min(y.offsetHeight*5,oe),B=window.getComputedStyle(m),X=parseInt(B.paddingTop,10),ae=parseInt(B.paddingBottom,10),W=k.top+k.height/2-Hi,K=L-W,te=y.offsetHeight/2,re=y.offsetTop+te,ue=U+G+re,V=oe-ue;if(ue<=W){const ie=y===M[M.length-1].ref.current;a.style.bottom="0px";const O=c.clientHeight-m.offsetTop-m.offsetHeight,ge=Math.max(K,te+(ie?ae:0)+O+q),Ee=ue+ge;a.style.height=Ee+"px"}else{const ie=y===M[0].ref.current;a.style.top="0px";const ge=Math.max(W,U+m.offsetTop+(ie?X:0)+te)+V;a.style.height=ge+"px",m.scrollTop=ue-W+m.offsetTop}a.style.margin=`${Hi}px 0`,a.style.minHeight=$+"px",a.style.maxHeight=L+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,i.trigger,i.valueNode,a,c,m,y,v,i.dir,n]);so(()=>x(),[x]);const[S,_]=w.useState();so(()=>{c&&_(window.getComputedStyle(c).zIndex)},[c]);const N=w.useCallback(k=>{k&&g.current===!0&&(x(),b==null||b(),g.current=!1)},[x,b]);return w.createElement(bQ,{scope:r,contentWrapper:a,shouldExpandOnScrollRef:p,onScrollButtonChange:N},w.createElement("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S}},w.createElement(Fr.div,mt({},s,{ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}}))))}),pC=w.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Hi,...i}=e,o=M_(r);return w.createElement(BJ,mt({},o,i,{ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[bQ,xQ]=Cu(tu,{}),mC="SelectViewport",wQ=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=uy(mC,r),i=xQ(mC,r),o=Sn(t,s.onViewportChange),a=w.useRef(0);return w.createElement(w.Fragment,null,w.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),w.createElement(cy.Slot,{scope:r},w.createElement(Fr.div,mt({"data-radix-select-viewport":"",role:"presentation"},n,{ref:o,style:{position:"relative",flex:1,overflow:"auto",...n.style},onScroll:on(n.onScroll,l=>{const c=l.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:f}=i;if(f!=null&&f.current&&d){const h=Math.abs(a.current-c.scrollTop);if(h>0){const p=window.innerHeight-Hi*2,g=parseFloat(d.style.minHeight),m=parseFloat(d.style.height),y=Math.max(g,m);if(y<p){const v=y+h,b=Math.min(p,v),x=v-b;d.style.height=b+"px",d.style.bottom==="0px"&&(c.scrollTop=x>0?x:0,d.style.justifyContent="flex-end")}}}a.current=c.scrollTop})}))))}),_Q="SelectGroup",[SQ,EQ]=Cu(_Q),jQ=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=T_();return w.createElement(SQ,{scope:r,id:s},w.createElement(Fr.div,mt({role:"group","aria-labelledby":s},n,{ref:t})))}),NQ="SelectLabel",kQ=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=EQ(NQ,r);return w.createElement(Fr.div,mt({id:s.id},n,{ref:t}))}),gx="SelectItem",[CQ,mM]=Cu(gx),TQ=w.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=e,a=Pl(gx,r),l=uy(gx,r),c=a.value===n,[d,f]=w.useState(i??""),[h,p]=w.useState(!1),g=Sn(t,v=>{var b;return(b=l.itemRefCallback)===null||b===void 0?void 0:b.call(l,v,n,s)}),m=T_(),y=()=>{s||(a.onValueChange(n),a.onOpenChange(!1))};return w.createElement(CQ,{scope:r,value:n,disabled:s,textId:m,isSelected:c,onItemTextChange:w.useCallback(v=>{f(b=>{var x;return b||((x=v==null?void 0:v.textContent)!==null&&x!==void 0?x:"").trim()})},[])},w.createElement(cy.ItemSlot,{scope:r,value:n,disabled:s,textValue:d},w.createElement(Fr.div,mt({role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1},o,{ref:g,onFocus:on(o.onFocus,()=>p(!0)),onBlur:on(o.onBlur,()=>p(!1)),onPointerUp:on(o.onPointerUp,y),onPointerMove:on(o.onPointerMove,v=>{if(s){var b;(b=l.onItemLeave)===null||b===void 0||b.call(l)}else v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:on(o.onPointerLeave,v=>{if(v.currentTarget===document.activeElement){var b;(b=l.onItemLeave)===null||b===void 0||b.call(l)}}),onKeyDown:on(o.onKeyDown,v=>{var b;((b=l.searchRef)===null||b===void 0?void 0:b.current)!==""&&v.key===" "||(sQ.includes(v.key)&&y(),v.key===" "&&v.preventDefault())})}))))}),cp="SelectItemText",AQ=w.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,o=Pl(cp,r),a=uy(cp,r),l=mM(cp,r),c=lQ(cp,r),[d,f]=w.useState(null),h=Sn(t,v=>f(v),l.onItemTextChange,v=>{var b;return(b=a.itemTextRefCallback)===null||b===void 0?void 0:b.call(a,v,l.value,l.disabled)}),p=d==null?void 0:d.textContent,g=w.useMemo(()=>w.createElement("option",{key:l.value,value:l.value,disabled:l.disabled},p),[l.disabled,l.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:y}=c;return so(()=>(m(g),()=>y(g)),[m,y,g]),w.createElement(w.Fragment,null,w.createElement(Fr.span,mt({id:l.textId},i,{ref:h})),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?_i.createPortal(i.children,o.valueNode):null)}),PQ="SelectItemIndicator",OQ=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return mM(PQ,r).isSelected?w.createElement(Fr.span,mt({"aria-hidden":!0},n,{ref:t})):null}),DQ=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return w.createElement(Fr.div,mt({"aria-hidden":!0},n,{ref:t}))}),gM=w.forwardRef((e,t)=>{const{value:r,...n}=e,s=w.useRef(null),i=Sn(t,s),o=qJ(r);return w.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==r&&d){const f=new Event("change",{bubbles:!0});d.call(a,r),a.dispatchEvent(f)}},[o,r]),w.createElement(VJ,{asChild:!0},w.createElement("select",mt({},n,{ref:i,defaultValue:r})))});gM.displayName="BubbleSelect";function yM(e){const t=no(e),r=w.useRef(""),n=w.useRef(0),s=w.useCallback(o=>{const a=r.current+o;t(a),function l(c){r.current=c,window.clearTimeout(n.current),c!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(a)},[t]),i=w.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function vM(e,t,r){const s=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=$Q(e,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==r));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==r?l:void 0}function $Q(e,t){return e.map((r,n)=>e[(t+n)%e.length])}const RQ=cQ,bM=dQ,IQ=hQ,MQ=pQ,LQ=mQ,xM=gQ,FQ=wQ,BQ=jQ,wM=kQ,_M=TQ,zQ=AQ,UQ=OQ,SM=DQ,L_="-",qQ=e=>{const t=WQ(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const a=o.split(L_);return a[0]===""&&a.length!==1&&a.shift(),EM(a,t)||VQ(o)},getConflictingClassGroupIds:(o,a)=>{const l=r[o]||[];return a&&n[o]?[...l,...n[o]]:l}}},EM=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?EM(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(L_);return(o=t.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},gC=/^\[(.+)\]$/,VQ=e=>{if(gC.test(e)){const t=gC.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},WQ=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return HQ(Object.entries(e.classGroups),r).forEach(([i,o])=>{yx(o,n,i,t)}),n},yx=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:yC(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(KQ(s)){yx(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{yx(o,yC(t,i),r,n)})})},yC=(e,t)=>{let r=e;return t.split(L_).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},KQ=e=>e.isThemeGetter,HQ=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[t+o,a])):i);return[r,s]}):e,YQ=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},jM="!",GQ=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=a=>{const l=[];let c=0,d=0,f;for(let y=0;y<a.length;y++){let v=a[y];if(c===0){if(v===s&&(n||a.slice(y,y+i)===t)){l.push(a.slice(d,y)),d=y+i;continue}if(v==="/"){f=y;continue}}v==="["?c++:v==="]"&&c--}const h=l.length===0?a:a.substring(d),p=h.startsWith(jM),g=p?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:m}};return r?a=>r({className:a,parseClassName:o}):o},ZQ=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},XQ=e=>({cache:YQ(e.cacheSize),parseClassName:GQ(e),...qQ(e)}),JQ=/\s+/,QQ=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(JQ);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(c);let g=!!p,m=n(g?h.substring(0,p):h);if(!m){if(!g){a=c+(a.length>0?" "+a:a);continue}if(m=n(h),!m){a=c+(a.length>0?" "+a:a);continue}g=!1}const y=ZQ(d).join(":"),v=f?y+jM:y,b=v+m;if(i.includes(b))continue;i.push(b);const x=s(m,g);for(let S=0;S<x.length;++S){const _=x[S];i.push(v+_)}a=c+(a.length>0?" "+a:a)}return a};function eee(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=NM(t))&&(n&&(n+=" "),n+=r);return n}const NM=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=NM(e[n]))&&(r&&(r+=" "),r+=t);return r};function tee(e,...t){let r,n,s,i=o;function o(l){const c=t.reduce((d,f)=>f(d),e());return r=XQ(c),n=r.cache.get,s=r.cache.set,i=a,a(l)}function a(l){const c=n(l);if(c)return c;const d=QQ(l,r);return s(l,d),d}return function(){return i(eee.apply(null,arguments))}}const kt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},kM=/^\[(?:([a-z-]+):)?(.+)\]$/i,ree=/^\d+\/\d+$/,nee=new Set(["px","full","screen"]),see=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,iee=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,oee=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,aee=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,lee=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,zi=e=>Lc(e)||nee.has(e)||ree.test(e),Mo=e=>Tu(e,"length",gee),Lc=e=>!!e&&!Number.isNaN(Number(e)),mb=e=>Tu(e,"number",Lc),ld=e=>!!e&&Number.isInteger(Number(e)),cee=e=>e.endsWith("%")&&Lc(e.slice(0,-1)),Ye=e=>kM.test(e),Lo=e=>see.test(e),uee=new Set(["length","size","percentage"]),dee=e=>Tu(e,uee,CM),fee=e=>Tu(e,"position",CM),hee=new Set(["image","url"]),pee=e=>Tu(e,hee,vee),mee=e=>Tu(e,"",yee),cd=()=>!0,Tu=(e,t,r)=>{const n=kM.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},gee=e=>iee.test(e)&&!oee.test(e),CM=()=>!1,yee=e=>aee.test(e),vee=e=>lee.test(e),bee=()=>{const e=kt("colors"),t=kt("spacing"),r=kt("blur"),n=kt("brightness"),s=kt("borderColor"),i=kt("borderRadius"),o=kt("borderSpacing"),a=kt("borderWidth"),l=kt("contrast"),c=kt("grayscale"),d=kt("hueRotate"),f=kt("invert"),h=kt("gap"),p=kt("gradientColorStops"),g=kt("gradientColorStopPositions"),m=kt("inset"),y=kt("margin"),v=kt("opacity"),b=kt("padding"),x=kt("saturate"),S=kt("scale"),_=kt("sepia"),N=kt("skew"),k=kt("space"),C=kt("translate"),A=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",Ye,t],L=()=>[Ye,t],D=()=>["",zi,Mo],z=()=>["auto",Lc,Ye],U=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],G=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Z=()=>["start","end","center","between","around","evenly","stretch"],oe=()=>["","0",Ye],$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[Lc,Ye];return{cacheSize:500,separator:":",theme:{colors:[cd],spacing:[zi,Mo],blur:["none","",Lo,Ye],brightness:B(),borderColor:[e],borderRadius:["none","","full",Lo,Ye],borderSpacing:L(),borderWidth:D(),contrast:B(),grayscale:oe(),hueRotate:B(),invert:oe(),gap:L(),gradientColorStops:[e],gradientColorStopPositions:[cee,Mo],inset:M(),margin:M(),opacity:B(),padding:L(),saturate:B(),scale:B(),sepia:oe(),skew:B(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",Ye]}],container:["container"],columns:[{columns:[Lo]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...U(),Ye]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ld,Ye]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ye]}],grow:[{grow:oe()}],shrink:[{shrink:oe()}],order:[{order:["first","last","none",ld,Ye]}],"grid-cols":[{"grid-cols":[cd]}],"col-start-end":[{col:["auto",{span:["full",ld,Ye]},Ye]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[cd]}],"row-start-end":[{row:["auto",{span:[ld,Ye]},Ye]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ye]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ye]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...Z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ye,t]}],"min-w":[{"min-w":[Ye,t,"min","max","fit"]}],"max-w":[{"max-w":[Ye,t,"none","full","min","max","fit","prose",{screen:[Lo]},Lo]}],h:[{h:[Ye,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ye,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ye,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ye,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Lo,Mo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",mb]}],"font-family":[{font:[cd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ye]}],"line-clamp":[{"line-clamp":["none",Lc,mb]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",zi,Ye]}],"list-image":[{"list-image":["none",Ye]}],"list-style-type":[{list:["none","disc","decimal",Ye]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",zi,Mo]}],"underline-offset":[{"underline-offset":["auto",zi,Ye]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...U(),fee]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",dee]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},pee]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...G(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:G()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...G()]}],"outline-offset":[{"outline-offset":[zi,Ye]}],"outline-w":[{outline:[zi,Mo]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[zi,Mo]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Lo,mee]}],"shadow-color":[{shadow:[cd]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Lo,Ye]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ye]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",Ye]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ye]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[ld,Ye]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ye]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ye]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ye]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[zi,Mo,mb]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},xee=tee(bee);function Xt(...e){return xee(nt(e))}const kd=RQ,wee=BQ,Cd=IQ,vc=j.forwardRef(({className:e,children:t,...r},n)=>u.jsxs(bM,{ref:n,className:Xt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,u.jsx(MQ,{asChild:!0,children:u.jsx(OR,{className:"h-4 w-4 opacity-50"})})]}));vc.displayName=bM.displayName;const bc=j.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>u.jsx(LQ,{children:u.jsx(xM,{ref:s,className:Xt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:duration-75",r==="popper"&&"data-[state=open]:slide-in-from-top-[60%] data-[state=closed]:slide-out-to-top-[60%] data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:u.jsx(FQ,{className:Xt("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t})})}));bc.displayName=xM.displayName;const TM=j.forwardRef(({className:e,...t},r)=>u.jsx(wM,{ref:r,className:Xt("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));TM.displayName=wM.displayName;const Cs=j.forwardRef(({className:e,children:t,...r},n)=>u.jsxs(_M,{ref:n,className:Xt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(UQ,{children:u.jsx(OR,{className:"h-4 w-4"})})}),u.jsx(zQ,{children:t})]}));Cs.displayName=_M.displayName;const AM=j.forwardRef(({className:e,...t},r)=>u.jsx(SM,{ref:r,className:Xt("-mx-1 my-1 h-px bg-muted",e),...t}));AM.displayName=SM.displayName;function _ee(e){const t=j.useRef({value:e,previous:e});return j.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function See(e){const[t,r]=j.useState(void 0);return Yc(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=e.offsetWidth,a=e.offsetHeight;r({width:o,height:a})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var dy="Switch",[Eee,LPe]=_u(dy),[jee,Nee]=Eee(dy),PM=j.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:i,required:o,disabled:a,value:l="on",onCheckedChange:c,form:d,...f}=e,[h,p]=j.useState(null),g=_n(t,x=>p(x)),m=j.useRef(!1),y=h?d||!!h.closest("form"):!0,[v,b]=Ig({prop:s,defaultProp:i??!1,onChange:c,caller:dy});return u.jsxs(jee,{scope:r,checked:v,disabled:a,children:[u.jsx(Tr.button,{type:"button",role:"switch","aria-checked":v,"aria-required":o,"data-state":RM(v),"data-disabled":a?"":void 0,disabled:a,value:l,...f,ref:g,onClick:br(e.onClick,x=>{b(S=>!S),y&&(m.current=x.isPropagationStopped(),m.current||x.stopPropagation())})}),y&&u.jsx($M,{control:h,bubbles:!m.current,name:n,value:l,checked:v,required:o,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});PM.displayName=dy;var OM="SwitchThumb",DM=j.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=Nee(OM,r);return u.jsx(Tr.span,{"data-state":RM(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});DM.displayName=OM;var kee="SwitchBubbleInput",$M=j.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},i)=>{const o=j.useRef(null),a=_n(o,i),l=_ee(r),c=See(t);return j.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&p){const g=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(g)}},[l,r,n]),u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:a,style:{...s.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});$M.displayName=kee;function RM(e){return e?"checked":"unchecked"}var IM=PM,Cee=DM;const mf=j.forwardRef(({className:e,...t},r)=>u.jsx(IM,{className:J.cn("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:u.jsx(Cee,{className:J.cn("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));mf.displayName=IM.displayName;const Tee=Rg("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:h-4 [&>svg]:w-4",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",success:"border-emerald-500/50 text-emerald-600 dark:text-emerald-400 [&>svg]:text-emerald-600 dark:[&>svg]:text-emerald-400"}},defaultVariants:{variant:"default"}}),fy=j.forwardRef(({className:e,variant:t,...r},n)=>u.jsx("div",{ref:n,role:"alert",className:Xt(Tee({variant:t}),e),...r}));fy.displayName="Alert";const hy=j.forwardRef(({className:e,...t},r)=>u.jsx("h5",{ref:r,className:Xt("mb-1 font-medium leading-none tracking-tight",e),...t}));hy.displayName="AlertTitle";const gf=j.forwardRef(({className:e,...t},r)=>u.jsx("div",{ref:r,className:Xt("text-sm [&_p]:leading-relaxed",e),...t}));gf.displayName="AlertDescription";const MM=j.forwardRef(({className:e,variant:t="default",children:r,icon:n,...s},i)=>{const o={default:DR,destructive:l_,success:OV}[t]||$s;return u.jsxs(fy,{ref:i,variant:t,className:Xt("flex items-start gap-3",e),...s,children:[n||u.jsx(o,{className:"h-4 w-4 flex-shrink-0 mt-0.5"}),u.jsx("div",{children:j.Children.map(r,a=>j.isValidElement(a)&&(a.type===hy||a.type===gf)?a:u.jsx(gf,{children:a}))})]})});MM.displayName="AlertWithIcon";const Aee=zk({name:sp().min(1,"Name is required").max(100,"Name is too long"),description:sp().max(500,"Description is too long").optional(),product_type:cx(["single_issue","bundle","chapter_pass","arc_pass"]),active:vZ(),work_id:sp().nullable().optional(),content_grants:LI(zk({type:cx(["work","chapter"]),id:sp().min(1,"Content ID is required")}))}),Pee=({product:e,onSave:t,onCancel:r,isSubmitting:n=!1})=>{var N,k;const[s,i]=w.useState([]),[o,a]=w.useState(!0),[l,c]=w.useState(null),{control:d,register:f,handleSubmit:h,reset:p,watch:g,setValue:m,formState:{errors:y}}=MK({resolver:PG(Aee),defaultValues:{name:(e==null?void 0:e.name)||"",description:(e==null?void 0:e.description)||"",product_type:(e==null?void 0:e.product_type)||"single_issue",active:(e==null?void 0:e.active)??!0,work_id:(e==null?void 0:e.work_id)||null,content_grants:Array.isArray(e==null?void 0:e.content_grants)?e.content_grants:[]}}),v=g("product_type");w.useEffect(()=>{(async()=>{a(!0),c(null);try{const A=await fetch("/api/content/works");if(!A.ok)throw new Error(`Failed to fetch works: ${A.statusText}`);const I=await A.json();i(I.works||[])}catch(A){console.error("Error fetching works:",A),c("Failed to load content. Please try again later.")}finally{a(!1)}})()},[]);const b=C=>{const A={...C,work_id:C.work_id||null};t(A)},x=()=>{const C=g("content_grants")||[];m("content_grants",[...C,{type:"work",id:""}],{shouldValidate:!0})},S=C=>{const I=(g("content_grants")||[]).filter((M,L)=>L!==C);m("content_grants",I,{shouldValidate:!0})},_=(C,A,I)=>{const L=[...g("content_grants")||[]];L[C]={...L[C],[A]:I},m("content_grants",L,{shouldValidate:!0})};return o?u.jsxs("div",{className:"flex items-center justify-center p-8",children:[u.jsx(Qc,{className:"h-6 w-6 animate-spin text-primary mr-2"}),u.jsx("span",{children:"Loading form..."})]}):u.jsxs("form",{onSubmit:h(b),className:"space-y-6",children:[l&&u.jsxs(fy,{variant:"destructive",children:[u.jsx($s,{className:"h-4 w-4"}),u.jsx(hy,{children:"Error"}),u.jsx(gf,{children:l})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx($n,{htmlFor:"name",children:"Product Name *"}),u.jsx(as,{id:"name",placeholder:"e.g., Issue #1, Premium Bundle",...f("name"),className:y.name?"border-destructive":""}),y.name&&u.jsx("p",{className:"text-sm font-medium text-destructive",children:y.name.message})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx($n,{htmlFor:"description",children:"Description"}),u.jsx(ry,{id:"description",placeholder:"A brief description of the product...",rows:3,...f("description"),className:y.description?"border-destructive":""}),y.description&&u.jsx("p",{className:"text-sm font-medium text-destructive",children:y.description.message})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx($n,{htmlFor:"product_type",children:"Product Type *"}),u.jsx(ab,{name:"product_type",control:d,render:({field:C})=>u.jsxs(kd,{onValueChange:C.onChange,value:C.value,children:[u.jsx(vc,{className:"w-full",children:u.jsx(Cd,{placeholder:"Select a product type"})}),u.jsxs(bc,{children:[u.jsx(Cs,{value:"single_issue",children:"Single Issue"}),u.jsx(Cs,{value:"bundle",children:"Bundle"}),u.jsx(Cs,{value:"chapter_pass",children:"Chapter Pass"}),u.jsx(Cs,{value:"arc_pass",children:"Arc Pass"})]})]})}),y.product_type&&u.jsx("p",{className:"text-sm font-medium text-destructive",children:y.product_type.message})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(ab,{name:"active",control:d,render:({field:C})=>u.jsx(mf,{id:"active",checked:C.value,onCheckedChange:C.onChange})}),u.jsx($n,{htmlFor:"active",children:"Active"})]}),v==="single_issue"&&u.jsxs("div",{className:"space-y-2",children:[u.jsx($n,{htmlFor:"work_id",children:"Associated Work (Issue/Book)"}),u.jsx(ab,{name:"work_id",control:d,render:({field:C})=>u.jsxs(kd,{onValueChange:C.onChange,value:C.value||"",children:[u.jsx(vc,{children:u.jsx(Cd,{placeholder:"Select an associated work"})}),u.jsxs(bc,{children:[u.jsx(Cs,{value:"",children:"None"}),s.map(A=>u.jsxs(Cs,{value:A.id,children:[A.title," (",A.type,")"]},A.id))]})]})}),y.work_id&&u.jsx("p",{className:"text-sm font-medium text-destructive",children:y.work_id.message})]}),(v==="bundle"||v==="chapter_pass"||v==="arc_pass")&&u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx($n,{children:"Content Grants"}),u.jsxs(Qe,{type:"button",variant:"outline",size:"sm",onClick:x,className:"text-sm",children:[u.jsx(Si,{className:"h-3.5 w-3.5 mr-1.5"}),"Add Grant"]})]}),u.jsxs("div",{className:"space-y-3",children:[(N=g("content_grants"))==null?void 0:N.map((C,A)=>u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-2 flex-1",children:[u.jsx("div",{className:"space-y-1",children:u.jsxs(kd,{value:C.type,onValueChange:I=>_(A,"type",I),children:[u.jsx(vc,{children:u.jsx(Cd,{})}),u.jsxs(bc,{children:[u.jsx(Cs,{value:"work",children:"Work"}),u.jsx(Cs,{value:"chapter",children:"Chapter"})]})]})}),u.jsx("div",{className:"space-y-1",children:u.jsxs(kd,{value:C.id,onValueChange:I=>_(A,"id",I),children:[u.jsx(vc,{children:u.jsx(Cd,{placeholder:`Select ${C.type}...`})}),u.jsxs(bc,{children:[s.filter(I=>C.type==="work"||I.type===C.type).map(I=>u.jsxs(Cs,{value:I.id,children:[I.title," (",I.type,")"]},I.id)),s.length===0&&u.jsxs("div",{className:"p-2 text-sm text-muted-foreground",children:["No ",C.type,"s found"]})]})]})})]}),u.jsxs(Qe,{type:"button",variant:"ghost",size:"icon",className:"h-10 w-10 text-destructive hover:bg-destructive/10",onClick:()=>S(A),children:[u.jsx(la,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Remove"})]})]},A)),((k=g("content_grants"))==null?void 0:k.length)===0&&u.jsx("div",{className:"rounded-md border border-dashed p-4 text-center",children:u.jsx("p",{className:"text-sm text-muted-foreground",children:'No content grants added yet. Click "Add Grant" to get started.'})})]}),y.content_grants&&u.jsx("p",{className:"text-sm font-medium text-destructive",children:y.content_grants.message||"Please check the content grants"})]}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[u.jsx(Qe,{type:"button",variant:"outline",onClick:r,disabled:n,children:"Cancel"}),u.jsx(Qe,{type:"submit",disabled:n,children:n?u.jsxs(u.Fragment,{children:[u.jsx(Qc,{className:"mr-2 h-4 w-4 animate-spin"}),e?"Updating...":"Creating..."]}):u.jsx(u.Fragment,{children:e?"Update Product":"Create Product"})})]})]})},F_=j.forwardRef(({className:e,...t},r)=>u.jsx("div",{className:"w-full overflow-auto",children:u.jsx("table",{ref:r,className:J.cn("w-full caption-bottom text-sm",e),...t})}));F_.displayName="Table";const B_=j.forwardRef(({className:e,...t},r)=>u.jsx("thead",{ref:r,className:J.cn("[&_tr]:border-b",e),...t}));B_.displayName="TableHeader";const z_=j.forwardRef(({className:e,...t},r)=>u.jsx("tbody",{ref:r,className:J.cn("[&_tr:last-child]:border-0",e),...t}));z_.displayName="TableBody";const LM=j.forwardRef(({className:e,...t},r)=>u.jsx("tfoot",{ref:r,className:J.cn("bg-primary font-medium text-primary-foreground",e),...t}));LM.displayName="TableFooter";const Vd=j.forwardRef(({className:e,...t},r)=>u.jsx("tr",{ref:r,className:J.cn("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Vd.displayName="TableRow";const Ka=j.forwardRef(({className:e,...t},r)=>u.jsx("th",{ref:r,className:J.cn("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Ka.displayName="TableHead";const Yo=j.forwardRef(({className:e,...t},r)=>u.jsx("td",{ref:r,className:J.cn("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Yo.displayName="TableCell";const FM=j.forwardRef(({className:e,...t},r)=>u.jsx("caption",{ref:r,className:J.cn("mt-4 text-sm text-muted-foreground",e),...t}));FM.displayName="TableCaption";const BM=R$,zM=I$,UM=M$,Oee=Fg,U_=j.forwardRef(({className:e,...t},r)=>u.jsx(W1,{ref:r,className:J.cn("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));U_.displayName=W1.displayName;const q_=j.forwardRef(({className:e,children:t,...r},n)=>u.jsxs(UM,{children:[u.jsx(U_,{}),u.jsxs(K1,{ref:n,className:J.cn("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,u.jsxs(Fg,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[u.jsx(la,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));q_.displayName=K1.displayName;const V_=({className:e,...t})=>u.jsx("div",{className:J.cn("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});V_.displayName="DialogHeader";const qM=({className:e,...t})=>u.jsx("div",{className:J.cn("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});qM.displayName="DialogFooter";const W_=j.forwardRef(({className:e,...t},r)=>u.jsx(H1,{ref:r,className:J.cn("text-lg font-semibold leading-none tracking-tight",e),...t}));W_.displayName=H1.displayName;const VM=j.forwardRef(({className:e,...t},r)=>u.jsx(Y1,{ref:r,className:J.cn("text-sm text-muted-foreground",e),...t}));VM.displayName=Y1.displayName;function Dee(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}Array(12).fill(0);let vx=1;class $ee{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...s}=t,i=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:vx++,o=this.toasts.find(l=>l.id===i),a=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...t,id:i,title:n}),{...l,...t,id:i,dismissible:a,title:n}):l):this.addToast({title:n,...s,dismissible:a,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const s=Promise.resolve(t instanceof Function?t():t);let i=n!==void 0,o;const a=s.then(async c=>{if(o=["resolve",c],w.isValidElement(c))i=!1,this.create({id:n,type:"default",message:c});else if(Iee(c)&&!c.ok){i=!1;const f=typeof r.error=="function"?await r.error(`HTTP error! status: ${c.status}`):r.error,h=typeof r.description=="function"?await r.description(`HTTP error! status: ${c.status}`):r.description,g=typeof f=="object"&&!w.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:h,...g})}else if(c instanceof Error){i=!1;const f=typeof r.error=="function"?await r.error(c):r.error,h=typeof r.description=="function"?await r.description(c):r.description,g=typeof f=="object"&&!w.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:h,...g})}else if(r.success!==void 0){i=!1;const f=typeof r.success=="function"?await r.success(c):r.success,h=typeof r.description=="function"?await r.description(c):r.description,g=typeof f=="object"&&!w.isValidElement(f)?f:{message:f};this.create({id:n,type:"success",description:h,...g})}}).catch(async c=>{if(o=["reject",c],r.error!==void 0){i=!1;const d=typeof r.error=="function"?await r.error(c):r.error,f=typeof r.description=="function"?await r.description(c):r.description,p=typeof d=="object"&&!w.isValidElement(d)?d:{message:d};this.create({id:n,type:"error",description:f,...p})}}).finally(()=>{i&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),l=()=>new Promise((c,d)=>a.then(()=>o[0]==="reject"?d(o[1]):c(o[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(t,r)=>{const n=(r==null?void 0:r.id)||vx++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const ns=new $ee,Ree=(e,t)=>{const r=(t==null?void 0:t.id)||vx++;return ns.addToast({title:e,...t,id:r}),r},Iee=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Mee=Ree,Lee=()=>ns.toasts,Fee=()=>ns.getActiveToasts(),qe=Object.assign(Mee,{success:ns.success,info:ns.info,warning:ns.warning,error:ns.error,custom:ns.custom,message:ns.message,promise:ns.promise,dismiss:ns.dismiss,loading:ns.loading},{getHistory:Lee,getToasts:Fee});Dee("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const Bee=()=>{const[e,t]=w.useState([]),[r,n]=w.useState(!1),[s,i]=w.useState(!0),[o,a]=w.useState(!1),[l,c]=w.useState(null),d=async()=>{i(!0);try{const m=await fetch("/api/products");if(!m.ok)throw new Error(`HTTP error! status: ${m.status}`);const y=await m.json();t(y.products),qe.success("Products loaded successfully")}catch(m){console.error("Error fetching products:",m),qe.error("Failed to load products")}finally{i(!1)}};w.useEffect(()=>{d()},[]);const f=async m=>{a(!0);try{let y;if(l?y=await fetch(`/api/products/${l.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...m,active:m.active??!0})}):y=await fetch("/api/products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...m,active:m.active??!0})}),!y.ok){const b=await y.json();throw new Error(b.message||"Failed to save product")}const v=await y.json();qe.success(l?"Product updated successfully":"Product created successfully"),n(!1),c(null),await d()}catch(y){console.error("Error saving product:",y),qe.error((y instanceof Error?y.message:String(y))||"Failed to save product")}finally{a(!1)}},h=async m=>{if(window.confirm("Are you sure you want to archive this product?"))try{const y=await fetch(`/api/products/${m}`,{method:"DELETE"});if(!y.ok){const v=await y.json();throw new Error(v.message||"Failed to delete product")}qe.success("Product archived successfully"),await d()}catch(y){console.error("Error deleting product:",y),qe.error((y instanceof Error?y.message:String(y))||"Failed to archive product")}},p=m=>{c(m),n(!0)},g=()=>{n(!1),c(null)};return s?u.jsxs("div",{className:"flex items-center justify-center p-8",children:[u.jsx(Qc,{className:"h-8 w-8 animate-spin text-primary"}),u.jsx("span",{className:"ml-2",children:"Loading products..."})]}):u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Products"}),u.jsxs("p",{className:"text-muted-foreground",children:[e.length," product",e.length!==1?"s":""," in your store"]})]}),u.jsxs(BM,{open:r,onOpenChange:g,children:[u.jsx(zM,{asChild:!0,children:u.jsxs(Qe,{onClick:()=>n(!0),children:[u.jsx(Si,{className:"mr-2 h-4 w-4"}),"Add Product"]})}),u.jsxs(q_,{className:"sm:max-w-[700px]",children:[u.jsx(V_,{children:u.jsx(W_,{children:l?"Edit Product":"Create New Product"})}),u.jsx(Pee,{product:l,onSave:f,onCancel:g,isSubmitting:o})]})]})]}),u.jsx("div",{className:"rounded-md border",children:u.jsxs(F_,{children:[u.jsx(B_,{children:u.jsxs(Vd,{children:[u.jsx(Ka,{className:"w-[300px]",children:"Name"}),u.jsx(Ka,{children:"Type"}),u.jsx(Ka,{children:"Status"}),u.jsx(Ka,{children:"Created"}),u.jsx(Ka,{className:"text-right",children:"Actions"})]})}),u.jsx(z_,{children:e.length===0?u.jsx(Vd,{children:u.jsx(Yo,{colSpan:5,className:"h-24 text-center",children:"No products found."})}):e.map(m=>{var y;return u.jsxs(Vd,{children:[u.jsxs(Yo,{className:"font-medium",children:[u.jsx("div",{className:"font-medium",children:m.name}),u.jsx("div",{className:"text-sm text-muted-foreground line-clamp-2",children:m.description||"No description"})]}),u.jsx(Yo,{children:u.jsx("span",{className:"inline-flex items-center rounded-full bg-secondary px-2.5 py-0.5 text-xs font-medium text-secondary-foreground capitalize",children:(y=m.product_type)==null?void 0:y.replace("_"," ")})}),u.jsx(Yo,{children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:`h-2.5 w-2.5 rounded-full mr-2 ${m.active?"bg-green-500":"bg-gray-300"}`}),m.active?"Active":"Inactive"]})}),u.jsx(Yo,{children:new Date(m.created_at).toLocaleDateString()}),u.jsx(Yo,{className:"text-right",children:u.jsxs("div",{className:"flex justify-end space-x-2",children:[u.jsxs(Qe,{variant:"outline",size:"sm",onClick:()=>p(m),children:[u.jsx(WV,{className:"h-4 w-4 mr-1"}),"Edit"]}),u.jsxs(Qe,{variant:"outline",size:"sm",onClick:()=>h(m.id),className:"text-destructive hover:bg-destructive/10 hover:text-destructive",children:[u.jsx(Al,{className:"h-4 w-4 mr-1"}),"Archive"]})]})})]},m.id)})})]})})]})};function gb({className:e,...t}){return u.jsx("div",{className:`animate-pulse bg-gray-200 dark:bg-gray-700 rounded-md ${e||""}`,...t})}const xc=j.forwardRef(({className:e,...t},r)=>u.jsx("div",{ref:r,className:J.cn("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));xc.displayName="Card";const wc=j.forwardRef(({className:e,...t},r)=>u.jsx("div",{ref:r,className:J.cn("flex flex-col space-y-1.5 p-6",e),...t}));wc.displayName="CardHeader";const _c=j.forwardRef(({className:e,...t},r)=>u.jsx("h3",{ref:r,className:J.cn("text-2xl font-semibold leading-none tracking-tight",e),...t}));_c.displayName="CardTitle";const WM=j.forwardRef(({className:e,...t},r)=>u.jsx("p",{ref:r,className:J.cn("text-sm text-muted-foreground",e),...t}));WM.displayName="CardDescription";const Sc=j.forwardRef(({className:e,...t},r)=>u.jsx("div",{ref:r,className:J.cn("p-6 pt-0",e),...t}));Sc.displayName="CardContent";const KM=j.forwardRef(({className:e,...t},r)=>u.jsx("div",{ref:r,className:J.cn("flex items-center p-6 pt-0",e),...t}));KM.displayName="CardFooter";const zee=w.lazy(()=>Promise.resolve().then(()=>require("./PriceManager-CGIkMqYS.cjs"))),Uee=()=>u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(gb,{className:"h-9 w-32"}),u.jsx(gb,{className:"h-9 w-24"})]}),u.jsx("div",{className:"space-y-2",children:[...Array(5)].map((e,t)=>u.jsx(gb,{className:"h-12 w-full"},t))})]}),qee=()=>u.jsxs("div",{className:"container mx-auto p-4 space-y-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Store Management"}),u.jsx("p",{className:"text-muted-foreground",children:"Manage your store's products, pricing, and customer purchases"})]}),u.jsxs(uI,{defaultValue:"products",className:"w-full space-y-6",children:[u.jsxs(h_,{className:"grid w-full md:w-[400px] grid-cols-2",children:[u.jsx(mc,{value:"products",children:"Products"}),u.jsx(mc,{value:"prices",children:"Pricing"}),u.jsx(mc,{value:"purchases",children:"Purchases"}),u.jsx(mc,{value:"analytics",children:"Analytics"})]}),u.jsx(gc,{value:"products",className:"space-y-4",children:u.jsxs(xc,{children:[u.jsx(wc,{children:u.jsx(_c,{children:"Product Catalog"})}),u.jsx(Sc,{children:u.jsx(Bee,{})})]})}),u.jsx(gc,{value:"prices",className:"space-y-4",children:u.jsxs(xc,{children:[u.jsx(wc,{children:u.jsx(_c,{children:"Pricing & Plans"})}),u.jsx(Sc,{children:u.jsx(w.Suspense,{fallback:u.jsx(Uee,{}),children:u.jsx(zee,{})})})]})}),u.jsx(gc,{value:"purchases",className:"space-y-4",children:u.jsxs(xc,{children:[u.jsx(wc,{children:u.jsx(_c,{children:"Purchase History"})}),u.jsx(Sc,{children:u.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[u.jsx("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center mb-4",children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-8 w-8 text-muted-foreground",children:[u.jsx("path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"}),u.jsx("path",{d:"M3 6h18"}),u.jsx("path",{d:"M16 10a4 4 0 0 1-8 0"})]})}),u.jsx("h3",{className:"text-lg font-medium mb-2",children:"Purchase History"}),u.jsx("p",{className:"text-sm text-muted-foreground max-w-md",children:"View and manage customer purchases, refunds, and order history."})]})})]})}),u.jsx(gc,{value:"analytics",className:"space-y-4",children:u.jsxs(xc,{children:[u.jsx(wc,{children:u.jsx(_c,{children:"Store Analytics"})}),u.jsx(Sc,{children:u.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[u.jsx("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center mb-4",children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-8 w-8 text-muted-foreground",children:[u.jsx("path",{d:"M3 3v18h18"}),u.jsx("path",{d:"m19 9-5 5-4-4-3 3"})]})}),u.jsx("h3",{className:"text-lg font-medium mb-2",children:"Sales Analytics"}),u.jsx("p",{className:"text-sm text-muted-foreground max-w-md mb-4",children:"View detailed analytics and reports about your store's performance."}),u.jsx(Qe,{disabled:!0,children:"Coming Soon"})]})})]})})]})]}),Vee=async()=>{const{data:e,error:t}=await J.supabase.from("works").select("*").order("order_in_parent",{ascending:!0});if(t)throw new Error(t.message);return e},Wee=async e=>{if(!e)return[];const{data:t,error:r}=await J.supabase.from("purchases").select(`
      id,
      user_id,
      product_id,
      purchased_at,
      status,
      products (
        name,
        description,
        product_type,
        work_id
      )
    `).eq("user_id",e);if(r)throw new Error(r.message);return t.map(n=>{var s,i,o,a;return{id:n.id,user_id:n.user_id,product_id:n.product_id,purchased_at:n.purchased_at,status:n.status,product_title:((s=n.products)==null?void 0:s.name)||"Unknown Product",product_description:(i=n.products)==null?void 0:i.description,product_type:((o=n.products)==null?void 0:o.product_type)||"single_issue",work_id:(a=n.products)==null?void 0:a.work_id}})},Kee=async(e,t)=>{if(!e||!t)return null;const{data:r,error:n}=await J.supabase.from("user_ratings").select("rating").eq("user_id",e).eq("work_id",t).single();if(n&&n.code!=="PGRST116")throw new Error(n.message);return r?r.rating:null},Hee=async(e,t,r)=>{const{data:n,error:s}=await J.supabase.from("user_ratings").upsert({user_id:e,work_id:t,rating:r},{onConflict:"user_id,work_id"}).select();if(s)throw new Error(s.message);return n[0]},Yee=({work:e,userLibraryItem:t,queryClient:r})=>{var m,y;const{user:n}=J.useAuth(),[s,i]=w.useState(null),[o,a]=w.useState(!1),[l,c]=w.useState(!1),{data:d}=Me.useQuery({queryKey:["userRating",n==null?void 0:n.id,e.id],queryFn:()=>Kee((n==null?void 0:n.id)||"",e.id),enabled:!!(n!=null&&n.id)});w.useEffect(()=>{d!==void 0&&i(d)},[d]);const f=Me.useMutation({mutationFn:({userId:v,workId:b,rating:x})=>Hee(v,b,x),onSuccess:()=>{r.invalidateQueries({queryKey:["userRating",n==null?void 0:n.id,e.id]}),r.invalidateQueries({queryKey:["allWorks"]})},onError:v=>{alert(`Error submitting rating: ${v.message}`)}}),h=v=>{if(!n){alert("Please log in to submit a rating.");return}n.id&&f.mutate({userId:n.id,workId:e.id,rating:v})},p=e.word_count&&e.target_word_count?Math.min(100,Math.round(e.word_count/e.target_word_count*100)):e.progress_percentage||0,g="S. Azar";return u.jsxs("article",{className:"book-card","data-book-id":e.id,"aria-label":`Book card: ${e.title} by ${g}`,children:[u.jsxs("div",{className:"book-main",children:[u.jsx("div",{className:"cover",role:"img","aria-label":`Book cover: ${e.title} by ${g}`,style:{background:e.cover_image_url?`url(${e.cover_image_url}) center center / cover`:"var(--teal)"},children:!e.cover_image_url&&u.jsxs("div",{className:"cover-content",children:[u.jsx("div",{className:"cover-title",children:e.title}),u.jsx("div",{className:"cover-author",children:g})]})}),u.jsxs("div",{className:"details",children:[u.jsxs("div",{className:"book-header",children:[u.jsx("h3",{className:"book-title",children:e.title}),u.jsx("div",{className:"author",children:g})]}),(e.release_date||e.estimated_release)&&u.jsx("div",{className:"release-info text-sm text-muted mt-1",children:e.release_date?u.jsxs("span",{children:["Released: ",new Date(e.release_date).toLocaleDateString()]}):u.jsxs("span",{children:["Estimated Release: ",e.estimated_release]})}),(e.status==="planning"||e.status==="writing"||e.status==="editing")&&u.jsxs("div",{className:"progress","aria-label":"Author writing progress",children:[u.jsxs("div",{className:"progress-head",children:[u.jsxs("span",{children:[p,"% written"]}),u.jsxs("span",{"aria-live":"polite",children:[p,"%"]})]}),u.jsx("div",{className:"bar",role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":p,"aria-label":"Author writing progress",children:u.jsx("span",{style:{width:`${p}%`}})})]}),u.jsx("p",{className:"desc",children:e.description||"No description available."}),u.jsxs("div",{className:"rating","aria-label":`Rating ${((m=e.rating)==null?void 0:m.toFixed(1))||"0.0"} out of 5 based on ${e.reviews_count||0} reviews`,children:[u.jsx("span",{className:"stars","aria-hidden":"true",children:[...Array(5)].map((v,b)=>u.jsx(Kg,{className:`star ${b<(s!==null?s:Math.floor(e.rating||0))?"filled":""}`,onClick:()=>h(b+1),onMouseEnter:()=>n&&i(b+1),onMouseLeave:()=>n&&i(d!==null?d:null),style:{cursor:n?"pointer":"default"}},b))}),u.jsx("span",{children:((y=e.rating)==null?void 0:y.toFixed(1))||"0.0"}),u.jsxs("small",{children:[" ",e.reviews_count||0," reviews"]})]}),u.jsx("div",{className:"actions",children:t?u.jsx(u.Fragment,{children:u.jsx("button",{className:"btn primary",children:"Open"})}):u.jsx("button",{className:"btn primary",children:"Buy now"})}),e.sample_content&&u.jsxs("button",{className:"sample-toggle-btn",onClick:()=>a(!o),"aria-expanded":o,children:[u.jsx("span",{children:"Read Sample"}),u.jsx("svg",{className:`toggle-arrow ${o?"expanded":""}`,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:u.jsx("polyline",{points:"6,9 12,15 18,9"})})]})]})]}),o&&e.sample_content&&u.jsxs("div",{className:"sample-card expanded",children:[u.jsx("div",{className:"sample-header",children:u.jsxs("h4",{children:['Sample from "',e.title,'"']})}),u.jsx("div",{className:"sample-excerpt",children:u.jsx("p",{children:e.sample_content})}),u.jsx("div",{className:"sample-actions",children:t?u.jsx("button",{className:"continue-btn",children:"Continue reading"}):u.jsx("button",{className:"buy-btn",children:"Buy now"})})]})]})},Gee=()=>{const{user:e}=J.useAuth(),t=Me.useQueryClient(),{data:r,isLoading:n,isError:s,error:i}=Me.useQuery({queryKey:["allWorks"],queryFn:Vee}),{data:o,isLoading:a,isError:l,error:c}=Me.useQuery({queryKey:["userLibraryItems",e==null?void 0:e.id],queryFn:()=>Wee((e==null?void 0:e.id)||""),enabled:!!(e!=null&&e.id)}),[d,f]=w.useState(!0),[h,p]=w.useState("All"),[g,m]=w.useState("All"),y=(r==null?void 0:r.filter(v=>{const b=h==="All"||v.type===h.toLowerCase(),x=g==="All"||v.status===g.toLowerCase();return b&&x}))||[];return n||a?u.jsx("div",{className:"text-center py-8 text-text-light",children:"Loading library..."}):s?u.jsxs("div",{className:"text-center py-8 text-red-400",children:["Error loading works: ",i==null?void 0:i.message]}):l?u.jsxs("div",{className:"text-center py-8 text-red-400",children:["Error loading user library: ",c==null?void 0:c.message]}):u.jsxs("div",{className:"container mx-auto px-4 py-8 bg-background-dark text-text-light min-h-screen",children:[u.jsx("h1",{className:"text-4xl font-bold text-text-light mb-6",children:"Your Library"}),d&&u.jsxs("div",{className:"bg-blue-900 bg-opacity-30 border border-blue-700 text-blue-200 p-4 rounded-md mb-6 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(DR,{size:20}),u.jsx("p",{className:"text-sm",children:"Files may include a purchaser-specific watermark. Download limits: 5 per format."})]}),u.jsx("button",{onClick:()=>f(!1),className:"text-blue-200 hover:text-white",children:u.jsx(l_,{size:20})})]}),u.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[u.jsx("button",{onClick:()=>p("All"),className:`px-4 py-2 rounded-full text-sm font-semibold ${h==="All"?"bg-primary-DEFAULT text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"All"}),u.jsx("button",{onClick:()=>p("Book"),className:`px-4 py-2 rounded-full text-sm font-semibold ${h==="Book"?"bg-primary-DEFAULT text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Books"}),u.jsx("button",{onClick:()=>p("Volume"),className:`px-4 py-2 rounded-full text-sm font-semibold ${h==="Volume"?"bg-primary-DEFAULT text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Volumes"}),u.jsx("button",{onClick:()=>p("Saga"),className:`px-4 py-2 rounded-full text-sm font-semibold ${h==="Saga"?"bg-primary-DEFAULT text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Sagas"}),u.jsx("button",{onClick:()=>p("Arc"),className:`px-4 py-2 rounded-full text-sm font-semibold ${h==="Arc"?"bg-primary-DEFAULT text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Arcs"}),u.jsx("button",{onClick:()=>p("Issue"),className:`px-4 py-2 rounded-full text-sm font-semibold ${h==="Issue"?"bg-primary-DEFAULT text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Issues"}),u.jsxs("select",{value:g,onChange:v=>m(v.target.value),className:"px-3 py-2 rounded-full text-sm font-semibold bg-gray-700 text-gray-300 hover:bg-gray-600",children:[u.jsx("option",{value:"All",children:"All Status"}),u.jsx("option",{value:"Published",children:"Published"}),u.jsx("option",{value:"Planning",children:"Planning"}),u.jsx("option",{value:"Writing",children:"Writing"}),u.jsx("option",{value:"Editing",children:"Editing"}),u.jsx("option",{value:"On_hold",children:"On Hold"})]})]}),u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:u.jsx("div",{className:"lg:col-span-3",children:u.jsx("div",{className:"grid grid-cols-1 gap-6 mb-8",children:y.map(v=>{const b=o==null?void 0:o.find(x=>x.work_id===v.id);return u.jsx(Yee,{work:v,userLibraryItem:b,queryClient:t},v.id)})})})})]})};var HM="basil",Zee=function(t){return t===3?"v3":t},YM="https://js.stripe.com",Xee="".concat(YM,"/").concat(HM,"/stripe.js"),Jee=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Qee=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var ete=function(t){return Jee.test(t)||Qee.test(t)},tte=function(){for(var t=document.querySelectorAll('script[src^="'.concat(YM,'"]')),r=0;r<t.length;r++){var n=t[r];if(ete(n.src))return n}return null},vC=function(t){var r="",n=document.createElement("script");n.src="".concat(Xee).concat(r);var s=document.head||document.body;if(!s)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(n),n},rte=function(t,r){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"7.9.0",startTime:r})},ud=null,up=null,dp=null,nte=function(t){return function(r){t(new Error("Failed to load Stripe.js",{cause:r}))}},ste=function(t,r){return function(){window.Stripe?t(window.Stripe):r(new Error("Stripe.js not available"))}},ite=function(t){return ud!==null?ud:(ud=new Promise(function(r,n){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe){r(window.Stripe);return}try{var s=tte();if(!(s&&t)){if(!s)s=vC(t);else if(s&&dp!==null&&up!==null){var i;s.removeEventListener("load",dp),s.removeEventListener("error",up),(i=s.parentNode)===null||i===void 0||i.removeChild(s),s=vC(t)}}dp=ste(r,n),up=nte(n),s.addEventListener("load",dp),s.addEventListener("error",up)}catch(o){n(o);return}}),ud.catch(function(r){return ud=null,Promise.reject(r)}))},ote=function(t,r,n){if(t===null)return null;var s=r[0],i=s.match(/^pk_test/),o=Zee(t.version),a=HM;i&&o!==a&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("7.9.0"," expected Stripe.js@").concat(a,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var l=t.apply(void 0,r);return rte(l,n),l},dd,GM=!1,ZM=function(){return dd||(dd=ite(null).catch(function(t){return dd=null,Promise.reject(t)}),dd)};Promise.resolve().then(function(){return ZM()}).catch(function(e){GM||console.warn(e)});var ate=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];GM=!0;var s=Date.now();return ZM().then(function(i){return ote(i,r,s)})},bx={exports:{}},fp={exports:{}},lt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bC;function lte(){if(bC)return lt;bC=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,n=e?Symbol.for("react.fragment"):60107,s=e?Symbol.for("react.strict_mode"):60108,i=e?Symbol.for("react.profiler"):60114,o=e?Symbol.for("react.provider"):60109,a=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,d=e?Symbol.for("react.forward_ref"):60112,f=e?Symbol.for("react.suspense"):60113,h=e?Symbol.for("react.suspense_list"):60120,p=e?Symbol.for("react.memo"):60115,g=e?Symbol.for("react.lazy"):60116,m=e?Symbol.for("react.block"):60121,y=e?Symbol.for("react.fundamental"):60117,v=e?Symbol.for("react.responder"):60118,b=e?Symbol.for("react.scope"):60119;function x(_){if(typeof _=="object"&&_!==null){var N=_.$$typeof;switch(N){case t:switch(_=_.type,_){case l:case c:case n:case i:case s:case f:return _;default:switch(_=_&&_.$$typeof,_){case a:case d:case g:case p:case o:return _;default:return N}}case r:return N}}}function S(_){return x(_)===c}return lt.AsyncMode=l,lt.ConcurrentMode=c,lt.ContextConsumer=a,lt.ContextProvider=o,lt.Element=t,lt.ForwardRef=d,lt.Fragment=n,lt.Lazy=g,lt.Memo=p,lt.Portal=r,lt.Profiler=i,lt.StrictMode=s,lt.Suspense=f,lt.isAsyncMode=function(_){return S(_)||x(_)===l},lt.isConcurrentMode=S,lt.isContextConsumer=function(_){return x(_)===a},lt.isContextProvider=function(_){return x(_)===o},lt.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===t},lt.isForwardRef=function(_){return x(_)===d},lt.isFragment=function(_){return x(_)===n},lt.isLazy=function(_){return x(_)===g},lt.isMemo=function(_){return x(_)===p},lt.isPortal=function(_){return x(_)===r},lt.isProfiler=function(_){return x(_)===i},lt.isStrictMode=function(_){return x(_)===s},lt.isSuspense=function(_){return x(_)===f},lt.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===n||_===c||_===i||_===s||_===f||_===h||typeof _=="object"&&_!==null&&(_.$$typeof===g||_.$$typeof===p||_.$$typeof===o||_.$$typeof===a||_.$$typeof===d||_.$$typeof===y||_.$$typeof===v||_.$$typeof===b||_.$$typeof===m)},lt.typeOf=x,lt}var ct={};/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xC;function cte(){return xC||(xC=1,process.env.NODE_ENV!=="production"&&function(){var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,n=e?Symbol.for("react.fragment"):60107,s=e?Symbol.for("react.strict_mode"):60108,i=e?Symbol.for("react.profiler"):60114,o=e?Symbol.for("react.provider"):60109,a=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,d=e?Symbol.for("react.forward_ref"):60112,f=e?Symbol.for("react.suspense"):60113,h=e?Symbol.for("react.suspense_list"):60120,p=e?Symbol.for("react.memo"):60115,g=e?Symbol.for("react.lazy"):60116,m=e?Symbol.for("react.block"):60121,y=e?Symbol.for("react.fundamental"):60117,v=e?Symbol.for("react.responder"):60118,b=e?Symbol.for("react.scope"):60119;function x(O){return typeof O=="string"||typeof O=="function"||O===n||O===c||O===i||O===s||O===f||O===h||typeof O=="object"&&O!==null&&(O.$$typeof===g||O.$$typeof===p||O.$$typeof===o||O.$$typeof===a||O.$$typeof===d||O.$$typeof===y||O.$$typeof===v||O.$$typeof===b||O.$$typeof===m)}function S(O){if(typeof O=="object"&&O!==null){var ge=O.$$typeof;switch(ge){case t:var Ee=O.type;switch(Ee){case l:case c:case n:case i:case s:case f:return Ee;default:var Be=Ee&&Ee.$$typeof;switch(Be){case a:case d:case g:case p:case o:return Be;default:return ge}}case r:return ge}}}var _=l,N=c,k=a,C=o,A=t,I=d,M=n,L=g,D=p,z=r,U=i,G=s,q=f,Z=!1;function oe(O){return Z||(Z=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),$(O)||S(O)===l}function $(O){return S(O)===c}function B(O){return S(O)===a}function X(O){return S(O)===o}function ae(O){return typeof O=="object"&&O!==null&&O.$$typeof===t}function W(O){return S(O)===d}function K(O){return S(O)===n}function te(O){return S(O)===g}function re(O){return S(O)===p}function ue(O){return S(O)===r}function V(O){return S(O)===i}function H(O){return S(O)===s}function ie(O){return S(O)===f}ct.AsyncMode=_,ct.ConcurrentMode=N,ct.ContextConsumer=k,ct.ContextProvider=C,ct.Element=A,ct.ForwardRef=I,ct.Fragment=M,ct.Lazy=L,ct.Memo=D,ct.Portal=z,ct.Profiler=U,ct.StrictMode=G,ct.Suspense=q,ct.isAsyncMode=oe,ct.isConcurrentMode=$,ct.isContextConsumer=B,ct.isContextProvider=X,ct.isElement=ae,ct.isForwardRef=W,ct.isFragment=K,ct.isLazy=te,ct.isMemo=re,ct.isPortal=ue,ct.isProfiler=V,ct.isStrictMode=H,ct.isSuspense=ie,ct.isValidElementType=x,ct.typeOf=S}()),ct}var wC;function XM(){return wC||(wC=1,process.env.NODE_ENV==="production"?fp.exports=lte():fp.exports=cte()),fp.exports}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var yb,_C;function ute(){if(_C)return yb;_C=1;var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function n(i){if(i==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(i)}function s(){try{if(!Object.assign)return!1;var i=new String("abc");if(i[5]="de",Object.getOwnPropertyNames(i)[0]==="5")return!1;for(var o={},a=0;a<10;a++)o["_"+String.fromCharCode(a)]=a;var l=Object.getOwnPropertyNames(o).map(function(d){return o[d]});if(l.join("")!=="0123456789")return!1;var c={};return"abcdefghijklmnopqrst".split("").forEach(function(d){c[d]=d}),Object.keys(Object.assign({},c)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return yb=s()?Object.assign:function(i,o){for(var a,l=n(i),c,d=1;d<arguments.length;d++){a=Object(arguments[d]);for(var f in a)t.call(a,f)&&(l[f]=a[f]);if(e){c=e(a);for(var h=0;h<c.length;h++)r.call(a,c[h])&&(l[c[h]]=a[c[h]])}}return l},yb}var vb,SC;function K_(){if(SC)return vb;SC=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return vb=e,vb}var bb,EC;function JM(){return EC||(EC=1,bb=Function.call.bind(Object.prototype.hasOwnProperty)),bb}var xb,jC;function dte(){if(jC)return xb;jC=1;var e=function(){};if(process.env.NODE_ENV!=="production"){var t=K_(),r={},n=JM();e=function(i){var o="Warning: "+i;typeof console<"u"&&console.error(o);try{throw new Error(o)}catch{}}}function s(i,o,a,l,c){if(process.env.NODE_ENV!=="production"){for(var d in i)if(n(i,d)){var f;try{if(typeof i[d]!="function"){var h=Error((l||"React class")+": "+a+" type `"+d+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof i[d]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw h.name="Invariant Violation",h}f=i[d](o,d,l,a,null,t)}catch(g){f=g}if(f&&!(f instanceof Error)&&e((l||"React class")+": type specification of "+a+" `"+d+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof f+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),f instanceof Error&&!(f.message in r)){r[f.message]=!0;var p=c?c():"";e("Failed "+a+" type: "+f.message+(p??""))}}}}return s.resetWarningCache=function(){process.env.NODE_ENV!=="production"&&(r={})},xb=s,xb}var wb,NC;function fte(){if(NC)return wb;NC=1;var e=XM(),t=ute(),r=K_(),n=JM(),s=dte(),i=function(){};process.env.NODE_ENV!=="production"&&(i=function(a){var l="Warning: "+a;typeof console<"u"&&console.error(l);try{throw new Error(l)}catch{}});function o(){return null}return wb=function(a,l){var c=typeof Symbol=="function"&&Symbol.iterator,d="@@iterator";function f($){var B=$&&(c&&$[c]||$[d]);if(typeof B=="function")return B}var h="<<anonymous>>",p={array:v("array"),bigint:v("bigint"),bool:v("boolean"),func:v("function"),number:v("number"),object:v("object"),string:v("string"),symbol:v("symbol"),any:b(),arrayOf:x,element:S(),elementType:_(),instanceOf:N,node:I(),objectOf:C,oneOf:k,oneOfType:A,shape:L,exact:D};function g($,B){return $===B?$!==0||1/$===1/B:$!==$&&B!==B}function m($,B){this.message=$,this.data=B&&typeof B=="object"?B:{},this.stack=""}m.prototype=Error.prototype;function y($){if(process.env.NODE_ENV!=="production")var B={},X=0;function ae(K,te,re,ue,V,H,ie){if(ue=ue||h,H=H||re,ie!==r){if(l){var O=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw O.name="Invariant Violation",O}else if(process.env.NODE_ENV!=="production"&&typeof console<"u"){var ge=ue+":"+re;!B[ge]&&X<3&&(i("You are manually calling a React.PropTypes validation function for the `"+H+"` prop on `"+ue+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),B[ge]=!0,X++)}}return te[re]==null?K?te[re]===null?new m("The "+V+" `"+H+"` is marked as required "+("in `"+ue+"`, but its value is `null`.")):new m("The "+V+" `"+H+"` is marked as required in "+("`"+ue+"`, but its value is `undefined`.")):null:$(te,re,ue,V,H)}var W=ae.bind(null,!1);return W.isRequired=ae.bind(null,!0),W}function v($){function B(X,ae,W,K,te,re){var ue=X[ae],V=G(ue);if(V!==$){var H=q(ue);return new m("Invalid "+K+" `"+te+"` of type "+("`"+H+"` supplied to `"+W+"`, expected ")+("`"+$+"`."),{expectedType:$})}return null}return y(B)}function b(){return y(o)}function x($){function B(X,ae,W,K,te){if(typeof $!="function")return new m("Property `"+te+"` of component `"+W+"` has invalid PropType notation inside arrayOf.");var re=X[ae];if(!Array.isArray(re)){var ue=G(re);return new m("Invalid "+K+" `"+te+"` of type "+("`"+ue+"` supplied to `"+W+"`, expected an array."))}for(var V=0;V<re.length;V++){var H=$(re,V,W,K,te+"["+V+"]",r);if(H instanceof Error)return H}return null}return y(B)}function S(){function $(B,X,ae,W,K){var te=B[X];if(!a(te)){var re=G(te);return new m("Invalid "+W+" `"+K+"` of type "+("`"+re+"` supplied to `"+ae+"`, expected a single ReactElement."))}return null}return y($)}function _(){function $(B,X,ae,W,K){var te=B[X];if(!e.isValidElementType(te)){var re=G(te);return new m("Invalid "+W+" `"+K+"` of type "+("`"+re+"` supplied to `"+ae+"`, expected a single ReactElement type."))}return null}return y($)}function N($){function B(X,ae,W,K,te){if(!(X[ae]instanceof $)){var re=$.name||h,ue=oe(X[ae]);return new m("Invalid "+K+" `"+te+"` of type "+("`"+ue+"` supplied to `"+W+"`, expected ")+("instance of `"+re+"`."))}return null}return y(B)}function k($){if(!Array.isArray($))return process.env.NODE_ENV!=="production"&&(arguments.length>1?i("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):i("Invalid argument supplied to oneOf, expected an array.")),o;function B(X,ae,W,K,te){for(var re=X[ae],ue=0;ue<$.length;ue++)if(g(re,$[ue]))return null;var V=JSON.stringify($,function(ie,O){var ge=q(O);return ge==="symbol"?String(O):O});return new m("Invalid "+K+" `"+te+"` of value `"+String(re)+"` "+("supplied to `"+W+"`, expected one of "+V+"."))}return y(B)}function C($){function B(X,ae,W,K,te){if(typeof $!="function")return new m("Property `"+te+"` of component `"+W+"` has invalid PropType notation inside objectOf.");var re=X[ae],ue=G(re);if(ue!=="object")return new m("Invalid "+K+" `"+te+"` of type "+("`"+ue+"` supplied to `"+W+"`, expected an object."));for(var V in re)if(n(re,V)){var H=$(re,V,W,K,te+"."+V,r);if(H instanceof Error)return H}return null}return y(B)}function A($){if(!Array.isArray($))return process.env.NODE_ENV!=="production"&&i("Invalid argument supplied to oneOfType, expected an instance of array."),o;for(var B=0;B<$.length;B++){var X=$[B];if(typeof X!="function")return i("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+Z(X)+" at index "+B+"."),o}function ae(W,K,te,re,ue){for(var V=[],H=0;H<$.length;H++){var ie=$[H],O=ie(W,K,te,re,ue,r);if(O==null)return null;O.data&&n(O.data,"expectedType")&&V.push(O.data.expectedType)}var ge=V.length>0?", expected one of type ["+V.join(", ")+"]":"";return new m("Invalid "+re+" `"+ue+"` supplied to "+("`"+te+"`"+ge+"."))}return y(ae)}function I(){function $(B,X,ae,W,K){return z(B[X])?null:new m("Invalid "+W+" `"+K+"` supplied to "+("`"+ae+"`, expected a ReactNode."))}return y($)}function M($,B,X,ae,W){return new m(($||"React class")+": "+B+" type `"+X+"."+ae+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+W+"`.")}function L($){function B(X,ae,W,K,te){var re=X[ae],ue=G(re);if(ue!=="object")return new m("Invalid "+K+" `"+te+"` of type `"+ue+"` "+("supplied to `"+W+"`, expected `object`."));for(var V in $){var H=$[V];if(typeof H!="function")return M(W,K,te,V,q(H));var ie=H(re,V,W,K,te+"."+V,r);if(ie)return ie}return null}return y(B)}function D($){function B(X,ae,W,K,te){var re=X[ae],ue=G(re);if(ue!=="object")return new m("Invalid "+K+" `"+te+"` of type `"+ue+"` "+("supplied to `"+W+"`, expected `object`."));var V=t({},X[ae],$);for(var H in V){var ie=$[H];if(n($,H)&&typeof ie!="function")return M(W,K,te,H,q(ie));if(!ie)return new m("Invalid "+K+" `"+te+"` key `"+H+"` supplied to `"+W+"`.\nBad object: "+JSON.stringify(X[ae],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys($),null,"  "));var O=ie(re,H,W,K,te+"."+H,r);if(O)return O}return null}return y(B)}function z($){switch(typeof $){case"number":case"string":case"undefined":return!0;case"boolean":return!$;case"object":if(Array.isArray($))return $.every(z);if($===null||a($))return!0;var B=f($);if(B){var X=B.call($),ae;if(B!==$.entries){for(;!(ae=X.next()).done;)if(!z(ae.value))return!1}else for(;!(ae=X.next()).done;){var W=ae.value;if(W&&!z(W[1]))return!1}}else return!1;return!0;default:return!1}}function U($,B){return $==="symbol"?!0:B?B["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&B instanceof Symbol:!1}function G($){var B=typeof $;return Array.isArray($)?"array":$ instanceof RegExp?"object":U(B,$)?"symbol":B}function q($){if(typeof $>"u"||$===null)return""+$;var B=G($);if(B==="object"){if($ instanceof Date)return"date";if($ instanceof RegExp)return"regexp"}return B}function Z($){var B=q($);switch(B){case"array":case"object":return"an "+B;case"boolean":case"date":case"regexp":return"a "+B;default:return B}}function oe($){return!$.constructor||!$.constructor.name?h:$.constructor.name}return p.checkPropTypes=s,p.resetWarningCache=s.resetWarningCache,p.PropTypes=p,p},wb}var _b,kC;function hte(){if(kC)return _b;kC=1;var e=K_();function t(){}function r(){}return r.resetWarningCache=t,_b=function(){function n(o,a,l,c,d,f){if(f!==e){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}n.isRequired=n;function s(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:s,element:n,elementType:n,instanceOf:s,node:n,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:r,resetWarningCache:t};return i.PropTypes=i,i},_b}if(process.env.NODE_ENV!=="production"){var pte=XM(),mte=!0;bx.exports=fte()(pte.isElement,mte)}else bx.exports=hte()();var gte=bx.exports;const Lt=Gs(gte);function CC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function TC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CC(Object(r),!0).forEach(function(n){QM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yp(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Yp=function(t){return typeof t}:Yp=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yp(e)}function QM(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yte(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function vte(e,t){if(e==null)return{};var r=yte(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eL(e,t){return bte(e)||xte(e,t)||wte(e,t)||_te()}function bte(e){if(Array.isArray(e))return e}function xte(e,t){var r=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(r!=null){var n=[],s=!0,i=!1,o,a;try{for(r=r.call(e);!(s=(o=r.next()).done)&&(n.push(o.value),!(t&&n.length===t));s=!0);}catch(l){i=!0,a=l}finally{try{!s&&r.return!=null&&r.return()}finally{if(i)throw a}}return n}}function wte(e,t){if(e){if(typeof e=="string")return AC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AC(e,t)}}function AC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _te(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Tn=function(t,r,n){var s=!!n,i=w.useRef(n);w.useEffect(function(){i.current=n},[n]),w.useEffect(function(){if(!s||!t)return function(){};var o=function(){i.current&&i.current.apply(i,arguments)};return t.on(r,o),function(){t.off(r,o)}},[s,r,t,i])},xx=function(t){var r=w.useRef(t);return w.useEffect(function(){r.current=t},[t]),r.current},ru=function(t){return t!==null&&Yp(t)==="object"},Ste=function(t){return ru(t)&&typeof t.then=="function"},Ete=function(t){return ru(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},PC="[object Object]",jte=function e(t,r){if(!ru(t)||!ru(r))return t===r;var n=Array.isArray(t),s=Array.isArray(r);if(n!==s)return!1;var i=Object.prototype.toString.call(t)===PC,o=Object.prototype.toString.call(r)===PC;if(i!==o)return!1;if(!i&&!n)return t===r;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(var c={},d=0;d<a.length;d+=1)c[a[d]]=!0;for(var f=0;f<l.length;f+=1)c[l[f]]=!0;var h=Object.keys(c);if(h.length!==a.length)return!1;var p=t,g=r,m=function(v){return e(p[v],g[v])};return h.every(m)},tL=function(t,r,n){return ru(t)?Object.keys(t).reduce(function(s,i){var o=!ru(r)||!jte(t[i],r[i]);return n.includes(i)?(o&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),s):o?TC(TC({},s||{}),{},QM({},i,t[i])):s},null):null},rL="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",OC=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rL;if(t===null||Ete(t))return t;throw new Error(r)},Nte=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rL;if(Ste(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(s){return OC(s,r)})};var n=OC(t,r);return n===null?{tag:"empty"}:{tag:"sync",stripe:n}},kte=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"3.9.2"}),t.registerAppInfo({name:"react-stripe-js",version:"3.9.2",url:"https://stripe.com/docs/stripe-js/react"}))},py=w.createContext(null);py.displayName="ElementsContext";var nL=function(t,r){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(r," in an <Elements> provider."));return t},sL=function(t){var r=t.stripe,n=t.options,s=t.children,i=w.useMemo(function(){return Nte(r)},[r]),o=w.useState(function(){return{stripe:i.tag==="sync"?i.stripe:null,elements:i.tag==="sync"?i.stripe.elements(n):null}}),a=eL(o,2),l=a[0],c=a[1];w.useEffect(function(){var h=!0,p=function(m){c(function(y){return y.stripe?y:{stripe:m,elements:m.elements(n)}})};return i.tag==="async"&&!l.stripe?i.stripePromise.then(function(g){g&&h&&p(g)}):i.tag==="sync"&&!l.stripe&&p(i.stripe),function(){h=!1}},[i,l,n]);var d=xx(r);w.useEffect(function(){d!==null&&d!==r&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[d,r]);var f=xx(n);return w.useEffect(function(){if(l.elements){var h=tL(n,f,["clientSecret","fonts"]);h&&l.elements.update(h)}},[n,f,l.elements]),w.useEffect(function(){kte(l.stripe)},[l.stripe]),w.createElement(py.Provider,{value:l},s)};sL.propTypes={stripe:Lt.any,options:Lt.object};var Cte=function(t){var r=w.useContext(py);return nL(r,t)},Tte=function(){var t=Cte("calls useElements()"),r=t.elements;return r};Lt.func.isRequired;var iL=w.createContext(null);iL.displayName="CheckoutSdkContext";var Ate=function(t,r){if(!t)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(r," in an <CheckoutProvider> provider."));return t},Pte=w.createContext(null);Pte.displayName="CheckoutContext";Lt.any,Lt.shape({fetchClientSecret:Lt.func.isRequired,elementsOptions:Lt.object}).isRequired;var wx=function(t){var r=w.useContext(iL),n=w.useContext(py);if(r&&n)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CheckoutProvider> and <Elements> providers."));return r?Ate(r,t):nL(n,t)},Ote=["mode"],Dte=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},Jt=function(t,r){var n="".concat(Dte(t),"Element"),s=function(l){var c=l.id,d=l.className,f=l.options,h=f===void 0?{}:f,p=l.onBlur,g=l.onFocus,m=l.onReady,y=l.onChange,v=l.onEscape,b=l.onClick,x=l.onLoadError,S=l.onLoaderStart,_=l.onNetworksChange,N=l.onConfirm,k=l.onCancel,C=l.onShippingAddressChange,A=l.onShippingRateChange,I=wx("mounts <".concat(n,">")),M="elements"in I?I.elements:null,L="checkoutSdk"in I?I.checkoutSdk:null,D=w.useState(null),z=eL(D,2),U=z[0],G=z[1],q=w.useRef(null),Z=w.useRef(null);Tn(U,"blur",p),Tn(U,"focus",g),Tn(U,"escape",v),Tn(U,"click",b),Tn(U,"loaderror",x),Tn(U,"loaderstart",S),Tn(U,"networkschange",_),Tn(U,"confirm",N),Tn(U,"cancel",k),Tn(U,"shippingaddresschange",C),Tn(U,"shippingratechange",A),Tn(U,"change",y);var oe;m&&(t==="expressCheckout"?oe=m:oe=function(){m(U)}),Tn(U,"ready",oe),w.useLayoutEffect(function(){if(q.current===null&&Z.current!==null&&(M||L)){var B=null;if(L)switch(t){case"payment":B=L.createPaymentElement(h);break;case"address":if("mode"in h){var X=h.mode,ae=vte(h,Ote);if(X==="shipping")B=L.createShippingAddressElement(ae);else if(X==="billing")B=L.createBillingAddressElement(ae);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":B=L.createExpressCheckoutElement(h);break;case"currencySelector":B=L.createCurrencySelectorElement();break;case"taxId":B=L.createTaxIdElement(h);break;default:throw new Error("Invalid Element type ".concat(n,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else M&&(B=M.create(t,h));q.current=B,G(B),B&&B.mount(Z.current)}},[M,L,h]);var $=xx(h);return w.useEffect(function(){if(q.current){var B=tL(h,$,["paymentRequest"]);B&&"update"in q.current&&q.current.update(B)}},[h,$]),w.useLayoutEffect(function(){return function(){if(q.current&&typeof q.current.destroy=="function")try{q.current.destroy(),q.current=null}catch{}}},[]),w.createElement("div",{id:c,className:d,ref:Z})},i=function(l){wx("mounts <".concat(n,">"));var c=l.id,d=l.className;return w.createElement("div",{id:c,className:d})},o=r?i:s;return o.propTypes={id:Lt.string,className:Lt.string,onChange:Lt.func,onBlur:Lt.func,onFocus:Lt.func,onReady:Lt.func,onEscape:Lt.func,onClick:Lt.func,onLoadError:Lt.func,onLoaderStart:Lt.func,onNetworksChange:Lt.func,onConfirm:Lt.func,onCancel:Lt.func,onShippingAddressChange:Lt.func,onShippingRateChange:Lt.func,options:Lt.object},o.displayName=n,o.__elementType=t,o},Qt=typeof window>"u",$te=w.createContext(null);$te.displayName="EmbeddedCheckoutProviderContext";var Rte=function(){var t=wx("calls useStripe()"),r=t.stripe;return r};Jt("auBankAccount",Qt);var Ite=Jt("card",Qt);Jt("cardNumber",Qt);Jt("cardExpiry",Qt);Jt("cardCvc",Qt);Jt("fpxBank",Qt);Jt("iban",Qt);Jt("idealBank",Qt);Jt("p24Bank",Qt);Jt("epsBank",Qt);Jt("payment",Qt);Jt("expressCheckout",Qt);Jt("currencySelector",Qt);Jt("paymentRequestButton",Qt);Jt("linkAuthentication",Qt);Jt("address",Qt);Jt("shippingAddress",Qt);Jt("paymentMethodMessaging",Qt);Jt("affirmMessage",Qt);Jt("afterpayClearpayMessage",Qt);Jt("taxId",Qt);const Mte=ate("pk_live_51RxGqHQv3TvmaocsigmbkzARDylf5d34zCKW0INXPNSvz9XPZKWcgSavRvi5TarLZSBNyZR7ROgsMQxSDd0AOdl200sNB27qOy"),Lte=({product:e,onSuccess:t,onCancel:r,customerEmail:n})=>{const s=Rte(),i=Tte(),[o,a]=w.useState(!1),[l,c]=w.useState(null),[d,f]=w.useState(n||""),h=async m=>{if(m.preventDefault(),!(!s||!i)){a(!0),c(null);try{const y=await fetch("/api/stripe/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({priceId:e.id,successUrl:`${window.location.origin}/success?session_id={CHECKOUT_SESSION_ID}`,cancelUrl:`${window.location.origin}/cancel`,customerEmail:d,productSlug:e.id})}),{url:v,error:b}=await y.json();if(b)throw new Error(b);window.location.href=v}catch(y){c(y instanceof Error?y.message:"An error occurred"),a(!1)}}},p=(m,y)=>new Intl.NumberFormat("en-US",{style:"currency",currency:y.toUpperCase()}).format(m/100),g=m=>m?m==="month"?"monthly":m==="year"?"yearly":m:"";return u.jsxs("div",{className:"max-w-md mx-auto bg-background-light rounded-2xl shadow-lg overflow-hidden border border-border/30",children:[u.jsx("div",{className:"bg-gradient-to-r from-primary/80 to-secondary/80 p-6 text-text-light",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"w-16 h-20 bg-white bg-opacity-20 rounded-md flex items-center justify-center",children:u.jsx(Jc,{className:"w-8 h-8 text-white"})}),u.jsx("div",{children:u.jsx("h2",{className:"text-xl font-bold",children:e.name})})]})}),u.jsx("div",{className:"p-6 border-b border-border/30",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-3xl font-bold text-secondary",children:p(e.price,e.currency)}),e.is_subscription&&u.jsxs("div",{className:"text-text-light/70",children:["per ",g(e.interval),e.trial_period_days&&e.trial_period_days>0&&u.jsxs("span",{className:"ml-2 text-success font-medium",children:[" ",e.trial_period_days,"-day free trial"]})]}),!e.is_subscription&&u.jsx("div",{className:"text-text-light/70",children:"One-time purchase"})]})}),u.jsxs("form",{onSubmit:h,className:"p-6 space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-text-light mb-2",children:"Email Address"}),u.jsx("input",{type:"email",id:"email",value:d,onChange:m=>f(m.target.value),required:!0,className:"w-full px-3 py-2 bg-background/50 border border-border/30 rounded-xl text-text-light placeholder-text-dark/50 focus:outline-none focus:ring-2 focus:ring-secondary/50 focus:border-secondary transition-all",placeholder:"your@email.com"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-text-light mb-2",children:"Card Details"}),u.jsx("div",{className:"border border-border/30 rounded-xl p-3 bg-background/30",children:u.jsx(Ite,{options:{style:{base:{fontSize:"16px",color:"#e0e0e0","::placeholder":{color:"#a0a0a0"}},invalid:{color:"#dc3545"}}}})})]}),l&&u.jsxs("div",{className:"flex items-center space-x-2 text-error bg-error/10 p-3 rounded-xl border border-error/30",children:[u.jsx($s,{className:"w-5 h-5"}),u.jsx("span",{className:"text-sm",children:l})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("button",{type:"submit",disabled:!s||o,className:"w-full bg-secondary text-background py-3 px-4 rounded-xl font-medium hover:bg-secondary-dark focus:outline-none focus:ring-2 focus:ring-secondary/50 focus:ring-offset-2 focus:ring-offset-background-light disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:o?u.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[u.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-background"}),u.jsx("span",{children:"Processing..."})]}):u.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[u.jsx(d_,{className:"w-5 h-5"}),u.jsx("span",{children:e.is_subscription?"Start Subscription":"Complete Purchase"})]})}),u.jsx("button",{type:"button",onClick:r,className:"w-full bg-background/50 text-text-light py-3 px-4 rounded-xl font-medium hover:bg-background/70 focus:outline-none focus:ring-2 focus:ring-border focus:ring-offset-2 focus:ring-offset-background-light transition-all duration-200 border border-border/30",children:"Cancel"})]}),u.jsxs("div",{className:"text-center text-xs text-text-dark",children:[u.jsxs("div",{className:"flex items-center justify-center space-x-1 mb-2",children:[u.jsx(Gi,{className:"w-4 h-4 text-success"}),u.jsx("span",{children:"Secure payment powered by Stripe"})]}),u.jsx("p",{children:"Your payment information is encrypted and secure."})]})]})]})},H_=e=>u.jsx(sL,{stripe:Mte,children:u.jsx(Lte,{...e})}),oL=w.createContext({});function Fte(e){const t=w.useRef(null);return t.current===null&&(t.current=e()),t.current}const Y_=typeof window<"u",Bte=Y_?w.useLayoutEffect:w.useEffect,G_=w.createContext(null);function Z_(e,t){e.indexOf(t)===-1&&e.push(t)}function X_(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const ao=(e,t,r)=>r>t?t:r<e?e:r;function _x(e,t){return t?`${e}. For more information and steps for solving, visit https://motion.dev/troubleshooting/${t}`:e}let Au=()=>{},lo=()=>{};process.env.NODE_ENV!=="production"&&(Au=(e,t,r)=>{!e&&typeof console<"u"&&console.warn(_x(t,r))},lo=(e,t,r)=>{if(!e)throw new Error(_x(t,r))});const co={},aL=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function lL(e){return typeof e=="object"&&e!==null}const cL=e=>/^0[^.\s]+$/u.test(e);function J_(e){let t;return()=>(t===void 0&&(t=e()),t)}const ds=e=>e,zte=(e,t)=>r=>t(e(r)),th=(...e)=>e.reduce(zte),yf=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class Q_{constructor(){this.subscriptions=[]}add(t){return Z_(this.subscriptions,t),()=>X_(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Us=e=>e*1e3,gi=e=>e/1e3;function uL(e,t){return t?e*(1e3/t):0}const DC=new Set;function eS(e,t,r){e||DC.has(t)||(console.warn(_x(t,r)),DC.add(t))}const dL=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,Ute=1e-7,qte=12;function Vte(e,t,r,n,s){let i,o,a=0;do o=t+(r-t)/2,i=dL(o,n,s)-e,i>0?r=o:t=o;while(Math.abs(i)>Ute&&++a<qte);return o}function rh(e,t,r,n){if(e===t&&r===n)return ds;const s=i=>Vte(i,0,1,e,r);return i=>i===0||i===1?i:dL(s(i),t,n)}const fL=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,hL=e=>t=>1-e(1-t),pL=rh(.33,1.53,.69,.99),tS=hL(pL),mL=fL(tS),gL=e=>(e*=2)<1?.5*tS(e):.5*(2-Math.pow(2,-10*(e-1))),rS=e=>1-Math.sin(Math.acos(e)),yL=hL(rS),vL=fL(rS),Wte=rh(.42,0,1,1),Kte=rh(0,0,.58,1),bL=rh(.42,0,.58,1),Hte=e=>Array.isArray(e)&&typeof e[0]!="number",xL=e=>Array.isArray(e)&&typeof e[0]=="number",$C={linear:ds,easeIn:Wte,easeInOut:bL,easeOut:Kte,circIn:rS,circInOut:vL,circOut:yL,backIn:tS,backInOut:mL,backOut:pL,anticipate:gL},Yte=e=>typeof e=="string",RC=e=>{if(xL(e)){lo(e.length===4,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");const[t,r,n,s]=e;return rh(t,r,n,s)}else if(Yte(e))return lo($C[e]!==void 0,`Invalid easing type '${e}'`,"invalid-easing-type"),$C[e];return e},hp=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Gte(e,t){let r=new Set,n=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(d){o.has(d)&&(c.schedule(d),e()),d(a)}const c={schedule:(d,f=!1,h=!1)=>{const g=h&&s?r:n;return f&&o.add(d),g.has(d)||g.add(d),d},cancel:d=>{n.delete(d),o.delete(d)},process:d=>{if(a=d,s){i=!0;return}s=!0,[r,n]=[n,r],r.forEach(l),r.clear(),s=!1,i&&(i=!1,c.process(d))}};return c}const Zte=40;function wL(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=hp.reduce((x,S)=>(x[S]=Gte(i),x),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:d,update:f,preRender:h,render:p,postRender:g}=o,m=()=>{const x=co.useManualTiming?s.timestamp:performance.now();r=!1,co.useManualTiming||(s.delta=n?1e3/60:Math.max(Math.min(x-s.timestamp,Zte),1)),s.timestamp=x,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),d.process(s),f.process(s),h.process(s),p.process(s),g.process(s),s.isProcessing=!1,r&&t&&(n=!1,e(m))},y=()=>{r=!0,n=!0,s.isProcessing||e(m)};return{schedule:hp.reduce((x,S)=>{const _=o[S];return x[S]=(N,k=!1,C=!1)=>(r||y(),_.schedule(N,k,C)),x},{}),cancel:x=>{for(let S=0;S<hp.length;S++)o[hp[S]].cancel(x)},state:s,steps:o}}const{schedule:Dt,cancel:da,state:Rr,steps:Sb}=wL(typeof requestAnimationFrame<"u"?requestAnimationFrame:ds,!0);let Gp;function Xte(){Gp=void 0}const bn={now:()=>(Gp===void 0&&bn.set(Rr.isProcessing||co.useManualTiming?Rr.timestamp:performance.now()),Gp),set:e=>{Gp=e,queueMicrotask(Xte)}},_L=e=>t=>typeof t=="string"&&t.startsWith(e),nS=_L("--"),Jte=_L("var(--"),sS=e=>Jte(e)?Qte.test(e.split("/*")[0].trim()):!1,Qte=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Pu={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},vf={...Pu,transform:e=>ao(0,1,e)},pp={...Pu,default:1},Wd=e=>Math.round(e*1e5)/1e5,iS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ere(e){return e==null}const tre=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,oS=(e,t)=>r=>!!(typeof r=="string"&&tre.test(r)&&r.startsWith(e)||t&&!ere(r)&&Object.prototype.hasOwnProperty.call(r,t)),SL=(e,t,r)=>n=>{if(typeof n!="string")return n;const[s,i,o,a]=n.match(iS);return{[e]:parseFloat(s),[t]:parseFloat(i),[r]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},rre=e=>ao(0,255,e),Eb={...Pu,transform:e=>Math.round(rre(e))},Ya={test:oS("rgb","red"),parse:SL("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+Eb.transform(e)+", "+Eb.transform(t)+", "+Eb.transform(r)+", "+Wd(vf.transform(n))+")"};function nre(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const Sx={test:oS("#"),parse:nre,transform:Ya.transform},nh=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Wo=nh("deg"),yi=nh("%"),Fe=nh("px"),sre=nh("vh"),ire=nh("vw"),IC={...yi,parse:e=>yi.parse(e)/100,transform:e=>yi.transform(e*100)},Ec={test:oS("hsl","hue"),parse:SL("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+yi.transform(Wd(t))+", "+yi.transform(Wd(r))+", "+Wd(vf.transform(n))+")"},nr={test:e=>Ya.test(e)||Sx.test(e)||Ec.test(e),parse:e=>Ya.test(e)?Ya.parse(e):Ec.test(e)?Ec.parse(e):Sx.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ya.transform(e):Ec.transform(e),getAnimatableNone:e=>{const t=nr.parse(e);return t.alpha=0,nr.transform(t)}},ore=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function are(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(iS))==null?void 0:t.length)||0)+(((r=e.match(ore))==null?void 0:r.length)||0)>0}const EL="number",jL="color",lre="var",cre="var(",MC="${}",ure=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function bf(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},s=[];let i=0;const a=t.replace(ure,l=>(nr.test(l)?(n.color.push(i),s.push(jL),r.push(nr.parse(l))):l.startsWith(cre)?(n.var.push(i),s.push(lre),r.push(l)):(n.number.push(i),s.push(EL),r.push(parseFloat(l))),++i,MC)).split(MC);return{values:r,split:a,indexes:n,types:s}}function NL(e){return bf(e).values}function kL(e){const{split:t,types:r}=bf(e),n=t.length;return s=>{let i="";for(let o=0;o<n;o++)if(i+=t[o],s[o]!==void 0){const a=r[o];a===EL?i+=Wd(s[o]):a===jL?i+=nr.transform(s[o]):i+=s[o]}return i}}const dre=e=>typeof e=="number"?0:nr.test(e)?nr.getAnimatableNone(e):e;function fre(e){const t=NL(e);return kL(e)(t.map(dre))}const fa={test:are,parse:NL,createTransformer:kL,getAnimatableNone:fre};function jb(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function hre({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,i=0,o=0;if(!t)s=i=o=r;else{const a=r<.5?r*(1+t):r+t-r*t,l=2*r-a;s=jb(l,a,e+1/3),i=jb(l,a,e),o=jb(l,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function Nm(e,t){return r=>r>0?t:e}const zt=(e,t,r)=>e+(t-e)*r,Nb=(e,t,r)=>{const n=e*e,s=r*(t*t-n)+n;return s<0?0:Math.sqrt(s)},pre=[Sx,Ya,Ec],mre=e=>pre.find(t=>t.test(e));function LC(e){const t=mre(e);if(Au(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!t)return!1;let r=t.parse(e);return t===Ec&&(r=hre(r)),r}const FC=(e,t)=>{const r=LC(e),n=LC(t);if(!r||!n)return Nm(e,t);const s={...r};return i=>(s.red=Nb(r.red,n.red,i),s.green=Nb(r.green,n.green,i),s.blue=Nb(r.blue,n.blue,i),s.alpha=zt(r.alpha,n.alpha,i),Ya.transform(s))},Ex=new Set(["none","hidden"]);function gre(e,t){return Ex.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function yre(e,t){return r=>zt(e,t,r)}function aS(e){return typeof e=="number"?yre:typeof e=="string"?sS(e)?Nm:nr.test(e)?FC:xre:Array.isArray(e)?CL:typeof e=="object"?nr.test(e)?FC:vre:Nm}function CL(e,t){const r=[...e],n=r.length,s=e.map((i,o)=>aS(i)(i,t[o]));return i=>{for(let o=0;o<n;o++)r[o]=s[o](i);return r}}function vre(e,t){const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=aS(e[s])(e[s],t[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}}function bre(e,t){const r=[],n={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],o=e.indexes[i][n[i]],a=e.values[o]??0;r[s]=a,n[i]++}return r}const xre=(e,t)=>{const r=fa.createTransformer(t),n=bf(e),s=bf(t);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?Ex.has(e)&&!s.values.length||Ex.has(t)&&!n.values.length?gre(e,t):th(CL(bre(n,s),s.values),r):(Au(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),Nm(e,t))};function TL(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?zt(e,t,r):aS(e)(e,t)}const wre=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>Dt.update(t,r),stop:()=>da(t),now:()=>Rr.isProcessing?Rr.timestamp:bn.now()}},AL=(e,t,r=10)=>{let n="";const s=Math.max(Math.round(t/r),2);for(let i=0;i<s;i++)n+=Math.round(e(i/(s-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},km=2e4;function lS(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<km;)t+=r,n=e.next(t);return t>=km?1/0:t}function _re(e,t=100,r){const n=r({...e,keyframes:[0,t]}),s=Math.min(lS(n),km);return{type:"keyframes",ease:i=>n.next(s*i).value/t,duration:gi(s)}}const Sre=5;function PL(e,t,r){const n=Math.max(t-Sre,0);return uL(r-e(n),t-n)}const Ft={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},kb=.001;function Ere({duration:e=Ft.duration,bounce:t=Ft.bounce,velocity:r=Ft.velocity,mass:n=Ft.mass}){let s,i;Au(e<=Us(Ft.maxDuration),"Spring duration must be 10 seconds or less","spring-duration-limit");let o=1-t;o=ao(Ft.minDamping,Ft.maxDamping,o),e=ao(Ft.minDuration,Ft.maxDuration,gi(e)),o<1?(s=c=>{const d=c*o,f=d*e,h=d-r,p=jx(c,o),g=Math.exp(-f);return kb-h/p*g},i=c=>{const f=c*o*e,h=f*r+r,p=Math.pow(o,2)*Math.pow(c,2)*e,g=Math.exp(-f),m=jx(Math.pow(c,2),o);return(-s(c)+kb>0?-1:1)*((h-p)*g)/m}):(s=c=>{const d=Math.exp(-c*e),f=(c-r)*e+1;return-kb+d*f},i=c=>{const d=Math.exp(-c*e),f=(r-c)*(e*e);return d*f});const a=5/e,l=Nre(s,i,a);if(e=Us(e),isNaN(l))return{stiffness:Ft.stiffness,damping:Ft.damping,duration:e};{const c=Math.pow(l,2)*n;return{stiffness:c,damping:o*2*Math.sqrt(n*c),duration:e}}}const jre=12;function Nre(e,t,r){let n=r;for(let s=1;s<jre;s++)n=n-e(n)/t(n);return n}function jx(e,t){return e*Math.sqrt(1-t*t)}const kre=["duration","bounce"],Cre=["stiffness","damping","mass"];function BC(e,t){return t.some(r=>e[r]!==void 0)}function Tre(e){let t={velocity:Ft.velocity,stiffness:Ft.stiffness,damping:Ft.damping,mass:Ft.mass,isResolvedFromDuration:!1,...e};if(!BC(e,Cre)&&BC(e,kre))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,i=2*ao(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Ft.mass,stiffness:s,damping:i}}else{const r=Ere(e);t={...t,...r,mass:Ft.mass},t.isResolvedFromDuration=!0}return t}function Cm(e=Ft.visualDuration,t=Ft.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:s}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:f,velocity:h,isResolvedFromDuration:p}=Tre({...r,velocity:-gi(r.velocity||0)}),g=h||0,m=c/(2*Math.sqrt(l*d)),y=o-i,v=gi(Math.sqrt(l/d)),b=Math.abs(y)<5;n||(n=b?Ft.restSpeed.granular:Ft.restSpeed.default),s||(s=b?Ft.restDelta.granular:Ft.restDelta.default);let x;if(m<1){const _=jx(v,m);x=N=>{const k=Math.exp(-m*v*N);return o-k*((g+m*v*y)/_*Math.sin(_*N)+y*Math.cos(_*N))}}else if(m===1)x=_=>o-Math.exp(-v*_)*(y+(g+v*y)*_);else{const _=v*Math.sqrt(m*m-1);x=N=>{const k=Math.exp(-m*v*N),C=Math.min(_*N,300);return o-k*((g+m*v*y)*Math.sinh(C)+_*y*Math.cosh(C))/_}}const S={calculatedDuration:p&&f||null,next:_=>{const N=x(_);if(p)a.done=_>=f;else{let k=_===0?g:0;m<1&&(k=_===0?Us(g):PL(x,_,N));const C=Math.abs(k)<=n,A=Math.abs(o-N)<=s;a.done=C&&A}return a.value=a.done?o:N,a},toString:()=>{const _=Math.min(lS(S),km),N=AL(k=>S.next(_*k).value,_,30);return _+"ms "+N},toTransition:()=>{}};return S}Cm.applyToOptions=e=>{const t=_re(e,100,Cm);return e.ease=t.ease,e.duration=Us(t.duration),e.type="keyframes",e};function Nx({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},p=C=>a!==void 0&&C<a||l!==void 0&&C>l,g=C=>a===void 0?l:l===void 0||Math.abs(a-C)<Math.abs(l-C)?a:l;let m=r*t;const y=f+m,v=o===void 0?y:o(y);v!==y&&(m=v-f);const b=C=>-m*Math.exp(-C/n),x=C=>v+b(C),S=C=>{const A=b(C),I=x(C);h.done=Math.abs(A)<=c,h.value=h.done?v:I};let _,N;const k=C=>{p(h.value)&&(_=C,N=Cm({keyframes:[h.value,g(h.value)],velocity:PL(x,C,h.value),damping:s,stiffness:i,restDelta:c,restSpeed:d}))};return k(0),{calculatedDuration:null,next:C=>{let A=!1;return!N&&_===void 0&&(A=!0,S(C),k(C)),_!==void 0&&C>=_?N.next(C-_):(!A&&S(C),h)}}}function Are(e,t,r){const n=[],s=r||co.mix||TL,i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||ds:t;a=th(l,a)}n.push(a)}return n}function Pre(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const i=e.length;if(lo(i===t.length,"Both input and output ranges must be the same length","range-length"),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=Are(t,n,s),l=a.length,c=d=>{if(o&&d<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=yf(e[f],e[f+1],d);return a[f](h)};return r?d=>c(ao(e[0],e[i-1],d)):c}function Ore(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=yf(0,t,n);e.push(zt(r,1,s))}}function Dre(e){const t=[0];return Ore(t,e.length-1),t}function $re(e,t){return e.map(r=>r*t)}function Rre(e,t){return e.map(()=>t||bL).splice(0,e.length-1)}function jc({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=Hte(n)?n.map(RC):RC(n),i={done:!1,value:t[0]},o=$re(r&&r.length===t.length?r:Dre(t),e),a=Pre(o,t,{ease:Array.isArray(s)?s:Rre(t,s)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}const Ire=e=>e!==null;function cS(e,{repeat:t,repeatType:r="loop"},n,s=1){const i=e.filter(Ire),a=s<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!a||n===void 0?i[a]:n}const Mre={decay:Nx,inertia:Nx,tween:jc,keyframes:jc,spring:Cm};function OL(e){typeof e.type=="string"&&(e.type=Mre[e.type])}class uS{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const Lre=e=>e/100;class dS extends uS{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,s;const{motionValue:r}=this.options;r&&r.updatedAt!==bn.now()&&this.tick(bn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(n=this.options).onStop)==null||s.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;OL(t);const{type:r=jc,repeat:n=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=t;let{keyframes:a}=t;const l=r||jc;process.env.NODE_ENV!=="production"&&l!==jc&&lo(a.length<=2,`Only two keyframes currently supported with spring and inertia animations. Trying to animate ${a}`,"spring-two-frames"),l!==jc&&typeof a[0]!="number"&&(this.mixKeyframes=th(Lre,TL(a[0],a[1])),a=[0,100]);const c=l({...t,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=lS(c));const{calculatedDuration:d}=c;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(n+1)-s,this.generator=c}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:c=0,keyframes:d,repeat:f,repeatType:h,repeatDelay:p,type:g,onUpdate:m,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const v=this.currentTime-c*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?v<0:v>s;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let x=this.currentTime,S=n;if(f){const C=Math.min(this.currentTime,s)/a;let A=Math.floor(C),I=C%1;!I&&C>=1&&(I=1),I===1&&A--,A=Math.min(A,f+1),!!(A%2)&&(h==="reverse"?(I=1-I,p&&(I-=p/a)):h==="mirror"&&(S=o)),x=ao(0,1,I)*a}const _=b?{done:!1,value:d[0]}:S.next(x);i&&(_.value=i(_.value));let{done:N}=_;!b&&l!==null&&(N=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return k&&g!==Nx&&(_.value=cS(d,this.options,y,this.speed)),m&&m(_.value),k&&this.finish(),_}then(t,r){return this.finished.then(t,r)}get duration(){return gi(this.calculatedDuration)}get time(){return gi(this.currentTime)}set time(t){var r;t=Us(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(bn.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=gi(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:t=wre,startTime:r}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(bn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function Fre(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Ga=e=>e*180/Math.PI,kx=e=>{const t=Ga(Math.atan2(e[1],e[0]));return Cx(t)},Bre={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:kx,rotateZ:kx,skewX:e=>Ga(Math.atan(e[1])),skewY:e=>Ga(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Cx=e=>(e=e%360,e<0&&(e+=360),e),zC=kx,UC=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),qC=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),zre={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:UC,scaleY:qC,scale:e=>(UC(e)+qC(e))/2,rotateX:e=>Cx(Ga(Math.atan2(e[6],e[5]))),rotateY:e=>Cx(Ga(Math.atan2(-e[2],e[0]))),rotateZ:zC,rotate:zC,skewX:e=>Ga(Math.atan(e[4])),skewY:e=>Ga(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Tx(e){return e.includes("scale")?1:0}function Ax(e,t){if(!e||e==="none")return Tx(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(r)n=zre,s=r;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Bre,s=a}if(!s)return Tx(t);const i=n[t],o=s[1].split(",").map(qre);return typeof i=="function"?i(o):o[i]}const Ure=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return Ax(r,t)};function qre(e){return parseFloat(e.trim())}const Ou=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Du=new Set(Ou),VC=e=>e===Pu||e===Fe,Vre=new Set(["x","y","z"]),Wre=Ou.filter(e=>!Vre.has(e));function Kre(e){const t=[];return Wre.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const rl={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Ax(t,"x"),y:(e,{transform:t})=>Ax(t,"y")};rl.translateX=rl.x;rl.translateY=rl.y;const nl=new Set;let Px=!1,Ox=!1,Dx=!1;function DL(){if(Ox){const e=Array.from(nl).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const s=Kre(n);s.length&&(r.set(n,s),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([i,o])=>{var a;(a=n.getValue(i))==null||a.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Ox=!1,Px=!1,nl.forEach(e=>e.complete(Dx)),nl.clear()}function $L(){nl.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Ox=!0)})}function Hre(){Dx=!0,$L(),DL(),Dx=!1}class fS{constructor(t,r,n,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(nl.add(this),Px||(Px=!0,Dt.read($L),Dt.resolveKeyframes(DL))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const a=n.readValue(r,o);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=o),s&&i===void 0&&s.set(t[0])}Fre(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),nl.delete(this)}cancel(){this.state==="scheduled"&&(nl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Yre=e=>e.startsWith("--");function Gre(e,t,r){Yre(t)?e.style.setProperty(t,r):e.style[t]=r}const Zre=J_(()=>window.ScrollTimeline!==void 0),Xre={};function Jre(e,t){const r=J_(e);return()=>Xre[t]??r()}const RL=Jre(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Td=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,WC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Td([0,.65,.55,1]),circOut:Td([.55,0,1,.45]),backIn:Td([.31,.01,.66,-.59]),backOut:Td([.33,1.53,.69,.99])};function IL(e,t){if(e)return typeof e=="function"?RL()?AL(e,t):"ease-out":xL(e)?Td(e):Array.isArray(e)?e.map(r=>IL(r,t)||WC.easeOut):WC[e]}function Qre(e,t,r,{delay:n=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const d={[t]:r};l&&(d.offset=l);const f=IL(a,s);Array.isArray(f)&&(d.easing=f);const h={delay:n,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return c&&(h.pseudoElement=c),e.animate(d,h)}function ML(e){return typeof e=="function"&&"applyToOptions"in e}function ene({type:e,...t}){return ML(e)&&RL()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class tne extends uS{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,lo(typeof t.type!="string",`Mini animate() doesn't support "type" as a string.`,"mini-spring");const c=ene(t);this.animation=Qre(r,n,s,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=cS(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):Gre(r,n,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return gi(Number(t))}get time(){return gi(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Us(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Zre()?(this.animation.timeline=t,ds):r(this)}}const LL={anticipate:gL,backInOut:mL,circInOut:vL};function rne(e){return e in LL}function nne(e){typeof e.ease=="string"&&rne(e.ease)&&(e.ease=LL[e.ease])}const KC=10;class sne extends tne{constructor(t){nne(t),OL(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:s,element:i,...o}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const a=new dS({...o,autoplay:!1}),l=Us(this.finishedTime??this.time);r.setWithVelocity(a.sample(l-KC).value,a.sample(l).value,KC),a.stop()}}const HC=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(fa.test(e)||e==="0")&&!e.startsWith("url("));function ine(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function one(e,t,r,n){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=HC(s,t),a=HC(i,t);return Au(o===a,`You are trying to animate ${t} from "${s}" to "${i}". "${o?i:s}" is not an animatable value.`,"value-not-animatable"),!o||!a?!1:ine(e)||(r==="spring"||ML(r))&&n}function $x(e){e.duration=0,e.type}const ane=new Set(["opacity","clipPath","filter","transform"]),lne=J_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function cne(e){var d;const{motionValue:t,name:r,repeatDelay:n,repeatType:s,damping:i,type:o}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return lne()&&r&&ane.has(r)&&(r!=="transform"||!c)&&!l&&!n&&s!=="mirror"&&i!==0&&o!=="inertia"}const une=40;class dne extends uS{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:d,...f}){var g;super(),this.stop=()=>{var m,y;this._animation&&(this._animation.stop(),(m=this.stopTimeline)==null||m.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=bn.now();const h={autoplay:t,delay:r,type:n,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:c,element:d,...f},p=(d==null?void 0:d.KeyframeResolver)||fS;this.keyframeResolver=new p(a,(m,y,v)=>this.onKeyframesResolved(m,y,h,!v),l,c,d),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(t,r,n,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:d}=n;this.resolvedAt=bn.now(),one(t,i,o,a)||((co.instantAnimations||!l)&&(d==null||d(cS(t,n,r))),t[0]=t[t.length-1],$x(n),n.repeat=0);const h={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>une?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},p=!c&&cne(h)?new sne({...h,element:h.motionValue.owner.current}):new dS(h);p.finished.then(()=>this.notifyFinished()).catch(ds),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Hre()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const fne=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function hne(e){const t=fne.exec(e);if(!t)return[,];const[,r,n,s]=t;return[`--${r??n}`,s]}const pne=4;function FL(e,t,r=1){lo(r<=pne,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`,"max-css-var-depth");const[n,s]=hne(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return aL(o)?parseFloat(o):o}return sS(s)?FL(s,t,r+1):s}function hS(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const BL=new Set(["width","height","top","left","right","bottom",...Ou]),mne={test:e=>e==="auto",parse:e=>e},zL=e=>t=>t.test(e),UL=[Pu,Fe,yi,Wo,ire,sre,mne],YC=e=>UL.find(zL(e));function gne(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||cL(e):!0}const yne=new Set(["brightness","contrast","saturate","opacity"]);function vne(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(iS)||[];if(!n)return e;const s=r.replace(n,"");let i=yne.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+s+")"}const bne=/\b([a-z-]*)\(.*?\)/gu,Rx={...fa,getAnimatableNone:e=>{const t=e.match(bne);return t?t.map(vne).join(" "):e}},GC={...Pu,transform:Math.round},xne={rotate:Wo,rotateX:Wo,rotateY:Wo,rotateZ:Wo,scale:pp,scaleX:pp,scaleY:pp,scaleZ:pp,skew:Wo,skewX:Wo,skewY:Wo,distance:Fe,translateX:Fe,translateY:Fe,translateZ:Fe,x:Fe,y:Fe,z:Fe,perspective:Fe,transformPerspective:Fe,opacity:vf,originX:IC,originY:IC,originZ:Fe},pS={borderWidth:Fe,borderTopWidth:Fe,borderRightWidth:Fe,borderBottomWidth:Fe,borderLeftWidth:Fe,borderRadius:Fe,radius:Fe,borderTopLeftRadius:Fe,borderTopRightRadius:Fe,borderBottomRightRadius:Fe,borderBottomLeftRadius:Fe,width:Fe,maxWidth:Fe,height:Fe,maxHeight:Fe,top:Fe,right:Fe,bottom:Fe,left:Fe,padding:Fe,paddingTop:Fe,paddingRight:Fe,paddingBottom:Fe,paddingLeft:Fe,margin:Fe,marginTop:Fe,marginRight:Fe,marginBottom:Fe,marginLeft:Fe,backgroundPositionX:Fe,backgroundPositionY:Fe,...xne,zIndex:GC,fillOpacity:vf,strokeOpacity:vf,numOctaves:GC},wne={...pS,color:nr,backgroundColor:nr,outlineColor:nr,fill:nr,stroke:nr,borderColor:nr,borderTopColor:nr,borderRightColor:nr,borderBottomColor:nr,borderLeftColor:nr,filter:Rx,WebkitFilter:Rx},qL=e=>wne[e];function VL(e,t){let r=qL(e);return r!==Rx&&(r=fa),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const _ne=new Set(["auto","none","0"]);function Sne(e,t,r){let n=0,s;for(;n<e.length&&!s;){const i=e[n];typeof i=="string"&&!_ne.has(i)&&bf(i).values.length&&(s=e[n]),n++}if(s&&r)for(const i of t)e[i]=VL(r,s)}class Ene extends fS{constructor(t,r,n,s,i){super(t,r,n,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),sS(c))){const d=FL(c,r.current);d!==void 0&&(t[l]=d),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!BL.has(n)||t.length!==2)return;const[s,i]=t,o=YC(s),a=YC(i);if(o!==a)if(VC(o)&&VC(a))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else rl[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let s=0;s<t.length;s++)(t[s]===null||gne(t[s]))&&n.push(s);n.length&&Sne(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=rl[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(n,s).jump(s,!1)}measureEndState(){var a;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const s=t.getValue(r);s&&s.jump(this.measuredOrigin,!1);const i=n.length-1,o=n[i];n[i]=rl[r](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function jne(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const s=(r==null?void 0:r[e])??n.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const WL=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Nne(e){return lL(e)&&"offsetHeight"in e}const ZC=30,kne=e=>!isNaN(parseFloat(e));class Cne{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var i;const s=bn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=bn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=kne(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return process.env.NODE_ENV!=="production"&&eS(!1,'value.onChange(callback) is deprecated. Switch to value.on("change", callback).'),this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new Q_);const n=this.events[t].add(r);return t==="change"?()=>{n(),Dt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=bn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>ZC)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,ZC);return uL(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function nu(e,t){return new Cne(e,t)}const{schedule:mS}=wL(queueMicrotask,!1),Ts={x:!1,y:!1};function KL(){return Ts.x||Ts.y}function Tne(e){return e==="x"||e==="y"?Ts[e]?null:(Ts[e]=!0,()=>{Ts[e]=!1}):Ts.x||Ts.y?null:(Ts.x=Ts.y=!0,()=>{Ts.x=Ts.y=!1})}function HL(e,t){const r=jne(e),n=new AbortController,s={passive:!0,...t,signal:n.signal};return[r,s,()=>n.abort()]}function XC(e){return!(e.pointerType==="touch"||KL())}function Ane(e,t,r={}){const[n,s,i]=HL(e,r),o=a=>{if(!XC(a))return;const{target:l}=a,c=t(l,a);if(typeof c!="function"||!l)return;const d=f=>{XC(f)&&(c(f),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,s)};return n.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const YL=(e,t)=>t?e===t?!0:YL(e,t.parentElement):!1,gS=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Pne=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function One(e){return Pne.has(e.tagName)||e.tabIndex!==-1}const Zp=new WeakSet;function JC(e){return t=>{t.key==="Enter"&&e(t)}}function Cb(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Dne=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=JC(()=>{if(Zp.has(r))return;Cb(r,"down");const s=JC(()=>{Cb(r,"up")}),i=()=>Cb(r,"cancel");r.addEventListener("keyup",s,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function QC(e){return gS(e)&&!KL()}function $ne(e,t,r={}){const[n,s,i]=HL(e,r),o=a=>{const l=a.currentTarget;if(!QC(a))return;Zp.add(l);const c=t(l,a),d=(p,g)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),Zp.has(l)&&Zp.delete(l),QC(p)&&typeof c=="function"&&c(p,{success:g})},f=p=>{d(p,l===window||l===document||r.useGlobalTarget||YL(l,p.target))},h=p=>{d(p,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",h,s)};return n.forEach(a=>{(r.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),Nne(a)&&(a.addEventListener("focus",c=>Dne(c,s)),!One(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function GL(e){return lL(e)&&"ownerSVGElement"in e}function Rne(e){return GL(e)&&e.tagName==="svg"}const Zr=e=>!!(e&&e.getVelocity),Ine=[...UL,nr,fa],Mne=e=>Ine.find(zL(e)),ZL=w.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Lne(e=!0){const t=w.useContext(G_);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=t,i=w.useId();w.useEffect(()=>{if(e)return s(i)},[e]);const o=w.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,o]:[!0]}const XL=w.createContext({strict:!1}),eT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},su={};for(const e in eT)su[e]={isEnabled:t=>eT[e].some(r=>!!t[r])};function Fne(e){for(const t in e)su[t]={...su[t],...e[t]}}const Bne=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Tm(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Bne.has(e)}let JL=e=>!Tm(e);function zne(e){typeof e=="function"&&(JL=t=>t.startsWith("on")?!Tm(t):e(t))}try{zne(require("@emotion/is-prop-valid").default)}catch{}function Une(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(JL(s)||r===!0&&Tm(s)||!t&&!Tm(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}const my=w.createContext({});function gy(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function xf(e){return typeof e=="string"||Array.isArray(e)}const yS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],vS=["initial",...yS];function yy(e){return gy(e.animate)||vS.some(t=>xf(e[t]))}function QL(e){return!!(yy(e)||e.variants)}function qne(e,t){if(yy(e)){const{initial:r,animate:n}=e;return{initial:r===!1||xf(r)?r:void 0,animate:xf(n)?n:void 0}}return e.inherit!==!1?t:{}}function Vne(e){const{initial:t,animate:r}=qne(e,w.useContext(my));return w.useMemo(()=>({initial:t,animate:r}),[tT(t),tT(r)])}function tT(e){return Array.isArray(e)?e.join(" "):e}const wf={};function Wne(e){for(const t in e)wf[t]=e[t],nS(t)&&(wf[t].isCSSVariable=!0)}function e4(e,{layout:t,layoutId:r}){return Du.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!wf[e]||e==="opacity")}const Kne={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Hne=Ou.length;function Yne(e,t,r){let n="",s=!0;for(let i=0;i<Hne;i++){const o=Ou[i],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||r){const c=WL(a,pS[o]);if(!l){s=!1;const d=Kne[o]||o;n+=`${d}(${c}) `}r&&(t[o]=c)}}return n=n.trim(),r?n=r(t,s?"":n):s&&(n="none"),n}function bS(e,t,r){const{style:n,vars:s,transformOrigin:i}=e;let o=!1,a=!1;for(const l in t){const c=t[l];if(Du.has(l)){o=!0;continue}else if(nS(l)){s[l]=c;continue}else{const d=WL(c,pS[l]);l.startsWith("origin")?(a=!0,i[l]=d):n[l]=d}}if(t.transform||(o||r?n.transform=Yne(t,e.transform,r):n.transform&&(n.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=i;n.transformOrigin=`${l} ${c} ${d}`}}const xS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function t4(e,t,r){for(const n in t)!Zr(t[n])&&!e4(n,r)&&(e[n]=t[n])}function Gne({transformTemplate:e},t){return w.useMemo(()=>{const r=xS();return bS(r,t,e),Object.assign({},r.vars,r.style)},[t])}function Zne(e,t){const r=e.style||{},n={};return t4(n,r,e),Object.assign(n,Gne(e,t)),n}function Xne(e,t){const r={},n=Zne(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const Jne={offset:"stroke-dashoffset",array:"stroke-dasharray"},Qne={offset:"strokeDashoffset",array:"strokeDasharray"};function ese(e,t,r=1,n=0,s=!0){e.pathLength=1;const i=s?Jne:Qne;e[i.offset]=Fe.transform(-n);const o=Fe.transform(t),a=Fe.transform(r);e[i.array]=`${o} ${a}`}function r4(e,{attrX:t,attrY:r,attrScale:n,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,c,d){if(bS(e,a,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),s!==void 0&&ese(f,s,i,o,!1)}const n4=()=>({...xS(),attrs:{}}),s4=e=>typeof e=="string"&&e.toLowerCase()==="svg";function tse(e,t,r,n){const s=w.useMemo(()=>{const i=n4();return r4(i,t,s4(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};t4(i,e.style,e),s.style={...i,...s.style}}return s}const rse=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function wS(e){return typeof e!="string"||e.includes("-")?!1:!!(rse.indexOf(e)>-1||/[A-Z]/u.test(e))}function nse(e,t,r,{latestValues:n},s,i=!1){const a=(wS(e)?tse:Xne)(t,n,s,e),l=Une(t,typeof e=="string",i),c=e!==w.Fragment?{...l,...a,ref:r}:{},{children:d}=t,f=w.useMemo(()=>Zr(d)?d.get():d,[d]);return w.createElement(e,{...c,children:f})}function rT(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function _S(e,t,r,n){if(typeof t=="function"){const[s,i]=rT(n);t=t(r!==void 0?r:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=rT(n);t=t(r!==void 0?r:e.custom,s,i)}return t}function Xp(e){return Zr(e)?e.get():e}function sse({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,s){return{latestValues:ise(r,n,s,e),renderState:t()}}function ise(e,t,r,n){const s={},i=n(e,{});for(const h in i)s[h]=Xp(i[h]);let{initial:o,animate:a}=e;const l=yy(e),c=QL(e);t&&c&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const f=d?a:o;if(f&&typeof f!="boolean"&&!gy(f)){const h=Array.isArray(f)?f:[f];for(let p=0;p<h.length;p++){const g=_S(e,h[p]);if(g){const{transitionEnd:m,transition:y,...v}=g;for(const b in v){let x=v[b];if(Array.isArray(x)){const S=d?x.length-1:0;x=x[S]}x!==null&&(s[b]=x)}for(const b in m)s[b]=m[b]}}}return s}const i4=e=>(t,r)=>{const n=w.useContext(my),s=w.useContext(G_),i=()=>sse(e,t,n,s);return r?i():Fte(i)};function SS(e,t,r){var i;const{style:n}=e,s={};for(const o in n)(Zr(n[o])||t.style&&Zr(t.style[o])||e4(o,e)||((i=r==null?void 0:r.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=n[o]);return s}const ose=i4({scrapeMotionValuesFromProps:SS,createRenderState:xS});function o4(e,t,r){const n=SS(e,t,r);for(const s in e)if(Zr(e[s])||Zr(t[s])){const i=Ou.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[i]=e[s]}return n}const ase=i4({scrapeMotionValuesFromProps:o4,createRenderState:n4}),lse=Symbol.for("motionComponentSymbol");function Nc(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function cse(e,t,r){return w.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Nc(r)&&(r.current=n))},[t])}const ES=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),use="framerAppearId",a4="data-"+ES(use),l4=w.createContext({});function dse(e,t,r,n,s){var m,y;const{visualElement:i}=w.useContext(my),o=w.useContext(XL),a=w.useContext(G_),l=w.useContext(ZL).reducedMotion,c=w.useRef(null);n=n||o.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:i,props:r,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=c.current,f=w.useContext(l4);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&fse(c.current,r,s,f);const h=w.useRef(!1);w.useInsertionEffect(()=>{d&&h.current&&d.update(r,a)});const p=r[a4],g=w.useRef(!!p&&!((m=window.MotionHandoffIsComplete)!=null&&m.call(window,p))&&((y=window.MotionHasOptimisedAnimation)==null?void 0:y.call(window,p)));return Bte(()=>{d&&(h.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),g.current&&d.animationState&&d.animationState.animateChanges())}),w.useEffect(()=>{d&&(!g.current&&d.animationState&&d.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,p)}),g.current=!1),d.enteringChildren=void 0)}),d}function fse(e,t,r,n){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:c4(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&Nc(a),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:l,layoutRoot:c})}function c4(e){if(e)return e.options.allowProjection!==!1?e.projection:c4(e.parent)}function Tb(e,{forwardMotionProps:t=!1}={},r,n){r&&Fne(r);const s=wS(e)?ase:ose;function i(a,l){let c;const d={...w.useContext(ZL),...a,layoutId:hse(a)},{isStatic:f}=d,h=Vne(a),p=s(a,f);if(!f&&Y_){pse(d,r);const g=mse(d);c=g.MeasureLayout,h.visualElement=dse(e,p,d,n,g.ProjectionNode)}return u.jsxs(my.Provider,{value:h,children:[c&&h.visualElement?u.jsx(c,{visualElement:h.visualElement,...d}):null,nse(e,a,cse(p,h.visualElement,l),p,f,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=w.forwardRef(i);return o[lse]=e,o}function hse({layoutId:e}){const t=w.useContext(oL).id;return t&&e!==void 0?t+"-"+e:e}function pse(e,t){const r=w.useContext(XL).strict;if(process.env.NODE_ENV!=="production"&&t&&r){const n="You have rendered a `motion` component within a `LazyMotion` component. This will break tree shaking. Import and render a `m` component instead.";e.ignoreStrict?Au(!1,n,"lazy-strict-mode"):lo(!1,n,"lazy-strict-mode")}}function mse(e){const{drag:t,layout:r}=su;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function gse(e,t){if(typeof Proxy>"u")return Tb;const r=new Map,n=(i,o)=>Tb(i,o,e,t),s=(i,o)=>(process.env.NODE_ENV!=="production"&&eS(!1,"motion() is deprecated. Use motion.create() instead."),n(i,o));return new Proxy(s,{get:(i,o)=>o==="create"?n:(r.has(o)||r.set(o,Tb(o,void 0,e,t)),r.get(o))})}function u4({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function yse({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function vse(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Ab(e){return e===void 0||e===1}function Ix({scale:e,scaleX:t,scaleY:r}){return!Ab(e)||!Ab(t)||!Ab(r)}function za(e){return Ix(e)||d4(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function d4(e){return nT(e.x)||nT(e.y)}function nT(e){return e&&e!=="0%"}function Am(e,t,r){const n=e-r,s=t*n;return r+s}function sT(e,t,r,n,s){return s!==void 0&&(e=Am(e,s,n)),Am(e,r,n)+t}function Mx(e,t=0,r=1,n,s){e.min=sT(e.min,t,r,n,s),e.max=sT(e.max,t,r,n,s)}function f4(e,{x:t,y:r}){Mx(e.x,t.translate,t.scale,t.originPoint),Mx(e.y,r.translate,r.scale,r.originPoint)}const iT=.999999999999,oT=1.0000000000001;function bse(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=r[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Cc(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,f4(e,o)),n&&za(i.latestValues)&&Cc(e,i.latestValues))}t.x<oT&&t.x>iT&&(t.x=1),t.y<oT&&t.y>iT&&(t.y=1)}function kc(e,t){e.min=e.min+t,e.max=e.max+t}function aT(e,t,r,n,s=.5){const i=zt(e.min,e.max,s);Mx(e,t,r,i,n)}function Cc(e,t){aT(e.x,t.x,t.scaleX,t.scale,t.originX),aT(e.y,t.y,t.scaleY,t.scale,t.originY)}function h4(e,t){return u4(vse(e.getBoundingClientRect(),t))}function xse(e,t,r){const n=h4(e,r),{scroll:s}=t;return s&&(kc(n.x,s.offset.x),kc(n.y,s.offset.y)),n}const lT=()=>({translate:0,scale:1,origin:0,originPoint:0}),Tc=()=>({x:lT(),y:lT()}),cT=()=>({min:0,max:0}),Ht=()=>({x:cT(),y:cT()}),Lx={current:null},p4={current:!1};function wse(){if(p4.current=!0,!!Y_)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Lx.current=e.matches;e.addEventListener("change",t),t()}else Lx.current=!1}const _se=new WeakMap;function Sse(e,t,r){for(const n in t){const s=t[n],i=r[n];if(Zr(s))e.addValue(n,s);else if(Zr(i))e.addValue(n,nu(s,{owner:e}));else if(i!==s)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(n);e.addValue(n,nu(o!==void 0?o:s,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const uT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Ese{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=fS,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=bn.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Dt.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=yy(r),this.isVariantNode=QL(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const p=f[h];l[h]!==void 0&&Zr(p)&&p.set(l[h])}}mount(t){var r;this.current=t,_se.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),p4.current||wse(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Lx.current,process.env.NODE_ENV!=="production"&&eS(this.shouldReduceMotion!==!0,"You have Reduced Motion enabled on your device. Animations may not appear as expected.","reduced-motion-disabled"),(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),da(this.notifyUpdate),da(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Du.has(t);n&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Dt.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{s(),i&&i(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in su){const r=su[t];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[t]&&s&&n(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ht()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<uT.length;n++){const s=uT[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=Sse(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=nu(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(aL(n)||cL(n))?n=parseFloat(n):!Mne(n)&&fa.test(r)&&(n=VL(t,r)),this.setBaseTarget(t,Zr(n)?n.get():n)),Zr(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const o=_S(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);o&&(n=o[t])}if(r&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Zr(s)?s:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new Q_),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){mS.render(this.render)}}class m4 extends Ese{constructor(){super(...arguments),this.KeyframeResolver=Ene}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Zr(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function g4(e,{style:t,vars:r},n,s){const i=e.style;let o;for(o in t)i[o]=t[o];s==null||s.applyProjectionStyles(i,n);for(o in r)i.setProperty(o,r[o])}function jse(e){return window.getComputedStyle(e)}class Nse extends m4{constructor(){super(...arguments),this.type="html",this.renderInstance=g4}readValueFromInstance(t,r){var n;if(Du.has(r))return(n=this.projection)!=null&&n.isProjecting?Tx(r):Ure(t,r);{const s=jse(t),i=(nS(r)?s.getPropertyValue(r):s[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return h4(t,r)}build(t,r,n){bS(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return SS(t,r,n)}}const y4=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function kse(e,t,r,n){g4(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(y4.has(s)?s:ES(s),t.attrs[s])}class Cse extends m4{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ht}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Du.has(r)){const n=qL(r);return n&&n.default||0}return r=y4.has(r)?r:ES(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return o4(t,r,n)}build(t,r,n){r4(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,s){kse(t,r,n,s)}mount(t){this.isSVGTag=s4(t.tagName),super.mount(t)}}const Tse=(e,t)=>wS(e)?new Cse(t):new Nse(t,{allowProjection:e!==w.Fragment});function Fc(e,t,r){const n=e.getProps();return _S(n,t,r!==void 0?r:n.custom,e)}const Fx=e=>Array.isArray(e);function Ase(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,nu(r))}function Pse(e){return Fx(e)?e[e.length-1]||0:e}function Ose(e,t){const r=Fc(e,t);let{transitionEnd:n={},transition:s={},...i}=r||{};i={...i,...n};for(const o in i){const a=Pse(i[o]);Ase(e,o,a)}}function Dse(e){return!!(Zr(e)&&e.add)}function Bx(e,t){const r=e.getValue("willChange");if(Dse(r))return r.add(t);if(!r&&co.WillChange){const n=new co.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function v4(e){return e.props[a4]}const $se=e=>e!==null;function Rse(e,{repeat:t,repeatType:r="loop"},n){const s=e.filter($se),i=t&&r!=="loop"&&t%2===1?0:s.length-1;return s[i]}const Ise={type:"spring",stiffness:500,damping:25,restSpeed:10},Mse=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Lse={type:"keyframes",duration:.8},Fse={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Bse=(e,{keyframes:t})=>t.length>2?Lse:Du.has(e)?e.startsWith("scale")?Mse(t[1]):Ise:Fse;function zse({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const jS=(e,t,r,n={},s,i)=>o=>{const a=hS(n,e)||{},l=a.delay||n.delay||0;let{elapsed:c=0}=n;c=c-Us(l);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:h=>{t.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:i?void 0:s};zse(a)||Object.assign(d,Bse(e,d)),d.duration&&(d.duration=Us(d.duration)),d.repeatDelay&&(d.repeatDelay=Us(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&($x(d),d.delay===0&&(f=!0)),(co.instantAnimations||co.skipAnimations)&&(f=!0,$x(d),d.delay=0),d.allowFlatten=!a.type&&!a.ease,f&&!i&&t.get()!==void 0){const h=Rse(d.keyframes,a);if(h!==void 0){Dt.update(()=>{d.onUpdate(h),d.onComplete()});return}}return a.isSync?new dS(d):new dne(d)};function Use({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function b4(e,t,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...a}=t;n&&(i=n);const l=[],c=s&&e.animationState&&e.animationState.getState()[s];for(const d in a){const f=e.getValue(d,e.latestValues[d]??null),h=a[d];if(h===void 0||c&&Use(c,d))continue;const p={delay:r,...hS(i||{},d)},g=f.get();if(g!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===g&&!p.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){const v=v4(e);if(v){const b=window.MotionHandoffAnimation(v,d,Dt);b!==null&&(p.startTime=b,m=!0)}}Bx(e,d),f.start(jS(d,f,h,e.shouldReduceMotion&&BL.has(d)?{type:!1}:p,e,m));const y=f.animation;y&&l.push(y)}return o&&Promise.all(l).then(()=>{Dt.update(()=>{o&&Ose(e,o)})}),l}function x4(e,t,r,n=0,s=1){const i=Array.from(e).sort((c,d)=>c.sortNodePosition(d)).indexOf(t),o=e.size,a=(o-1)*n;return typeof r=="function"?r(i,o):s===1?i*n:a-i*n}function zx(e,t,r={}){var l;const n=Fc(e,t,r.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const i=n?()=>Promise.all(b4(e,n,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=s;return qse(e,t,c,d,f,h,r)}:()=>Promise.resolve(),{when:a}=s;if(a){const[c,d]=a==="beforeChildren"?[i,o]:[o,i];return c().then(()=>d())}else return Promise.all([i(),o(r.delay)])}function qse(e,t,r=0,n=0,s=0,i=1,o){const a=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),a.push(zx(l,t,{...o,delay:r+(typeof n=="function"?0:n)+x4(e.variantChildren,l,n,s,i)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(a)}function Vse(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(i=>zx(e,i,r));n=Promise.all(s)}else if(typeof t=="string")n=zx(e,t,r);else{const s=typeof t=="function"?Fc(e,t,r.custom):t;n=Promise.all(b4(e,s,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function w4(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const Wse=vS.length;function _4(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?_4(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<Wse;r++){const n=vS[r],s=e.props[n];(xf(s)||s===!1)&&(t[n]=s)}return t}const Kse=[...yS].reverse(),Hse=yS.length;function Yse(e){return t=>Promise.all(t.map(({animation:r,options:n})=>Vse(e,r,n)))}function Gse(e){let t=Yse(e),r=dT(),n=!0;const s=l=>(c,d)=>{var h;const f=Fc(e,d,l==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:g,...m}=f;c={...c,...m,...g}}return c};function i(l){t=l(e)}function o(l){const{props:c}=e,d=_4(e.parent)||{},f=[],h=new Set;let p={},g=1/0;for(let y=0;y<Hse;y++){const v=Kse[y],b=r[v],x=c[v]!==void 0?c[v]:d[v],S=xf(x),_=v===l?b.isActive:null;_===!1&&(g=y);let N=x===d[v]&&x!==c[v]&&S;if(N&&n&&e.manuallyAnimateOnMount&&(N=!1),b.protectedKeys={...p},!b.isActive&&_===null||!x&&!b.prevProp||gy(x)||typeof x=="boolean")continue;const k=Zse(b.prevProp,x);let C=k||v===l&&b.isActive&&!N&&S||y>g&&S,A=!1;const I=Array.isArray(x)?x:[x];let M=I.reduce(s(v),{});_===!1&&(M={});const{prevResolvedValues:L={}}=b,D={...L,...M},z=q=>{C=!0,h.has(q)&&(A=!0,h.delete(q)),b.needsAnimating[q]=!0;const Z=e.getValue(q);Z&&(Z.liveStyle=!1)};for(const q in D){const Z=M[q],oe=L[q];if(p.hasOwnProperty(q))continue;let $=!1;Fx(Z)&&Fx(oe)?$=!w4(Z,oe):$=Z!==oe,$?Z!=null?z(q):h.add(q):Z!==void 0&&h.has(q)?z(q):b.protectedKeys[q]=!0}b.prevProp=x,b.prevResolvedValues=M,b.isActive&&(p={...p,...M}),n&&e.blockInitialAnimation&&(C=!1);const U=N&&k;C&&(!U||A)&&f.push(...I.map(q=>{const Z={type:v};if(typeof q=="string"&&n&&!U&&e.manuallyAnimateOnMount&&e.parent){const{parent:oe}=e,$=Fc(oe,q);if(oe.enteringChildren&&$){const{delayChildren:B}=$.transition||{};Z.delay=x4(oe.enteringChildren,e,B)}}return{animation:q,options:Z}}))}if(h.size){const y={};if(typeof c.initial!="boolean"){const v=Fc(e,Array.isArray(c.initial)?c.initial[0]:c.initial);v&&v.transition&&(y.transition=v.transition)}h.forEach(v=>{const b=e.getBaseTarget(v),x=e.getValue(v);x&&(x.liveStyle=!0),y[v]=b??null}),f.push({animation:y})}let m=!!f.length;return n&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(m=!1),n=!1,m?t(f):Promise.resolve()}function a(l,c){var f;if(r[l].isActive===c)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var p;return(p=h.animationState)==null?void 0:p.setActive(l,c)}),r[l].isActive=c;const d=o(l);for(const h in r)r[h].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>r,reset:()=>{r=dT(),n=!0}}}function Zse(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!w4(t,e):!1}function La(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function dT(){return{animate:La(!0),whileInView:La(),whileHover:La(),whileTap:La(),whileDrag:La(),whileFocus:La(),exit:La()}}class ba{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Xse extends ba{constructor(t){super(t),t.animationState||(t.animationState=Gse(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();gy(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Jse=0;class Qse extends ba{constructor(){super(...arguments),this.id=Jse++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const eie={animation:{Feature:Xse},exit:{Feature:Qse}};function _f(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function sh(e){return{point:{x:e.pageX,y:e.pageY}}}const tie=e=>t=>gS(t)&&e(t,sh(t));function Kd(e,t,r,n){return _f(e,t,tie(r),n)}const S4=1e-4,rie=1-S4,nie=1+S4,E4=.01,sie=0-E4,iie=0+E4;function ln(e){return e.max-e.min}function oie(e,t,r){return Math.abs(e-t)<=r}function fT(e,t,r,n=.5){e.origin=n,e.originPoint=zt(t.min,t.max,e.origin),e.scale=ln(r)/ln(t),e.translate=zt(r.min,r.max,e.origin)-e.originPoint,(e.scale>=rie&&e.scale<=nie||isNaN(e.scale))&&(e.scale=1),(e.translate>=sie&&e.translate<=iie||isNaN(e.translate))&&(e.translate=0)}function Hd(e,t,r,n){fT(e.x,t.x,r.x,n?n.originX:void 0),fT(e.y,t.y,r.y,n?n.originY:void 0)}function hT(e,t,r){e.min=r.min+t.min,e.max=e.min+ln(t)}function aie(e,t,r){hT(e.x,t.x,r.x),hT(e.y,t.y,r.y)}function pT(e,t,r){e.min=t.min-r.min,e.max=e.min+ln(t)}function Yd(e,t,r){pT(e.x,t.x,r.x),pT(e.y,t.y,r.y)}function ts(e){return[e("x"),e("y")]}const j4=({current:e})=>e?e.ownerDocument.defaultView:null,mT=(e,t)=>Math.abs(e-t);function lie(e,t){const r=mT(e.x,t.x),n=mT(e.y,t.y);return Math.sqrt(r**2+n**2)}class N4{constructor(t,r,{transformPagePoint:n,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Ob(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=lie(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!g)return;const{point:m}=h,{timestamp:y}=Rr;this.history.push({...m,timestamp:y});const{onStart:v,onMove:b}=this.handlers;p||(v&&v(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Pb(p,this.transformPagePoint),Dt.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:g,onSessionEnd:m,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Ob(h.type==="pointercancel"?this.lastMoveEventInfo:Pb(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,v),m&&m(h,v)},!gS(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=s||window;const a=sh(t),l=Pb(a,this.transformPagePoint),{point:c}=l,{timestamp:d}=Rr;this.history=[{...c,timestamp:d}];const{onSessionStart:f}=r;f&&f(t,Ob(l,this.history)),this.removeListeners=th(Kd(this.contextWindow,"pointermove",this.handlePointerMove),Kd(this.contextWindow,"pointerup",this.handlePointerUp),Kd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),da(this.updatePoint)}}function Pb(e,t){return t?{point:t(e.point)}:e}function gT(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ob({point:e},t){return{point:e,delta:gT(e,k4(t)),offset:gT(e,cie(t)),velocity:uie(t,.1)}}function cie(e){return e[0]}function k4(e){return e[e.length-1]}function uie(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=k4(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>Us(t)));)r--;if(!n)return{x:0,y:0};const i=gi(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function die(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?zt(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?zt(r,e,n.max):Math.min(e,r)),e}function yT(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function fie(e,{top:t,left:r,bottom:n,right:s}){return{x:yT(e.x,r,s),y:yT(e.y,t,n)}}function vT(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function hie(e,t){return{x:vT(e.x,t.x),y:vT(e.y,t.y)}}function pie(e,t){let r=.5;const n=ln(e),s=ln(t);return s>n?r=yf(t.min,t.max-n,e.min):n>s&&(r=yf(e.min,e.max-s,t.min)),ao(0,1,r)}function mie(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const Ux=.35;function gie(e=Ux){return e===!1?e=0:e===!0&&(e=Ux),{x:bT(e,"left","right"),y:bT(e,"top","bottom")}}function bT(e,t,r){return{min:xT(e,t),max:xT(e,r)}}function xT(e,t){return typeof e=="number"?e:e[t]||0}const yie=new WeakMap;class vie{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ht(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(sh(f).point)},o=(f,h)=>{const{drag:p,dragPropagation:g,onDragStart:m}=this.getProps();if(p&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Tne(p),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ts(v=>{let b=this.getAxisMotionValue(v).get()||0;if(yi.test(b)){const{projection:x}=this.visualElement;if(x&&x.layout){const S=x.layout.layoutBox[v];S&&(b=ln(S)*(parseFloat(b)/100))}}this.originPoint[v]=b}),m&&Dt.postRender(()=>m(f,h)),Bx(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:m,onDrag:y}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:v}=h;if(g&&this.currentDirection===null){this.currentDirection=bie(v),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",h.point,v),this.updateAxis("y",h.point,v),this.visualElement.render(),y&&y(f,h)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>ts(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new N4(t,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:n,contextWindow:j4(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,s=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!n)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Dt.postRender(()=>a(n,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!mp(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=die(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&Nc(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=fie(n.layoutBox,t):this.constraints=!1,this.elastic=gie(r),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&ts(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=mie(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Nc(t))return!1;const n=t.current;lo(n!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");const{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=xse(n,s.root,this.visualElement.getTransformPagePoint());let o=hie(s.layout.layoutBox,i);if(r){const a=r(yse(o));this.hasMutatedConstraints=!!a,a&&(o=u4(a))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=ts(d=>{if(!mp(d,r,this.currentDirection))return;let f=l&&l[d]||{};o&&(f={min:0,max:0});const h=s?200:1e6,p=s?40:1e7,g={type:"inertia",velocity:n?t[d]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,g)});return Promise.all(c).then(a)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return Bx(this.visualElement,t),n.start(jS(t,n,0,r,this.visualElement,!1))}stopAnimation(){ts(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ts(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){ts(r=>{const{drag:n}=this.getProps();if(!mp(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[r];i.set(t[r]-zt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Nc(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ts(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=pie({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),ts(o=>{if(!mp(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(zt(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;yie.set(this.visualElement,this);const t=this.visualElement.current,r=Kd(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();Nc(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Dt.read(n);const o=_f(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(ts(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Ux,dragMomentum:a=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function mp(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function bie(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class xie extends ba{constructor(t){super(t),this.removeGroupControls=ds,this.removeListeners=ds,this.controls=new vie(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ds}unmount(){this.removeGroupControls(),this.removeListeners()}}const wT=e=>(t,r)=>{e&&Dt.postRender(()=>e(t,r))};class wie extends ba{constructor(){super(...arguments),this.removePointerDownListener=ds}onPointerDown(t){this.session=new N4(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:j4(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:wT(t),onStart:wT(r),onMove:n,onEnd:(i,o)=>{delete this.session,s&&Dt.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Kd(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Jp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function _T(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const fd={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Fe.test(e))e=parseFloat(e);else return e;const r=_T(e,t.target.x),n=_T(e,t.target.y);return`${r}% ${n}%`}},_ie={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=fa.parse(e);if(s.length>5)return n;const i=fa.createTransformer(e),o=typeof s[0]!="number"?1:0,a=r.x.scale*t.x,l=r.y.scale*t.y;s[0+o]/=a,s[1+o]/=l;const c=zt(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};let Db=!1;class Sie extends w.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=t;Wne(Eie),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),Db&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Jp.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,{projection:o}=n;return o&&(o.isPresent=i,Db=!0,s||t.layoutDependency!==r||r===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Dt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),mS.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;Db=!0,s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function C4(e){const[t,r]=Lne(),n=w.useContext(oL);return u.jsx(Sie,{...e,layoutGroup:n,switchLayoutGroup:w.useContext(l4),isPresent:t,safeToRemove:r})}const Eie={borderRadius:{...fd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:fd,borderTopRightRadius:fd,borderBottomLeftRadius:fd,borderBottomRightRadius:fd,boxShadow:_ie};function jie(e,t,r){const n=Zr(e)?e:nu(e);return n.start(jS("",n,t,r)),n.animation}const Nie=(e,t)=>e.depth-t.depth;class kie{constructor(){this.children=[],this.isDirty=!1}add(t){Z_(this.children,t),this.isDirty=!0}remove(t){X_(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Nie),this.isDirty=!1,this.children.forEach(t)}}function Cie(e,t){const r=bn.now(),n=({timestamp:s})=>{const i=s-r;i>=t&&(da(n),e(i-t))};return Dt.setup(n,!0),()=>da(n)}const T4=["TopLeft","TopRight","BottomLeft","BottomRight"],Tie=T4.length,ST=e=>typeof e=="string"?parseFloat(e):e,ET=e=>typeof e=="number"||Fe.test(e);function Aie(e,t,r,n,s,i){s?(e.opacity=zt(0,r.opacity??1,Pie(n)),e.opacityExit=zt(t.opacity??1,0,Oie(n))):i&&(e.opacity=zt(t.opacity??1,r.opacity??1,n));for(let o=0;o<Tie;o++){const a=`border${T4[o]}Radius`;let l=jT(t,a),c=jT(r,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||ET(l)===ET(c)?(e[a]=Math.max(zt(ST(l),ST(c),n),0),(yi.test(c)||yi.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||r.rotate)&&(e.rotate=zt(t.rotate||0,r.rotate||0,n))}function jT(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Pie=A4(0,.5,yL),Oie=A4(.5,.95,ds);function A4(e,t,r){return n=>n<e?0:n>t?1:r(yf(e,t,n))}function NT(e,t){e.min=t.min,e.max=t.max}function Zn(e,t){NT(e.x,t.x),NT(e.y,t.y)}function kT(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function CT(e,t,r,n,s){return e-=t,e=Am(e,1/r,n),s!==void 0&&(e=Am(e,1/s,n)),e}function Die(e,t=0,r=1,n=.5,s,i=e,o=e){if(yi.test(t)&&(t=parseFloat(t),t=zt(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=zt(i.min,i.max,n);e===i&&(a-=t),e.min=CT(e.min,t,r,a,s),e.max=CT(e.max,t,r,a,s)}function TT(e,t,[r,n,s],i,o){Die(e,t[r],t[n],t[s],t.scale,i,o)}const $ie=["x","scaleX","originX"],Rie=["y","scaleY","originY"];function AT(e,t,r,n){TT(e.x,t,$ie,r?r.x:void 0,n?n.x:void 0),TT(e.y,t,Rie,r?r.y:void 0,n?n.y:void 0)}function PT(e){return e.translate===0&&e.scale===1}function P4(e){return PT(e.x)&&PT(e.y)}function OT(e,t){return e.min===t.min&&e.max===t.max}function Iie(e,t){return OT(e.x,t.x)&&OT(e.y,t.y)}function DT(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function O4(e,t){return DT(e.x,t.x)&&DT(e.y,t.y)}function $T(e){return ln(e.x)/ln(e.y)}function RT(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Mie{constructor(){this.members=[]}add(t){Z_(this.members,t),t.scheduleRender()}remove(t){if(X_(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Lie(e,t,r){let n="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(r==null?void 0:r.z)||0;if((s||i||o)&&(n=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:c,rotate:d,rotateX:f,rotateY:h,skewX:p,skewY:g}=r;c&&(n=`perspective(${c}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),p&&(n+=`skewX(${p}deg) `),g&&(n+=`skewY(${g}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(n+=`scale(${a}, ${l})`),n||"none"}const $b=["","X","Y","Z"],Fie=1e3;let Bie=0;function Rb(e,t,r,n){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),n&&(n[e]=0))}function D4(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=v4(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Dt,!(s||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&D4(n)}function $4({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=Bie++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(qie),this.nodes.forEach(Hie),this.nodes.forEach(Yie),this.nodes.forEach(Vie)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new kie)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Q_),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=GL(o)&&!Rne(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let d,f=0;const h=()=>this.root.updateBlockedByResize=!1;Dt.read(()=>{f=window.innerWidth}),e(o,()=>{const p=window.innerWidth;p!==f&&(f=p,this.root.updateBlockedByResize=!0,d&&d(),d=Cie(h,250),Jp.hasAnimatedSinceResize&&(Jp.hasAnimatedSinceResize=!1,this.nodes.forEach(LT)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||c.getDefaultTransition()||Qie,{onLayoutAnimationStart:m,onLayoutAnimationComplete:y}=c.getProps(),v=!this.targetLayout||!O4(this.targetLayout,p),b=!f&&h;if(this.options.layoutRoot||this.resumeFrom||b||f&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const x={...hS(g,"layout"),onPlay:m,onComplete:y};(c.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x),this.setAnimationOrigin(d,b)}else f||LT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),da(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Gie),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&D4(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(IT);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(MT);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Kie),this.nodes.forEach(zie),this.nodes.forEach(Uie)):this.nodes.forEach(MT),this.clearAllSnapshots();const a=bn.now();Rr.delta=ao(0,1e3/60,a-Rr.timestamp),Rr.timestamp=a,Rr.isProcessing=!0,Sb.update.process(Rr),Sb.preRender.process(Rr),Sb.render.process(Rr),Rr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,mS.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Wie),this.sharedNodes.forEach(Zie)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Dt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Dt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ln(this.snapshot.measuredBox.x)&&!ln(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ht(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!P4(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||za(this.latestValues)||d)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),eoe(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return Ht();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(toe))){const{scroll:d}=this.root;d&&(kc(a.x,d.offset.x),kc(a.y,d.offset.y))}return a}removeElementScroll(o){var l;const a=Ht();if(Zn(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Zn(a,o),kc(a.x,f.offset.x),kc(a.y,f.offset.y))}return a}applyTransform(o,a=!1){const l=Ht();Zn(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Cc(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),za(d.latestValues)&&Cc(l,d.latestValues)}return za(this.latestValues)&&Cc(l,this.latestValues),l}removeTransform(o){const a=Ht();Zn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!za(c.latestValues))continue;Ix(c.latestValues)&&c.updateSnapshot();const d=Ht(),f=c.measurePageBox();Zn(d,f),AT(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return za(this.latestValues)&&AT(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Rr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var h;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=Rr.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ht(),this.relativeTargetOrigin=Ht(),Yd(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ht(),this.targetWithTransforms=Ht()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),aie(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zn(this.target,this.layout.layoutBox),f4(this.target,this.targetDelta)):Zn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ht(),this.relativeTargetOrigin=Ht(),Yd(this.relativeTargetOrigin,this.target,p.target),Zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Ix(this.parent.latestValues)||d4(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var g;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Rr.timestamp&&(l=!1),l)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;Zn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;bse(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ht());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(kT(this.prevProjectionDelta.x,this.projectionDelta.x),kT(this.prevProjectionDelta.y,this.projectionDelta.y)),Hd(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!RT(this.projectionDelta.x,this.prevProjectionDelta.x)||!RT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Tc(),this.projectionDelta=Tc(),this.projectionDeltaWithTransform=Tc()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},f=Tc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=Ht(),p=l?l.source:void 0,g=this.layout?this.layout.source:void 0,m=p!==g,y=this.getStack(),v=!y||y.members.length<=1,b=!!(m&&!v&&this.options.crossfade===!0&&!this.path.some(Jie));this.animationProgress=0;let x;this.mixTargetDelta=S=>{const _=S/1e3;FT(f.x,o.x,_),FT(f.y,o.y,_),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Yd(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Xie(this.relativeTarget,this.relativeTargetOrigin,h,_),x&&Iie(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Ht()),Zn(x,this.relativeTarget)),m&&(this.animationValues=d,Aie(d,c,this.latestValues,_,b,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(da(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Dt.update(()=>{Jp.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=nu(0)),this.currentAnimation=jie(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Fie),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&R4(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ht();const f=ln(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const h=ln(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}Zn(a,l),Cc(a,d),Hd(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Mie),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Rb("z",o,c,this.animationValues);for(let d=0;d<$b.length;d++)Rb(`rotate${$b[d]}`,o,c,this.animationValues),Rb(`skew${$b[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Xp(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Xp(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!za(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=c.animationValues||c.latestValues;this.applyTransformsToTarget();let f=Lie(this.projectionDeltaWithTransform,this.treeScale,d);l&&(f=l(d,f)),o.transform=f;const{x:h,y:p}=this.projectionDelta;o.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,c.animationValues?o.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const g in wf){if(d[g]===void 0)continue;const{correct:m,applyTo:y,isCSSVariable:v}=wf[g],b=f==="none"?d[g]:m(d[g],c);if(y){const x=y.length;for(let S=0;S<x;S++)o[y[S]]=b}else v?this.options.visualElement.renderState.vars[g]=b:o[g]=b}this.options.layoutId&&(o.pointerEvents=c===this?Xp(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(IT),this.root.sharedNodes.clear()}}}function zie(e){e.updateLayout()}function Uie(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?ts(f=>{const h=o?t.measuredBox[f]:t.layoutBox[f],p=ln(h);h.min=n[f].min,h.max=h.min+p}):R4(i,t.layoutBox,n)&&ts(f=>{const h=o?t.measuredBox[f]:t.layoutBox[f],p=ln(n[f]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+p)});const a=Tc();Hd(a,n,t.layoutBox);const l=Tc();o?Hd(l,e.applyTransform(s,!0),t.measuredBox):Hd(l,n,t.layoutBox);const c=!P4(a);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const g=Ht();Yd(g,t.layoutBox,h.layoutBox);const m=Ht();Yd(m,n,p.layoutBox),O4(g,m)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=g,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function qie(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Vie(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Wie(e){e.clearSnapshot()}function IT(e){e.clearMeasurements()}function MT(e){e.isLayoutDirty=!1}function Kie(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function LT(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Hie(e){e.resolveTargetDelta()}function Yie(e){e.calcProjection()}function Gie(e){e.resetSkewAndRotation()}function Zie(e){e.removeLeadSnapshot()}function FT(e,t,r){e.translate=zt(t.translate,0,r),e.scale=zt(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function BT(e,t,r,n){e.min=zt(t.min,r.min,n),e.max=zt(t.max,r.max,n)}function Xie(e,t,r,n){BT(e.x,t.x,r.x,n),BT(e.y,t.y,r.y,n)}function Jie(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Qie={duration:.45,ease:[.4,0,.1,1]},zT=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),UT=zT("applewebkit/")&&!zT("chrome/")?Math.round:ds;function qT(e){e.min=UT(e.min),e.max=UT(e.max)}function eoe(e){qT(e.x),qT(e.y)}function R4(e,t,r){return e==="position"||e==="preserve-aspect"&&!oie($T(t),$T(r),.2)}function toe(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const roe=$4({attachResizeListener:(e,t)=>_f(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ib={current:void 0},I4=$4({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ib.current){const e=new roe({});e.mount(window),e.setOptions({layoutScroll:!0}),Ib.current=e}return Ib.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),noe={pan:{Feature:wie},drag:{Feature:xie,ProjectionNode:I4,MeasureLayout:C4}};function VT(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,i=n[s];i&&Dt.postRender(()=>i(t,sh(t)))}class soe extends ba{mount(){const{current:t}=this.node;t&&(this.unmount=Ane(t,(r,n)=>(VT(this.node,n,"Start"),s=>VT(this.node,s,"End"))))}unmount(){}}class ioe extends ba{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=th(_f(this.node.current,"focus",()=>this.onFocus()),_f(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function WT(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),i=n[s];i&&Dt.postRender(()=>i(t,sh(t)))}class ooe extends ba{mount(){const{current:t}=this.node;t&&(this.unmount=$ne(t,(r,n)=>(WT(this.node,n,"Start"),(s,{success:i})=>WT(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const qx=new WeakMap,Mb=new WeakMap,aoe=e=>{const t=qx.get(e.target);t&&t(e)},loe=e=>{e.forEach(aoe)};function coe({root:e,...t}){const r=e||document;Mb.has(r)||Mb.set(r,{});const n=Mb.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(loe,{root:e,...t})),n[s]}function uoe(e,t,r){const n=coe(t);return qx.set(e,r),n.observe(e),()=>{qx.delete(e),n.unobserve(e)}}const doe={some:0,all:1};class foe extends ba{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:doe[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=c?d:f;h&&h(l)};return uoe(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(hoe(t,r))&&this.startObserver()}unmount(){}}function hoe({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const poe={inView:{Feature:foe},tap:{Feature:ooe},focus:{Feature:ioe},hover:{Feature:soe}},moe={layout:{ProjectionNode:I4,MeasureLayout:C4}},goe={...eie,...poe,...noe,...moe},Lb=gse(goe,Tse),yoe=()=>{const{isAuthenticated:e}=J.useAuth(),[t,r]=w.useState(null),[n,s]=w.useState(!1),i=[{id:"monthly",name:"Monthly Membership",price:9.99,interval:"month",features:["Access to all released content","New chapters as they release","Exclusive behind-the-scenes","Early character reveals","Community discussions","Author notes and insights"],paypalPlanId:"monthly_plan_id",highlight:"Perfect for new readers"},{id:"yearly",name:"Annual Membership",price:99.99,interval:"year",features:["Everything in Monthly plan","2 months free (17% savings)","Priority content access","Exclusive annual content","Direct Q&A with author","Member-only events"],popular:!0,paypalPlanId:"yearly_plan_id",highlight:"Best value - Save $19.89"}],o=c=>{if(!e){window.location.href="/login?returnTo=/subscribe";return}r(i.find(d=>d.id===c)||null),s(!0)},a=()=>s(!1),l=()=>s(!1);return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx("section",{className:"relative bg-gradient-to-br from-primary/10 to-background",children:u.jsx("div",{className:"container mx-auto px-4 py-24 md:py-32",children:u.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[u.jsxs(Lb.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[u.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-foreground mb-6 leading-tight",children:"Unlock the Full Zoroasterverse Experience"}),u.jsx("p",{className:"text-xl md:text-2xl text-muted-foreground mb-8 max-w-3xl mx-auto",children:"Join our community of readers and get exclusive access to the complete story as it unfolds."})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mt-10 w-full max-w-6xl mx-auto",children:i.map((c,d)=>u.jsxs(Lb.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:d*.1+.3,duration:.5},className:`relative w-full ${c.popular?"z-10 transform md:-translate-y-4":""}`,children:[c.popular&&u.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 z-20",children:u.jsxs("div",{className:"bg-gradient-to-r from-amber-400 to-amber-600 text-amber-900 px-4 py-1.5 rounded-full text-xs font-bold flex items-center gap-1.5 shadow-lg shadow-amber-500/20",children:[u.jsx(Jc,{className:"w-3.5 h-3.5"}),u.jsx("span",{children:"MOST POPULAR"})]})}),u.jsxs("div",{className:`bg-card border rounded-xl p-6 transition-all duration-300 ${c.popular?"border-amber-500/30 shadow-xl shadow-amber-500/10":"border-border hover:border-primary/50 hover:shadow-lg"}`,children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("h3",{className:"text-2xl font-bold text-foreground mb-2",children:c.name}),c.highlight&&u.jsx("p",{className:"text-sm text-primary font-medium mb-3",children:c.highlight}),u.jsxs("div",{className:"mb-2",children:[u.jsxs("span",{className:"text-4xl font-bold bg-gradient-to-r from-primary to-primary/80 bg-clip-text text-transparent",children:["$",c.price]}),u.jsxs("span",{className:"text-muted-foreground text-lg",children:["/",c.interval]})]}),c.interval==="year"&&u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Only $",(c.price/12).toFixed(2)," per month"]})]}),u.jsx("ul",{className:"space-y-3 mb-8",children:c.features.map((f,h)=>u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx(Gi,{className:`flex-shrink-0 mt-0.5 ${c.popular?"text-amber-500":"text-primary"}`,size:18}),u.jsx("span",{className:"text-muted-foreground text-sm",children:f})]},h))}),u.jsxs("button",{onClick:()=>o(c.id),className:`w-full py-3 px-6 rounded-lg font-medium transition-all duration-300 flex items-center justify-center gap-2 ${c.popular?"bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-white shadow-lg shadow-amber-500/20":"bg-primary/10 hover:bg-primary/20 text-primary border border-primary/20"}`,children:["Get Started",u.jsx(zd,{className:"w-4 h-4"})]})]})]},c.id))})]})})}),u.jsx("section",{className:"py-16 md:py-24 bg-card/30",children:u.jsxs("div",{className:"container mx-auto px-4",children:[u.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-16",children:"What You'll Get"}),u.jsx("div",{className:"grid md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:[{icon:u.jsx(Xc,{className:"w-8 h-8 text-primary"}),title:"Exclusive Content",description:"Access to all chapters, including early releases and subscriber-only content."},{icon:u.jsx(c_,{className:"w-8 h-8 text-primary"}),title:"Regular Updates",description:"New chapters delivered on a consistent schedule. No waiting for complete books!"},{icon:u.jsx(QV,{className:"w-8 h-8 text-primary"}),title:"Early Access",description:"Be the first to experience new chapters and special releases."},{icon:u.jsx(LV,{className:"w-8 h-8 text-primary"}),title:"Community",description:"Join discussions, share theories, and connect with other readers."},{icon:u.jsx(Kg,{className:"w-8 h-8 text-primary"}),title:"Behind the Scenes",description:"Exclusive insights into the creative process and world-building."},{icon:u.jsx(Gi,{className:"w-8 h-8 text-primary"}),title:"Ad-Free Experience",description:"Enjoy your reading without any distractions or interruptions."}].map((c,d)=>u.jsxs(Lb.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:d*.1,duration:.5},className:"bg-background/50 backdrop-blur-sm p-6 rounded-xl border border-border hover:border-primary/30 transition-colors",children:[u.jsx("div",{className:"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center mb-4",children:c.icon}),u.jsx("h3",{className:"text-xl font-semibold mb-2",children:c.title}),u.jsx("p",{className:"text-muted-foreground text-sm",children:c.description})]},d))})]})}),u.jsx("section",{className:"py-16 bg-gradient-to-r from-primary/5 to-primary/10",children:u.jsxs("div",{className:"container mx-auto px-4 text-center",children:[u.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Ready to Begin Your Journey?"}),u.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto mb-8",children:"Join thousands of readers who are already exploring the Zoroasterverse."}),u.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[u.jsxs("button",{onClick:()=>o("yearly"),className:"px-8 py-3 bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-white font-medium rounded-lg shadow-lg shadow-amber-500/20 transition-all flex items-center gap-2",children:["Start Reading Now",u.jsx(zd,{className:"w-4 h-4"})]}),u.jsx("button",{className:"px-6 py-3 border border-border hover:border-primary/50 hover:bg-background/50 text-foreground font-medium rounded-lg transition-all",children:"Learn More"})]})]})}),n&&t&&u.jsx(H_,{product:{id:t.id,name:t.name,price:t.price*100,currency:"usd",interval:t.interval,is_subscription:!0,trial_period_days:void 0},onCancel:a,onSuccess:l})]})},voe=()=>{const[e]=Je.useSearchParams(),[t,r]=w.useState(null),[n,s]=w.useState(!0);return w.useEffect(()=>{const i=e.get("session_id");r(i),s(!1)},[e]),n?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-gray-900 flex items-center justify-center",children:u.jsx("div",{className:"text-white text-xl",children:"Loading..."})}):u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-gray-900",children:[u.jsxs("div",{className:"relative overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-black opacity-50"}),u.jsx("div",{className:"relative z-10 container mx-auto px-4 py-20 text-center",children:u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsx("div",{className:"w-24 h-24 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-8",children:u.jsx(Gi,{className:"w-12 h-12 text-white"})}),u.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-white mb-6",children:"Welcome to the Zoroasterverse!"}),u.jsx("p",{className:"text-xl md:text-2xl text-gray-300 mb-8 leading-relaxed",children:"Your subscription is now active. You're ready to dive into the world of episodic storytelling and join our community of readers."}),t&&u.jsx("div",{className:"bg-gray-800 bg-opacity-50 rounded-lg p-4 mb-8 inline-block",children:u.jsxs("p",{className:"text-gray-300 text-sm",children:["Session ID: ",u.jsx("span",{className:"font-mono text-green-400",children:t})]})})]})})]}),u.jsx("div",{className:"py-20 bg-gray-800",children:u.jsxs("div",{className:"container mx-auto px-4",children:[u.jsx("h2",{className:"text-4xl font-bold text-white text-center mb-16",children:"What Happens Next?"}),u.jsxs("div",{className:"grid md:grid-cols-3 gap-8 max-w-5xl mx-auto",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-20 h-20 bg-purple-600 rounded-full flex items-center justify-center mx-auto mb-6",children:u.jsx(Xc,{className:"w-10 h-10 text-white"})}),u.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Access Your Library"}),u.jsx("p",{className:"text-gray-300",children:"Visit your library to read all available chapters and exclusive content."})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-20 h-20 bg-purple-600 rounded-full flex items-center justify-center mx-auto mb-6",children:u.jsx(Kg,{className:"w-10 h-10 text-white"})}),u.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Stay Updated"}),u.jsx("p",{className:"text-gray-300",children:"You'll receive notifications when new chapters are ready to read."})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-20 h-20 bg-purple-600 rounded-full flex items-center justify-center mx-auto mb-6",children:u.jsx(pm,{className:"w-10 h-10 text-white"})}),u.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Join the Community"}),u.jsx("p",{className:"text-gray-300",children:"Connect with fellow readers and discuss theories in our community."})]})]})]})}),u.jsx("div",{className:"py-20 bg-gray-900",children:u.jsxs("div",{className:"container mx-auto px-4",children:[u.jsx("h2",{className:"text-4xl font-bold text-white text-center mb-16",children:"Get Started Right Away"}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[u.jsx(Je.Link,{to:"/library",className:"bg-purple-600 hover:bg-purple-700 text-white p-8 rounded-2xl transition-all duration-300 hover:scale-105 group",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Visit Your Library"}),u.jsx("p",{className:"text-purple-100 mb-6",children:"Access all available chapters and start reading immediately."})]}),u.jsx(zd,{className:"w-8 h-8 group-hover:translate-x-2 transition-transform"})]})}),u.jsx(Je.Link,{to:"/account",className:"bg-gray-700 hover:bg-gray-600 text-white p-8 rounded-2xl transition-all duration-300 hover:scale-105 group",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Manage Subscription"}),u.jsx("p",{className:"text-gray-300 mb-6",children:"View your subscription details and manage your account."})]}),u.jsx(zd,{className:"w-8 h-8 group-hover:translate-x-2 transition-transform"})]})})]})]})}),u.jsx("div",{className:"py-20 bg-gradient-to-r from-purple-900 to-blue-900",children:u.jsx("div",{className:"container mx-auto px-4 text-center",children:u.jsxs("div",{className:"max-w-3xl mx-auto",children:[u.jsx("div",{className:"w-20 h-20 bg-yellow-500 rounded-full flex items-center justify-center mx-auto mb-6",children:u.jsx(Jc,{className:"w-10 h-10 text-white"})}),u.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Welcome Bonus Unlocked!"}),u.jsx("p",{className:"text-xl text-gray-300 mb-8",children:"As a new subscriber, you now have access to exclusive content including:"}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-6 text-left mb-8",children:[u.jsxs("div",{className:"bg-white bg-opacity-10 rounded-lg p-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Behind the Scenes"}),u.jsx("p",{className:"text-gray-300",children:"Author notes, character development insights, and world-building details."})]}),u.jsxs("div",{className:"bg-white bg-opacity-10 rounded-lg p-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Community Access"}),u.jsx("p",{className:"text-gray-300",children:"Join discussions, share theories, and connect with fellow readers."})]})]}),u.jsxs(Je.Link,{to:"/library",className:"bg-yellow-500 hover:bg-yellow-600 text-gray-900 px-8 py-4 rounded-xl text-xl font-bold transition-all duration-300 hover:scale-105 shadow-lg inline-flex items-center gap-2",children:["Explore Your Library",u.jsx(zd,{className:"w-6 h-6"})]})]})})}),u.jsx("div",{className:"py-16 bg-gray-800",children:u.jsxs("div",{className:"container mx-auto px-4 text-center",children:[u.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Questions or Need Help?"}),u.jsx("p",{className:"text-gray-300 mb-6",children:"Our support team is here to help you get the most out of your subscription."}),u.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[u.jsx(Je.Link,{to:"/account",className:"bg-gray-700 hover:bg-gray-600 text-white px-6 py-3 rounded-lg transition-colors",children:"Contact Support"}),u.jsx(Je.Link,{to:"/",className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg transition-colors",children:"Return Home"})]})]})})]})},boe=e=>e.resultType==="page",xoe=e=>e.resultType==="folder";function woe({page:e,onEdit:t}){var z,U,G;const{folderSlug:r,pageSlug:n}=Je.useParams(),[s,i]=w.useState([]),[o,a]=w.useState([]),[l,c]=w.useState(null),[d,f]=w.useState(""),[h,p]=w.useState([]),[g,m]=w.useState(!1),[y,v]=w.useState(!0),[b,x]=w.useState(!1),[S,_]=w.useState(!0),[N,k]=w.useState([]),C=w.useRef(null),A=w.useRef(null);e.excerpt;const I=async q=>{if(!q.trim()){p([]);return}try{m(!0);const{data:Z,error:oe}=await J.supabase.from("wiki_pages").select(`
          *,
          content, seo_title, seo_description, seo_keywords, sections,
          category:wiki_categories(*),
          user:profiles(*)
        `).or(`title.ilike.%${q}%,excerpt.ilike.%${q}%`);if(oe)throw oe;const $=(Z||[]).map(B=>{let X=null;B.user&&typeof B.user=="object"&&!("error"in B.user)&&(X=B.user);let ae=null;return B.category&&typeof B.category=="object"&&!("error"in B.category)&&(ae=B.category),{...B,resultType:"page",sections:B.sections||[],content:B.content||"",excerpt:B.excerpt||"",is_published:B.is_published??!0,category_id:B.category_id??null,folder_id:B.folder_id??null,created_at:B.created_at||new Date().toISOString(),updated_at:new Date().toISOString(),created_by:B.created_by||"",view_count:B.view_count||0,slug:B.slug||"",seo_title:B.seo_title||null,seo_description:B.seo_description||null,seo_keywords:B.seo_keywords||[],category:ae,user:X}});p($)}catch(Z){console.error("Search error:",Z),qe.error("Failed to perform search")}finally{m(!1)}};w.useEffect(()=>{(async()=>{try{_(!0);const{data:Z,error:oe}=await J.supabase.from("wiki_pages").select("*, content, seo_title, seo_description, seo_keywords, sections, category:wiki_categories(*), user:profiles(*)").order("title");if(oe)throw oe;const $=(Z||[]).map(B=>{let X=null;B.user&&typeof B.user=="object"&&!("error"in B.user)&&(X=B.user);let ae=null;return B.category&&typeof B.category=="object"&&!("error"in B.category)&&(ae=B.category),{...B,sections:B.sections||[],content:B.content||"",seo_title:B.seo_title||"",seo_description:B.seo_description||"",seo_keywords:B.seo_keywords||[],category:ae,user:X,resultType:"page"}});i($)}catch(Z){console.error("Error fetching data:",Z),qe.error("Failed to load wiki pages")}finally{_(!1)}})()},[n]);const M=q=>{const Z=new Map,oe=[];return q.forEach($=>{Z.set($.id,{...$,children:[]})}),Z.forEach($=>{if($.parent_id&&Z.has($.parent_id)){const B=Z.get($.parent_id);B&&(B.children=[...B.children||[],$])}else oe.push($)}),oe},L=q=>{var Z,oe,$,B,X,ae,W,K,te,re,ue;if(!q)return null;switch(q.type){case"heading_1":case"heading_2":case"heading_3":const H=`h${parseInt(q.type.split("_")[1])}`;return u.jsx(H,{id:`heading-${q.id}`,className:"mt-6 mb-4 font-semibold",children:(Z=q.content)==null?void 0:Z.text});case"paragraph":return u.jsx("p",{className:"mb-4 leading-relaxed",children:(oe=q.content)==null?void 0:oe.text});case"bullet_list":return u.jsx("ul",{className:"list-disc pl-6 mb-4 space-y-1",children:(B=($=q.content)==null?void 0:$.items)==null?void 0:B.map((ie,O)=>u.jsx("li",{children:ie},O))});case"ordered_list":return u.jsx("ol",{className:"list-decimal pl-6 mb-4 space-y-1",children:(ae=(X=q.content)==null?void 0:X.items)==null?void 0:ae.map((ie,O)=>u.jsx("li",{children:ie},O))});case"quote":return u.jsx("blockquote",{className:"border-l-4 border-gray-300 pl-4 py-1 my-4 text-gray-600 italic",children:(W=q.content)==null?void 0:W.text});case"code":return u.jsx("pre",{className:"bg-gray-100 p-4 rounded-md my-4 overflow-x-auto",children:u.jsx("code",{children:(K=q.content)==null?void 0:K.code})});case"image":return u.jsxs("div",{className:"my-6",children:[u.jsx("img",{src:(te=q.content)==null?void 0:te.url,alt:((re=q.content)==null?void 0:re.alt)||"",className:"max-w-full h-auto rounded-md"}),((ue=q.content)==null?void 0:ue.caption)&&u.jsx("p",{className:"text-sm text-gray-500 text-center mt-2",children:q.content.caption})]});default:return null}},D=(q,Z=0)=>q.map(oe=>u.jsxs("div",{className:"pl-2",children:[u.jsxs("div",{className:"flex items-center py-1 px-2 rounded hover:bg-accent cursor-pointer",children:[u.jsx(cf,{size:16,className:"mr-1 text-muted-foreground"}),u.jsx(hm,{size:14,className:"mr-2 text-blue-500"}),u.jsx("span",{className:"text-sm",children:oe.name})]}),oe.children&&oe.children.length>0&&u.jsx("div",{className:"pl-4 border-l border-border ml-1",children:D(oe.children,Z+1)}),u.jsx("div",{className:"pl-6",children:s.filter($=>$.folder_id===oe.id).map($=>u.jsxs(Je.Link,{to:`/wiki/${oe.slug}/${$.slug}`,className:`flex items-center py-1 px-2 rounded text-sm ${n===$.slug?"bg-accent font-medium":"text-muted-foreground hover:bg-accent"}`,children:[u.jsx(fm,{size:12,className:"mr-2 text-gray-500"}),u.jsx("span",{className:"truncate",children:$.title})]},$.id))})]},oe.id));return w.useEffect(()=>{const q=async()=>{if(!d.trim()){p([]);return}m(!0);try{await I(d)}catch(oe){console.error("Search error:",oe),qe.error("Failed to perform search")}finally{m(!1)}};C.current!==null&&(window.clearTimeout(C.current),C.current=null);const Z=window.setTimeout(q,500);return C.current=Z,()=>{C.current!==null&&(window.clearTimeout(C.current),C.current=null)}},[d]),w.useEffect(()=>{f(""),p([])},[r,n]),e?u.jsxs("div",{className:"flex h-screen bg-background",children:[y&&u.jsxs("div",{className:"w-64 bg-card border-r border-border flex flex-col",children:[u.jsxs("div",{className:"p-4 border-b border-border",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h2",{className:"font-semibold flex items-center",children:[u.jsx(Xc,{size:16,className:"mr-2"}),"Wiki"]}),u.jsx(Qe,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>v(!1),children:u.jsx(la,{size:16})})]}),u.jsxs("div",{className:"relative",children:[u.jsx(Tl,{size:16,className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),u.jsx(as,{type:"search",placeholder:"Search wiki...",className:"w-full pl-8 h-8 text-sm",value:d,onChange:q=>f(q.target.value)})]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:S?u.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading..."}):D(M(o))}),d&&u.jsxs("div",{className:"mt-2 border-t border-border pt-2",children:[u.jsx("div",{className:"text-xs font-medium text-muted-foreground mb-2 px-2",children:g?"Searching...":`Found ${h.length} results`}),!g&&h.length===0?u.jsxs("div",{className:"text-xs text-muted-foreground px-2 py-1",children:['No results found for "',d,'"']}):u.jsx("div",{className:"space-y-1 max-h-60 overflow-y-auto",children:h.map(q=>u.jsx(Je.Link,{to:q.resultType==="page"?`/wiki/${q.folder_id?`${q.folder_id}/`:""}${q.slug}`:`/wiki/folder/${q.id}`,className:"flex items-center px-2 py-1.5 text-sm rounded hover:bg-accent",onClick:()=>f(""),children:boe(q)?u.jsxs("div",{className:"flex items-center",children:[u.jsx(fm,{className:"h-4 w-4 mr-2 text-gray-500"}),u.jsx("span",{children:q.title})]}):xoe(q)?u.jsxs("div",{className:"flex items-center",children:[u.jsx(hm,{className:"h-4 w-4 mr-2 text-yellow-500"}),u.jsx("span",{children:q.name})]}):null},`${q.resultType}-${q.id}`))})]})]}),u.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[u.jsxs("header",{className:"h-14 border-b border-border flex items-center px-4",children:[!y&&u.jsx(Qe,{variant:"ghost",size:"icon",className:"mr-2",onClick:()=>v(!0),children:u.jsx(ck,{size:18})}),u.jsx("div",{className:"flex-1",children:u.jsx("h1",{className:"font-semibold",children:(l==null?void 0:l.title)||"Welcome to the Wiki"})}),u.jsx(Qe,{variant:"ghost",size:"icon",onClick:()=>x(!b),children:u.jsx(ck,{size:18})})]}),u.jsx("main",{ref:A,className:"flex-1 overflow-y-auto p-6 max-w-4xl mx-auto w-full",children:l?u.jsxs("article",{className:"prose max-w-none",children:[(z=l.sections)==null?void 0:z.map(q=>u.jsx("div",{children:L(q)},q.id)),u.jsxs("div",{className:"mt-12 pt-6 border-t border-border text-sm text-muted-foreground",children:["Last updated: ",new Date(l.updated_at).toLocaleDateString()]})]}):u.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center text-muted-foreground",children:[u.jsx(Xc,{size:48,className:"mb-4 text-muted-foreground/50"}),u.jsx("h2",{className:"text-xl font-medium mb-2",children:"Welcome to the Wiki"}),u.jsx("p",{className:"max-w-md",children:"Select a page from the sidebar or create a new one to get started."})]})})]}),b&&u.jsxs("div",{className:"w-64 border-l border-border bg-card overflow-y-auto",children:[u.jsx("div",{className:"p-4 border-b border-border",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"font-medium",children:"Table of Contents"}),u.jsx(Qe,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>x(!1),children:u.jsx(la,{size:16})})]})}),u.jsx("div",{className:"p-4",children:N.length>0?u.jsx("nav",{className:"space-y-1",children:N.map((q,Z)=>u.jsx("a",{href:`#${q.id}`,className:`block py-1 text-sm ${q.level===1?"font-medium":"text-muted-foreground"} hover:text-foreground`,style:{marginLeft:`${(q.level-1)*8}px`},children:q.text},Z))}):u.jsx("p",{className:"text-sm text-muted-foreground",children:"No headings found"})})]}),u.jsxs("div",{className:"prose dark:prose-invert max-w-none",children:[u.jsx("h1",{children:e.title}),(U=e.sections)!=null&&U.length?u.jsx("div",{className:"space-y-6",children:(G=e.sections)==null?void 0:G.sort((q,Z)=>(q.order_index??0)-(Z.order_index??0)).map(q=>u.jsxs("div",{className:"section",children:[q.title&&u.jsx("h2",{className:"text-2xl font-semibold mb-2",children:q.title}),u.jsx("div",{className:"prose dark:prose-invert max-w-none",dangerouslySetInnerHTML:{__html:q.content||""}})]},q.id))}):u.jsx("div",{className:"prose dark:prose-invert max-w-none",dangerouslySetInnerHTML:{__html:e.excerpt||""}})]})]}):u.jsx("div",{children:"Loading..."})}const _oe=async()=>{const{data:e,error:t}=await J.supabase.from("characters").select("*").order("created_at",{ascending:!0});if(t)throw new Error(t.message);return e},Soe=()=>{const{data:e,isLoading:t,isError:r,error:n}=Me.useQuery({queryKey:["characters"],queryFn:_oe}),s=w.useRef(null);w.useRef({});const i=w.useRef([]);return w.useEffect(()=>{if(s.current){const o=s.current;for(let a=0;a<20;a++){const l=document.createElement("div");l.className="floating-dot",l.style.left=Math.random()*100+"%",l.style.top=Math.random()*100+"%",l.style.animationDelay=Math.random()*6+"s",l.style.animationDuration=4+Math.random()*4+"s",o.appendChild(l)}}},[]),w.useEffect(()=>{const o=new IntersectionObserver(a=>{a.forEach(l=>{l.isIntersecting&&l.target.classList.add("visible")})},{threshold:.2,rootMargin:"-50px"});return i.current.forEach(a=>{a&&o.observe(a)}),()=>{i.current.forEach(a=>{a&&o.unobserve(a)})}},[e]),w.useEffect(()=>{const o=()=>{var c;const a=window.pageYOffset,l=(c=s.current)==null?void 0:c.querySelectorAll(".floating-dot");l==null||l.forEach((d,f)=>{const h=.5+f%3*.2;d.style.transform=`translateY(${a*h}px) rotate(${a*.1}deg)`})};return window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)},[]),t?u.jsx("div",{className:"text-center py-8 text-text-light",children:"Loading characters..."}):r?u.jsxs("div",{className:"text-center py-8 text-red-400",children:["Error loading characters: ",n==null?void 0:n.message]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{ref:s,className:"floating-elements"}),u.jsx("section",{className:"hero-section",children:u.jsxs("div",{children:[u.jsx("h1",{className:"hero-title",children:"Meet the Characters"}),u.jsx("p",{className:"hero-subtitle",children:"Journey into the world of extraordinary souls"}),u.jsx("div",{className:"scroll-indicator",children:u.jsx("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})})]})}),e==null?void 0:e.map((o,a)=>{var l;return u.jsxs("section",{ref:c=>{i.current[a]=c},className:`character-section ${a%2===0,""}`,children:[u.jsx("div",{className:"character-silhouette",children:u.jsx("div",{className:"silhouette-container",children:o.image_url?u.jsxs(u.Fragment,{children:[u.jsx("img",{src:o.image_url,alt:o.name,className:"character-image"}),u.jsx("div",{className:"silhouette-overlay",style:{"--mask-image":`url(${o.silhouette_url||o.image_url})`}})]}):u.jsxs("div",{className:"upload-placeholder",children:[u.jsx("div",{className:"upload-icon",children:""}),u.jsx("div",{children:"No Image"})]})})}),u.jsxs("div",{className:"character-info",children:[u.jsx("h2",{className:"character-name",children:o.name}),u.jsx("p",{className:"character-title",children:o.title}),u.jsx("p",{className:"character-description",children:o.description}),u.jsx("div",{className:"character-traits",children:(l=o.traits)==null?void 0:l.map((c,d)=>u.jsx("span",{className:"trait",children:c},d))})]})]},o.id)})]})},Eoe=()=>u.jsx("div",{children:u.jsx("h1",{className:"text-3xl font-bold",children:"Locations & Factions"})}),joe=()=>u.jsx("div",{children:u.jsx("h1",{className:"text-3xl font-bold",children:"Glossary"})}),Noe=()=>u.jsx("div",{children:u.jsx("h1",{className:"text-3xl font-bold",children:"Reviews"})}),koe=async()=>{const{data:e,error:t}=await J.supabase.from("posts").select("*").eq("status","published").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e},Coe=()=>{const{data:e,isLoading:t,isError:r,error:n}=Me.useQuery({queryKey:["blogPosts"],queryFn:koe});return t?u.jsx("div",{className:"text-center py-8",children:"Loading blog posts..."}):r?u.jsxs("div",{className:"text-center py-8 text-red-500",children:["Error loading posts: ",n==null?void 0:n.message]}):u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-8",children:"Blog & News"}),e&&e.length>0?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(s=>u.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:u.jsxs("div",{className:"p-6",children:[u.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-2",children:s.title}),u.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Published on ",new Date(s.created_at).toLocaleDateString()]}),u.jsx("div",{className:"text-gray-700 leading-relaxed line-clamp-3",dangerouslySetInnerHTML:{__html:s.content}}),u.jsx(Je.Link,{to:`/blog/${s.slug}`,className:"mt-4 inline-block text-blue-600 hover:text-blue-800 font-medium",children:"Read More "})]})},s.id))}):u.jsxs("div",{className:"text-center py-12 text-gray-600",children:[u.jsx("p",{className:"text-xl mb-4",children:"No blog posts published yet."}),u.jsx("p",{children:"Check back soon for new content!"})]})]})},Toe=()=>u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-4xl font-bold",children:"404 - Not Found"}),u.jsx("p",{className:"mt-4",children:"Sorry, the page you are looking for does not exist."}),u.jsx(Je.Link,{to:"/",className:"mt-6 inline-block bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600",children:"Go to Home"})]}),Aoe=()=>{const e=()=>{localStorage.removeItem("isAuthenticated"),localStorage.removeItem("betaApplicationStatus"),window.location.href="/login"},t={title:"The Obsidian Gate - Issue 7",chaptersRead:5,totalChapters:10,readingWindowEnd:"August 30, 2025",feedbackWindowEnd:"September 7, 2025",launchDay:"September 15, 2025",downloadLink:"#"},r=[{id:1,description:"Read the Material",completed:!1},{id:2,description:"Submit Structured Feedback",completed:!1},{id:3,description:"Convert to Public Review",completed:!1}],n=[{name:"Beta Alumni",description:"Completed 1+ beta cycles"}],s=[{id:1,title:"New Feedback Form Available!",date:"August 20, 2025",content:"The feedback form for Issue 7 is now live. Please submit your thoughts by the deadline."},{id:2,title:"Reminder: Reading Window Ends Soon",date:"August 25, 2025",content:"Just a friendly reminder that the reading window for Issue 7 closes on August 30th."}];return u.jsxs("div",{className:"p-4",children:[u.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Welcome to the Beta Reader Portal!"}),u.jsx("p",{className:"mb-4",children:"This is your central hub for all active beta reading projects and resources."}),u.jsxs("div",{className:"bg-card shadow-md rounded-lg p-6 mb-6",children:[u.jsxs("h2",{className:"text-2xl font-semibold mb-4",children:["Current Beta Cycle: ",t.title]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Reading Window Ends:"})," ",t.readingWindowEnd]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Feedback Window Ends:"})," ",t.feedbackWindowEnd]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Launch Day:"})," ",t.launchDay]}),u.jsxs("p",{className:"mt-2",children:[u.jsx("strong",{children:"Your Progress:"})," Chapters Read ",t.chaptersRead,"/",t.totalChapters]}),u.jsx("a",{href:t.downloadLink,className:"mt-4 inline-block bg-primary hover:bg-primary-dark text-white font-bold py-2 px-4 rounded",children:"Download Material"})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Mandatory Tasks"}),u.jsx("ul",{className:"list-none",children:r.map(i=>u.jsxs("li",{className:"flex items-center mb-1",children:[u.jsx("input",{type:"checkbox",checked:i.completed,readOnly:!0,className:"mr-2"}),i.description]},i.id))}),u.jsx("a",{href:"/beta/feedback",className:"mt-4 inline-block bg-primary hover:bg-primary-dark text-white font-bold py-2 px-4 rounded",children:"Submit Feedback"})]})]})]}),u.jsxs("div",{className:"bg-card shadow-md rounded-lg p-6 mb-6",children:[u.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Announcements"}),s.length>0?u.jsx("ul",{children:s.map(i=>u.jsxs("li",{className:"mb-4 pb-4 border-b last:border-b-0",children:[u.jsx("h3",{className:"font-bold text-lg",children:i.title}),u.jsx("p",{className:"text-sm text-muted-foreground",children:i.date}),u.jsx("p",{className:"mt-1",children:i.content})]},i.id))}):u.jsx("p",{className:"text-muted-foreground",children:"No new announcements at this time."})]}),u.jsxs("div",{className:"bg-card shadow-md rounded-lg p-6 mb-6",children:[u.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Your Rewards & Recognition"}),n.length>0?u.jsx("div",{className:"flex flex-wrap gap-4",children:n.map(i=>u.jsxs("span",{className:"bg-muted text-muted-foreground text-sm font-medium px-3 py-1 rounded-full",children:[i.name," - ",i.description]},i.name))}):u.jsx("p",{className:"text-muted-foreground",children:"Complete your first beta cycle to earn your first badge!"}),u.jsx("p",{className:"mt-4 text-muted-foreground",children:"Upon successful completion of a beta cycle, you will receive a store discount coupon."})]}),u.jsxs("div",{className:"bg-card shadow-md rounded-lg p-6 mb-6",children:[u.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Important Links"}),u.jsxs("ul",{className:"list-disc list-inside text-primary",children:[u.jsx("li",{children:u.jsx("a",{href:"/beta/handbook",className:"hover:underline",children:"Beta Reader Handbook"})}),u.jsx("li",{children:u.jsx("a",{href:"/beta/timeline",className:"hover:underline",children:"Operational Timeline"})}),u.jsx("li",{children:u.jsx("a",{href:"#",className:"hover:underline",children:"Community Forum (Discord/Private Channel)"})}),u.jsx("li",{children:u.jsx("a",{href:"/beta/nda",className:"hover:underline",children:"View NDA"})})]})]}),u.jsx("button",{onClick:e,className:"mt-8 bg-destructive hover:bg-destructive-dark text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Logout"})]})},Poe=()=>{const e=localStorage.getItem("betaApplicationStatus")||"none";let t="",r="text-gray-800",n=null;switch(e){case"none":t="You have not yet submitted a beta reader application.",r="text-blue-700",n=u.jsx(Je.Link,{to:"/beta/application",className:"text-blue-500 hover:underline",children:"Apply now"});break;case"pending":t="Your beta reader application is currently under review. We will notify you of our decision soon.",r="text-yellow-700";break;case"accepted":t="Congratulations! Your beta reader application has been accepted. Welcome to the program!",r="text-green-700",n=u.jsx(Je.Link,{to:"/beta/portal",className:"text-green-500 hover:underline",children:"Go to Beta Portal"});break;case"rejected":t="We regret to inform you that your beta reader application was not successful at this time.",r="text-red-700";break;default:t="Unknown application status.",r="text-gray-800"}return u.jsxs("div",{className:"p-4 text-center",children:[u.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Beta Application Status"}),u.jsxs("div",{className:`p-6 rounded-lg shadow-md ${r} bg-white`,children:[u.jsx("p",{className:"text-lg font-semibold mb-4",children:t}),n&&u.jsx("p",{className:"mt-4",children:n})]})]})},Ooe=()=>{const{workId:e}=Je.useParams(),[t,r]=w.useState(null),[n,s]=w.useState(!0),[i,o]=w.useState(null),[a,l]=w.useState(null);w.useEffect(()=>{(async()=>{const{data:{user:f}}=await J.supabase.auth.getUser();f?l(f.id):(o("User not authenticated."),s(!1))})()},[]),w.useEffect(()=>{a&&e&&(async()=>{if(!(!a||!e))try{o(null);const f=await fetch(`http://localhost:3001/api/content/${e}`,{headers:{"x-user-id":a}}),h=await f.json();f.ok?r(h):o(h.message||"Failed to fetch content.")}catch(f){console.error("Error fetching work content:",f),o("An error occurred while fetching the work content.")}finally{s(!1)}})()},[a,e]);const c=async()=>{if(!(!a||!e))try{const d=await fetch(`http://localhost:3001/api/library/${a}/library/${e}/progress`,{method:"POST",headers:{"Content-Type":"application/json","x-user-id":a},body:JSON.stringify({is_finished:!0})});if(d.ok)alert("Work marked as finished!");else{const f=await d.json();alert(`Failed to mark as finished: ${f.message}`)}}catch(d){console.error("Error marking as finished:",d),alert("An error occurred while marking as finished.")}};return n?u.jsx("div",{className:"text-text-light",children:"Loading content..."}):i?u.jsxs("div",{className:"text-red-400",children:["Error: ",i]}):t?u.jsxs("div",{style:{padding:"20px",maxWidth:"800px",margin:"auto",fontFamily:"Arial, sans-serif"},children:[u.jsx("h2",{style:{fontSize:"2.5em",marginBottom:"10px",color:"#E0BBE4"},children:t.title}),u.jsx("p",{style:{fontSize:"1.1em",color:"#957DAD",marginBottom:"20px"},children:t.description}),u.jsxs("div",{style:{marginBottom:"20px"},children:[u.jsx("h3",{style:{fontSize:"1.5em",marginBottom:"10px",color:"#FFC72C"},children:"Download Options:"}),t.content_urls.epub&&u.jsx("a",{href:t.content_urls.epub,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",padding:"10px 15px",backgroundColor:"#4CAF50",color:"white",textDecoration:"none",borderRadius:"5px",marginRight:"10px",marginBottom:"10px"},children:"Download EPUB"}),t.content_urls.pdf&&u.jsx("a",{href:t.content_urls.pdf,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",padding:"10px 15px",backgroundColor:"#F44336",color:"white",textDecoration:"none",borderRadius:"5px",marginRight:"10px",marginBottom:"10px"},children:"Download PDF"}),t.content_urls.mobi&&u.jsx("a",{href:t.content_urls.mobi,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",padding:"10px 15px",backgroundColor:"#2196F3",color:"white",textDecoration:"none",borderRadius:"5px",marginRight:"10px",marginBottom:"10px"},children:"Download MOBI"}),!t.content_urls.epub&&!t.content_urls.pdf&&!t.content_urls.mobi&&u.jsx("p",{style:{color:"#957DAD"},children:"No downloadable content available for this work."})]}),u.jsx("button",{onClick:c,style:{padding:"10px 20px",backgroundColor:"#8860D0",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"16px",marginTop:"20px"},children:"Mark as Finished"})]}):u.jsx("div",{className:"text-text-light",children:"Content not found or not accessible."})},Doe=()=>{const{state:e,clearCart:t}=J.useCart(),r=Je.useNavigate(),[n,s]=w.useState(!1),i=(l,c)=>new Intl.NumberFormat("en-US",{style:"currency",currency:c.toUpperCase()}).format(l),o=async()=>{s(!0),setTimeout(()=>{s(!1),t(),r("/store?checkout=success")},2e3)},a=()=>{r("/store")};return e.items.length===0?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background-light to-background flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx(d_,{className:"w-16 h-16 text-text-dark mx-auto mb-4"}),u.jsx("h2",{className:"text-2xl font-heading text-text-light mb-2",children:"Your cart is empty"}),u.jsx("p",{className:"text-text-dark mb-6",children:"Add some products to your cart before checking out."}),u.jsx("button",{onClick:a,className:"px-6 py-3 bg-secondary text-background rounded-xl hover:bg-secondary-dark transition-colors",children:"Continue Shopping"})]})}):u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background-light to-background",children:u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsxs("button",{onClick:a,className:"flex items-center space-x-2 text-text-light hover:text-secondary transition-colors mb-4",children:[u.jsx(AR,{className:"w-5 h-5"}),u.jsx("span",{children:"Back to Store"})]}),u.jsx("h1",{className:"text-4xl font-heading text-text-light mb-2",children:"Checkout"}),u.jsx("p",{className:"text-text-light/70",children:"Complete your purchase"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"bg-background-light/30 backdrop-blur-sm rounded-2xl p-6 border border-border/30",children:[u.jsx("h2",{className:"text-2xl font-heading text-text-light mb-6",children:"Order Summary"}),u.jsx("div",{className:"space-y-4 mb-6",children:e.items.map(l=>u.jsxs("div",{className:"flex items-center justify-between p-4 bg-background/30 rounded-xl",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-medium text-text-light",children:l.title}),u.jsx("p",{className:"text-sm text-text-dark",children:l.format.toUpperCase()})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-secondary font-medium",children:i(l.price,l.currency)}),u.jsxs("p",{className:"text-sm text-text-dark",children:["Qty: ",l.quantity]})]})]},l.id))}),u.jsxs("div",{className:"border-t border-border/30 pt-4",children:[u.jsxs("div",{className:"flex justify-between items-center text-lg font-medium text-text-light mb-2",children:[u.jsx("span",{children:"Subtotal:"}),u.jsx("span",{children:i(e.total,"USD")})]}),u.jsxs("div",{className:"flex justify-between items-center text-sm text-text-dark mb-4",children:[u.jsx("span",{children:"Tax:"}),u.jsx("span",{children:"Calculated at checkout"})]}),u.jsxs("div",{className:"flex justify-between items-center text-xl font-bold text-secondary",children:[u.jsx("span",{children:"Total:"}),u.jsx("span",{children:i(e.total,"USD")})]})]})]}),u.jsxs("div",{className:"bg-background-light/30 backdrop-blur-sm rounded-2xl p-6 border border-border/30",children:[u.jsx("h2",{className:"text-2xl font-heading text-text-light mb-6",children:"Payment Information"}),u.jsxs("form",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-medium text-text-light mb-4",children:"Customer Information"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-text-light mb-2",children:"First Name"}),u.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-background/50 border border-border/30 rounded-xl text-text-light placeholder-text-dark/50 focus:outline-none focus:ring-2 focus:ring-secondary/50 focus:border-secondary transition-all",placeholder:"Enter first name"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-text-light mb-2",children:"Last Name"}),u.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-background/50 border border-border/30 rounded-xl text-text-light placeholder-text-dark/50 focus:outline-none focus:ring-2 focus:ring-secondary/50 focus:border-secondary transition-all",placeholder:"Enter last name"})]})]}),u.jsxs("div",{className:"mt-4",children:[u.jsx("label",{className:"block text-sm font-medium text-text-light mb-2",children:"Email"}),u.jsx("input",{type:"email",className:"w-full px-4 py-3 bg-background/50 border border-border/30 rounded-xl text-text-light placeholder-text-dark/50 focus:outline-none focus:ring-2 focus:ring-secondary/50 focus:border-secondary transition-all",placeholder:"Enter email address"})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-medium text-text-light mb-4",children:"Payment Method"}),u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-background/30 rounded-xl border border-border/30",children:[u.jsx("input",{type:"radio",name:"payment",id:"card",defaultChecked:!0,className:"text-secondary focus:ring-secondary"}),u.jsxs("label",{htmlFor:"card",className:"flex items-center space-x-2 cursor-pointer",children:[u.jsx($V,{className:"w-5 h-5 text-secondary"}),u.jsx("span",{className:"text-text-light",children:"Credit/Debit Card"})]})]})})]}),u.jsxs("div",{className:"p-4 bg-accent/10 border border-accent/30 rounded-xl",children:[u.jsxs("div",{className:"flex items-center space-x-2 text-accent mb-2",children:[u.jsx($R,{className:"w-5 h-5"}),u.jsx("span",{className:"font-medium",children:"Secure Checkout"})]}),u.jsx("p",{className:"text-sm text-text-light/70",children:"Your payment information is encrypted and secure. We never store your credit card details."})]}),u.jsx("button",{type:"button",onClick:o,disabled:n,className:"w-full bg-secondary text-background py-4 px-6 rounded-xl font-medium hover:bg-secondary-dark focus:outline-none focus:ring-2 focus:ring-secondary/50 focus:ring-offset-2 focus:ring-offset-background-light transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed text-lg",children:n?u.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[u.jsx("div",{className:"w-5 h-5 border-2 border-background border-t-transparent rounded-full animate-spin"}),u.jsx("span",{children:"Processing..."})]}):`Complete Purchase - ${i(e.total,"USD")}`})]})]})]})]})})};var vy={},M4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(M4);var NS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(NS);var kS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(kS);var by={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],s=r.length;if(s===0)return n;let i=0,o="",a="",l=!1;for(r.charCodeAt(0)===46&&(n.push(""),i++);i<s;){const c=r[i];a?c==="\\"&&i+1<s?(i++,o+=r[i]):c===a?a="":o+=c:l?c==='"'||c==="'"?a=c:c==="]"?(l=!1,n.push(o),o=""):o+=c:c==="["?(l=!0,o&&(n.push(o),o="")):c==="."?o&&(n.push(o),o=""):o+=c,i++}return o&&n.push(o),n}e.toPath=t})(by);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=M4,r=NS,n=kS,s=by;function i(a,l,c){if(a==null)return c;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return c;const d=a[l];return d===void 0?r.isDeepKey(l)?i(a,s.toPath(l),c):c:d}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const d=a[l];return d===void 0?c:d}default:{if(Array.isArray(l))return o(a,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return c;const d=a[l];return d===void 0?c:d}}}function o(a,l,c){if(l.length===0)return c;let d=a;for(let f=0;f<l.length;f++){if(d==null||t.isUnsafeProperty(l[f]))return c;d=d[l[f]]}return d===void 0?c:d}e.get=i})(vy);var $oe=vy.get;const ha=Gs($oe);var Vx={exports:{}},ht={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KT;function Roe(){if(KT)return ht;KT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.for("react.view_transition"),p=Symbol.for("react.client.reference");function g(m){if(typeof m=="object"&&m!==null){var y=m.$$typeof;switch(y){case e:switch(m=m.type,m){case r:case s:case n:case l:case c:case h:return m;default:switch(m=m&&m.$$typeof,m){case o:case a:case f:case d:return m;case i:return m;default:return y}}case t:return y}}}return ht.ContextConsumer=i,ht.ContextProvider=o,ht.Element=e,ht.ForwardRef=a,ht.Fragment=r,ht.Lazy=f,ht.Memo=d,ht.Portal=t,ht.Profiler=s,ht.StrictMode=n,ht.Suspense=l,ht.SuspenseList=c,ht.isContextConsumer=function(m){return g(m)===i},ht.isContextProvider=function(m){return g(m)===o},ht.isElement=function(m){return typeof m=="object"&&m!==null&&m.$$typeof===e},ht.isForwardRef=function(m){return g(m)===a},ht.isFragment=function(m){return g(m)===r},ht.isLazy=function(m){return g(m)===f},ht.isMemo=function(m){return g(m)===d},ht.isPortal=function(m){return g(m)===t},ht.isProfiler=function(m){return g(m)===s},ht.isStrictMode=function(m){return g(m)===n},ht.isSuspense=function(m){return g(m)===l},ht.isSuspenseList=function(m){return g(m)===c},ht.isValidElementType=function(m){return typeof m=="string"||typeof m=="function"||m===r||m===s||m===n||m===l||m===c||typeof m=="object"&&m!==null&&(m.$$typeof===f||m.$$typeof===d||m.$$typeof===o||m.$$typeof===i||m.$$typeof===a||m.$$typeof===p||m.getModuleId!==void 0)},ht.typeOf=g,ht}var pt={};/**
 * @license React
 * react-is.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HT;function Ioe(){return HT||(HT=1,process.env.NODE_ENV!=="production"&&function(){function e(m){if(typeof m=="object"&&m!==null){var y=m.$$typeof;switch(y){case t:switch(m=m.type,m){case n:case i:case s:case c:case d:case p:return m;default:switch(m=m&&m.$$typeof,m){case a:case l:case h:case f:return m;case o:return m;default:return y}}case r:return y}}}var t=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.view_transition"),g=Symbol.for("react.client.reference");pt.ContextConsumer=o,pt.ContextProvider=a,pt.Element=t,pt.ForwardRef=l,pt.Fragment=n,pt.Lazy=h,pt.Memo=f,pt.Portal=r,pt.Profiler=i,pt.StrictMode=s,pt.Suspense=c,pt.SuspenseList=d,pt.isContextConsumer=function(m){return e(m)===o},pt.isContextProvider=function(m){return e(m)===a},pt.isElement=function(m){return typeof m=="object"&&m!==null&&m.$$typeof===t},pt.isForwardRef=function(m){return e(m)===l},pt.isFragment=function(m){return e(m)===n},pt.isLazy=function(m){return e(m)===h},pt.isMemo=function(m){return e(m)===f},pt.isPortal=function(m){return e(m)===r},pt.isProfiler=function(m){return e(m)===i},pt.isStrictMode=function(m){return e(m)===s},pt.isSuspense=function(m){return e(m)===c},pt.isSuspenseList=function(m){return e(m)===d},pt.isValidElementType=function(m){return typeof m=="string"||typeof m=="function"||m===n||m===i||m===s||m===c||m===d||typeof m=="object"&&m!==null&&(m.$$typeof===h||m.$$typeof===f||m.$$typeof===a||m.$$typeof===o||m.$$typeof===l||m.$$typeof===g||m.getModuleId!==void 0)},pt.typeOf=e}()),pt}process.env.NODE_ENV==="production"?Vx.exports=Roe():Vx.exports=Ioe();var Moe=Vx.exports,Xr=e=>e===0?0:e>0?1:-1,hs=e=>typeof e=="number"&&e!=+e,Za=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Te=e=>(typeof e=="number"||e instanceof Number)&&!hs(e),ji=e=>Te(e)||typeof e=="string",Loe=0,Sf=e=>{var t=++Loe;return"".concat(e||"").concat(t)},fs=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Te(t)&&typeof t!="string")return n;var i;if(Za(t)){if(r==null)return n;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return hs(i)&&(i=n),s&&r!=null&&i>r&&(i=r),i},L4=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1},YT=(e,t)=>Te(e)&&Te(t)?r=>e+r*(t-e):()=>t;function hd(e,t,r){return Te(e)&&Te(t)?e+r*(t-e):t}function F4(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):ha(n,t))===r)}var or=e=>e===null||typeof e>"u",ih=e=>or(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),Foe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function CS(e){if(typeof e!="string")return!1;var t=Foe;return t.includes(e)}var Boe=["viewBox","children"],GT=["points","pathLength"],Fb={svg:Boe,polygon:GT,polyline:GT},TS=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(w.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(s=>{CS(s)&&(n[s]=i=>r[s](r,i))}),n},zoe=(e,t,r)=>n=>(e(t,r,n),null),AS=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(s=>{var i=e[s];CS(s)&&typeof i=="function"&&(n||(n={}),n[s]=zoe(i,t,r))}),n},Uoe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function B4(e){if(typeof e!="string")return!1;var t=Uoe;return t.includes(e)}function xa(e){var t=Object.entries(e).filter(r=>{var[n]=r;return B4(n)});return Object.fromEntries(t)}var ZT=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",XT=null,Bb=null,z4=e=>{if(e===XT&&Array.isArray(Bb))return Bb;var t=[];return w.Children.forEach(e,r=>{or(r)||(Moe.isFragment(r)?t=t.concat(z4(r.props.children)):t.push(r))}),Bb=t,XT=e,t};function xy(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(s=>ZT(s)):n=[ZT(t)],z4(e).forEach(s=>{var i=ha(s,"type.displayName")||ha(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}var U4=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,qoe=(e,t,r,n)=>{var s;if(typeof t=="symbol"||typeof t=="number")return!0;var i=(s=n&&(Fb==null?void 0:Fb[n]))!==null&&s!==void 0?s:[],o=t.startsWith("data-"),a=typeof e!="function"&&(!!n&&i.includes(t)||B4(t)),l=!!r&&CS(t);return o||a||l},Ut=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(w.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var s={};return Object.keys(n).forEach(i=>{var o;qoe((o=n)===null||o===void 0?void 0:o[i],i,t,r)&&(s[i]=n[i])}),s},Voe=["children","width","height","viewBox","className","style","title","desc"];function Wx(){return Wx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wx.apply(null,arguments)}function Woe(e,t){if(e==null)return{};var r,n,s=Koe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Koe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var PS=w.forwardRef((e,t)=>{var{children:r,width:n,height:s,viewBox:i,className:o,style:a,title:l,desc:c}=e,d=Woe(e,Voe),f=i||{width:n,height:s,x:0,y:0},h=nt("recharts-surface",o);return j.createElement("svg",Wx({},Ut(d,!0,"svg"),{className:h,width:n,height:s,style:a,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),j.createElement("title",null,l),j.createElement("desc",null,c),r)}),Hoe=["children","className"];function Kx(){return Kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kx.apply(null,arguments)}function Yoe(e,t){if(e==null)return{};var r,n,s=Goe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Goe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ps=j.forwardRef((e,t)=>{var{children:r,className:n}=e,s=Yoe(e,Hoe),i=nt("recharts-layer",n);return j.createElement("g",Kx({className:i},Ut(s,!0),{ref:t}),r)}),q4=w.createContext(null),Zoe=()=>w.useContext(q4);function _t(e){return function(){return e}}const V4=Math.cos,Pm=Math.sin,Xs=Math.sqrt,Om=Math.PI,wy=2*Om,Hx=Math.PI,Yx=2*Hx,Ua=1e-6,Xoe=Yx-Ua;function W4(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Joe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return W4;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class Qoe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?W4:Joe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,a=this._y1,l=n-t,c=s-r,d=o-t,f=a-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Ua)if(!(Math.abs(f*l-c*d)>Ua)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,g=s-a,m=l*l+c*c,y=p*p+g*g,v=Math.sqrt(m),b=Math.sqrt(h),x=i*Math.tan((Hx-Math.acos((m+h-y)/(2*v*b)))/2),S=x/b,_=x/v;Math.abs(S-1)>Ua&&this._append`L${t+S*d},${r+S*f}`,this._append`A${i},${i},0,0,${+(f*p>d*g)},${this._x1=t+_*l},${this._y1=r+_*c}`}}arc(t,r,n,s,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(s),l=n*Math.sin(s),c=t+a,d=r+l,f=1^o,h=o?s-i:i-s;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>Ua||Math.abs(this._y1-d)>Ua)&&this._append`L${c},${d}`,n&&(h<0&&(h=h%Yx+Yx),h>Xoe?this._append`A${n},${n},0,1,${f},${t-a},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=d}`:h>Ua&&this._append`A${n},${n},0,${+(h>=Hx)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function OS(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Qoe(t)}function DS(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function K4(e){this._context=e}K4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function _y(e){return new K4(e)}function H4(e){return e[0]}function Y4(e){return e[1]}function G4(e,t){var r=_t(!0),n=null,s=_y,i=null,o=OS(a);e=typeof e=="function"?e:e===void 0?H4:_t(e),t=typeof t=="function"?t:t===void 0?Y4:_t(t);function a(l){var c,d=(l=DS(l)).length,f,h=!1,p;for(n==null&&(i=s(p=o())),c=0;c<=d;++c)!(c<d&&r(f=l[c],c,l))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,c,l),+t(f,c,l));if(p)return i=null,p+""||null}return a.x=function(l){return arguments.length?(e=typeof l=="function"?l:_t(+l),a):e},a.y=function(l){return arguments.length?(t=typeof l=="function"?l:_t(+l),a):t},a.defined=function(l){return arguments.length?(r=typeof l=="function"?l:_t(!!l),a):r},a.curve=function(l){return arguments.length?(s=l,n!=null&&(i=s(n)),a):s},a.context=function(l){return arguments.length?(l==null?n=i=null:i=s(n=l),a):n},a}function gp(e,t,r){var n=null,s=_t(!0),i=null,o=_y,a=null,l=OS(c);e=typeof e=="function"?e:e===void 0?H4:_t(+e),t=typeof t=="function"?t:_t(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?Y4:_t(+r);function c(f){var h,p,g,m=(f=DS(f)).length,y,v=!1,b,x=new Array(m),S=new Array(m);for(i==null&&(a=o(b=l())),h=0;h<=m;++h){if(!(h<m&&s(y=f[h],h,f))===v)if(v=!v)p=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),g=h-1;g>=p;--g)a.point(x[g],S[g]);a.lineEnd(),a.areaEnd()}v&&(x[h]=+e(y,h,f),S[h]=+t(y,h,f),a.point(n?+n(y,h,f):x[h],r?+r(y,h,f):S[h]))}if(b)return a=null,b+""||null}function d(){return G4().defined(s).curve(o).context(i)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:_t(+f),n=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:_t(+f),c):e},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:_t(+f),c):n},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:_t(+f),r=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:_t(+f),c):t},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:_t(+f),c):r},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(r)},c.lineX1=function(){return d().x(n).y(t)},c.defined=function(f){return arguments.length?(s=typeof f=="function"?f:_t(!!f),c):s},c.curve=function(f){return arguments.length?(o=f,i!=null&&(a=o(i)),c):o},c.context=function(f){return arguments.length?(f==null?i=a=null:a=o(i=f),c):i},c}class Z4{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function eae(e){return new Z4(e,!0)}function tae(e){return new Z4(e,!1)}const $S={draw(e,t){const r=Xs(t/Om);e.moveTo(r,0),e.arc(0,0,r,0,wy)}},rae={draw(e,t){const r=Xs(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},X4=Xs(1/3),nae=X4*2,sae={draw(e,t){const r=Xs(t/nae),n=r*X4;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},iae={draw(e,t){const r=Xs(t),n=-r/2;e.rect(n,n,r,r)}},oae=.8908130915292852,J4=Pm(Om/10)/Pm(7*Om/10),aae=Pm(wy/10)*J4,lae=-V4(wy/10)*J4,cae={draw(e,t){const r=Xs(t*oae),n=aae*r,s=lae*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const o=wy*i/5,a=V4(o),l=Pm(o);e.lineTo(l*r,-a*r),e.lineTo(a*n-l*s,l*n+a*s)}e.closePath()}},zb=Xs(3),uae={draw(e,t){const r=-Xs(t/(zb*3));e.moveTo(0,r*2),e.lineTo(-zb*r,-r),e.lineTo(zb*r,-r),e.closePath()}},Xn=-.5,Jn=Xs(3)/2,Gx=1/Xs(12),dae=(Gx/2+1)*3,fae={draw(e,t){const r=Xs(t/dae),n=r/2,s=r*Gx,i=n,o=r*Gx+r,a=-i,l=o;e.moveTo(n,s),e.lineTo(i,o),e.lineTo(a,l),e.lineTo(Xn*n-Jn*s,Jn*n+Xn*s),e.lineTo(Xn*i-Jn*o,Jn*i+Xn*o),e.lineTo(Xn*a-Jn*l,Jn*a+Xn*l),e.lineTo(Xn*n+Jn*s,Xn*s-Jn*n),e.lineTo(Xn*i+Jn*o,Xn*o-Jn*i),e.lineTo(Xn*a+Jn*l,Xn*l-Jn*a),e.closePath()}};function hae(e,t){let r=null,n=OS(s);e=typeof e=="function"?e:_t(e||$S),t=typeof t=="function"?t:_t(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:_t(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:_t(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function Dm(){}function $m(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Q4(e){this._context=e}Q4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$m(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$m(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function pae(e){return new Q4(e)}function e5(e){this._context=e}e5.prototype={areaStart:Dm,areaEnd:Dm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:$m(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function mae(e){return new e5(e)}function t5(e){this._context=e}t5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:$m(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function gae(e){return new t5(e)}function r5(e){this._context=e}r5.prototype={areaStart:Dm,areaEnd:Dm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function yae(e){return new r5(e)}function JT(e){return e<0?-1:1}function QT(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),a=(i*s+o*n)/(n+s);return(JT(i)+JT(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(a))||0}function eA(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Ub(e,t,r){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,a=(i-n)/3;e._context.bezierCurveTo(n+a,s+a*t,i-a,o-a*r,i,o)}function Rm(e){this._context=e}Rm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ub(this,this._t0,eA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ub(this,eA(this,r=QT(this,e,t)),r);break;default:Ub(this,this._t0,r=QT(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function n5(e){this._context=new s5(e)}(n5.prototype=Object.create(Rm.prototype)).point=function(e,t){Rm.prototype.point.call(this,t,e)};function s5(e){this._context=e}s5.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function vae(e){return new Rm(e)}function bae(e){return new n5(e)}function i5(e){this._context=e}i5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=tA(e),s=tA(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function tA(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function xae(e){return new i5(e)}function Sy(e,t){this._context=e,this._t=t}Sy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function wae(e){return new Sy(e,.5)}function _ae(e){return new Sy(e,0)}function Sae(e){return new Sy(e,1)}function iu(e,t){if((o=e.length)>1)for(var r=1,n,s,i=e[t[0]],o,a=i.length;r<o;++r)for(s=i,i=e[t[r]],n=0;n<a;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function Zx(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Eae(e,t){return e[t]}function jae(e){const t=[];return t.key=e,t}function Nae(){var e=_t([]),t=Zx,r=iu,n=Eae;function s(i){var o=Array.from(e.apply(this,arguments),jae),a,l=o.length,c=-1,d;for(const f of i)for(a=0,++c;a<l;++a)(o[a][c]=[0,+n(f,o[a].key,c,i)]).data=f;for(a=0,d=DS(t(o));a<l;++a)o[d[a]].index=a;return r(o,d),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:_t(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:_t(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?Zx:typeof i=="function"?i:_t(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??iu,s):r},s}function kae(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}iu(e,t)}}function Cae(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var o=0,a=0;o<s;++o)a+=e[o][r][1]||0;n[r][1]+=n[r][0]=-a/2}iu(e,t)}}function Tae(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var a=0,l=0,c=0;a<o;++a){for(var d=e[t[a]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,g=0;g<a;++g){var m=e[t[g]],y=m[n][1]||0,v=m[n-1][1]||0;p+=y-v}l+=f,c+=p*f}s[n-1][1]+=s[n-1][0]=r,l&&(r-=c/l)}s[n-1][1]+=s[n-1][0]=r,iu(e,t)}}var Aae=["type","size","sizeType"];function Xx(){return Xx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xx.apply(null,arguments)}function rA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function nA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rA(Object(r),!0).forEach(function(n){Pae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pae(e,t,r){return(t=Oae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oae(e){var t=Dae(e,"string");return typeof t=="symbol"?t:t+""}function Dae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $ae(e,t){if(e==null)return{};var r,n,s=Rae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Rae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var o5={symbolCircle:$S,symbolCross:rae,symbolDiamond:sae,symbolSquare:iae,symbolStar:cae,symbolTriangle:uae,symbolWye:fae},Iae=Math.PI/180,Mae=e=>{var t="symbol".concat(ih(e));return o5[t]||$S},Lae=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*Iae;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Fae=(e,t)=>{o5["symbol".concat(ih(e))]=t},RS=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,s=$ae(e,Aae),i=nA(nA({},s),{},{type:t,size:r,sizeType:n}),o=()=>{var f=Mae(t),h=hae().type(f).size(Lae(r,n,t));return h()},{className:a,cx:l,cy:c}=i,d=Ut(i,!0);return l===+l&&c===+c&&r===+r?j.createElement("path",Xx({},d,{className:nt("recharts-symbols",a),transform:"translate(".concat(l,", ").concat(c,")"),d:o()})):null};RS.registerSymbol=Fae;function Jx(){return Jx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jx.apply(null,arguments)}function sA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Bae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sA(Object(r),!0).forEach(function(n){IS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IS(e,t,r){return(t=zae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zae(e){var t=Uae(e,"string");return typeof t=="symbol"?t:t+""}function Uae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qn=32;class MS extends w.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,s=Qn/2,i=Qn/6,o=Qn/3,a=t.inactive?n:t.color,l=r??t.type;if(l==="none")return null;if(l==="plainline")return j.createElement("line",{strokeWidth:4,fill:"none",stroke:a,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:s,x2:Qn,y2:s,className:"recharts-legend-icon"});if(l==="line")return j.createElement("path",{strokeWidth:4,fill:"none",stroke:a,d:"M0,".concat(s,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(s,`
            H`).concat(Qn,"M").concat(2*o,",").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(s),className:"recharts-legend-icon"});if(l==="rect")return j.createElement("path",{stroke:"none",fill:a,d:"M0,".concat(Qn/8,"h").concat(Qn,"v").concat(Qn*3/4,"h").concat(-Qn,"z"),className:"recharts-legend-icon"});if(j.isValidElement(t.legendIcon)){var c=Bae({},t);return delete c.legendIcon,j.cloneElement(t.legendIcon,c)}return j.createElement(RS,{fill:a,cx:s,cy:s,size:Qn,sizeType:"diameter",type:l})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:s,inactiveColor:i,iconType:o}=this.props,a={x:0,y:0,width:Qn,height:Qn},l={display:n==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var h=d.formatter||s,p=nt({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var g=d.inactive?i:d.color,m=h?h(d.value,d,f):d.value;return j.createElement("li",Jx({className:p,style:l,key:"legend-item-".concat(f)},AS(this.props,d,f)),j.createElement(PS,{width:r,height:r,viewBox:a,style:c,"aria-label":"".concat(m," legend icon")},this.renderIcon(d,o)),j.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},m))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var s={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return j.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}IS(MS,"displayName","Legend");IS(MS,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var a5={},l5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const s=new Map;for(let i=0;i<r.length;i++){const o=r[i],a=n(o);s.has(a)||s.set(a,o)}return Array.from(s.values())}e.uniqBy=t})(l5);var LS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(LS);var c5={},Ey={},u5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(u5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u5;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Ey);var d5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(d5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ey,r=d5;function n(s){return r.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=n})(c5);var f5={},h5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vy;function r(n){return function(s){return t.get(s,n)}}e.property=r})(h5);var p5={},qb={},Vb={},FS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(FS);var BS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(BS);var jy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(jy);var iA;function qae(){return iA||(iA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zS(),r=FS,n=BS,s=jy;function i(f,h,p){return typeof p!="function"?t.isMatch(f,h):o(f,h,function g(m,y,v,b,x,S){const _=p(m,y,v,b,x,S);return _!==void 0?!!_:o(m,y,g,S)},new Map)}function o(f,h,p,g){if(h===f)return!0;switch(typeof h){case"object":return a(f,h,p,g);case"function":return Object.keys(h).length>0?o(f,{...h},p,g):s.eq(f,h);default:return r.isObject(f)?typeof h=="string"?h==="":!0:s.eq(f,h)}}function a(f,h,p,g){if(h==null)return!0;if(Array.isArray(h))return c(f,h,p,g);if(h instanceof Map)return l(f,h,p,g);if(h instanceof Set)return d(f,h,p,g);const m=Object.keys(h);if(f==null)return m.length===0;if(m.length===0)return!0;if(g&&g.has(h))return g.get(h)===f;g&&g.set(h,f);try{for(let y=0;y<m.length;y++){const v=m[y];if(!n.isPrimitive(f)&&!(v in f)||h[v]===void 0&&f[v]!==void 0||h[v]===null&&f[v]!==null||!p(f[v],h[v],v,f,h,g))return!1}return!0}finally{g&&g.delete(h)}}function l(f,h,p,g){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[m,y]of h.entries()){const v=f.get(m);if(p(v,y,m,f,h,g)===!1)return!1}return!0}function c(f,h,p,g){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const m=new Set;for(let y=0;y<h.length;y++){const v=h[y];let b=!1;for(let x=0;x<f.length;x++){if(m.has(x))continue;const S=f[x];let _=!1;if(p(S,v,y,f,h,g)&&(_=!0),_){m.add(x),b=!0;break}}if(!b)return!1}return!0}function d(f,h,p,g){return h.size===0?!0:f instanceof Set?c([...f],[...h],p,g):!1}e.isMatchWith=i,e.isSetMatch=d}(Vb)),Vb}var oA;function zS(){return oA||(oA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qae();function r(n,s){return t.isMatchWith(n,s,()=>{})}e.isMatch=r}(qb)),qb}var m5={},US={},qS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(qS);var Ny={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Ny);var ky={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",s="[object Boolean]",i="[object Arguments]",o="[object Symbol]",a="[object Date]",l="[object Map]",c="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",p="[object Object]",g="[object Error]",m="[object DataView]",y="[object Uint8Array]",v="[object Uint8ClampedArray]",b="[object Uint16Array]",x="[object Uint32Array]",S="[object BigUint64Array]",_="[object Int8Array]",N="[object Int16Array]",k="[object Int32Array]",C="[object BigInt64Array]",A="[object Float32Array]",I="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=C,e.bigUint64ArrayTag=S,e.booleanTag=s,e.dataViewTag=m,e.dateTag=a,e.errorTag=g,e.float32ArrayTag=A,e.float64ArrayTag=I,e.functionTag=f,e.int16ArrayTag=N,e.int32ArrayTag=k,e.int8ArrayTag=_,e.mapTag=l,e.numberTag=n,e.objectTag=p,e.regexpTag=t,e.setTag=c,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=b,e.uint32ArrayTag=x,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=v})(ky);var g5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(g5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qS,r=Ny,n=ky,s=BS,i=g5;function o(d,f){return a(d,void 0,d,new Map,f)}function a(d,f,h,p=new Map,g=void 0){const m=g==null?void 0:g(d,f,h,p);if(m!==void 0)return m;if(s.isPrimitive(d))return d;if(p.has(d))return p.get(d);if(Array.isArray(d)){const y=new Array(d.length);p.set(d,y);for(let v=0;v<d.length;v++)y[v]=a(d[v],v,h,p,g);return Object.hasOwn(d,"index")&&(y.index=d.index),Object.hasOwn(d,"input")&&(y.input=d.input),y}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const y=new RegExp(d.source,d.flags);return y.lastIndex=d.lastIndex,y}if(d instanceof Map){const y=new Map;p.set(d,y);for(const[v,b]of d)y.set(v,a(b,v,h,p,g));return y}if(d instanceof Set){const y=new Set;p.set(d,y);for(const v of d)y.add(a(v,void 0,h,p,g));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const y=new(Object.getPrototypeOf(d)).constructor(d.length);p.set(d,y);for(let v=0;v<d.length;v++)y[v]=a(d[v],v,h,p,g);return y}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const y=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return p.set(d,y),l(y,d,h,p,g),y}if(typeof File<"u"&&d instanceof File){const y=new File([d],d.name,{type:d.type});return p.set(d,y),l(y,d,h,p,g),y}if(d instanceof Blob){const y=new Blob([d],{type:d.type});return p.set(d,y),l(y,d,h,p,g),y}if(d instanceof Error){const y=new d.constructor;return p.set(d,y),y.message=d.message,y.name=d.name,y.stack=d.stack,y.cause=d.cause,l(y,d,h,p,g),y}if(typeof d=="object"&&c(d)){const y=Object.create(Object.getPrototypeOf(d));return p.set(d,y),l(y,d,h,p,g),y}return d}function l(d,f,h=d,p,g){const m=[...Object.keys(f),...t.getSymbols(f)];for(let y=0;y<m.length;y++){const v=m[y],b=Object.getOwnPropertyDescriptor(d,v);(b==null||b.writable)&&(d[v]=a(f[v],v,h,p,g))}}function c(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=a,e.copyProperties=l})(US);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=US;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(m5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zS(),r=m5;function n(s){return s=r.cloneDeep(s),i=>t.isMatch(i,s)}e.matches=n})(p5);var y5={},v5={},b5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=US,r=ky;function n(s,i){return t.cloneDeepWith(s,(o,a,l,c)=>{const d=i==null?void 0:i(o,a,l,c);if(d!==void 0)return d;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new s.constructor(s==null?void 0:s.valueOf());return t.copyProperties(f,s),f}case r.argumentsTag:{const f={};return t.copyProperties(f,s),f.length=s.length,f[Symbol.iterator]=s[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(b5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b5;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(v5);var x5={},VS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,s=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<s;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(VS);var w5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ny;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(w5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NS,r=VS,n=w5,s=by;function i(o,a){let l;if(Array.isArray(a)?l=a:typeof a=="string"&&t.isDeepKey(a)&&(o==null?void 0:o[a])==null?l=s.toPath(a):l=[a],l.length===0)return!1;let c=o;for(let d=0;d<l.length;d++){const f=l[d];if((c==null||!Object.hasOwn(c,f))&&!((Array.isArray(c)||n.isArguments(c))&&r.isIndex(f)&&f<c.length))return!1;c=c[f]}return!0}e.has=i})(x5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zS(),r=kS,n=v5,s=vy,i=x5;function o(a,l){switch(typeof a){case"object":{Object.is(a==null?void 0:a.valueOf(),-0)&&(a="-0");break}case"number":{a=r.toKey(a);break}}return l=n.cloneDeep(l),function(c){const d=s.get(c,a);return d===void 0?i.has(c,a):l===void 0?d===void 0:t.isMatch(d,l)}}e.matchesProperty=o})(y5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LS,r=h5,n=p5,s=y5;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?s.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})(f5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l5,r=LS,n=c5,s=f5;function i(o,a=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),s.iteratee(a)):[]}e.uniqBy=i})(a5);var Vae=a5.uniqBy;const aA=Gs(Vae);function _5(e,t,r){return t===!0?aA(e,r):typeof t=="function"?aA(e,t):e}var Qx={exports:{}},Wb={},yp={exports:{}},Kb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lA;function Wae(){if(lA)return Kb;lA=1;var e=w;function t(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,s=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function a(f,h){var p=h(),g=n({inst:{value:p,getSnapshot:h}}),m=g[0].inst,y=g[1];return i(function(){m.value=p,m.getSnapshot=h,l(m)&&y({inst:m})},[f,p,h]),s(function(){return l(m)&&y({inst:m}),f(function(){l(m)&&y({inst:m})})},[f]),o(p),p}function l(f){var h=f.getSnapshot;f=f.value;try{var p=h();return!r(f,p)}catch{return!0}}function c(f,h){return h()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:a;return Kb.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,Kb}var Hb={};/**
 * @license React
 * use-sync-external-store-shim.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cA;function Kae(){return cA||(cA=1,process.env.NODE_ENV!=="production"&&function(){function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}function t(p,g){d||s.startTransition===void 0||(d=!0,console.error("You are using an outdated, pre-release alpha of React 18 that does not support useSyncExternalStore. The use-sync-external-store shim will not work correctly. Upgrade to a newer pre-release."));var m=g();if(!f){var y=g();i(m,y)||(console.error("The result of getSnapshot should be cached to avoid an infinite loop"),f=!0)}y=o({inst:{value:m,getSnapshot:g}});var v=y[0].inst,b=y[1];return l(function(){v.value=m,v.getSnapshot=g,r(v)&&b({inst:v})},[p,m,g]),a(function(){return r(v)&&b({inst:v}),p(function(){r(v)&&b({inst:v})})},[p]),c(m),m}function r(p){var g=p.getSnapshot;p=p.value;try{var m=g();return!i(p,m)}catch{return!0}}function n(p,g){return g()}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var s=w,i=typeof Object.is=="function"?Object.is:e,o=s.useState,a=s.useEffect,l=s.useLayoutEffect,c=s.useDebugValue,d=!1,f=!1,h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?n:t;Hb.useSyncExternalStore=s.useSyncExternalStore!==void 0?s.useSyncExternalStore:h,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())}()),Hb}var uA;function S5(){return uA||(uA=1,process.env.NODE_ENV==="production"?yp.exports=Wae():yp.exports=Kae()),yp.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dA;function Hae(){if(dA)return Wb;dA=1;var e=w,t=S5();function r(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var n=typeof Object.is=="function"?Object.is:r,s=t.useSyncExternalStore,i=e.useRef,o=e.useEffect,a=e.useMemo,l=e.useDebugValue;return Wb.useSyncExternalStoreWithSelector=function(c,d,f,h,p){var g=i(null);if(g.current===null){var m={hasValue:!1,value:null};g.current=m}else m=g.current;g=a(function(){function v(N){if(!b){if(b=!0,x=N,N=h(N),p!==void 0&&m.hasValue){var k=m.value;if(p(k,N))return S=k}return S=N}if(k=S,n(x,N))return k;var C=h(N);return p!==void 0&&p(k,C)?(x=N,k):(x=N,S=C)}var b=!1,x,S,_=f===void 0?null:f;return[function(){return v(d())},_===null?void 0:function(){return v(_())}]},[d,f,h,p]);var y=s(c,g[0],g[1]);return o(function(){m.hasValue=!0,m.value=y},[y]),l(y),y},Wb}var Yb={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fA;function Yae(){return fA||(fA=1,process.env.NODE_ENV!=="production"&&function(){function e(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var t=w,r=S5(),n=typeof Object.is=="function"?Object.is:e,s=r.useSyncExternalStore,i=t.useRef,o=t.useEffect,a=t.useMemo,l=t.useDebugValue;Yb.useSyncExternalStoreWithSelector=function(c,d,f,h,p){var g=i(null);if(g.current===null){var m={hasValue:!1,value:null};g.current=m}else m=g.current;g=a(function(){function v(N){if(!b){if(b=!0,x=N,N=h(N),p!==void 0&&m.hasValue){var k=m.value;if(p(k,N))return S=k}return S=N}if(k=S,n(x,N))return k;var C=h(N);return p!==void 0&&p(k,C)?(x=N,k):(x=N,S=C)}var b=!1,x,S,_=f===void 0?null:f;return[function(){return v(d())},_===null?void 0:function(){return v(_())}]},[d,f,h,p]);var y=s(c,g[0],g[1]);return o(function(){m.hasValue=!0,m.value=y},[y]),l(y),y},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())}()),Yb}process.env.NODE_ENV==="production"?Qx.exports=Hae():Qx.exports=Yae();var Gae=Qx.exports,WS=w.createContext(null),Zae=e=>e,Vt=()=>{var e=w.useContext(WS);return e?e.store.dispatch:Zae},Qp=()=>{},Xae=()=>Qp,Jae=(e,t)=>e===t;function De(e){var t=w.useContext(WS);return Gae.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Xae,t?t.store.getState:Qp,t?t.store.getState:Qp,t?e:Qp,Jae)}var Qae=(e,t,r)=>{if(t.length===1&&t[0]===r){let n=!1;try{const s={};e(s)===s&&(n=!0)}catch{}if(n){let s;try{throw new Error}catch(i){({stack:s}=i)}console.warn(`The result function returned its own inputs without modification. e.g
\`createSelector([state => state.todos], todos => todos)\`
This could lead to inefficient memoization and unnecessary re-renders.
Ensure transformation logic is in the result function, and extraction logic is in the input selectors.`,{stack:s})}}},ele=(e,t,r)=>{const{memoize:n,memoizeOptions:s}=t,{inputSelectorResults:i,inputSelectorResultsCopy:o}=e,a=n(()=>({}),...s);if(!(a.apply(null,i)===a.apply(null,o))){let c;try{throw new Error}catch(d){({stack:c}=d)}console.warn(`An input selector returned a different result when passed same arguments.
This means your output selector will likely run more frequently than intended.
Avoid returning a new reference inside your input selector, e.g.
\`createSelector([state => state.todos.map(todo => todo.id)], todoIds => todoIds.length)\``,{arguments:r,firstInputs:i,secondInputs:o,stack:c})}},tle={inputStabilityCheck:"once",identityFunctionCheck:"once"};function rle(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function nle(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function sle(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var hA=e=>Array.isArray(e)?e:[e];function ile(e){const t=Array.isArray(e[0])?e[0]:e;return sle(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function pA(e,t){const r=[],{length:n}=e;for(let s=0;s<n;s++)r.push(e[s].apply(null,t));return r}var ole=(e,t)=>{const{identityFunctionCheck:r,inputStabilityCheck:n}={...tle,...t};return{identityFunctionCheck:{shouldRun:r==="always"||r==="once"&&e,run:Qae},inputStabilityCheck:{shouldRun:n==="always"||n==="once"&&e,run:ele}}},ale=class{constructor(e){this.value=e}deref(){return this.value}},lle=typeof WeakRef<"u"?WeakRef:ale,cle=0,mA=1;function vp(){return{s:cle,v:void 0,o:null,p:null}}function E5(e,t={}){let r=vp();const{resultEqualityCheck:n}=t;let s,i=0;function o(){var f;let a=r;const{length:l}=arguments;for(let h=0,p=l;h<p;h++){const g=arguments[h];if(typeof g=="function"||typeof g=="object"&&g!==null){let m=a.o;m===null&&(a.o=m=new WeakMap);const y=m.get(g);y===void 0?(a=vp(),m.set(g,a)):a=y}else{let m=a.p;m===null&&(a.p=m=new Map);const y=m.get(g);y===void 0?(a=vp(),m.set(g,a)):a=y}}const c=a;let d;if(a.s===mA)d=a.v;else if(d=e.apply(null,arguments),i++,n){const h=((f=s==null?void 0:s.deref)==null?void 0:f.call(s))??s;h!=null&&n(h,d)&&(d=h,i!==0&&i--),s=typeof d=="object"&&d!==null||typeof d=="function"?new lle(d):d}return c.s=mA,c.v=d,d}return o.clearCache=()=>{r=vp(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function ule(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...s)=>{let i=0,o=0,a,l={},c=s.pop();typeof c=="object"&&(l=c,c=s.pop()),rle(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const d={...r,...l},{memoize:f,memoizeOptions:h=[],argsMemoize:p=E5,argsMemoizeOptions:g=[],devModeChecks:m={}}=d,y=hA(h),v=hA(g),b=ile(s),x=f(function(){return i++,c.apply(null,arguments)},...y);let S=!0;const _=p(function(){o++;const k=pA(b,arguments);if(a=x.apply(null,k),process.env.NODE_ENV!=="production"){const{identityFunctionCheck:C,inputStabilityCheck:A}=ole(S,m);if(C.shouldRun&&C.run(c,k,a),A.shouldRun){const I=pA(b,arguments);A.run({inputSelectorResults:k,inputSelectorResultsCopy:I},{memoize:f,memoizeOptions:y},arguments)}S&&(S=!1)}return a},...v);return Object.assign(_,{resultFunc:c,memoizedResultFunc:x,dependencies:b,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>a,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:p})};return Object.assign(n,{withTypes:()=>n}),n}var ee=ule(E5),dle=Object.assign((e,t=ee)=>{nle(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((o,a,l)=>(o[r[l]]=a,o),{}))},{withTypes:()=>dle}),j5={},N5={},k5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,s,i)=>{if(n!==s){const o=t(n),a=t(s);if(o===a&&o===0){if(n<s)return i==="desc"?1:-1;if(n>s)return i==="desc"?-1:1}return i==="desc"?a-o:o-a}return 0};e.compareValues=r})(k5);var C5={},KS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(KS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KS,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=s})(C5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k5,r=C5,n=by;function s(i,o,a,l){if(i==null)return[];a=l?void 0:a,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(a)||(a=a==null?[]:[a]),a=a.map(p=>String(p));const c=(p,g)=>{let m=p;for(let y=0;y<g.length&&m!=null;++y)m=m[g[y]];return m},d=(p,g)=>g==null||p==null?g:typeof p=="object"&&"key"in p?Object.hasOwn(g,p.key)?g[p.key]:c(g,p.path):typeof p=="function"?p(g):Array.isArray(p)?c(g,p):typeof g=="object"?g[p]:g,f=o.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||r.isKey(p)?p:{key:p,path:n.toPath(p)}));return i.map(p=>({original:p,criteria:f.map(g=>d(g,p))})).slice().sort((p,g)=>{for(let m=0;m<f.length;m++){const y=t.compareValues(p.criteria[m],g.criteria[m],a[m]);if(y!==0)return y}return 0}).map(p=>p.original)}e.orderBy=s})(N5);var T5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const s=[],i=Math.floor(n),o=(a,l)=>{for(let c=0;c<a.length;c++){const d=a[c];Array.isArray(d)&&l<i?o(d,l+1):s.push(d)}};return o(r,0),s}e.flatten=t})(T5);var HS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VS,r=Ey,n=FS,s=jy;function i(o,a,l){return n.isObject(l)&&(typeof a=="number"&&r.isArrayLike(l)&&t.isIndex(a)&&a<l.length||typeof a=="string"&&a in l)?s.eq(l[a],o):!1}e.isIterateeCall=i})(HS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=N5,r=T5,n=HS;function s(i,...o){const a=o.length;return a>1&&n.isIterateeCall(i,o[0],o[1])?o=[]:a>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=s})(j5);var fle=j5.sortBy;const Cy=Gs(fle);var A5=e=>e.legend.settings,hle=e=>e.legend.size,ple=e=>e.legend.payload,mle=ee([ple,A5],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Cy(n,r):n});function gle(){return De(mle)}var bp=1;function P5(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=w.useState({height:0,left:0,top:0,width:0}),n=w.useCallback(s=>{if(s!=null){var i=s.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>bp||Math.abs(o.left-t.left)>bp||Math.abs(o.top-t.top)>bp||Math.abs(o.width-t.width)>bp)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function $r(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var yle=typeof Symbol=="function"&&Symbol.observable||"@@observable",gA=yle,Gb=()=>Math.random().toString(36).substring(7).split("").join("."),vle={INIT:`@@redux/INIT${Gb()}`,REPLACE:`@@redux/REPLACE${Gb()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Gb()}`},sl=vle;function oh(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function ble(e){if(e===void 0)return"undefined";if(e===null)return"null";const t=typeof e;switch(t){case"boolean":case"string":case"number":case"symbol":case"function":return t}if(Array.isArray(e))return"array";if(_le(e))return"date";if(wle(e))return"error";const r=xle(e);switch(r){case"Symbol":case"Promise":case"WeakMap":case"WeakSet":case"Map":case"Set":return r}return Object.prototype.toString.call(e).slice(8,-1).toLowerCase().replace(/\s/g,"")}function xle(e){return typeof e.constructor=="function"?e.constructor.name:null}function wle(e){return e instanceof Error||typeof e.message=="string"&&e.constructor&&typeof e.constructor.stackTraceLimit=="number"}function _le(e){return e instanceof Date?!0:typeof e.toDateString=="function"&&typeof e.getDate=="function"&&typeof e.setDate=="function"}function Ko(e){let t=typeof e;return process.env.NODE_ENV!=="production"&&(t=ble(e)),t}function O5(e,t,r){if(typeof e!="function")throw new Error(process.env.NODE_ENV==="production"?$r(2):`Expected the root reducer to be a function. Instead, received: '${Ko(e)}'`);if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(process.env.NODE_ENV==="production"?$r(0):"It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.");if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(process.env.NODE_ENV==="production"?$r(1):`Expected the enhancer to be a function. Instead, received: '${Ko(r)}'`);return r(O5)(e,t)}let n=e,s=t,i=new Map,o=i,a=0,l=!1;function c(){o===i&&(o=new Map,i.forEach((y,v)=>{o.set(v,y)}))}function d(){if(l)throw new Error(process.env.NODE_ENV==="production"?$r(3):"You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return s}function f(y){if(typeof y!="function")throw new Error(process.env.NODE_ENV==="production"?$r(4):`Expected the listener to be a function. Instead, received: '${Ko(y)}'`);if(l)throw new Error(process.env.NODE_ENV==="production"?$r(5):"You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api/store#subscribelistener for more details.");let v=!0;c();const b=a++;return o.set(b,y),function(){if(v){if(l)throw new Error(process.env.NODE_ENV==="production"?$r(6):"You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api/store#subscribelistener for more details.");v=!1,c(),o.delete(b),i=null}}}function h(y){if(!oh(y))throw new Error(process.env.NODE_ENV==="production"?$r(7):`Actions must be plain objects. Instead, the actual type was: '${Ko(y)}'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.`);if(typeof y.type>"u")throw new Error(process.env.NODE_ENV==="production"?$r(8):'Actions may not have an undefined "type" property. You may have misspelled an action type string constant.');if(typeof y.type!="string")throw new Error(process.env.NODE_ENV==="production"?$r(17):`Action "type" property must be a string. Instead, the actual type was: '${Ko(y.type)}'. Value was: '${y.type}' (stringified)`);if(l)throw new Error(process.env.NODE_ENV==="production"?$r(9):"Reducers may not dispatch actions.");try{l=!0,s=n(s,y)}finally{l=!1}return(i=o).forEach(b=>{b()}),y}function p(y){if(typeof y!="function")throw new Error(process.env.NODE_ENV==="production"?$r(10):`Expected the nextReducer to be a function. Instead, received: '${Ko(y)}`);n=y,h({type:sl.REPLACE})}function g(){const y=f;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(process.env.NODE_ENV==="production"?$r(11):`Expected the observer to be an object. Instead, received: '${Ko(v)}'`);function b(){const S=v;S.next&&S.next(d())}return b(),{unsubscribe:y(b)}},[gA](){return this}}}return h({type:sl.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:p,[gA]:g}}function yA(e){typeof console<"u"&&typeof console.error=="function"&&console.error(e);try{throw new Error(e)}catch{}}function Sle(e,t,r,n){const s=Object.keys(t),i=r&&r.type===sl.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(s.length===0)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!oh(e))return`The ${i} has unexpected type of "${Ko(e)}". Expected argument to be an object with the following keys: "${s.join('", "')}"`;const o=Object.keys(e).filter(a=>!t.hasOwnProperty(a)&&!n[a]);if(o.forEach(a=>{n[a]=!0}),!(r&&r.type===sl.REPLACE)&&o.length>0)return`Unexpected ${o.length>1?"keys":"key"} "${o.join('", "')}" found in ${i}. Expected to find one of the known reducer keys instead: "${s.join('", "')}". Unexpected keys will be ignored.`}function Ele(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:sl.INIT})>"u")throw new Error(process.env.NODE_ENV==="production"?$r(12):`The slice reducer for key "${t}" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.`);if(typeof r(void 0,{type:sl.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(process.env.NODE_ENV==="production"?$r(13):`The slice reducer for key "${t}" returned undefined when probed with a random type. Don't try to handle '${sl.INIT}' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.`)})}function D5(e){const t=Object.keys(e),r={};for(let o=0;o<t.length;o++){const a=t[o];process.env.NODE_ENV!=="production"&&typeof e[a]>"u"&&yA(`No reducer provided for key "${a}"`),typeof e[a]=="function"&&(r[a]=e[a])}const n=Object.keys(r);let s;process.env.NODE_ENV!=="production"&&(s={});let i;try{Ele(r)}catch(o){i=o}return function(a={},l){if(i)throw i;if(process.env.NODE_ENV!=="production"){const f=Sle(a,r,l,s);f&&yA(f)}let c=!1;const d={};for(let f=0;f<n.length;f++){const h=n[f],p=r[h],g=a[h],m=p(g,l);if(typeof m>"u"){const y=l&&l.type;throw new Error(process.env.NODE_ENV==="production"?$r(14):`When called with an action of type ${y?`"${String(y)}"`:"(unknown type)"}, the slice reducer for key "${h}" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.`)}d[h]=m,c=c||m!==g}return c=c||n.length!==Object.keys(a).length,c?d:a}}function Im(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function jle(...e){return t=>(r,n)=>{const s=t(r,n);let i=()=>{throw new Error(process.env.NODE_ENV==="production"?$r(15):"Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")};const o={getState:s.getState,dispatch:(l,...c)=>i(l,...c)},a=e.map(l=>l(o));return i=Im(...a)(s.dispatch),{...s,dispatch:i}}}function YS(e){return oh(e)&&"type"in e&&typeof e.type=="string"}var $5=Symbol.for("immer-nothing"),vA=Symbol.for("immer-draftable"),zn=Symbol.for("immer-state"),Nle=process.env.NODE_ENV!=="production"?[function(e){return`The plugin for '${e}' has not been loaded into Immer. To enable the plugin, import and call \`enable${e}()\` when initializing your application.`},function(e){return`produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '${e}'`},"This object has been frozen and should not be mutated",function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.","Immer forbids circular references","The first or second argument to `produce` must be a function","The third argument to `produce` must be a function or undefined","First argument to `createDraft` must be a plain object, an array, or an immerable object","First argument to `finishDraft` must be a draft returned by `createDraft`",function(e){return`'current' expects a draft, got: ${e}`},"Object.defineProperty() cannot be used on an Immer draft","Object.setPrototypeOf() cannot be used on an Immer draft","Immer only supports deleting array indices","Immer only supports setting array indices and the 'length' property",function(e){return`'original' expects a draft, got: ${e}`}]:[];function vn(e,...t){if(process.env.NODE_ENV!=="production"){const r=Nle[e],n=typeof r=="function"?r.apply(null,t):r;throw new Error(`[Immer] ${n}`)}throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ou=Object.getPrototypeOf;function yl(e){return!!e&&!!e[zn]}function uo(e){var t;return e?R5(e)||Array.isArray(e)||!!e[vA]||!!((t=e.constructor)!=null&&t[vA])||Ay(e)||Py(e):!1}var kle=Object.prototype.constructor.toString();function R5(e){if(!e||typeof e!="object")return!1;const t=ou(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===kle}function Mm(e,t){Ty(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function Ty(e){const t=e[zn];return t?t.type_:Array.isArray(e)?1:Ay(e)?2:Py(e)?3:0}function ew(e,t){return Ty(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function I5(e,t,r){const n=Ty(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function Cle(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Ay(e){return e instanceof Map}function Py(e){return e instanceof Set}function qa(e){return e.copy_||e.base_}function tw(e,t){if(Ay(e))return new Map(e);if(Py(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=R5(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[zn];let s=Reflect.ownKeys(n);for(let i=0;i<s.length;i++){const o=s[i],a=n[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(n[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[o]})}return Object.create(ou(e),n)}else{const n=ou(e);if(n!==null&&r)return{...e};const s=Object.create(n);return Object.assign(s,e)}}function GS(e,t=!1){return Oy(e)||yl(e)||!uo(e)||(Ty(e)>1&&(e.set=e.add=e.clear=e.delete=Tle),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>GS(n,!0))),e}function Tle(){vn(2)}function Oy(e){return Object.isFrozen(e)}var Ale={};function vl(e){const t=Ale[e];return t||vn(0,e),t}var Ef;function M5(){return Ef}function Ple(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function bA(e,t){t&&(vl("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function rw(e){nw(e),e.drafts_.forEach(Ole),e.drafts_=null}function nw(e){e===Ef&&(Ef=e.parent_)}function xA(e){return Ef=Ple(Ef,e)}function Ole(e){const t=e[zn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function wA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[zn].modified_&&(rw(t),vn(4)),uo(e)&&(e=Lm(t,e),t.parent_||Fm(t,e)),t.patches_&&vl("Patches").generateReplacementPatches_(r[zn].base_,e,t.patches_,t.inversePatches_)):e=Lm(t,r,[]),rw(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==$5?e:void 0}function Lm(e,t,r){if(Oy(t))return t;const n=t[zn];if(!n)return Mm(t,(s,i)=>_A(e,n,t,s,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Fm(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const s=n.copy_;let i=s,o=!1;n.type_===3&&(i=new Set(s),s.clear(),o=!0),Mm(i,(a,l)=>_A(e,n,s,a,l,r,o)),Fm(e,s,!1),r&&e.patches_&&vl("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function _A(e,t,r,n,s,i,o){if(process.env.NODE_ENV!=="production"&&s===r&&vn(5),yl(s)){const a=i&&t&&t.type_!==3&&!ew(t.assigned_,n)?i.concat(n):void 0,l=Lm(e,s,a);if(I5(r,n,l),yl(l))e.canAutoFreeze_=!1;else return}else o&&r.add(s);if(uo(s)&&!Oy(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Lm(e,s),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&Fm(e,s)}}function Fm(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&GS(t,r)}function Dle(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:M5(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,i=ZS;r&&(s=[n],i=jf);const{revoke:o,proxy:a}=Proxy.revocable(s,i);return n.draft_=a,n.revoke_=o,a}var ZS={get(e,t){if(t===zn)return e;const r=qa(e);if(!ew(r,t))return $le(e,r,t);const n=r[t];return e.finalized_||!uo(n)?n:n===Zb(e.base_,t)?(Xb(e),e.copy_[t]=iw(n,e)):n},has(e,t){return t in qa(e)},ownKeys(e){return Reflect.ownKeys(qa(e))},set(e,t,r){const n=L5(qa(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const s=Zb(qa(e),t),i=s==null?void 0:s[zn];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(Cle(r,s)&&(r!==void 0||ew(e.base_,t)))return!0;Xb(e),sw(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Zb(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Xb(e),sw(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=qa(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){vn(11)},getPrototypeOf(e){return ou(e.base_)},setPrototypeOf(){vn(12)}},jf={};Mm(ZS,(e,t)=>{jf[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});jf.deleteProperty=function(e,t){return process.env.NODE_ENV!=="production"&&isNaN(parseInt(t))&&vn(13),jf.set.call(this,e,t,void 0)};jf.set=function(e,t,r){return process.env.NODE_ENV!=="production"&&t!=="length"&&isNaN(parseInt(t))&&vn(14),ZS.set.call(this,e[0],t,r,e[0])};function Zb(e,t){const r=e[zn];return(r?qa(r):e)[t]}function $le(e,t,r){var s;const n=L5(t,r);return n?"value"in n?n.value:(s=n.get)==null?void 0:s.call(e.draft_):void 0}function L5(e,t){if(!(t in e))return;let r=ou(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=ou(r)}}function sw(e){e.modified_||(e.modified_=!0,e.parent_&&sw(e.parent_))}function Xb(e){e.copy_||(e.copy_=tw(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Rle=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(l=i,...c){return o.produce(l,d=>r.call(this,d,...c))}}typeof r!="function"&&vn(6),n!==void 0&&typeof n!="function"&&vn(7);let s;if(uo(t)){const i=xA(this),o=iw(t,void 0);let a=!0;try{s=r(o),a=!1}finally{a?rw(i):nw(i)}return bA(i,n),wA(s,i)}else if(!t||typeof t!="object"){if(s=r(t),s===void 0&&(s=t),s===$5&&(s=void 0),this.autoFreeze_&&GS(s,!0),n){const i=[],o=[];vl("Patches").generateReplacementPatches_(t,s,i,o),n(i,o)}return s}else vn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...a)=>this.produceWithPatches(o,l=>t(l,...a));let n,s;return[this.produce(t,r,(o,a)=>{n=o,s=a}),n,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){uo(e)||vn(8),yl(e)&&(e=to(e));const t=xA(this),r=iw(e,void 0);return r[zn].isManual_=!0,nw(t),r}finishDraft(e,t){const r=e&&e[zn];(!r||!r.isManual_)&&vn(9);const{scope_:n}=r;return bA(n,t),wA(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const n=vl("Patches").applyPatches_;return yl(e)?n(e,t):this.produce(e,s=>n(s,t))}};function iw(e,t){const r=Ay(e)?vl("MapSet").proxyMap_(e,t):Py(e)?vl("MapSet").proxySet_(e,t):Dle(e,t);return(t?t.scope_:M5()).drafts_.push(r),r}function to(e){return yl(e)||vn(10,e),F5(e)}function F5(e){if(!uo(e)||Oy(e))return e;const t=e[zn];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=tw(e,t.scope_.immer_.useStrictShallowCopy_)}else r=tw(e,!0);return Mm(r,(n,s)=>{I5(r,n,F5(s))}),t&&(t.finalized_=!1),r}var Un=new Rle,B5=Un.produce;Un.produceWithPatches.bind(Un);Un.setAutoFreeze.bind(Un);Un.setUseStrictShallowCopy.bind(Un);Un.applyPatches.bind(Un);Un.createDraft.bind(Un);Un.finishDraft.bind(Un);function z5(e){return({dispatch:r,getState:n})=>s=>i=>typeof i=="function"?i(r,n,e):s(i)}var Ile=z5(),Mle=z5,Lle=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Im:Im.apply(null,arguments)},Fle=e=>e&&typeof e.match=="function";function ms(e,t){function r(...n){if(t){let s=t(...n);if(!s)throw new Error(process.env.NODE_ENV==="production"?ut(0):"prepareAction did not return an object");return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>YS(n)&&n.type===e,r}function Ble(e){return typeof e=="function"&&"type"in e&&Fle(e)}function zle(e){const t=e?`${e}`.split("/"):[],r=t[t.length-1]||"actionCreator";return`Detected an action creator with type "${e||"unknown"}" being dispatched. 
Make sure you're calling the action creator before dispatching, i.e. \`dispatch(${r}())\` instead of \`dispatch(${r})\`. This is necessary even if the action has no payload.`}function Ule(e={}){if(process.env.NODE_ENV==="production")return()=>r=>n=>r(n);const{isActionCreator:t=Ble}=e;return()=>r=>n=>(t(n)&&console.warn(zle(n.type)),r(n))}function U5(e,t){let r=0;return{measureTime(n){const s=Date.now();try{return n()}finally{const i=Date.now();r+=i-s}},warnIfExceeded(){r>e&&console.warn(`${t} took ${r}ms, which is more than the warning threshold of ${e}ms. 
If your state or actions are very large, you may want to disable the middleware as it might cause too much of a slowdown in development mode. See https://redux-toolkit.js.org/api/getDefaultMiddleware for instructions.
It is disabled in production builds, so you don't need to worry about that.`)}}}var q5=class Ad extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Ad.prototype)}static get[Symbol.species](){return Ad}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Ad(...t[0].concat(this)):new Ad(...t.concat(this))}};function SA(e){return uo(e)?B5(e,()=>{}):e}function xp(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function qle(e){return typeof e!="object"||e==null||Object.isFrozen(e)}function Vle(e,t,r){const n=V5(e,t,r);return{detectMutations(){return W5(e,t,n,r)}}}function V5(e,t=[],r,n="",s=new Set){const i={value:r};if(!e(r)&&!s.has(r)){s.add(r),i.children={};for(const o in r){const a=n?n+"."+o:o;t.length&&t.indexOf(a)!==-1||(i.children[o]=V5(e,t,r[o],a))}}return i}function W5(e,t=[],r,n,s=!1,i=""){const o=r?r.value:void 0,a=o===n;if(s&&!a&&!Number.isNaN(n))return{wasMutated:!0,path:i};if(e(o)||e(n))return{wasMutated:!1};const l={};for(let d in r.children)l[d]=!0;for(let d in n)l[d]=!0;const c=t.length>0;for(let d in l){const f=i?i+"."+d:d;if(c&&t.some(g=>g instanceof RegExp?g.test(f):f===g))continue;const h=W5(e,t,r.children[d],n[d],a,f);if(h.wasMutated)return h}return{wasMutated:!1}}function Wle(e={}){if(process.env.NODE_ENV==="production")return()=>t=>r=>t(r);{let t=function(a,l,c,d){return JSON.stringify(a,r(l,d),c)},r=function(a,l){let c=[],d=[];return l||(l=function(f,h){return c[0]===h?"[Circular ~]":"[Circular ~."+d.slice(0,c.indexOf(h)).join(".")+"]"}),function(f,h){if(c.length>0){var p=c.indexOf(this);~p?c.splice(p+1):c.push(this),~p?d.splice(p,1/0,f):d.push(f),~c.indexOf(h)&&(h=l.call(this,f,h))}else c.push(h);return a==null?h:a.call(this,f,h)}},{isImmutable:n=qle,ignoredPaths:s,warnAfter:i=32}=e;const o=Vle.bind(null,n,s);return({getState:a})=>{let l=a(),c=o(l),d;return f=>h=>{const p=U5(i,"ImmutableStateInvariantMiddleware");p.measureTime(()=>{if(l=a(),d=c.detectMutations(),c=o(l),d.wasMutated)throw new Error(process.env.NODE_ENV==="production"?ut(19):`A state mutation was detected between dispatches, in the path '${d.path||""}'.  This may cause incorrect behavior. (https://redux.js.org/style-guide/style-guide#do-not-mutate-state)`)});const g=f(h);return p.measureTime(()=>{if(l=a(),d=c.detectMutations(),c=o(l),d.wasMutated)throw new Error(process.env.NODE_ENV==="production"?ut(20):`A state mutation was detected inside a dispatch, in the path: ${d.path||""}. Take a look at the reducer(s) handling the action ${t(h)}. (https://redux.js.org/style-guide/style-guide#do-not-mutate-state)`)}),p.warnIfExceeded(),g}}}}function K5(e){const t=typeof e;return e==null||t==="string"||t==="boolean"||t==="number"||Array.isArray(e)||oh(e)}function ow(e,t="",r=K5,n,s=[],i){let o;if(!r(e))return{keyPath:t||"<root>",value:e};if(typeof e!="object"||e===null||i!=null&&i.has(e))return!1;const a=n!=null?n(e):Object.entries(e),l=s.length>0;for(const[c,d]of a){const f=t?t+"."+c:c;if(!(l&&s.some(p=>p instanceof RegExp?p.test(f):f===p))){if(!r(d))return{keyPath:f,value:d};if(typeof d=="object"&&(o=ow(d,f,r,n,s,i),o))return o}}return i&&H5(e)&&i.add(e),!1}function H5(e){if(!Object.isFrozen(e))return!1;for(const t of Object.values(e))if(!(typeof t!="object"||t===null)&&!H5(t))return!1;return!0}function Kle(e={}){if(process.env.NODE_ENV==="production")return()=>t=>r=>t(r);{const{isSerializable:t=K5,getEntries:r,ignoredActions:n=[],ignoredActionPaths:s=["meta.arg","meta.baseQueryMeta"],ignoredPaths:i=[],warnAfter:o=32,ignoreState:a=!1,ignoreActions:l=!1,disableCache:c=!1}=e,d=!c&&WeakSet?new WeakSet:void 0;return f=>h=>p=>{if(!YS(p))return h(p);const g=h(p),m=U5(o,"SerializableStateInvariantMiddleware");return!l&&!(n.length&&n.indexOf(p.type)!==-1)&&m.measureTime(()=>{const y=ow(p,"",t,r,s,d);if(y){const{keyPath:v,value:b}=y;console.error(`A non-serializable value was detected in an action, in the path: \`${v}\`. Value:`,b,`
Take a look at the logic that dispatched this action: `,p,`
(See https://redux.js.org/faq/actions#why-should-type-be-a-string-or-at-least-serializable-why-should-my-action-types-be-constants)`,`
(To allow non-serializable values see: https://redux-toolkit.js.org/usage/usage-guide#working-with-non-serializable-data)`)}}),a||(m.measureTime(()=>{const y=f.getState(),v=ow(y,"",t,r,i,d);if(v){const{keyPath:b,value:x}=v;console.error(`A non-serializable value was detected in the state, in the path: \`${b}\`. Value:`,x,`
Take a look at the reducer(s) handling this action type: ${p.type}.
(See https://redux.js.org/faq/organizing-state#can-i-put-functions-promises-or-other-non-serializable-items-in-my-store-state)`)}}),m.warnIfExceeded()),g}}}function wp(e){return typeof e=="boolean"}var Hle=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=t??{};let o=new q5;if(r&&(wp(r)?o.push(Ile):o.push(Mle(r.extraArgument))),process.env.NODE_ENV!=="production"){if(n){let a={};wp(n)||(a=n),o.unshift(Wle(a))}if(s){let a={};wp(s)||(a=s),o.push(Kle(a))}if(i){let a={};wp(i)||(a=i),o.unshift(Ule(a))}}return o},Yle="RTK_autoBatch",EA=e=>t=>{setTimeout(t,e)},Gle=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let s=!0,i=!1,o=!1;const a=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:EA(10):e.type==="callback"?e.queueNotification:EA(e.timeout),c=()=>{o=!1,i&&(i=!1,a.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>s&&d(),h=n.subscribe(f);return a.add(d),()=>{h(),a.delete(d)}},dispatch(d){var f;try{return s=!((f=d==null?void 0:d.meta)!=null&&f[Yle]),i=!s,i&&(o||(o=!0,l(c))),n.dispatch(d)}finally{s=!0}}})},Zle=e=>function(r){const{autoBatch:n=!0}=r??{};let s=new q5(e);return n&&s.push(Gle(typeof n=="object"?n:void 0)),s};function Xle(e){const t=Hle(),{reducer:r=void 0,middleware:n,devTools:s=!0,duplicateMiddlewareCheck:i=!0,preloadedState:o=void 0,enhancers:a=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(oh(r))l=D5(r);else throw new Error(process.env.NODE_ENV==="production"?ut(1):"`reducer` is a required argument, and must be a function or an object of functions that can be passed to combineReducers");if(process.env.NODE_ENV!=="production"&&n&&typeof n!="function")throw new Error(process.env.NODE_ENV==="production"?ut(2):"`middleware` field must be a callback");let c;if(typeof n=="function"){if(c=n(t),process.env.NODE_ENV!=="production"&&!Array.isArray(c))throw new Error(process.env.NODE_ENV==="production"?ut(3):"when using a middleware builder function, an array of middleware must be returned")}else c=t();if(process.env.NODE_ENV!=="production"&&c.some(m=>typeof m!="function"))throw new Error(process.env.NODE_ENV==="production"?ut(4):"each middleware provided to configureStore must be a function");if(process.env.NODE_ENV!=="production"&&i){let m=new Set;c.forEach(y=>{if(m.has(y))throw new Error(process.env.NODE_ENV==="production"?ut(42):"Duplicate middleware references found when creating the store. Ensure that each middleware is only included once.");m.add(y)})}let d=Im;s&&(d=Lle({trace:process.env.NODE_ENV!=="production",...typeof s=="object"&&s}));const f=jle(...c),h=Zle(f);if(process.env.NODE_ENV!=="production"&&a&&typeof a!="function")throw new Error(process.env.NODE_ENV==="production"?ut(5):"`enhancers` field must be a callback");let p=typeof a=="function"?a(h):h();if(process.env.NODE_ENV!=="production"&&!Array.isArray(p))throw new Error(process.env.NODE_ENV==="production"?ut(6):"`enhancers` callback must return an array");if(process.env.NODE_ENV!=="production"&&p.some(m=>typeof m!="function"))throw new Error(process.env.NODE_ENV==="production"?ut(7):"each enhancer provided to configureStore must be a function");process.env.NODE_ENV!=="production"&&c.length&&!p.includes(f)&&console.error("middlewares were provided, but middleware enhancer was not included in final enhancers - make sure to call `getDefaultEnhancers`");const g=d(...p);return O5(l,o,g)}function Y5(e){const t={},r=[];let n;const s={addCase(i,o){if(process.env.NODE_ENV!=="production"){if(r.length>0)throw new Error(process.env.NODE_ENV==="production"?ut(26):"`builder.addCase` should only be called before calling `builder.addMatcher`");if(n)throw new Error(process.env.NODE_ENV==="production"?ut(27):"`builder.addCase` should only be called before calling `builder.addDefaultCase`")}const a=typeof i=="string"?i:i.type;if(!a)throw new Error(process.env.NODE_ENV==="production"?ut(28):"`builder.addCase` cannot be called with an empty action type");if(a in t)throw new Error(process.env.NODE_ENV==="production"?ut(29):`\`builder.addCase\` cannot be called with two reducers for the same action type '${a}'`);return t[a]=o,s},addMatcher(i,o){if(process.env.NODE_ENV!=="production"&&n)throw new Error(process.env.NODE_ENV==="production"?ut(30):"`builder.addMatcher` should only be called before calling `builder.addDefaultCase`");return r.push({matcher:i,reducer:o}),s},addDefaultCase(i){if(process.env.NODE_ENV!=="production"&&n)throw new Error(process.env.NODE_ENV==="production"?ut(31):"`builder.addDefaultCase` can only be called once");return n=i,s}};return e(s),[t,r,n]}function Jle(e){return typeof e=="function"}function Qle(e,t){if(process.env.NODE_ENV!=="production"&&typeof t=="object")throw new Error(process.env.NODE_ENV==="production"?ut(8):"The object notation for `createReducer` has been removed. Please use the 'builder callback' notation instead: https://redux-toolkit.js.org/api/createReducer");let[r,n,s]=Y5(t),i;if(Jle(e))i=()=>SA(e());else{const a=SA(e);i=()=>a}function o(a=i(),l){let c=[r[l.type],...n.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[s]),c.reduce((d,f)=>{if(f)if(yl(d)){const p=f(d,l);return p===void 0?d:p}else{if(uo(d))return B5(d,h=>f(h,l));{const h=f(d,l);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},a)}return o.getInitialState=i,o}var ece="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",tce=(e=21)=>{let t="",r=e;for(;r--;)t+=ece[Math.random()*64|0];return t},rce=Symbol.for("rtk-slice-createasyncthunk");function nce(e,t){return`${e}/${t}`}function sce({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[rce];return function(s){const{name:i,reducerPath:o=i}=s;if(!i)throw new Error(process.env.NODE_ENV==="production"?ut(11):"`name` is a required option for createSlice");typeof process<"u"&&process.env.NODE_ENV==="development"&&s.initialState===void 0&&console.error("You must provide an `initialState` value that is not `undefined`. You may have misspelled `initialState`");const a=(typeof s.reducers=="function"?s.reducers(oce()):s.reducers)||{},l=Object.keys(a),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(S,_){const N=typeof S=="string"?S:S.type;if(!N)throw new Error(process.env.NODE_ENV==="production"?ut(12):"`context.addCase` cannot be called with an empty action type");if(N in c.sliceCaseReducersByType)throw new Error(process.env.NODE_ENV==="production"?ut(13):"`context.addCase` cannot be called with two reducers for the same action type: "+N);return c.sliceCaseReducersByType[N]=_,d},addMatcher(S,_){return c.sliceMatchers.push({matcher:S,reducer:_}),d},exposeAction(S,_){return c.actionCreators[S]=_,d},exposeCaseReducer(S,_){return c.sliceCaseReducersByName[S]=_,d}};l.forEach(S=>{const _=a[S],N={reducerName:S,type:nce(i,S),createNotation:typeof s.reducers=="function"};lce(_)?uce(N,_,d,t):ace(N,_,d)});function f(){if(process.env.NODE_ENV!=="production"&&typeof s.extraReducers=="object")throw new Error(process.env.NODE_ENV==="production"?ut(14):"The object notation for `createSlice.extraReducers` has been removed. Please use the 'builder callback' notation instead: https://redux-toolkit.js.org/api/createSlice");const[S={},_=[],N=void 0]=typeof s.extraReducers=="function"?Y5(s.extraReducers):[s.extraReducers],k={...S,...c.sliceCaseReducersByType};return Qle(s.initialState,C=>{for(let A in k)C.addCase(A,k[A]);for(let A of c.sliceMatchers)C.addMatcher(A.matcher,A.reducer);for(let A of _)C.addMatcher(A.matcher,A.reducer);N&&C.addDefaultCase(N)})}const h=S=>S,p=new Map,g=new WeakMap;let m;function y(S,_){return m||(m=f()),m(S,_)}function v(){return m||(m=f()),m.getInitialState()}function b(S,_=!1){function N(C){let A=C[S];if(typeof A>"u"){if(_)A=xp(g,N,v);else if(process.env.NODE_ENV!=="production")throw new Error(process.env.NODE_ENV==="production"?ut(15):"selectSlice returned undefined for an uninjected slice reducer")}return A}function k(C=h){const A=xp(p,_,()=>new WeakMap);return xp(A,C,()=>{const I={};for(const[M,L]of Object.entries(s.selectors??{}))I[M]=ice(L,C,()=>xp(g,C,v),_);return I})}return{reducerPath:S,getSelectors:k,get selectors(){return k(N)},selectSlice:N}}const x={name:i,reducer:y,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:v,...b(o),injectInto(S,{reducerPath:_,...N}={}){const k=_??o;return S.inject({reducerPath:k,reducer:y},N),{...x,...b(k,!0)}}};return x}}function ice(e,t,r,n){function s(i,...o){let a=t(i);if(typeof a>"u"){if(n)a=r();else if(process.env.NODE_ENV!=="production")throw new Error(process.env.NODE_ENV==="production"?ut(16):"selectState returned undefined for an uninjected slice reducer")}return e(a,...o)}return s.unwrapped=e,s}var qn=sce();function oce(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function ace({type:e,reducerName:t,createNotation:r},n,s){let i,o;if("reducer"in n){if(r&&!cce(n))throw new Error(process.env.NODE_ENV==="production"?ut(17):"Please use the `create.preparedReducer` notation for prepared action creators with the `create` notation.");i=n.reducer,o=n.prepare}else i=n;s.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?ms(e,o):ms(e))}function lce(e){return e._reducerDefinitionType==="asyncThunk"}function cce(e){return e._reducerDefinitionType==="reducerWithPrepare"}function uce({type:e,reducerName:t},r,n,s){if(!s)throw new Error(process.env.NODE_ENV==="production"?ut(18):"Cannot use `create.asyncThunk` in the built-in `createSlice`. Use `buildCreateSlice({ creators: { asyncThunk: asyncThunkCreator } })` to create a customised version of `createSlice`.");const{payloadCreator:i,fulfilled:o,pending:a,rejected:l,settled:c,options:d}=r,f=s(e,i,d);n.exposeAction(t,f),o&&n.addCase(f.fulfilled,o),a&&n.addCase(f.pending,a),l&&n.addCase(f.rejected,l),c&&n.addMatcher(f.settled,c),n.exposeCaseReducer(t,{fulfilled:o||_p,pending:a||_p,rejected:l||_p,settled:c||_p})}function _p(){}var dce="task",G5="listener",Z5="completed",XS="cancelled",fce=`task-${XS}`,hce=`task-${Z5}`,aw=`${G5}-${XS}`,pce=`${G5}-${Z5}`,Dy=class{constructor(e){we(this,"name","TaskAbortError");we(this,"message");this.code=e,this.message=`${dce} ${XS} (reason: ${e})`}},JS=(e,t)=>{if(typeof e!="function")throw new TypeError(process.env.NODE_ENV==="production"?ut(32):`${t} is not a function`)},Bm=()=>{},X5=(e,t=Bm)=>(e.catch(t),e),J5=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),il=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},ol=e=>{if(e.aborted){const{reason:t}=e;throw new Dy(t)}};function Q5(e,t){let r=Bm;return new Promise((n,s)=>{const i=()=>s(new Dy(e.reason));if(e.aborted){i();return}r=J5(e,i),t.finally(()=>r()).then(n,s)}).finally(()=>{r=Bm})}var mce=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Dy?"cancelled":"rejected",error:r}}finally{t==null||t()}},zm=e=>t=>X5(Q5(e,t).then(r=>(ol(e),r))),e3=e=>{const t=zm(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Bc}=Object,jA={},ah="listenerMiddleware",gce=(e,t)=>{const r=n=>J5(e,()=>il(n,e.reason));return(n,s)=>{JS(n,"taskExecutor");const i=new AbortController;r(i);const o=mce(async()=>{ol(e),ol(i.signal);const a=await n({pause:zm(i.signal),delay:e3(i.signal),signal:i.signal});return ol(i.signal),a},()=>il(i,hce));return s!=null&&s.autoJoin&&t.push(o.catch(Bm)),{result:zm(e)(o),cancel(){il(i,fce)}}}},yce=(e,t)=>{const r=async(n,s)=>{ol(t);let i=()=>{};const a=[new Promise((l,c)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),l([f,h.getState(),h.getOriginalState()])}});i=()=>{d(),c()}})];s!=null&&a.push(new Promise(l=>setTimeout(l,s,null)));try{const l=await Q5(t,Promise.race(a));return ol(t),l}finally{i()}};return(n,s)=>X5(r(n,s))},t3=e=>{let{type:t,actionCreator:r,matcher:n,predicate:s,effect:i}=e;if(t)s=ms(t).match;else if(r)t=r.type,s=r.match;else if(n)s=n;else if(!s)throw new Error(process.env.NODE_ENV==="production"?ut(21):"Creating or removing a listener requires one of the known fields for matching an action");return JS(i,"options.listener"),{predicate:s,type:t,effect:i}},r3=Bc(e=>{const{type:t,predicate:r,effect:n}=t3(e);return{id:tce(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(process.env.NODE_ENV==="production"?ut(22):"Unsubscribe not initialized")}}},{withTypes:()=>r3}),NA=(e,t)=>{const{type:r,effect:n,predicate:s}=t3(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===s)&&i.effect===n)},lw=e=>{e.pending.forEach(t=>{il(t,aw)})},vce=e=>()=>{e.forEach(lw),e.clear()},kA=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},n3=Bc(ms(`${ah}/add`),{withTypes:()=>n3}),bce=ms(`${ah}/removeAll`),s3=Bc(ms(`${ah}/remove`),{withTypes:()=>s3}),xce=(...e)=>{console.error(`${ah}/error`,...e)},lh=(e={})=>{const t=new Map,{extra:r,onError:n=xce}=e;JS(n,"onError");const s=d=>(d.unsubscribe=()=>t.delete(d.id),t.set(d.id,d),f=>{d.unsubscribe(),f!=null&&f.cancelActive&&lw(d)}),i=d=>{const f=NA(t,d)??r3(d);return s(f)};Bc(i,{withTypes:()=>i});const o=d=>{const f=NA(t,d);return f&&(f.unsubscribe(),d.cancelActive&&lw(f)),!!f};Bc(o,{withTypes:()=>o});const a=async(d,f,h,p)=>{const g=new AbortController,m=yce(i,g.signal),y=[];try{d.pending.add(g),await Promise.resolve(d.effect(f,Bc({},h,{getOriginalState:p,condition:(v,b)=>m(v,b).then(Boolean),take:m,delay:e3(g.signal),pause:zm(g.signal),extra:r,signal:g.signal,fork:gce(g.signal,y),unsubscribe:d.unsubscribe,subscribe:()=>{t.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((v,b,x)=>{v!==g&&(il(v,aw),x.delete(v))})},cancel:()=>{il(g,aw),d.pending.delete(g)},throwIfCancelled:()=>{ol(g.signal)}})))}catch(v){v instanceof Dy||kA(n,v,{raisedBy:"effect"})}finally{await Promise.all(y),il(g,pce),d.pending.delete(g)}},l=vce(t);return{middleware:d=>f=>h=>{if(!YS(h))return f(h);if(n3.match(h))return i(h.payload);if(bce.match(h)){l();return}if(s3.match(h))return o(h.payload);let p=d.getState();const g=()=>{if(p===jA)throw new Error(process.env.NODE_ENV==="production"?ut(23):`${ah}: getOriginalState can only be called synchronously`);return p};let m;try{if(m=f(h),t.size>0){const y=d.getState(),v=Array.from(t.values());for(const b of v){let x=!1;try{x=b.predicate(h,y,p)}catch(S){x=!1,kA(n,S,{raisedBy:"predicate"})}x&&a(b,h,d,g)}}}finally{p=jA}return m},startListening:i,stopListening:o,clearListeners:l}};function ut(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var wce={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},i3=qn({name:"chartLayout",initialState:wce,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:_ce,setLayout:Sce,setChartSize:Ece,setScale:jce}=i3.actions,Nce=i3.reducer;function CA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function TA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CA(Object(r),!0).forEach(function(n){kce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kce(e,t,r){return(t=Cce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cce(e){var t=Tce(e,"string");return typeof t=="symbol"?t:t+""}function Tce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Um=Math.PI/180,Ace=e=>e*180/Math.PI,ir=(e,t,r,n)=>({x:e+Math.cos(-Um*n)*r,y:t+Math.sin(-Um*n)*r}),o3=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Pce=(e,t)=>{var{x:r,y:n}=e,{x:s,y:i}=t;return Math.sqrt((r-s)**2+(n-i)**2)},Oce=(e,t)=>{var{x:r,y:n}=e,{cx:s,cy:i}=t,o=Pce({x:r,y:n},{x:s,y:i});if(o<=0)return{radius:o,angle:0};var a=(r-s)/o,l=Math.acos(a);return n>i&&(l=2*Math.PI-l),{radius:o,angle:Ace(l),angleInRadian:l}},Dce=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),s=Math.floor(r/360),i=Math.min(n,s);return{startAngle:t-i*360,endAngle:r-i*360}},$ce=(e,t)=>{var{startAngle:r,endAngle:n}=t,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return e+o*360},Rce=(e,t)=>{var{x:r,y:n}=e,{radius:s,angle:i}=Oce({x:r,y:n},t),{innerRadius:o,outerRadius:a}=t;if(s<o||s>a||s===0)return null;var{startAngle:l,endAngle:c}=Dce(t),d=i,f;if(l<=c){for(;d>c;)d-=360;for(;d<l;)d+=360;f=d>=l&&d<=c}else{for(;d>l;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=l}return f?TA(TA({},t),{},{radius:s,angle:$ce(d,t)}):null};function a3(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function AA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ss(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AA(Object(r),!0).forEach(function(n){Ice(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ice(e,t,r){return(t=Mce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mce(e){var t=Lce(e,"string");return typeof t=="symbol"?t:t+""}function Lce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ot(e,t,r){return or(e)||or(t)?r:ji(t)?ha(e,t,r):typeof t=="function"?t(e):r}var Fce=(e,t,r,n,s)=>{var i,o=-1,a=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(a<=1||e==null)return 0;if(n==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var l=0;l<a;l++){var c=l>0?r[l-1].coordinate:r[a-1].coordinate,d=r[l].coordinate,f=l>=a-1?r[0].coordinate:r[l+1].coordinate,h=void 0;if(Xr(d-c)!==Xr(f-d)){var p=[];if(Xr(f-d)===Xr(s[1]-s[0])){h=f;var g=d+s[1]-s[0];p[0]=Math.min(g,(g+c)/2),p[1]=Math.max(g,(g+c)/2)}else{h=c;var m=f+s[1]-s[0];p[0]=Math.min(d,(m+d)/2),p[1]=Math.max(d,(m+d)/2)}var y=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>y[0]&&e<=y[1]||e>=p[0]&&e<=p[1]){({index:o}=r[l]);break}}else{var v=Math.min(c,f),b=Math.max(c,f);if(e>(v+d)/2&&e<=(b+d)/2){({index:o}=r[l]);break}}}else if(t){for(var x=0;x<a;x++)if(x===0&&e<=(t[x].coordinate+t[x+1].coordinate)/2||x>0&&x<a-1&&e>(t[x].coordinate+t[x-1].coordinate)/2&&e<=(t[x].coordinate+t[x+1].coordinate)/2||x===a-1&&e>(t[x].coordinate+t[x-1].coordinate)/2){({index:o}=t[x]);break}}return o},Bce=(e,t,r)=>{if(t&&r){var{width:n,height:s}=r,{align:i,verticalAlign:o,layout:a}=t;if((a==="vertical"||a==="horizontal"&&o==="middle")&&i!=="center"&&Te(e[i]))return ss(ss({},e),{},{[i]:e[i]+(n||0)});if((a==="horizontal"||a==="vertical"&&i==="center")&&o!=="middle"&&Te(e[o]))return ss(ss({},e),{},{[o]:e[o]+(s||0)})}return e},wa=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",l3=(e,t,r,n)=>{if(n)return e.map(a=>a.coordinate);var s,i,o=e.map(a=>(a.coordinate===t&&(s=!0),a.coordinate===r&&(i=!0),a.coordinate));return s||o.push(t),i||o.push(r),o},c3=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:s,range:i,scale:o,realScaleType:a,isCategorical:l,categoricalDomain:c,tickCount:d,ticks:f,niceTicks:h,axisType:p}=e;if(!o)return null;var g=a==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,m=s==="category"&&o.bandwidth?o.bandwidth()/g:0;if(m=p==="angleAxis"&&i&&i.length>=2?Xr(i[0]-i[1])*2*m:m,f||h){var y=(f||h||[]).map((v,b)=>{var x=n?n.indexOf(v):v;return{coordinate:o(x)+m,value:v,offset:m,index:b}});return y.filter(v=>!hs(v.coordinate))}return l&&c?c.map((v,b)=>({coordinate:o(v)+m,value:v,index:b,offset:m})):o.ticks&&d!=null?o.ticks(d).map((v,b)=>({coordinate:o(v)+m,value:v,offset:m,index:b})):o.domain().map((v,b)=>({coordinate:o(v)+m,value:n?n[v]:v,index:b,offset:m}))},PA=1e-4,zce=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),s=Math.min(n[0],n[1])-PA,i=Math.max(n[0],n[1])+PA,o=e(t[0]),a=e(t[r-1]);(o<s||o>i||a<s||a>i)&&e.domain([t[0],t[r-1]])}},Uce=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,i=0,o=0;o<t;++o){var a=hs(e[o][r][1])?e[o][r][0]:e[o][r][1];a>=0?(e[o][r][0]=s,e[o][r][1]=s+a,s=e[o][r][1]):(e[o][r][0]=i,e[o][r][1]=i+a,i=e[o][r][1])}},qce=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,i=0;i<t;++i){var o=hs(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=s,e[i][r][1]=s+o,s=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},Vce={sign:Uce,expand:kae,none:iu,silhouette:Cae,wiggle:Tae,positive:qce},Wce=(e,t,r)=>{var n=Vce[r],s=Nae().keys(t).value((i,o)=>+Ot(i,o,0)).order(Zx).offset(n);return s(e)};function OA(e){var{axis:t,ticks:r,bandSize:n,entry:s,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!or(s[t.dataKey])){var a=F4(r,"value",s[t.dataKey]);if(a)return a.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var l=Ot(s,or(o)?t.dataKey:o);return or(l)?null:t.scale(l)}var Kce=e=>{var t=e.flat(2).filter(Te);return[Math.min(...t),Math.max(...t)]},Hce=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Yce=(e,t,r)=>{if(e!=null)return Hce(Object.keys(e).reduce((n,s)=>{var i=e[s],{stackedData:o}=i,a=o.reduce((l,c)=>{var d=a3(c,t,r),f=Kce(d);return[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(a[0],n[0]),Math.max(a[1],n[1])]},[1/0,-1/0]))},DA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$A=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cw=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var s=Cy(t,d=>d.coordinate),i=1/0,o=1,a=s.length;o<a;o++){var l=s[o],c=s[o-1];i=Math.min((l.coordinate||0)-(c.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function RA(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:s,name:i}=e;return ss(ss({},t),{},{dataKey:r,payload:n,value:s,name:i})}function $y(e,t){if(e)return String(e);if(typeof t=="string")return t}function Gce(e,t,r,n,s){if(r==="horizontal"||r==="vertical"){var i=e>=s.left&&e<=s.left+s.width&&t>=s.top&&t<=s.top+s.height;return i?{x:e,y:t}:null}return n?Rce({x:e,y:t},n):null}var Zce=(e,t,r,n)=>{var s=t.find(c=>c&&c.index===r);if(s){if(e==="horizontal")return{x:s.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:s.coordinate};if(e==="centric"){var i=s.coordinate,{radius:o}=n;return ss(ss(ss({},n),ir(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var a=s.coordinate,{angle:l}=n;return ss(ss(ss({},n),ir(n.cx,n.cy,a,l)),{},{angle:l,radius:a})}return{x:0,y:0}},Xce=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,_o=e=>e.layout.width,So=e=>e.layout.height,Jce=e=>e.layout.scale,u3=e=>e.layout.margin,QS=ee(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),eE=ee(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),d3="data-recharts-item-index",f3="data-recharts-item-data-key",Ry=60;function IA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Fo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IA(Object(r),!0).forEach(function(n){Qce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qce(e,t,r){return(t=eue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eue(e){var t=tue(e,"string");return typeof t=="symbol"?t:t+""}function tue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rue=e=>e.brush.height,Ar=ee([_o,So,u3,rue,QS,eE,A5,hle],(e,t,r,n,s,i,o,a)=>{var l=i.reduce((g,m)=>{var{orientation:y}=m;if(!m.mirror&&!m.hide){var v=typeof m.width=="number"?m.width:Ry;return Fo(Fo({},g),{},{[y]:g[y]+v})}return g},{left:r.left||0,right:r.right||0}),c=s.reduce((g,m)=>{var{orientation:y}=m;return!m.mirror&&!m.hide?Fo(Fo({},g),{},{[y]:ha(g,"".concat(y))+m.height}):g},{top:r.top||0,bottom:r.bottom||0}),d=Fo(Fo({},c),l),f=d.bottom;d.bottom+=n,d=Bce(d,o,a);var h=e-d.left-d.right,p=t-d.top-d.bottom;return Fo(Fo({brushBottom:f},d),{},{width:Math.max(h,0),height:Math.max(p,0)})}),nue=ee(Ar,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),h3=ee(_o,So,(e,t)=>({x:0,y:0,width:e,height:t})),sue=w.createContext(null),vs=()=>w.useContext(sue)!=null,Iy=e=>e.brush,My=ee([Iy,Ar,u3],(e,t,r)=>({height:e.height,x:Te(e.x)?e.x:t.left,y:Te(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:Te(e.width)?e.width:t.width})),tE=()=>{var e,t=vs(),r=De(nue),n=De(My),s=(e=De(Iy))===null||e===void 0?void 0:e.padding;return!t||!n||!s?r:{width:n.width-s.left-s.right,height:n.height-s.top-s.bottom,x:s.left,y:s.top}},iue={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},p3=()=>{var e;return(e=De(Ar))!==null&&e!==void 0?e:iue},rE=()=>De(_o),nE=()=>De(So),oue={top:0,right:0,bottom:0,left:0},aue=()=>{var e;return(e=De(t=>t.layout.margin))!==null&&e!==void 0?e:oue},gt=e=>e.layout.layoutType,sE=()=>De(gt),lue={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},m3=qn({name:"legend",initialState:lue,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=to(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:MA,setLegendSettings:cue,addLegendPayload:g3,removeLegendPayload:y3}=m3.actions,uue=m3.reducer,due=["contextPayload"];function uw(){return uw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uw.apply(null,arguments)}function LA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function au(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LA(Object(r),!0).forEach(function(n){iE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iE(e,t,r){return(t=fue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fue(e){var t=hue(e,"string");return typeof t=="symbol"?t:t+""}function hue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pue(e,t){if(e==null)return{};var r,n,s=mue(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function mue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function gue(e){return e.value}function yue(e){var{contextPayload:t}=e,r=pue(e,due),n=_5(t,e.payloadUniqBy,gue),s=au(au({},r),{},{payload:n});return j.isValidElement(e.content)?j.cloneElement(e.content,s):typeof e.content=="function"?j.createElement(e.content,s):j.createElement(MS,s)}function vue(e,t,r,n,s,i){var{layout:o,align:a,verticalAlign:l}=t,c,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(a==="center"&&o==="vertical"?c={left:((n||0)-i.width)/2}:c=a==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?d={top:((s||0)-i.height)/2}:d=l==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),au(au({},c),d)}function bue(e){var t=Vt();return w.useEffect(()=>{t(cue(e))},[t,e]),null}function xue(e){var t=Vt();return w.useEffect(()=>(t(MA(e)),()=>{t(MA({width:0,height:0}))}),[t,e]),null}function wue(e){var t=gle(),r=Zoe(),n=aue(),{width:s,height:i,wrapperStyle:o,portal:a}=e,[l,c]=P5([t]),d=rE(),f=nE(),h=d-(n.left||0)-(n.right||0),p=Nf.getWidthOrHeight(e.layout,i,s,h),g=a?o:au(au({position:"absolute",width:(p==null?void 0:p.width)||s||"auto",height:(p==null?void 0:p.height)||i||"auto"},vue(o,e,n,d,f,l)),o),m=a??r;if(m==null)return null;var y=j.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:c},j.createElement(bue,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),j.createElement(xue,{width:l.width,height:l.height}),j.createElement(yue,uw({},e,p,{margin:n,chartWidth:d,chartHeight:f,contextPayload:t})));return _i.createPortal(y,m)}class Nf extends w.PureComponent{static getWidthOrHeight(t,r,n,s){return t==="vertical"&&Te(r)?{height:r}:t==="horizontal"?{width:n||s}:null}render(){return j.createElement(wue,this.props)}}iE(Nf,"displayName","Legend");iE(Nf,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function dw(){return dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dw.apply(null,arguments)}function FA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Jb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FA(Object(r),!0).forEach(function(n){_ue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _ue(e,t,r){return(t=Sue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sue(e){var t=Eue(e,"string");return typeof t=="symbol"?t:t+""}function Eue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jue(e){return Array.isArray(e)&&ji(e[0])&&ji(e[1])?e.join(" ~ "):e}var Nue=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:s={},payload:i,formatter:o,itemSorter:a,wrapperClassName:l,labelClassName:c,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,p=()=>{if(i&&i.length){var _={padding:0,margin:0},N=(a?Cy(i,a):i).map((k,C)=>{if(k.type==="none")return null;var A=k.formatter||o||jue,{value:I,name:M}=k,L=I,D=M;if(A){var z=A(I,M,k,C,i);if(Array.isArray(z))[L,D]=z;else if(z!=null)L=z;else return null}var U=Jb({display:"block",paddingTop:4,paddingBottom:4,color:k.color||"#000"},n);return j.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(C),style:U},ji(D)?j.createElement("span",{className:"recharts-tooltip-item-name"},D):null,ji(D)?j.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,j.createElement("span",{className:"recharts-tooltip-item-value"},L),j.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return j.createElement("ul",{className:"recharts-tooltip-item-list",style:_},N)}return null},g=Jb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),m=Jb({margin:0},s),y=!or(d),v=y?d:"",b=nt("recharts-default-tooltip",l),x=nt("recharts-tooltip-label",c);y&&f&&i!==void 0&&i!==null&&(v=f(d,i));var S=h?{role:"status","aria-live":"assertive"}:{};return j.createElement("div",dw({className:b,style:g},S),j.createElement("p",{className:x,style:m},j.isValidElement(v)?v:"".concat(v)),p())},pd="recharts-tooltip-wrapper",kue={visibility:"hidden"};function Cue(e){var{coordinate:t,translateX:r,translateY:n}=e;return nt(pd,{["".concat(pd,"-right")]:Te(r)&&t&&Te(t.x)&&r>=t.x,["".concat(pd,"-left")]:Te(r)&&t&&Te(t.x)&&r<t.x,["".concat(pd,"-bottom")]:Te(n)&&t&&Te(t.y)&&n>=t.y,["".concat(pd,"-top")]:Te(n)&&t&&Te(t.y)&&n<t.y})}function BA(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:s,position:i,reverseDirection:o,tooltipDimension:a,viewBox:l,viewBoxDimension:c}=e;if(i&&Te(i[n]))return i[n];var d=r[n]-a-(s>0?s:0),f=r[n]+s;if(t[n])return o[n]?d:f;var h=l[n];if(h==null)return 0;if(o[n]){var p=d,g=h;return p<g?Math.max(f,h):Math.max(d,h)}if(c==null)return 0;var m=f+a,y=h+c;return m>y?Math.max(d,h):Math.max(f,h)}function Tue(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Aue(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:s,reverseDirection:i,tooltipBox:o,useTranslate3d:a,viewBox:l}=e,c,d,f;return o.height>0&&o.width>0&&r?(d=BA({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=BA({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=Tue({translateX:d,translateY:f,useTranslate3d:a})):c=kue,{cssProperties:c,cssClasses:Cue({translateX:d,translateY:f,coordinate:r})}}function zA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Sp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zA(Object(r),!0).forEach(function(n){fw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fw(e,t,r){return(t=Pue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pue(e){var t=Oue(e,"string");return typeof t=="symbol"?t:t+""}function Oue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Due extends w.PureComponent{constructor(){super(...arguments),fw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),fw(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,s,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(s=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:s,children:i,coordinate:o,hasPayload:a,isAnimationActive:l,offset:c,position:d,reverseDirection:f,useTranslate3d:h,viewBox:p,wrapperStyle:g,lastBoundingBox:m,innerRef:y,hasPortalFromProps:v}=this.props,{cssClasses:b,cssProperties:x}=Aue({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:c,position:d,reverseDirection:f,tooltipBox:{height:m.height,width:m.width},useTranslate3d:h,viewBox:p}),S=v?{}:Sp(Sp({transition:l&&t?"transform ".concat(n,"ms ").concat(s):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&a?"visible":"hidden",position:"absolute",top:0,left:0}),_=Sp(Sp({},S),{},{visibility:!this.state.dismissed&&t&&a?"visible":"hidden"},g);return j.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:_,ref:y},i)}}var $ue=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),$u={isSsr:$ue()},v3=()=>De(e=>e.rootProps.accessibilityLayer);function Hs(e){return Number.isFinite(e)}function lu(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function hw(){return hw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hw.apply(null,arguments)}function UA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UA(Object(r),!0).forEach(function(n){Rue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rue(e,t,r){return(t=Iue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iue(e){var t=Mue(e,"string");return typeof t=="symbol"?t:t+""}function Mue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VA={curveBasisClosed:mae,curveBasisOpen:gae,curveBasis:pae,curveBumpX:eae,curveBumpY:tae,curveLinearClosed:yae,curveLinear:_y,curveMonotoneX:vae,curveMonotoneY:bae,curveNatural:xae,curveStep:wae,curveStepAfter:Sae,curveStepBefore:_ae},Ep=e=>Hs(e.x)&&Hs(e.y),md=e=>e.x,gd=e=>e.y,Lue=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(ih(e));return(r==="curveMonotone"||r==="curveBump")&&t?VA["".concat(r).concat(t==="vertical"?"Y":"X")]:VA[r]||_y},Fue=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:s,connectNulls:i=!1}=e,o=Lue(t,s),a=i?r.filter(Ep):r,l;if(Array.isArray(n)){var c=i?n.filter(f=>Ep(f)):n,d=a.map((f,h)=>qA(qA({},f),{},{base:c[h]}));return s==="vertical"?l=gp().y(gd).x1(md).x0(f=>f.base.x):l=gp().x(md).y1(gd).y0(f=>f.base.y),l.defined(Ep).curve(o),l(d)}return s==="vertical"&&Te(n)?l=gp().y(gd).x1(md).x0(n):Te(n)?l=gp().x(md).y1(gd).y0(n):l=G4().x(md).y(gd),l.defined(Ep).curve(o),l(a)},oE=e=>{var{className:t,points:r,path:n,pathRef:s}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?Fue(e):n;return j.createElement("path",hw({},xa(e),TS(e),{className:nt("recharts-curve",t),d:i===null?void 0:i,ref:s}))},Bue=["x","y","top","left","width","height","className"];function pw(){return pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pw.apply(null,arguments)}function WA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zue(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WA(Object(r),!0).forEach(function(n){Uue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uue(e,t,r){return(t=que(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function que(e){var t=Vue(e,"string");return typeof t=="symbol"?t:t+""}function Vue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wue(e,t){if(e==null)return{};var r,n,s=Kue(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Kue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Hue=(e,t,r,n,s,i)=>"M".concat(e,",").concat(s,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),Yue=e=>{var{x:t=0,y:r=0,top:n=0,left:s=0,width:i=0,height:o=0,className:a}=e,l=Wue(e,Bue),c=zue({x:t,y:r,top:n,left:s,width:i,height:o},l);return!Te(t)||!Te(r)||!Te(i)||!Te(o)||!Te(n)||!Te(s)?null:j.createElement("path",pw({},Ut(c,!0),{className:nt("recharts-cross",a),d:Hue(t,r,i,o,n,s)}))};function Gue(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function KA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Zue(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KA(Object(r),!0).forEach(function(n){Xue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xue(e,t,r){return(t=Jue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jue(e){var t=Que(e,"string");return typeof t=="symbol"?t:t+""}function Que(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bs(e,t){var r=Zue({},e),n=t,s=Object.keys(t),i=s.reduce((o,a)=>(o[a]===void 0&&n[a]!==void 0&&(o[a]=n[a]),o),r);return i}var b3={},x3={},w3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}e.isPlainObject=t})(w3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w3,r=qS,n=Ny,s=ky,i=jy;function o(c,d,f){return a(c,d,void 0,void 0,void 0,void 0,f)}function a(c,d,f,h,p,g,m){const y=m(c,d,f,h,p,g);if(y!==void 0)return y;if(typeof c==typeof d)switch(typeof c){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return c===d;case"number":return c===d||Object.is(c,d);case"function":return c===d;case"object":return l(c,d,g,m)}return l(c,d,g,m)}function l(c,d,f,h){if(Object.is(c,d))return!0;let p=n.getTag(c),g=n.getTag(d);if(p===s.argumentsTag&&(p=s.objectTag),g===s.argumentsTag&&(g=s.objectTag),p!==g)return!1;switch(p){case s.stringTag:return c.toString()===d.toString();case s.numberTag:{const v=c.valueOf(),b=d.valueOf();return i.eq(v,b)}case s.booleanTag:case s.dateTag:case s.symbolTag:return Object.is(c.valueOf(),d.valueOf());case s.regexpTag:return c.source===d.source&&c.flags===d.flags;case s.functionTag:return c===d}f=f??new Map;const m=f.get(c),y=f.get(d);if(m!=null&&y!=null)return m===d;f.set(c,d),f.set(d,c);try{switch(p){case s.mapTag:{if(c.size!==d.size)return!1;for(const[v,b]of c.entries())if(!d.has(v)||!a(b,d.get(v),v,c,d,f,h))return!1;return!0}case s.setTag:{if(c.size!==d.size)return!1;const v=Array.from(c.values()),b=Array.from(d.values());for(let x=0;x<v.length;x++){const S=v[x],_=b.findIndex(N=>a(S,N,void 0,c,d,f,h));if(_===-1)return!1;b.splice(_,1)}return!0}case s.arrayTag:case s.uint8ArrayTag:case s.uint8ClampedArrayTag:case s.uint16ArrayTag:case s.uint32ArrayTag:case s.bigUint64ArrayTag:case s.int8ArrayTag:case s.int16ArrayTag:case s.int32ArrayTag:case s.bigInt64ArrayTag:case s.float32ArrayTag:case s.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(c)!==Buffer.isBuffer(d)||c.length!==d.length)return!1;for(let v=0;v<c.length;v++)if(!a(c[v],d[v],v,c,d,f,h))return!1;return!0}case s.arrayBufferTag:return c.byteLength!==d.byteLength?!1:l(new Uint8Array(c),new Uint8Array(d),f,h);case s.dataViewTag:return c.byteLength!==d.byteLength||c.byteOffset!==d.byteOffset?!1:l(new Uint8Array(c),new Uint8Array(d),f,h);case s.errorTag:return c.name===d.name&&c.message===d.message;case s.objectTag:{if(!(l(c.constructor,d.constructor,f,h)||t.isPlainObject(c)&&t.isPlainObject(d)))return!1;const b=[...Object.keys(c),...r.getSymbols(c)],x=[...Object.keys(d),...r.getSymbols(d)];if(b.length!==x.length)return!1;for(let S=0;S<b.length;S++){const _=b[S],N=c[_];if(!Object.hasOwn(d,_))return!1;const k=d[_];if(!a(N,k,_,c,d,f,h))return!1}return!0}default:return!1}}finally{f.delete(c),f.delete(d)}}e.isEqualWith=o})(x3);var _3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t})(_3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x3,r=_3;function n(s,i){return t.isEqualWith(s,i,r.noop)}e.isEqual=n})(b3);var ede=b3.isEqual;const tde=Gs(ede);var qm=1e-4,S3=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],E3=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),HA=(e,t)=>r=>{var n=S3(e,t);return E3(n,r)},rde=(e,t)=>r=>{var n=S3(e,t),s=[...n.map((i,o)=>i*o).slice(1),0];return E3(s,r)},YA=function(){for(var t,r,n,s,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];if(o.length===1)switch(o[0]){case"linear":[t,n,r,s]=[0,0,1,1];break;case"ease":[t,n,r,s]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,s]=[.42,0,1,1];break;case"ease-out":[t,n,r,s]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,s]=[0,0,.58,1];break;default:{var l=o[0].split("(");l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4&&([t,n,r,s]=l[1].split(")")[0].split(",").map(g=>parseFloat(g)))}}else o.length===4&&([t,n,r,s]=o);var c=HA(t,r),d=HA(n,s),f=rde(t,r),h=g=>g>1?1:g<0?0:g,p=g=>{for(var m=g>1?1:g,y=m,v=0;v<8;++v){var b=c(y)-m,x=f(y);if(Math.abs(b-m)<qm||x<qm)return d(y);y=h(y-b/x)}return d(y)};return p.isStepper=!1,p},nde=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:s=17}=t,i=(o,a,l)=>{var c=-(o-a)*r,d=l*n,f=l+(c-d)*s/1e3,h=l*s/1e3+o;return Math.abs(h-a)<qm&&Math.abs(f)<qm?[a,0]:[h,f]};return i.isStepper=!0,i.dt=s,i},j3=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return YA(e);case"spring":return nde();default:if(e.split("(")[0]==="cubic-bezier")return YA(e)}return typeof e=="function"?e:null};function GA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ZA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GA(Object(r),!0).forEach(function(n){sde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sde(e,t,r){return(t=ide(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ide(e){var t=ode(e,"string");return typeof t=="symbol"?t:t+""}function ode(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ade=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),lde=(e,t,r)=>e.map(n=>"".concat(ade(n)," ").concat(t,"ms ").concat(r)).join(","),cde=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(s=>n.includes(s))),kf=(e,t)=>Object.keys(t).reduce((r,n)=>ZA(ZA({},r),{},{[n]:e(n,t[n])}),{});function XA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XA(Object(r),!0).forEach(function(n){ude(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ude(e,t,r){return(t=dde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dde(e){var t=fde(e,"string");return typeof t=="symbol"?t:t+""}function fde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vm=(e,t,r)=>e+(t-e)*r,mw=e=>{var{from:t,to:r}=e;return t!==r},N3=(e,t,r)=>{var n=kf((s,i)=>{if(mw(i)){var[o,a]=e(i.from,i.to,i.velocity);return Ir(Ir({},i),{},{from:o,velocity:a})}return i},t);return r<1?kf((s,i)=>mw(i)?Ir(Ir({},i),{},{velocity:Vm(i.velocity,n[s].velocity,r),from:Vm(i.from,n[s].from,r)}):i,t):N3(e,n,r-1)};function hde(e,t,r,n,s,i){var o,a=n.reduce((h,p)=>Ir(Ir({},h),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),l=()=>kf((h,p)=>p.from,a),c=()=>!Object.values(a).filter(mw).length,d=null,f=h=>{o||(o=h);var p=h-o,g=p/r.dt;a=N3(r,a,g),s(Ir(Ir(Ir({},e),t),l())),o=h,c()||(d=i.setTimeout(f))};return()=>(d=i.setTimeout(f),()=>{d()})}function pde(e,t,r,n,s,i,o){var a=null,l=s.reduce((f,h)=>Ir(Ir({},f),{},{[h]:[e[h],t[h]]}),{}),c,d=f=>{c||(c=f);var h=(f-c)/n,p=kf((m,y)=>Vm(...y,r(h)),l);if(i(Ir(Ir(Ir({},e),t),p)),h<1)a=o.setTimeout(d);else{var g=kf((m,y)=>Vm(...y,r(1)),l);i(Ir(Ir(Ir({},e),t),g))}};return()=>(a=o.setTimeout(d),()=>{a()})}const k3=(e,t,r,n,s,i)=>{var o=cde(e,t);return r.isStepper===!0?hde(e,t,r,o,s,i):pde(e,t,r,n,o,s,i)};function mde(e){var t,r=()=>null,n=!1,s=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,[l,...c]=a;if(typeof l=="number"){s=e.setTimeout(i.bind(null,c),l);return}i(l),s=e.setTimeout(i.bind(null,c));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,s&&(s(),s=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class gde{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),s=null,i=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(i))};return s=requestAnimationFrame(i),()=>{cancelAnimationFrame(s)}}}function yde(){return mde(new gde)}var vde=w.createContext(yde);function C3(e,t){var r=w.useContext(vde);return w.useMemo(()=>t??r(e),[e,t,r])}var bde=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function gw(){return gw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gw.apply(null,arguments)}function xde(e,t){if(e==null)return{};var r,n,s=wde(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function wde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function JA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Bo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JA(Object(r),!0).forEach(function(n){Xa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xa(e,t,r){return(t=_de(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _de(e){var t=Sde(e,"string");return typeof t=="symbol"?t:t+""}function Sde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class aE extends w.PureComponent{constructor(t,r){super(t,r),Xa(this,"mounted",!1),Xa(this,"manager",void 0),Xa(this,"stopJSAnimation",null),Xa(this,"unSubscribe",null);var{isActive:n,attributeName:s,from:i,to:o,children:a,duration:l,animationManager:c}=this.props;if(this.manager=c,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||l<=0){this.state={style:{}},typeof a=="function"&&(this.state={style:o});return}if(i){if(typeof a=="function"){this.state={style:i};return}this.state={style:s?{[s]:i}:i}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:r}=this.props;this.mounted=!0,!(!t||!r)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:r,canBegin:n,attributeName:s,shouldReAnimate:i,to:o,from:a}=this.props,{style:l}=this.state;if(n){if(!r){var c={style:s?{[s]:o}:o};this.state&&l&&(s&&l[s]!==o||!s&&l!==o)&&this.setState(c);return}if(!(tde(t.to,o)&&t.canBegin&&t.isActive)){var d=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var f=d||i?a:t.to;if(this.state&&l){var h={style:s?{[s]:f}:f};(s&&l[s]!==f||!s&&l!==f)&&this.setState(h)}this.runAnimation(Bo(Bo({},this.props),{},{from:f,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:r,to:n,duration:s,easing:i,begin:o,onAnimationEnd:a,onAnimationStart:l}=t,c=k3(r,n,j3(i),s,this.changeStyle,this.manager.getTimeoutController()),d=()=>{this.stopJSAnimation=c()};this.manager.start([l,o,d,s,a])}runAnimation(t){var{begin:r,duration:n,attributeName:s,to:i,easing:o,onAnimationStart:a,onAnimationEnd:l,children:c}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof o=="function"||typeof c=="function"||o==="spring"){this.runJSAnimation(t);return}var d=s?{[s]:i}:i,f=lde(Object.keys(d),n,o);this.manager.start([a,r,Bo(Bo({},d),{},{transition:f}),n,l])}render(){var t=this.props,{children:r,begin:n,duration:s,attributeName:i,easing:o,isActive:a,from:l,to:c,canBegin:d,onAnimationEnd:f,shouldReAnimate:h,onAnimationReStart:p,animationManager:g}=t,m=xde(t,bde),y=w.Children.count(r),v=this.state.style;if(typeof r=="function")return r(v);if(!a||y===0||s<=0)return r;var b=x=>{var{style:S={},className:_}=x.props,N=w.cloneElement(x,Bo(Bo({},m),{},{style:Bo(Bo({},S),v),className:_}));return N};return y===1?b(w.Children.only(r)):j.createElement("div",null,w.Children.map(r,x=>b(x)))}}Xa(aE,"displayName","Animate");Xa(aE,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function Wm(e){var t,r=C3((t=e.attributeName)!==null&&t!==void 0?t:Object.keys(e.to).join(","),e.animationManager);return j.createElement(aE,gw({},e,{animationManager:r}))}function Km(){return Km=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Km.apply(null,arguments)}var QA=(e,t,r,n,s)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,a=r>=0?1:-1,l=n>=0&&r>=0||n<0&&r<0?1:0,c;if(i>0&&s instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=s[f]>i?i:s[f];c="M".concat(e,",").concat(t+o*d[0]),d[0]>0&&(c+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(l,",").concat(e+a*d[0],",").concat(t)),c+="L ".concat(e+r-a*d[1],",").concat(t),d[1]>0&&(c+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(l,`,
        `).concat(e+r,",").concat(t+o*d[1])),c+="L ".concat(e+r,",").concat(t+n-o*d[2]),d[2]>0&&(c+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(l,`,
        `).concat(e+r-a*d[2],",").concat(t+n)),c+="L ".concat(e+a*d[3],",").concat(t+n),d[3]>0&&(c+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(t+n-o*d[3])),c+="Z"}else if(i>0&&s===+s&&s>0){var p=Math.min(i,s);c="M ".concat(e,",").concat(t+o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+a*p,",").concat(t,`
            L `).concat(e+r-a*p,",").concat(t,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+r,",").concat(t+o*p,`
            L `).concat(e+r,",").concat(t+n-o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+r-a*p,",").concat(t+n,`
            L `).concat(e+a*p,",").concat(t+n,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e,",").concat(t+n-o*p," Z")}else c="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return c},Ede={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},T3=e=>{var t=bs(e,Ede),r=w.useRef(null),[n,s]=w.useState(-1);w.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var v=r.current.getTotalLength();v&&s(v)}catch{}},[]);var{x:i,y:o,width:a,height:l,radius:c,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:p,isAnimationActive:g,isUpdateAnimationActive:m}=t;if(i!==+i||o!==+o||a!==+a||l!==+l||a===0||l===0)return null;var y=nt("recharts-rectangle",d);return m?j.createElement(Wm,{canBegin:n>0,from:{width:a,height:l,x:i,y:o},to:{width:a,height:l,x:i,y:o},duration:h,animationEasing:f,isActive:m},v=>{var{width:b,height:x,x:S,y:_}=v;return j.createElement(Wm,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:h,isActive:g,easing:f},j.createElement("path",Km({},Ut(t,!0),{className:y,d:QA(S,_,b,x,c),ref:r})))}):j.createElement("path",Km({},Ut(t,!0),{className:y,d:QA(i,o,a,l,c)}))};function A3(e){var{cx:t,cy:r,radius:n,startAngle:s,endAngle:i}=e,o=ir(t,r,n,s),a=ir(t,r,n,i);return{points:[o,a],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function yw(){return yw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yw.apply(null,arguments)}var jde=(e,t)=>{var r=Xr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},jp=e=>{var{cx:t,cy:r,radius:n,angle:s,sign:i,isExternal:o,cornerRadius:a,cornerIsExternal:l}=e,c=a*(o?1:-1)+n,d=Math.asin(a/c)/Um,f=l?s:s+i*d,h=ir(t,r,c,f),p=ir(t,r,n,f),g=l?s-i*d:s,m=ir(t,r,c*Math.cos(d*Um),g);return{center:h,circleTangency:p,lineTangency:m,theta:d}},P3=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:i,endAngle:o}=e,a=jde(i,o),l=i+a,c=ir(t,r,s,i),d=ir(t,r,s,l),f="M ".concat(c.x,",").concat(c.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(a)>180),",").concat(+(i>l),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var h=ir(t,r,n,i),p=ir(t,r,n,l);f+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(a)>180),",").concat(+(i<=l),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},Nde=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:a,startAngle:l,endAngle:c}=e,d=Xr(c-l),{circleTangency:f,lineTangency:h,theta:p}=jp({cx:t,cy:r,radius:s,angle:l,sign:d,cornerRadius:i,cornerIsExternal:a}),{circleTangency:g,lineTangency:m,theta:y}=jp({cx:t,cy:r,radius:s,angle:c,sign:-d,cornerRadius:i,cornerIsExternal:a}),v=a?Math.abs(l-c):Math.abs(l-c)-p-y;if(v<0)return o?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):P3({cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:l,endAngle:c});var b="M ".concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(v>180),",").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(m.x,",").concat(m.y,`
  `);if(n>0){var{circleTangency:x,lineTangency:S,theta:_}=jp({cx:t,cy:r,radius:n,angle:l,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:a}),{circleTangency:N,lineTangency:k,theta:C}=jp({cx:t,cy:r,radius:n,angle:c,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:a}),A=a?Math.abs(l-c):Math.abs(l-c)-_-C;if(A<0&&i===0)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+="L".concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(A>180),",").concat(+(d>0),",").concat(x.x,",").concat(x.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(S.x,",").concat(S.y,"Z")}else b+="L".concat(t,",").concat(r,"Z");return b},kde={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},O3=e=>{var t=bs(e,kde),{cx:r,cy:n,innerRadius:s,outerRadius:i,cornerRadius:o,forceCornerRadius:a,cornerIsExternal:l,startAngle:c,endAngle:d,className:f}=t;if(i<s||c===d)return null;var h=nt("recharts-sector",f),p=i-s,g=fs(o,p,0,!0),m;return g>0&&Math.abs(c-d)<360?m=Nde({cx:r,cy:n,innerRadius:s,outerRadius:i,cornerRadius:Math.min(g,p/2),forceCornerRadius:a,cornerIsExternal:l,startAngle:c,endAngle:d}):m=P3({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:c,endAngle:d}),j.createElement("path",yw({},Ut(t,!0),{className:h,d:m}))};function Cde(e,t,r){var n,s,i,o;if(e==="horizontal")n=t.x,i=n,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:a,cy:l,innerRadius:c,outerRadius:d,angle:f}=t,h=ir(a,l,c,f),p=ir(a,l,d,f);n=h.x,s=h.y,i=p.x,o=p.y}else return A3(t);return[{x:n,y:s},{x:i,y:o}]}var D3={},$3={},R3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KS;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(R3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R3;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})($3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HS,r=$3;function n(s,i,o){o&&typeof o!="number"&&t.isIterateeCall(s,i,o)&&(i=o=void 0),s=r.toFinite(s),i===void 0?(i=s,s=0):i=r.toFinite(i),o=o===void 0?s<i?1:-1:r.toFinite(o);const a=Math.max(Math.ceil((i-s)/(o||1)),0),l=new Array(a);for(let c=0;c<a;c++)l[c]=s,s+=o;return l}e.range=n})(D3);var Tde=D3.range;const I3=Gs(Tde);function ia(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ade(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function lE(e){let t,r,n;e.length!==2?(t=ia,r=(a,l)=>ia(e(a),l),n=(a,l)=>e(a)-l):(t=e===ia||e===Ade?e:Pde,r=e,n=e);function s(a,l,c=0,d=a.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;r(a[f],l)<0?c=f+1:d=f}while(c<d)}return c}function i(a,l,c=0,d=a.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;r(a[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function o(a,l,c=0,d=a.length){const f=s(a,l,c,d-1);return f>c&&n(a[f-1],l)>-n(a[f],l)?f-1:f}return{left:s,center:o,right:i}}function Pde(){return 0}function M3(e){return e===null?NaN:+e}function*Ode(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Dde=lE(ia),ch=Dde.right;lE(M3).center;class eP extends Map{constructor(t,r=Ide){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(tP(this,t))}has(t){return super.has(tP(this,t))}set(t,r){return super.set($de(this,t),r)}delete(t){return super.delete(Rde(this,t))}}function tP({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function $de({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Rde({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Ide(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Mde(e=ia){if(e===ia)return L3;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function L3(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Lde=Math.sqrt(50),Fde=Math.sqrt(10),Bde=Math.sqrt(2);function Hm(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=Lde?10:i>=Fde?5:i>=Bde?2:1;let a,l,c;return s<0?(c=Math.pow(10,-s)/o,a=Math.round(e*c),l=Math.round(t*c),a/c<e&&++a,l/c>t&&--l,c=-c):(c=Math.pow(10,s)*o,a=Math.round(e/c),l=Math.round(t/c),a*c<e&&++a,l*c>t&&--l),l<a&&.5<=r&&r<2?Hm(e,t,r*2):[a,l,c]}function vw(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,o]=n?Hm(t,e,r):Hm(e,t,r);if(!(i>=s))return[];const a=i-s+1,l=new Array(a);if(n)if(o<0)for(let c=0;c<a;++c)l[c]=(i-c)/-o;else for(let c=0;c<a;++c)l[c]=(i-c)*o;else if(o<0)for(let c=0;c<a;++c)l[c]=(s+c)/-o;else for(let c=0;c<a;++c)l[c]=(s+c)*o;return l}function bw(e,t,r){return t=+t,e=+e,r=+r,Hm(e,t,r)[2]}function xw(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?bw(t,e,r):bw(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function rP(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function nP(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function F3(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?L3:Mde(s);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(t-c*f/l+h)),g=Math.min(n,Math.floor(t+(l-c)*f/l+h));F3(e,t,p,g,s)}const i=e[t];let o=r,a=n;for(yd(e,r,t),s(e[n],i)>0&&yd(e,r,n);o<a;){for(yd(e,o,a),++o,--a;s(e[o],i)<0;)++o;for(;s(e[a],i)>0;)--a}s(e[r],i)===0?yd(e,r,a):(++a,yd(e,a,n)),a<=t&&(r=a+1),t<=a&&(n=a-1)}return e}function yd(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function zde(e,t,r){if(e=Float64Array.from(Ode(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return nP(e);if(t>=1)return rP(e);var n,s=(n-1)*t,i=Math.floor(s),o=rP(F3(e,i).subarray(0,i+1)),a=nP(e.subarray(i+1));return o+(a-o)*(s-i)}}function Ude(e,t,r=M3){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),o=+r(e[i],i,e),a=+r(e[i+1],i+1,e);return o+(a-o)*(s-i)}}function qde(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function xs(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Eo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const ww=Symbol("implicit");function cE(){var e=new eP,t=[],r=[],n=ww;function s(i){let o=e.get(i);if(o===void 0){if(n!==ww)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new eP;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return cE(t,r).unknown(n)},xs.apply(s,arguments),s}function uE(){var e=cE().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,o,a=!1,l=0,c=0,d=.5;delete e.unknown;function f(){var h=t().length,p=s<n,g=p?s:n,m=p?n:s;i=(m-g)/Math.max(1,h-l+c*2),a&&(i=Math.floor(i)),g+=(m-g-i*(h-l))*d,o=i*(1-l),a&&(g=Math.round(g),o=Math.round(o));var y=qde(h).map(function(v){return g+i*v});return r(p?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,s]=h,n=+n,s=+s,f()):[n,s]},e.rangeRound=function(h){return[n,s]=h,n=+n,s=+s,a=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(a=!!h,f()):a},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return uE(t(),[n,s]).round(a).paddingInner(l).paddingOuter(c).align(d)},xs.apply(f(),arguments)}function B3(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return B3(t())},e}function Vde(){return B3(uE.apply(null,arguments).paddingInner(1))}function dE(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function z3(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function uh(){}var Cf=.7,Ym=1/Cf,zc="\\s*([+-]?\\d+)\\s*",Tf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",vi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Wde=/^#([0-9a-f]{3,8})$/,Kde=new RegExp(`^rgb\\(${zc},${zc},${zc}\\)$`),Hde=new RegExp(`^rgb\\(${vi},${vi},${vi}\\)$`),Yde=new RegExp(`^rgba\\(${zc},${zc},${zc},${Tf}\\)$`),Gde=new RegExp(`^rgba\\(${vi},${vi},${vi},${Tf}\\)$`),Zde=new RegExp(`^hsl\\(${Tf},${vi},${vi}\\)$`),Xde=new RegExp(`^hsla\\(${Tf},${vi},${vi},${Tf}\\)$`),sP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};dE(uh,Af,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:iP,formatHex:iP,formatHex8:Jde,formatHsl:Qde,formatRgb:oP,toString:oP});function iP(){return this.rgb().formatHex()}function Jde(){return this.rgb().formatHex8()}function Qde(){return U3(this).formatHsl()}function oP(){return this.rgb().formatRgb()}function Af(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Wde.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?aP(t):r===3?new xn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Np(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Np(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Kde.exec(e))?new xn(t[1],t[2],t[3],1):(t=Hde.exec(e))?new xn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Yde.exec(e))?Np(t[1],t[2],t[3],t[4]):(t=Gde.exec(e))?Np(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Zde.exec(e))?uP(t[1],t[2]/100,t[3]/100,1):(t=Xde.exec(e))?uP(t[1],t[2]/100,t[3]/100,t[4]):sP.hasOwnProperty(e)?aP(sP[e]):e==="transparent"?new xn(NaN,NaN,NaN,0):null}function aP(e){return new xn(e>>16&255,e>>8&255,e&255,1)}function Np(e,t,r,n){return n<=0&&(e=t=r=NaN),new xn(e,t,r,n)}function efe(e){return e instanceof uh||(e=Af(e)),e?(e=e.rgb(),new xn(e.r,e.g,e.b,e.opacity)):new xn}function _w(e,t,r,n){return arguments.length===1?efe(e):new xn(e,t,r,n??1)}function xn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}dE(xn,_w,z3(uh,{brighter(e){return e=e==null?Ym:Math.pow(Ym,e),new xn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Cf:Math.pow(Cf,e),new xn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new xn(al(this.r),al(this.g),al(this.b),Gm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:lP,formatHex:lP,formatHex8:tfe,formatRgb:cP,toString:cP}));function lP(){return`#${Ja(this.r)}${Ja(this.g)}${Ja(this.b)}`}function tfe(){return`#${Ja(this.r)}${Ja(this.g)}${Ja(this.b)}${Ja((isNaN(this.opacity)?1:this.opacity)*255)}`}function cP(){const e=Gm(this.opacity);return`${e===1?"rgb(":"rgba("}${al(this.r)}, ${al(this.g)}, ${al(this.b)}${e===1?")":`, ${e})`}`}function Gm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function al(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ja(e){return e=al(e),(e<16?"0":"")+e.toString(16)}function uP(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Bs(e,t,r,n)}function U3(e){if(e instanceof Bs)return new Bs(e.h,e.s,e.l,e.opacity);if(e instanceof uh||(e=Af(e)),!e)return new Bs;if(e instanceof Bs)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,a=i-s,l=(i+s)/2;return a?(t===i?o=(r-n)/a+(r<n)*6:r===i?o=(n-t)/a+2:o=(t-r)/a+4,a/=l<.5?i+s:2-i-s,o*=60):a=l>0&&l<1?0:o,new Bs(o,a,l,e.opacity)}function rfe(e,t,r,n){return arguments.length===1?U3(e):new Bs(e,t,r,n??1)}function Bs(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}dE(Bs,rfe,z3(uh,{brighter(e){return e=e==null?Ym:Math.pow(Ym,e),new Bs(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Cf:Math.pow(Cf,e),new Bs(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new xn(Qb(e>=240?e-240:e+120,s,n),Qb(e,s,n),Qb(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new Bs(dP(this.h),kp(this.s),kp(this.l),Gm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Gm(this.opacity);return`${e===1?"hsl(":"hsla("}${dP(this.h)}, ${kp(this.s)*100}%, ${kp(this.l)*100}%${e===1?")":`, ${e})`}`}}));function dP(e){return e=(e||0)%360,e<0?e+360:e}function kp(e){return Math.max(0,Math.min(1,e||0))}function Qb(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const fE=e=>()=>e;function nfe(e,t){return function(r){return e+r*t}}function sfe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function ife(e){return(e=+e)==1?q3:function(t,r){return r-t?sfe(t,r,e):fE(isNaN(t)?r:t)}}function q3(e,t){var r=t-e;return r?nfe(e,r):fE(isNaN(e)?t:e)}const fP=function e(t){var r=ife(t);function n(s,i){var o=r((s=_w(s)).r,(i=_w(i)).r),a=r(s.g,i.g),l=r(s.b,i.b),c=q3(s.opacity,i.opacity);return function(d){return s.r=o(d),s.g=a(d),s.b=l(d),s.opacity=c(d),s+""}}return n.gamma=e,n}(1);function ofe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function afe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function lfe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=Ru(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(a){for(o=0;o<n;++o)i[o]=s[o](a);return i}}function cfe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Zm(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function ufe(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=Ru(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var Sw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,e0=new RegExp(Sw.source,"g");function dfe(e){return function(){return e}}function ffe(e){return function(t){return e(t)+""}}function hfe(e,t){var r=Sw.lastIndex=e0.lastIndex=0,n,s,i,o=-1,a=[],l=[];for(e=e+"",t=t+"";(n=Sw.exec(e))&&(s=e0.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),a[o]?a[o]+=i:a[++o]=i),(n=n[0])===(s=s[0])?a[o]?a[o]+=s:a[++o]=s:(a[++o]=null,l.push({i:o,x:Zm(n,s)})),r=e0.lastIndex;return r<t.length&&(i=t.slice(r),a[o]?a[o]+=i:a[++o]=i),a.length<2?l[0]?ffe(l[0].x):dfe(t):(t=l.length,function(c){for(var d=0,f;d<t;++d)a[(f=l[d]).i]=f.x(c);return a.join("")})}function Ru(e,t){var r=typeof t,n;return t==null||r==="boolean"?fE(t):(r==="number"?Zm:r==="string"?(n=Af(t))?(t=n,fP):hfe:t instanceof Af?fP:t instanceof Date?cfe:afe(t)?ofe:Array.isArray(t)?lfe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?ufe:Zm)(e,t)}function hE(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function pfe(e,t){t===void 0&&(t=e,e=Ru);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(o){var a=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[a](o-a)}}function mfe(e){return function(){return e}}function Xm(e){return+e}var hP=[0,1];function cn(e){return e}function Ew(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:mfe(isNaN(t)?NaN:.5)}function gfe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function yfe(e,t,r){var n=e[0],s=e[1],i=t[0],o=t[1];return s<n?(n=Ew(s,n),i=r(o,i)):(n=Ew(n,s),i=r(i,o)),function(a){return i(n(a))}}function vfe(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=Ew(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(a){var l=ch(e,a,1,n)-1;return i[l](s[l](a))}}function dh(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ly(){var e=hP,t=hP,r=Ru,n,s,i,o=cn,a,l,c;function d(){var h=Math.min(e.length,t.length);return o!==cn&&(o=gfe(e[0],e[h-1])),a=h>2?vfe:yfe,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?i:(l||(l=a(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(s((c||(c=a(t,e.map(n),Zm)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Xm),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=hE,d()},f.clamp=function(h){return arguments.length?(o=h?!0:cn,d()):o!==cn},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,s=p,d()}}function pE(){return Ly()(cn,cn)}function bfe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Jm(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function cu(e){return e=Jm(Math.abs(e)),e?e[1]:NaN}function xfe(e,t){return function(r,n){for(var s=r.length,i=[],o=0,a=e[0],l=0;s>0&&a>0&&(l+a+1>n&&(a=Math.max(1,n-l)),i.push(r.substring(s-=a,s+a)),!((l+=a+1)>n));)a=e[o=(o+1)%e.length];return i.reverse().join(t)}}function wfe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var _fe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Pf(e){if(!(t=_fe.exec(e)))throw new Error("invalid format: "+e);var t;return new mE({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Pf.prototype=mE.prototype;function mE(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}mE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Sfe(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var V3;function Efe(e,t){var r=Jm(e,t);if(!r)return e+"";var n=r[0],s=r[1],i=s-(V3=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Jm(e,Math.max(0,t+i-1))[0]}function pP(e,t){var r=Jm(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const mP={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:bfe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>pP(e*100,t),r:pP,s:Efe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function gP(e){return e}var yP=Array.prototype.map,vP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function jfe(e){var t=e.grouping===void 0||e.thousands===void 0?gP:xfe(yP.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?gP:wfe(yP.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=Pf(f);var h=f.fill,p=f.align,g=f.sign,m=f.symbol,y=f.zero,v=f.width,b=f.comma,x=f.precision,S=f.trim,_=f.type;_==="n"?(b=!0,_="g"):mP[_]||(x===void 0&&(x=12),S=!0,_="g"),(y||h==="0"&&p==="=")&&(y=!0,h="0",p="=");var N=m==="$"?r:m==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",k=m==="$"?n:/[%p]/.test(_)?o:"",C=mP[_],A=/[defgprs%]/.test(_);x=x===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function I(M){var L=N,D=k,z,U,G;if(_==="c")D=C(M)+D,M="";else{M=+M;var q=M<0||1/M<0;if(M=isNaN(M)?l:C(Math.abs(M),x),S&&(M=Sfe(M)),q&&+M==0&&g!=="+"&&(q=!1),L=(q?g==="("?g:a:g==="-"||g==="("?"":g)+L,D=(_==="s"?vP[8+V3/3]:"")+D+(q&&g==="("?")":""),A){for(z=-1,U=M.length;++z<U;)if(G=M.charCodeAt(z),48>G||G>57){D=(G===46?s+M.slice(z+1):M.slice(z))+D,M=M.slice(0,z);break}}}b&&!y&&(M=t(M,1/0));var Z=L.length+M.length+D.length,oe=Z<v?new Array(v-Z+1).join(h):"";switch(b&&y&&(M=t(oe+M,oe.length?v-D.length:1/0),oe=""),p){case"<":M=L+M+D+oe;break;case"=":M=L+oe+M+D;break;case"^":M=oe.slice(0,Z=oe.length>>1)+L+M+D+oe.slice(Z);break;default:M=oe+L+M+D;break}return i(M)}return I.toString=function(){return f+""},I}function d(f,h){var p=c((f=Pf(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(cu(h)/3)))*3,m=Math.pow(10,-g),y=vP[8+g/3];return function(v){return p(m*v)+y}}return{format:c,formatPrefix:d}}var Cp,gE,W3;Nfe({thousands:",",grouping:[3],currency:["$",""]});function Nfe(e){return Cp=jfe(e),gE=Cp.format,W3=Cp.formatPrefix,Cp}function kfe(e){return Math.max(0,-cu(Math.abs(e)))}function Cfe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cu(t)/3)))*3-cu(Math.abs(e)))}function Tfe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,cu(t)-cu(e))+1}function K3(e,t,r,n){var s=xw(e,t,r),i;switch(n=Pf(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=Cfe(s,o))&&(n.precision=i),W3(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=Tfe(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=kfe(s))&&(n.precision=i-(n.type==="%")*2);break}}return gE(n)}function _a(e){var t=e.domain;return e.ticks=function(r){var n=t();return vw(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return K3(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,o=n[s],a=n[i],l,c,d=10;for(a<o&&(c=o,o=a,a=c,c=s,s=i,i=c);d-- >0;){if(c=bw(o,a,r),c===l)return n[s]=o,n[i]=a,t(n);if(c>0)o=Math.floor(o/c)*c,a=Math.ceil(a/c)*c;else if(c<0)o=Math.ceil(o*c)/c,a=Math.floor(a*c)/c;else break;l=c}return e},e}function H3(){var e=pE();return e.copy=function(){return dh(e,H3())},xs.apply(e,arguments),_a(e)}function Y3(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Xm),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return Y3(e).unknown(t)},e=arguments.length?Array.from(e,Xm):[0,1],_a(r)}function G3(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),e[r]=t.floor(s),e[n]=t.ceil(i),e}function bP(e){return Math.log(e)}function xP(e){return Math.exp(e)}function Afe(e){return-Math.log(-e)}function Pfe(e){return-Math.exp(-e)}function Ofe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Dfe(e){return e===10?Ofe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function $fe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function wP(e){return(t,r)=>-e(-t,r)}function yE(e){const t=e(bP,xP),r=t.domain;let n=10,s,i;function o(){return s=$fe(n),i=Dfe(n),r()[0]<0?(s=wP(s),i=wP(i),e(Afe,Pfe)):e(bP,xP),t}return t.base=function(a){return arguments.length?(n=+a,o()):n},t.domain=function(a){return arguments.length?(r(a),o()):r()},t.ticks=a=>{const l=r();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let h=s(c),p=s(d),g,m;const y=a==null?10:+a;let v=[];if(!(n%1)&&p-h<y){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(g=1;g<n;++g)if(m=h<0?g/i(-h):g*i(h),!(m<c)){if(m>d)break;v.push(m)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(m=h>0?g/i(-h):g*i(h),!(m<c)){if(m>d)break;v.push(m)}v.length*2<y&&(v=vw(c,d,y))}else v=vw(h,p,Math.min(p-h,y)).map(i);return f?v.reverse():v},t.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Pf(l)).precision==null&&(l.trim=!0),l=gE(l)),a===1/0)return l;const c=Math.max(1,n*a/t.ticks().length);return d=>{let f=d/i(Math.round(s(d)));return f*n<n-.5&&(f*=n),f<=c?l(d):""}},t.nice=()=>r(G3(r(),{floor:a=>i(Math.floor(s(a))),ceil:a=>i(Math.ceil(s(a)))})),t}function Z3(){const e=yE(Ly()).domain([1,10]);return e.copy=()=>dh(e,Z3()).base(e.base()),xs.apply(e,arguments),e}function _P(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function SP(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function vE(e){var t=1,r=e(_P(t),SP(t));return r.constant=function(n){return arguments.length?e(_P(t=+n),SP(t)):t},_a(r)}function X3(){var e=vE(Ly());return e.copy=function(){return dh(e,X3()).constant(e.constant())},xs.apply(e,arguments)}function EP(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Rfe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Ife(e){return e<0?-e*e:e*e}function bE(e){var t=e(cn,cn),r=1;function n(){return r===1?e(cn,cn):r===.5?e(Rfe,Ife):e(EP(r),EP(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},_a(t)}function xE(){var e=bE(Ly());return e.copy=function(){return dh(e,xE()).exponent(e.exponent())},xs.apply(e,arguments),e}function Mfe(){return xE.apply(null,arguments).exponent(.5)}function jP(e){return Math.sign(e)*e*e}function Lfe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function J3(){var e=pE(),t=[0,1],r=!1,n;function s(i){var o=Lfe(e(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return e.invert(jP(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,Xm)).map(jP)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return J3(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},xs.apply(s,arguments),_a(s)}function Q3(){var e=[],t=[],r=[],n;function s(){var o=0,a=Math.max(1,t.length);for(r=new Array(a-1);++o<a;)r[o-1]=Ude(e,o/a);return i}function i(o){return o==null||isNaN(o=+o)?n:t[ch(r,o)]}return i.invertExtent=function(o){var a=t.indexOf(o);return a<0?[NaN,NaN]:[a>0?r[a-1]:e[0],a<r.length?r[a]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let a of o)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(ia),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return Q3().domain(e).range(t).unknown(n)},xs.apply(i,arguments)}function e6(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function o(l){return l!=null&&l<=l?s[ch(n,l,0,r)]:i}function a(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,a()):[e,t]},o.range=function(l){return arguments.length?(r=(s=Array.from(l)).length-1,a()):s.slice()},o.invertExtent=function(l){var c=s.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},o.unknown=function(l){return arguments.length&&(i=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return e6().domain([e,t]).range(s).unknown(i)},xs.apply(_a(o),arguments)}function t6(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[ch(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return t6().domain(e).range(t).unknown(r)},xs.apply(s,arguments)}const t0=new Date,r0=new Date;function wr(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),a=s.ceil(i);return i-o<a-i?o:a},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,a)=>{const l=[];if(i=s.ceil(i),a=a==null?1:Math.floor(a),!(i<o)||!(a>0))return l;let c;do l.push(c=new Date(+i)),t(i,a),e(i);while(c<i&&i<o);return l},s.filter=i=>wr(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!i(o););else for(;--a>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(t0.setTime(+i),r0.setTime(+o),e(t0),e(r0),Math.floor(r(t0,r0))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const Qm=wr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Qm.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?wr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Qm);Qm.range;const Qi=1e3,cs=Qi*60,eo=cs*60,fo=eo*24,wE=fo*7,NP=fo*30,n0=fo*365,Qa=wr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Qi)},(e,t)=>(t-e)/Qi,e=>e.getUTCSeconds());Qa.range;const _E=wr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Qi)},(e,t)=>{e.setTime(+e+t*cs)},(e,t)=>(t-e)/cs,e=>e.getMinutes());_E.range;const SE=wr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*cs)},(e,t)=>(t-e)/cs,e=>e.getUTCMinutes());SE.range;const EE=wr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Qi-e.getMinutes()*cs)},(e,t)=>{e.setTime(+e+t*eo)},(e,t)=>(t-e)/eo,e=>e.getHours());EE.range;const jE=wr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*eo)},(e,t)=>(t-e)/eo,e=>e.getUTCHours());jE.range;const fh=wr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*cs)/fo,e=>e.getDate()-1);fh.range;const Fy=wr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/fo,e=>e.getUTCDate()-1);Fy.range;const r6=wr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/fo,e=>Math.floor(e/fo));r6.range;function Ol(e){return wr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*cs)/wE)}const By=Ol(0),eg=Ol(1),Ffe=Ol(2),Bfe=Ol(3),uu=Ol(4),zfe=Ol(5),Ufe=Ol(6);By.range;eg.range;Ffe.range;Bfe.range;uu.range;zfe.range;Ufe.range;function Dl(e){return wr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/wE)}const zy=Dl(0),tg=Dl(1),qfe=Dl(2),Vfe=Dl(3),du=Dl(4),Wfe=Dl(5),Kfe=Dl(6);zy.range;tg.range;qfe.range;Vfe.range;du.range;Wfe.range;Kfe.range;const NE=wr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());NE.range;const kE=wr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());kE.range;const ho=wr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ho.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:wr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ho.range;const po=wr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());po.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:wr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});po.range;function n6(e,t,r,n,s,i){const o=[[Qa,1,Qi],[Qa,5,5*Qi],[Qa,15,15*Qi],[Qa,30,30*Qi],[i,1,cs],[i,5,5*cs],[i,15,15*cs],[i,30,30*cs],[s,1,eo],[s,3,3*eo],[s,6,6*eo],[s,12,12*eo],[n,1,fo],[n,2,2*fo],[r,1,wE],[t,1,NP],[t,3,3*NP],[e,1,n0]];function a(c,d,f){const h=d<c;h&&([c,d]=[d,c]);const p=f&&typeof f.range=="function"?f:l(c,d,f),g=p?p.range(c,+d+1):[];return h?g.reverse():g}function l(c,d,f){const h=Math.abs(d-c)/f,p=lE(([,,y])=>y).right(o,h);if(p===o.length)return e.every(xw(c/n0,d/n0,f));if(p===0)return Qm.every(Math.max(xw(c,d,f),1));const[g,m]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return g.every(m)}return[a,l]}const[Hfe,Yfe]=n6(po,kE,zy,r6,jE,SE),[Gfe,Zfe]=n6(ho,NE,By,fh,EE,_E);function s0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function i0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function vd(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Xfe(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,a=e.months,l=e.shortMonths,c=bd(s),d=xd(s),f=bd(i),h=xd(i),p=bd(o),g=xd(o),m=bd(a),y=xd(a),v=bd(l),b=xd(l),x={a:q,A:Z,b:oe,B:$,c:null,d:OP,e:OP,f:xhe,g:Ahe,G:Ohe,H:yhe,I:vhe,j:bhe,L:s6,m:whe,M:_he,p:B,q:X,Q:RP,s:IP,S:She,u:Ehe,U:jhe,V:Nhe,w:khe,W:Che,x:null,X:null,y:The,Y:Phe,Z:Dhe,"%":$P},S={a:ae,A:W,b:K,B:te,c:null,d:DP,e:DP,f:Mhe,g:Hhe,G:Ghe,H:$he,I:Rhe,j:Ihe,L:o6,m:Lhe,M:Fhe,p:re,q:ue,Q:RP,s:IP,S:Bhe,u:zhe,U:Uhe,V:qhe,w:Vhe,W:Whe,x:null,X:null,y:Khe,Y:Yhe,Z:Zhe,"%":$P},_={a:I,A:M,b:L,B:D,c:z,d:AP,e:AP,f:hhe,g:TP,G:CP,H:PP,I:PP,j:che,L:fhe,m:lhe,M:uhe,p:A,q:ahe,Q:mhe,s:ghe,S:dhe,u:rhe,U:nhe,V:she,w:the,W:ihe,x:U,X:G,y:TP,Y:CP,Z:ohe,"%":phe};x.x=N(r,x),x.X=N(n,x),x.c=N(t,x),S.x=N(r,S),S.X=N(n,S),S.c=N(t,S);function N(V,H){return function(ie){var O=[],ge=-1,Ee=0,Be=V.length,Ue,et,bt;for(ie instanceof Date||(ie=new Date(+ie));++ge<Be;)V.charCodeAt(ge)===37&&(O.push(V.slice(Ee,ge)),(et=kP[Ue=V.charAt(++ge)])!=null?Ue=V.charAt(++ge):et=Ue==="e"?" ":"0",(bt=H[Ue])&&(Ue=bt(ie,et)),O.push(Ue),Ee=ge+1);return O.push(V.slice(Ee,ge)),O.join("")}}function k(V,H){return function(ie){var O=vd(1900,void 0,1),ge=C(O,V,ie+="",0),Ee,Be;if(ge!=ie.length)return null;if("Q"in O)return new Date(O.Q);if("s"in O)return new Date(O.s*1e3+("L"in O?O.L:0));if(H&&!("Z"in O)&&(O.Z=0),"p"in O&&(O.H=O.H%12+O.p*12),O.m===void 0&&(O.m="q"in O?O.q:0),"V"in O){if(O.V<1||O.V>53)return null;"w"in O||(O.w=1),"Z"in O?(Ee=i0(vd(O.y,0,1)),Be=Ee.getUTCDay(),Ee=Be>4||Be===0?tg.ceil(Ee):tg(Ee),Ee=Fy.offset(Ee,(O.V-1)*7),O.y=Ee.getUTCFullYear(),O.m=Ee.getUTCMonth(),O.d=Ee.getUTCDate()+(O.w+6)%7):(Ee=s0(vd(O.y,0,1)),Be=Ee.getDay(),Ee=Be>4||Be===0?eg.ceil(Ee):eg(Ee),Ee=fh.offset(Ee,(O.V-1)*7),O.y=Ee.getFullYear(),O.m=Ee.getMonth(),O.d=Ee.getDate()+(O.w+6)%7)}else("W"in O||"U"in O)&&("w"in O||(O.w="u"in O?O.u%7:"W"in O?1:0),Be="Z"in O?i0(vd(O.y,0,1)).getUTCDay():s0(vd(O.y,0,1)).getDay(),O.m=0,O.d="W"in O?(O.w+6)%7+O.W*7-(Be+5)%7:O.w+O.U*7-(Be+6)%7);return"Z"in O?(O.H+=O.Z/100|0,O.M+=O.Z%100,i0(O)):s0(O)}}function C(V,H,ie,O){for(var ge=0,Ee=H.length,Be=ie.length,Ue,et;ge<Ee;){if(O>=Be)return-1;if(Ue=H.charCodeAt(ge++),Ue===37){if(Ue=H.charAt(ge++),et=_[Ue in kP?H.charAt(ge++):Ue],!et||(O=et(V,ie,O))<0)return-1}else if(Ue!=ie.charCodeAt(O++))return-1}return O}function A(V,H,ie){var O=c.exec(H.slice(ie));return O?(V.p=d.get(O[0].toLowerCase()),ie+O[0].length):-1}function I(V,H,ie){var O=p.exec(H.slice(ie));return O?(V.w=g.get(O[0].toLowerCase()),ie+O[0].length):-1}function M(V,H,ie){var O=f.exec(H.slice(ie));return O?(V.w=h.get(O[0].toLowerCase()),ie+O[0].length):-1}function L(V,H,ie){var O=v.exec(H.slice(ie));return O?(V.m=b.get(O[0].toLowerCase()),ie+O[0].length):-1}function D(V,H,ie){var O=m.exec(H.slice(ie));return O?(V.m=y.get(O[0].toLowerCase()),ie+O[0].length):-1}function z(V,H,ie){return C(V,t,H,ie)}function U(V,H,ie){return C(V,r,H,ie)}function G(V,H,ie){return C(V,n,H,ie)}function q(V){return o[V.getDay()]}function Z(V){return i[V.getDay()]}function oe(V){return l[V.getMonth()]}function $(V){return a[V.getMonth()]}function B(V){return s[+(V.getHours()>=12)]}function X(V){return 1+~~(V.getMonth()/3)}function ae(V){return o[V.getUTCDay()]}function W(V){return i[V.getUTCDay()]}function K(V){return l[V.getUTCMonth()]}function te(V){return a[V.getUTCMonth()]}function re(V){return s[+(V.getUTCHours()>=12)]}function ue(V){return 1+~~(V.getUTCMonth()/3)}return{format:function(V){var H=N(V+="",x);return H.toString=function(){return V},H},parse:function(V){var H=k(V+="",!1);return H.toString=function(){return V},H},utcFormat:function(V){var H=N(V+="",S);return H.toString=function(){return V},H},utcParse:function(V){var H=k(V+="",!0);return H.toString=function(){return V},H}}}var kP={"-":"",_:" ",0:"0"},Pr=/^\s*\d+/,Jfe=/^%/,Qfe=/[\\^$*+?|[\]().{}]/g;function it(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function ehe(e){return e.replace(Qfe,"\\$&")}function bd(e){return new RegExp("^(?:"+e.map(ehe).join("|")+")","i")}function xd(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function the(e,t,r){var n=Pr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function rhe(e,t,r){var n=Pr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function nhe(e,t,r){var n=Pr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function she(e,t,r){var n=Pr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function ihe(e,t,r){var n=Pr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function CP(e,t,r){var n=Pr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function TP(e,t,r){var n=Pr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function ohe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function ahe(e,t,r){var n=Pr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function lhe(e,t,r){var n=Pr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function AP(e,t,r){var n=Pr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function che(e,t,r){var n=Pr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function PP(e,t,r){var n=Pr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function uhe(e,t,r){var n=Pr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function dhe(e,t,r){var n=Pr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function fhe(e,t,r){var n=Pr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function hhe(e,t,r){var n=Pr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function phe(e,t,r){var n=Jfe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function mhe(e,t,r){var n=Pr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function ghe(e,t,r){var n=Pr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function OP(e,t){return it(e.getDate(),t,2)}function yhe(e,t){return it(e.getHours(),t,2)}function vhe(e,t){return it(e.getHours()%12||12,t,2)}function bhe(e,t){return it(1+fh.count(ho(e),e),t,3)}function s6(e,t){return it(e.getMilliseconds(),t,3)}function xhe(e,t){return s6(e,t)+"000"}function whe(e,t){return it(e.getMonth()+1,t,2)}function _he(e,t){return it(e.getMinutes(),t,2)}function She(e,t){return it(e.getSeconds(),t,2)}function Ehe(e){var t=e.getDay();return t===0?7:t}function jhe(e,t){return it(By.count(ho(e)-1,e),t,2)}function i6(e){var t=e.getDay();return t>=4||t===0?uu(e):uu.ceil(e)}function Nhe(e,t){return e=i6(e),it(uu.count(ho(e),e)+(ho(e).getDay()===4),t,2)}function khe(e){return e.getDay()}function Che(e,t){return it(eg.count(ho(e)-1,e),t,2)}function The(e,t){return it(e.getFullYear()%100,t,2)}function Ahe(e,t){return e=i6(e),it(e.getFullYear()%100,t,2)}function Phe(e,t){return it(e.getFullYear()%1e4,t,4)}function Ohe(e,t){var r=e.getDay();return e=r>=4||r===0?uu(e):uu.ceil(e),it(e.getFullYear()%1e4,t,4)}function Dhe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+it(t/60|0,"0",2)+it(t%60,"0",2)}function DP(e,t){return it(e.getUTCDate(),t,2)}function $he(e,t){return it(e.getUTCHours(),t,2)}function Rhe(e,t){return it(e.getUTCHours()%12||12,t,2)}function Ihe(e,t){return it(1+Fy.count(po(e),e),t,3)}function o6(e,t){return it(e.getUTCMilliseconds(),t,3)}function Mhe(e,t){return o6(e,t)+"000"}function Lhe(e,t){return it(e.getUTCMonth()+1,t,2)}function Fhe(e,t){return it(e.getUTCMinutes(),t,2)}function Bhe(e,t){return it(e.getUTCSeconds(),t,2)}function zhe(e){var t=e.getUTCDay();return t===0?7:t}function Uhe(e,t){return it(zy.count(po(e)-1,e),t,2)}function a6(e){var t=e.getUTCDay();return t>=4||t===0?du(e):du.ceil(e)}function qhe(e,t){return e=a6(e),it(du.count(po(e),e)+(po(e).getUTCDay()===4),t,2)}function Vhe(e){return e.getUTCDay()}function Whe(e,t){return it(tg.count(po(e)-1,e),t,2)}function Khe(e,t){return it(e.getUTCFullYear()%100,t,2)}function Hhe(e,t){return e=a6(e),it(e.getUTCFullYear()%100,t,2)}function Yhe(e,t){return it(e.getUTCFullYear()%1e4,t,4)}function Ghe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?du(e):du.ceil(e),it(e.getUTCFullYear()%1e4,t,4)}function Zhe(){return"+0000"}function $P(){return"%"}function RP(e){return+e}function IP(e){return Math.floor(+e/1e3)}var rc,l6,c6;Xhe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Xhe(e){return rc=Xfe(e),l6=rc.format,rc.parse,c6=rc.utcFormat,rc.utcParse,rc}function Jhe(e){return new Date(e)}function Qhe(e){return e instanceof Date?+e:+new Date(+e)}function CE(e,t,r,n,s,i,o,a,l,c){var d=pE(),f=d.invert,h=d.domain,p=c(".%L"),g=c(":%S"),m=c("%I:%M"),y=c("%I %p"),v=c("%a %d"),b=c("%b %d"),x=c("%B"),S=c("%Y");function _(N){return(l(N)<N?p:a(N)<N?g:o(N)<N?m:i(N)<N?y:n(N)<N?s(N)<N?v:b:r(N)<N?x:S)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,Qhe)):h().map(Jhe)},d.ticks=function(N){var k=h();return e(k[0],k[k.length-1],N??10)},d.tickFormat=function(N,k){return k==null?_:c(k)},d.nice=function(N){var k=h();return(!N||typeof N.range!="function")&&(N=t(k[0],k[k.length-1],N??10)),N?h(G3(k,N)):d},d.copy=function(){return dh(d,CE(e,t,r,n,s,i,o,a,l,c))},d}function epe(){return xs.apply(CE(Gfe,Zfe,ho,NE,By,fh,EE,_E,Qa,l6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function tpe(){return xs.apply(CE(Hfe,Yfe,po,kE,zy,Fy,jE,SE,Qa,c6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Uy(){var e=0,t=1,r,n,s,i,o=cn,a=!1,l;function c(f){return f==null||isNaN(f=+f)?l:o(s===0?.5:(f=(i(f)-r)*s,a?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(f){return arguments.length?(a=!!f,c):a},c.interpolator=function(f){return arguments.length?(o=f,c):o};function d(f){return function(h){var p,g;return arguments.length?([p,g]=h,o=f(p,g),c):[o(0),o(1)]}}return c.range=d(Ru),c.rangeRound=d(hE),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return i=f,r=f(e),n=f(t),s=r===n?0:1/(n-r),c}}function Sa(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function u6(){var e=_a(Uy()(cn));return e.copy=function(){return Sa(e,u6())},Eo.apply(e,arguments)}function d6(){var e=yE(Uy()).domain([1,10]);return e.copy=function(){return Sa(e,d6()).base(e.base())},Eo.apply(e,arguments)}function f6(){var e=vE(Uy());return e.copy=function(){return Sa(e,f6()).constant(e.constant())},Eo.apply(e,arguments)}function TE(){var e=bE(Uy());return e.copy=function(){return Sa(e,TE()).exponent(e.exponent())},Eo.apply(e,arguments)}function rpe(){return TE.apply(null,arguments).exponent(.5)}function h6(){var e=[],t=cn;function r(n){if(n!=null&&!isNaN(n=+n))return t((ch(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(ia),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>zde(e,i/n))},r.copy=function(){return h6(t).domain(e)},Eo.apply(r,arguments)}function qy(){var e=0,t=.5,r=1,n=1,s,i,o,a,l,c=cn,d,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-i)*(n*m<n*i?a:l),c(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,s=d(e=+e),i=d(t=+t),o=d(r=+r),a=s===i?0:.5/(i-s),l=i===o?0:.5/(o-i),n=i<s?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(c=m,p):c};function g(m){return function(y){var v,b,x;return arguments.length?([v,b,x]=y,c=pfe(m,[v,b,x]),p):[c(0),c(.5),c(1)]}}return p.range=g(Ru),p.rangeRound=g(hE),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return d=m,s=m(e),i=m(t),o=m(r),a=s===i?0:.5/(i-s),l=i===o?0:.5/(o-i),n=i<s?-1:1,p}}function p6(){var e=_a(qy()(cn));return e.copy=function(){return Sa(e,p6())},Eo.apply(e,arguments)}function m6(){var e=yE(qy()).domain([.1,1,10]);return e.copy=function(){return Sa(e,m6()).base(e.base())},Eo.apply(e,arguments)}function g6(){var e=vE(qy());return e.copy=function(){return Sa(e,g6()).constant(e.constant())},Eo.apply(e,arguments)}function AE(){var e=bE(qy());return e.copy=function(){return Sa(e,AE()).exponent(e.exponent())},Eo.apply(e,arguments)}function npe(){return AE.apply(null,arguments).exponent(.5)}const Pd=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:uE,scaleDiverging:p6,scaleDivergingLog:m6,scaleDivergingPow:AE,scaleDivergingSqrt:npe,scaleDivergingSymlog:g6,scaleIdentity:Y3,scaleImplicit:ww,scaleLinear:H3,scaleLog:Z3,scaleOrdinal:cE,scalePoint:Vde,scalePow:xE,scaleQuantile:Q3,scaleQuantize:e6,scaleRadial:J3,scaleSequential:u6,scaleSequentialLog:d6,scaleSequentialPow:TE,scaleSequentialQuantile:h6,scaleSequentialSqrt:rpe,scaleSequentialSymlog:f6,scaleSqrt:Mfe,scaleSymlog:X3,scaleThreshold:t6,scaleTime:epe,scaleUtc:tpe,tickFormat:K3},Symbol.toStringTag,{value:"Module"}));var Ea=e=>e.chartData,PE=ee([Ea],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),OE=(e,t,r,n)=>n?PE(e):Ea(e);function fu(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Hs(t)&&Hs(r))return!0}return!1}function MP(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function spe(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,s,i;if(Hs(r))s=r;else if(typeof r=="function")return;if(Hs(n))i=n;else if(typeof n=="function")return;var o=[s,i];if(fu(o))return o}}function ipe(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(fu(n))return MP(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[s,i]=e,o,a;if(s==="auto")t!=null&&(o=Math.min(...t));else if(Te(s))o=s;else if(typeof s=="function")try{t!=null&&(o=s(t==null?void 0:t[0]))}catch{}else if(typeof s=="string"&&DA.test(s)){var l=DA.exec(s);if(l==null||t==null)o=void 0;else{var c=+l[1];o=t[0]-c}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(a=Math.max(...t));else if(Te(i))a=i;else if(typeof i=="function")try{t!=null&&(a=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&$A.test(i)){var d=$A.exec(i);if(d==null||t==null)a=void 0;else{var f=+d[1];a=t[1]+f}}else a=t==null?void 0:t[1];var h=[o,a];if(fu(h))return t==null?h:MP(h,t,r)}}}var Iu=1e9,ope={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},$E,$t=!0,gs="[DecimalError] ",ll=gs+"Invalid argument: ",DE=gs+"Exponent out of range: ",Mu=Math.floor,Va=Math.pow,ape=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Mn,Nr=1e7,Tt=7,y6=9007199254740991,rg=Mu(y6/Tt),Ne={};Ne.absoluteValue=Ne.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ne.comparedTo=Ne.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};Ne.decimalPlaces=Ne.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Tt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ne.dividedBy=Ne.div=function(e){return ro(this,new this.constructor(e))};Ne.dividedToIntegerBy=Ne.idiv=function(e){var t=this,r=t.constructor;return vt(ro(t,new r(e),0,1),r.precision)};Ne.equals=Ne.eq=function(e){return!this.cmp(e)};Ne.exponent=function(){return ar(this)};Ne.greaterThan=Ne.gt=function(e){return this.cmp(e)>0};Ne.greaterThanOrEqualTo=Ne.gte=function(e){return this.cmp(e)>=0};Ne.isInteger=Ne.isint=function(){return this.e>this.d.length-2};Ne.isNegative=Ne.isneg=function(){return this.s<0};Ne.isPositive=Ne.ispos=function(){return this.s>0};Ne.isZero=function(){return this.s===0};Ne.lessThan=Ne.lt=function(e){return this.cmp(e)<0};Ne.lessThanOrEqualTo=Ne.lte=function(e){return this.cmp(e)<1};Ne.logarithm=Ne.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Mn))throw Error(gs+"NaN");if(r.s<1)throw Error(gs+(r.s?"NaN":"-Infinity"));return r.eq(Mn)?new n(0):($t=!1,t=ro(Of(r,i),Of(e,i),i),$t=!0,vt(t,s))};Ne.minus=Ne.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?x6(t,e):v6(t,(e.s=-e.s,e))};Ne.modulo=Ne.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(gs+"NaN");return r.s?($t=!1,t=ro(r,e,0,1).times(e),$t=!0,r.minus(t)):vt(new n(r),s)};Ne.naturalExponential=Ne.exp=function(){return b6(this)};Ne.naturalLogarithm=Ne.ln=function(){return Of(this)};Ne.negated=Ne.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ne.plus=Ne.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v6(t,e):x6(t,(e.s=-e.s,e))};Ne.precision=Ne.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ll+e);if(t=ar(s)+1,n=s.d.length-1,r=n*Tt+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ne.squareRoot=Ne.sqrt=function(){var e,t,r,n,s,i,o,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(gs+"NaN")}for(e=ar(a),$t=!1,s=Math.sqrt(+a),s==0||s==1/0?(t=hi(a.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Mu((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(s.toString()),r=l.precision,s=o=r+3;;)if(i=n,n=i.plus(ro(a,i,o+2)).times(.5),hi(i.d).slice(0,o)===(t=hi(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(vt(i,r+1,0),i.times(i).eq(a)){n=i;break}}else if(t!="9999")break;o+=4}return $t=!0,vt(n,r)};Ne.times=Ne.mul=function(e){var t,r,n,s,i,o,a,l,c,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,l=h.length,c=p.length,l<c&&(i=h,h=p,p=i,o=l,l=c,c=o),i=[],o=l+c,n=o;n--;)i.push(0);for(n=c;--n>=0;){for(t=0,s=l+n;s>n;)a=i[s]+p[n]*h[s-n-1]+t,i[s--]=a%Nr|0,t=a/Nr|0;i[s]=(i[s]+t)%Nr|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,$t?vt(e,f.precision):e};Ne.toDecimalPlaces=Ne.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ni(e,0,Iu),t===void 0?t=n.rounding:Ni(t,0,8),vt(r,e+ar(r)+1,t))};Ne.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=bl(n,!0):(Ni(e,0,Iu),t===void 0?t=s.rounding:Ni(t,0,8),n=vt(new s(n),e+1,t),r=bl(n,!0,e+1)),r};Ne.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?bl(s):(Ni(e,0,Iu),t===void 0?t=i.rounding:Ni(t,0,8),n=vt(new i(s),e+ar(s)+1,t),r=bl(n.abs(),!1,e+ar(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};Ne.toInteger=Ne.toint=function(){var e=this,t=e.constructor;return vt(new t(e),ar(e)+1,t.rounding)};Ne.toNumber=function(){return+this};Ne.toPower=Ne.pow=function(e){var t,r,n,s,i,o,a=this,l=a.constructor,c=12,d=+(e=new l(e));if(!e.s)return new l(Mn);if(a=new l(a),!a.s){if(e.s<1)throw Error(gs+"Infinity");return a}if(a.eq(Mn))return a;if(n=l.precision,e.eq(Mn))return vt(a,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=a.s,o){if((r=d<0?-d:d)<=y6){for(s=new l(Mn),t=Math.ceil(n/Tt+4),$t=!1;r%2&&(s=s.times(a),FP(s.d,t)),r=Mu(r/2),r!==0;)a=a.times(a),FP(a.d,t);return $t=!0,e.s<0?new l(Mn).div(s):vt(s,n)}}else if(i<0)throw Error(gs+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,a.s=1,$t=!1,s=e.times(Of(a,n+c)),$t=!0,s=b6(s),s.s=i,s};Ne.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=ar(s),n=bl(s,r<=i.toExpNeg||r>=i.toExpPos)):(Ni(e,1,Iu),t===void 0?t=i.rounding:Ni(t,0,8),s=vt(new i(s),e,t),r=ar(s),n=bl(s,e<=r||r<=i.toExpNeg,e)),n};Ne.toSignificantDigits=Ne.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ni(e,1,Iu),t===void 0?t=n.rounding:Ni(t,0,8)),vt(new n(r),e,t)};Ne.toString=Ne.valueOf=Ne.val=Ne.toJSON=Ne[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ar(e),r=e.constructor;return bl(e,t<=r.toExpNeg||t>=r.toExpPos)};function v6(e,t){var r,n,s,i,o,a,l,c,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),$t?vt(t,f):t;if(l=e.d,c=t.d,o=e.e,s=t.e,l=l.slice(),i=o-s,i){for(i<0?(n=l,i=-i,a=c.length):(n=c,s=o,a=l.length),o=Math.ceil(f/Tt),a=o>a?o+1:a+1,i>a&&(i=a,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(a=l.length,i=c.length,a-i<0&&(i=a,n=c,c=l,l=n),r=0;i;)r=(l[--i]=l[i]+c[i]+r)/Nr|0,l[i]%=Nr;for(r&&(l.unshift(r),++s),a=l.length;l[--a]==0;)l.pop();return t.d=l,t.e=s,$t?vt(t,f):t}function Ni(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ll+e)}function hi(e){var t,r,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",r=Tt-n.length,r&&(i+=Go(r)),i+=n;o=e[t],n=o+"",r=Tt-n.length,r&&(i+=Go(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var ro=function(){function e(n,s){var i,o=0,a=n.length;for(n=n.slice();a--;)i=n[a]*s+o,n[a]=i%Nr|0,o=i/Nr|0;return o&&n.unshift(o),n}function t(n,s,i,o){var a,l;if(i!=o)l=i>o?1:-1;else for(a=l=0;a<i;a++)if(n[a]!=s[a]){l=n[a]>s[a]?1:-1;break}return l}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*Nr+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var a,l,c,d,f,h,p,g,m,y,v,b,x,S,_,N,k,C,A=n.constructor,I=n.s==s.s?1:-1,M=n.d,L=s.d;if(!n.s)return new A(n);if(!s.s)throw Error(gs+"Division by zero");for(l=n.e-s.e,k=L.length,_=M.length,p=new A(I),g=p.d=[],c=0;L[c]==(M[c]||0);)++c;if(L[c]>(M[c]||0)&&--l,i==null?b=i=A.precision:o?b=i+(ar(n)-ar(s))+1:b=i,b<0)return new A(0);if(b=b/Tt+2|0,c=0,k==1)for(d=0,L=L[0],b++;(c<_||d)&&b--;c++)x=d*Nr+(M[c]||0),g[c]=x/L|0,d=x%L|0;else{for(d=Nr/(L[0]+1)|0,d>1&&(L=e(L,d),M=e(M,d),k=L.length,_=M.length),S=k,m=M.slice(0,k),y=m.length;y<k;)m[y++]=0;C=L.slice(),C.unshift(0),N=L[0],L[1]>=Nr/2&&++N;do d=0,a=t(L,m,k,y),a<0?(v=m[0],k!=y&&(v=v*Nr+(m[1]||0)),d=v/N|0,d>1?(d>=Nr&&(d=Nr-1),f=e(L,d),h=f.length,y=m.length,a=t(f,m,h,y),a==1&&(d--,r(f,k<h?C:L,h))):(d==0&&(a=d=1),f=L.slice()),h=f.length,h<y&&f.unshift(0),r(m,f,y),a==-1&&(y=m.length,a=t(L,m,k,y),a<1&&(d++,r(m,k<y?C:L,y))),y=m.length):a===0&&(d++,m=[0]),g[c++]=d,a&&m[0]?m[y++]=M[S]||0:(m=[M[S]],y=1);while((S++<_||m[0]!==void 0)&&b--)}return g[0]||g.shift(),p.e=l,vt(p,o?i+ar(p)+1:i)}}();function b6(e,t){var r,n,s,i,o,a,l=0,c=0,d=e.constructor,f=d.precision;if(ar(e)>16)throw Error(DE+ar(e));if(!e.s)return new d(Mn);for($t=!1,a=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),c+=5;for(n=Math.log(Va(2,c))/Math.LN10*2+5|0,a+=n,r=s=i=new d(Mn),d.precision=a;;){if(s=vt(s.times(e),a),r=r.times(++l),o=i.plus(ro(s,r,a)),hi(o.d).slice(0,a)===hi(i.d).slice(0,a)){for(;c--;)i=vt(i.times(i),a);return d.precision=f,t==null?($t=!0,vt(i,f)):i}i=o}}function ar(e){for(var t=e.e*Tt,r=e.d[0];r>=10;r/=10)t++;return t}function o0(e,t,r){if(t>e.LN10.sd())throw $t=!0,r&&(e.precision=r),Error(gs+"LN10 precision limit exceeded");return vt(new e(e.LN10),t)}function Go(e){for(var t="";e--;)t+="0";return t}function Of(e,t){var r,n,s,i,o,a,l,c,d,f=1,h=10,p=e,g=p.d,m=p.constructor,y=m.precision;if(p.s<1)throw Error(gs+(p.s?"NaN":"-Infinity"));if(p.eq(Mn))return new m(0);if(t==null?($t=!1,c=y):c=t,p.eq(10))return t==null&&($t=!0),o0(m,c);if(c+=h,m.precision=c,r=hi(g),n=r.charAt(0),i=ar(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=hi(p.d),n=r.charAt(0),f++;i=ar(p),n>1?(p=new m("0."+r),i++):p=new m(n+"."+r.slice(1))}else return l=o0(m,c+2,y).times(i+""),p=Of(new m(n+"."+r.slice(1)),c-h).plus(l),m.precision=y,t==null?($t=!0,vt(p,y)):p;for(a=o=p=ro(p.minus(Mn),p.plus(Mn),c),d=vt(p.times(p),c),s=3;;){if(o=vt(o.times(d),c),l=a.plus(ro(o,new m(s),c)),hi(l.d).slice(0,c)===hi(a.d).slice(0,c))return a=a.times(2),i!==0&&(a=a.plus(o0(m,c+2,y).times(i+""))),a=ro(a,new m(f),c),m.precision=y,t==null?($t=!0,vt(a,y)):a;a=l,s+=2}}function LP(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=Mu(r/Tt),e.d=[],n=(r+1)%Tt,r<0&&(n+=Tt),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=Tt;n<s;)e.d.push(+t.slice(n,n+=Tt));t=t.slice(n),n=Tt-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),$t&&(e.e>rg||e.e<-rg))throw Error(DE+r)}else e.s=0,e.e=0,e.d=[0];return e}function vt(e,t,r){var n,s,i,o,a,l,c,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Tt,s=t,c=f[d=0];else{if(d=Math.ceil((n+1)/Tt),i=f.length,d>=i)return e;for(c=i=f[d],o=1;i>=10;i/=10)o++;n%=Tt,s=n-Tt+o}if(r!==void 0&&(i=Va(10,o-s-1),a=c/i%10|0,l=t<0||f[d+1]!==void 0||c%i,l=r<4?(a||l)&&(r==0||r==(e.s<0?3:2)):a>5||a==5&&(r==4||l||r==6&&(n>0?s>0?c/Va(10,o-s):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(i=ar(e),f.length=1,t=t-i-1,f[0]=Va(10,(Tt-t%Tt)%Tt),e.e=Mu(-t/Tt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Va(10,Tt-n),f[d]=s>0?(c/Va(10,o-s)%Va(10,s)|0)*i:0),l)for(;;)if(d==0){(f[0]+=i)==Nr&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Nr)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if($t&&(e.e>rg||e.e<-rg))throw Error(DE+ar(e));return e}function x6(e,t){var r,n,s,i,o,a,l,c,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),$t?vt(t,p):t;if(l=e.d,f=t.d,n=t.e,c=e.e,l=l.slice(),o=c-n,o){for(d=o<0,d?(r=l,o=-o,a=f.length):(r=f,n=c,a=l.length),s=Math.max(Math.ceil(p/Tt),a)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=l.length,a=f.length,d=s<a,d&&(a=s),s=0;s<a;s++)if(l[s]!=f[s]){d=l[s]<f[s];break}o=0}for(d&&(r=l,l=f,f=r,t.s=-t.s),a=l.length,s=f.length-a;s>0;--s)l[a++]=0;for(s=f.length;s>o;){if(l[--s]<f[s]){for(i=s;i&&l[--i]===0;)l[i]=Nr-1;--l[i],l[s]+=Nr}l[s]-=f[s]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,$t?vt(t,p):t):new h(0)}function bl(e,t,r){var n,s=ar(e),i=hi(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Go(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Go(-s-1)+i,r&&(n=r-o)>0&&(i+=Go(n))):s>=o?(i+=Go(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+Go(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=Go(n))),e.s<0?"-"+i:i}function FP(e,t){if(e.length>t)return e.length=t,!0}function w6(e){var t,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(ll+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return LP(o,i.toString())}else if(typeof i!="string")throw Error(ll+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,ape.test(i))LP(o,i);else throw Error(ll+i)}if(s.prototype=Ne,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=w6,s.config=s.set=lpe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function lpe(e){if(!e||typeof e!="object")throw Error(gs+"Object expected");var t,r,n,s=["precision",1,Iu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(Mu(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(ll+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ll+r+": "+n);return this}var $E=w6(ope);Mn=new $E(1);const ft=$E;var cpe=e=>e,_6={},S6=e=>e===_6,BP=e=>function t(){return arguments.length===0||arguments.length===1&&S6(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},E6=(e,t)=>e===1?t:BP(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];var i=n.filter(o=>o!==_6).length;return i>=e?t(...n):E6(e-i,BP(function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];var c=n.map(d=>S6(d)?a.shift():d);return t(...c,...a)}))}),Vy=e=>E6(e.length,e),jw=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},upe=Vy((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),dpe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return cpe;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce((a,l)=>l(a),i(...arguments))}},Nw=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),j6=e=>{var t=null,r=null;return function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return t&&s.every((o,a)=>{var l;return o===((l=t)===null||l===void 0?void 0:l[a])})||(t=s,r=e(...s)),r}};function N6(e){var t;return e===0?t=1:t=Math.floor(new ft(e).abs().log(10).toNumber())+1,t}function k6(e,t,r){for(var n=new ft(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}Vy((e,t,r)=>{var n=+e,s=+t;return n+r*(s-n)});Vy((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});Vy((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var C6=e=>{var[t,r]=e,[n,s]=[t,r];return t>r&&([n,s]=[r,t]),[n,s]},T6=(e,t,r)=>{if(e.lte(0))return new ft(0);var n=N6(e.toNumber()),s=new ft(10).pow(n),i=e.div(s),o=n!==1?.05:.1,a=new ft(Math.ceil(i.div(o).toNumber())).add(r).mul(o),l=a.mul(s);return t?new ft(l.toNumber()):new ft(Math.ceil(l.toNumber()))},fpe=(e,t,r)=>{var n=new ft(1),s=new ft(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new ft(10).pow(N6(e)-1),s=new ft(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new ft(Math.floor(e)))}else e===0?s=new ft(Math.floor((t-1)/2)):r||(s=new ft(Math.floor(e)));var o=Math.floor((t-1)/2),a=dpe(upe(l=>s.add(new ft(l-o).mul(n)).toNumber()),jw);return a(0,t)},A6=function(t,r,n,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new ft(0),tickMin:new ft(0),tickMax:new ft(0)};var o=T6(new ft(r).sub(t).div(n-1),s,i),a;t<=0&&r>=0?a=new ft(0):(a=new ft(t).add(r).div(2),a=a.sub(new ft(a).mod(o)));var l=Math.ceil(a.sub(t).div(o).toNumber()),c=Math.ceil(new ft(r).sub(a).div(o).toNumber()),d=l+c+1;return d>n?A6(t,r,n,s,i+1):(d<n&&(c=r>0?c+(n-d):c,l=r>0?l:l+(n-d)),{step:o,tickMin:a.sub(new ft(l).mul(o)),tickMax:a.add(new ft(c).mul(o))})};function hpe(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[o,a]=C6([t,r]);if(o===-1/0||a===1/0){var l=a===1/0?[o,...jw(0,n-1).map(()=>1/0)]:[...jw(0,n-1).map(()=>-1/0),a];return t>r?Nw(l):l}if(o===a)return fpe(o,n,s);var{step:c,tickMin:d,tickMax:f}=A6(o,a,i,s,0),h=k6(d,f.add(new ft(.1).mul(c)),c);return t>r?Nw(h):h}function ppe(e,t){var[r,n]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=C6([r,n]);if(i===-1/0||o===1/0)return[r,n];if(i===o)return[i];var a=Math.max(t,2),l=T6(new ft(o).sub(i).div(a-1),s,0),c=[...k6(new ft(i),new ft(o),l),o];return s===!1&&(c=c.map(d=>Math.round(d))),r>n?Nw(c):c}var mpe=j6(hpe),gpe=j6(ppe),ype=e=>e.rootProps.barCategoryGap,hh=e=>e.rootProps.stackOffset,RE=e=>e.options.chartName,IE=e=>e.rootProps.syncId,P6=e=>e.rootProps.syncMethod,ME=e=>e.options.eventEmitter,Xi={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Dn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Wy=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},vpe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Xi.angleAxisId,includeHidden:!1,name:void 0,reversed:Xi.reversed,scale:Xi.scale,tick:Xi.tick,tickCount:void 0,ticks:void 0,type:Xi.type,unit:void 0},bpe={allowDataOverflow:Dn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Dn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Dn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Dn.scale,tick:Dn.tick,tickCount:Dn.tickCount,ticks:void 0,type:Dn.type,unit:void 0},xpe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Xi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Xi.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Xi.scale,tick:Xi.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},wpe={allowDataOverflow:Dn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Dn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Dn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Dn.scale,tick:Dn.tick,tickCount:Dn.tickCount,ticks:void 0,type:"category",unit:void 0},LE=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?xpe:vpe,FE=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?wpe:bpe,Ky=e=>e.polarOptions,BE=ee([_o,So,Ar],o3),O6=ee([Ky,BE],(e,t)=>{if(e!=null)return fs(e.innerRadius,t,0)}),D6=ee([Ky,BE],(e,t)=>{if(e!=null)return fs(e.outerRadius,t,t*.8)}),_pe=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},$6=ee([Ky],_pe);ee([LE,$6],Wy);var R6=ee([BE,O6,D6],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});ee([FE,R6],Wy);var I6=ee([gt,Ky,O6,D6,_o,So],(e,t,r,n,s,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:a,startAngle:l,endAngle:c}=t;return{cx:fs(o,s,s/2),cy:fs(a,i,i/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:c,clockWise:!1}}}),It=(e,t)=>t,ph=(e,t,r)=>r;function M6(e){return e==null?void 0:e.id}var _r=e=>{var t=gt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Lu=e=>e.tooltip.settings.axisId,Sr=e=>{var t=_r(e),r=Lu(e);return mh(e,t,r)};function L6(e,t,r){var{chartData:n=[]}=t,s=r==null?void 0:r.dataKey,i=new Map;return e.forEach(o=>{var a,l=(a=o.data)!==null&&a!==void 0?a:n;if(!(l==null||l.length===0)){var c=M6(o);l.forEach((d,f)=>{var h=s==null?f:String(Ot(d,s,null)),p=Ot(d,o.dataKey,0),g;i.has(h)?g=i.get(h):g={},Object.assign(g,{[c]:p}),i.set(h,g)})}}),Array.from(i.values())}function zE(e){return e.stackId!=null&&e.dataKey!=null}function zP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ng(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zP(Object(r),!0).forEach(function(n){Spe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Spe(e,t,r){return(t=Epe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Epe(e){var t=jpe(e,"string");return typeof t=="symbol"?t:t+""}function jpe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kw=[0,"auto"],An={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},jo=(e,t)=>{var r=e.cartesianAxis.xAxis[t];return r??An},Pn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:kw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Ry},ja=(e,t)=>{var r=e.cartesianAxis.yAxis[t];return r??Pn},Npe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},UE=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??Npe},er=(e,t,r)=>{switch(t){case"xAxis":return jo(e,r);case"yAxis":return ja(e,r);case"zAxis":return UE(e,r);case"angleAxis":return LE(e,r);case"radiusAxis":return FE(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},kpe=(e,t,r)=>{switch(t){case"xAxis":return jo(e,r);case"yAxis":return ja(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},mh=(e,t,r)=>{switch(t){case"xAxis":return jo(e,r);case"yAxis":return ja(e,r);case"angleAxis":return LE(e,r);case"radiusAxis":return FE(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},F6=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function qE(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var B6=e=>e.graphicalItems.cartesianItems,Cpe=ee([It,ph],qE),VE=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),gh=ee([B6,er,Cpe],VE),z6=ee([gh],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(zE)),U6=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),q6=ee([gh],U6),WE=e=>e.map(t=>t.data).filter(Boolean).flat(1),Tpe=ee([gh],WE),KE=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:s}=t;return e.length>0?e:r.slice(n,s+1)},HE=ee([Tpe,OE],KE),YE=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ot(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(s=>({value:Ot(s,n)}))):e.map(n=>({value:n})),Hy=ee([HE,er,gh],YE);function V6(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function $l(e){return e.filter(t=>ji(t)||t instanceof Date).map(Number).filter(t=>hs(t)===!1)}function Ape(e,t,r){return!r||typeof t!="number"||hs(t)?[]:r.length?$l(r.flatMap(n=>{var s=Ot(e,n.dataKey),i,o;if(Array.isArray(s)?[i,o]=s:i=o=s,!(!Hs(i)||!Hs(o)))return[t-i,t+o]})):[]}var Ppe=ee([z6,OE,Sr],L6),W6=(e,t,r)=>{var n={},s=t.reduce((i,o)=>(o.stackId==null||(i[o.stackId]==null&&(i[o.stackId]=[]),i[o.stackId].push(o)),i),n);return Object.fromEntries(Object.entries(s).map(i=>{var[o,a]=i,l=a.map(M6);return[o,{stackedData:Wce(e,l,r),graphicalItems:a}]}))},Ope=ee([Ppe,z6,hh],W6),K6=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:s}=t;if(r!=="zAxis"){var i=Yce(e,n,s);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},Dpe=ee([Ope,Ea,It],K6),H6=(e,t,r,n,s)=>r.length>0?e.flatMap(i=>r.flatMap(o=>{var a,l,c=(a=n[o.id])===null||a===void 0?void 0:a.filter(f=>V6(s,f)),d=Ot(i,(l=t.dataKey)!==null&&l!==void 0?l:o.dataKey);return{value:d,errorDomain:Ape(i,d,c)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(i=>({value:Ot(i,t.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]})),Yy=e=>e.errorBars,Y6=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>V6(r,n));ee([q6,Yy,It],Y6);var $pe=ee([HE,er,q6,Yy,It],H6);function Rpe(e){var{value:t}=e;if(ji(t)||t instanceof Date)return t}var UP=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=$l(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Ipe=(e,t,r)=>{var n=e.map(Rpe).filter(s=>s!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&L4(n))?I3(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},GE=e=>{var t;if(e==null||!("domain"in e))return kw;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=$l(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:kw},sg=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r.filter(Boolean);if(s.length!==0){var i=s.flat(),o=Math.min(...i),a=Math.max(...i);return[o,a]}},G6=e=>e.referenceElements.dots,Fu=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),Mpe=ee([G6,It,ph],Fu),Z6=e=>e.referenceElements.areas,Lpe=ee([Z6,It,ph],Fu),X6=e=>e.referenceElements.lines,Fpe=ee([X6,It,ph],Fu),J6=(e,t)=>{var r=$l(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Bpe=ee(Mpe,It,J6),Q6=(e,t)=>{var r=$l(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},zpe=ee([Lpe,It],Q6),eF=(e,t)=>{var r=$l(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Upe=ee(Fpe,It,eF),qpe=ee(Bpe,Upe,zpe,(e,t,r)=>sg(e,r,t)),tF=ee([er],GE),ZE=(e,t,r,n,s,i,o)=>{var a=spe(t,e.allowDataOverflow);if(a!=null)return a;var l=i==="vertical"&&o==="xAxis"||i==="horizontal"&&o==="yAxis",c=l?sg(r,s,UP(n)):sg(s,UP(n));return ipe(t,c,e.allowDataOverflow)},Vpe=ee([er,tF,Dpe,$pe,qpe,gt,It],ZE),Wpe=[0,1],XE=(e,t,r,n,s,i,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:a,type:l}=e,c=wa(t,i);return c&&a==null?I3(0,r.length):l==="category"?Ipe(n,e,c):s==="expand"?Wpe:o}},JE=ee([er,gt,HE,Hy,hh,It,Vpe],XE),rF=(e,t,r,n,s)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var a="scale".concat(ih(i));return a in Pd?a:"point"}}},Bu=ee([er,gt,F6,RE,It],rF);function Kpe(e){if(e!=null){if(e in Pd)return Pd[e]();var t="scale".concat(ih(e));if(t in Pd)return Pd[t]()}}function QE(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var s=Kpe(t);if(s!=null){var i=s.domain(r).range(n);return zce(i),i}}}var ej=(e,t,r)=>{var n=GE(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&fu(e))return mpe(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&fu(e))return gpe(e,t.tickCount,t.allowDecimals)}},tj=ee([JE,mh,Bu],ej),rj=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&fu(t)&&Array.isArray(r)&&r.length>0){var s=t[0],i=r[0],o=t[1],a=r[r.length-1];return[Math.min(s,i),Math.max(o,a)]}return t},Hpe=ee([er,JE,tj,It],rj),Ype=ee(Hy,er,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from($l(e.map(a=>a.value))).sort((a,l)=>a-l);if(n.length<2)return 1/0;var s=n[n.length-1]-n[0];if(s===0)return 1/0;for(var i=0;i<n.length-1;i++){var o=n[i+1]-n[i];r=Math.min(r,o)}return r/s}}),nF=ee(Ype,gt,ype,Ar,(e,t,r,n)=>n,(e,t,r,n,s)=>{if(!Hs(e))return 0;var i=t==="vertical"?n.height:n.width;if(s==="gap")return e*i/2;if(s==="no-gap"){var o=fs(r,e*i),a=e*i/2;return a-o-(a-o)/i*o}return 0}),Gpe=(e,t)=>{var r=jo(e,t);return r==null||typeof r.padding!="string"?0:nF(e,"xAxis",t,r.padding)},Zpe=(e,t)=>{var r=ja(e,t);return r==null||typeof r.padding!="string"?0:nF(e,"yAxis",t,r.padding)},Xpe=ee(jo,Gpe,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((r=s.left)!==null&&r!==void 0?r:0)+t,right:((n=s.right)!==null&&n!==void 0?n:0)+t}}),Jpe=ee(ja,Zpe,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((r=s.top)!==null&&r!==void 0?r:0)+t,bottom:((n=s.bottom)!==null&&n!==void 0?n:0)+t}}),Qpe=ee([Ar,Xpe,My,Iy,(e,t,r)=>r],(e,t,r,n,s)=>{var{padding:i}=n;return s?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),eme=ee([Ar,gt,Jpe,My,Iy,(e,t,r)=>r],(e,t,r,n,s,i)=>{var{padding:o}=s;return i?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),yh=(e,t,r,n)=>{var s;switch(t){case"xAxis":return Qpe(e,r,n);case"yAxis":return eme(e,r,n);case"zAxis":return(s=UE(e,r))===null||s===void 0?void 0:s.range;case"angleAxis":return $6(e);case"radiusAxis":return R6(e,r);default:return}},sF=ee([er,yh],Wy),zu=ee([er,Bu,Hpe,sF],QE);ee([gh,Yy,It],Y6);function iF(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Gy=(e,t)=>t,Zy=(e,t,r)=>r,tme=ee(QS,Gy,Zy,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(iF)),rme=ee(eE,Gy,Zy,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(iF)),oF=(e,t)=>({width:e.width,height:t.height}),nme=(e,t)=>{var r=typeof t.width=="number"?t.width:Ry;return{width:r,height:e.height}},sme=ee(Ar,jo,oF),ime=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},ome=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},ame=ee(So,Ar,tme,Gy,Zy,(e,t,r,n,s)=>{var i={},o;return r.forEach(a=>{var l=oF(t,a);o==null&&(o=ime(t,n,e));var c=n==="top"&&!s||n==="bottom"&&s;i[a.id]=o-Number(c)*l.height,o+=(c?-1:1)*l.height}),i}),lme=ee(_o,Ar,rme,Gy,Zy,(e,t,r,n,s)=>{var i={},o;return r.forEach(a=>{var l=nme(t,a);o==null&&(o=ome(t,n,e));var c=n==="left"&&!s||n==="right"&&s;i[a.id]=o-Number(c)*l.width,o+=(c?-1:1)*l.width}),i}),cme=(e,t)=>{var r=Ar(e),n=jo(e,t);if(n!=null){var s=ame(e,n.orientation,n.mirror),i=s[t];return i==null?{x:r.left,y:0}:{x:r.left,y:i}}},ume=(e,t)=>{var r=Ar(e),n=ja(e,t);if(n!=null){var s=lme(e,n.orientation,n.mirror),i=s[t];return i==null?{x:0,y:r.top}:{x:i,y:r.top}}},dme=ee(Ar,ja,(e,t)=>{var r=typeof t.width=="number"?t.width:Ry;return{width:r,height:e.height}}),aF=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:s,type:i,dataKey:o}=r,a=wa(e,n),l=t.map(c=>c.value);if(o&&a&&i==="category"&&s&&L4(l))return l}},nj=ee([gt,Hy,er,It],aF),lF=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:s,scale:i}=r,o=wa(e,n);if(o&&(s==="number"||i!=="auto"))return t.map(a=>a.value)}},sj=ee([gt,Hy,mh,It],lF),qP=ee([gt,kpe,Bu,zu,nj,sj,yh,tj,It],(e,t,r,n,s,i,o,a,l)=>{if(t==null)return null;var c=wa(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:i,duplicateDomain:s,isCategorical:c,niceTicks:a,range:o,realScaleType:r,scale:n}}),fme=(e,t,r,n,s,i,o,a,l)=>{if(!(t==null||n==null)){var c=wa(e,l),{type:d,ticks:f,tickCount:h}=t,p=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,g=d==="category"&&n.bandwidth?n.bandwidth()/p:0;g=l==="angleAxis"&&i!=null&&i.length>=2?Xr(i[0]-i[1])*2*g:g;var m=f||s;if(m){var y=m.map((v,b)=>{var x=o?o.indexOf(v):v;return{index:b,coordinate:n(x)+g,value:v,offset:g}});return y.filter(v=>!hs(v.coordinate))}return c&&a?a.map((v,b)=>({coordinate:n(v)+g,value:v,index:b,offset:g})):n.ticks?n.ticks(h).map(v=>({coordinate:n(v)+g,value:v,offset:g})):n.domain().map((v,b)=>({coordinate:n(v)+g,value:o?o[v]:v,index:b,offset:g}))}},cF=ee([gt,mh,Bu,zu,tj,yh,nj,sj,It],fme),hme=(e,t,r,n,s,i,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var a=wa(e,o),{tickCount:l}=t,c=0;return c=o==="angleAxis"&&(n==null?void 0:n.length)>=2?Xr(n[0]-n[1])*2*c:c,a&&i?i.map((d,f)=>({coordinate:r(d)+c,value:d,index:f,offset:c})):r.ticks?r.ticks(l).map(d=>({coordinate:r(d)+c,value:d,offset:c})):r.domain().map((d,f)=>({coordinate:r(d)+c,value:s?s[d]:d,index:f,offset:c}))}},uF=ee([gt,mh,zu,yh,nj,sj,It],hme),dF=ee(er,zu,(e,t)=>{if(!(e==null||t==null))return ng(ng({},e),{},{scale:t})}),pme=ee([er,Bu,JE,sF],QE);ee((e,t,r)=>UE(e,r),pme,(e,t)=>{if(!(e==null||t==null))return ng(ng({},e),{},{scale:t})});var mme=ee([gt,QS,eE],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),fF=e=>e.options.defaultTooltipEventType,hF=e=>e.options.validateTooltipEventTypes;function pF(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function ij(e,t){var r=fF(e),n=hF(e);return pF(t,r,n)}function gme(e){return De(t=>ij(t,e))}var mF=(e,t)=>{var r,n=Number(t);if(!(hs(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},yme=e=>e.tooltip.settings,Jo={active:!1,index:null,dataKey:void 0,coordinate:void 0},vme={itemInteraction:{click:Jo,hover:Jo},axisInteraction:{click:Jo,hover:Jo},keyboardInteraction:Jo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},gF=qn({name:"tooltip",initialState:vme,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=to(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:bme,removeTooltipEntrySettings:xme,setTooltipSettingsState:wme,setActiveMouseOverItemIndex:yF,mouseLeaveItem:_me,mouseLeaveChart:vF,setActiveClickItemIndex:Sme,setMouseOverAxisIndex:bF,setMouseClickAxisIndex:Eme,setSyncInteraction:Cw,setKeyboardInteraction:Tw}=gF.actions,jme=gF.reducer;function VP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Tp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VP(Object(r),!0).forEach(function(n){Nme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nme(e,t,r){return(t=kme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kme(e){var t=Cme(e,"string");return typeof t=="symbol"?t:t+""}function Cme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tme(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Ame(e){return e.index!=null}var xF=(e,t,r,n)=>{if(t==null)return Jo;var s=Tme(e,t,r);if(s==null)return Jo;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(Ame(s)){if(i)return Tp(Tp({},s),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Tp(Tp({},Jo),{},{coordinate:s.coordinate})},oj=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!Hs(n))return r;var s=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(s,Math.min(n,i)))},wF=(e,t,r,n,s,i,o,a)=>{if(!(i==null||a==null)){var l=o[0],c=l==null?void 0:a(l.positions,i);if(c!=null)return c;var d=s==null?void 0:s[Number(i)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},_F=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return r==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===s})},vh=e=>e.options.tooltipPayloadSearcher,Uu=e=>e.tooltip;function WP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function KP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WP(Object(r),!0).forEach(function(n){Pme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pme(e,t,r){return(t=Ome(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ome(e){var t=Dme(e,"string");return typeof t=="symbol"?t:t+""}function Dme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $me(e,t){return e??t}var SF=(e,t,r,n,s,i,o)=>{if(!(t==null||i==null)){var{chartData:a,computedData:l,dataStartIndex:c,dataEndIndex:d}=r,f=[];return e.reduce((h,p)=>{var g,{dataDefinedOnItem:m,settings:y}=p,v=$me(m,a),b=Array.isArray(v)?a3(v,c,d):v,x=(g=y==null?void 0:y.dataKey)!==null&&g!==void 0?g:n==null?void 0:n.dataKey,S=y==null?void 0:y.nameKey,_;if(n!=null&&n.dataKey&&Array.isArray(b)&&!Array.isArray(b[0])&&o==="axis"?_=F4(b,n.dataKey,s):_=i(b,t,l,S),Array.isArray(_))_.forEach(k=>{var C=KP(KP({},y),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});h.push(RA({tooltipEntrySettings:C,dataKey:k.dataKey,payload:k.payload,value:Ot(k.payload,k.dataKey),name:k.name}))});else{var N;h.push(RA({tooltipEntrySettings:y,dataKey:x,payload:_,value:Ot(_,x),name:(N=Ot(_,S))!==null&&N!==void 0?N:y==null?void 0:y.name}))}return h},f)}},aj=ee([Sr,gt,F6,RE,_r],rF),Rme=ee([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Ime=ee([_r,Lu],qE),bh=ee([Rme,Sr,Ime],VE),Mme=ee([bh],e=>e.filter(zE)),Lme=ee([bh],WE),qu=ee([Lme,Ea],KE),Fme=ee([Mme,Ea,Sr],L6),lj=ee([qu,Sr,bh],YE),Bme=ee([Sr],GE),zme=ee([bh],e=>e.filter(zE)),Ume=ee([Fme,zme,hh],W6),qme=ee([Ume,Ea,_r],K6),Vme=ee([bh],U6),Wme=ee([qu,Sr,Vme,Yy,_r],H6),Kme=ee([G6,_r,Lu],Fu),Hme=ee([Kme,_r],J6),Yme=ee([Z6,_r,Lu],Fu),Gme=ee([Yme,_r],Q6),Zme=ee([X6,_r,Lu],Fu),Xme=ee([Zme,_r],eF),Jme=ee([Hme,Xme,Gme],sg),Qme=ee([Sr,Bme,qme,Wme,Jme,gt,_r],ZE),EF=ee([Sr,gt,qu,lj,hh,_r,Qme],XE),ege=ee([EF,Sr,aj],ej),tge=ee([Sr,EF,ege,_r],rj),jF=e=>{var t=_r(e),r=Lu(e),n=!1;return yh(e,t,r,n)},NF=ee([Sr,jF],Wy),kF=ee([Sr,aj,tge,NF],QE),rge=ee([gt,lj,Sr,_r],aF),nge=ee([gt,lj,Sr,_r],lF),sge=(e,t,r,n,s,i,o,a)=>{if(t){var{type:l}=t,c=wa(e,a);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=l==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=a==="angleAxis"&&s!=null&&(s==null?void 0:s.length)>=2?Xr(s[0]-s[1])*2*f:f,c&&o?o.map((h,p)=>({coordinate:n(h)+f,value:h,index:p,offset:f})):n.domain().map((h,p)=>({coordinate:n(h)+f,value:i?i[h]:h,index:p,offset:f}))}}},No=ee([gt,Sr,aj,kF,jF,rge,nge,_r],sge),cj=ee([fF,hF,yme],(e,t,r)=>pF(r.shared,e,t)),CF=e=>e.tooltip.settings.trigger,uj=e=>e.tooltip.settings.defaultIndex,Xy=ee([Uu,cj,CF,uj],xF),hu=ee([Xy,qu],oj),TF=ee([No,hu],mF),ige=ee([Xy],e=>{if(e)return e.dataKey}),AF=ee([Uu,cj,CF,uj],_F),oge=ee([_o,So,gt,Ar,No,uj,AF,vh],wF),age=ee([Xy,oge],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),lge=ee([Xy],e=>e.active),cge=ee([AF,hu,Ea,Sr,TF,vh,cj],SF),uge=ee([cge],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function HP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function YP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HP(Object(r),!0).forEach(function(n){dge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dge(e,t,r){return(t=fge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fge(e){var t=hge(e,"string");return typeof t=="symbol"?t:t+""}function hge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pge=()=>De(Sr),mge=()=>{var e=pge(),t=De(No),r=De(kF);return cw(YP(YP({},e),{},{scale:r}),t)},gge=()=>De(RE),dj=(e,t)=>t,PF=(e,t,r)=>r,fj=(e,t,r,n)=>n,yge=ee(No,e=>Cy(e,t=>t.coordinate)),hj=ee([Uu,dj,PF,fj],xF),OF=ee([hj,qu],oj),vge=(e,t,r)=>{if(t!=null){var n=Uu(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},DF=ee([Uu,dj,PF,fj],_F),ig=ee([_o,So,gt,Ar,No,fj,DF,vh],wF),bge=ee([hj,ig],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),$F=ee(No,OF,mF),xge=ee([DF,OF,Ea,Sr,$F,vh,dj],SF),wge=ee([hj],e=>({isActive:e.active,activeIndex:e.index})),_ge=(e,t,r,n,s,i,o,a)=>{if(!(!e||!t||!n||!s||!i)){var l=Gce(e.chartX,e.chartY,t,r,a);if(l){var c=Xce(l,t),d=Fce(c,o,i,n,s),f=Zce(t,i,d,l);return{activeIndex:String(d),activeCoordinate:f}}}};function Aw(){return Aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Aw.apply(null,arguments)}function GP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ap(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GP(Object(r),!0).forEach(function(n){Sge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sge(e,t,r){return(t=Ege(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ege(e){var t=jge(e,"string");return typeof t=="symbol"?t:t+""}function jge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nge(e){var{coordinate:t,payload:r,index:n,offset:s,tooltipAxisBandSize:i,layout:o,cursor:a,tooltipEventType:l,chartName:c}=e,d=t,f=r,h=n;if(!a||!d||c!=="ScatterChart"&&l!=="axis")return null;var p,g;if(c==="ScatterChart")p=d,g=Yue;else if(c==="BarChart")p=Gue(o,d,s,i),g=T3;else if(o==="radial"){var{cx:m,cy:y,radius:v,startAngle:b,endAngle:x}=A3(d);p={cx:m,cy:y,startAngle:b,endAngle:x,innerRadius:v,outerRadius:v},g=O3}else p={points:Cde(o,d,s)},g=oE;var S=typeof a=="object"&&"className"in a?a.className:void 0,_=Ap(Ap(Ap(Ap({stroke:"#ccc",pointerEvents:"none"},s),p),Ut(a,!1)),{},{payload:f,payloadIndex:h,className:nt("recharts-tooltip-cursor",S)});return w.isValidElement(a)?w.cloneElement(a,_):w.createElement(g,_)}function kge(e){var t=mge(),r=p3(),n=sE(),s=gge();return j.createElement(Nge,Aw({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:s}))}var RF=w.createContext(null),Cge=()=>w.useContext(RF),IF={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function i(l,c,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new s(d,f||l,h),g=r?r+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)t.call(d,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=r?r+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},a.prototype.listenerCount=function(c){var d=r?r+c:c,f=this._events[d];return f?f.fn?1:f.length:0},a.prototype.emit=function(c,d,f,h,p,g){var m=r?r+c:c;if(!this._events[m])return!1;var y=this._events[m],v=arguments.length,b,x;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,p),!0;case 6:return y.fn.call(y.context,d,f,h,p,g),!0}for(x=1,b=new Array(v-1);x<v;x++)b[x-1]=arguments[x];y.fn.apply(y.context,b)}else{var S=y.length,_;for(x=0;x<S;x++)switch(y[x].once&&this.removeListener(c,y[x].fn,void 0,!0),v){case 1:y[x].fn.call(y[x].context);break;case 2:y[x].fn.call(y[x].context,d);break;case 3:y[x].fn.call(y[x].context,d,f);break;case 4:y[x].fn.call(y[x].context,d,f,h);break;default:if(!b)for(_=1,b=new Array(v-1);_<v;_++)b[_-1]=arguments[_];y[x].fn.apply(y[x].context,b)}}return!0},a.prototype.on=function(c,d,f){return i(this,c,d,f,!1)},a.prototype.once=function(c,d,f){return i(this,c,d,f,!0)},a.prototype.removeListener=function(c,d,f,h){var p=r?r+c:c;if(!this._events[p])return this;if(!d)return o(this,p),this;var g=this._events[p];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&o(this,p);else{for(var m=0,y=[],v=g.length;m<v;m++)(g[m].fn!==d||h&&!g[m].once||f&&g[m].context!==f)&&y.push(g[m]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=r?r+c:c,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a})(IF);var Tge=IF.exports;const MF=Gs(Tge);var Df=new MF,Pw="recharts.syncEvent.tooltip",ZP="recharts.syncEvent.brush";function LF(e,t){if(t){var r=Number.parseInt(t,10);if(!hs(r))return e==null?void 0:e[r]}}var Age={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},FF=qn({name:"options",initialState:Age,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Pge=FF.reducer,{createEventEmitter:Oge}=FF.actions;function Dge(e){return e.tooltip.syncInteraction}var $ge={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},BF=qn({name:"chartData",initialState:$ge,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:XP,setDataStartEndIndexes:Rge,setComputedData:BPe}=BF.actions,Ige=BF.reducer,zF=()=>{};function Mge(){var e=De(IE),t=De(ME),r=Vt(),n=De(P6),s=De(No),i=sE(),o=tE(),a=De(l=>l.rootProps.className);w.useEffect(()=>{if(e==null)return zF;var l=(c,d,f)=>{if(t!==f&&e===c){if(n==="index"){r(d);return}if(s!=null){var h;if(typeof n=="function"){var p={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},g=n(s,p);h=s[g]}else n==="value"&&(h=s.find(N=>String(N.value)===d.payload.label));var{coordinate:m}=d.payload;if(h==null||d.payload.active===!1||m==null||o==null){r(Cw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:y,y:v}=m,b=Math.min(y,o.x+o.width),x=Math.min(v,o.y+o.height),S={x:i==="horizontal"?h.coordinate:b,y:i==="horizontal"?x:h.coordinate},_=Cw({active:d.payload.active,coordinate:S,dataKey:d.payload.dataKey,index:String(h.index),label:d.payload.label});r(_)}}};return Df.on(Pw,l),()=>{Df.off(Pw,l)}},[a,r,t,e,n,s,i,o])}function Lge(){var e=De(IE),t=De(ME),r=Vt();w.useEffect(()=>{if(e==null)return zF;var n=(s,i,o)=>{t!==o&&e===s&&r(Rge(i))};return Df.on(ZP,n),()=>{Df.off(ZP,n)}},[r,t,e])}function Fge(){var e=Vt();w.useEffect(()=>{e(Oge())},[e]),Mge(),Lge()}function Bge(e,t,r,n,s,i){var o=De(h=>vge(h,e,t)),a=De(ME),l=De(IE),c=De(P6),d=De(Dge),f=d==null?void 0:d.active;w.useEffect(()=>{if(!f&&l!=null&&a!=null){var h=Cw({active:i,coordinate:r,dataKey:o,index:s,label:typeof n=="number"?String(n):n});Df.emit(Pw,l,h,a)}},[f,r,o,s,n,a,l,c,i])}function JP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function QP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JP(Object(r),!0).forEach(function(n){zge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zge(e,t,r){return(t=Uge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uge(e){var t=qge(e,"string");return typeof t=="symbol"?t:t+""}function qge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vge(e){return e.dataKey}function Wge(e,t){return j.isValidElement(e)?j.cloneElement(e,t):typeof e=="function"?j.createElement(e,t):j.createElement(Nue,t)}var eO=[],Kge={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!$u.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function tO(e){var t=bs(e,Kge),{active:r,allowEscapeViewBox:n,animationDuration:s,animationEasing:i,content:o,filterNull:a,isAnimationActive:l,offset:c,payloadUniqBy:d,position:f,reverseDirection:h,useTranslate3d:p,wrapperStyle:g,cursor:m,shared:y,trigger:v,defaultIndex:b,portal:x,axisId:S}=t,_=Vt(),N=typeof b=="number"?String(b):b;w.useEffect(()=>{_(wme({shared:y,trigger:v,axisId:S,active:r,defaultIndex:N}))},[_,y,v,S,r,N]);var k=tE(),C=v3(),A=gme(y),{activeIndex:I,isActive:M}=De(K=>wge(K,A,v,N)),L=De(K=>xge(K,A,v,N)),D=De(K=>$F(K,A,v,N)),z=De(K=>bge(K,A,v,N)),U=L,G=Cge(),q=r??M,[Z,oe]=P5([U,q]),$=A==="axis"?D:void 0;Bge(A,v,z,$,I,q);var B=x??G;if(B==null)return null;var X=U??eO;q||(X=eO),a&&X.length&&(X=_5(U.filter(K=>K.value!=null&&(K.hide!==!0||t.includeHidden)),d,Vge));var ae=X.length>0,W=j.createElement(Due,{allowEscapeViewBox:n,animationDuration:s,animationEasing:i,isAnimationActive:l,active:q,coordinate:z,hasPayload:ae,offset:c,position:f,reverseDirection:h,useTranslate3d:p,viewBox:k,wrapperStyle:g,lastBoundingBox:Z,innerRef:oe,hasPortalFromProps:!!x},Wge(o,QP(QP({},t),{},{payload:X,label:$,active:q,coordinate:z,accessibilityLayer:C})));return j.createElement(j.Fragment,null,_i.createPortal(W,B),q&&j.createElement(kge,{cursor:m,tooltipEventType:A,coordinate:z,payload:U,index:I}))}var UF={},qF={},VF={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:s,edges:i}={}){let o,a=null;const l=i!=null&&i.includes("leading"),c=i==null||i.includes("trailing"),d=()=>{a!==null&&(r.apply(o,a),o=void 0,a=null)},f=()=>{c&&d(),m()};let h=null;const p=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},g=()=>{h!==null&&(clearTimeout(h),h=null)},m=()=>{g(),o=void 0,a=null},y=()=>{d()},v=function(...b){if(s!=null&&s.aborted)return;o=this,a=b;const x=h==null;p(),l&&x&&d()};return v.schedule=p,v.cancel=m,v.flush=y,s==null||s.addEventListener("abort",m,{once:!0}),v}e.debounce=t})(VF);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VF;function r(n,s=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:a=!0,maxWait:l}=i,c=Array(2);o&&(c[0]="leading"),a&&(c[1]="trailing");let d,f=null;const h=t.debounce(function(...m){d=n.apply(this,m),f=null},s,{edges:c}),p=function(...m){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(d=n.apply(this,m),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,m),d)},g=()=>(h.flush(),d);return p.cancel=h.cancel,p.flush=g,p}e.debounce=r})(qF);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qF;function r(n,s=0,i={}){const{leading:o=!0,trailing:a=!0}=i;return t.debounce(n,s,{leading:o,maxWait:s,trailing:a})}e.throttle=r})(UF);var Hge=UF.throttle;const Yge=Gs(Hge);var Gge=process.env.NODE_ENV!=="production",Gd=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i];if(Gge&&typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(r.replace(/%s/g,()=>s[o++]))}};function rO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function a0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rO(Object(r),!0).forEach(function(n){Zge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zge(e,t,r){return(t=Xge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xge(e){var t=Jge(e,"string");return typeof t=="symbol"?t:t+""}function Jge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nO=w.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:s="100%",height:i="100%",minWidth:o=0,minHeight:a,maxHeight:l,children:c,debounce:d=0,id:f,className:h,onResize:p,style:g={}}=e,m=w.useRef(null),y=w.useRef();y.current=p,w.useImperativeHandle(t,()=>m.current);var[v,b]=w.useState({containerWidth:n.width,containerHeight:n.height}),x=w.useCallback((_,N)=>{b(k=>{var C=Math.round(_),A=Math.round(N);return k.containerWidth===C&&k.containerHeight===A?k:{containerWidth:C,containerHeight:A}})},[]);w.useEffect(()=>{var _=A=>{var I,{width:M,height:L}=A[0].contentRect;x(M,L),(I=y.current)===null||I===void 0||I.call(y,M,L)};d>0&&(_=Yge(_,d,{trailing:!0,leading:!1}));var N=new ResizeObserver(_),{width:k,height:C}=m.current.getBoundingClientRect();return x(k,C),N.observe(m.current),()=>{N.disconnect()}},[x,d]);var S=w.useMemo(()=>{var{containerWidth:_,containerHeight:N}=v;if(_<0||N<0)return null;Gd(Za(s)||Za(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,i),Gd(!r||r>0,"The aspect(%s) must be greater than zero.",r);var k=Za(s)?_:s,C=Za(i)?N:i;return r&&r>0&&(k?C=k/r:C&&(k=C*r),l&&C>l&&(C=l)),Gd(k>0||C>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,k,C,s,i,o,a,r),j.Children.map(c,A=>w.cloneElement(A,{width:k,height:C,style:a0({width:k,height:C},A.props.style)}))},[r,c,i,l,a,o,v,s]);return j.createElement("div",{id:f?"".concat(f):void 0,className:nt("recharts-responsive-container",h),style:a0(a0({},g),{},{width:s,height:i,minWidth:o,minHeight:a,maxHeight:l}),ref:m},j.createElement("div",{style:{width:0,height:0,overflow:"visible"}},S))}),Jy=e=>null;Jy.displayName="Cell";function Qge(e,t,r){return(t=eye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eye(e){var t=tye(e,"string");return typeof t=="symbol"?t:t+""}function tye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class rye{constructor(t){Qge(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function sO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function nye(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sO(Object(r),!0).forEach(function(n){sye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sye(e,t,r){return(t=iye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iye(e){var t=oye(e,"string");return typeof t=="symbol"?t:t+""}function oye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aye={cacheSize:2e3,enableCache:!0},WF=nye({},aye),iO=new rye(WF.cacheSize),lye={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},oO="recharts_measurement_span";function cye(e,t){var r=t.fontSize||"",n=t.fontFamily||"",s=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",a=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(s,"|").concat(i,"|").concat(o,"|").concat(a)}var aO=(e,t)=>{try{var r=document.getElementById(oO);r||(r=document.createElement("span"),r.setAttribute("id",oO),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,lye,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Zd=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||$u.isSsr)return{width:0,height:0};if(!WF.enableCache)return aO(t,r);var n=cye(t,r),s=iO.get(n);if(s)return s;var i=aO(t,r);return iO.set(n,i),i},lO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,cO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,uye=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,dye=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,KF={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},fye=Object.keys(KF),Ac="NaN";function hye(e,t){return e*KF[t]}class mn{static parse(t){var r,[,n,s]=(r=dye.exec(t))!==null&&r!==void 0?r:[];return new mn(parseFloat(n),s??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,hs(t)&&(this.unit=""),r!==""&&!uye.test(r)&&(this.num=NaN,this.unit=""),fye.includes(r)&&(this.num=hye(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new mn(NaN,""):new mn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new mn(NaN,""):new mn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new mn(NaN,""):new mn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new mn(NaN,""):new mn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return hs(this.num)}}function HF(e){if(e.includes(Ac))return Ac;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,s,i]=(r=lO.exec(t))!==null&&r!==void 0?r:[],o=mn.parse(n??""),a=mn.parse(i??""),l=s==="*"?o.multiply(a):o.divide(a);if(l.isNaN())return Ac;t=t.replace(lO,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,d,f,h]=(c=cO.exec(t))!==null&&c!==void 0?c:[],p=mn.parse(d??""),g=mn.parse(h??""),m=f==="+"?p.add(g):p.subtract(g);if(m.isNaN())return Ac;t=t.replace(cO,m.toString())}return t}var uO=/\(([^()]*)\)/;function pye(e){for(var t=e,r;(r=uO.exec(t))!=null;){var[,n]=r;t=t.replace(uO,HF(n))}return t}function mye(e){var t=e.replace(/\s+/g,"");return t=pye(t),t=HF(t),t}function gye(e){try{return mye(e)}catch{return Ac}}function l0(e){var t=gye(e.slice(5,-1));return t===Ac?"":t}var yye=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],vye=["dx","dy","angle","className","breakAll"];function Ow(){return Ow=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ow.apply(null,arguments)}function dO(e,t){if(e==null)return{};var r,n,s=bye(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function bye(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var YF=/[ \f\n\r\t\v\u2028\u2029]+/,GF=e=>{var{children:t,breakAll:r,style:n}=e;try{var s=[];or(t)||(r?s=t.toString().split(""):s=t.toString().split(YF));var i=s.map(a=>({word:a,width:Zd(a,n).width})),o=r?0:Zd("",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}},xye=(e,t,r,n,s)=>{var{maxLines:i,children:o,style:a,breakAll:l}=e,c=Te(i),d=o,f=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce((L,D)=>{var{word:z,width:U}=D,G=L[L.length-1];if(G&&(n==null||s||G.width+U+r<Number(n)))G.words.push(z),G.width+=U+r;else{var q={words:[z],width:U};L.push(q)}return L},[])},h=f(t),p=I=>I.reduce((M,L)=>M.width>L.width?M:L);if(!c||s)return h;var g=h.length>i||p(h).width>Number(n);if(!g)return h;for(var m="",y=I=>{var M=d.slice(0,I),L=GF({breakAll:l,style:a,children:M+m}).wordsWithComputedWidth,D=f(L),z=D.length>i||p(D).width>Number(n);return[z,D]},v=0,b=d.length-1,x=0,S;v<=b&&x<=d.length-1;){var _=Math.floor((v+b)/2),N=_-1,[k,C]=y(N),[A]=y(_);if(!k&&!A&&(v=_+1),k&&A&&(b=_-1),!k&&A){S=C;break}x++}return S||h},fO=e=>{var t=or(e)?[]:e.toString().split(YF);return[{words:t}]},wye=e=>{var{width:t,scaleToFit:r,children:n,style:s,breakAll:i,maxLines:o}=e;if((t||r)&&!$u.isSsr){var a,l,c=GF({breakAll:i,children:n,style:s});if(c){var{wordsWithComputedWidth:d,spaceWidth:f}=c;a=d,l=f}else return fO(n);return xye({breakAll:i,children:n,maxLines:o,style:s},a,l,t,r)}return fO(n)},hO="#808080",Qy=w.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:s="1em",capHeight:i="0.71em",scaleToFit:o=!1,textAnchor:a="start",verticalAnchor:l="end",fill:c=hO}=e,d=dO(e,yye),f=w.useMemo(()=>wye({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:o,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,o,d.style,d.width]),{dx:h,dy:p,angle:g,className:m,breakAll:y}=d,v=dO(d,vye);if(!ji(r)||!ji(n))return null;var b=r+(Te(h)?h:0),x=n+(Te(p)?p:0),S;switch(l){case"start":S=l0("calc(".concat(i,")"));break;case"middle":S=l0("calc(".concat((f.length-1)/2," * -").concat(s," + (").concat(i," / 2))"));break;default:S=l0("calc(".concat(f.length-1," * -").concat(s,")"));break}var _=[];if(o){var N=f[0].width,{width:k}=d;_.push("scale(".concat(Te(k)?k/N:1,")"))}return g&&_.push("rotate(".concat(g,", ").concat(b,", ").concat(x,")")),_.length&&(v.transform=_.join(" ")),j.createElement("text",Ow({},Ut(v,!0),{ref:t,x:b,y:x,className:nt("recharts-text",m),textAnchor:a,fill:c.includes("url")?hO:c}),f.map((C,A)=>{var I=C.words.join(y?"":" ");return j.createElement("tspan",{x:b,dy:A===0?S:s,key:"".concat(I,"-").concat(A)},I)}))});Qy.displayName="Text";var _ye=["offset"],Sye=["labelRef"];function pO(e,t){if(e==null)return{};var r,n,s=Eye(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Eye(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function mO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Wt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mO(Object(r),!0).forEach(function(n){jye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jye(e,t,r){return(t=Nye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nye(e){var t=kye(e,"string");return typeof t=="symbol"?t:t+""}function kye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ji(){return Ji=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ji.apply(null,arguments)}var Cye=e=>{var{value:t,formatter:r}=e,n=or(e.children)?t:e.children;return typeof r=="function"?r(n):n},pj=e=>e!=null&&typeof e=="function",Tye=(e,t)=>{var r=Xr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Aye=(e,t,r,n)=>{var{position:s,offset:i,className:o}=e,{cx:a,cy:l,innerRadius:c,outerRadius:d,startAngle:f,endAngle:h,clockWise:p}=n,g=(c+d)/2,m=Tye(f,h),y=m>=0?1:-1,v,b;s==="insideStart"?(v=f+y*i,b=p):s==="insideEnd"?(v=h-y*i,b=!p):s==="end"&&(v=h+y*i,b=p),b=m<=0?b:!b;var x=ir(a,l,g,v),S=ir(a,l,g,v+(b?1:-1)*359),_="M".concat(x.x,",").concat(x.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(b?0:1,`,
    `).concat(S.x,",").concat(S.y),N=or(e.id)?Sf("recharts-radial-line-"):e.id;return j.createElement("text",Ji({},r,{dominantBaseline:"central",className:nt("recharts-radial-bar-label",o)}),j.createElement("defs",null,j.createElement("path",{id:N,d:_})),j.createElement("textPath",{xlinkHref:"#".concat(N)},t))},Pye=(e,t,r)=>{var{cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:a,endAngle:l}=e,c=(a+l)/2;if(r==="outside"){var{x:d,y:f}=ir(n,s,o+t,c);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"end"};var h=(i+o)/2,{x:p,y:g}=ir(n,s,h,c);return{x:p,y:g,textAnchor:"middle",verticalAnchor:"middle"}},Oye=(e,t)=>{var{parentViewBox:r,offset:n,position:s}=e,{x:i,y:o,width:a,height:l}=t,c=l>=0?1:-1,d=c*n,f=c>0?"end":"start",h=c>0?"start":"end",p=a>=0?1:-1,g=p*n,m=p>0?"end":"start",y=p>0?"start":"end";if(s==="top"){var v={x:i+a/2,y:o-c*n,textAnchor:"middle",verticalAnchor:f};return Wt(Wt({},v),r?{height:Math.max(o-r.y,0),width:a}:{})}if(s==="bottom"){var b={x:i+a/2,y:o+l+d,textAnchor:"middle",verticalAnchor:h};return Wt(Wt({},b),r?{height:Math.max(r.y+r.height-(o+l),0),width:a}:{})}if(s==="left"){var x={x:i-g,y:o+l/2,textAnchor:m,verticalAnchor:"middle"};return Wt(Wt({},x),r?{width:Math.max(x.x-r.x,0),height:l}:{})}if(s==="right"){var S={x:i+a+g,y:o+l/2,textAnchor:y,verticalAnchor:"middle"};return Wt(Wt({},S),r?{width:Math.max(r.x+r.width-S.x,0),height:l}:{})}var _=r?{width:a,height:l}:{};return s==="insideLeft"?Wt({x:i+g,y:o+l/2,textAnchor:y,verticalAnchor:"middle"},_):s==="insideRight"?Wt({x:i+a-g,y:o+l/2,textAnchor:m,verticalAnchor:"middle"},_):s==="insideTop"?Wt({x:i+a/2,y:o+d,textAnchor:"middle",verticalAnchor:h},_):s==="insideBottom"?Wt({x:i+a/2,y:o+l-d,textAnchor:"middle",verticalAnchor:f},_):s==="insideTopLeft"?Wt({x:i+g,y:o+d,textAnchor:y,verticalAnchor:h},_):s==="insideTopRight"?Wt({x:i+a-g,y:o+d,textAnchor:m,verticalAnchor:h},_):s==="insideBottomLeft"?Wt({x:i+g,y:o+l-d,textAnchor:y,verticalAnchor:f},_):s==="insideBottomRight"?Wt({x:i+a-g,y:o+l-d,textAnchor:m,verticalAnchor:f},_):s&&typeof s=="object"&&(Te(s.x)||Za(s.x))&&(Te(s.y)||Za(s.y))?Wt({x:i+fs(s.x,a),y:o+fs(s.y,l),textAnchor:"end",verticalAnchor:"end"},_):Wt({x:i+a/2,y:o+l/2,textAnchor:"middle",verticalAnchor:"middle"},_)},Dye=e=>"cx"in e&&Te(e.cx);function In(e){var{offset:t=5}=e,r=pO(e,_ye),n=Wt({offset:t},r),{viewBox:s,position:i,value:o,children:a,content:l,className:c="",textBreakAll:d,labelRef:f}=n,h=De(I6),p=tE(),g=i==="center"?p:h??p,m=s||g;if(!m||or(o)&&or(a)&&!w.isValidElement(l)&&typeof l!="function")return null;var y=Wt(Wt({},n),{},{viewBox:m});if(w.isValidElement(l)){var{labelRef:v}=y,b=pO(y,Sye);return w.cloneElement(l,b)}var x;if(typeof l=="function"){if(x=w.createElement(l,y),w.isValidElement(x))return x}else x=Cye(n);var S=Dye(m),_=Ut(n,!0);if(S&&(i==="insideStart"||i==="insideEnd"||i==="end"))return Aye(n,x,_,m);var N=S?Pye(m,n.offset,n.position):Oye(n,m);return j.createElement(Qy,Ji({ref:f,className:nt("recharts-label",c)},_,N,{breakAll:d}),x)}In.displayName="Label";var ZF=e=>{var{cx:t,cy:r,angle:n,startAngle:s,endAngle:i,r:o,radius:a,innerRadius:l,outerRadius:c,x:d,y:f,top:h,left:p,width:g,height:m,clockWise:y,labelViewBox:v}=e;if(v)return v;if(Te(g)&&Te(m)){if(Te(d)&&Te(f))return{x:d,y:f,width:g,height:m};if(Te(h)&&Te(p))return{x:h,y:p,width:g,height:m}}if(Te(d)&&Te(f))return{x:d,y:f,width:0,height:0};if(Te(t)&&Te(r))return{cx:t,cy:r,startAngle:s||n||0,endAngle:i||n||0,innerRadius:l||0,outerRadius:c||a||o||0,clockWise:y};if(e.viewBox)return e.viewBox},$ye=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?j.createElement(In,Ji({key:"label-implicit"},n)):ji(e)?j.createElement(In,Ji({key:"label-implicit",value:e},n)):w.isValidElement(e)?e.type===In?w.cloneElement(e,Wt({key:"label-implicit"},n)):j.createElement(In,Ji({key:"label-implicit",content:e},n)):pj(e)?j.createElement(In,Ji({key:"label-implicit",content:e},n)):e&&typeof e=="object"?j.createElement(In,Ji({},e,{key:"label-implicit"},n)):null},Rye=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:s,labelRef:i}=t,o=ZF(t),a=xy(s,In).map((c,d)=>w.cloneElement(c,{viewBox:r||o,key:"label-".concat(d)}));if(!n)return a;var l=$ye(t.label,r||o,i);return[l,...a]};In.parseViewBox=ZF;In.renderCallByParent=Rye;var XF={},JF={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(JF);var QF={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(QF);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JF,r=QF,n=Ey;function s(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=s})(XF);var Iye=XF.last;const Mye=Gs(Iye);var Lye=["valueAccessor"],Fye=["data","dataKey","clockWise","id","textBreakAll"];function og(){return og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},og.apply(null,arguments)}function gO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function yO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gO(Object(r),!0).forEach(function(n){Bye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bye(e,t,r){return(t=zye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zye(e){var t=Uye(e,"string");return typeof t=="symbol"?t:t+""}function Uye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vO(e,t){if(e==null)return{};var r,n,s=qye(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function qye(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Vye=e=>Array.isArray(e.value)?Mye(e.value):e.value;function cl(e){var{valueAccessor:t=Vye}=e,r=vO(e,Lye),{data:n,dataKey:s,clockWise:i,id:o,textBreakAll:a}=r,l=vO(r,Fye);return!n||!n.length?null:j.createElement(ps,{className:"recharts-label-list"},n.map((c,d)=>{var f=or(s)?t(c,d):Ot(c&&c.payload,s),h=or(o)?{}:{id:"".concat(o,"-").concat(d)};return j.createElement(In,og({},Ut(c,!0),l,h,{parentViewBox:c.parentViewBox,value:f,textBreakAll:a,viewBox:In.parseViewBox(or(i)?c:yO(yO({},c),{},{clockWise:i})),key:"label-".concat(d),index:d}))}))}cl.displayName="LabelList";function Wye(e,t){return e?e===!0?j.createElement(cl,{key:"labelList-implicit",data:t}):j.isValidElement(e)||pj(e)?j.createElement(cl,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?j.createElement(cl,og({data:t},e,{key:"labelList-implicit"})):null:null}function Kye(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:n}=e,s=xy(n,cl).map((o,a)=>w.cloneElement(o,{data:t,key:"labelList-".concat(a)}));if(!r)return s;var i=Wye(e.label,t);return[i,...s]}cl.renderCallByParent=Kye;function Dw(){return Dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dw.apply(null,arguments)}var eB=e=>{var{cx:t,cy:r,r:n,className:s}=e,i=nt("recharts-dot",s);return t===+t&&r===+r&&n===+n?j.createElement("circle",Dw({},xa(e),TS(e),{className:i,cx:t,cy:r,r:n})):null},tB=e=>e.graphicalItems.polarItems,Hye=ee([It,ph],qE),mj=ee([tB,er,Hye],VE),Yye=ee([mj],WE),gj=ee([Yye,PE],KE),Gye=ee([gj,er,mj],YE),Zye=ee([gj,er,mj],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(s=>{var i,o=Ot(n,(i=t.dataKey)!==null&&i!==void 0?i:s.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ot(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),bO=()=>{},Xye=ee([er,tF,bO,Zye,bO,gt,It],ZE),rB=ee([er,gt,gj,Gye,hh,It,Xye],XE),Jye=ee([rB,er,Bu],ej);ee([er,rB,Jye,It],rj);var Qye={radiusAxis:{},angleAxis:{}},nB=qn({name:"polarAxis",initialState:Qye,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:zPe,removeRadiusAxis:UPe,addAngleAxis:qPe,removeAngleAxis:VPe}=nB.actions,eve=nB.reducer;function xO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xO(Object(r),!0).forEach(function(n){tve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tve(e,t,r){return(t=rve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rve(e){var t=nve(e,"string");return typeof t=="symbol"?t:t+""}function nve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sve=(e,t)=>t,yj=ee([tB,sve],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),ive=[],vj=(e,t,r)=>(r==null?void 0:r.length)===0?ive:r,sB=ee([PE,yj,vj],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var s;if((t==null?void 0:t.data)!=null&&t.data.length>0?s=t.data:s=n,(!s||!s.length)&&r!=null&&(s=r.map(i=>wO(wO({},t.presentationProps),i.props))),s!=null)return s}}),ove=ee([sB,yj,vj],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,s)=>{var i,o=Ot(n,t.nameKey,t.name),a;return r!=null&&(i=r[s])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?a=r[s].props.fill:typeof n=="object"&&n!=null&&"fill"in n?a=n.fill:a=t.fill,{value:$y(o,t.dataKey),color:a,payload:n,type:t.legendType}})}),ave=ee([sB,yj,vj,Ar],(e,t,r,n)=>{if(!(t==null||e==null))return sbe({offset:n,pieSettings:t,displayedData:e,cells:r})}),iB={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var s;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((s=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&s.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(iB);var lve=iB.isPlainObject;const cve=Gs(lve);function ag(){return ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ag.apply(null,arguments)}var _O=(e,t,r,n,s)=>{var i=r-n,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-i/2,",").concat(t+s),o+="L ".concat(e+r-i/2-n,",").concat(t+s),o+="L ".concat(e,",").concat(t," Z"),o},uve={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},dve=e=>{var t=bs(e,uve),r=w.useRef(),[n,s]=w.useState(-1);w.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var y=r.current.getTotalLength();y&&s(y)}catch{}},[]);var{x:i,y:o,upperWidth:a,lowerWidth:l,height:c,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:p,isUpdateAnimationActive:g}=t;if(i!==+i||o!==+o||a!==+a||l!==+l||c!==+c||a===0&&l===0||c===0)return null;var m=nt("recharts-trapezoid",d);return g?j.createElement(Wm,{canBegin:n>0,from:{upperWidth:0,lowerWidth:0,height:c,x:i,y:o},to:{upperWidth:a,lowerWidth:l,height:c,x:i,y:o},duration:h,animationEasing:f,isActive:g},y=>{var{upperWidth:v,lowerWidth:b,height:x,x:S,y:_}=y;return j.createElement(Wm,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:h,easing:f},j.createElement("path",ag({},Ut(t,!0),{className:m,d:_O(S,_,v,b,x),ref:r})))}):j.createElement("g",null,j.createElement("path",ag({},Ut(t,!0),{className:m,d:_O(i,o,a,l,c)})))},fve=["option","shapeType","propTransformer","activeClassName","isActive"];function hve(e,t){if(e==null)return{};var r,n,s=pve(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function pve(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function SO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function lg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SO(Object(r),!0).forEach(function(n){mve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mve(e,t,r){return(t=gve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gve(e){var t=yve(e,"string");return typeof t=="symbol"?t:t+""}function yve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vve(e,t){return lg(lg({},t),e)}function bve(e,t){return e==="symbols"}function EO(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return j.createElement(T3,r);case"trapezoid":return j.createElement(dve,r);case"sector":return j.createElement(O3,r);case"symbols":if(bve(t))return j.createElement(RS,r);break;default:return null}}function xve(e){return w.isValidElement(e)?e.props:e}function wve(e){var{option:t,shapeType:r,propTransformer:n=vve,activeClassName:s="recharts-active-shape",isActive:i}=e,o=hve(e,fve),a;if(w.isValidElement(t))a=w.cloneElement(t,lg(lg({},o),xve(t)));else if(typeof t=="function")a=t(o);else if(cve(t)&&typeof t!="boolean"){var l=n(t,o);a=j.createElement(EO,{shapeType:r,elementProps:l})}else{var c=o;a=j.createElement(EO,{shapeType:r,elementProps:c})}return i?j.createElement(ps,{className:s},a):a}var _ve=(e,t)=>{var r=Vt();return(n,s)=>i=>{e==null||e(n,s,i),r(yF({activeIndex:String(s),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},Sve=e=>{var t=Vt();return(r,n)=>s=>{e==null||e(r,n,s),t(_me())}},Eve=(e,t)=>{var r=Vt();return(n,s)=>i=>{e==null||e(n,s,i),r(Sme({activeIndex:String(s),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function oB(e){var{fn:t,args:r}=e,n=Vt(),s=vs();return w.useEffect(()=>{if(!s){var i=t(r);return n(bme(i)),()=>{n(xme(i))}}},[t,r,n,s]),null}var aB=()=>{};function jve(e){var{legendPayload:t}=e,r=Vt(),n=vs();return w.useEffect(()=>n?aB:(r(g3(t)),()=>{r(y3(t))}),[r,n,t]),null}function Nve(e){var{legendPayload:t}=e,r=Vt(),n=De(gt);return w.useEffect(()=>n!=="centric"&&n!=="radial"?aB:(r(g3(t)),()=>{r(y3(t))}),[r,n,t]),null}function lB(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=w.useRef(Sf(t)),n=w.useRef(e);return n.current!==e&&(r.current=Sf(t),n.current=e),r.current}var c0,kve=()=>{var[e]=j.useState(()=>Sf("uid-"));return e},Cve=(c0=j.useId)!==null&&c0!==void 0?c0:kve;function Tve(e,t){var r=Cve();return t||(e?"".concat(e,"-").concat(r):r)}var Ave=w.createContext(void 0),cB=e=>{var{id:t,type:r,children:n}=e,s=Tve("recharts-".concat(r),t);return j.createElement(Ave.Provider,{value:s},n(s))},Pve={cartesianItems:[],polarItems:[]},uB=qn({name:"graphicalItems",initialState:Pve,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,s=to(e).cartesianItems.indexOf(r);s>-1&&(e.cartesianItems[s]=n)},removeCartesianGraphicalItem(e,t){var r=to(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=to(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:Ove,replaceCartesianGraphicalItem:Dve,removeCartesianGraphicalItem:$ve,addPolarGraphicalItem:Rve,removePolarGraphicalItem:Ive}=uB.actions,Mve=uB.reducer;function Lve(e){var t=Vt(),r=w.useRef(null);return w.useEffect(()=>{r.current===null?t(Ove(e)):r.current!==e&&t(Dve({prev:r.current,next:e})),r.current=e},[t,e]),w.useEffect(()=>()=>{r.current&&(t($ve(r.current)),r.current=null)},[t]),null}function Fve(e){var t=Vt();return w.useEffect(()=>(t(Rve(e)),()=>{t(Ive(e))}),[t,e]),null}function Bve(){}var zve={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},jO={t:0},u0={t:1};function dB(e){var t=bs(e,zve),{isActive:r,canBegin:n,duration:s,easing:i,begin:o,onAnimationEnd:a,onAnimationStart:l,children:c}=t,d=C3("JavascriptAnimate",t.animationManager),[f,h]=w.useState(r?jO:u0),p=w.useRef(null);return w.useEffect(()=>{r||h(u0)},[r]),w.useEffect(()=>{if(!r||!n)return Bve;var g=k3(jO,u0,j3(i),s,h,d.getTimeoutController()),m=()=>{p.current=g()};return d.start([l,o,m,s,a]),()=>{d.stop(),p.current&&p.current(),a()}},[r,n,s,i,o,l,a,d]),c(f.t)}var Uve=["onMouseEnter","onClick","onMouseLeave"],qve=["id"],Vve=["id"];function bj(e,t){if(e==null)return{};var r,n,s=Wve(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Wve(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function NO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NO(Object(r),!0).forEach(function(n){Kve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kve(e,t,r){return(t=Hve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hve(e){var t=Yve(e,"string");return typeof t=="symbol"?t:t+""}function Yve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mo(){return mo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mo.apply(null,arguments)}function Gve(e){var t=w.useMemo(()=>xy(e.children,Jy),[e.children]),r=De(n=>ove(n,e.id,t));return r==null?null:j.createElement(Nve,{legendPayload:r})}function Zve(e){var{dataKey:t,nameKey:r,sectors:n,stroke:s,strokeWidth:i,fill:o,name:a,hide:l,tooltipType:c}=e;return{dataDefinedOnItem:n==null?void 0:n.map(d=>d.tooltipPayload),positions:n==null?void 0:n.map(d=>d.tooltipPosition),settings:{stroke:s,strokeWidth:i,fill:o,dataKey:t,nameKey:r,name:$y(a,t),hide:l,type:c,color:o,unit:""}}}var Xve=(e,t)=>e>t?"start":e<t?"end":"middle",Jve=(e,t,r)=>typeof t=="function"?t(e):fs(t,r,r*.8),Qve=(e,t,r)=>{var{top:n,left:s,width:i,height:o}=t,a=o3(i,o),l=s+fs(e.cx,i,i/2),c=n+fs(e.cy,o,o/2),d=fs(e.innerRadius,a,0),f=Jve(r,e.outerRadius,a),h=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:f,maxRadius:h}},ebe=(e,t)=>{var r=Xr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},tbe=(e,t)=>{if(j.isValidElement(e))return j.cloneElement(e,t);if(typeof e=="function")return e(t);var r=nt("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return j.createElement(oE,mo({},t,{type:"linear",className:r}))},rbe=(e,t,r)=>{if(j.isValidElement(e))return j.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),j.isValidElement(n)))return n;var s=nt("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return j.createElement(Qy,mo({},t,{alignmentBaseline:"middle",className:s}),n)};function nbe(e){var{sectors:t,props:r,showLabels:n}=e,{label:s,labelLine:i,dataKey:o}=r;if(!n||!s||!t)return null;var a=xa(r),l=Ut(s,!1),c=Ut(i,!1),d=typeof s=="object"&&"offsetRadius"in s&&s.offsetRadius||20,f=t.map((h,p)=>{var g=(h.startAngle+h.endAngle)/2,m=ir(h.cx,h.cy,h.outerRadius+d,g),y=Kt(Kt(Kt(Kt({},a),h),{},{stroke:"none"},l),{},{index:p,textAnchor:Xve(m.x,h.cx)},m),v=Kt(Kt(Kt(Kt({},a),h),{},{fill:"none",stroke:h.fill},c),{},{index:p,points:[ir(h.cx,h.cy,h.outerRadius,g),m],key:"line"});return j.createElement(ps,{key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(p)},i&&tbe(i,v),rbe(s,y,Ot(h,o)))});return j.createElement(ps,{className:"recharts-pie-labels"},f)}function fB(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:s,showLabels:i}=e,o=De(hu),{onMouseEnter:a,onClick:l,onMouseLeave:c}=s,d=bj(s,Uve),f=_ve(a,s.dataKey),h=Sve(c),p=Eve(l,s.dataKey);return t==null?null:j.createElement(j.Fragment,null,t.map((g,m)=>{if((g==null?void 0:g.startAngle)===0&&(g==null?void 0:g.endAngle)===0&&t.length!==1)return null;var y=r&&String(m)===o,v=o?n:null,b=y?r:v,x=Kt(Kt({},g),{},{stroke:g.stroke,tabIndex:-1,[d3]:m,[f3]:s.dataKey});return j.createElement(ps,mo({tabIndex:-1,className:"recharts-pie-sector"},AS(d,g,m),{onMouseEnter:f(g,m),onMouseLeave:h(g,m),onClick:p(g,m),key:"sector-".concat(g==null?void 0:g.startAngle,"-").concat(g==null?void 0:g.endAngle,"-").concat(g.midAngle,"-").concat(m)}),j.createElement(wve,mo({option:b,isActive:y,shapeType:"sector"},x)))}),j.createElement(nbe,{sectors:t,props:s,showLabels:i}))}function sbe(e){var t,{pieSettings:r,displayedData:n,cells:s,offset:i}=e,{cornerRadius:o,startAngle:a,endAngle:l,dataKey:c,nameKey:d,tooltipType:f}=r,h=Math.abs(r.minAngle),p=ebe(a,l),g=Math.abs(p),m=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,y=n.filter(N=>Ot(N,c,0)!==0).length,v=(g>=360?y:y-1)*m,b=g-y*h-v,x=n.reduce((N,k)=>{var C=Ot(k,c,0);return N+(Te(C)?C:0)},0),S;if(x>0){var _;S=n.map((N,k)=>{var C=Ot(N,c,0),A=Ot(N,d,k),I=Qve(r,i,N),M=(Te(C)?C:0)/x,L,D=Kt(Kt({},N),s&&s[k]&&s[k].props);k?L=_.endAngle+Xr(p)*m*(C!==0?1:0):L=a;var z=L+Xr(p)*((C!==0?h:0)+M*b),U=(L+z)/2,G=(I.innerRadius+I.outerRadius)/2,q=[{name:A,value:C,payload:D,dataKey:c,type:f}],Z=ir(I.cx,I.cy,G,U);return _=Kt(Kt(Kt(Kt({},r.presentationProps),{},{percent:M,cornerRadius:o,name:A,tooltipPayload:q,midAngle:U,middleRadius:G,tooltipPosition:Z},D),I),{},{value:Ot(N,c),startAngle:L,endAngle:z,payload:D,paddingAngle:Xr(p)*m}),_})}return S}function ibe(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:s,animationBegin:i,animationDuration:o,animationEasing:a,activeShape:l,inactiveShape:c,onAnimationStart:d,onAnimationEnd:f}=t,h=lB(t,"recharts-pie-"),p=r.current,[g,m]=w.useState(!0),y=w.useCallback(()=>{typeof f=="function"&&f(),m(!1)},[f]),v=w.useCallback(()=>{typeof d=="function"&&d(),m(!0)},[d]);return j.createElement(dB,{begin:i,duration:o,isActive:s,easing:a,onAnimationStart:v,onAnimationEnd:y,key:h},b=>{var x=[],S=n&&n[0],_=S.startAngle;return n.forEach((N,k)=>{var C=p&&p[k],A=k>0?ha(N,"paddingAngle",0):0;if(C){var I=YT(C.endAngle-C.startAngle,N.endAngle-N.startAngle),M=Kt(Kt({},N),{},{startAngle:_+A,endAngle:_+I(b)+A});x.push(M),_=M.endAngle}else{var{endAngle:L,startAngle:D}=N,z=YT(0,L-D),U=z(b),G=Kt(Kt({},N),{},{startAngle:_+A,endAngle:_+U+A});x.push(G),_=G.endAngle}}),r.current=x,j.createElement(ps,null,j.createElement(fB,{sectors:x,activeShape:l,inactiveShape:c,allOtherPieProps:t,showLabels:!g}))})}function obe(e){var{sectors:t,isAnimationActive:r,activeShape:n,inactiveShape:s}=e,i=w.useRef(null),o=i.current;return r&&t&&t.length&&(!o||o!==t)?j.createElement(ibe,{props:e,previousSectorsRef:i}):j.createElement(fB,{sectors:t,activeShape:n,inactiveShape:s,allOtherPieProps:e,showLabels:!0})}function abe(e){var{hide:t,className:r,rootTabIndex:n}=e,s=nt("recharts-pie",r);return t?null:j.createElement(ps,{tabIndex:n,className:s},j.createElement(obe,e))}var lbe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!$u.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function cbe(e){var{id:t}=e,r=bj(e,qve),n=w.useMemo(()=>xy(e.children,Jy),[e.children]),s=De(i=>ave(i,t,n));return j.createElement(j.Fragment,null,j.createElement(oB,{fn:Zve,args:Kt(Kt({},e),{},{sectors:s})}),j.createElement(abe,mo({},r,{sectors:s})))}function hB(e){var t=bs(e,lbe),{id:r}=t,n=bj(t,Vve),s=xa(n);return j.createElement(cB,{id:r,type:"pie"},i=>j.createElement(j.Fragment,null,j.createElement(Fve,{type:"pie",id:i,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:s}),j.createElement(Gve,mo({},n,{id:i})),j.createElement(cbe,mo({},n,{id:i})),n.children))}hB.displayName="Pie";var ube=ee([Ar],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),dbe=ee([ube,_o,So],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),xj=()=>De(dbe),fbe=()=>De(uge);function kO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function CO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kO(Object(r),!0).forEach(function(n){hbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hbe(e,t,r){return(t=pbe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pbe(e){var t=mbe(e,"string");return typeof t=="symbol"?t:t+""}function mbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gbe=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:s,dataKey:i}=e;if(s===!1||t.x==null||t.y==null)return null;var o=CO(CO({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},Ut(s,!1)),TS(s)),a;return w.isValidElement(s)?a=w.cloneElement(s,o):typeof s=="function"?a=s(o):a=j.createElement(eB,o),j.createElement(ps,{className:"recharts-active-dot"},a)};function ybe(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:s}=e,i=De(hu),o=fbe();if(t==null||o==null)return null;var a=t.find(l=>o.includes(l.payload));return or(a)?null:gbe({point:a,childIndex:Number(i),mainColor:r,dataKey:s,activeDot:n})}var vbe={},pB=qn({name:"errorBars",initialState:vbe,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(s=>s.dataKey!==n.dataKey||s.direction!==n.direction))}}}),{addErrorBar:WPe,removeErrorBar:KPe}=pB.actions,bbe=pB.reducer,xbe=["children"];function wbe(e,t){if(e==null)return{};var r,n,s=_be(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function _be(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Sbe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Ebe=w.createContext(Sbe);function jbe(e){var{children:t}=e,r=wbe(e,xbe);return j.createElement(Ebe.Provider,{value:r},t)}function mB(e,t){var r,n,s=De(c=>jo(c,e)),i=De(c=>ja(c,t)),o=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:An.allowDataOverflow,a=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Pn.allowDataOverflow,l=o||a;return{needClip:l,needClipX:o,needClipY:a}}function Nbe(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,s=xj(),{needClipX:i,needClipY:o,needClip:a}=mB(t,r);if(!a)return null;var{x:l,y:c,width:d,height:f}=s;return j.createElement("clipPath",{id:"clipPath-".concat(n)},j.createElement("rect",{x:i?l:l-d/2,y:o?c:c-f/2,width:i?d:d*2,height:o?f:f*2}))}var gB=e=>{var{chartData:t}=e,r=Vt(),n=vs();return w.useEffect(()=>n?()=>{}:(r(XP(t)),()=>{r(XP(void 0))}),[t,r,n]),null},TO={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},yB=qn({name:"brush",initialState:TO,reducers:{setBrushSettings(e,t){return t.payload==null?TO:t.payload}}}),{setBrushSettings:HPe}=yB.actions,kbe=yB.reducer;function Cbe(e,t,r){return(t=Tbe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tbe(e){var t=Abe(e,"string");return typeof t=="symbol"?t:t+""}function Abe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class wj{static create(t){return new wj(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],s=r[r.length-1];return n<=s?t>=n&&t<=s:t>=s&&t<=n}}Cbe(wj,"EPS",1e-4);function Pbe(e){return(e%180+180)%180}var Obe=function(t){var{width:r,height:n}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Pbe(s),o=i*Math.PI/180,a=Math.atan(n/r),l=o>a&&o<Math.PI-a?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},Dbe={dots:[],areas:[],lines:[]},vB=qn({name:"referenceElements",initialState:Dbe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=to(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=to(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=to(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:YPe,removeDot:GPe,addArea:ZPe,removeArea:XPe,addLine:JPe,removeLine:QPe}=vB.actions,$be=vB.reducer,Rbe=w.createContext(void 0),Ibe=e=>{var{children:t}=e,[r]=w.useState("".concat(Sf("recharts"),"-clip")),n=xj();if(n==null)return null;var{x:s,y:i,width:o,height:a}=n;return j.createElement(Rbe.Provider,{value:r},j.createElement("defs",null,j.createElement("clipPath",{id:r},j.createElement("rect",{x:s,y:i,height:a,width:o}))),t)};function d0(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function bB(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function Mbe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Obe(n,r)}function Lbe(e,t,r){var n=r==="width",{x:s,y:i,width:o,height:a}=e;return t===1?{start:n?s:i,end:n?s+o:i+a}:{start:n?s+o:i+a,end:n?s:i}}function cg(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function Fbe(e,t){return bB(e,t+1)}function Bbe(e,t,r,n,s){for(var i=(n||[]).slice(),{start:o,end:a}=t,l=0,c=1,d=o,f=function(){var g=n==null?void 0:n[l];if(g===void 0)return{v:bB(n,c)};var m=l,y,v=()=>(y===void 0&&(y=r(g,m)),y),b=g.coordinate,x=l===0||cg(e,b,v,d,a);x||(l=0,d=o,c+=1),x&&(d=b+e*(v()/2+s),l+=c)},h;c<=i.length;)if(h=f(),h)return h.v;return[]}function AO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AO(Object(r),!0).forEach(function(n){zbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zbe(e,t,r){return(t=Ube(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ube(e){var t=qbe(e,"string");return typeof t=="symbol"?t:t+""}function qbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vbe(e,t,r,n,s){for(var i=(n||[]).slice(),o=i.length,{start:a}=t,{end:l}=t,c=function(h){var p=i[h],g,m=()=>(g===void 0&&(g=r(p,h)),g);if(h===o-1){var y=e*(p.coordinate+e*m()/2-l);i[h]=p=Wr(Wr({},p),{},{tickCoord:y>0?p.coordinate-y*e:p.coordinate})}else i[h]=p=Wr(Wr({},p),{},{tickCoord:p.coordinate});var v=cg(e,p.tickCoord,m,a,l);v&&(l=p.tickCoord-e*(m()/2+s),i[h]=Wr(Wr({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)c(d);return i}function Wbe(e,t,r,n,s,i){var o=(n||[]).slice(),a=o.length,{start:l,end:c}=t;if(i){var d=n[a-1],f=r(d,a-1),h=e*(d.coordinate+e*f/2-c);o[a-1]=d=Wr(Wr({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=cg(e,d.tickCoord,()=>f,l,c);p&&(c=d.tickCoord-e*(f/2+s),o[a-1]=Wr(Wr({},d),{},{isShow:!0}))}for(var g=i?a-1:a,m=function(b){var x=o[b],S,_=()=>(S===void 0&&(S=r(x,b)),S);if(b===0){var N=e*(x.coordinate-e*_()/2-l);o[b]=x=Wr(Wr({},x),{},{tickCoord:N<0?x.coordinate-N*e:x.coordinate})}else o[b]=x=Wr(Wr({},x),{},{tickCoord:x.coordinate});var k=cg(e,x.tickCoord,_,l,c);k&&(l=x.tickCoord+e*(_()/2+s),o[b]=Wr(Wr({},x),{},{isShow:!0}))},y=0;y<g;y++)m(y);return o}function _j(e,t,r){var{tick:n,ticks:s,viewBox:i,minTickGap:o,orientation:a,interval:l,tickFormatter:c,unit:d,angle:f}=e;if(!s||!s.length||!n)return[];if(Te(l)||$u.isSsr){var h;return(h=Fbe(s,Te(l)?l:0))!==null&&h!==void 0?h:[]}var p=[],g=a==="top"||a==="bottom"?"width":"height",m=d&&g==="width"?Zd(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=(x,S)=>{var _=typeof c=="function"?c(x.value,S):x.value;return g==="width"?Mbe(Zd(_,{fontSize:t,letterSpacing:r}),m,f):Zd(_,{fontSize:t,letterSpacing:r})[g]},v=s.length>=2?Xr(s[1].coordinate-s[0].coordinate):1,b=Lbe(i,v,g);return l==="equidistantPreserveStart"?Bbe(v,b,y,s,o):(l==="preserveStart"||l==="preserveStartEnd"?p=Wbe(v,b,y,s,o,l==="preserveStartEnd"):p=Vbe(v,b,y,s,o),p.filter(x=>x.isShow))}var Kbe=["viewBox"],Hbe=["viewBox"];function Pc(){return Pc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pc.apply(null,arguments)}function PO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PO(Object(r),!0).forEach(function(n){Sj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OO(e,t){if(e==null)return{};var r,n,s=Ybe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Ybe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Sj(e,t,r){return(t=Gbe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gbe(e){var t=Zbe(e,"string");return typeof t=="symbol"?t:t+""}function Zbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Na extends w.Component{constructor(t){super(t),this.tickRefs=j.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,r){var{viewBox:n}=t,s=OO(t,Kbe),i=this.props,{viewBox:o}=i,a=OO(i,Hbe);return!d0(n,o)||!d0(s,a)||!d0(r,this.state)}getTickLineCoord(t){var{x:r,y:n,width:s,height:i,orientation:o,tickSize:a,mirror:l,tickMargin:c}=this.props,d,f,h,p,g,m,y=l?-1:1,v=t.tickSize||a,b=Te(t.tickCoord)?t.tickCoord:t.coordinate;switch(o){case"top":d=f=t.coordinate,p=n+ +!l*i,h=p-y*v,m=h-y*c,g=b;break;case"left":h=p=t.coordinate,f=r+ +!l*s,d=f-y*v,g=d-y*c,m=b;break;case"right":h=p=t.coordinate,f=r+ +l*s,d=f+y*v,g=d+y*c,m=b;break;default:d=f=t.coordinate,p=n+ +l*i,h=p+y*v,m=h+y*c,g=b;break}return{line:{x1:d,y1:h,x2:f,y2:p},tick:{x:g,y:m}}}getTickTextAnchor(){var{orientation:t,mirror:r}=this.props,n;switch(t){case"left":n=r?"start":"end";break;case"right":n=r?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:t,mirror:r}=this.props;switch(t){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:t,y:r,width:n,height:s,orientation:i,mirror:o,axisLine:a}=this.props,l=hr(hr(hr({},Ut(this.props,!1)),Ut(a,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var c=+(i==="top"&&!o||i==="bottom"&&o);l=hr(hr({},l),{},{x1:t,y1:r+c*s,x2:t+n,y2:r+c*s})}else{var d=+(i==="left"&&!o||i==="right"&&o);l=hr(hr({},l),{},{x1:t+d*n,y1:r,x2:t+d*n,y2:r+s})}return j.createElement("line",Pc({},l,{className:nt("recharts-cartesian-axis-line",ha(a,"className"))}))}static renderTickItem(t,r,n){var s,i=nt(r.className,"recharts-cartesian-axis-tick-value");if(j.isValidElement(t))s=j.cloneElement(t,hr(hr({},r),{},{className:i}));else if(typeof t=="function")s=t(hr(hr({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=nt(o,t.className)),s=j.createElement(Qy,Pc({},r,{className:o}),n)}return s}renderTicks(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:s,stroke:i,tick:o,tickFormatter:a,unit:l,padding:c}=this.props,d=_j(hr(hr({},this.props),{},{ticks:n}),t,r),f=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),p=xa(this.props),g=Ut(o,!1),m=hr(hr({},p),{},{fill:"none"},Ut(s,!1)),y=d.map((v,b)=>{var{line:x,tick:S}=this.getTickLineCoord(v),_=hr(hr(hr(hr({textAnchor:f,verticalAnchor:h},p),{},{stroke:"none",fill:i},g),S),{},{index:b,payload:v,visibleTicksCount:d.length,tickFormatter:a,padding:c});return j.createElement(ps,Pc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(v.value,"-").concat(v.coordinate,"-").concat(v.tickCoord)},AS(this.props,v,b)),s&&j.createElement("line",Pc({},m,x,{className:nt("recharts-cartesian-axis-tick-line",ha(s,"className"))})),o&&Na.renderTickItem(o,_,"".concat(typeof a=="function"?a(v.value,b):v.value).concat(l||"")))});return y.length>0?j.createElement("g",{className:"recharts-cartesian-axis-ticks"},y):null}render(){var{axisLine:t,width:r,height:n,className:s,hide:i}=this.props;if(i)return null;var{ticks:o}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:j.createElement(ps,{className:nt("recharts-cartesian-axis",s),ref:a=>{if(a){var l=a.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(l);var c=l[0];if(c){var d=window.getComputedStyle(c).fontSize,f=window.getComputedStyle(c).letterSpacing;(d!==this.state.fontSize||f!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(c).fontSize,letterSpacing:window.getComputedStyle(c).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,o),In.renderCallByParent(this.props))}}Sj(Na,"displayName","CartesianAxis");Sj(Na,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Xbe=["x1","y1","x2","y2","key"],Jbe=["offset"],Qbe=["xAxisId","yAxisId"],e0e=["xAxisId","yAxisId"];function DO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DO(Object(r),!0).forEach(function(n){t0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t0e(e,t,r){return(t=r0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r0e(e){var t=n0e(e,"string");return typeof t=="symbol"?t:t+""}function n0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function el(){return el=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},el.apply(null,arguments)}function ug(e,t){if(e==null)return{};var r,n,s=s0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function s0e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var i0e=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:s,width:i,height:o,ry:a}=e;return j.createElement("rect",{x:n,y:s,ry:a,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function xB(e,t){var r;if(j.isValidElement(e))r=j.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:s,x2:i,y2:o,key:a}=t,l=ug(t,Xbe),c=xa(l),{offset:d}=c,f=ug(c,Jbe);r=j.createElement("line",el({},f,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:a}))}return r}function o0e(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:s}=e;if(!n||!s||!s.length)return null;var{xAxisId:i,yAxisId:o}=e,a=ug(e,Qbe),l=s.map((c,d)=>{var f=Hr(Hr({},a),{},{x1:t,y1:c,x2:t+r,y2:c,key:"line-".concat(d),index:d});return xB(n,f)});return j.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function a0e(e){var{y:t,height:r,vertical:n=!0,verticalPoints:s}=e;if(!n||!s||!s.length)return null;var{xAxisId:i,yAxisId:o}=e,a=ug(e,e0e),l=s.map((c,d)=>{var f=Hr(Hr({},a),{},{x1:c,y1:t,x2:c,y2:t+r,key:"line-".concat(d),index:d});return xB(n,f)});return j.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function l0e(e){var{horizontalFill:t,fillOpacity:r,x:n,y:s,width:i,height:o,horizontalPoints:a,horizontal:l=!0}=e;if(!l||!t||!t.length)return null;var c=a.map(f=>Math.round(f+s-s)).sort((f,h)=>f-h);s!==c[0]&&c.unshift(0);var d=c.map((f,h)=>{var p=!c[h+1],g=p?s+o-f:c[h+1]-f;if(g<=0)return null;var m=h%t.length;return j.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:g,width:i,stroke:"none",fill:t[m],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function c0e(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:s,y:i,width:o,height:a,verticalPoints:l}=e;if(!t||!r||!r.length)return null;var c=l.map(f=>Math.round(f+s-s)).sort((f,h)=>f-h);s!==c[0]&&c.unshift(0);var d=c.map((f,h)=>{var p=!c[h+1],g=p?s+o-f:c[h+1]-f;if(g<=0)return null;var m=h%r.length;return j.createElement("rect",{key:"react-".concat(h),x:f,y:i,width:g,height:a,stroke:"none",fill:r[m],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var u0e=(e,t)=>{var{xAxis:r,width:n,height:s,offset:i}=e;return l3(_j(Hr(Hr(Hr({},Na.defaultProps),r),{},{ticks:c3(r),viewBox:{x:0,y:0,width:n,height:s}})),i.left,i.left+i.width,t)},d0e=(e,t)=>{var{yAxis:r,width:n,height:s,offset:i}=e;return l3(_j(Hr(Hr(Hr({},Na.defaultProps),r),{},{ticks:c3(r),viewBox:{x:0,y:0,width:n,height:s}})),i.top,i.top+i.height,t)},f0e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function wB(e){var t=rE(),r=nE(),n=p3(),s=Hr(Hr({},bs(e,f0e)),{},{x:Te(e.x)?e.x:n.left,y:Te(e.y)?e.y:n.top,width:Te(e.width)?e.width:n.width,height:Te(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:o,x:a,y:l,width:c,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:p}=s,g=vs(),m=De(A=>qP(A,"xAxis",i,g)),y=De(A=>qP(A,"yAxis",o,g));if(!Te(c)||c<=0||!Te(d)||d<=0||!Te(a)||a!==+a||!Te(l)||l!==+l)return null;var v=s.verticalCoordinatesGenerator||u0e,b=s.horizontalCoordinatesGenerator||d0e,{horizontalPoints:x,verticalPoints:S}=s;if((!x||!x.length)&&typeof b=="function"){var _=h&&h.length,N=b({yAxis:y?Hr(Hr({},y),{},{ticks:_?h:y.ticks}):void 0,width:t,height:r,offset:n},_?!0:f);Gd(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(x=N)}if((!S||!S.length)&&typeof v=="function"){var k=p&&p.length,C=v({xAxis:m?Hr(Hr({},m),{},{ticks:k?p:m.ticks}):void 0,width:t,height:r,offset:n},k?!0:f);Gd(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(S=C)}return j.createElement("g",{className:"recharts-cartesian-grid"},j.createElement(i0e,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),j.createElement(l0e,el({},s,{horizontalPoints:x})),j.createElement(c0e,el({},s,{verticalPoints:S})),j.createElement(o0e,el({},s,{offset:n,horizontalPoints:x,xAxis:m,yAxis:y})),j.createElement(a0e,el({},s,{offset:n,verticalPoints:S,xAxis:m,yAxis:y})))}wB.displayName="CartesianGrid";var _B=(e,t,r,n)=>dF(e,"xAxis",t,n),SB=(e,t,r,n)=>uF(e,"xAxis",t,n),EB=(e,t,r,n)=>dF(e,"yAxis",r,n),jB=(e,t,r,n)=>uF(e,"yAxis",r,n),h0e=ee([gt,_B,EB,SB,jB],(e,t,r,n,s)=>wa(e,"xAxis")?cw(t,n,!1):cw(r,s,!1)),p0e=(e,t,r,n,s)=>s;function m0e(e){return e.type==="line"}var g0e=ee([B6,p0e],(e,t)=>e.filter(m0e).find(r=>r.id===t)),y0e=ee([gt,_B,EB,SB,jB,g0e,h0e,OE],(e,t,r,n,s,i,o,a)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:d}=a;if(!(i==null||t==null||r==null||n==null||s==null||n.length===0||s.length===0||o==null)){var{dataKey:f,data:h}=i,p;if(h!=null&&h.length>0?p=h:p=l==null?void 0:l.slice(c,d+1),p!=null)return L0e({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:s,dataKey:f,bandSize:o,displayedData:p})}}),v0e=["id"],b0e=["type","layout","connectNulls","needClip"],x0e=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function $O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Is(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$O(Object(r),!0).forEach(function(n){w0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$O(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w0e(e,t,r){return(t=_0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _0e(e){var t=S0e(e,"string");return typeof t=="symbol"?t:t+""}function S0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ej(e,t){if(e==null)return{};var r,n,s=E0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function E0e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function xl(){return xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xl.apply(null,arguments)}var j0e=e=>{var{dataKey:t,name:r,stroke:n,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:n,value:$y(r,t),payload:e}]};function N0e(e){var{dataKey:t,data:r,stroke:n,strokeWidth:s,fill:i,name:o,hide:a,unit:l}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:s,fill:i,dataKey:t,nameKey:void 0,name:$y(o,t),hide:a,type:e.tooltipType,color:e.stroke,unit:l}}}var NB=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function k0e(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],s=0;s<t;++s)n=[...n,...r];return n}var C0e=(e,t,r)=>{var n=r.reduce((f,h)=>f+h);if(!n)return NB(t,e);for(var s=Math.floor(e/n),i=e%n,o=t-e,a=[],l=0,c=0;l<r.length;c+=r[l],++l)if(c+r[l]>i){a=[...r.slice(0,l),i-c];break}var d=a.length%2===0?[0,o]:[o];return[...k0e(r,s),...a,...d].map(f=>"".concat(f,"px")).join(", ")};function T0e(e,t){var r;if(j.isValidElement(e))r=j.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=nt("recharts-line-dot",typeof e!="boolean"?e.className:"");r=j.createElement(eB,xl({},t,{className:n}))}return r}function A0e(e,t){return e==null?!1:t?!0:e.length===1}function P0e(e){var{clipPathId:t,points:r,props:n}=e,{dot:s,dataKey:i,needClip:o}=n;if(!A0e(r,s))return null;var{id:a}=n,l=Ej(n,v0e),c=U4(s),d=xa(l),f=Ut(s,!0),h=r.map((g,m)=>{var y=Is(Is(Is({key:"dot-".concat(m),r:3},d),f),{},{index:m,cx:g.x,cy:g.y,dataKey:i,value:g.value,payload:g.payload,points:r});return T0e(s,y)}),p={clipPath:o?"url(#clipPath-".concat(c?"":"dots-").concat(t,")"):void 0};return j.createElement(ps,xl({className:"recharts-line-dots",key:"dots"},p),h)}function $w(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:s,props:i,showLabels:o}=e,{type:a,layout:l,connectNulls:c,needClip:d}=i,f=Ej(i,b0e),h=Is(Is({},Ut(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(t,")"):void 0,points:n,type:a,layout:l,connectNulls:c,strokeDasharray:s??i.strokeDasharray});return j.createElement(j.Fragment,null,(n==null?void 0:n.length)>1&&j.createElement(oE,xl({},h,{pathRef:r})),j.createElement(P0e,{points:n,clipPathId:t,props:i}),o&&cl.renderCallByParent(i,n))}function O0e(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function D0e(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:s,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:a,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:f,animateNewValues:h,width:p,height:g,onAnimationEnd:m,onAnimationStart:y}=r,v=s.current,b=lB(r,"recharts-line-"),[x,S]=w.useState(!1),_=w.useCallback(()=>{typeof m=="function"&&m(),S(!1)},[m]),N=w.useCallback(()=>{typeof y=="function"&&y(),S(!0)},[y]),k=O0e(n.current),C=i.current;return j.createElement(dB,{begin:c,duration:d,isActive:l,easing:f,onAnimationEnd:_,onAnimationStart:N,key:b},A=>{var I=hd(C,k+C,A),M=Math.min(I,k),L;if(a){var D="".concat(a).split(/[,\s]+/gim).map(G=>parseFloat(G));L=C0e(M,k,D)}else L=NB(k,M);if(v){var z=v.length/o.length,U=A===1?o:o.map((G,q)=>{var Z=Math.floor(q*z);if(v[Z]){var oe=v[Z];return Is(Is({},G),{},{x:hd(oe.x,G.x,A),y:hd(oe.y,G.y,A)})}return h?Is(Is({},G),{},{x:hd(p*2,G.x,A),y:hd(g/2,G.y,A)}):Is(Is({},G),{},{x:G.x,y:G.y})});return s.current=U,j.createElement($w,{props:r,points:U,clipPathId:t,pathRef:n,showLabels:!x,strokeDasharray:L})}return A>0&&k>0&&(s.current=o,i.current=M),j.createElement($w,{props:r,points:o,clipPathId:t,pathRef:n,showLabels:!x,strokeDasharray:L})})}function $0e(e){var{clipPathId:t,props:r}=e,{points:n,isAnimationActive:s}=r,i=w.useRef(null),o=w.useRef(0),a=w.useRef(null),l=i.current;return s&&n&&n.length&&l!==n?j.createElement(D0e,{props:r,clipPathId:t,previousPointsRef:i,longestAnimatedLengthRef:o,pathRef:a}):j.createElement($w,{props:r,points:n,clipPathId:t,pathRef:a,showLabels:!0})}var R0e=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Ot(e.payload,t)});class I0e extends w.Component{render(){var t,{hide:r,dot:n,points:s,className:i,xAxisId:o,yAxisId:a,top:l,left:c,width:d,height:f,id:h,needClip:p}=this.props;if(r)return null;var g=nt("recharts-line",i),m=h,{r:y=3,strokeWidth:v=2}=(t=Ut(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},b=U4(n),x=y*2+v;return j.createElement(j.Fragment,null,j.createElement(ps,{className:g},p&&j.createElement("defs",null,j.createElement(Nbe,{clipPathId:m,xAxisId:o,yAxisId:a}),!b&&j.createElement("clipPath",{id:"clipPath-dots-".concat(m)},j.createElement("rect",{x:c-x/2,y:l-x/2,width:d+x,height:f+x}))),j.createElement($0e,{props:this.props,clipPathId:m}),j.createElement(jbe,{xAxisId:o,yAxisId:a,data:s,dataPointFormatter:R0e,errorBarOffset:0},this.props.children)),j.createElement(ybe,{activeDot:this.props.activeDot,points:s,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var kB={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!$u.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function M0e(e){var t=bs(e,kB),{activeDot:r,animateNewValues:n,animationBegin:s,animationDuration:i,animationEasing:o,connectNulls:a,dot:l,hide:c,isAnimationActive:d,label:f,legendType:h,xAxisId:p,yAxisId:g,id:m}=t,y=Ej(t,x0e),{needClip:v}=mB(p,g),b=xj(),x=sE(),S=vs(),_=De(I=>y0e(I,p,g,S,m));if(x!=="horizontal"&&x!=="vertical"||_==null||b==null)return null;var{height:N,width:k,x:C,y:A}=b;return j.createElement(I0e,xl({},y,{id:m,connectNulls:a,dot:l,activeDot:r,animateNewValues:n,animationBegin:s,animationDuration:i,animationEasing:o,isAnimationActive:d,hide:c,label:f,legendType:h,xAxisId:p,yAxisId:g,points:_,layout:x,height:N,width:k,left:C,top:A,needClip:v}))}function L0e(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:s,yAxisTicks:i,dataKey:o,bandSize:a,displayedData:l}=e;return l.map((c,d)=>{var f=Ot(c,o);if(t==="horizontal"){var h=OA({axis:r,ticks:s,bandSize:a,entry:c,index:d}),p=or(f)?null:n.scale(f);return{x:h,y:p,value:f,payload:c}}var g=or(f)?null:r.scale(f),m=OA({axis:n,ticks:i,bandSize:a,entry:c,index:d});return g==null||m==null?null:{x:g,y:m,value:f,payload:c}}).filter(Boolean)}function CB(e){var t=bs(e,kB),r=vs();return j.createElement(cB,{id:t.id,type:"line"},n=>j.createElement(j.Fragment,null,j.createElement(jve,{legendPayload:j0e(t)}),j.createElement(oB,{fn:N0e,args:t}),j.createElement(Lve,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),j.createElement(M0e,xl({},t,{id:n}))))}CB.displayName="Line";function RO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function IO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RO(Object(r),!0).forEach(function(n){F0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F0e(e,t,r){return(t=B0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B0e(e){var t=z0e(e,"string");return typeof t=="symbol"?t:t+""}function z0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var U0e={xAxis:{},yAxis:{},zAxis:{}},TB=qn({name:"cartesianAxis",initialState:U0e,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=IO(IO({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:q0e,removeXAxis:V0e,addYAxis:W0e,removeYAxis:K0e,addZAxis:eOe,removeZAxis:tOe,updateYAxisWidth:H0e}=TB.actions,Y0e=TB.reducer,G0e=["children"],Z0e=["dangerouslySetInnerHTML","ticks"];function AB(e,t,r){return(t=X0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X0e(e){var t=J0e(e,"string");return typeof t=="symbol"?t:t+""}function J0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rw(){return Rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rw.apply(null,arguments)}function PB(e,t){if(e==null)return{};var r,n,s=Q0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Q0e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function exe(e){var t=Vt(),r=w.useMemo(()=>{var{children:i}=e,o=PB(e,G0e);return o},[e]),n=De(i=>jo(i,r.id)),s=r===n;return w.useEffect(()=>(t(q0e(r)),()=>{t(V0e(r))}),[r,t]),s?e.children:null}var txe=e=>{var{xAxisId:t,className:r}=e,n=De(h3),s=vs(),i="xAxis",o=De(p=>zu(p,i,t,s)),a=De(p=>cF(p,i,t,s)),l=De(p=>sme(p,t)),c=De(p=>cme(p,t));if(l==null||c==null)return null;var{dangerouslySetInnerHTML:d,ticks:f}=e,h=PB(e,Z0e);return j.createElement(Na,Rw({},h,{scale:o,x:c.x,y:c.y,width:l.width,height:l.height,className:nt("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:a}))},rxe=e=>{var t,r,n,s,i;return j.createElement(exe,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter},j.createElement(txe,e))};class jj extends w.Component{render(){return j.createElement(rxe,this.props)}}AB(jj,"displayName","XAxis");AB(jj,"defaultProps",{allowDataOverflow:An.allowDataOverflow,allowDecimals:An.allowDecimals,allowDuplicatedCategory:An.allowDuplicatedCategory,height:An.height,hide:!1,mirror:An.mirror,orientation:An.orientation,padding:An.padding,reversed:An.reversed,scale:An.scale,tickCount:An.tickCount,type:An.type,xAxisId:0});var nxe=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:s=0,tickMargin:i=0}=e,o=0;if(t){t.forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>o&&(o=f.width)}});var a=r?r.getBoundingClientRect().width:0,l=s+i,c=o+l+a+(r?n:0);return Math.round(c)}return 0},sxe=["dangerouslySetInnerHTML","ticks"];function OB(e,t,r){return(t=ixe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ixe(e){var t=oxe(e,"string");return typeof t=="symbol"?t:t+""}function oxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Iw(){return Iw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iw.apply(null,arguments)}function axe(e,t){if(e==null)return{};var r,n,s=lxe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function lxe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function cxe(e){var t=Vt();return w.useEffect(()=>(t(W0e(e)),()=>{t(K0e(e))}),[e,t]),null}var uxe=e=>{var t,{yAxisId:r,className:n,width:s,label:i}=e,o=w.useRef(null),a=w.useRef(null),l=De(h3),c=vs(),d=Vt(),f="yAxis",h=De(x=>zu(x,f,r,c)),p=De(x=>dme(x,r)),g=De(x=>ume(x,r)),m=De(x=>cF(x,f,r,c));if(w.useLayoutEffect(()=>{var x;if(!(s!=="auto"||!p||pj(i)||w.isValidElement(i))){var S=o.current,_=S==null||(x=S.tickRefs)===null||x===void 0?void 0:x.current,{tickSize:N,tickMargin:k}=S.props,C=nxe({ticks:_,label:a.current,labelGapWithTick:5,tickSize:N,tickMargin:k});Math.round(p.width)!==Math.round(C)&&d(H0e({id:r,width:C}))}},[o,o==null||(t=o.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,p==null?void 0:p.width,p,d,i,r,s]),p==null||g==null)return null;var{dangerouslySetInnerHTML:y,ticks:v}=e,b=axe(e,sxe);return j.createElement(Na,Iw({},b,{ref:o,labelRef:a,scale:h,x:g.x,y:g.y,width:p.width,height:p.height,className:nt("recharts-".concat(f," ").concat(f),n),viewBox:l,ticks:m}))},dxe=e=>{var t,r,n,s,i;return j.createElement(j.Fragment,null,j.createElement(cxe,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter}),j.createElement(uxe,e))},fxe={allowDataOverflow:Pn.allowDataOverflow,allowDecimals:Pn.allowDecimals,allowDuplicatedCategory:Pn.allowDuplicatedCategory,hide:!1,mirror:Pn.mirror,orientation:Pn.orientation,padding:Pn.padding,reversed:Pn.reversed,scale:Pn.scale,tickCount:Pn.tickCount,type:Pn.type,width:Pn.width,yAxisId:0};class Nj extends w.Component{render(){return j.createElement(dxe,this.props)}}OB(Nj,"displayName","YAxis");OB(Nj,"defaultProps",fxe);var f0={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MO;function hxe(){if(MO)return f0;MO=1;var e=w;function t(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,s=e.useRef,i=e.useEffect,o=e.useMemo,a=e.useDebugValue;return f0.useSyncExternalStoreWithSelector=function(l,c,d,f,h){var p=s(null);if(p.current===null){var g={hasValue:!1,value:null};p.current=g}else g=p.current;p=o(function(){function y(_){if(!v){if(v=!0,b=_,_=f(_),h!==void 0&&g.hasValue){var N=g.value;if(h(N,_))return x=N}return x=_}if(N=x,r(b,_))return N;var k=f(_);return h!==void 0&&h(N,k)?(b=_,N):(b=_,x=k)}var v=!1,b,x,S=d===void 0?null:d;return[function(){return y(c())},S===null?void 0:function(){return y(S())}]},[c,d,f,h]);var m=n(l,p[0],p[1]);return i(function(){g.hasValue=!0,g.value=m},[m]),a(m),m},f0}var h0={};/**
 * @license React
 * use-sync-external-store-with-selector.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LO;function pxe(){return LO||(LO=1,process.env.NODE_ENV!=="production"&&function(){function e(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var t=w,r=typeof Object.is=="function"?Object.is:e,n=t.useSyncExternalStore,s=t.useRef,i=t.useEffect,o=t.useMemo,a=t.useDebugValue;h0.useSyncExternalStoreWithSelector=function(l,c,d,f,h){var p=s(null);if(p.current===null){var g={hasValue:!1,value:null};p.current=g}else g=p.current;p=o(function(){function y(_){if(!v){if(v=!0,b=_,_=f(_),h!==void 0&&g.hasValue){var N=g.value;if(h(N,_))return x=N}return x=_}if(N=x,r(b,_))return N;var k=f(_);return h!==void 0&&h(N,k)?(b=_,N):(b=_,x=k)}var v=!1,b,x,S=d===void 0?null:d;return[function(){return y(c())},S===null?void 0:function(){return y(S())}]},[c,d,f,h]);var m=n(l,p[0],p[1]);return i(function(){g.hasValue=!0,g.value=m},[m]),a(m),m},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())}()),h0}process.env.NODE_ENV==="production"?hxe():pxe();function mxe(e){e()}function gxe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){mxe(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!n||e===null||(n=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var FO={notify(){},get:()=>[]};function yxe(e,t){let r,n=FO,s=0,i=!1;function o(m){d();const y=n.subscribe(m);let v=!1;return()=>{v||(v=!0,y(),f())}}function a(){n.notify()}function l(){g.onStateChange&&g.onStateChange()}function c(){return i}function d(){s++,r||(r=e.subscribe(l),n=gxe())}function f(){s--,r&&s===0&&(r(),r=void 0,n.clear(),n=FO)}function h(){i||(i=!0,d())}function p(){i&&(i=!1,f())}const g={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>n};return g}var vxe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bxe=vxe(),xxe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",wxe=xxe(),_xe=()=>bxe||wxe?j.useLayoutEffect:j.useEffect,Sxe=_xe(),p0=Symbol.for("react-redux-context"),m0=typeof globalThis<"u"?globalThis:{};function Exe(){if(!j.createContext)return{};const e=m0[p0]??(m0[p0]=new Map);let t=e.get(j.createContext);return t||(t=j.createContext(null),process.env.NODE_ENV!=="production"&&(t.displayName="ReactRedux"),e.set(j.createContext,t)),t}var jxe=Exe();function Nxe(e){const{children:t,context:r,serverState:n,store:s}=e,i=j.useMemo(()=>{const l=yxe(s),c={store:s,subscription:l,getServerState:n?()=>n:void 0};if(process.env.NODE_ENV==="production")return c;{const{identityFunctionCheck:d="once",stabilityCheck:f="once"}=e;return Object.assign(c,{stabilityCheck:f,identityFunctionCheck:d})}},[s,n]),o=j.useMemo(()=>s.getState(),[s]);Sxe(()=>{const{subscription:l}=i;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==s.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[i,o]);const a=r||jxe;return j.createElement(a.Provider,{value:i},t)}var kxe=Nxe,Cxe=(e,t)=>t,kj=ee([Cxe,gt,I6,_r,NF,No,yge,Ar],_ge),Cj=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},DB=ms("mouseClick"),$B=lh();$B.startListening({actionCreator:DB,effect:(e,t)=>{var r=e.payload,n=kj(t.getState(),Cj(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(Eme({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Mw=ms("mouseMove"),RB=lh();RB.startListening({actionCreator:Mw,effect:(e,t)=>{var r=e.payload,n=t.getState(),s=ij(n,n.tooltip.settings.shared),i=kj(n,Cj(r));s==="axis"&&((i==null?void 0:i.activeIndex)!=null?t.dispatch(bF({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(vF()))}});function Txe(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var BO={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},IB=qn({name:"rootProps",initialState:BO,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:BO.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),Axe=IB.reducer,{updateOptions:Pxe}=IB.actions,MB=qn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Oxe}=MB.actions,Dxe=MB.reducer,LB=ms("keyDown"),FB=ms("focus"),Tj=lh();Tj.startListening({actionCreator:LB,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=Number(oj(s,qu(r))),a=No(r);if(i==="Enter"){var l=ig(r,"axis","hover",String(s.index));t.dispatch(Tw({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:l}));return}var c=mme(r),d=c==="left-to-right"?1:-1,f=i==="ArrowRight"?1:-1,h=o+f*d;if(!(a==null||h>=a.length||h<0)){var p=ig(r,"axis","hover",String(h));t.dispatch(Tw({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});Tj.startListening({actionCreator:FB,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip;if(!s.active&&s.index==null){var i="0",o=ig(r,"axis","hover",String(i));t.dispatch(Tw({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var es=ms("externalEvent"),BB=lh();BB.startListening({actionCreator:es,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:age(r),activeDataKey:ige(r),activeIndex:hu(r),activeLabel:TF(r),activeTooltipIndex:hu(r),isTooltipActive:lge(r)};e.payload.handler(n,e.payload.reactEvent)}}});var $xe=ee([Uu],e=>e.tooltipItemPayloads),Rxe=ee([$xe,vh,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var s=e.find(a=>a.settings.dataKey===n);if(s!=null){var{positions:i}=s;if(i!=null){var o=t(i,r);return o}}}),zB=ms("touchMove"),UB=lh();UB.startListening({actionCreator:zB,effect:(e,t)=>{var r=e.payload,n=t.getState(),s=ij(n,n.tooltip.settings.shared);if(s==="axis"){var i=kj(n,Cj({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(bF({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(s==="item"){var o,a=r.touches[0],l=document.elementFromPoint(a.clientX,a.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(d3),d=(o=l.getAttribute(f3))!==null&&o!==void 0?o:void 0,f=Rxe(t.getState(),c,d);t.dispatch(yF({activeDataKey:d,activeIndex:c,activeCoordinate:f}))}}});var Ixe=D5({brush:kbe,cartesianAxis:Y0e,chartData:Ige,errorBars:bbe,graphicalItems:Mve,layout:Nce,legend:uue,options:Pge,polarAxis:eve,polarOptions:Dxe,referenceElements:$be,rootProps:Axe,tooltip:jme}),Mxe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Xle({reducer:Ixe,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([$B.middleware,RB.middleware,Tj.middleware,BB.middleware,UB.middleware]),devTools:{serialize:{replacer:Txe},name:"recharts-".concat(r)}})};function qB(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,s=vs(),i=w.useRef(null);if(s)return r;i.current==null&&(i.current=Mxe(t,n));var o=WS;return j.createElement(kxe,{context:o,store:i.current},r)}function VB(e){var{layout:t,width:r,height:n,margin:s}=e,i=Vt(),o=vs();return w.useEffect(()=>{o||(i(Sce(t)),i(Ece({width:r,height:n})),i(_ce(s)))},[i,o,t,r,n,s]),null}function WB(e){var t=Vt();return w.useEffect(()=>{t(Pxe(e))},[t,e]),null}var Lxe=["children"];function Fxe(e,t){if(e==null)return{};var r,n,s=Bxe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Bxe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function dg(){return dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dg.apply(null,arguments)}var zxe={width:"100%",height:"100%"},Uxe=w.forwardRef((e,t)=>{var r=rE(),n=nE(),s=v3();if(!lu(r)||!lu(n))return null;var{children:i,otherAttributes:o,title:a,desc:l}=e,c,d;return typeof o.tabIndex=="number"?c=o.tabIndex:c=s?0:void 0,typeof o.role=="string"?d=o.role:d=s?"application":void 0,j.createElement(PS,dg({},o,{title:a,desc:l,role:d,tabIndex:c,width:r,height:n,style:zxe,ref:t}),i)}),qxe=e=>{var{children:t}=e,r=De(My);if(!r)return null;var{width:n,height:s,y:i,x:o}=r;return j.createElement(PS,{width:n,height:s,x:o,y:i},t)},zO=w.forwardRef((e,t)=>{var{children:r}=e,n=Fxe(e,Lxe),s=vs();return s?j.createElement(qxe,null,r):j.createElement(Uxe,dg({ref:t},n),r)});function Vxe(){var e=Vt(),[t,r]=w.useState(null),n=De(Jce);return w.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),i=s.width/t.offsetWidth;Hs(i)&&i!==n&&e(jce(i))}},[t,e,n]),r}function UO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Wxe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UO(Object(r),!0).forEach(function(n){Kxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kxe(e,t,r){return(t=Hxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hxe(e){var t=Yxe(e,"string");return typeof t=="symbol"?t:t+""}function Yxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gxe=w.forwardRef((e,t)=>{var{children:r,className:n,height:s,onClick:i,onContextMenu:o,onDoubleClick:a,onMouseDown:l,onMouseEnter:c,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:p,onTouchMove:g,onTouchStart:m,style:y,width:v}=e,b=Vt(),[x,S]=w.useState(null),[_,N]=w.useState(null);Fge();var k=Vxe(),C=w.useCallback(X=>{k(X),typeof t=="function"&&t(X),S(X),N(X)},[k,t,S,N]),A=w.useCallback(X=>{b(DB(X)),b(es({handler:i,reactEvent:X}))},[b,i]),I=w.useCallback(X=>{b(Mw(X)),b(es({handler:c,reactEvent:X}))},[b,c]),M=w.useCallback(X=>{b(vF()),b(es({handler:d,reactEvent:X}))},[b,d]),L=w.useCallback(X=>{b(Mw(X)),b(es({handler:f,reactEvent:X}))},[b,f]),D=w.useCallback(()=>{b(FB())},[b]),z=w.useCallback(X=>{b(LB(X.key))},[b]),U=w.useCallback(X=>{b(es({handler:o,reactEvent:X}))},[b,o]),G=w.useCallback(X=>{b(es({handler:a,reactEvent:X}))},[b,a]),q=w.useCallback(X=>{b(es({handler:l,reactEvent:X}))},[b,l]),Z=w.useCallback(X=>{b(es({handler:h,reactEvent:X}))},[b,h]),oe=w.useCallback(X=>{b(es({handler:m,reactEvent:X}))},[b,m]),$=w.useCallback(X=>{b(zB(X)),b(es({handler:g,reactEvent:X}))},[b,g]),B=w.useCallback(X=>{b(es({handler:p,reactEvent:X}))},[b,p]);return j.createElement(RF.Provider,{value:x},j.createElement(q4.Provider,{value:_},j.createElement("div",{className:nt("recharts-wrapper",n),style:Wxe({position:"relative",cursor:"default",width:v,height:s},y),onClick:A,onContextMenu:U,onDoubleClick:G,onFocus:D,onKeyDown:z,onMouseDown:q,onMouseEnter:I,onMouseLeave:M,onMouseMove:L,onMouseUp:Z,onTouchEnd:B,onTouchMove:$,onTouchStart:oe,ref:C},r)))}),Zxe=["children","className","width","height","style","compact","title","desc"];function Xxe(e,t){if(e==null)return{};var r,n,s=Jxe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Jxe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var KB=w.forwardRef((e,t)=>{var{children:r,className:n,width:s,height:i,style:o,compact:a,title:l,desc:c}=e,d=Xxe(e,Zxe),f=xa(d);return a?j.createElement(zO,{otherAttributes:f,title:l,desc:c},r):j.createElement(Gxe,{className:n,style:o,width:s,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},j.createElement(zO,{otherAttributes:f,title:l,desc:c,ref:t},j.createElement(Ibe,null,r)))}),Qxe=["width","height"];function Lw(){return Lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lw.apply(null,arguments)}function ewe(e,t){if(e==null)return{};var r,n,s=twe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function twe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var rwe={top:5,right:5,bottom:5,left:5},nwe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:rwe,reverseStackOrder:!1,syncMethod:"index"},swe=w.forwardRef(function(t,r){var n,s=bs(t.categoricalChartProps,nwe),{width:i,height:o}=s,a=ewe(s,Qxe);if(!lu(i)||!lu(o))return null;var{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,p={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return j.createElement(qB,{preloadedState:{options:p},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:l},j.createElement(gB,{chartData:h.data}),j.createElement(VB,{width:i,height:o,layout:s.layout,margin:s.margin}),j.createElement(WB,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),j.createElement(KB,Lw({},a,{width:i,height:o,ref:r})))}),iwe=["axis"],owe=w.forwardRef((e,t)=>j.createElement(swe,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:iwe,tooltipPayloadSearcher:LF,categoricalChartProps:e,ref:t}));function awe(e){var t=Vt();return w.useEffect(()=>{t(Oxe(e))},[t,e]),null}var lwe=["width","height","layout"];function Fw(){return Fw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fw.apply(null,arguments)}function cwe(e,t){if(e==null)return{};var r,n,s=uwe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function uwe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var dwe={top:5,right:5,bottom:5,left:5},fwe={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:dwe,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},hwe=w.forwardRef(function(t,r){var n,s=bs(t.categoricalChartProps,fwe),{width:i,height:o,layout:a}=s,l=cwe(s,lwe);if(!lu(i)||!lu(o))return null;var{chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=t,p={chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return j.createElement(qB,{preloadedState:{options:p},reduxStoreName:(n=s.id)!==null&&n!==void 0?n:c},j.createElement(gB,{chartData:s.data}),j.createElement(VB,{width:i,height:o,layout:a,margin:s.margin}),j.createElement(WB,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),j.createElement(awe,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),j.createElement(KB,Fw({width:i,height:o},l,{ref:r})))}),pwe=["item"],mwe={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},gwe=w.forwardRef((e,t)=>{var r=bs(e,mwe);return j.createElement(hwe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:pwe,tooltipPayloadSearcher:LF,categoricalChartProps:r,ref:t})});const ywe=async()=>{const{count:e}=await J.supabase.from("profiles").select("id",{count:"exact",head:!0}),{count:t}=await J.supabase.from("subscriptions").select("id",{count:"exact",head:!0}).eq("status","active"),{data:r,error:n}=await J.supabase.from("pages").select("view_count"),{data:s,error:i}=await J.supabase.from("purchases").select("price_id");(n||i)&&console.error("Error fetching key metrics:",{viewsError:n,revenueError:i});const o=(r==null?void 0:r.reduce((l,c)=>l+(c.view_count||0),0))||0,a=((s==null?void 0:s.length)||0)*10;return{totalUsers:e||0,activeSubscribers:t||0,totalRevenue:a,totalViews:o}},vwe=async()=>{const e=new Date;e.setDate(e.getDate()-30);const{data:t,error:r}=await J.supabase.from("profiles").select("created_at").gte("created_at",e.toISOString());if(r)throw new Error(r.message);const n=t.reduce((s,i)=>{const o=new Date(i.created_at).toISOString().split("T")[0];return s[o]=(s[o]||0)+1,s},{});return Object.entries(n).map(([s,i])=>({date:s,count:i})).sort((s,i)=>new Date(s.date).getTime()-new Date(i.date).getTime())},bwe=async()=>{const{data:e,error:t}=await J.supabase.from("subscriptions").select("status");if(t)throw new Error(t.message);const r=e.reduce((n,s)=>{const i=s.status||"unknown";return n[i]=(n[i]||0)+1,n},{});return Object.entries(r).map(([n,s])=>({name:n,value:s}))},xwe=async()=>{const{data:e,error:t}=await J.supabase.from("detailed_audit_log").select("*").order("created_at",{ascending:!1}).limit(5);if(t)throw new Error(t.message);return e},Pp=({title:e,value:t,icon:r,color:n})=>u.jsxs("div",{className:"bg-gray-800/50 p-6 rounded-xl border border-gray-700 flex items-center space-x-4 hover:border-blue-500/50 transition-colors",children:[u.jsx("div",{className:`p-3 rounded-lg bg-${n}-500/20 text-${n}-400`,children:u.jsx(r,{className:"w-6 h-6"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-400",children:e}),u.jsx("p",{className:"text-2xl font-bold text-white",children:t})]})]}),qO=({title:e,children:t,icon:r})=>u.jsxs("div",{className:"bg-gray-800/50 p-6 rounded-xl border border-gray-700",children:[u.jsxs("div",{className:"flex items-center mb-4",children:[u.jsx(r,{className:"w-5 h-5 mr-2 text-gray-400"}),u.jsx("h3",{className:"text-lg font-semibold text-white",children:e})]}),u.jsx("div",{className:"h-72",children:t})]}),g0=()=>u.jsx("div",{className:"flex justify-center items-center h-full",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-400"})}),y0=({message:e})=>u.jsxs("div",{className:"flex justify-center items-center h-full text-red-400",children:[u.jsx($s,{className:"w-6 h-6 mr-2"}),u.jsxs("p",{children:["Error loading data: ",e]})]}),VO=({message:e,icon:t=FV})=>u.jsxs("div",{className:"flex flex-col justify-center items-center h-full text-gray-500",children:[u.jsx(t,{className:"w-12 h-12 mb-4"}),u.jsx("p",{className:"font-semibold",children:"No Data Available"}),u.jsx("p",{className:"text-sm",children:e})]}),wwe=()=>{const{data:e,isLoading:t}=Me.useQuery({queryKey:["keyMetrics"],queryFn:ywe}),{data:r,isLoading:n,error:s}=Me.useQuery({queryKey:["usersOverTime"],queryFn:vwe}),{data:i,isLoading:o,error:a}=Me.useQuery({queryKey:["subscriptionStatus"],queryFn:bwe}),{data:l,isLoading:c,error:d}=Me.useQuery({queryKey:["recentActivity"],queryFn:xwe}),f=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8"];return u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsxs("header",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Admin Dashboard"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"An overview of your website's performance."})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:t?u.jsx("p",{className:"text-gray-900 dark:text-white",children:"Loading metrics..."}):u.jsxs(u.Fragment,{children:[u.jsx(Pp,{title:"Total Users",value:e==null?void 0:e.totalUsers.toLocaleString(),icon:pm,color:"blue"}),u.jsx(Pp,{title:"Active Subscribers",value:e==null?void 0:e.activeSubscribers.toLocaleString(),icon:HV,color:"green"}),u.jsx(Pp,{title:"Total Revenue",value:`$${e==null?void 0:e.totalRevenue.toLocaleString()}`,icon:RV,color:"yellow"}),u.jsx(Pp,{title:"Total Page Views",value:e==null?void 0:e.totalViews.toLocaleString(),icon:Zf,color:"purple"})]})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsx(qO,{title:"New Users (Last 30 Days)",icon:UV,children:n?u.jsx(g0,{}):s?u.jsx(y0,{message:s.message}):r&&r.length>0?u.jsx(nO,{width:"100%",height:"100%",children:u.jsxs(owe,{data:r,children:[u.jsx(wB,{strokeDasharray:"3 3",stroke:"#4A5568"}),u.jsx(jj,{dataKey:"date",stroke:"#A0AEC0",tick:{fontSize:12}}),u.jsx(Nj,{stroke:"#A0AEC0",tick:{fontSize:12}}),u.jsx(tO,{contentStyle:{backgroundColor:"#1A202C",border:"1px solid #4A5568"}}),u.jsx(Nf,{wrapperStyle:{fontSize:14}}),u.jsx(CB,{type:"monotone",dataKey:"count",name:"New Users",stroke:"#3B82F6",strokeWidth:2,dot:{r:4},activeDot:{r:8}})]})}):u.jsx(VO,{message:"No new user data to display for this period."})}),u.jsx(qO,{title:"Subscription Status",icon:KV,children:o?u.jsx(g0,{}):a?u.jsx(y0,{message:a.message}):i&&i.length>0?u.jsx(nO,{width:"100%",height:"100%",children:u.jsxs(gwe,{children:[u.jsx(hB,{data:i,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:100,fill:"#8884d8",labelLine:!1,label:({name:h,percent:p})=>`${h}: ${(p*100).toFixed(0)}%`,children:i==null?void 0:i.map((h,p)=>u.jsx(Jy,{fill:f[p%f.length]},`cell-${p}`))}),u.jsx(tO,{contentStyle:{backgroundColor:"#1A202C",border:"1px solid #4A5568"}}),u.jsx(Nf,{wrapperStyle:{fontSize:14}})]})}):u.jsx(VO,{message:"No subscription data available."})})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700",children:[u.jsxs("div",{className:"flex items-center mb-4",children:[u.jsx(qV,{className:"w-5 h-5 mr-2 text-gray-600 dark:text-gray-300"}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Recent Activity"})]}),u.jsx("div",{className:"space-y-4",children:c?u.jsx(g0,{}):d?u.jsx(y0,{message:d.message}):l&&l.length>0?l.map(h=>{var p;return u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[u.jsx("span",{className:"font-semibold text-blue-600 dark:text-blue-400",children:h.actor_display_name||h.actor_username||"A user"})," ",(p=h.action)==null?void 0:p.toLowerCase(),"."]}),u.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:new Date(h.created_at).toLocaleString()})]},h.id)}):u.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:"No recent activity found."})})]})]})};let _we={data:""},Swe=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||_we,Ewe=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,jwe=/\/\*[^]*?\*\/|  +/g,WO=/\n+/g,Qo=(e,t)=>{let r="",n="",s="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?r=i+" "+o+";":n+=i[1]=="f"?Qo(o,i):i+"{"+Qo(o,i[1]=="k"?"":t)+"}":typeof o=="object"?n+=Qo(o,t?t.replace(/([^,])+/g,a=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Qo.p?Qo.p(i,o):i+":"+o+";")}return r+(t&&s?t+"{"+s+"}":s)+n},Ui={},HB=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+HB(e[r]);return t}return e},Nwe=(e,t,r,n,s)=>{let i=HB(e),o=Ui[i]||(Ui[i]=(l=>{let c=0,d=11;for(;c<l.length;)d=101*d+l.charCodeAt(c++)>>>0;return"go"+d})(i));if(!Ui[o]){let l=i!==e?e:(c=>{let d,f,h=[{}];for(;d=Ewe.exec(c.replace(jwe,""));)d[4]?h.shift():d[3]?(f=d[3].replace(WO," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][d[1]]=d[2].replace(WO," ").trim();return h[0]})(e);Ui[o]=Qo(s?{["@keyframes "+o]:l}:l,r?"":"."+o)}let a=r&&Ui.g?Ui.g:null;return r&&(Ui.g=Ui[o]),((l,c,d,f)=>{f?c.data=c.data.replace(f,l):c.data.indexOf(l)===-1&&(c.data=d?l+c.data:c.data+l)})(Ui[o],t,n,a),o},kwe=(e,t,r)=>e.reduce((n,s,i)=>{let o=t[i];if(o&&o.call){let a=o(r),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":Qo(a,""):a===!1?"":a}return n+s+(o??"")},"");function ev(e){let t=this||{},r=e.call?e(t.p):e;return Nwe(r.unshift?r.raw?kwe(r,[].slice.call(arguments,1),t.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(t.p):s),{}):r,Swe(t.target),t.g,t.o,t.k)}let YB,Bw,zw;ev.bind({g:1});let go=ev.bind({k:1});function Cwe(e,t,r,n){Qo.p=t,YB=e,Bw=r,zw=n}function ka(e,t){let r=this||{};return function(){let n=arguments;function s(i,o){let a=Object.assign({},i),l=a.className||s.className;r.p=Object.assign({theme:Bw&&Bw()},a),r.o=/ *go\d+/.test(l),a.className=ev.apply(r,n)+(l?" "+l:"");let c=e;return e[0]&&(c=a.as||e,delete a.as),zw&&c[0]&&zw(a),YB(c,a)}return s}}var Twe=e=>typeof e=="function",fg=(e,t)=>Twe(e)?e(t):e,Awe=(()=>{let e=0;return()=>(++e).toString()})(),GB=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Pwe=20,Aj="default",ZB=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:n}=t;return ZB(e,{type:e.toasts.find(o=>o.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=t;return{...e,toasts:e.toasts.map(o=>o.id===s||s===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},em=[],XB={toasts:[],pausedAt:void 0,settings:{toastLimit:Pwe}},pi={},JB=(e,t=Aj)=>{pi[t]=ZB(pi[t]||XB,e),em.forEach(([r,n])=>{r===t&&n(pi[t])})},QB=e=>Object.keys(pi).forEach(t=>JB(e,t)),Owe=e=>Object.keys(pi).find(t=>pi[t].toasts.some(r=>r.id===e)),tv=(e=Aj)=>t=>{JB(t,e)},Dwe={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},$we=(e={},t=Aj)=>{let[r,n]=w.useState(pi[t]||XB),s=w.useRef(pi[t]);w.useEffect(()=>(s.current!==pi[t]&&n(pi[t]),em.push([t,n]),()=>{let o=em.findIndex(([a])=>a===t);o>-1&&em.splice(o,1)}),[t]);let i=r.toasts.map(o=>{var a,l,c;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((a=e[o.type])==null?void 0:a.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((l=e[o.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||Dwe[o.type],style:{...e.style,...(c=e[o.type])==null?void 0:c.style,...o.style}}});return{...r,toasts:i}},Rwe=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||Awe()}),xh=e=>(t,r)=>{let n=Rwe(t,e,r);return tv(n.toasterId||Owe(n.id))({type:2,toast:n}),n.id},Bt=(e,t)=>xh("blank")(e,t);Bt.error=xh("error");Bt.success=xh("success");Bt.loading=xh("loading");Bt.custom=xh("custom");Bt.dismiss=(e,t)=>{let r={type:3,toastId:e};t?tv(t)(r):QB(r)};Bt.dismissAll=e=>Bt.dismiss(void 0,e);Bt.remove=(e,t)=>{let r={type:4,toastId:e};t?tv(t)(r):QB(r)};Bt.removeAll=e=>Bt.remove(void 0,e);Bt.promise=(e,t,r)=>{let n=Bt.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let i=t.success?fg(t.success,s):void 0;return i?Bt.success(i,{id:n,...r,...r==null?void 0:r.success}):Bt.dismiss(n),s}).catch(s=>{let i=t.error?fg(t.error,s):void 0;i?Bt.error(i,{id:n,...r,...r==null?void 0:r.error}):Bt.dismiss(n)}),e};var Iwe=1e3,Mwe=(e,t="default")=>{let{toasts:r,pausedAt:n}=$we(e,t),s=w.useRef(new Map).current,i=w.useCallback((f,h=Iwe)=>{if(s.has(f))return;let p=setTimeout(()=>{s.delete(f),o({type:4,toastId:f})},h);s.set(f,p)},[]);w.useEffect(()=>{if(n)return;let f=Date.now(),h=r.map(p=>{if(p.duration===1/0)return;let g=(p.duration||0)+p.pauseDuration-(f-p.createdAt);if(g<0){p.visible&&Bt.dismiss(p.id);return}return setTimeout(()=>Bt.dismiss(p.id,t),g)});return()=>{h.forEach(p=>p&&clearTimeout(p))}},[r,n,t]);let o=w.useCallback(tv(t),[t]),a=w.useCallback(()=>{o({type:5,time:Date.now()})},[o]),l=w.useCallback((f,h)=>{o({type:1,toast:{id:f,height:h}})},[o]),c=w.useCallback(()=>{n&&o({type:6,time:Date.now()})},[n,o]),d=w.useCallback((f,h)=>{let{reverseOrder:p=!1,gutter:g=8,defaultPosition:m}=h||{},y=r.filter(x=>(x.position||m)===(f.position||m)&&x.height),v=y.findIndex(x=>x.id===f.id),b=y.filter((x,S)=>S<v&&x.visible).length;return y.filter(x=>x.visible).slice(...p?[b+1]:[0,b]).reduce((x,S)=>x+(S.height||0)+g,0)},[r]);return w.useEffect(()=>{r.forEach(f=>{if(f.dismissed)i(f.id,f.removeDelay);else{let h=s.get(f.id);h&&(clearTimeout(h),s.delete(f.id))}})},[r,i]),{toasts:r,handlers:{updateHeight:l,startPause:a,endPause:c,calculateOffset:d}}},Lwe=go`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Fwe=go`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Bwe=go`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,zwe=ka("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Lwe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Fwe} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Bwe} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Uwe=go`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,qwe=ka("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Uwe} 1s linear infinite;
`,Vwe=go`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Wwe=go`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Kwe=ka("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Vwe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Wwe} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Hwe=ka("div")`
  position: absolute;
`,Ywe=ka("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Gwe=go`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Zwe=ka("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Gwe} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Xwe=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?j.createElement(Zwe,null,t):t:r==="blank"?null:j.createElement(Ywe,null,j.createElement(qwe,{...n}),r!=="loading"&&j.createElement(Hwe,null,r==="error"?j.createElement(zwe,{...n}):j.createElement(Kwe,{...n})))},Jwe=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Qwe=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,e1e="0%{opacity:0;} 100%{opacity:1;}",t1e="0%{opacity:1;} 100%{opacity:0;}",r1e=ka("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,n1e=ka("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,s1e=(e,t)=>{let r=e.includes("top")?1:-1,[n,s]=GB()?[e1e,t1e]:[Jwe(r),Qwe(r)];return{animation:t?`${go(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${go(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},i1e=j.memo(({toast:e,position:t,style:r,children:n})=>{let s=e.height?s1e(e.position||t||"top-center",e.visible):{opacity:0},i=j.createElement(Xwe,{toast:e}),o=j.createElement(n1e,{...e.ariaProps},fg(e.message,e));return j.createElement(r1e,{className:e.className,style:{...s,...r,...e.style}},typeof n=="function"?n({icon:i,message:o}):j.createElement(j.Fragment,null,i,o))});Cwe(j.createElement);var o1e=({id:e,className:t,style:r,onHeightUpdate:n,children:s})=>{let i=j.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;n(e,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return j.createElement("div",{ref:i,className:t,style:r},s)},a1e=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:GB()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...s}},l1e=ev`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Op=16,c1e=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:s,toasterId:i,containerStyle:o,containerClassName:a})=>{let{toasts:l,handlers:c}=Mwe(r,i);return j.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:Op,left:Op,right:Op,bottom:Op,pointerEvents:"none",...o},className:a,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(d=>{let f=d.position||t,h=c.calculateOffset(d,{reverseOrder:e,gutter:n,defaultPosition:t}),p=a1e(f,h);return j.createElement(o1e,{id:d.id,key:d.id,onHeightUpdate:c.updateHeight,className:d.visible?l1e:"",style:p},d.type==="custom"?fg(d.message,d):s?s(d):j.createElement(i1e,{toast:d,position:f}))}))},ci=Bt;function u1e(){return{toast:({title:t,description:r,variant:n})=>{n==="destructive"?Bt.error(t,{id:t,duration:5e3,style:{background:"#fee2e2",color:"#ef4444",border:"1px solid #fca5a5"},iconTheme:{primary:"#ef4444",secondary:"#fee2e2"}}):Bt.success(t,{id:t,duration:3e3,style:{background:"#dcfce7",color:"#22c55e",border:"1px solid #86efac"},iconTheme:{primary:"#22c55e",secondary:"#dcfce7"}})}}}const qr=u1e(),d1e=async()=>{const{data:e,error:t}=await J.supabase.from("homepage_content").select("*");if(t)throw new Error(t.message);return e},f1e=async e=>{const{id:t,...r}=e,{data:n,error:s}=await J.supabase.from("homepage_content").update(r).eq("id",t).select();if(s)throw new Error(s.message);return n[0]},h1e=async e=>{const{data:t,error:r}=await J.supabase.from("homepage_content").insert(e).select();if(r)throw new Error(r.message);return t[0]},p1e=async()=>{const{data:e,error:t}=await J.supabase.from("news_items").select("*").order("date",{ascending:!1});if(t)throw new Error(t.message);return e},m1e=async e=>{const{data:t,error:r}=await J.supabase.from("news_items").insert(e).select();if(r)throw new Error(r.message);return t[0]},g1e=async e=>{const{data:t,error:r}=await J.supabase.from("news_items").update(e).eq("id",e.id).select();if(r)throw new Error(r.message);return t[0]},y1e=async e=>{const{error:t}=await J.supabase.from("news_items").delete().eq("id",e);if(t)throw new Error(t.message)},v1e=async()=>{const{data:e,error:t}=await J.supabase.from("release_items").select("*").order("release_date",{ascending:!1});if(t)throw new Error(t.message);return e},b1e=async e=>{const{data:t,error:r}=await J.supabase.from("release_items").insert(e).select();if(r)throw new Error(r.message);return t[0]},x1e=async e=>{const{data:t,error:r}=await J.supabase.from("release_items").update(e).eq("id",e.id).select();if(r)throw new Error(r.message);return t[0]},w1e=async e=>{const{error:t}=await J.supabase.from("release_items").delete().eq("id",e);if(t)throw new Error(t.message)},_1e=()=>{var W,K,te,re,ue,V,H,ie;const e=Me.useQueryClient(),{data:t,isLoading:r,isError:n,error:s}=Me.useQuery({queryKey:["homepageContent"],queryFn:d1e}),{data:i,isLoading:o,isError:a,error:l}=Me.useQuery({queryKey:["newsItems"],queryFn:p1e}),{data:c,isLoading:d,isError:f,error:h}=Me.useQuery({queryKey:["releaseItems"],queryFn:v1e}),p=Me.useMutation({mutationFn:f1e,onSuccess:()=>{e.invalidateQueries({queryKey:["homepageContent"]}),qr.toast({title:"Content updated successfully!",variant:"default"})},onError:O=>{qr.toast({title:`Error updating content: ${O.message}`,variant:"destructive"})}}),g=Me.useMutation({mutationFn:h1e,onSuccess:()=>{e.invalidateQueries({queryKey:["homepageContent"]}),qr.toast({title:"Content created successfully!",variant:"default"})},onError:O=>{qr.toast({title:`Error creating content: ${O.message}`,variant:"destructive"})}}),m=Me.useMutation({mutationFn:m1e,onSuccess:()=>{e.invalidateQueries({queryKey:["newsItems"]}),qr.toast({title:"News item added successfully!",variant:"default"}),q()},onError:O=>{qr.toast({title:`Error adding news item: ${O.message}`,variant:"destructive"})}}),y=Me.useMutation({mutationFn:g1e,onSuccess:()=>{e.invalidateQueries({queryKey:["newsItems"]}),qr.toast({title:"News item updated successfully!",variant:"default"}),q()},onError:O=>{qr.toast({title:`Error updating news item: ${O.message}`,variant:"destructive"})}}),v=Me.useMutation({mutationFn:y1e,onSuccess:()=>{e.invalidateQueries({queryKey:["newsItems"]}),qr.toast({title:"News item deleted successfully!",variant:"default"})},onError:O=>{qr.toast({title:`Error deleting news item: ${O.message}`,variant:"destructive"})}}),b=Me.useMutation({mutationFn:b1e,onSuccess:()=>{e.invalidateQueries({queryKey:["releaseItems"]}),qr.toast({title:"Release item added successfully!",variant:"default"}),B()},onError:O=>{qr.toast({title:`Error adding release item: ${O.message}`,variant:"destructive"})}}),x=Me.useMutation({mutationFn:x1e,onSuccess:()=>{e.invalidateQueries({queryKey:["releaseItems"]}),qr.toast({title:"Release item updated successfully!",variant:"default"}),B()},onError:O=>{qr.toast({title:`Error updating release item: ${O.message}`,variant:"destructive"})}}),S=Me.useMutation({mutationFn:w1e,onSuccess:()=>{e.invalidateQueries({queryKey:["releaseItems"]}),qr.toast({title:"Release item deleted successfully!",variant:"default"})},onError:O=>{qr.toast({title:`Error deleting release item: ${O.message}`,variant:"destructive"})}}),[_,N]=w.useState(!1),[k,C]=w.useState(null),[A,I]=w.useState(!1),[M,L]=w.useState(null),D=O=>t==null?void 0:t.find(ge=>ge.section===O),z=async O=>{O.preventDefault();const ge=O.target,Ee=ge.heroTitle.value,Be=ge.heroDescription.value,Ue=ge.heroButtonText.value,et=ge.heroButtonLink.value,bt=[{section:"hero_title",content:Ee},{section:"hero_description",content:Be},{section:"hero_button_text",content:Ue},{section:"hero_button_link",content:et}];for(const Et of bt){const R=D(Et.section);R?p.mutate({...R,content:Et.content}):g.mutate(Et)}},U=async O=>{O.preventDefault();const ge=O.target,Ee=ge.wordsWritten.value,Be=ge.betaReaders.value,Ue=ge.averageRating.value,et=ge.booksPublished.value,bt=[{section:"stat_words_written",content:Ee},{section:"stat_beta_readers",content:Be},{section:"stat_average_rating",content:Ue},{section:"stat_books_published",content:et}];for(const Et of bt){const R=D(Et.section);R?p.mutate({...R,content:Et.content}):g.mutate(Et)}},G=(O=null)=>{C(O),N(!0)},q=()=>{C(null),N(!1)},Z=O=>{O.preventDefault();const ge=O.target,Ee=ge.newsTitle.value,Be=ge.newsContent.value,Ue=ge.newsStatus.value,et=ge.newsDate.value,bt={title:Ee,content:Be,status:Ue,date:et};k?y.mutate({...k,...bt}):m.mutate(bt)},oe=O=>{window.confirm("Are you sure you want to delete this news item?")&&v.mutate(O)},$=(O=null)=>{L(O),I(!0)},B=()=>{L(null),I(!1)},X=O=>{O.preventDefault();const ge=O.target,Ee=ge.releaseTitle.value,Be=ge.releaseType.value,Ue=ge.releaseStatus.value,et=ge.releaseDescription.value,bt=ge.releaseDate.value,Et=ge.purchaseLink.value,R={title:Ee,type:Be,status:Ue,description:et,release_date:bt,purchase_link:Et};M?x.mutate({...M,...R}):b.mutate(R)},ae=O=>{window.confirm("Are you sure you want to delete this release item?")&&S.mutate(O)};return r||o||d?u.jsx("div",{className:"text-center py-8",children:"Loading homepage content manager..."}):n?u.jsxs("div",{className:"text-center py-8 text-red-500",children:["Error: ",s==null?void 0:s.message]}):a?u.jsxs("div",{className:"text-center py-8 text-red-500",children:["Error loading news: ",l==null?void 0:l.message]}):f?u.jsxs("div",{className:"text-center py-8 text-red-500",children:["Error loading releases: ",h==null?void 0:h.message]}):u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsxs("div",{className:"bg-blue-100 border-l-4 border-blue-500 text-blue-700 p-4 mb-4",role:"alert",children:[u.jsx("strong",{children:"Note:"})," Changes made here will be reflected on your homepage immediately after saving."]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-md mb-8 overflow-hidden",children:[u.jsx("div",{className:"bg-blue-600 text-white p-4 font-semibold",children:"Hero Section"}),u.jsx("div",{className:"p-6",children:u.jsxs("form",{onSubmit:z,children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"heroTitle",className:"block text-gray-700 text-sm font-bold mb-2",children:"Main Title"}),u.jsx("input",{type:"text",id:"heroTitle",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",defaultValue:((W=D("hero_title"))==null?void 0:W.content)||""})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"heroDescription",className:"block text-gray-700 text-sm font-bold mb-2",children:"Subtitle/Description"}),u.jsx("textarea",{id:"heroDescription",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline h-32 resize-y",defaultValue:((K=D("hero_description"))==null?void 0:K.content)||""})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"heroButtonText",className:"block text-gray-700 text-sm font-bold mb-2",children:"Button Text"}),u.jsx("input",{type:"text",id:"heroButtonText",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",defaultValue:((te=D("hero_button_text"))==null?void 0:te.content)||""})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{htmlFor:"heroButtonLink",className:"block text-gray-700 text-sm font-bold mb-2",children:"Button Link"}),u.jsx("input",{type:"url",id:"heroButtonLink",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",defaultValue:((re=D("hero_button_link"))==null?void 0:re.content)||""})]}),u.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Save Hero Section"})]})})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-md mb-8 overflow-hidden",children:[u.jsx("div",{className:"bg-blue-600 text-white p-4 font-semibold",children:"Statistics"}),u.jsx("div",{className:"p-6",children:u.jsxs("form",{onSubmit:U,children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[u.jsxs("div",{className:"stat-item p-4 border border-gray-200 rounded-md",children:[u.jsx("label",{htmlFor:"wordsWritten",className:"block text-gray-700 text-sm font-bold mb-2",children:"Words Written"}),u.jsx("input",{type:"text",id:"wordsWritten",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",defaultValue:((ue=D("stat_words_written"))==null?void 0:ue.content)||""})]}),u.jsxs("div",{className:"stat-item p-4 border border-gray-200 rounded-md",children:[u.jsx("label",{htmlFor:"betaReaders",className:"block text-gray-700 text-sm font-bold mb-2",children:"Beta Readers"}),u.jsx("input",{type:"text",id:"betaReaders",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",defaultValue:((V=D("stat_beta_readers"))==null?void 0:V.content)||""})]}),u.jsxs("div",{className:"stat-item p-4 border border-gray-200 rounded-md",children:[u.jsx("label",{htmlFor:"averageRating",className:"block text-gray-700 text-sm font-bold mb-2",children:"Average Rating"}),u.jsx("input",{type:"text",id:"averageRating",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",defaultValue:((H=D("stat_average_rating"))==null?void 0:H.content)||""})]}),u.jsxs("div",{className:"stat-item p-4 border border-gray-200 rounded-md",children:[u.jsx("label",{htmlFor:"booksPublished",className:"block text-gray-700 text-sm font-bold mb-2",children:"Books Published"}),u.jsx("input",{type:"text",id:"booksPublished",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",defaultValue:((ie=D("stat_books_published"))==null?void 0:ie.content)||""})]})]}),u.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Save Statistics"})]})})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-md mb-8 overflow-hidden",children:[u.jsx("div",{className:"bg-blue-600 text-white p-4 font-semibold",children:"Latest News & Updates"}),u.jsxs("div",{className:"p-6",children:[u.jsx("button",{onClick:()=>G(),className:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline mb-4",children:"+ Add New Update"}),i==null?void 0:i.map(O=>u.jsxs("div",{className:"bg-gray-100 p-4 rounded-md mb-2 relative",children:[u.jsxs("div",{className:"absolute top-2 right-2 flex gap-2",children:[u.jsx("button",{onClick:()=>G(O),className:"bg-blue-500 text-white px-2 py-1 rounded text-xs",children:"Edit"}),u.jsx("button",{onClick:()=>oe(O.id),className:"bg-red-500 text-white px-2 py-1 rounded text-xs",children:"Delete"})]}),u.jsx("h3",{className:"font-bold text-lg mb-1",children:O.title}),u.jsx("p",{className:"text-gray-700 text-sm",children:O.content}),u.jsxs("small",{className:"text-gray-500",children:["Status: ",O.status," | Date: ",O.date]})]},O.id))]})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-md mb-8 overflow-hidden",children:[u.jsx("div",{className:"bg-blue-600 text-white p-4 font-semibold",children:"Latest Releases"}),u.jsxs("div",{className:"p-6",children:[u.jsx("button",{onClick:()=>$(),className:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline mb-4",children:"+ Add New Release"}),c==null?void 0:c.map(O=>u.jsxs("div",{className:"bg-gray-100 p-4 rounded-md mb-2 relative",children:[u.jsxs("div",{className:"absolute top-2 right-2 flex gap-2",children:[u.jsx("button",{onClick:()=>$(O),className:"bg-blue-500 text-white px-2 py-1 rounded text-xs",children:"Edit"}),u.jsx("button",{onClick:()=>ae(O.id),className:"bg-red-500 text-white px-2 py-1 rounded text-xs",children:"Delete"})]}),u.jsx("h3",{className:"font-bold text-lg mb-1",children:O.title}),u.jsxs("p",{className:"text-gray-700 text-sm",children:[u.jsx("strong",{children:"Type:"})," ",O.type," | ",u.jsx("strong",{children:"Status:"})," ",O.status]}),u.jsxs("small",{className:"text-gray-500",children:["Released: ",O.release_date]})]},O.id))]})]}),_&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md",children:[u.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4",children:[u.jsx("h2",{className:"text-xl font-bold",children:k?"Edit Update":"Add New Update"}),u.jsx("button",{onClick:q,className:"text-gray-500 hover:text-gray-700 text-2xl",children:""})]}),u.jsxs("form",{onSubmit:Z,children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"newsTitle",className:"block text-gray-700 text-sm font-bold mb-2",children:"Title"}),u.jsx("input",{type:"text",id:"newsTitle",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",defaultValue:(k==null?void 0:k.title)||"",required:!0})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"newsContent",className:"block text-gray-700 text-sm font-bold mb-2",children:"Content"}),u.jsx("textarea",{id:"newsContent",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline h-24 resize-y",defaultValue:(k==null?void 0:k.content)||"",required:!0})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"newsStatus",className:"block text-gray-700 text-sm font-bold mb-2",children:"Status"}),u.jsxs("select",{id:"newsStatus",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",defaultValue:(k==null?void 0:k.status)||"draft",children:[u.jsx("option",{value:"draft",children:"Draft"}),u.jsx("option",{value:"published",children:"Published"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"newsDate",className:"block text-gray-700 text-sm font-bold mb-2",children:"Date"}),u.jsx("input",{type:"date",id:"newsDate",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",defaultValue:(k==null?void 0:k.date)||new Date().toISOString().split("T")[0],required:!0})]})]}),u.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[u.jsx("button",{type:"button",onClick:q,className:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Cancel"}),u.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Save Update"})]})]})]})}),A&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md",children:[u.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4",children:[u.jsx("h2",{className:"text-xl font-bold",children:M?"Edit Release":"Add New Release"}),u.jsx("button",{onClick:B,className:"text-gray-500 hover:text-gray-700 text-2xl",children:""})]}),u.jsxs("form",{onSubmit:X,children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"releaseTitle",className:"block text-gray-700 text-sm font-bold mb-2",children:"Title"}),u.jsx("input",{type:"text",id:"releaseTitle",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",defaultValue:(M==null?void 0:M.title)||"",required:!0})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"releaseType",className:"block text-gray-700 text-sm font-bold mb-2",children:"Type"}),u.jsxs("select",{id:"releaseType",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",defaultValue:(M==null?void 0:M.type)||"issue",children:[u.jsx("option",{value:"issue",children:"Issue"}),u.jsx("option",{value:"arc",children:"Arc"}),u.jsx("option",{value:"volume",children:"Volume"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"releaseStatus",className:"block text-gray-700 text-sm font-bold mb-2",children:"Status"}),u.jsxs("select",{id:"releaseStatus",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",defaultValue:(M==null?void 0:M.status)||"available",children:[u.jsx("option",{value:"available",children:"Available"}),u.jsx("option",{value:"coming-soon",children:"Coming Soon"}),u.jsx("option",{value:"pre-order",children:"Pre-order"})]})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"releaseDescription",className:"block text-gray-700 text-sm font-bold mb-2",children:"Description"}),u.jsx("textarea",{id:"releaseDescription",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline h-24 resize-y",defaultValue:(M==null?void 0:M.description)||""})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"releaseDate",className:"block text-gray-700 text-sm font-bold mb-2",children:"Release Date"}),u.jsx("input",{type:"date",id:"releaseDate",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",defaultValue:(M==null?void 0:M.release_date)||new Date().toISOString().split("T")[0],required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"purchaseLink",className:"block text-gray-700 text-sm font-bold mb-2",children:"Purchase Link"}),u.jsx("input",{type:"url",id:"purchaseLink",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",defaultValue:(M==null?void 0:M.purchase_link)||""})]})]}),u.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[u.jsx("button",{type:"button",onClick:B,className:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Cancel"}),u.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Save Release"})]})]})]})})]})};var e8=typeof global=="object"&&global&&global.Object===Object&&global,S1e=typeof self=="object"&&self&&self.Object===Object&&self,$i=e8||S1e||Function("return this")(),pa=$i.Symbol,t8=Object.prototype,E1e=t8.hasOwnProperty,j1e=t8.toString,wd=pa?pa.toStringTag:void 0;function N1e(e){var t=E1e.call(e,wd),r=e[wd];try{e[wd]=void 0;var n=!0}catch{}var s=j1e.call(e);return n&&(t?e[wd]=r:delete e[wd]),s}var k1e=Object.prototype,C1e=k1e.toString;function T1e(e){return C1e.call(e)}var A1e="[object Null]",P1e="[object Undefined]",KO=pa?pa.toStringTag:void 0;function Vu(e){return e==null?e===void 0?P1e:A1e:KO&&KO in Object(e)?N1e(e):T1e(e)}function yo(e){return e!=null&&typeof e=="object"}var wl=Array.isArray;function Ca(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function r8(e){return e}var O1e="[object AsyncFunction]",D1e="[object Function]",$1e="[object GeneratorFunction]",R1e="[object Proxy]";function Pj(e){if(!Ca(e))return!1;var t=Vu(e);return t==D1e||t==$1e||t==O1e||t==R1e}var v0=$i["__core-js_shared__"],HO=function(){var e=/[^.]+$/.exec(v0&&v0.keys&&v0.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function I1e(e){return!!HO&&HO in e}var M1e=Function.prototype,L1e=M1e.toString;function Rl(e){if(e!=null){try{return L1e.call(e)}catch{}try{return e+""}catch{}}return""}var F1e=/[\\^$.*+?()[\]{}|]/g,B1e=/^\[object .+?Constructor\]$/,z1e=Function.prototype,U1e=Object.prototype,q1e=z1e.toString,V1e=U1e.hasOwnProperty,W1e=RegExp("^"+q1e.call(V1e).replace(F1e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function K1e(e){if(!Ca(e)||I1e(e))return!1;var t=Pj(e)?W1e:B1e;return t.test(Rl(e))}function H1e(e,t){return e==null?void 0:e[t]}function Il(e,t){var r=H1e(e,t);return K1e(r)?r:void 0}var Uw=Il($i,"WeakMap"),YO=Object.create,Y1e=function(){function e(){}return function(t){if(!Ca(t))return{};if(YO)return YO(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function G1e(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function Z1e(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var X1e=800,J1e=16,Q1e=Date.now;function e_e(e){var t=0,r=0;return function(){var n=Q1e(),s=J1e-(n-r);if(r=n,s>0){if(++t>=X1e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function t_e(e){return function(){return e}}var hg=function(){try{var e=Il(Object,"defineProperty");return e({},"",{}),e}catch{}}(),r_e=hg?function(e,t){return hg(e,"toString",{configurable:!0,enumerable:!1,value:t_e(t),writable:!0})}:r8,n_e=e_e(r_e);function s_e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var i_e=9007199254740991,o_e=/^(?:0|[1-9]\d*)$/;function n8(e,t){var r=typeof e;return t=t??i_e,!!t&&(r=="number"||r!="symbol"&&o_e.test(e))&&e>-1&&e%1==0&&e<t}function Oj(e,t,r){t=="__proto__"&&hg?hg(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function wh(e,t){return e===t||e!==e&&t!==t}var a_e=Object.prototype,l_e=a_e.hasOwnProperty;function s8(e,t,r){var n=e[t];(!(l_e.call(e,t)&&wh(n,r))||r===void 0&&!(t in e))&&Oj(e,t,r)}function c_e(e,t,r,n){var s=!r;r||(r={});for(var i=-1,o=t.length;++i<o;){var a=t[i],l=void 0;l===void 0&&(l=e[a]),s?Oj(r,a,l):s8(r,a,l)}return r}var GO=Math.max;function u_e(e,t,r){return t=GO(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,i=GO(n.length-t,0),o=Array(i);++s<i;)o[s]=n[t+s];s=-1;for(var a=Array(t+1);++s<t;)a[s]=n[s];return a[t]=r(o),G1e(e,this,a)}}function d_e(e,t){return n_e(u_e(e,t,r8),e+"")}var f_e=9007199254740991;function i8(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=f_e}function rv(e){return e!=null&&i8(e.length)&&!Pj(e)}function h_e(e,t,r){if(!Ca(r))return!1;var n=typeof t;return(n=="number"?rv(r)&&n8(t,r.length):n=="string"&&t in r)?wh(r[t],e):!1}function p_e(e){return d_e(function(t,r){var n=-1,s=r.length,i=s>1?r[s-1]:void 0,o=s>2?r[2]:void 0;for(i=e.length>3&&typeof i=="function"?(s--,i):void 0,o&&h_e(r[0],r[1],o)&&(i=s<3?void 0:i,s=1),t=Object(t);++n<s;){var a=r[n];a&&e(t,a,n,i)}return t})}var m_e=Object.prototype;function Dj(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||m_e;return e===r}function g_e(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var y_e="[object Arguments]";function ZO(e){return yo(e)&&Vu(e)==y_e}var o8=Object.prototype,v_e=o8.hasOwnProperty,b_e=o8.propertyIsEnumerable,qw=ZO(function(){return arguments}())?ZO:function(e){return yo(e)&&v_e.call(e,"callee")&&!b_e.call(e,"callee")};function x_e(){return!1}var a8=typeof exports=="object"&&exports&&!exports.nodeType&&exports,XO=a8&&typeof module=="object"&&module&&!module.nodeType&&module,w_e=XO&&XO.exports===a8,JO=w_e?$i.Buffer:void 0,__e=JO?JO.isBuffer:void 0,$f=__e||x_e,S_e="[object Arguments]",E_e="[object Array]",j_e="[object Boolean]",N_e="[object Date]",k_e="[object Error]",C_e="[object Function]",T_e="[object Map]",A_e="[object Number]",P_e="[object Object]",O_e="[object RegExp]",D_e="[object Set]",$_e="[object String]",R_e="[object WeakMap]",I_e="[object ArrayBuffer]",M_e="[object DataView]",L_e="[object Float32Array]",F_e="[object Float64Array]",B_e="[object Int8Array]",z_e="[object Int16Array]",U_e="[object Int32Array]",q_e="[object Uint8Array]",V_e="[object Uint8ClampedArray]",W_e="[object Uint16Array]",K_e="[object Uint32Array]",Ct={};Ct[L_e]=Ct[F_e]=Ct[B_e]=Ct[z_e]=Ct[U_e]=Ct[q_e]=Ct[V_e]=Ct[W_e]=Ct[K_e]=!0;Ct[S_e]=Ct[E_e]=Ct[I_e]=Ct[j_e]=Ct[M_e]=Ct[N_e]=Ct[k_e]=Ct[C_e]=Ct[T_e]=Ct[A_e]=Ct[P_e]=Ct[O_e]=Ct[D_e]=Ct[$_e]=Ct[R_e]=!1;function H_e(e){return yo(e)&&i8(e.length)&&!!Ct[Vu(e)]}function $j(e){return function(t){return e(t)}}var l8=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Xd=l8&&typeof module=="object"&&module&&!module.nodeType&&module,Y_e=Xd&&Xd.exports===l8,b0=Y_e&&e8.process,pu=function(){try{var e=Xd&&Xd.require&&Xd.require("util").types;return e||b0&&b0.binding&&b0.binding("util")}catch{}}(),QO=pu&&pu.isTypedArray,Rj=QO?$j(QO):H_e,G_e=Object.prototype,Z_e=G_e.hasOwnProperty;function c8(e,t){var r=wl(e),n=!r&&qw(e),s=!r&&!n&&$f(e),i=!r&&!n&&!s&&Rj(e),o=r||n||s||i,a=o?g_e(e.length,String):[],l=a.length;for(var c in e)(t||Z_e.call(e,c))&&!(o&&(c=="length"||s&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||n8(c,l)))&&a.push(c);return a}function u8(e,t){return function(r){return e(t(r))}}var X_e=u8(Object.keys,Object),J_e=Object.prototype,Q_e=J_e.hasOwnProperty;function eSe(e){if(!Dj(e))return X_e(e);var t=[];for(var r in Object(e))Q_e.call(e,r)&&r!="constructor"&&t.push(r);return t}function tSe(e){return rv(e)?c8(e):eSe(e)}function rSe(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var nSe=Object.prototype,sSe=nSe.hasOwnProperty;function iSe(e){if(!Ca(e))return rSe(e);var t=Dj(e),r=[];for(var n in e)n=="constructor"&&(t||!sSe.call(e,n))||r.push(n);return r}function d8(e){return rv(e)?c8(e,!0):iSe(e)}var Rf=Il(Object,"create");function oSe(){this.__data__=Rf?Rf(null):{},this.size=0}function aSe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var lSe="__lodash_hash_undefined__",cSe=Object.prototype,uSe=cSe.hasOwnProperty;function dSe(e){var t=this.__data__;if(Rf){var r=t[e];return r===lSe?void 0:r}return uSe.call(t,e)?t[e]:void 0}var fSe=Object.prototype,hSe=fSe.hasOwnProperty;function pSe(e){var t=this.__data__;return Rf?t[e]!==void 0:hSe.call(t,e)}var mSe="__lodash_hash_undefined__";function gSe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Rf&&t===void 0?mSe:t,this}function _l(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}_l.prototype.clear=oSe;_l.prototype.delete=aSe;_l.prototype.get=dSe;_l.prototype.has=pSe;_l.prototype.set=gSe;function ySe(){this.__data__=[],this.size=0}function nv(e,t){for(var r=e.length;r--;)if(wh(e[r][0],t))return r;return-1}var vSe=Array.prototype,bSe=vSe.splice;function xSe(e){var t=this.__data__,r=nv(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():bSe.call(t,r,1),--this.size,!0}function wSe(e){var t=this.__data__,r=nv(t,e);return r<0?void 0:t[r][1]}function _Se(e){return nv(this.__data__,e)>-1}function SSe(e,t){var r=this.__data__,n=nv(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function ko(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ko.prototype.clear=ySe;ko.prototype.delete=xSe;ko.prototype.get=wSe;ko.prototype.has=_Se;ko.prototype.set=SSe;var If=Il($i,"Map");function ESe(){this.size=0,this.__data__={hash:new _l,map:new(If||ko),string:new _l}}function jSe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function sv(e,t){var r=e.__data__;return jSe(t)?r[typeof t=="string"?"string":"hash"]:r.map}function NSe(e){var t=sv(this,e).delete(e);return this.size-=t?1:0,t}function kSe(e){return sv(this,e).get(e)}function CSe(e){return sv(this,e).has(e)}function TSe(e,t){var r=sv(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function Ml(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ml.prototype.clear=ESe;Ml.prototype.delete=NSe;Ml.prototype.get=kSe;Ml.prototype.has=CSe;Ml.prototype.set=TSe;function ASe(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var f8=u8(Object.getPrototypeOf,Object),PSe="[object Object]",OSe=Function.prototype,DSe=Object.prototype,h8=OSe.toString,$Se=DSe.hasOwnProperty,RSe=h8.call(Object);function ISe(e){if(!yo(e)||Vu(e)!=PSe)return!1;var t=f8(e);if(t===null)return!0;var r=$Se.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&h8.call(r)==RSe}function MSe(){this.__data__=new ko,this.size=0}function LSe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function FSe(e){return this.__data__.get(e)}function BSe(e){return this.__data__.has(e)}var zSe=200;function USe(e,t){var r=this.__data__;if(r instanceof ko){var n=r.__data__;if(!If||n.length<zSe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Ml(n)}return r.set(e,t),this.size=r.size,this}function bi(e){var t=this.__data__=new ko(e);this.size=t.size}bi.prototype.clear=MSe;bi.prototype.delete=LSe;bi.prototype.get=FSe;bi.prototype.has=BSe;bi.prototype.set=USe;var p8=typeof exports=="object"&&exports&&!exports.nodeType&&exports,e2=p8&&typeof module=="object"&&module&&!module.nodeType&&module,qSe=e2&&e2.exports===p8,t2=qSe?$i.Buffer:void 0,r2=t2?t2.allocUnsafe:void 0;function m8(e,t){if(t)return e.slice();var r=e.length,n=r2?r2(r):new e.constructor(r);return e.copy(n),n}function VSe(e,t){for(var r=-1,n=e==null?0:e.length,s=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[s++]=o)}return i}function WSe(){return[]}var KSe=Object.prototype,HSe=KSe.propertyIsEnumerable,n2=Object.getOwnPropertySymbols,YSe=n2?function(e){return e==null?[]:(e=Object(e),VSe(n2(e),function(t){return HSe.call(e,t)}))}:WSe;function GSe(e,t,r){var n=t(e);return wl(e)?n:ASe(n,r(e))}function Vw(e){return GSe(e,tSe,YSe)}var Ww=Il($i,"DataView"),Kw=Il($i,"Promise"),Hw=Il($i,"Set"),s2="[object Map]",ZSe="[object Object]",i2="[object Promise]",o2="[object Set]",a2="[object WeakMap]",l2="[object DataView]",XSe=Rl(Ww),JSe=Rl(If),QSe=Rl(Kw),eEe=Rl(Hw),tEe=Rl(Uw),Ms=Vu;(Ww&&Ms(new Ww(new ArrayBuffer(1)))!=l2||If&&Ms(new If)!=s2||Kw&&Ms(Kw.resolve())!=i2||Hw&&Ms(new Hw)!=o2||Uw&&Ms(new Uw)!=a2)&&(Ms=function(e){var t=Vu(e),r=t==ZSe?e.constructor:void 0,n=r?Rl(r):"";if(n)switch(n){case XSe:return l2;case JSe:return s2;case QSe:return i2;case eEe:return o2;case tEe:return a2}return t});var rEe=Object.prototype,nEe=rEe.hasOwnProperty;function sEe(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&nEe.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var pg=$i.Uint8Array;function Ij(e){var t=new e.constructor(e.byteLength);return new pg(t).set(new pg(e)),t}function iEe(e,t){var r=Ij(e.buffer);return new e.constructor(r,e.byteOffset,e.byteLength)}var oEe=/\w*$/;function aEe(e){var t=new e.constructor(e.source,oEe.exec(e));return t.lastIndex=e.lastIndex,t}var c2=pa?pa.prototype:void 0,u2=c2?c2.valueOf:void 0;function lEe(e){return u2?Object(u2.call(e)):{}}function g8(e,t){var r=t?Ij(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var cEe="[object Boolean]",uEe="[object Date]",dEe="[object Map]",fEe="[object Number]",hEe="[object RegExp]",pEe="[object Set]",mEe="[object String]",gEe="[object Symbol]",yEe="[object ArrayBuffer]",vEe="[object DataView]",bEe="[object Float32Array]",xEe="[object Float64Array]",wEe="[object Int8Array]",_Ee="[object Int16Array]",SEe="[object Int32Array]",EEe="[object Uint8Array]",jEe="[object Uint8ClampedArray]",NEe="[object Uint16Array]",kEe="[object Uint32Array]";function CEe(e,t,r){var n=e.constructor;switch(t){case yEe:return Ij(e);case cEe:case uEe:return new n(+e);case vEe:return iEe(e);case bEe:case xEe:case wEe:case _Ee:case SEe:case EEe:case jEe:case NEe:case kEe:return g8(e,r);case dEe:return new n;case fEe:case mEe:return new n(e);case hEe:return aEe(e);case pEe:return new n;case gEe:return lEe(e)}}function y8(e){return typeof e.constructor=="function"&&!Dj(e)?Y1e(f8(e)):{}}var TEe="[object Map]";function AEe(e){return yo(e)&&Ms(e)==TEe}var d2=pu&&pu.isMap,PEe=d2?$j(d2):AEe,OEe="[object Set]";function DEe(e){return yo(e)&&Ms(e)==OEe}var f2=pu&&pu.isSet,$Ee=f2?$j(f2):DEe,REe=1,v8="[object Arguments]",IEe="[object Array]",MEe="[object Boolean]",LEe="[object Date]",FEe="[object Error]",b8="[object Function]",BEe="[object GeneratorFunction]",zEe="[object Map]",UEe="[object Number]",x8="[object Object]",qEe="[object RegExp]",VEe="[object Set]",WEe="[object String]",KEe="[object Symbol]",HEe="[object WeakMap]",YEe="[object ArrayBuffer]",GEe="[object DataView]",ZEe="[object Float32Array]",XEe="[object Float64Array]",JEe="[object Int8Array]",QEe="[object Int16Array]",eje="[object Int32Array]",tje="[object Uint8Array]",rje="[object Uint8ClampedArray]",nje="[object Uint16Array]",sje="[object Uint32Array]",wt={};wt[v8]=wt[IEe]=wt[YEe]=wt[GEe]=wt[MEe]=wt[LEe]=wt[ZEe]=wt[XEe]=wt[JEe]=wt[QEe]=wt[eje]=wt[zEe]=wt[UEe]=wt[x8]=wt[qEe]=wt[VEe]=wt[WEe]=wt[KEe]=wt[tje]=wt[rje]=wt[nje]=wt[sje]=!0;wt[FEe]=wt[b8]=wt[HEe]=!1;function tm(e,t,r,n,s,i){var o,a=t&REe;if(o!==void 0)return o;if(!Ca(e))return e;var l=wl(e);if(l)o=sEe(e);else{var c=Ms(e),d=c==b8||c==BEe;if($f(e))return m8(e,a);if(c==x8||c==v8||d&&!s)o=d?{}:y8(e);else{if(!wt[c])return s?e:{};o=CEe(e,c,a)}}i||(i=new bi);var f=i.get(e);if(f)return f;i.set(e,o),$Ee(e)?e.forEach(function(g){o.add(tm(g,t,r,g,e,i))}):PEe(e)&&e.forEach(function(g,m){o.set(m,tm(g,t,r,m,e,i))});var h=Vw,p=l?void 0:h(e);return s_e(p||e,function(g,m){p&&(m=g,g=e[m]),s8(o,m,tm(g,t,r,m,e,i))}),o}var ije=1,oje=4;function Uc(e){return tm(e,ije|oje)}var aje="__lodash_hash_undefined__";function lje(e){return this.__data__.set(e,aje),this}function cje(e){return this.__data__.has(e)}function mg(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Ml;++t<r;)this.add(e[t])}mg.prototype.add=mg.prototype.push=lje;mg.prototype.has=cje;function uje(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function dje(e,t){return e.has(t)}var fje=1,hje=2;function w8(e,t,r,n,s,i){var o=r&fje,a=e.length,l=t.length;if(a!=l&&!(o&&l>a))return!1;var c=i.get(e),d=i.get(t);if(c&&d)return c==t&&d==e;var f=-1,h=!0,p=r&hje?new mg:void 0;for(i.set(e,t),i.set(t,e);++f<a;){var g=e[f],m=t[f];if(n)var y=o?n(m,g,f,t,e,i):n(g,m,f,e,t,i);if(y!==void 0){if(y)continue;h=!1;break}if(p){if(!uje(t,function(v,b){if(!dje(p,b)&&(g===v||s(g,v,r,n,i)))return p.push(b)})){h=!1;break}}else if(!(g===m||s(g,m,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}function pje(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}function mje(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var gje=1,yje=2,vje="[object Boolean]",bje="[object Date]",xje="[object Error]",wje="[object Map]",_je="[object Number]",Sje="[object RegExp]",Eje="[object Set]",jje="[object String]",Nje="[object Symbol]",kje="[object ArrayBuffer]",Cje="[object DataView]",h2=pa?pa.prototype:void 0,x0=h2?h2.valueOf:void 0;function Tje(e,t,r,n,s,i,o){switch(r){case Cje:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case kje:return!(e.byteLength!=t.byteLength||!i(new pg(e),new pg(t)));case vje:case bje:case _je:return wh(+e,+t);case xje:return e.name==t.name&&e.message==t.message;case Sje:case jje:return e==t+"";case wje:var a=pje;case Eje:var l=n&gje;if(a||(a=mje),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;n|=yje,o.set(e,t);var d=w8(a(e),a(t),n,s,i,o);return o.delete(e),d;case Nje:if(x0)return x0.call(e)==x0.call(t)}return!1}var Aje=1,Pje=Object.prototype,Oje=Pje.hasOwnProperty;function Dje(e,t,r,n,s,i){var o=r&Aje,a=Vw(e),l=a.length,c=Vw(t),d=c.length;if(l!=d&&!o)return!1;for(var f=l;f--;){var h=a[f];if(!(o?h in t:Oje.call(t,h)))return!1}var p=i.get(e),g=i.get(t);if(p&&g)return p==t&&g==e;var m=!0;i.set(e,t),i.set(t,e);for(var y=o;++f<l;){h=a[f];var v=e[h],b=t[h];if(n)var x=o?n(b,v,h,t,e,i):n(v,b,h,e,t,i);if(!(x===void 0?v===b||s(v,b,r,n,i):x)){m=!1;break}y||(y=h=="constructor")}if(m&&!y){var S=e.constructor,_=t.constructor;S!=_&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof _=="function"&&_ instanceof _)&&(m=!1)}return i.delete(e),i.delete(t),m}var $je=1,p2="[object Arguments]",m2="[object Array]",Dp="[object Object]",Rje=Object.prototype,g2=Rje.hasOwnProperty;function Ije(e,t,r,n,s,i){var o=wl(e),a=wl(t),l=o?m2:Ms(e),c=a?m2:Ms(t);l=l==p2?Dp:l,c=c==p2?Dp:c;var d=l==Dp,f=c==Dp,h=l==c;if(h&&$f(e)){if(!$f(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new bi),o||Rj(e)?w8(e,t,r,n,s,i):Tje(e,t,l,r,n,s,i);if(!(r&$je)){var p=d&&g2.call(e,"__wrapped__"),g=f&&g2.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,y=g?t.value():t;return i||(i=new bi),s(m,y,r,n,i)}}return h?(i||(i=new bi),Dje(e,t,r,n,s,i)):!1}function _8(e,t,r,n,s){return e===t?!0:e==null||t==null||!yo(e)&&!yo(t)?e!==e&&t!==t:Ije(e,t,r,n,_8,s)}function Mje(e){return function(t,r,n){for(var s=-1,i=Object(t),o=n(t),a=o.length;a--;){var l=o[++s];if(r(i[l],l,i)===!1)break}return t}}var Lje=Mje();function Yw(e,t,r){(r!==void 0&&!wh(e[t],r)||r===void 0&&!(t in e))&&Oj(e,t,r)}function Fje(e){return yo(e)&&rv(e)}function Gw(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function Bje(e){return c_e(e,d8(e))}function zje(e,t,r,n,s,i,o){var a=Gw(e,r),l=Gw(t,r),c=o.get(l);if(c){Yw(e,r,c);return}var d=i?i(a,l,r+"",e,t,o):void 0,f=d===void 0;if(f){var h=wl(l),p=!h&&$f(l),g=!h&&!p&&Rj(l);d=l,h||p||g?wl(a)?d=a:Fje(a)?d=Z1e(a):p?(f=!1,d=m8(l,!0)):g?(f=!1,d=g8(l,!0)):d=[]:ISe(l)||qw(l)?(d=a,qw(a)?d=Bje(a):(!Ca(a)||Pj(a))&&(d=y8(l))):f=!1}f&&(o.set(l,d),s(d,l,n,i,o),o.delete(l)),Yw(e,r,d)}function S8(e,t,r,n,s){e!==t&&Lje(t,function(i,o){if(s||(s=new bi),Ca(i))zje(e,t,o,r,S8,n,s);else{var a=n?n(Gw(e,o),i,o+"",e,t,s):void 0;a===void 0&&(a=i),Yw(e,o,a)}},d8)}function ea(e,t){return _8(e,t)}var oa=p_e(function(e,t,r){S8(e,t,r)}),Pe=(e=>(e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY",e))(Pe||{});class ki{constructor(t,r,n={}){this.attrName=t,this.keyName=r;const s=Pe.TYPE&Pe.ATTRIBUTE;this.scope=n.scope!=null?n.scope&Pe.LEVEL|s:Pe.ATTRIBUTE,n.whitelist!=null&&(this.whitelist=n.whitelist)}static keys(t){return Array.from(t.attributes).map(r=>r.name)}add(t,r){return this.canAdd(t,r)?(t.setAttribute(this.keyName,r),!0):!1}canAdd(t,r){return this.whitelist==null?!0:typeof r=="string"?this.whitelist.indexOf(r.replace(/["']/g,""))>-1:this.whitelist.indexOf(r)>-1}remove(t){t.removeAttribute(this.keyName)}value(t){const r=t.getAttribute(this.keyName);return this.canAdd(t,r)&&r?r:""}}class qc extends Error{constructor(t){t="[Parchment] "+t,super(t),this.message=t,this.name=this.constructor.name}}const E8=class Zw{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(t,r=!1){if(t==null)return null;if(this.blots.has(t))return this.blots.get(t)||null;if(r){let n=null;try{n=t.parentNode}catch{return null}return this.find(n,r)}return null}create(t,r,n){const s=this.query(r);if(s==null)throw new qc(`Unable to create ${r} blot`);const i=s,o=r instanceof Node||r.nodeType===Node.TEXT_NODE?r:i.create(n),a=new i(t,o,n);return Zw.blots.set(a.domNode,a),a}find(t,r=!1){return Zw.find(t,r)}query(t,r=Pe.ANY){let n;return typeof t=="string"?n=this.types[t]||this.attributes[t]:t instanceof Text||t.nodeType===Node.TEXT_NODE?n=this.types.text:typeof t=="number"?t&Pe.LEVEL&Pe.BLOCK?n=this.types.block:t&Pe.LEVEL&Pe.INLINE&&(n=this.types.inline):t instanceof Element&&((t.getAttribute("class")||"").split(/\s+/).some(s=>(n=this.classes[s],!!n)),n=n||this.tags[t.tagName]),n==null?null:"scope"in n&&r&Pe.LEVEL&n.scope&&r&Pe.TYPE&n.scope?n:null}register(...t){return t.map(r=>{const n="blotName"in r,s="attrName"in r;if(!n&&!s)throw new qc("Invalid definition");if(n&&r.blotName==="abstract")throw new qc("Cannot register abstract class");const i=n?r.blotName:s?r.attrName:void 0;return this.types[i]=r,s?typeof r.keyName=="string"&&(this.attributes[r.keyName]=r):n&&(r.className&&(this.classes[r.className]=r),r.tagName&&(Array.isArray(r.tagName)?r.tagName=r.tagName.map(o=>o.toUpperCase()):r.tagName=r.tagName.toUpperCase(),(Array.isArray(r.tagName)?r.tagName:[r.tagName]).forEach(o=>{(this.tags[o]==null||r.className==null)&&(this.tags[o]=r)}))),r})}};E8.blots=new WeakMap;let mu=E8;function y2(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter(r=>r.indexOf(`${t}-`)===0)}class Uje extends ki{static keys(t){return(t.getAttribute("class")||"").split(/\s+/).map(r=>r.split("-").slice(0,-1).join("-"))}add(t,r){return this.canAdd(t,r)?(this.remove(t),t.classList.add(`${this.keyName}-${r}`),!0):!1}remove(t){y2(t,this.keyName).forEach(r=>{t.classList.remove(r)}),t.classList.length===0&&t.removeAttribute("class")}value(t){const r=(y2(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,r)?r:""}}const Js=Uje;function w0(e){const t=e.split("-"),r=t.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("");return t[0]+r}class qje extends ki{static keys(t){return(t.getAttribute("style")||"").split(";").map(r=>r.split(":")[0].trim())}add(t,r){return this.canAdd(t,r)?(t.style[w0(this.keyName)]=r,!0):!1}remove(t){t.style[w0(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")}value(t){const r=t.style[w0(this.keyName)];return this.canAdd(t,r)?r:""}}const Ta=qje;class Vje{constructor(t){this.attributes={},this.domNode=t,this.build()}attribute(t,r){r?t.add(this.domNode,r)&&(t.value(this.domNode)!=null?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])}build(){this.attributes={};const t=mu.find(this.domNode);if(t==null)return;const r=ki.keys(this.domNode),n=Js.keys(this.domNode),s=Ta.keys(this.domNode);r.concat(n).concat(s).forEach(i=>{const o=t.scroll.query(i,Pe.ATTRIBUTE);o instanceof ki&&(this.attributes[o.attrName]=o)})}copy(t){Object.keys(this.attributes).forEach(r=>{const n=this.attributes[r].value(this.domNode);t.format(r,n)})}move(t){this.copy(t),Object.keys(this.attributes).forEach(r=>{this.attributes[r].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((t,r)=>(t[r]=this.attributes[r].value(this.domNode),t),{})}}const iv=Vje,j8=class{constructor(t,r){this.scroll=t,this.domNode=r,mu.blots.set(r,this),this.prev=null,this.next=null}static create(t){if(this.tagName==null)throw new qc("Blot definition missing tagName");let r,n;return Array.isArray(this.tagName)?(typeof t=="string"?(n=t.toUpperCase(),parseInt(n,10).toString()===n&&(n=parseInt(n,10))):typeof t=="number"&&(n=t),typeof n=="number"?r=document.createElement(this.tagName[n-1]):n&&this.tagName.indexOf(n)>-1?r=document.createElement(n):r=document.createElement(this.tagName[0])):r=document.createElement(this.tagName),this.className&&r.classList.add(this.className),r}get statics(){return this.constructor}attach(){}clone(){const t=this.domNode.cloneNode(!1);return this.scroll.create(t)}detach(){this.parent!=null&&this.parent.removeChild(this),mu.blots.delete(this.domNode)}deleteAt(t,r){this.isolate(t,r).remove()}formatAt(t,r,n,s){const i=this.isolate(t,r);if(this.scroll.query(n,Pe.BLOT)!=null&&s)i.wrap(n,s);else if(this.scroll.query(n,Pe.ATTRIBUTE)!=null){const o=this.scroll.create(this.statics.scope);i.wrap(o),o.format(n,s)}}insertAt(t,r,n){const s=n==null?this.scroll.create("text",r):this.scroll.create(r,n),i=this.split(t);this.parent.insertBefore(s,i||void 0)}isolate(t,r){const n=this.split(t);if(n==null)throw new Error("Attempt to isolate at end");return n.split(r),n}length(){return 1}offset(t=this.parent){return this.parent==null||this===t?0:this.parent.children.offset(this)+this.parent.offset(t)}optimize(t){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(t,r){const n=typeof t=="string"?this.scroll.create(t,r):t;return this.parent!=null&&(this.parent.insertBefore(n,this.next||void 0),this.remove()),n}split(t,r){return t===0?this:this.next}update(t,r){}wrap(t,r){const n=typeof t=="string"?this.scroll.create(t,r):t;if(this.parent!=null&&this.parent.insertBefore(n,this.next||void 0),typeof n.appendChild!="function")throw new qc(`Cannot wrap ${t}`);return n.appendChild(this),n}};j8.blotName="abstract";let N8=j8;const k8=class extends N8{static value(t){return!0}index(t,r){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(r,1):-1}position(t,r){let n=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return t>0&&(n+=1),[this.parent.domNode,n]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};k8.scope=Pe.INLINE_BLOT;let Wje=k8;const Gr=Wje;class Kje{constructor(){this.head=null,this.tail=null,this.length=0}append(...t){if(this.insertBefore(t[0],null),t.length>1){const r=t.slice(1);this.append(...r)}}at(t){const r=this.iterator();let n=r();for(;n&&t>0;)t-=1,n=r();return n}contains(t){const r=this.iterator();let n=r();for(;n;){if(n===t)return!0;n=r()}return!1}indexOf(t){const r=this.iterator();let n=r(),s=0;for(;n;){if(n===t)return s;s+=1,n=r()}return-1}insertBefore(t,r){t!=null&&(this.remove(t),t.next=r,r!=null?(t.prev=r.prev,r.prev!=null&&(r.prev.next=t),r.prev=t,r===this.head&&(this.head=t)):this.tail!=null?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)}offset(t){let r=0,n=this.head;for(;n!=null;){if(n===t)return r;r+=n.length(),n=n.next}return-1}remove(t){this.contains(t)&&(t.prev!=null&&(t.prev.next=t.next),t.next!=null&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)}iterator(t=this.head){return()=>{const r=t;return t!=null&&(t=t.next),r}}find(t,r=!1){const n=this.iterator();let s=n();for(;s;){const i=s.length();if(t<i||r&&t===i&&(s.next==null||s.next.length()!==0))return[s,t];t-=i,s=n()}return[null,0]}forEach(t){const r=this.iterator();let n=r();for(;n;)t(n),n=r()}forEachAt(t,r,n){if(r<=0)return;const[s,i]=this.find(t);let o=t-i;const a=this.iterator(s);let l=a();for(;l&&o<t+r;){const c=l.length();t>o?n(l,t-o,Math.min(r,o+c-t)):n(l,0,Math.min(c,t+r-o)),o+=c,l=a()}}map(t){return this.reduce((r,n)=>(r.push(t(n)),r),[])}reduce(t,r){const n=this.iterator();let s=n();for(;s;)r=t(r,s),s=n();return r}}function v2(e,t){const r=t.find(e);if(r)return r;try{return t.create(e)}catch{const n=t.create(Pe.INLINE);return Array.from(e.childNodes).forEach(s=>{n.domNode.appendChild(s)}),e.parentNode&&e.parentNode.replaceChild(n.domNode,e),n.attach(),n}}const C8=class Ho extends N8{constructor(t,r){super(t,r),this.uiNode=null,this.build()}appendChild(t){this.insertBefore(t)}attach(){super.attach(),this.children.forEach(t=>{t.attach()})}attachUI(t){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=t,Ho.uiClass&&this.uiNode.classList.add(Ho.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new Kje,Array.from(this.domNode.childNodes).filter(t=>t!==this.uiNode).reverse().forEach(t=>{try{const r=v2(t,this.scroll);this.insertBefore(r,this.children.head||void 0)}catch(r){if(r instanceof qc)return;throw r}})}deleteAt(t,r){if(t===0&&r===this.length())return this.remove();this.children.forEachAt(t,r,(n,s,i)=>{n.deleteAt(s,i)})}descendant(t,r=0){const[n,s]=this.children.find(r);return t.blotName==null&&t(n)||t.blotName!=null&&n instanceof t?[n,s]:n instanceof Ho?n.descendant(t,s):[null,-1]}descendants(t,r=0,n=Number.MAX_VALUE){let s=[],i=n;return this.children.forEachAt(r,n,(o,a,l)=>{(t.blotName==null&&t(o)||t.blotName!=null&&o instanceof t)&&s.push(o),o instanceof Ho&&(s=s.concat(o.descendants(t,a,i))),i-=l}),s}detach(){this.children.forEach(t=>{t.detach()}),super.detach()}enforceAllowedChildren(){let t=!1;this.children.forEach(r=>{t||this.statics.allowedChildren.some(n=>r instanceof n)||(r.statics.scope===Pe.BLOCK_BLOT?(r.next!=null&&this.splitAfter(r),r.prev!=null&&this.splitAfter(r.prev),r.parent.unwrap(),t=!0):r instanceof Ho?r.unwrap():r.remove())})}formatAt(t,r,n,s){this.children.forEachAt(t,r,(i,o,a)=>{i.formatAt(o,a,n,s)})}insertAt(t,r,n){const[s,i]=this.children.find(t);if(s)s.insertAt(i,r,n);else{const o=n==null?this.scroll.create("text",r):this.scroll.create(r,n);this.appendChild(o)}}insertBefore(t,r){t.parent!=null&&t.parent.children.remove(t);let n=null;this.children.insertBefore(t,r||null),t.parent=this,r!=null&&(n=r.domNode),(this.domNode.parentNode!==t.domNode||this.domNode.nextSibling!==n)&&this.domNode.insertBefore(t.domNode,n),t.attach()}length(){return this.children.reduce((t,r)=>t+r.length(),0)}moveChildren(t,r){this.children.forEach(n=>{t.insertBefore(n,r)})}optimize(t){if(super.optimize(t),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const r=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(r)}else this.remove()}path(t,r=!1){const[n,s]=this.children.find(t,r),i=[[this,t]];return n instanceof Ho?i.concat(n.path(s,r)):(n!=null&&i.push([n,s]),i)}removeChild(t){this.children.remove(t)}replaceWith(t,r){const n=typeof t=="string"?this.scroll.create(t,r):t;return n instanceof Ho&&this.moveChildren(n),super.replaceWith(n)}split(t,r=!1){if(!r){if(t===0)return this;if(t===this.length())return this.next}const n=this.clone();return this.parent&&this.parent.insertBefore(n,this.next||void 0),this.children.forEachAt(t,this.length(),(s,i,o)=>{const a=s.split(i,r);a!=null&&n.appendChild(a)}),n}splitAfter(t){const r=this.clone();for(;t.next!=null;)r.appendChild(t.next);return this.parent&&this.parent.insertBefore(r,this.next||void 0),r}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(t,r){const n=[],s=[];t.forEach(i=>{i.target===this.domNode&&i.type==="childList"&&(n.push(...i.addedNodes),s.push(...i.removedNodes))}),s.forEach(i=>{if(i.parentNode!=null&&i.tagName!=="IFRAME"&&document.body.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const o=this.scroll.find(i);o!=null&&(o.domNode.parentNode==null||o.domNode.parentNode===this.domNode)&&o.detach()}),n.filter(i=>i.parentNode===this.domNode&&i!==this.uiNode).sort((i,o)=>i===o?0:i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(i=>{let o=null;i.nextSibling!=null&&(o=this.scroll.find(i.nextSibling));const a=v2(i,this.scroll);(a.next!==o||a.next==null)&&(a.parent!=null&&a.parent.removeChild(this),this.insertBefore(a,o||void 0))}),this.enforceAllowedChildren()}};C8.uiClass="";let Hje=C8;const qs=Hje;function Yje(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}const oc=class ac extends qs{static create(t){return super.create(t)}static formats(t,r){const n=r.query(ac.blotName);if(!(n!=null&&t.tagName===n.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,r){super(t,r),this.attributes=new iv(this.domNode)}format(t,r){if(t===this.statics.blotName&&!r)this.children.forEach(n=>{n instanceof ac||(n=n.wrap(ac.blotName,!0)),this.attributes.copy(n)}),this.unwrap();else{const n=this.scroll.query(t,Pe.INLINE);if(n==null)return;n instanceof ki?this.attributes.attribute(n,r):r&&(t!==this.statics.blotName||this.formats()[t]!==r)&&this.replaceWith(t,r)}}formats(){const t=this.attributes.values(),r=this.statics.formats(this.domNode,this.scroll);return r!=null&&(t[this.statics.blotName]=r),t}formatAt(t,r,n,s){this.formats()[n]!=null||this.scroll.query(n,Pe.ATTRIBUTE)?this.isolate(t,r).format(n,s):super.formatAt(t,r,n,s)}optimize(t){super.optimize(t);const r=this.formats();if(Object.keys(r).length===0)return this.unwrap();const n=this.next;n instanceof ac&&n.prev===this&&Yje(r,n.formats())&&(n.moveChildren(this),n.remove())}replaceWith(t,r){const n=super.replaceWith(t,r);return this.attributes.copy(n),n}update(t,r){super.update(t,r),t.some(n=>n.target===this.domNode&&n.type==="attributes")&&this.attributes.build()}wrap(t,r){const n=super.wrap(t,r);return n instanceof ac&&this.attributes.move(n),n}};oc.allowedChildren=[oc,Gr],oc.blotName="inline",oc.scope=Pe.INLINE_BLOT,oc.tagName="SPAN";let Gje=oc;const Mj=Gje,lc=class Xw extends qs{static create(t){return super.create(t)}static formats(t,r){const n=r.query(Xw.blotName);if(!(n!=null&&t.tagName===n.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,r){super(t,r),this.attributes=new iv(this.domNode)}format(t,r){const n=this.scroll.query(t,Pe.BLOCK);n!=null&&(n instanceof ki?this.attributes.attribute(n,r):t===this.statics.blotName&&!r?this.replaceWith(Xw.blotName):r&&(t!==this.statics.blotName||this.formats()[t]!==r)&&this.replaceWith(t,r))}formats(){const t=this.attributes.values(),r=this.statics.formats(this.domNode,this.scroll);return r!=null&&(t[this.statics.blotName]=r),t}formatAt(t,r,n,s){this.scroll.query(n,Pe.BLOCK)!=null?this.format(n,s):super.formatAt(t,r,n,s)}insertAt(t,r,n){if(n==null||this.scroll.query(r,Pe.INLINE)!=null)super.insertAt(t,r,n);else{const s=this.split(t);if(s!=null){const i=this.scroll.create(r,n);s.parent.insertBefore(i,s)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(t,r){const n=super.replaceWith(t,r);return this.attributes.copy(n),n}update(t,r){super.update(t,r),t.some(n=>n.target===this.domNode&&n.type==="attributes")&&this.attributes.build()}};lc.blotName="block",lc.scope=Pe.BLOCK_BLOT,lc.tagName="P",lc.allowedChildren=[Mj,lc,Gr];let Zje=lc;const Mf=Zje,Jw=class extends qs{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(t,r){super.deleteAt(t,r),this.enforceAllowedChildren()}formatAt(t,r,n,s){super.formatAt(t,r,n,s),this.enforceAllowedChildren()}insertAt(t,r,n){super.insertAt(t,r,n),this.enforceAllowedChildren()}optimize(t){super.optimize(t),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};Jw.blotName="container",Jw.scope=Pe.BLOCK_BLOT;let Xje=Jw;const ov=Xje;class Jje extends Gr{static formats(t,r){}format(t,r){super.formatAt(0,this.length(),t,r)}formatAt(t,r,n,s){t===0&&r===this.length()?this.format(n,s):super.formatAt(t,r,n,s)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const Vn=Jje,Qje={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},eNe=100,cc=class extends qs{constructor(t,r){super(null,r),this.registry=t,this.scroll=this,this.build(),this.observer=new MutationObserver(n=>{this.update(n)}),this.observer.observe(this.domNode,Qje),this.attach()}create(t,r){return this.registry.create(this,t,r)}find(t,r=!1){const n=this.registry.find(t,r);return n?n.scroll===this?n:r?this.find(n.scroll.domNode.parentNode,!0):null:null}query(t,r=Pe.ANY){return this.registry.query(t,r)}register(...t){return this.registry.register(...t)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(t,r){this.update(),t===0&&r===this.length()?this.children.forEach(n=>{n.remove()}):super.deleteAt(t,r)}formatAt(t,r,n,s){this.update(),super.formatAt(t,r,n,s)}insertAt(t,r,n){this.update(),super.insertAt(t,r,n)}optimize(t=[],r={}){super.optimize(r);const n=r.mutationsMap||new WeakMap;let s=Array.from(this.observer.takeRecords());for(;s.length>0;)t.push(s.pop());const i=(l,c=!0)=>{l==null||l===this||l.domNode.parentNode!=null&&(n.has(l.domNode)||n.set(l.domNode,[]),c&&i(l.parent))},o=l=>{n.has(l.domNode)&&(l instanceof qs&&l.children.forEach(o),n.delete(l.domNode),l.optimize(r))};let a=t;for(let l=0;a.length>0;l+=1){if(l>=eNe)throw new Error("[Parchment] Maximum optimize iterations reached");for(a.forEach(c=>{const d=this.find(c.target,!0);d!=null&&(d.domNode===c.target&&(c.type==="childList"?(i(this.find(c.previousSibling,!1)),Array.from(c.addedNodes).forEach(f=>{const h=this.find(f,!1);i(h,!1),h instanceof qs&&h.children.forEach(p=>{i(p,!1)})})):c.type==="attributes"&&i(d.prev)),i(d))}),this.children.forEach(o),a=Array.from(this.observer.takeRecords()),s=a.slice();s.length>0;)t.push(s.pop())}}update(t,r={}){t=t||this.observer.takeRecords();const n=new WeakMap;t.map(s=>{const i=this.find(s.target,!0);return i==null?null:n.has(i.domNode)?(n.get(i.domNode).push(s),null):(n.set(i.domNode,[s]),i)}).forEach(s=>{s!=null&&s!==this&&n.has(s.domNode)&&s.update(n.get(s.domNode)||[],r)}),r.mutationsMap=n,n.has(this.domNode)&&super.update(n.get(this.domNode),r),this.optimize(t,r)}};cc.blotName="scroll",cc.defaultChild=Mf,cc.allowedChildren=[Mf,ov],cc.scope=Pe.BLOCK_BLOT,cc.tagName="DIV";let tNe=cc;const Lj=tNe,Qw=class T8 extends Gr{static create(t){return document.createTextNode(t)}static value(t){return t.data}constructor(t,r){super(t,r),this.text=this.statics.value(this.domNode)}deleteAt(t,r){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+r)}index(t,r){return this.domNode===t?r:-1}insertAt(t,r,n){n==null?(this.text=this.text.slice(0,t)+r+this.text.slice(t),this.domNode.data=this.text):super.insertAt(t,r,n)}length(){return this.text.length}optimize(t){super.optimize(t),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof T8&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(t,r=!1){return[this.domNode,t]}split(t,r=!1){if(!r){if(t===0)return this;if(t===this.length())return this.next}const n=this.scroll.create(this.domNode.splitText(t));return this.parent.insertBefore(n,this.next||void 0),this.text=this.statics.value(this.domNode),n}update(t,r){t.some(n=>n.type==="characterData"&&n.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};Qw.blotName="text",Qw.scope=Pe.INLINE_BLOT;let rNe=Qw;const gg=rNe,nNe=Object.freeze(Object.defineProperty({__proto__:null,Attributor:ki,AttributorStore:iv,BlockBlot:Mf,ClassAttributor:Js,ContainerBlot:ov,EmbedBlot:Vn,InlineBlot:Mj,LeafBlot:Gr,ParentBlot:qs,Registry:mu,Scope:Pe,ScrollBlot:Lj,StyleAttributor:Ta,TextBlot:gg},Symbol.toStringTag,{value:"Module"}));var e1={exports:{}},Fn=-1,un=1,yr=0;function Lf(e,t,r,n,s){if(e===t)return e?[[yr,e]]:[];if(r!=null){var i=fNe(e,t,r);if(i)return i}var o=Fj(e,t),a=e.substring(0,o);e=e.substring(o),t=t.substring(o),o=av(e,t);var l=e.substring(e.length-o);e=e.substring(0,e.length-o),t=t.substring(0,t.length-o);var c=sNe(e,t);return a&&c.unshift([yr,a]),l&&c.push([yr,l]),Bj(c,s),n&&aNe(c),c}function sNe(e,t){var r;if(!e)return[[un,t]];if(!t)return[[Fn,e]];var n=e.length>t.length?e:t,s=e.length>t.length?t:e,i=n.indexOf(s);if(i!==-1)return r=[[un,n.substring(0,i)],[yr,s],[un,n.substring(i+s.length)]],e.length>t.length&&(r[0][0]=r[2][0]=Fn),r;if(s.length===1)return[[Fn,e],[un,t]];var o=oNe(e,t);if(o){var a=o[0],l=o[1],c=o[2],d=o[3],f=o[4],h=Lf(a,c),p=Lf(l,d);return h.concat([[yr,f]],p)}return iNe(e,t)}function iNe(e,t){for(var r=e.length,n=t.length,s=Math.ceil((r+n)/2),i=s,o=2*s,a=new Array(o),l=new Array(o),c=0;c<o;c++)a[c]=-1,l[c]=-1;a[i+1]=0,l[i+1]=0;for(var d=r-n,f=d%2!==0,h=0,p=0,g=0,m=0,y=0;y<s;y++){for(var v=-y+h;v<=y-p;v+=2){var b=i+v,x;v===-y||v!==y&&a[b-1]<a[b+1]?x=a[b+1]:x=a[b-1]+1;for(var S=x-v;x<r&&S<n&&e.charAt(x)===t.charAt(S);)x++,S++;if(a[b]=x,x>r)p+=2;else if(S>n)h+=2;else if(f){var _=i+d-v;if(_>=0&&_<o&&l[_]!==-1){var N=r-l[_];if(x>=N)return b2(e,t,x,S)}}}for(var k=-y+g;k<=y-m;k+=2){var _=i+k,N;k===-y||k!==y&&l[_-1]<l[_+1]?N=l[_+1]:N=l[_-1]+1;for(var C=N-k;N<r&&C<n&&e.charAt(r-N-1)===t.charAt(n-C-1);)N++,C++;if(l[_]=N,N>r)m+=2;else if(C>n)g+=2;else if(!f){var b=i+d-k;if(b>=0&&b<o&&a[b]!==-1){var x=a[b],S=i+x-b;if(N=r-N,x>=N)return b2(e,t,x,S)}}}}return[[Fn,e],[un,t]]}function b2(e,t,r,n){var s=e.substring(0,r),i=t.substring(0,n),o=e.substring(r),a=t.substring(n),l=Lf(s,i),c=Lf(o,a);return l.concat(c)}function Fj(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;for(var r=0,n=Math.min(e.length,t.length),s=n,i=0;r<s;)e.substring(i,s)==t.substring(i,s)?(r=s,i=r):n=s,s=Math.floor((n-r)/2+r);return A8(e.charCodeAt(s-1))&&s--,s}function x2(e,t){var r=e.length,n=t.length;if(r==0||n==0)return 0;r>n?e=e.substring(r-n):r<n&&(t=t.substring(0,r));var s=Math.min(r,n);if(e==t)return s;for(var i=0,o=1;;){var a=e.substring(s-o),l=t.indexOf(a);if(l==-1)return i;o+=l,(l==0||e.substring(s-o)==t.substring(0,o))&&(i=o,o++)}}function av(e,t){if(!e||!t||e.slice(-1)!==t.slice(-1))return 0;for(var r=0,n=Math.min(e.length,t.length),s=n,i=0;r<s;)e.substring(e.length-s,e.length-i)==t.substring(t.length-s,t.length-i)?(r=s,i=r):n=s,s=Math.floor((n-r)/2+r);return P8(e.charCodeAt(e.length-s))&&s--,s}function oNe(e,t){var r=e.length>t.length?e:t,n=e.length>t.length?t:e;if(r.length<4||n.length*2<r.length)return null;function s(p,g,m){for(var y=p.substring(m,m+Math.floor(p.length/4)),v=-1,b="",x,S,_,N;(v=g.indexOf(y,v+1))!==-1;){var k=Fj(p.substring(m),g.substring(v)),C=av(p.substring(0,m),g.substring(0,v));b.length<C+k&&(b=g.substring(v-C,v)+g.substring(v,v+k),x=p.substring(0,m-C),S=p.substring(m+k),_=g.substring(0,v-C),N=g.substring(v+k))}return b.length*2>=p.length?[x,S,_,N,b]:null}var i=s(r,n,Math.ceil(r.length/4)),o=s(r,n,Math.ceil(r.length/2)),a;if(!i&&!o)return null;o?i?a=i[4].length>o[4].length?i:o:a=o:a=i;var l,c,d,f;e.length>t.length?(l=a[0],c=a[1],d=a[2],f=a[3]):(d=a[0],f=a[1],l=a[2],c=a[3]);var h=a[4];return[l,c,d,f,h]}function aNe(e){for(var t=!1,r=[],n=0,s=null,i=0,o=0,a=0,l=0,c=0;i<e.length;)e[i][0]==yr?(r[n++]=i,o=l,a=c,l=0,c=0,s=e[i][1]):(e[i][0]==un?l+=e[i][1].length:c+=e[i][1].length,s&&s.length<=Math.max(o,a)&&s.length<=Math.max(l,c)&&(e.splice(r[n-1],0,[Fn,s]),e[r[n-1]+1][0]=un,n--,n--,i=n>0?r[n-1]:-1,o=0,a=0,l=0,c=0,s=null,t=!0)),i++;for(t&&Bj(e),uNe(e),i=1;i<e.length;){if(e[i-1][0]==Fn&&e[i][0]==un){var d=e[i-1][1],f=e[i][1],h=x2(d,f),p=x2(f,d);h>=p?(h>=d.length/2||h>=f.length/2)&&(e.splice(i,0,[yr,f.substring(0,h)]),e[i-1][1]=d.substring(0,d.length-h),e[i+1][1]=f.substring(h),i++):(p>=d.length/2||p>=f.length/2)&&(e.splice(i,0,[yr,d.substring(0,p)]),e[i-1][0]=un,e[i-1][1]=f.substring(0,f.length-p),e[i+1][0]=Fn,e[i+1][1]=d.substring(p),i++),i++}i++}}var w2=/[^a-zA-Z0-9]/,_2=/\s/,S2=/[\r\n]/,lNe=/\n\r?\n$/,cNe=/^\r?\n\r?\n/;function uNe(e){function t(p,g){if(!p||!g)return 6;var m=p.charAt(p.length-1),y=g.charAt(0),v=m.match(w2),b=y.match(w2),x=v&&m.match(_2),S=b&&y.match(_2),_=x&&m.match(S2),N=S&&y.match(S2),k=_&&p.match(lNe),C=N&&g.match(cNe);return k||C?5:_||N?4:v&&!x&&S?3:x||S?2:v||b?1:0}for(var r=1;r<e.length-1;){if(e[r-1][0]==yr&&e[r+1][0]==yr){var n=e[r-1][1],s=e[r][1],i=e[r+1][1],o=av(n,s);if(o){var a=s.substring(s.length-o);n=n.substring(0,n.length-o),s=a+s.substring(0,s.length-o),i=a+i}for(var l=n,c=s,d=i,f=t(n,s)+t(s,i);s.charAt(0)===i.charAt(0);){n+=s.charAt(0),s=s.substring(1)+i.charAt(0),i=i.substring(1);var h=t(n,s)+t(s,i);h>=f&&(f=h,l=n,c=s,d=i)}e[r-1][1]!=l&&(l?e[r-1][1]=l:(e.splice(r-1,1),r--),e[r][1]=c,d?e[r+1][1]=d:(e.splice(r+1,1),r--))}r++}}function Bj(e,t){e.push([yr,""]);for(var r=0,n=0,s=0,i="",o="",a;r<e.length;){if(r<e.length-1&&!e[r][1]){e.splice(r,1);continue}switch(e[r][0]){case un:s++,o+=e[r][1],r++;break;case Fn:n++,i+=e[r][1],r++;break;case yr:var l=r-s-n-1;if(t){if(l>=0&&D8(e[l][1])){var c=e[l][1].slice(-1);if(e[l][1]=e[l][1].slice(0,-1),i=c+i,o=c+o,!e[l][1]){e.splice(l,1),r--;var d=l-1;e[d]&&e[d][0]===un&&(s++,o=e[d][1]+o,d--),e[d]&&e[d][0]===Fn&&(n++,i=e[d][1]+i,d--),l=d}}if(O8(e[r][1])){var c=e[r][1].charAt(0);e[r][1]=e[r][1].slice(1),i+=c,o+=c}}if(r<e.length-1&&!e[r][1]){e.splice(r,1);break}if(i.length>0||o.length>0){i.length>0&&o.length>0&&(a=Fj(o,i),a!==0&&(l>=0?e[l][1]+=o.substring(0,a):(e.splice(0,0,[yr,o.substring(0,a)]),r++),o=o.substring(a),i=i.substring(a)),a=av(o,i),a!==0&&(e[r][1]=o.substring(o.length-a)+e[r][1],o=o.substring(0,o.length-a),i=i.substring(0,i.length-a)));var f=s+n;i.length===0&&o.length===0?(e.splice(r-f,f),r=r-f):i.length===0?(e.splice(r-f,f,[un,o]),r=r-f+1):o.length===0?(e.splice(r-f,f,[Fn,i]),r=r-f+1):(e.splice(r-f,f,[Fn,i],[un,o]),r=r-f+2)}r!==0&&e[r-1][0]===yr?(e[r-1][1]+=e[r][1],e.splice(r,1)):r++,s=0,n=0,i="",o="";break}}e[e.length-1][1]===""&&e.pop();var h=!1;for(r=1;r<e.length-1;)e[r-1][0]===yr&&e[r+1][0]===yr&&(e[r][1].substring(e[r][1].length-e[r-1][1].length)===e[r-1][1]?(e[r][1]=e[r-1][1]+e[r][1].substring(0,e[r][1].length-e[r-1][1].length),e[r+1][1]=e[r-1][1]+e[r+1][1],e.splice(r-1,1),h=!0):e[r][1].substring(0,e[r+1][1].length)==e[r+1][1]&&(e[r-1][1]+=e[r+1][1],e[r][1]=e[r][1].substring(e[r+1][1].length)+e[r+1][1],e.splice(r+1,1),h=!0)),r++;h&&Bj(e,t)}function A8(e){return e>=55296&&e<=56319}function P8(e){return e>=56320&&e<=57343}function O8(e){return P8(e.charCodeAt(0))}function D8(e){return A8(e.charCodeAt(e.length-1))}function dNe(e){for(var t=[],r=0;r<e.length;r++)e[r][1].length>0&&t.push(e[r]);return t}function _0(e,t,r,n){return D8(e)||O8(n)?null:dNe([[yr,e],[Fn,t],[un,r],[yr,n]])}function fNe(e,t,r){var n=typeof r=="number"?{index:r,length:0}:r.oldRange,s=typeof r=="number"?null:r.newRange,i=e.length,o=t.length;if(n.length===0&&(s===null||s.length===0)){var a=n.index,l=e.slice(0,a),c=e.slice(a),d=s?s.index:null;e:{var f=a+o-i;if(d!==null&&d!==f||f<0||f>o)break e;var h=t.slice(0,f),p=t.slice(f);if(p!==c)break e;var g=Math.min(a,f),m=l.slice(0,g),y=h.slice(0,g);if(m!==y)break e;var v=l.slice(g),b=h.slice(g);return _0(m,v,b,c)}e:{if(d!==null&&d!==a)break e;var x=a,h=t.slice(0,x),p=t.slice(x);if(h!==l)break e;var S=Math.min(i-x,o-x),_=c.slice(c.length-S),N=p.slice(p.length-S);if(_!==N)break e;var v=c.slice(0,c.length-S),b=p.slice(0,p.length-S);return _0(l,v,b,_)}}if(n.length>0&&s&&s.length===0)e:{var m=e.slice(0,n.index),_=e.slice(n.index+n.length),g=m.length,S=_.length;if(o<g+S)break e;var y=t.slice(0,g),N=t.slice(o-S);if(m!==y||_!==N)break e;var v=e.slice(g,i-S),b=t.slice(g,o-S);return _0(m,v,b,_)}return null}function lv(e,t,r,n){return Lf(e,t,r,n,!0)}lv.INSERT=un;lv.DELETE=Fn;lv.EQUAL=yr;var hNe=lv,yg={exports:{}};yg.exports;(function(e,t){var r=200,n="__lodash_hash_undefined__",s=9007199254740991,i="[object Arguments]",o="[object Array]",a="[object Boolean]",l="[object Date]",c="[object Error]",d="[object Function]",f="[object GeneratorFunction]",h="[object Map]",p="[object Number]",g="[object Object]",m="[object Promise]",y="[object RegExp]",v="[object Set]",b="[object String]",x="[object Symbol]",S="[object WeakMap]",_="[object ArrayBuffer]",N="[object DataView]",k="[object Float32Array]",C="[object Float64Array]",A="[object Int8Array]",I="[object Int16Array]",M="[object Int32Array]",L="[object Uint8Array]",D="[object Uint8ClampedArray]",z="[object Uint16Array]",U="[object Uint32Array]",G=/[\\^$.*+?()[\]{}|]/g,q=/\w*$/,Z=/^\[object .+?Constructor\]$/,oe=/^(?:0|[1-9]\d*)$/,$={};$[i]=$[o]=$[_]=$[N]=$[a]=$[l]=$[k]=$[C]=$[A]=$[I]=$[M]=$[h]=$[p]=$[g]=$[y]=$[v]=$[b]=$[x]=$[L]=$[D]=$[z]=$[U]=!0,$[c]=$[d]=$[S]=!1;var B=typeof sr=="object"&&sr&&sr.Object===Object&&sr,X=typeof self=="object"&&self&&self.Object===Object&&self,ae=B||X||Function("return this")(),W=t&&!t.nodeType&&t,K=W&&!0&&e&&!e.nodeType&&e,te=K&&K.exports===W;function re(E,T){return E.set(T[0],T[1]),E}function ue(E,T){return E.add(T),E}function V(E,T){for(var F=-1,se=E?E.length:0;++F<se&&T(E[F],F,E)!==!1;);return E}function H(E,T){for(var F=-1,se=T.length,Ve=E.length;++F<se;)E[Ve+F]=T[F];return E}function ie(E,T,F,se){for(var Ve=-1,$e=E?E.length:0;++Ve<$e;)F=T(F,E[Ve],Ve,E);return F}function O(E,T){for(var F=-1,se=Array(E);++F<E;)se[F]=T(F);return se}function ge(E,T){return E==null?void 0:E[T]}function Ee(E){var T=!1;if(E!=null&&typeof E.toString!="function")try{T=!!(E+"")}catch{}return T}function Be(E){var T=-1,F=Array(E.size);return E.forEach(function(se,Ve){F[++T]=[Ve,se]}),F}function Ue(E,T){return function(F){return E(T(F))}}function et(E){var T=-1,F=Array(E.size);return E.forEach(function(se){F[++T]=se}),F}var bt=Array.prototype,Et=Function.prototype,R=Object.prototype,Y=ae["__core-js_shared__"],Q=function(){var E=/[^.]+$/.exec(Y&&Y.keys&&Y.keys.IE_PROTO||"");return E?"Symbol(src)_1."+E:""}(),ye=Et.toString,he=R.hasOwnProperty,pe=R.toString,_e=RegExp("^"+ye.call(he).replace(G,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Le=te?ae.Buffer:void 0,Ke=ae.Symbol,Mt=ae.Uint8Array,jt=Ue(Object.getPrototypeOf,Object),Or=Object.create,ri=R.propertyIsEnumerable,Wn=bt.splice,Kn=Object.getOwnPropertySymbols,En=Le?Le.isBuffer:void 0,Br=Ue(Object.keys,Object),en=Es(ae,"DataView"),Er=Es(ae,"Map"),ur=Es(ae,"Promise"),tn=Es(ae,"Set"),jn=Es(ae,"WeakMap"),Nn=Es(Object,"create"),Hn=rn(en),ws=rn(Er),Yn=rn(ur),Ri=rn(tn),Gn=rn(jn),kn=Ke?Ke.prototype:void 0,Ao=kn?kn.valueOf:void 0;function Cn(E){var T=-1,F=E?E.length:0;for(this.clear();++T<F;){var se=E[T];this.set(se[0],se[1])}}function Po(){this.__data__=Nn?Nn(null):{}}function _s(E){return this.has(E)&&delete this.__data__[E]}function Ii(E){var T=this.__data__;if(Nn){var F=T[E];return F===n?void 0:F}return he.call(T,E)?T[E]:void 0}function Oo(E){var T=this.__data__;return Nn?T[E]!==void 0:he.call(T,E)}function ni(E,T){var F=this.__data__;return F[E]=Nn&&T===void 0?n:T,this}Cn.prototype.clear=Po,Cn.prototype.delete=_s,Cn.prototype.get=Ii,Cn.prototype.has=Oo,Cn.prototype.set=ni;function le(E){var T=-1,F=E?E.length:0;for(this.clear();++T<F;){var se=E[T];this.set(se[0],se[1])}}function P(){this.__data__=[]}function ne(E){var T=this.__data__,F=zl(T,E);if(F<0)return!1;var se=T.length-1;return F==se?T.pop():Wn.call(T,F,1),!0}function me(E){var T=this.__data__,F=zl(T,E);return F<0?void 0:T[F][1]}function Ce(E){return zl(this.__data__,E)>-1}function He(E,T){var F=this.__data__,se=zl(F,E);return se<0?F.push([E,T]):F[se][1]=T,this}le.prototype.clear=P,le.prototype.delete=ne,le.prototype.get=me,le.prototype.has=Ce,le.prototype.set=He;function Ie(E){var T=-1,F=E?E.length:0;for(this.clear();++T<F;){var se=E[T];this.set(se[0],se[1])}}function Ze(){this.__data__={hash:new Cn,map:new(Er||le),string:new Cn}}function Ge(E){return $a(this,E).delete(E)}function dr(E){return $a(this,E).get(E)}function Nt(E){return $a(this,E).has(E)}function Pt(E,T){return $a(this,E).set(E,T),this}Ie.prototype.clear=Ze,Ie.prototype.delete=Ge,Ie.prototype.get=dr,Ie.prototype.has=Nt,Ie.prototype.set=Pt;function yt(E){this.__data__=new le(E)}function si(){this.__data__=new le}function Ss(E){return this.__data__.delete(E)}function jr(E){return this.__data__.get(E)}function Oa(E){return this.__data__.has(E)}function Zu(E,T){var F=this.__data__;if(F instanceof le){var se=F.__data__;if(!Er||se.length<r-1)return se.push([E,T]),this;F=this.__data__=new Ie(se)}return F.set(E,T),this}yt.prototype.clear=si,yt.prototype.delete=Ss,yt.prototype.get=jr,yt.prototype.has=Oa,yt.prototype.set=Zu;function Do(E,T){var F=ed(E)||ql(E)?O(E.length,String):[],se=F.length,Ve=!!se;for(var $e in E)he.call(E,$e)&&!(Ve&&($e=="length"||Bv($e,se)))&&F.push($e);return F}function Rh(E,T,F){var se=E[T];(!(he.call(E,T)&&Bh(se,F))||F===void 0&&!(T in E))&&(E[T]=F)}function zl(E,T){for(var F=E.length;F--;)if(Bh(E[F][0],T))return F;return-1}function ii(E,T){return E&&Qu(T,rd(T),E)}function Xu(E,T,F,se,Ve,$e,st){var tt;if(se&&(tt=$e?se(E,Ve,$e,st):se(E)),tt!==void 0)return tt;if(!ai(E))return E;var tr=ed(E);if(tr){if(tt=Lv(E),!T)return Rv(E,tt)}else{var at=Li(E),zr=at==d||at==f;if(zh(E))return Ul(E,T);if(at==g||at==i||zr&&!$e){if(Ee(E))return $e?E:{};if(tt=oi(zr?{}:E),!T)return Iv(E,ii(tt,E))}else{if(!$[at])return $e?E:{};tt=Fv(E,at,Xu,T)}}st||(st=new yt);var hn=st.get(E);if(hn)return hn;if(st.set(E,tt),!tr)var fr=F?Mv(E):rd(E);return V(fr||E,function(Ur,Dr){fr&&(Dr=Ur,Ur=E[Dr]),Rh(tt,Dr,Xu(Ur,T,F,se,Dr,E,st))}),tt}function kv(E){return ai(E)?Or(E):{}}function Cv(E,T,F){var se=T(E);return ed(E)?se:H(se,F(E))}function Tv(E){return pe.call(E)}function Av(E){if(!ai(E)||Uv(E))return!1;var T=td(E)||Ee(E)?_e:Z;return T.test(rn(E))}function Pv(E){if(!Lh(E))return Br(E);var T=[];for(var F in Object(E))he.call(E,F)&&F!="constructor"&&T.push(F);return T}function Ul(E,T){if(T)return E.slice();var F=new E.constructor(E.length);return E.copy(F),F}function Ju(E){var T=new E.constructor(E.byteLength);return new Mt(T).set(new Mt(E)),T}function Da(E,T){var F=T?Ju(E.buffer):E.buffer;return new E.constructor(F,E.byteOffset,E.byteLength)}function Ih(E,T,F){var se=T?F(Be(E),!0):Be(E);return ie(se,re,new E.constructor)}function Mh(E){var T=new E.constructor(E.source,q.exec(E));return T.lastIndex=E.lastIndex,T}function Ov(E,T,F){var se=T?F(et(E),!0):et(E);return ie(se,ue,new E.constructor)}function Dv(E){return Ao?Object(Ao.call(E)):{}}function $v(E,T){var F=T?Ju(E.buffer):E.buffer;return new E.constructor(F,E.byteOffset,E.length)}function Rv(E,T){var F=-1,se=E.length;for(T||(T=Array(se));++F<se;)T[F]=E[F];return T}function Qu(E,T,F,se){F||(F={});for(var Ve=-1,$e=T.length;++Ve<$e;){var st=T[Ve],tt=void 0;Rh(F,st,tt===void 0?E[st]:tt)}return F}function Iv(E,T){return Qu(E,Mi(E),T)}function Mv(E){return Cv(E,rd,Mi)}function $a(E,T){var F=E.__data__;return zv(T)?F[typeof T=="string"?"string":"hash"]:F.map}function Es(E,T){var F=ge(E,T);return Av(F)?F:void 0}var Mi=Kn?Ue(Kn,Object):Vv,Li=Tv;(en&&Li(new en(new ArrayBuffer(1)))!=N||Er&&Li(new Er)!=h||ur&&Li(ur.resolve())!=m||tn&&Li(new tn)!=v||jn&&Li(new jn)!=S)&&(Li=function(E){var T=pe.call(E),F=T==g?E.constructor:void 0,se=F?rn(F):void 0;if(se)switch(se){case Hn:return N;case ws:return h;case Yn:return m;case Ri:return v;case Gn:return S}return T});function Lv(E){var T=E.length,F=E.constructor(T);return T&&typeof E[0]=="string"&&he.call(E,"index")&&(F.index=E.index,F.input=E.input),F}function oi(E){return typeof E.constructor=="function"&&!Lh(E)?kv(jt(E)):{}}function Fv(E,T,F,se){var Ve=E.constructor;switch(T){case _:return Ju(E);case a:case l:return new Ve(+E);case N:return Da(E,se);case k:case C:case A:case I:case M:case L:case D:case z:case U:return $v(E,se);case h:return Ih(E,se,F);case p:case b:return new Ve(E);case y:return Mh(E);case v:return Ov(E,se,F);case x:return Dv(E)}}function Bv(E,T){return T=T??s,!!T&&(typeof E=="number"||oe.test(E))&&E>-1&&E%1==0&&E<T}function zv(E){var T=typeof E;return T=="string"||T=="number"||T=="symbol"||T=="boolean"?E!=="__proto__":E===null}function Uv(E){return!!Q&&Q in E}function Lh(E){var T=E&&E.constructor,F=typeof T=="function"&&T.prototype||R;return E===F}function rn(E){if(E!=null){try{return ye.call(E)}catch{}try{return E+""}catch{}}return""}function Fh(E){return Xu(E,!0,!0)}function Bh(E,T){return E===T||E!==E&&T!==T}function ql(E){return qv(E)&&he.call(E,"callee")&&(!ri.call(E,"callee")||pe.call(E)==i)}var ed=Array.isArray;function Vl(E){return E!=null&&Uh(E.length)&&!td(E)}function qv(E){return qh(E)&&Vl(E)}var zh=En||Wv;function td(E){var T=ai(E)?pe.call(E):"";return T==d||T==f}function Uh(E){return typeof E=="number"&&E>-1&&E%1==0&&E<=s}function ai(E){var T=typeof E;return!!E&&(T=="object"||T=="function")}function qh(E){return!!E&&typeof E=="object"}function rd(E){return Vl(E)?Do(E):Pv(E)}function Vv(){return[]}function Wv(){return!1}e.exports=Fh})(yg,yg.exports);var $8=yg.exports,vg={exports:{}};vg.exports;(function(e,t){var r=200,n="__lodash_hash_undefined__",s=1,i=2,o=9007199254740991,a="[object Arguments]",l="[object Array]",c="[object AsyncFunction]",d="[object Boolean]",f="[object Date]",h="[object Error]",p="[object Function]",g="[object GeneratorFunction]",m="[object Map]",y="[object Number]",v="[object Null]",b="[object Object]",x="[object Promise]",S="[object Proxy]",_="[object RegExp]",N="[object Set]",k="[object String]",C="[object Symbol]",A="[object Undefined]",I="[object WeakMap]",M="[object ArrayBuffer]",L="[object DataView]",D="[object Float32Array]",z="[object Float64Array]",U="[object Int8Array]",G="[object Int16Array]",q="[object Int32Array]",Z="[object Uint8Array]",oe="[object Uint8ClampedArray]",$="[object Uint16Array]",B="[object Uint32Array]",X=/[\\^$.*+?()[\]{}|]/g,ae=/^\[object .+?Constructor\]$/,W=/^(?:0|[1-9]\d*)$/,K={};K[D]=K[z]=K[U]=K[G]=K[q]=K[Z]=K[oe]=K[$]=K[B]=!0,K[a]=K[l]=K[M]=K[d]=K[L]=K[f]=K[h]=K[p]=K[m]=K[y]=K[b]=K[_]=K[N]=K[k]=K[I]=!1;var te=typeof sr=="object"&&sr&&sr.Object===Object&&sr,re=typeof self=="object"&&self&&self.Object===Object&&self,ue=te||re||Function("return this")(),V=t&&!t.nodeType&&t,H=V&&!0&&e&&!e.nodeType&&e,ie=H&&H.exports===V,O=ie&&te.process,ge=function(){try{return O&&O.binding&&O.binding("util")}catch{}}(),Ee=ge&&ge.isTypedArray;function Be(E,T){for(var F=-1,se=E==null?0:E.length,Ve=0,$e=[];++F<se;){var st=E[F];T(st,F,E)&&($e[Ve++]=st)}return $e}function Ue(E,T){for(var F=-1,se=T.length,Ve=E.length;++F<se;)E[Ve+F]=T[F];return E}function et(E,T){for(var F=-1,se=E==null?0:E.length;++F<se;)if(T(E[F],F,E))return!0;return!1}function bt(E,T){for(var F=-1,se=Array(E);++F<E;)se[F]=T(F);return se}function Et(E){return function(T){return E(T)}}function R(E,T){return E.has(T)}function Y(E,T){return E==null?void 0:E[T]}function Q(E){var T=-1,F=Array(E.size);return E.forEach(function(se,Ve){F[++T]=[Ve,se]}),F}function ye(E,T){return function(F){return E(T(F))}}function he(E){var T=-1,F=Array(E.size);return E.forEach(function(se){F[++T]=se}),F}var pe=Array.prototype,_e=Function.prototype,Le=Object.prototype,Ke=ue["__core-js_shared__"],Mt=_e.toString,jt=Le.hasOwnProperty,Or=function(){var E=/[^.]+$/.exec(Ke&&Ke.keys&&Ke.keys.IE_PROTO||"");return E?"Symbol(src)_1."+E:""}(),ri=Le.toString,Wn=RegExp("^"+Mt.call(jt).replace(X,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Kn=ie?ue.Buffer:void 0,En=ue.Symbol,Br=ue.Uint8Array,en=Le.propertyIsEnumerable,Er=pe.splice,ur=En?En.toStringTag:void 0,tn=Object.getOwnPropertySymbols,jn=Kn?Kn.isBuffer:void 0,Nn=ye(Object.keys,Object),Hn=Mi(ue,"DataView"),ws=Mi(ue,"Map"),Yn=Mi(ue,"Promise"),Ri=Mi(ue,"Set"),Gn=Mi(ue,"WeakMap"),kn=Mi(Object,"create"),Ao=rn(Hn),Cn=rn(ws),Po=rn(Yn),_s=rn(Ri),Ii=rn(Gn),Oo=En?En.prototype:void 0,ni=Oo?Oo.valueOf:void 0;function le(E){var T=-1,F=E==null?0:E.length;for(this.clear();++T<F;){var se=E[T];this.set(se[0],se[1])}}function P(){this.__data__=kn?kn(null):{},this.size=0}function ne(E){var T=this.has(E)&&delete this.__data__[E];return this.size-=T?1:0,T}function me(E){var T=this.__data__;if(kn){var F=T[E];return F===n?void 0:F}return jt.call(T,E)?T[E]:void 0}function Ce(E){var T=this.__data__;return kn?T[E]!==void 0:jt.call(T,E)}function He(E,T){var F=this.__data__;return this.size+=this.has(E)?0:1,F[E]=kn&&T===void 0?n:T,this}le.prototype.clear=P,le.prototype.delete=ne,le.prototype.get=me,le.prototype.has=Ce,le.prototype.set=He;function Ie(E){var T=-1,F=E==null?0:E.length;for(this.clear();++T<F;){var se=E[T];this.set(se[0],se[1])}}function Ze(){this.__data__=[],this.size=0}function Ge(E){var T=this.__data__,F=Ul(T,E);if(F<0)return!1;var se=T.length-1;return F==se?T.pop():Er.call(T,F,1),--this.size,!0}function dr(E){var T=this.__data__,F=Ul(T,E);return F<0?void 0:T[F][1]}function Nt(E){return Ul(this.__data__,E)>-1}function Pt(E,T){var F=this.__data__,se=Ul(F,E);return se<0?(++this.size,F.push([E,T])):F[se][1]=T,this}Ie.prototype.clear=Ze,Ie.prototype.delete=Ge,Ie.prototype.get=dr,Ie.prototype.has=Nt,Ie.prototype.set=Pt;function yt(E){var T=-1,F=E==null?0:E.length;for(this.clear();++T<F;){var se=E[T];this.set(se[0],se[1])}}function si(){this.size=0,this.__data__={hash:new le,map:new(ws||Ie),string:new le}}function Ss(E){var T=Es(this,E).delete(E);return this.size-=T?1:0,T}function jr(E){return Es(this,E).get(E)}function Oa(E){return Es(this,E).has(E)}function Zu(E,T){var F=Es(this,E),se=F.size;return F.set(E,T),this.size+=F.size==se?0:1,this}yt.prototype.clear=si,yt.prototype.delete=Ss,yt.prototype.get=jr,yt.prototype.has=Oa,yt.prototype.set=Zu;function Do(E){var T=-1,F=E==null?0:E.length;for(this.__data__=new yt;++T<F;)this.add(E[T])}function Rh(E){return this.__data__.set(E,n),this}function zl(E){return this.__data__.has(E)}Do.prototype.add=Do.prototype.push=Rh,Do.prototype.has=zl;function ii(E){var T=this.__data__=new Ie(E);this.size=T.size}function Xu(){this.__data__=new Ie,this.size=0}function kv(E){var T=this.__data__,F=T.delete(E);return this.size=T.size,F}function Cv(E){return this.__data__.get(E)}function Tv(E){return this.__data__.has(E)}function Av(E,T){var F=this.__data__;if(F instanceof Ie){var se=F.__data__;if(!ws||se.length<r-1)return se.push([E,T]),this.size=++F.size,this;F=this.__data__=new yt(se)}return F.set(E,T),this.size=F.size,this}ii.prototype.clear=Xu,ii.prototype.delete=kv,ii.prototype.get=Cv,ii.prototype.has=Tv,ii.prototype.set=Av;function Pv(E,T){var F=ql(E),se=!F&&Bh(E),Ve=!F&&!se&&Vl(E),$e=!F&&!se&&!Ve&&qh(E),st=F||se||Ve||$e,tt=st?bt(E.length,String):[],tr=tt.length;for(var at in E)jt.call(E,at)&&!(st&&(at=="length"||Ve&&(at=="offset"||at=="parent")||$e&&(at=="buffer"||at=="byteLength"||at=="byteOffset")||Fv(at,tr)))&&tt.push(at);return tt}function Ul(E,T){for(var F=E.length;F--;)if(Fh(E[F][0],T))return F;return-1}function Ju(E,T,F){var se=T(E);return ql(E)?se:Ue(se,F(E))}function Da(E){return E==null?E===void 0?A:v:ur&&ur in Object(E)?Li(E):Lh(E)}function Ih(E){return ai(E)&&Da(E)==a}function Mh(E,T,F,se,Ve){return E===T?!0:E==null||T==null||!ai(E)&&!ai(T)?E!==E&&T!==T:Ov(E,T,F,se,Mh,Ve)}function Ov(E,T,F,se,Ve,$e){var st=ql(E),tt=ql(T),tr=st?l:oi(E),at=tt?l:oi(T);tr=tr==a?b:tr,at=at==a?b:at;var zr=tr==b,hn=at==b,fr=tr==at;if(fr&&Vl(E)){if(!Vl(T))return!1;st=!0,zr=!1}if(fr&&!zr)return $e||($e=new ii),st||qh(E)?Qu(E,T,F,se,Ve,$e):Iv(E,T,tr,F,se,Ve,$e);if(!(F&s)){var Ur=zr&&jt.call(E,"__wrapped__"),Dr=hn&&jt.call(T,"__wrapped__");if(Ur||Dr){var $o=Ur?E.value():E,Fi=Dr?T.value():T;return $e||($e=new ii),Ve($o,Fi,F,se,$e)}}return fr?($e||($e=new ii),Mv(E,T,F,se,Ve,$e)):!1}function Dv(E){if(!Uh(E)||zv(E))return!1;var T=zh(E)?Wn:ae;return T.test(rn(E))}function $v(E){return ai(E)&&td(E.length)&&!!K[Da(E)]}function Rv(E){if(!Uv(E))return Nn(E);var T=[];for(var F in Object(E))jt.call(E,F)&&F!="constructor"&&T.push(F);return T}function Qu(E,T,F,se,Ve,$e){var st=F&s,tt=E.length,tr=T.length;if(tt!=tr&&!(st&&tr>tt))return!1;var at=$e.get(E);if(at&&$e.get(T))return at==T;var zr=-1,hn=!0,fr=F&i?new Do:void 0;for($e.set(E,T),$e.set(T,E);++zr<tt;){var Ur=E[zr],Dr=T[zr];if(se)var $o=st?se(Dr,Ur,zr,T,E,$e):se(Ur,Dr,zr,E,T,$e);if($o!==void 0){if($o)continue;hn=!1;break}if(fr){if(!et(T,function(Fi,Ra){if(!R(fr,Ra)&&(Ur===Fi||Ve(Ur,Fi,F,se,$e)))return fr.push(Ra)})){hn=!1;break}}else if(!(Ur===Dr||Ve(Ur,Dr,F,se,$e))){hn=!1;break}}return $e.delete(E),$e.delete(T),hn}function Iv(E,T,F,se,Ve,$e,st){switch(F){case L:if(E.byteLength!=T.byteLength||E.byteOffset!=T.byteOffset)return!1;E=E.buffer,T=T.buffer;case M:return!(E.byteLength!=T.byteLength||!$e(new Br(E),new Br(T)));case d:case f:case y:return Fh(+E,+T);case h:return E.name==T.name&&E.message==T.message;case _:case k:return E==T+"";case m:var tt=Q;case N:var tr=se&s;if(tt||(tt=he),E.size!=T.size&&!tr)return!1;var at=st.get(E);if(at)return at==T;se|=i,st.set(E,T);var zr=Qu(tt(E),tt(T),se,Ve,$e,st);return st.delete(E),zr;case C:if(ni)return ni.call(E)==ni.call(T)}return!1}function Mv(E,T,F,se,Ve,$e){var st=F&s,tt=$a(E),tr=tt.length,at=$a(T),zr=at.length;if(tr!=zr&&!st)return!1;for(var hn=tr;hn--;){var fr=tt[hn];if(!(st?fr in T:jt.call(T,fr)))return!1}var Ur=$e.get(E);if(Ur&&$e.get(T))return Ur==T;var Dr=!0;$e.set(E,T),$e.set(T,E);for(var $o=st;++hn<tr;){fr=tt[hn];var Fi=E[fr],Ra=T[fr];if(se)var kN=st?se(Ra,Fi,fr,T,E,$e):se(Fi,Ra,fr,E,T,$e);if(!(kN===void 0?Fi===Ra||Ve(Fi,Ra,F,se,$e):kN)){Dr=!1;break}$o||($o=fr=="constructor")}if(Dr&&!$o){var Vh=E.constructor,Wh=T.constructor;Vh!=Wh&&"constructor"in E&&"constructor"in T&&!(typeof Vh=="function"&&Vh instanceof Vh&&typeof Wh=="function"&&Wh instanceof Wh)&&(Dr=!1)}return $e.delete(E),$e.delete(T),Dr}function $a(E){return Ju(E,rd,Lv)}function Es(E,T){var F=E.__data__;return Bv(T)?F[typeof T=="string"?"string":"hash"]:F.map}function Mi(E,T){var F=Y(E,T);return Dv(F)?F:void 0}function Li(E){var T=jt.call(E,ur),F=E[ur];try{E[ur]=void 0;var se=!0}catch{}var Ve=ri.call(E);return se&&(T?E[ur]=F:delete E[ur]),Ve}var Lv=tn?function(E){return E==null?[]:(E=Object(E),Be(tn(E),function(T){return en.call(E,T)}))}:Vv,oi=Da;(Hn&&oi(new Hn(new ArrayBuffer(1)))!=L||ws&&oi(new ws)!=m||Yn&&oi(Yn.resolve())!=x||Ri&&oi(new Ri)!=N||Gn&&oi(new Gn)!=I)&&(oi=function(E){var T=Da(E),F=T==b?E.constructor:void 0,se=F?rn(F):"";if(se)switch(se){case Ao:return L;case Cn:return m;case Po:return x;case _s:return N;case Ii:return I}return T});function Fv(E,T){return T=T??o,!!T&&(typeof E=="number"||W.test(E))&&E>-1&&E%1==0&&E<T}function Bv(E){var T=typeof E;return T=="string"||T=="number"||T=="symbol"||T=="boolean"?E!=="__proto__":E===null}function zv(E){return!!Or&&Or in E}function Uv(E){var T=E&&E.constructor,F=typeof T=="function"&&T.prototype||Le;return E===F}function Lh(E){return ri.call(E)}function rn(E){if(E!=null){try{return Mt.call(E)}catch{}try{return E+""}catch{}}return""}function Fh(E,T){return E===T||E!==E&&T!==T}var Bh=Ih(function(){return arguments}())?Ih:function(E){return ai(E)&&jt.call(E,"callee")&&!en.call(E,"callee")},ql=Array.isArray;function ed(E){return E!=null&&td(E.length)&&!zh(E)}var Vl=jn||Wv;function qv(E,T){return Mh(E,T)}function zh(E){if(!Uh(E))return!1;var T=Da(E);return T==p||T==g||T==c||T==S}function td(E){return typeof E=="number"&&E>-1&&E%1==0&&E<=o}function Uh(E){var T=typeof E;return E!=null&&(T=="object"||T=="function")}function ai(E){return E!=null&&typeof E=="object"}var qh=Ee?Et(Ee):$v;function rd(E){return ed(E)?Pv(E):Rv(E)}function Vv(){return[]}function Wv(){return!1}e.exports=qv})(vg,vg.exports);var R8=vg.exports,zj={};Object.defineProperty(zj,"__esModule",{value:!0});const pNe=$8,mNe=R8;var t1;(function(e){function t(i={},o={},a=!1){typeof i!="object"&&(i={}),typeof o!="object"&&(o={});let l=pNe(o);a||(l=Object.keys(l).reduce((c,d)=>(l[d]!=null&&(c[d]=l[d]),c),{}));for(const c in i)i[c]!==void 0&&o[c]===void 0&&(l[c]=i[c]);return Object.keys(l).length>0?l:void 0}e.compose=t;function r(i={},o={}){typeof i!="object"&&(i={}),typeof o!="object"&&(o={});const a=Object.keys(i).concat(Object.keys(o)).reduce((l,c)=>(mNe(i[c],o[c])||(l[c]=o[c]===void 0?null:o[c]),l),{});return Object.keys(a).length>0?a:void 0}e.diff=r;function n(i={},o={}){i=i||{};const a=Object.keys(o).reduce((l,c)=>(o[c]!==i[c]&&i[c]!==void 0&&(l[c]=o[c]),l),{});return Object.keys(i).reduce((l,c)=>(i[c]!==o[c]&&o[c]===void 0&&(l[c]=null),l),a)}e.invert=n;function s(i,o,a=!1){if(typeof i!="object")return o;if(typeof o!="object")return;if(!a)return o;const l=Object.keys(o).reduce((c,d)=>(i[d]===void 0&&(c[d]=o[d]),c),{});return Object.keys(l).length>0?l:void 0}e.transform=s})(t1||(t1={}));zj.default=t1;var cv={};Object.defineProperty(cv,"__esModule",{value:!0});var r1;(function(e){function t(r){return typeof r.delete=="number"?r.delete:typeof r.retain=="number"?r.retain:typeof r.retain=="object"&&r.retain!==null?1:typeof r.insert=="string"?r.insert.length:1}e.length=t})(r1||(r1={}));cv.default=r1;var Uj={};Object.defineProperty(Uj,"__esModule",{value:!0});const E2=cv;class gNe{constructor(t){this.ops=t,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(t){t||(t=1/0);const r=this.ops[this.index];if(r){const n=this.offset,s=E2.default.length(r);if(t>=s-n?(t=s-n,this.index+=1,this.offset=0):this.offset+=t,typeof r.delete=="number")return{delete:t};{const i={};return r.attributes&&(i.attributes=r.attributes),typeof r.retain=="number"?i.retain=t:typeof r.retain=="object"&&r.retain!==null?i.retain=r.retain:typeof r.insert=="string"?i.insert=r.insert.substr(n,t):i.insert=r.insert,i}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?E2.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const t=this.ops[this.index];return t?typeof t.delete=="number"?"delete":typeof t.retain=="number"||typeof t.retain=="object"&&t.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const t=this.offset,r=this.index,n=this.next(),s=this.ops.slice(this.index);return this.offset=t,this.index=r,[n].concat(s)}}else return[]}}Uj.default=gNe;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeMap=t.OpIterator=t.Op=void 0;const r=hNe,n=$8,s=R8,i=zj;t.AttributeMap=i.default;const o=cv;t.Op=o.default;const a=Uj;t.OpIterator=a.default;const l="\0",c=(f,h)=>{if(typeof f!="object"||f===null)throw new Error(`cannot retain a ${typeof f}`);if(typeof h!="object"||h===null)throw new Error(`cannot retain a ${typeof h}`);const p=Object.keys(f)[0];if(!p||p!==Object.keys(h)[0])throw new Error(`embed types not matched: ${p} != ${Object.keys(h)[0]}`);return[p,f[p],h[p]]};class d{constructor(h){Array.isArray(h)?this.ops=h:h!=null&&Array.isArray(h.ops)?this.ops=h.ops:this.ops=[]}static registerEmbed(h,p){this.handlers[h]=p}static unregisterEmbed(h){delete this.handlers[h]}static getHandler(h){const p=this.handlers[h];if(!p)throw new Error(`no handlers for embed type "${h}"`);return p}insert(h,p){const g={};return typeof h=="string"&&h.length===0?this:(g.insert=h,p!=null&&typeof p=="object"&&Object.keys(p).length>0&&(g.attributes=p),this.push(g))}delete(h){return h<=0?this:this.push({delete:h})}retain(h,p){if(typeof h=="number"&&h<=0)return this;const g={retain:h};return p!=null&&typeof p=="object"&&Object.keys(p).length>0&&(g.attributes=p),this.push(g)}push(h){let p=this.ops.length,g=this.ops[p-1];if(h=n(h),typeof g=="object"){if(typeof h.delete=="number"&&typeof g.delete=="number")return this.ops[p-1]={delete:g.delete+h.delete},this;if(typeof g.delete=="number"&&h.insert!=null&&(p-=1,g=this.ops[p-1],typeof g!="object"))return this.ops.unshift(h),this;if(s(h.attributes,g.attributes)){if(typeof h.insert=="string"&&typeof g.insert=="string")return this.ops[p-1]={insert:g.insert+h.insert},typeof h.attributes=="object"&&(this.ops[p-1].attributes=h.attributes),this;if(typeof h.retain=="number"&&typeof g.retain=="number")return this.ops[p-1]={retain:g.retain+h.retain},typeof h.attributes=="object"&&(this.ops[p-1].attributes=h.attributes),this}}return p===this.ops.length?this.ops.push(h):this.ops.splice(p,0,h),this}chop(){const h=this.ops[this.ops.length-1];return h&&typeof h.retain=="number"&&!h.attributes&&this.ops.pop(),this}filter(h){return this.ops.filter(h)}forEach(h){this.ops.forEach(h)}map(h){return this.ops.map(h)}partition(h){const p=[],g=[];return this.forEach(m=>{(h(m)?p:g).push(m)}),[p,g]}reduce(h,p){return this.ops.reduce(h,p)}changeLength(){return this.reduce((h,p)=>p.insert?h+o.default.length(p):p.delete?h-p.delete:h,0)}length(){return this.reduce((h,p)=>h+o.default.length(p),0)}slice(h=0,p=1/0){const g=[],m=new a.default(this.ops);let y=0;for(;y<p&&m.hasNext();){let v;y<h?v=m.next(h-y):(v=m.next(p-y),g.push(v)),y+=o.default.length(v)}return new d(g)}compose(h){const p=new a.default(this.ops),g=new a.default(h.ops),m=[],y=g.peek();if(y!=null&&typeof y.retain=="number"&&y.attributes==null){let b=y.retain;for(;p.peekType()==="insert"&&p.peekLength()<=b;)b-=p.peekLength(),m.push(p.next());y.retain-b>0&&g.next(y.retain-b)}const v=new d(m);for(;p.hasNext()||g.hasNext();)if(g.peekType()==="insert")v.push(g.next());else if(p.peekType()==="delete")v.push(p.next());else{const b=Math.min(p.peekLength(),g.peekLength()),x=p.next(b),S=g.next(b);if(S.retain){const _={};if(typeof x.retain=="number")_.retain=typeof S.retain=="number"?b:S.retain;else if(typeof S.retain=="number")x.retain==null?_.insert=x.insert:_.retain=x.retain;else{const k=x.retain==null?"insert":"retain",[C,A,I]=c(x[k],S.retain),M=d.getHandler(C);_[k]={[C]:M.compose(A,I,k==="retain")}}const N=i.default.compose(x.attributes,S.attributes,typeof x.retain=="number");if(N&&(_.attributes=N),v.push(_),!g.hasNext()&&s(v.ops[v.ops.length-1],_)){const k=new d(p.rest());return v.concat(k).chop()}}else typeof S.delete=="number"&&(typeof x.retain=="number"||typeof x.retain=="object"&&x.retain!==null)&&v.push(S)}return v.chop()}concat(h){const p=new d(this.ops.slice());return h.ops.length>0&&(p.push(h.ops[0]),p.ops=p.ops.concat(h.ops.slice(1))),p}diff(h,p){if(this.ops===h.ops)return new d;const g=[this,h].map(x=>x.map(S=>{if(S.insert!=null)return typeof S.insert=="string"?S.insert:l;const _=x===h?"on":"with";throw new Error("diff() called "+_+" non-document")}).join("")),m=new d,y=r(g[0],g[1],p,!0),v=new a.default(this.ops),b=new a.default(h.ops);return y.forEach(x=>{let S=x[1].length;for(;S>0;){let _=0;switch(x[0]){case r.INSERT:_=Math.min(b.peekLength(),S),m.push(b.next(_));break;case r.DELETE:_=Math.min(S,v.peekLength()),v.next(_),m.delete(_);break;case r.EQUAL:_=Math.min(v.peekLength(),b.peekLength(),S);const N=v.next(_),k=b.next(_);s(N.insert,k.insert)?m.retain(_,i.default.diff(N.attributes,k.attributes)):m.push(k).delete(_);break}S-=_}}),m.chop()}eachLine(h,p=`
`){const g=new a.default(this.ops);let m=new d,y=0;for(;g.hasNext();){if(g.peekType()!=="insert")return;const v=g.peek(),b=o.default.length(v)-g.peekLength(),x=typeof v.insert=="string"?v.insert.indexOf(p,b)-b:-1;if(x<0)m.push(g.next());else if(x>0)m.push(g.next(x));else{if(h(m,g.next(1).attributes||{},y)===!1)return;y+=1,m=new d}}m.length()>0&&h(m,{},y)}invert(h){const p=new d;return this.reduce((g,m)=>{if(m.insert)p.delete(o.default.length(m));else{if(typeof m.retain=="number"&&m.attributes==null)return p.retain(m.retain),g+m.retain;if(m.delete||typeof m.retain=="number"){const y=m.delete||m.retain;return h.slice(g,g+y).forEach(b=>{m.delete?p.push(b):m.retain&&m.attributes&&p.retain(o.default.length(b),i.default.invert(m.attributes,b.attributes))}),g+y}else if(typeof m.retain=="object"&&m.retain!==null){const y=h.slice(g,g+1),v=new a.default(y.ops).next(),[b,x,S]=c(m.retain,v.insert),_=d.getHandler(b);return p.retain({[b]:_.invert(x,S)},i.default.invert(m.attributes,v.attributes)),g+1}}return g},0),p.chop()}transform(h,p=!1){if(p=!!p,typeof h=="number")return this.transformPosition(h,p);const g=h,m=new a.default(this.ops),y=new a.default(g.ops),v=new d;for(;m.hasNext()||y.hasNext();)if(m.peekType()==="insert"&&(p||y.peekType()!=="insert"))v.retain(o.default.length(m.next()));else if(y.peekType()==="insert")v.push(y.next());else{const b=Math.min(m.peekLength(),y.peekLength()),x=m.next(b),S=y.next(b);if(x.delete)continue;if(S.delete)v.push(S);else{const _=x.retain,N=S.retain;let k=typeof N=="object"&&N!==null?N:b;if(typeof _=="object"&&_!==null&&typeof N=="object"&&N!==null){const C=Object.keys(_)[0];if(C===Object.keys(N)[0]){const A=d.getHandler(C);A&&(k={[C]:A.transform(_[C],N[C],p)})}}v.retain(k,i.default.transform(x.attributes,S.attributes,p))}}return v.chop()}transformPosition(h,p=!1){p=!!p;const g=new a.default(this.ops);let m=0;for(;g.hasNext()&&m<=h;){const y=g.peekLength(),v=g.peekType();if(g.next(),v==="delete"){h-=Math.min(y,h-m);continue}else v==="insert"&&(m<h||!p)&&(h+=y);m+=y}return h}}d.Op=o.default,d.OpIterator=a.default,d.AttributeMap=i.default,d.handlers={},t.default=d,e.exports=d,e.exports.default=d})(e1,e1.exports);var us=e1.exports;const Ae=Gs(us);class Qs extends Vn{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}Qs.blotName="break";Qs.tagName="BR";let Ys=class extends gg{};const yNe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function uv(e){return e.replace(/[&<>"']/g,t=>yNe[t])}const ui=class ui extends Mj{static compare(t,r){const n=ui.order.indexOf(t),s=ui.order.indexOf(r);return n>=0||s>=0?n-s:t===r?0:t<r?-1:1}formatAt(t,r,n,s){if(ui.compare(this.statics.blotName,n)<0&&this.scroll.query(n,Pe.BLOT)){const i=this.isolate(t,r);s&&i.wrap(n,s)}else super.formatAt(t,r,n,s)}optimize(t){if(super.optimize(t),this.parent instanceof ui&&ui.compare(this.statics.blotName,this.parent.statics.blotName)>0){const r=this.parent.isolate(this.offset(),this.length());this.moveChildren(r),r.wrap(this)}}};we(ui,"allowedChildren",[ui,Qs,Vn,Ys]),we(ui,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let Ci=ui;const j2=1;class Lr extends Mf{constructor(){super(...arguments);we(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=I8(this)),this.cache.delta}deleteAt(r,n){super.deleteAt(r,n),this.cache={}}formatAt(r,n,s,i){n<=0||(this.scroll.query(s,Pe.BLOCK)?r+n===this.length()&&this.format(s,i):super.formatAt(r,Math.min(n,this.length()-r-1),s,i),this.cache={})}insertAt(r,n,s){if(s!=null){super.insertAt(r,n,s),this.cache={};return}if(n.length===0)return;const i=n.split(`
`),o=i.shift();o.length>0&&(r<this.length()-1||this.children.tail==null?super.insertAt(Math.min(r,this.length()-1),o):this.children.tail.insertAt(this.children.tail.length(),o),this.cache={});let a=this;i.reduce((l,c)=>(a=a.split(l,!0),a.insertAt(0,c),c.length),r+o.length)}insertBefore(r,n){const{head:s}=this.children;super.insertBefore(r,n),s instanceof Qs&&s.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+j2),this.cache.length}moveChildren(r,n){super.moveChildren(r,n),this.cache={}}optimize(r){super.optimize(r),this.cache={}}path(r){return super.path(r,!0)}removeChild(r){super.removeChild(r),this.cache={}}split(r){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n&&(r===0||r>=this.length()-j2)){const i=this.clone();return r===0?(this.parent.insertBefore(i,this),this):(this.parent.insertBefore(i,this.next),i)}const s=super.split(r,n);return this.cache={},s}}Lr.blotName="block";Lr.tagName="P";Lr.defaultChild=Qs;Lr.allowedChildren=[Qs,Ci,Vn,Ys];class ls extends Vn{attach(){super.attach(),this.attributes=new iv(this.domNode)}delta(){return new Ae().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(t,r){const n=this.scroll.query(t,Pe.BLOCK_ATTRIBUTE);n!=null&&this.attributes.attribute(n,r)}formatAt(t,r,n,s){this.format(n,s)}insertAt(t,r,n){if(n!=null){super.insertAt(t,r,n);return}const s=r.split(`
`),i=s.pop(),o=s.map(l=>{const c=this.scroll.create(Lr.blotName);return c.insertAt(0,l),c}),a=this.split(t);o.forEach(l=>{this.parent.insertBefore(l,a)}),i&&this.parent.insertBefore(this.scroll.create("text",i),a)}}ls.scope=Pe.BLOCK_BLOT;function I8(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.descendants(Gr).reduce((r,n)=>n.length()===0?r:r.insert(n.value(),is(n,{},t)),new Ae).insert(`
`,is(e))}function is(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return e==null||("formats"in e&&typeof e.formats=="function"&&(t={...t,...e.formats()},r&&delete t["code-token"]),e.parent==null||e.parent.statics.blotName==="scroll"||e.parent.statics.scope!==e.statics.scope)?t:is(e.parent,t,r)}const rs=class rs extends Vn{static value(){}constructor(t,r,n){super(t,r),this.selection=n,this.textNode=document.createTextNode(rs.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(t,r){if(this.savedLength!==0){super.format(t,r);return}let n=this,s=0;for(;n!=null&&n.statics.scope!==Pe.BLOCK_BLOT;)s+=n.offset(n.parent),n=n.parent;n!=null&&(this.savedLength=rs.CONTENTS.length,n.optimize(),n.formatAt(s,rs.CONTENTS.length,t,r),this.savedLength=0)}index(t,r){return t===this.textNode?0:super.index(t,r)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const t=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const r=this.prev instanceof Ys?this.prev:null,n=r?r.length():0,s=this.next instanceof Ys?this.next:null,i=s?s.text:"",{textNode:o}=this,a=o.data.split(rs.CONTENTS).join("");o.data=rs.CONTENTS;let l;if(r)l=r,(a||s)&&(r.insertAt(r.length(),a+i),s&&s.remove());else if(s)l=s,s.insertAt(0,a);else{const c=document.createTextNode(a);l=this.scroll.create(c),this.parent.insertBefore(l,this)}if(this.remove(),t){const c=(h,p)=>r&&h===r.domNode?p:h===o?n+p-1:s&&h===s.domNode?n+a.length+p:null,d=c(t.start.node,t.start.offset),f=c(t.end.node,t.end.offset);if(d!==null&&f!==null)return{startNode:l.domNode,startOffset:d,endNode:l.domNode,endOffset:f}}return null}update(t,r){if(t.some(n=>n.type==="characterData"&&n.target===this.textNode)){const n=this.restore();n&&(r.range=n)}}optimize(t){super.optimize(t);let{parent:r}=this;for(;r;){if(r.domNode.tagName==="A"){this.savedLength=rs.CONTENTS.length,r.isolate(this.offset(r),this.length()).unwrap(),this.savedLength=0;break}r=r.parent}}value(){return""}};we(rs,"blotName","cursor"),we(rs,"className","ql-cursor"),we(rs,"tagName","span"),we(rs,"CONTENTS","\uFEFF");let gu=rs;const n1=new WeakMap,s1=["error","warn","log","info"];let i1="warn";function M8(e){if(i1&&s1.indexOf(e)<=s1.indexOf(i1)){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];console[e](...r)}}function Co(e){return s1.reduce((t,r)=>(t[r]=M8.bind(console,r,e),t),{})}Co.level=e=>{i1=e};M8.level=Co.level;const S0=Co("quill:events"),vNe=["selectionchange","mousedown","mouseup","click"];vNe.forEach(e=>{document.addEventListener(e,function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];Array.from(document.querySelectorAll(".ql-container")).forEach(s=>{const i=n1.get(s);i&&i.emitter&&i.emitter.handleDOM(...r)})})});class ke extends MF{constructor(){super(),this.domListeners={},this.on("error",S0.error)}emit(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return S0.log.call(S0,...r),super.emit(...r)}handleDOM(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];(this.domListeners[t.type]||[]).forEach(i=>{let{node:o,handler:a}=i;(t.target===o||o.contains(t.target))&&a(t,...n)})}listenDOM(t,r,n){this.domListeners[t]||(this.domListeners[t]=[]),this.domListeners[t].push({node:r,handler:n})}}we(ke,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),we(ke,"sources",{API:"api",SILENT:"silent",USER:"user"});const E0=Co("quill:selection");let Sl=class{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=t,this.length=r}};class bNe{constructor(t,r){this.emitter=r,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new Sl(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,ke.sources.USER),1)}),this.emitter.on(ke.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const n=this.getNativeRange();n!=null&&n.start.node!==this.cursor.textNode&&this.emitter.once(ke.events.SCROLL_UPDATE,(s,i)=>{try{this.root.contains(n.start.node)&&this.root.contains(n.end.node)&&this.setNativeRange(n.start.node,n.start.offset,n.end.node,n.end.offset);const o=i.some(a=>a.type==="characterData"||a.type==="childList"||a.type==="attributes"&&a.target===this.root);this.update(o?ke.sources.SILENT:s)}catch{}})}),this.emitter.on(ke.events.SCROLL_OPTIMIZE,(n,s)=>{if(s.range){const{startNode:i,startOffset:o,endNode:a,endOffset:l}=s.range;this.setNativeRange(i,o,a,l),this.update(ke.sources.SILENT)}}),this.update(ke.sources.SILENT)}handleComposition(){this.emitter.on(ke.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(ke.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const t=this.cursor.restore();if(!t)return;setTimeout(()=>{this.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(ke.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(t,r){this.scroll.update();const n=this.getNativeRange();if(!(n==null||!n.native.collapsed||this.scroll.query(t,Pe.BLOCK))){if(n.start.node!==this.cursor.textNode){const s=this.scroll.find(n.start.node,!1);if(s==null)return;if(s instanceof Gr){const i=s.split(n.start.offset);s.parent.insertBefore(this.cursor,i)}else s.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(t,r),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const n=this.scroll.length();t=Math.min(t,n-1),r=Math.min(t+r,n-1)-t;let s,[i,o]=this.scroll.leaf(t);if(i==null)return null;if(r>0&&o===i.length()){const[d]=this.scroll.leaf(t+1);if(d){const[f]=this.scroll.line(t),[h]=this.scroll.line(t+1);f===h&&(i=d,o=0)}}[s,o]=i.position(o,!0);const a=document.createRange();if(r>0)return a.setStart(s,o),[i,o]=this.scroll.leaf(t+r),i==null?null:([s,o]=i.position(o,!0),a.setEnd(s,o),a.getBoundingClientRect());let l="left",c;if(s instanceof Text){if(!s.data.length)return null;o<s.data.length?(a.setStart(s,o),a.setEnd(s,o+1)):(a.setStart(s,o-1),a.setEnd(s,o),l="right"),c=a.getBoundingClientRect()}else{if(!(i.domNode instanceof Element))return null;c=i.domNode.getBoundingClientRect(),o>0&&(l="right")}return{bottom:c.top+c.height,height:c.height,left:c[l],right:c[l],top:c.top,width:0}}getNativeRange(){const t=document.getSelection();if(t==null||t.rangeCount<=0)return null;const r=t.getRangeAt(0);if(r==null)return null;const n=this.normalizeNative(r);return E0.info("getNativeRange",n),n}getRange(){const t=this.scroll.domNode;if("isConnected"in t&&!t.isConnected)return[null,null];const r=this.getNativeRange();return r==null?[null,null]:[this.normalizedToRange(r),r]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&j0(this.root,document.activeElement)}normalizedToRange(t){const r=[[t.start.node,t.start.offset]];t.native.collapsed||r.push([t.end.node,t.end.offset]);const n=r.map(o=>{const[a,l]=o,c=this.scroll.find(a,!0),d=c.offset(this.scroll);return l===0?d:c instanceof Gr?d+c.index(a,l):d+c.length()}),s=Math.min(Math.max(...n),this.scroll.length()-1),i=Math.min(s,...n);return new Sl(i,s-i)}normalizeNative(t){if(!j0(this.root,t.startContainer)||!t.collapsed&&!j0(this.root,t.endContainer))return null;const r={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[r.start,r.end].forEach(n=>{let{node:s,offset:i}=n;for(;!(s instanceof Text)&&s.childNodes.length>0;)if(s.childNodes.length>i)s=s.childNodes[i],i=0;else if(s.childNodes.length===i)s=s.lastChild,s instanceof Text?i=s.data.length:s.childNodes.length>0?i=s.childNodes.length:i=s.childNodes.length+1;else break;n.node=s,n.offset=i}),r}rangeToNative(t){const r=this.scroll.length(),n=(s,i)=>{s=Math.min(r-1,s);const[o,a]=this.scroll.leaf(s);return o?o.position(a,i):[null,-1]};return[...n(t.index,!1),...n(t.index+t.length,!0)]}setNativeRange(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:r,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(E0.info("setNativeRange",t,r,n,s),t!=null&&(this.root.parentNode==null||t.parentNode==null||n.parentNode==null))return;const o=document.getSelection();if(o!=null)if(t!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:a}=this.getNativeRange()||{};if(a==null||i||t!==a.startContainer||r!==a.startOffset||n!==a.endContainer||s!==a.endOffset){t instanceof Element&&t.tagName==="BR"&&(r=Array.from(t.parentNode.childNodes).indexOf(t),t=t.parentNode),n instanceof Element&&n.tagName==="BR"&&(s=Array.from(n.parentNode.childNodes).indexOf(n),n=n.parentNode);const l=document.createRange();l.setStart(t,r),l.setEnd(n,s),o.removeAllRanges(),o.addRange(l)}}else o.removeAllRanges(),this.root.blur()}setRange(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ke.sources.API;if(typeof r=="string"&&(n=r,r=!1),E0.info("setRange",t),t!=null){const s=this.rangeToNative(t);this.setNativeRange(...s,r)}else this.setNativeRange(null);this.update(n)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ke.sources.USER;const r=this.lastRange,[n,s]=this.getRange();if(this.lastRange=n,this.lastNative=s,this.lastRange!=null&&(this.savedRange=this.lastRange),!ea(r,this.lastRange)){if(!this.composing&&s!=null&&s.native.collapsed&&s.start.node!==this.cursor.textNode){const o=this.cursor.restore();o&&this.setNativeRange(o.startNode,o.startOffset,o.endNode,o.endOffset)}const i=[ke.events.SELECTION_CHANGE,Uc(this.lastRange),Uc(r),t];this.emitter.emit(ke.events.EDITOR_CHANGE,...i),t!==ke.sources.SILENT&&this.emitter.emit(...i)}}}function j0(e,t){try{t.parentNode}catch{return!1}return e.contains(t)}const xNe=/^[ -~]*$/;class wNe{constructor(t){this.scroll=t,this.delta=this.getDelta()}applyDelta(t){this.scroll.update();let r=this.scroll.length();this.scroll.batchStart();const n=N2(t),s=new Ae;return SNe(n.ops.slice()).reduce((o,a)=>{const l=us.Op.length(a);let c=a.attributes||{},d=!1,f=!1;if(a.insert!=null){if(s.retain(l),typeof a.insert=="string"){const g=a.insert;f=!g.endsWith(`
`)&&(r<=o||!!this.scroll.descendant(ls,o)[0]),this.scroll.insertAt(o,g);const[m,y]=this.scroll.line(o);let v=oa({},is(m));if(m instanceof Lr){const[b]=m.descendant(Gr,y);b&&(v=oa(v,is(b)))}c=us.AttributeMap.diff(v,c)||{}}else if(typeof a.insert=="object"){const g=Object.keys(a.insert)[0];if(g==null)return o;const m=this.scroll.query(g,Pe.INLINE)!=null;if(m)(r<=o||this.scroll.descendant(ls,o)[0])&&(f=!0);else if(o>0){const[y,v]=this.scroll.descendant(Gr,o-1);y instanceof Ys?y.value()[v]!==`
`&&(d=!0):y instanceof Vn&&y.statics.scope===Pe.INLINE_BLOT&&(d=!0)}if(this.scroll.insertAt(o,g,a.insert[g]),m){const[y]=this.scroll.descendant(Gr,o);if(y){const v=oa({},is(y));c=us.AttributeMap.diff(v,c)||{}}}}r+=l}else if(s.push(a),a.retain!==null&&typeof a.retain=="object"){const g=Object.keys(a.retain)[0];if(g==null)return o;this.scroll.updateEmbedAt(o,g,a.retain[g])}Object.keys(c).forEach(g=>{this.scroll.formatAt(o,l,g,c[g])});const h=d?1:0,p=f?1:0;return r+=h+p,s.retain(h),s.delete(p),o+l+h+p},0),s.reduce((o,a)=>typeof a.delete=="number"?(this.scroll.deleteAt(o,a.delete),o):o+us.Op.length(a),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(n)}deleteText(t,r){return this.scroll.deleteAt(t,r),this.update(new Ae().retain(t).delete(r))}formatLine(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(n).forEach(i=>{this.scroll.lines(t,Math.max(r,1)).forEach(o=>{o.format(i,n[i])})}),this.scroll.optimize();const s=new Ae().retain(t).retain(r,Uc(n));return this.update(s)}formatText(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(n).forEach(i=>{this.scroll.formatAt(t,r,i,n[i])});const s=new Ae().retain(t).retain(r,Uc(n));return this.update(s)}getContents(t,r){return this.delta.slice(t,t+r)}getDelta(){return this.scroll.lines().reduce((t,r)=>t.concat(r.delta()),new Ae)}getFormat(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=[],s=[];r===0?this.scroll.path(t).forEach(a=>{const[l]=a;l instanceof Lr?n.push(l):l instanceof Gr&&s.push(l)}):(n=this.scroll.lines(t,r),s=this.scroll.descendants(Gr,t,r));const[i,o]=[n,s].map(a=>{const l=a.shift();if(l==null)return{};let c=is(l);for(;Object.keys(c).length>0;){const d=a.shift();if(d==null)return c;c=_Ne(is(d),c)}return c});return{...i,...o}}getHTML(t,r){const[n,s]=this.scroll.line(t);if(n){const i=n.length();return n.length()>=s+r&&!(s===0&&r===i)?Ff(n,s,r,!0):Ff(this.scroll,t,r,!0)}return""}getText(t,r){return this.getContents(t,r).filter(n=>typeof n.insert=="string").map(n=>n.insert).join("")}insertContents(t,r){const n=N2(r),s=new Ae().retain(t).concat(n);return this.scroll.insertContents(t,n),this.update(s)}insertEmbed(t,r,n){return this.scroll.insertAt(t,r,n),this.update(new Ae().retain(t).insert({[r]:n}))}insertText(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return r=r.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(t,r),Object.keys(n).forEach(s=>{this.scroll.formatAt(t,r.length,s,n[s])}),this.update(new Ae().retain(t).insert(r,Uc(n)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const t=this.scroll.children.head;if((t==null?void 0:t.statics.blotName)!==Lr.blotName)return!1;const r=t;return r.children.length>1?!1:r.children.head instanceof Qs}removeFormat(t,r){const n=this.getText(t,r),[s,i]=this.scroll.line(t+r);let o=0,a=new Ae;s!=null&&(o=s.length()-i,a=s.delta().slice(i,i+o-1).insert(`
`));const c=this.getContents(t,r+o).diff(new Ae().insert(n).concat(a)),d=new Ae().retain(t).concat(c);return this.applyDelta(d)}update(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const s=this.delta;if(r.length===1&&r[0].type==="characterData"&&r[0].target.data.match(xNe)&&this.scroll.find(r[0].target)){const i=this.scroll.find(r[0].target),o=is(i),a=i.offset(this.scroll),l=r[0].oldValue.replace(gu.CONTENTS,""),c=new Ae().insert(l),d=new Ae().insert(i.value()),f=n&&{oldRange:k2(n.oldRange,-a),newRange:k2(n.newRange,-a)};t=new Ae().retain(a).concat(c.diff(d,f)).reduce((p,g)=>g.insert?p.insert(g.insert,o):p.push(g),new Ae),this.delta=s.compose(t)}else this.delta=this.getDelta(),(!t||!ea(s.compose(t),this.delta))&&(t=s.diff(this.delta,n));return t}}function uc(e,t,r){if(e.length===0){const[p]=N0(r.pop());return t<=0?`</li></${p}>`:`</li></${p}>${uc([],t-1,r)}`}const[{child:n,offset:s,length:i,indent:o,type:a},...l]=e,[c,d]=N0(a);if(o>t)return r.push(a),o===t+1?`<${c}><li${d}>${Ff(n,s,i)}${uc(l,o,r)}`:`<${c}><li>${uc(e,t+1,r)}`;const f=r[r.length-1];if(o===t&&a===f)return`</li><li${d}>${Ff(n,s,i)}${uc(l,o,r)}`;const[h]=N0(r.pop());return`</li></${h}>${uc(e,t-1,r)}`}function Ff(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in e&&typeof e.html=="function")return e.html(t,r);if(e instanceof Ys)return uv(e.value().slice(t,t+r)).replaceAll(" ","&nbsp;");if(e instanceof qs){if(e.statics.blotName==="list-container"){const c=[];return e.children.forEachAt(t,r,(d,f,h)=>{const p="formats"in d&&typeof d.formats=="function"?d.formats():{};c.push({child:d,offset:f,length:h,indent:p.indent||0,type:p.list})}),uc(c,-1,[])}const s=[];if(e.children.forEachAt(t,r,(c,d,f)=>{s.push(Ff(c,d,f))}),n||e.statics.blotName==="list")return s.join("");const{outerHTML:i,innerHTML:o}=e.domNode,[a,l]=i.split(`>${o}<`);return a==="<table"?`<table style="border: 1px solid #000;">${s.join("")}<${l}`:`${a}>${s.join("")}<${l}`}return e.domNode instanceof Element?e.domNode.outerHTML:""}function _Ne(e,t){return Object.keys(t).reduce((r,n)=>{if(e[n]==null)return r;const s=t[n];return s===e[n]?r[n]=s:Array.isArray(s)?s.indexOf(e[n])<0?r[n]=s.concat([e[n]]):r[n]=s:r[n]=[s,e[n]],r},{})}function N0(e){const t=e==="ordered"?"ol":"ul";switch(e){case"checked":return[t,' data-list="checked"'];case"unchecked":return[t,' data-list="unchecked"'];default:return[t,""]}}function N2(e){return e.reduce((t,r)=>{if(typeof r.insert=="string"){const n=r.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return t.insert(n,r.attributes)}return t.push(r)},new Ae)}function k2(e,t){let{index:r,length:n}=e;return new Sl(r+t,n)}function SNe(e){const t=[];return e.forEach(r=>{typeof r.insert=="string"?r.insert.split(`
`).forEach((s,i)=>{i&&t.push({insert:`
`,attributes:r.attributes}),s&&t.push({insert:s,attributes:r.attributes})}):t.push(r)}),t}class ei{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=t,this.options=r}}we(ei,"DEFAULTS",{});const $p="\uFEFF";class qj extends Vn{constructor(t,r){super(t,r),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(n=>{this.contentNode.appendChild(n)}),this.leftGuard=document.createTextNode($p),this.rightGuard=document.createTextNode($p),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(t,r){return t===this.leftGuard?0:t===this.rightGuard?1:super.index(t,r)}restore(t){let r=null,n;const s=t.data.split($p).join("");if(t===this.leftGuard)if(this.prev instanceof Ys){const i=this.prev.length();this.prev.insertAt(i,s),r={startNode:this.prev.domNode,startOffset:i+s.length}}else n=document.createTextNode(s),this.parent.insertBefore(this.scroll.create(n),this),r={startNode:n,startOffset:s.length};else t===this.rightGuard&&(this.next instanceof Ys?(this.next.insertAt(0,s),r={startNode:this.next.domNode,startOffset:s.length}):(n=document.createTextNode(s),this.parent.insertBefore(this.scroll.create(n),this.next),r={startNode:n,startOffset:s.length}));return t.data=$p,r}update(t,r){t.forEach(n=>{if(n.type==="characterData"&&(n.target===this.leftGuard||n.target===this.rightGuard)){const s=this.restore(n.target);s&&(r.range=s)}})}}class ENe{constructor(t,r){we(this,"isComposing",!1);this.scroll=t,this.emitter=r,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",t=>{this.isComposing||this.handleCompositionStart(t)}),this.scroll.domNode.addEventListener("compositionend",t=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(t)})})}handleCompositionStart(t){const r=t.target instanceof Node?this.scroll.find(t.target,!0):null;r&&!(r instanceof qj)&&(this.emitter.emit(ke.events.COMPOSITION_BEFORE_START,t),this.scroll.batchStart(),this.emitter.emit(ke.events.COMPOSITION_START,t),this.isComposing=!0)}handleCompositionEnd(t){this.emitter.emit(ke.events.COMPOSITION_BEFORE_END,t),this.scroll.batchEnd(),this.emitter.emit(ke.events.COMPOSITION_END,t),this.isComposing=!1}}const sf=class sf{constructor(t,r){we(this,"modules",{});this.quill=t,this.options=r}init(){Object.keys(this.options.modules).forEach(t=>{this.modules[t]==null&&this.addModule(t)})}addModule(t){const r=this.quill.constructor.import(`modules/${t}`);return this.modules[t]=new r(this.quill,this.options.modules[t]||{}),this.modules[t]}};we(sf,"DEFAULTS",{modules:{}}),we(sf,"themes",{default:sf});let yu=sf;const jNe=e=>e.parentElement||e.getRootNode().host||null,NNe=e=>{const t=e.getBoundingClientRect(),r="offsetWidth"in e&&Math.abs(t.width)/e.offsetWidth||1,n="offsetHeight"in e&&Math.abs(t.height)/e.offsetHeight||1;return{top:t.top,right:t.left+e.clientWidth*r,bottom:t.top+e.clientHeight*n,left:t.left}},Rp=e=>{const t=parseInt(e,10);return Number.isNaN(t)?0:t},C2=(e,t,r,n,s,i)=>e<r&&t>n?0:e<r?-(r-e+s):t>n?t-e>n-r?e+s-r:t-n+i:0,kNe=(e,t)=>{var i,o,a;const r=e.ownerDocument;let n=t,s=e;for(;s;){const l=s===r.body,c=l?{top:0,right:((i=window.visualViewport)==null?void 0:i.width)??r.documentElement.clientWidth,bottom:((o=window.visualViewport)==null?void 0:o.height)??r.documentElement.clientHeight,left:0}:NNe(s),d=getComputedStyle(s),f=C2(n.left,n.right,c.left,c.right,Rp(d.scrollPaddingLeft),Rp(d.scrollPaddingRight)),h=C2(n.top,n.bottom,c.top,c.bottom,Rp(d.scrollPaddingTop),Rp(d.scrollPaddingBottom));if(f||h)if(l)(a=r.defaultView)==null||a.scrollBy(f,h);else{const{scrollLeft:p,scrollTop:g}=s;h&&(s.scrollTop+=h),f&&(s.scrollLeft+=f);const m=s.scrollLeft-p,y=s.scrollTop-g;n={left:n.left-m,top:n.top-y,right:n.right-m,bottom:n.bottom-y}}s=l||d.position==="fixed"?null:jNe(s)}},CNe=100,TNe=["block","break","cursor","inline","scroll","text"],ANe=(e,t,r)=>{const n=new mu;return TNe.forEach(s=>{const i=t.query(s);i&&n.register(i)}),e.forEach(s=>{let i=t.query(s);i||r.error(`Cannot register "${s}" specified in "formats" config. Are you sure it was registered?`);let o=0;for(;i;)if(n.register(i),i="blotName"in i?i.requiredContainer??null:null,o+=1,o>CNe){r.error(`Cycle detected in registering blot requiredContainer: "${s}"`);break}}),n},Vc=Co("quill"),Ip=new mu;qs.uiClass="ql-ui";const Ps=class Ps{static debug(t){t===!0&&(t="log"),Co.level(t)}static find(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return n1.get(t)||Ip.find(t,r)}static import(t){return this.imports[t]==null&&Vc.error(`Cannot import ${t}. Are you sure it was registered?`),this.imports[t]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const t=arguments.length<=0?void 0:arguments[0],r=!!(!(arguments.length<=1)&&arguments[1]),n="attrName"in t?t.attrName:t.blotName;typeof n=="string"?this.register(`formats/${n}`,t,r):Object.keys(t).forEach(s=>{this.register(s,t[s],r)})}else{const t=arguments.length<=0?void 0:arguments[0],r=arguments.length<=1?void 0:arguments[1],n=!!(!(arguments.length<=2)&&arguments[2]);this.imports[t]!=null&&!n&&Vc.warn(`Overwriting ${t} with`,r),this.imports[t]=r,(t.startsWith("blots/")||t.startsWith("formats/"))&&r&&typeof r!="boolean"&&r.blotName!=="abstract"&&Ip.register(r),typeof r.register=="function"&&r.register(Ip)}}constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=PNe(t,r),this.container=this.options.container,this.container==null){Vc.error("Invalid Quill container",t);return}this.options.debug&&Ps.debug(this.options.debug);const n=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",n1.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new ke;const s=Lj.blotName,i=this.options.registry.query(s);if(!i||!("blotName"in i))throw new Error(`Cannot initialize Quill without "${s}" blot`);if(this.scroll=new i(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new wNe(this.scroll),this.selection=new bNe(this.scroll,this.emitter),this.composition=new ENe(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(ke.events.EDITOR_CHANGE,o=>{o===ke.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(ke.events.SCROLL_UPDATE,(o,a)=>{const l=this.selection.lastRange,[c]=this.selection.getRange(),d=l&&c?{oldRange:l,newRange:c}:void 0;js.call(this,()=>this.editor.update(null,a,d),o)}),this.emitter.on(ke.events.SCROLL_EMBED_UPDATE,(o,a)=>{const l=this.selection.lastRange,[c]=this.selection.getRange(),d=l&&c?{oldRange:l,newRange:c}:void 0;js.call(this,()=>{const f=new Ae().retain(o.offset(this)).retain({[o.statics.blotName]:a});return this.editor.update(f,[],d)},Ps.sources.USER)}),n){const o=this.clipboard.convert({html:`${n}<p><br></p>`,text:`
`});this.setContents(o)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof t=="string"){const n=t;t=document.createElement("div"),t.classList.add(n)}return this.container.insertBefore(t,r),t}blur(){this.selection.setRange(null)}deleteText(t,r,n){return[t,r,,n]=qi(t,r,n),js.call(this,()=>this.editor.deleteText(t,r),n,t,-1*r)}disable(){this.enable(!1)}editReadOnly(t){this.allowReadOnlyEdits=!0;const r=t();return this.allowReadOnlyEdits=!1,r}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}focus(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),t.preventScroll||this.scrollSelectionIntoView()}format(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ke.sources.API;return js.call(this,()=>{const s=this.getSelection(!0);let i=new Ae;if(s==null)return i;if(this.scroll.query(t,Pe.BLOCK))i=this.editor.formatLine(s.index,s.length,{[t]:r});else{if(s.length===0)return this.selection.format(t,r),i;i=this.editor.formatText(s.index,s.length,{[t]:r})}return this.setSelection(s,ke.sources.SILENT),i},n)}formatLine(t,r,n,s,i){let o;return[t,r,o,i]=qi(t,r,n,s,i),js.call(this,()=>this.editor.formatLine(t,r,o),i,t,0)}formatText(t,r,n,s,i){let o;return[t,r,o,i]=qi(t,r,n,s,i),js.call(this,()=>this.editor.formatText(t,r,o),i,t,0)}getBounds(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=null;if(typeof t=="number"?n=this.selection.getBounds(t,r):n=this.selection.getBounds(t.index,t.length),!n)return null;const s=this.container.getBoundingClientRect();return{bottom:n.bottom-s.top,height:n.height,left:n.left-s.left,right:n.right-s.left,top:n.top-s.top,width:n.width}}getContents(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-t;return[t,r]=qi(t,r),this.editor.getContents(t,r)}getFormat(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof t=="number"?this.editor.getFormat(t,r):this.editor.getFormat(t.index,t.length)}getIndex(t){return t.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(t){return this.scroll.leaf(t)}getLine(t){return this.scroll.line(t)}getLines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof t!="number"?this.scroll.lines(t.index,t.length):this.scroll.lines(t,r)}getModule(t){return this.theme.modules[t]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(r=r??this.getLength()-t),[t,r]=qi(t,r),this.editor.getHTML(t,r)}getText(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(r=r??this.getLength()-t),[t,r]=qi(t,r),this.editor.getText(t,r)}hasFocus(){return this.selection.hasFocus()}insertEmbed(t,r,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Ps.sources.API;return js.call(this,()=>this.editor.insertEmbed(t,r,n),s,t)}insertText(t,r,n,s,i){let o;return[t,,o,i]=qi(t,0,n,s,i),js.call(this,()=>this.editor.insertText(t,r,o),i,t,r.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(t,r,n){return[t,r,,n]=qi(t,r,n),js.call(this,()=>this.editor.removeFormat(t,r),n,t)}scrollRectIntoView(t){kNe(this.root,t)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const t=this.selection.lastRange,r=t&&this.selection.getBounds(t.index,t.length);r&&this.scrollRectIntoView(r)}setContents(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ke.sources.API;return js.call(this,()=>{t=new Ae(t);const n=this.getLength(),s=this.editor.deleteText(0,n),i=this.editor.insertContents(0,t),o=this.editor.deleteText(this.getLength()-1,1);return s.compose(i).compose(o)},r)}setSelection(t,r,n){t==null?this.selection.setRange(null,r||Ps.sources.API):([t,r,,n]=qi(t,r,n),this.selection.setRange(new Sl(Math.max(0,t),r),n),n!==ke.sources.SILENT&&this.scrollSelectionIntoView())}setText(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ke.sources.API;const n=new Ae().insert(t);return this.setContents(n,r)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ke.sources.USER;const r=this.scroll.update(t);return this.selection.update(t),r}updateContents(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ke.sources.API;return js.call(this,()=>(t=new Ae(t),this.editor.applyDelta(t)),r,!0)}};we(Ps,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:Ip,theme:"default"}),we(Ps,"events",ke.events),we(Ps,"sources",ke.sources),we(Ps,"version","2.0.3"),we(Ps,"imports",{delta:Ae,parchment:nNe,"core/module":ei,"core/theme":yu});let ce=Ps;function T2(e){return typeof e=="string"?document.querySelector(e):e}function k0(e){return Object.entries(e??{}).reduce((t,r)=>{let[n,s]=r;return{...t,[n]:s===!0?{}:s}},{})}function A2(e){return Object.fromEntries(Object.entries(e).filter(t=>t[1]!==void 0))}function PNe(e,t){const r=T2(e);if(!r)throw new Error("Invalid Quill container");const s=!t.theme||t.theme===ce.DEFAULTS.theme?yu:ce.import(`themes/${t.theme}`);if(!s)throw new Error(`Invalid theme ${t.theme}. Did you register it?`);const{modules:i,...o}=ce.DEFAULTS,{modules:a,...l}=s.DEFAULTS;let c=k0(t.modules);c!=null&&c.toolbar&&c.toolbar.constructor!==Object&&(c={...c,toolbar:{container:c.toolbar}});const d=oa({},k0(i),k0(a),c),f={...o,...A2(l),...A2(t)};let h=t.registry;return h?t.formats&&Vc.warn('Ignoring "formats" option because "registry" is specified'):h=t.formats?ANe(t.formats,f.registry,Vc):f.registry,{...f,registry:h,container:r,theme:s,modules:Object.entries(d).reduce((p,g)=>{let[m,y]=g;if(!y)return p;const v=ce.import(`modules/${m}`);return v==null?(Vc.error(`Cannot load ${m} module. Are you sure you registered it?`),p):{...p,[m]:oa({},v.DEFAULTS||{},y)}},{}),bounds:T2(f.bounds)}}function js(e,t,r,n){if(!this.isEnabled()&&t===ke.sources.USER&&!this.allowReadOnlyEdits)return new Ae;let s=r==null?null:this.getSelection();const i=this.editor.delta,o=e();if(s!=null&&(r===!0&&(r=s.index),n==null?s=P2(s,o,t):n!==0&&(s=P2(s,r,n,t)),this.setSelection(s,ke.sources.SILENT)),o.length()>0){const a=[ke.events.TEXT_CHANGE,o,i,t];this.emitter.emit(ke.events.EDITOR_CHANGE,...a),t!==ke.sources.SILENT&&this.emitter.emit(...a)}return o}function qi(e,t,r,n,s){let i={};return typeof e.index=="number"&&typeof e.length=="number"?typeof t!="number"?(s=n,n=r,r=t,t=e.length,e=e.index):(t=e.length,e=e.index):typeof t!="number"&&(s=n,n=r,r=t,t=0),typeof r=="object"?(i=r,s=n):typeof r=="string"&&(n!=null?i[r]=n:s=r),s=s||ke.sources.API,[e,t,i,s]}function P2(e,t,r,n){const s=typeof r=="number"?r:0;if(e==null)return null;let i,o;return t&&typeof t.transformPosition=="function"?[i,o]=[e.index,e.index+e.length].map(a=>t.transformPosition(a,n!==ke.sources.USER)):[i,o]=[e.index,e.index+e.length].map(a=>a<t||a===t&&n===ke.sources.USER?a:s>=0?a+s:Math.max(t,a+s)),new Sl(i,o-i)}class Ll extends ov{}function O2(e){return e instanceof Lr||e instanceof ls}function D2(e){return typeof e.updateContent=="function"}class dc extends Lj{constructor(t,r,n){let{emitter:s}=n;super(t,r),this.emitter=s,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",i=>this.handleDragStart(i))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const t=this.batch;this.batch=!1,this.update(t)}emitMount(t){this.emitter.emit(ke.events.SCROLL_BLOT_MOUNT,t)}emitUnmount(t){this.emitter.emit(ke.events.SCROLL_BLOT_UNMOUNT,t)}emitEmbedUpdate(t,r){this.emitter.emit(ke.events.SCROLL_EMBED_UPDATE,t,r)}deleteAt(t,r){const[n,s]=this.line(t),[i]=this.line(t+r);if(super.deleteAt(t,r),i!=null&&n!==i&&s>0){if(n instanceof ls||i instanceof ls){this.optimize();return}const o=i.children.head instanceof Qs?null:i.children.head;n.moveChildren(i,o),n.remove()}this.optimize()}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",t?"true":"false")}formatAt(t,r,n,s){super.formatAt(t,r,n,s),this.optimize()}insertAt(t,r,n){if(t>=this.length())if(n==null||this.scroll.query(r,Pe.BLOCK)==null){const s=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(s),n==null&&r.endsWith(`
`)?s.insertAt(0,r.slice(0,-1),n):s.insertAt(0,r,n)}else{const s=this.scroll.create(r,n);this.appendChild(s)}else super.insertAt(t,r,n);this.optimize()}insertBefore(t,r){if(t.statics.scope===Pe.INLINE_BLOT){const n=this.scroll.create(this.statics.defaultChild.blotName);n.appendChild(t),super.insertBefore(n,r)}else super.insertBefore(t,r)}insertContents(t,r){const n=this.deltaToRenderBlocks(r.concat(new Ae().insert(`
`))),s=n.pop();if(s==null)return;this.batchStart();const i=n.shift();if(i){const l=i.type==="block"&&(i.delta.length()===0||!this.descendant(ls,t)[0]&&t<this.length()),c=i.type==="block"?i.delta:new Ae().insert({[i.key]:i.value});C0(this,t,c);const d=i.type==="block"?1:0,f=t+c.length()+d;l&&this.insertAt(f-1,`
`);const h=is(this.line(t)[0]),p=us.AttributeMap.diff(h,i.attributes)||{};Object.keys(p).forEach(g=>{this.formatAt(f-1,1,g,p[g])}),t=f}let[o,a]=this.children.find(t);if(n.length&&(o&&(o=o.split(a),a=0),n.forEach(l=>{if(l.type==="block"){const c=this.createBlock(l.attributes,o||void 0);C0(c,0,l.delta)}else{const c=this.create(l.key,l.value);this.insertBefore(c,o||void 0),Object.keys(l.attributes).forEach(d=>{c.format(d,l.attributes[d])})}})),s.type==="block"&&s.delta.length()){const l=o?o.offset(o.scroll)+a:this.length();C0(this,l,s.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(t){const r=this.path(t).pop();if(!r)return[null,-1];const[n,s]=r;return n instanceof Gr?[n,s]:[null,-1]}line(t){return t===this.length()?this.line(t-1):this.descendant(O2,t)}lines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const n=(s,i,o)=>{let a=[],l=o;return s.children.forEachAt(i,o,(c,d,f)=>{O2(c)?a.push(c):c instanceof ov&&(a=a.concat(n(c,d,l))),l-=f}),a};return n(this,t,r)}optimize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(t,r),t.length>0&&this.emitter.emit(ke.events.SCROLL_OPTIMIZE,t,r))}path(t){return super.path(t).slice(1)}remove(){}update(t){if(this.batch){Array.isArray(t)&&(this.batch=this.batch.concat(t));return}let r=ke.sources.USER;typeof t=="string"&&(r=t),Array.isArray(t)||(t=this.observer.takeRecords()),t=t.filter(n=>{let{target:s}=n;const i=this.find(s,!0);return i&&!D2(i)}),t.length>0&&this.emitter.emit(ke.events.SCROLL_BEFORE_UPDATE,r,t),super.update(t.concat([])),t.length>0&&this.emitter.emit(ke.events.SCROLL_UPDATE,r,t)}updateEmbedAt(t,r,n){const[s]=this.descendant(i=>i instanceof ls,t);s&&s.statics.blotName===r&&D2(s)&&s.updateContent(n)}handleDragStart(t){t.preventDefault()}deltaToRenderBlocks(t){const r=[];let n=new Ae;return t.forEach(s=>{const i=s==null?void 0:s.insert;if(i)if(typeof i=="string"){const o=i.split(`
`);o.slice(0,-1).forEach(l=>{n.insert(l,s.attributes),r.push({type:"block",delta:n,attributes:s.attributes??{}}),n=new Ae});const a=o[o.length-1];a&&n.insert(a,s.attributes)}else{const o=Object.keys(i)[0];if(!o)return;this.query(o,Pe.INLINE)?n.push(s):(n.length()&&r.push({type:"block",delta:n,attributes:{}}),n=new Ae,r.push({type:"blockEmbed",key:o,value:i[o],attributes:s.attributes??{}}))}}),n.length()&&r.push({type:"block",delta:n,attributes:{}}),r}createBlock(t,r){let n;const s={};Object.entries(t).forEach(a=>{let[l,c]=a;this.query(l,Pe.BLOCK&Pe.BLOT)!=null?n=l:s[l]=c});const i=this.create(n||this.statics.defaultChild.blotName,n?t[n]:void 0);this.insertBefore(i,r||void 0);const o=i.length();return Object.entries(s).forEach(a=>{let[l,c]=a;i.formatAt(0,o,l,c)}),i}}we(dc,"blotName","scroll"),we(dc,"className","ql-editor"),we(dc,"tagName","DIV"),we(dc,"defaultChild",Lr),we(dc,"allowedChildren",[Lr,ls,Ll]);function C0(e,t,r){r.reduce((n,s)=>{const i=us.Op.length(s);let o=s.attributes||{};if(s.insert!=null){if(typeof s.insert=="string"){const a=s.insert;e.insertAt(n,a);const[l]=e.descendant(Gr,n),c=is(l);o=us.AttributeMap.diff(c,o)||{}}else if(typeof s.insert=="object"){const a=Object.keys(s.insert)[0];if(a==null)return n;if(e.insertAt(n,a,s.insert[a]),e.scroll.query(a,Pe.INLINE)!=null){const[c]=e.descendant(Gr,n),d=is(c);o=us.AttributeMap.diff(d,o)||{}}}}return Object.keys(o).forEach(a=>{e.formatAt(n,i,a,o[a])}),n+i},t)}const Vj={scope:Pe.BLOCK,whitelist:["right","center","justify"]},ONe=new ki("align","align",Vj),L8=new Js("align","ql-align",Vj),F8=new Ta("align","text-align",Vj);class B8 extends Ta{value(t){let r=super.value(t);return r.startsWith("rgb(")?(r=r.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${r.split(",").map(s=>`00${parseInt(s,10).toString(16)}`.slice(-2)).join("")}`):r}}const DNe=new Js("color","ql-color",{scope:Pe.INLINE}),Wj=new B8("color","color",{scope:Pe.INLINE}),$Ne=new Js("background","ql-bg",{scope:Pe.INLINE}),Kj=new B8("background","background-color",{scope:Pe.INLINE});class Fl extends Ll{static create(t){const r=super.create(t);return r.setAttribute("spellcheck","false"),r}code(t,r){return this.children.map(n=>n.length()<=1?"":n.domNode.innerText).join(`
`).slice(t,t+r)}html(t,r){return`<pre>
${uv(this.code(t,r))}
</pre>`}}class Qr extends Lr{static register(){ce.register(Fl)}}we(Qr,"TAB","  ");class Hj extends Ci{}Hj.blotName="code";Hj.tagName="CODE";Qr.blotName="code-block";Qr.className="ql-code-block";Qr.tagName="DIV";Fl.blotName="code-block-container";Fl.className="ql-code-block-container";Fl.tagName="DIV";Fl.allowedChildren=[Qr];Qr.allowedChildren=[Ys,Qs,gu];Qr.requiredContainer=Fl;const Yj={scope:Pe.BLOCK,whitelist:["rtl"]},z8=new ki("direction","dir",Yj),U8=new Js("direction","ql-direction",Yj),q8=new Ta("direction","direction",Yj),V8={scope:Pe.INLINE,whitelist:["serif","monospace"]},W8=new Js("font","ql-font",V8);class RNe extends Ta{value(t){return super.value(t).replace(/["']/g,"")}}const K8=new RNe("font","font-family",V8),H8=new Js("size","ql-size",{scope:Pe.INLINE,whitelist:["small","large","huge"]}),Y8=new Ta("size","font-size",{scope:Pe.INLINE,whitelist:["10px","18px","32px"]}),INe=Co("quill:keyboard"),MNe=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class dv extends ei{static match(t,r){return["altKey","ctrlKey","metaKey","shiftKey"].some(n=>!!r[n]!==t[n]&&r[n]!==null)?!1:r.key===t.key||r.key===t.which}constructor(t,r){super(t,r),this.bindings={},Object.keys(this.options.bindings).forEach(n=>{this.options.bindings[n]&&this.addBinding(this.options.bindings[n])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=FNe(t);if(s==null){INe.warn("Attempted to add invalid keyboard binding",s);return}typeof r=="function"&&(r={handler:r}),typeof n=="function"&&(n={handler:n}),(Array.isArray(s.key)?s.key:[s.key]).forEach(o=>{const a={...s,key:o,...r,...n};this.bindings[a.key]=this.bindings[a.key]||[],this.bindings[a.key].push(a)})}listen(){this.quill.root.addEventListener("keydown",t=>{if(t.defaultPrevented||t.isComposing||t.keyCode===229&&(t.key==="Enter"||t.key==="Backspace"))return;const s=(this.bindings[t.key]||[]).concat(this.bindings[t.which]||[]).filter(v=>dv.match(t,v));if(s.length===0)return;const i=ce.find(t.target,!0);if(i&&i.scroll!==this.quill.scroll)return;const o=this.quill.getSelection();if(o==null||!this.quill.hasFocus())return;const[a,l]=this.quill.getLine(o.index),[c,d]=this.quill.getLeaf(o.index),[f,h]=o.length===0?[c,d]:this.quill.getLeaf(o.index+o.length),p=c instanceof gg?c.value().slice(0,d):"",g=f instanceof gg?f.value().slice(h):"",m={collapsed:o.length===0,empty:o.length===0&&a.length()<=1,format:this.quill.getFormat(o),line:a,offset:l,prefix:p,suffix:g,event:t};s.some(v=>{if(v.collapsed!=null&&v.collapsed!==m.collapsed||v.empty!=null&&v.empty!==m.empty||v.offset!=null&&v.offset!==m.offset)return!1;if(Array.isArray(v.format)){if(v.format.every(b=>m.format[b]==null))return!1}else if(typeof v.format=="object"&&!Object.keys(v.format).every(b=>v.format[b]===!0?m.format[b]!=null:v.format[b]===!1?m.format[b]==null:ea(v.format[b],m.format[b])))return!1;return v.prefix!=null&&!v.prefix.test(m.prefix)||v.suffix!=null&&!v.suffix.test(m.suffix)?!1:v.handler.call(this,o,m,v)!==!0})&&t.preventDefault()})}handleBackspace(t,r){const n=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(r.prefix)?2:1;if(t.index===0||this.quill.getLength()<=1)return;let s={};const[i]=this.quill.getLine(t.index);let o=new Ae().retain(t.index-n).delete(n);if(r.offset===0){const[a]=this.quill.getLine(t.index-1);if(a&&!(a.statics.blotName==="block"&&a.length()<=1)){const c=i.formats(),d=this.quill.getFormat(t.index-1,1);if(s=us.AttributeMap.diff(c,d)||{},Object.keys(s).length>0){const f=new Ae().retain(t.index+i.length()-2).retain(1,s);o=o.compose(f)}}}this.quill.updateContents(o,ce.sources.USER),this.quill.focus()}handleDelete(t,r){const n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(r.suffix)?2:1;if(t.index>=this.quill.getLength()-n)return;let s={};const[i]=this.quill.getLine(t.index);let o=new Ae().retain(t.index).delete(n);if(r.offset>=i.length()-1){const[a]=this.quill.getLine(t.index+1);if(a){const l=i.formats(),c=this.quill.getFormat(t.index,1);s=us.AttributeMap.diff(l,c)||{},Object.keys(s).length>0&&(o=o.retain(a.length()-1).retain(1,s))}}this.quill.updateContents(o,ce.sources.USER),this.quill.focus()}handleDeleteRange(t){Gj({range:t,quill:this.quill}),this.quill.focus()}handleEnter(t,r){const n=Object.keys(r.format).reduce((i,o)=>(this.quill.scroll.query(o,Pe.BLOCK)&&!Array.isArray(r.format[o])&&(i[o]=r.format[o]),i),{}),s=new Ae().retain(t.index).delete(t.length).insert(`
`,n);this.quill.updateContents(s,ce.sources.USER),this.quill.setSelection(t.index+1,ce.sources.SILENT),this.quill.focus()}}const LNe={bindings:{bold:T0("bold"),italic:T0("italic"),underline:T0("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(e,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","+1",ce.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(e,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","-1",ce.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(e,t){t.format.indent!=null?this.quill.format("indent","-1",ce.sources.USER):t.format.list!=null&&this.quill.format("list",!1,ce.sources.USER)}},"indent code-block":$2(!0),"outdent code-block":$2(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(e){this.quill.deleteText(e.index-1,1,ce.sources.USER)}},tab:{key:"Tab",handler(e,t){if(t.format.table)return!0;this.quill.history.cutoff();const r=new Ae().retain(e.index).delete(e.length).insert("	");return this.quill.updateContents(r,ce.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,ce.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,ce.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(e,t){const r={list:!1};t.format.indent&&(r.indent=!1),this.quill.formatLine(e.index,e.length,r,ce.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(e){const[t,r]=this.quill.getLine(e.index),n={...t.formats(),list:"checked"},s=new Ae().retain(e.index).insert(`
`,n).retain(t.length()-r-1).retain(1,{list:"unchecked"});this.quill.updateContents(s,ce.sources.USER),this.quill.setSelection(e.index+1,ce.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(e,t){const[r,n]=this.quill.getLine(e.index),s=new Ae().retain(e.index).insert(`
`,t.format).retain(r.length()-n-1).retain(1,{header:null});this.quill.updateContents(s,ce.sources.USER),this.quill.setSelection(e.index+1,ce.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(e){const t=this.quill.getModule("table");if(t){const[r,n,s,i]=t.getTable(e),o=BNe(r,n,s,i);if(o==null)return;let a=r.offset();if(o<0){const l=new Ae().retain(a).insert(`
`);this.quill.updateContents(l,ce.sources.USER),this.quill.setSelection(e.index+1,e.length,ce.sources.SILENT)}else if(o>0){a+=r.length();const l=new Ae().retain(a).insert(`
`);this.quill.updateContents(l,ce.sources.USER),this.quill.setSelection(a,ce.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(e,t){const{event:r,line:n}=t,s=n.offset(this.quill.scroll);r.shiftKey?this.quill.setSelection(s-1,ce.sources.USER):this.quill.setSelection(s+n.length(),ce.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(e,t){if(this.quill.scroll.query("list")==null)return!0;const{length:r}=t.prefix,[n,s]=this.quill.getLine(e.index);if(s>r)return!0;let i;switch(t.prefix.trim()){case"[]":case"[ ]":i="unchecked";break;case"[x]":i="checked";break;case"-":case"*":i="bullet";break;default:i="ordered"}this.quill.insertText(e.index," ",ce.sources.USER),this.quill.history.cutoff();const o=new Ae().retain(e.index-s).delete(r+1).retain(n.length()-2-s).retain(1,{list:i});return this.quill.updateContents(o,ce.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-r,ce.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(e){const[t,r]=this.quill.getLine(e.index);let n=2,s=t;for(;s!=null&&s.length()<=1&&s.formats()["code-block"];)if(s=s.prev,n-=1,n<=0){const i=new Ae().retain(e.index+t.length()-r-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(i,ce.sources.USER),this.quill.setSelection(e.index-1,ce.sources.SILENT),!1}return!0}},"embed left":Mp("ArrowLeft",!1),"embed left shift":Mp("ArrowLeft",!0),"embed right":Mp("ArrowRight",!1),"embed right shift":Mp("ArrowRight",!0),"table down":R2(!1),"table up":R2(!0)}};dv.DEFAULTS=LNe;function $2(e){return{key:"Tab",shiftKey:!e,format:{"code-block":!0},handler(t,r){let{event:n}=r;const s=this.quill.scroll.query("code-block"),{TAB:i}=s;if(t.length===0&&!n.shiftKey){this.quill.insertText(t.index,i,ce.sources.USER),this.quill.setSelection(t.index+i.length,ce.sources.SILENT);return}const o=t.length===0?this.quill.getLines(t.index,1):this.quill.getLines(t);let{index:a,length:l}=t;o.forEach((c,d)=>{e?(c.insertAt(0,i),d===0?a+=i.length:l+=i.length):c.domNode.textContent.startsWith(i)&&(c.deleteAt(0,i.length),d===0?a-=i.length:l-=i.length)}),this.quill.update(ce.sources.USER),this.quill.setSelection(a,l,ce.sources.SILENT)}}}function Mp(e,t){return{key:e,shiftKey:t,altKey:null,[e==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(n){let{index:s}=n;e==="ArrowRight"&&(s+=n.length+1);const[i]=this.quill.getLeaf(s);return i instanceof Vn?(e==="ArrowLeft"?t?this.quill.setSelection(n.index-1,n.length+1,ce.sources.USER):this.quill.setSelection(n.index-1,ce.sources.USER):t?this.quill.setSelection(n.index,n.length+1,ce.sources.USER):this.quill.setSelection(n.index+n.length+1,ce.sources.USER),!1):!0}}}function T0(e){return{key:e[0],shortKey:!0,handler(t,r){this.quill.format(e,!r.format[e],ce.sources.USER)}}}function R2(e){return{key:e?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(t,r){const n=e?"prev":"next",s=r.line,i=s.parent[n];if(i!=null){if(i.statics.blotName==="table-row"){let o=i.children.head,a=s;for(;a.prev!=null;)a=a.prev,o=o.next;const l=o.offset(this.quill.scroll)+Math.min(r.offset,o.length()-1);this.quill.setSelection(l,0,ce.sources.USER)}}else{const o=s.table()[n];o!=null&&(e?this.quill.setSelection(o.offset(this.quill.scroll)+o.length()-1,0,ce.sources.USER):this.quill.setSelection(o.offset(this.quill.scroll),0,ce.sources.USER))}return!1}}}function FNe(e){if(typeof e=="string"||typeof e=="number")e={key:e};else if(typeof e=="object")e=Uc(e);else return null;return e.shortKey&&(e[MNe]=e.shortKey,delete e.shortKey),e}function Gj(e){let{quill:t,range:r}=e;const n=t.getLines(r);let s={};if(n.length>1){const i=n[0].formats(),o=n[n.length-1].formats();s=us.AttributeMap.diff(o,i)||{}}t.deleteText(r,ce.sources.USER),Object.keys(s).length>0&&t.formatLine(r.index,1,s,ce.sources.USER),t.setSelection(r.index,ce.sources.SILENT)}function BNe(e,t,r,n){return t.prev==null&&t.next==null?r.prev==null&&r.next==null?n===0?-1:1:r.prev==null?-1:1:t.prev==null?-1:t.next==null?1:null}const zNe=/font-weight:\s*normal/,UNe=["P","OL","UL"],I2=e=>e&&UNe.includes(e.tagName),qNe=e=>{Array.from(e.querySelectorAll("br")).filter(t=>I2(t.previousElementSibling)&&I2(t.nextElementSibling)).forEach(t=>{var r;(r=t.parentNode)==null||r.removeChild(t)})},VNe=e=>{Array.from(e.querySelectorAll('b[style*="font-weight"]')).filter(t=>{var r;return(r=t.getAttribute("style"))==null?void 0:r.match(zNe)}).forEach(t=>{var n;const r=e.createDocumentFragment();r.append(...t.childNodes),(n=t.parentNode)==null||n.replaceChild(r,t)})};function WNe(e){e.querySelector('[id^="docs-internal-guid-"]')&&(VNe(e),qNe(e))}const KNe=/\bmso-list:[^;]*ignore/i,HNe=/\bmso-list:[^;]*\bl(\d+)/i,YNe=/\bmso-list:[^;]*\blevel(\d+)/i,GNe=(e,t)=>{const r=e.getAttribute("style"),n=r==null?void 0:r.match(HNe);if(!n)return null;const s=Number(n[1]),i=r==null?void 0:r.match(YNe),o=i?Number(i[1]):1,a=new RegExp(`@list l${s}:level${o}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),l=t.match(a),c=l&&l[1]==="bullet"?"bullet":"ordered";return{id:s,indent:o,type:c,element:e}},ZNe=e=>{var o,a;const t=Array.from(e.querySelectorAll("[style*=mso-list]")),r=[],n=[];t.forEach(l=>{(l.getAttribute("style")||"").match(KNe)?r.push(l):n.push(l)}),r.forEach(l=>{var c;return(c=l.parentNode)==null?void 0:c.removeChild(l)});const s=e.documentElement.innerHTML,i=n.map(l=>GNe(l,s)).filter(l=>l);for(;i.length;){const l=[];let c=i.shift();for(;c;)l.push(c),c=i.length&&((o=i[0])==null?void 0:o.element)===c.element.nextElementSibling&&i[0].id===c.id?i.shift():null;const d=document.createElement("ul");l.forEach(p=>{const g=document.createElement("li");g.setAttribute("data-list",p.type),p.indent>1&&g.setAttribute("class",`ql-indent-${p.indent-1}`),g.innerHTML=p.element.innerHTML,d.appendChild(g)});const f=(a=l[0])==null?void 0:a.element,{parentNode:h}=f??{};f&&(h==null||h.replaceChild(d,f)),l.slice(1).forEach(p=>{let{element:g}=p;h==null||h.removeChild(g)})}};function XNe(e){e.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&ZNe(e)}const JNe=[XNe,WNe],QNe=e=>{e.documentElement&&JNe.forEach(t=>{t(e)})},eke=Co("quill:clipboard"),tke=[[Node.TEXT_NODE,hke],[Node.TEXT_NODE,L2],["br",oke],[Node.ELEMENT_NODE,L2],[Node.ELEMENT_NODE,ike],[Node.ELEMENT_NODE,ske],[Node.ELEMENT_NODE,dke],["li",cke],["ol, ul",uke],["pre",ake],["tr",fke],["b",A0("bold")],["i",A0("italic")],["strike",A0("strike")],["style",lke]],rke=[ONe,z8].reduce((e,t)=>(e[t.keyName]=t,e),{}),M2=[F8,Kj,Wj,q8,K8,Y8].reduce((e,t)=>(e[t.keyName]=t,e),{});class G8 extends ei{constructor(t,r){super(t,r),this.quill.root.addEventListener("copy",n=>this.onCaptureCopy(n,!1)),this.quill.root.addEventListener("cut",n=>this.onCaptureCopy(n,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],tke.concat(this.options.matchers??[]).forEach(n=>{let[s,i]=n;this.addMatcher(s,i)})}addMatcher(t,r){this.matchers.push([t,r])}convert(t){let{html:r,text:n}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(s[Qr.blotName])return new Ae().insert(n||"",{[Qr.blotName]:s[Qr.blotName]});if(!r)return new Ae().insert(n||"",s);const i=this.convertHTML(r);return _h(i,`
`)&&(i.ops[i.ops.length-1].attributes==null||s.table)?i.compose(new Ae().retain(i.length()-1).delete(1)):i}normalizeHTML(t){QNe(t)}convertHTML(t){const r=new DOMParser().parseFromString(t,"text/html");this.normalizeHTML(r);const n=r.body,s=new WeakMap,[i,o]=this.prepareMatching(n,s);return Zj(this.quill.scroll,n,i,o,s)}dangerouslyPasteHTML(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ce.sources.API;if(typeof t=="string"){const s=this.convert({html:t,text:""});this.quill.setContents(s,r),this.quill.setSelection(0,ce.sources.SILENT)}else{const s=this.convert({html:r,text:""});this.quill.updateContents(new Ae().retain(t).concat(s),n),this.quill.setSelection(t+s.length(),ce.sources.SILENT)}}onCaptureCopy(t){var o,a;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t.defaultPrevented)return;t.preventDefault();const[n]=this.quill.selection.getRange();if(n==null)return;const{html:s,text:i}=this.onCopy(n,r);(o=t.clipboardData)==null||o.setData("text/plain",i),(a=t.clipboardData)==null||a.setData("text/html",s),r&&Gj({range:n,quill:this.quill})}normalizeURIList(t){return t.split(/\r?\n/).filter(r=>r[0]!=="#").join(`
`)}onCapturePaste(t){var o,a,l,c,d;if(t.defaultPrevented||!this.quill.isEnabled())return;t.preventDefault();const r=this.quill.getSelection(!0);if(r==null)return;const n=(o=t.clipboardData)==null?void 0:o.getData("text/html");let s=(a=t.clipboardData)==null?void 0:a.getData("text/plain");if(!n&&!s){const f=(l=t.clipboardData)==null?void 0:l.getData("text/uri-list");f&&(s=this.normalizeURIList(f))}const i=Array.from(((c=t.clipboardData)==null?void 0:c.files)||[]);if(!n&&i.length>0){this.quill.uploader.upload(r,i);return}if(n&&i.length>0){const f=new DOMParser().parseFromString(n,"text/html");if(f.body.childElementCount===1&&((d=f.body.firstElementChild)==null?void 0:d.tagName)==="IMG"){this.quill.uploader.upload(r,i);return}}this.onPaste(r,{html:n,text:s})}onCopy(t){const r=this.quill.getText(t);return{html:this.quill.getSemanticHTML(t),text:r}}onPaste(t,r){let{text:n,html:s}=r;const i=this.quill.getFormat(t.index),o=this.convert({text:n,html:s},i);eke.log("onPaste",o,{text:n,html:s});const a=new Ae().retain(t.index).delete(t.length).concat(o);this.quill.updateContents(a,ce.sources.USER),this.quill.setSelection(a.length()-t.length,ce.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(t,r){const n=[],s=[];return this.matchers.forEach(i=>{const[o,a]=i;switch(o){case Node.TEXT_NODE:s.push(a);break;case Node.ELEMENT_NODE:n.push(a);break;default:Array.from(t.querySelectorAll(o)).forEach(l=>{if(r.has(l)){const c=r.get(l);c==null||c.push(a)}else r.set(l,[a])});break}}),[n,s]}}we(G8,"DEFAULTS",{matchers:[]});function Bl(e,t,r,n){return n.query(t)?e.reduce((s,i)=>{if(!i.insert)return s;if(i.attributes&&i.attributes[t])return s.push(i);const o=r?{[t]:r}:{};return s.insert(i.insert,{...o,...i.attributes})},new Ae):e}function _h(e,t){let r="";for(let n=e.ops.length-1;n>=0&&r.length<t.length;--n){const s=e.ops[n];if(typeof s.insert!="string")break;r=s.insert+r}return r.slice(-1*t.length)===t}function ta(e,t){if(!(e instanceof Element))return!1;const r=t.query(e);return r&&r.prototype instanceof Vn?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(e.tagName.toLowerCase())}function nke(e,t){return e.previousElementSibling&&e.nextElementSibling&&!ta(e.previousElementSibling,t)&&!ta(e.nextElementSibling,t)}const Lp=new WeakMap;function Z8(e){return e==null?!1:(Lp.has(e)||(e.tagName==="PRE"?Lp.set(e,!0):Lp.set(e,Z8(e.parentNode))),Lp.get(e))}function Zj(e,t,r,n,s){return t.nodeType===t.TEXT_NODE?n.reduce((i,o)=>o(t,i,e),new Ae):t.nodeType===t.ELEMENT_NODE?Array.from(t.childNodes||[]).reduce((i,o)=>{let a=Zj(e,o,r,n,s);return o.nodeType===t.ELEMENT_NODE&&(a=r.reduce((l,c)=>c(o,l,e),a),a=(s.get(o)||[]).reduce((l,c)=>c(o,l,e),a)),i.concat(a)},new Ae):new Ae}function A0(e){return(t,r,n)=>Bl(r,e,!0,n)}function ske(e,t,r){const n=ki.keys(e),s=Js.keys(e),i=Ta.keys(e),o={};return n.concat(s).concat(i).forEach(a=>{let l=r.query(a,Pe.ATTRIBUTE);l!=null&&(o[l.attrName]=l.value(e),o[l.attrName])||(l=rke[a],l!=null&&(l.attrName===a||l.keyName===a)&&(o[l.attrName]=l.value(e)||void 0),l=M2[a],l!=null&&(l.attrName===a||l.keyName===a)&&(l=M2[a],o[l.attrName]=l.value(e)||void 0))}),Object.entries(o).reduce((a,l)=>{let[c,d]=l;return Bl(a,c,d,r)},t)}function ike(e,t,r){const n=r.query(e);if(n==null)return t;if(n.prototype instanceof Vn){const s={},i=n.value(e);if(i!=null)return s[n.blotName]=i,new Ae().insert(s,n.formats(e,r))}else if(n.prototype instanceof Mf&&!_h(t,`
`)&&t.insert(`
`),"blotName"in n&&"formats"in n&&typeof n.formats=="function")return Bl(t,n.blotName,n.formats(e,r),r);return t}function oke(e,t){return _h(t,`
`)||t.insert(`
`),t}function ake(e,t,r){const n=r.query("code-block"),s=n&&"formats"in n&&typeof n.formats=="function"?n.formats(e,r):!0;return Bl(t,"code-block",s,r)}function lke(){return new Ae}function cke(e,t,r){const n=r.query(e);if(n==null||n.blotName!=="list"||!_h(t,`
`))return t;let s=-1,i=e.parentNode;for(;i!=null;)["OL","UL"].includes(i.tagName)&&(s+=1),i=i.parentNode;return s<=0?t:t.reduce((o,a)=>a.insert?a.attributes&&typeof a.attributes.indent=="number"?o.push(a):o.insert(a.insert,{indent:s,...a.attributes||{}}):o,new Ae)}function uke(e,t,r){const n=e;let s=n.tagName==="OL"?"ordered":"bullet";const i=n.getAttribute("data-checked");return i&&(s=i==="true"?"checked":"unchecked"),Bl(t,"list",s,r)}function L2(e,t,r){if(!_h(t,`
`)){if(ta(e,r)&&(e.childNodes.length>0||e instanceof HTMLParagraphElement))return t.insert(`
`);if(t.length()>0&&e.nextSibling){let n=e.nextSibling;for(;n!=null;){if(ta(n,r))return t.insert(`
`);const s=r.query(n);if(s&&s.prototype instanceof ls)return t.insert(`
`);n=n.firstChild}}}return t}function dke(e,t,r){var i;const n={},s=e.style||{};return s.fontStyle==="italic"&&(n.italic=!0),s.textDecoration==="underline"&&(n.underline=!0),s.textDecoration==="line-through"&&(n.strike=!0),((i=s.fontWeight)!=null&&i.startsWith("bold")||parseInt(s.fontWeight,10)>=700)&&(n.bold=!0),t=Object.entries(n).reduce((o,a)=>{let[l,c]=a;return Bl(o,l,c,r)},t),parseFloat(s.textIndent||0)>0?new Ae().insert("	").concat(t):t}function fke(e,t,r){var s,i;const n=((s=e.parentElement)==null?void 0:s.tagName)==="TABLE"?e.parentElement:(i=e.parentElement)==null?void 0:i.parentElement;if(n!=null){const a=Array.from(n.querySelectorAll("tr")).indexOf(e)+1;return Bl(t,"table",a,r)}return t}function hke(e,t,r){var s;let n=e.data;if(((s=e.parentElement)==null?void 0:s.tagName)==="O:P")return t.insert(n.trim());if(!Z8(e)){if(n.trim().length===0&&n.includes(`
`)&&!nke(e,r))return t;n=n.replace(/[^\S\u00a0]/g," "),n=n.replace(/ {2,}/g," "),(e.previousSibling==null&&e.parentElement!=null&&ta(e.parentElement,r)||e.previousSibling instanceof Element&&ta(e.previousSibling,r))&&(n=n.replace(/^ /,"")),(e.nextSibling==null&&e.parentElement!=null&&ta(e.parentElement,r)||e.nextSibling instanceof Element&&ta(e.nextSibling,r))&&(n=n.replace(/ $/,"")),n=n.replaceAll(""," ")}return t.insert(n)}class X8 extends ei{constructor(r,n){super(r,n);we(this,"lastRecorded",0);we(this,"ignoreChange",!1);we(this,"stack",{undo:[],redo:[]});we(this,"currentRange",null);this.quill.on(ce.events.EDITOR_CHANGE,(s,i,o,a)=>{s===ce.events.SELECTION_CHANGE?i&&a!==ce.sources.SILENT&&(this.currentRange=i):s===ce.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||a===ce.sources.USER?this.record(i,o):this.transform(i)),this.currentRange=o1(this.currentRange,i))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",s=>{s.inputType==="historyUndo"?(this.undo(),s.preventDefault()):s.inputType==="historyRedo"&&(this.redo(),s.preventDefault())})}change(r,n){if(this.stack[r].length===0)return;const s=this.stack[r].pop();if(!s)return;const i=this.quill.getContents(),o=s.delta.invert(i);this.stack[n].push({delta:o,range:o1(s.range,o)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(s.delta,ce.sources.USER),this.ignoreChange=!1,this.restoreSelection(s)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(r,n){if(r.ops.length===0)return;this.stack.redo=[];let s=r.invert(n),i=this.currentRange;const o=Date.now();if(this.lastRecorded+this.options.delay>o&&this.stack.undo.length>0){const a=this.stack.undo.pop();a&&(s=s.compose(a.delta),i=a.range)}else this.lastRecorded=o;s.length()!==0&&(this.stack.undo.push({delta:s,range:i}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(r){F2(this.stack.undo,r),F2(this.stack.redo,r)}undo(){this.change("undo","redo")}restoreSelection(r){if(r.range)this.quill.setSelection(r.range,ce.sources.USER);else{const n=mke(this.quill.scroll,r.delta);this.quill.setSelection(n,ce.sources.USER)}}}we(X8,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function F2(e,t){let r=t;for(let n=e.length-1;n>=0;n-=1){const s=e[n];e[n]={delta:r.transform(s.delta,!0),range:s.range&&o1(s.range,r)},r=s.delta.transform(r),e[n].delta.length()===0&&e.splice(n,1)}}function pke(e,t){const r=t.ops[t.ops.length-1];return r==null?!1:r.insert!=null?typeof r.insert=="string"&&r.insert.endsWith(`
`):r.attributes!=null?Object.keys(r.attributes).some(n=>e.query(n,Pe.BLOCK)!=null):!1}function mke(e,t){const r=t.reduce((s,i)=>s+(i.delete||0),0);let n=t.length()-r;return pke(e,t)&&(n-=1),n}function o1(e,t){if(!e)return e;const r=t.transformPosition(e.index),n=t.transformPosition(e.index+e.length);return{index:r,length:n-r}}class J8 extends ei{constructor(t,r){super(t,r),t.root.addEventListener("drop",n=>{var o;n.preventDefault();let s=null;if(document.caretRangeFromPoint)s=document.caretRangeFromPoint(n.clientX,n.clientY);else if(document.caretPositionFromPoint){const a=document.caretPositionFromPoint(n.clientX,n.clientY);s=document.createRange(),s.setStart(a.offsetNode,a.offset),s.setEnd(a.offsetNode,a.offset)}const i=s&&t.selection.normalizeNative(s);if(i){const a=t.selection.normalizedToRange(i);(o=n.dataTransfer)!=null&&o.files&&this.upload(a,n.dataTransfer.files)}})}upload(t,r){const n=[];Array.from(r).forEach(s=>{var i;s&&((i=this.options.mimetypes)!=null&&i.includes(s.type))&&n.push(s)}),n.length>0&&this.options.handler.call(this,t,n)}}J8.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(e,t){if(!this.quill.scroll.query("image"))return;const r=t.map(n=>new Promise(s=>{const i=new FileReader;i.onload=()=>{s(i.result)},i.readAsDataURL(n)}));Promise.all(r).then(n=>{const s=n.reduce((i,o)=>i.insert({image:o}),new Ae().retain(e.index).delete(e.length));this.quill.updateContents(s,ke.sources.USER),this.quill.setSelection(e.index+n.length,ke.sources.SILENT)})}};const gke=["insertText","insertReplacementText"];class yke extends ei{constructor(t,r){super(t,r),t.root.addEventListener("beforeinput",n=>{this.handleBeforeInput(n)}),/Android/i.test(navigator.userAgent)||t.on(ce.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(t){Gj({range:t,quill:this.quill})}replaceText(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(t.length===0)return!1;if(r){const n=this.quill.getFormat(t.index,1);this.deleteRange(t),this.quill.updateContents(new Ae().retain(t.index).insert(r,n),ce.sources.USER)}else this.deleteRange(t);return this.quill.setSelection(t.index+r.length,0,ce.sources.SILENT),!0}handleBeforeInput(t){if(this.quill.composition.isComposing||t.defaultPrevented||!gke.includes(t.inputType))return;const r=t.getTargetRanges?t.getTargetRanges()[0]:null;if(!r||r.collapsed===!0)return;const n=vke(t);if(n==null)return;const s=this.quill.selection.normalizeNative(r),i=s?this.quill.selection.normalizedToRange(s):null;i&&this.replaceText(i,n)&&t.preventDefault()}handleCompositionStart(){const t=this.quill.getSelection();t&&this.replaceText(t)}}function vke(e){var t;return typeof e.data=="string"?e.data:(t=e.dataTransfer)!=null&&t.types.includes("text/plain")?e.dataTransfer.getData("text/plain"):null}const bke=/Mac/i.test(navigator.platform),xke=100,wke=e=>!!(e.key==="ArrowLeft"||e.key==="ArrowRight"||e.key==="ArrowUp"||e.key==="ArrowDown"||e.key==="Home"||bke&&e.key==="a"&&e.ctrlKey===!0);class _ke extends ei{constructor(r,n){super(r,n);we(this,"isListening",!1);we(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(r,n){let{line:s,event:i}=n;if(!(s instanceof qs)||!s.uiNode)return!0;const o=getComputedStyle(s.domNode).direction==="rtl";return o&&i.key!=="ArrowRight"||!o&&i.key!=="ArrowLeft"?!0:(this.quill.setSelection(r.index-1,r.length+(i.shiftKey?1:0),ce.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",r=>{!r.defaultPrevented&&wke(r)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+xke,this.isListening)return;this.isListening=!0;const r=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",r,{once:!0})}handleSelectionChange(){const r=document.getSelection();if(!r)return;const n=r.getRangeAt(0);if(n.collapsed!==!0||n.startOffset!==0)return;const s=this.quill.scroll.find(n.startContainer);if(!(s instanceof qs)||!s.uiNode)return;const i=document.createRange();i.setStartAfter(s.uiNode),i.setEndAfter(s.uiNode),r.removeAllRanges(),r.addRange(i)}}ce.register({"blots/block":Lr,"blots/block/embed":ls,"blots/break":Qs,"blots/container":Ll,"blots/cursor":gu,"blots/embed":qj,"blots/inline":Ci,"blots/scroll":dc,"blots/text":Ys,"modules/clipboard":G8,"modules/history":X8,"modules/keyboard":dv,"modules/uploader":J8,"modules/input":yke,"modules/uiNode":_ke});class Ske extends Js{add(t,r){let n=0;if(r==="+1"||r==="-1"){const s=this.value(t)||0;n=r==="+1"?s+1:s-1}else typeof r=="number"&&(n=r);return n===0?(this.remove(t),!0):super.add(t,n.toString())}canAdd(t,r){return super.canAdd(t,r)||super.canAdd(t,parseInt(r,10))}value(t){return parseInt(super.value(t),10)||void 0}}const Eke=new Ske("indent","ql-indent",{scope:Pe.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class a1 extends Lr{}we(a1,"blotName","blockquote"),we(a1,"tagName","blockquote");class l1 extends Lr{static formats(t){return this.tagName.indexOf(t.tagName)+1}}we(l1,"blotName","header"),we(l1,"tagName",["H1","H2","H3","H4","H5","H6"]);class Sh extends Ll{}Sh.blotName="list-container";Sh.tagName="OL";class Eh extends Lr{static create(t){const r=super.create();return r.setAttribute("data-list",t),r}static formats(t){return t.getAttribute("data-list")||void 0}static register(){ce.register(Sh)}constructor(t,r){super(t,r);const n=r.ownerDocument.createElement("span"),s=i=>{if(!t.isEnabled())return;const o=this.statics.formats(r,t);o==="checked"?(this.format("list","unchecked"),i.preventDefault()):o==="unchecked"&&(this.format("list","checked"),i.preventDefault())};n.addEventListener("mousedown",s),n.addEventListener("touchstart",s),this.attachUI(n)}format(t,r){t===this.statics.blotName&&r?this.domNode.setAttribute("data-list",r):super.format(t,r)}}Eh.blotName="list";Eh.tagName="LI";Sh.allowedChildren=[Eh];Eh.requiredContainer=Sh;class Bf extends Ci{static create(){return super.create()}static formats(){return!0}optimize(t){super.optimize(t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}we(Bf,"blotName","bold"),we(Bf,"tagName",["STRONG","B"]);class c1 extends Bf{}we(c1,"blotName","italic"),we(c1,"tagName",["EM","I"]);class ra extends Ci{static create(t){const r=super.create(t);return r.setAttribute("href",this.sanitize(t)),r.setAttribute("rel","noopener noreferrer"),r.setAttribute("target","_blank"),r}static formats(t){return t.getAttribute("href")}static sanitize(t){return Q8(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}format(t,r){t!==this.statics.blotName||!r?super.format(t,r):this.domNode.setAttribute("href",this.constructor.sanitize(r))}}we(ra,"blotName","link"),we(ra,"tagName","A"),we(ra,"SANITIZED_URL","about:blank"),we(ra,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function Q8(e,t){const r=document.createElement("a");r.href=e;const n=r.href.slice(0,r.href.indexOf(":"));return t.indexOf(n)>-1}class u1 extends Ci{static create(t){return t==="super"?document.createElement("sup"):t==="sub"?document.createElement("sub"):super.create(t)}static formats(t){if(t.tagName==="SUB")return"sub";if(t.tagName==="SUP")return"super"}}we(u1,"blotName","script"),we(u1,"tagName",["SUB","SUP"]);class d1 extends Bf{}we(d1,"blotName","strike"),we(d1,"tagName",["S","STRIKE"]);class f1 extends Ci{}we(f1,"blotName","underline"),we(f1,"tagName","U");class rm extends qj{static create(t){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const r=super.create(t);return typeof t=="string"&&(window.katex.render(t,r,{throwOnError:!1,errorColor:"#f00"}),r.setAttribute("data-value",t)),r}static value(t){return t.getAttribute("data-value")}html(){const{formula:t}=this.value();return`<span>${t}</span>`}}we(rm,"blotName","formula"),we(rm,"className","ql-formula"),we(rm,"tagName","SPAN");const B2=["alt","height","width"];class h1 extends Vn{static create(t){const r=super.create(t);return typeof t=="string"&&r.setAttribute("src",this.sanitize(t)),r}static formats(t){return B2.reduce((r,n)=>(t.hasAttribute(n)&&(r[n]=t.getAttribute(n)),r),{})}static match(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}static sanitize(t){return Q8(t,["http","https","data"])?t:"//:0"}static value(t){return t.getAttribute("src")}format(t,r){B2.indexOf(t)>-1?r?this.domNode.setAttribute(t,r):this.domNode.removeAttribute(t):super.format(t,r)}}we(h1,"blotName","image"),we(h1,"tagName","IMG");const z2=["height","width"];class nm extends ls{static create(t){const r=super.create(t);return r.setAttribute("frameborder","0"),r.setAttribute("allowfullscreen","true"),r.setAttribute("src",this.sanitize(t)),r}static formats(t){return z2.reduce((r,n)=>(t.hasAttribute(n)&&(r[n]=t.getAttribute(n)),r),{})}static sanitize(t){return ra.sanitize(t)}static value(t){return t.getAttribute("src")}format(t,r){z2.indexOf(t)>-1?r?this.domNode.setAttribute(t,r):this.domNode.removeAttribute(t):super.format(t,r)}html(){const{video:t}=this.value();return`<a href="${t}">${t}</a>`}}we(nm,"blotName","video"),we(nm,"className","ql-video"),we(nm,"tagName","IFRAME");const Od=new Js("code-token","hljs",{scope:Pe.INLINE});class vo extends Ci{static formats(t,r){for(;t!=null&&t!==r.domNode;){if(t.classList&&t.classList.contains(Qr.className))return super.formats(t,r);t=t.parentNode}}constructor(t,r,n){super(t,r,n),Od.add(this.domNode,n)}format(t,r){t!==vo.blotName?super.format(t,r):r?Od.add(this.domNode,r):(Od.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),Od.value(this.domNode)||this.unwrap()}}vo.blotName="code-token";vo.className="ql-token";class os extends Qr{static create(t){const r=super.create(t);return typeof t=="string"&&r.setAttribute("data-language",t),r}static formats(t){return t.getAttribute("data-language")||"plain"}static register(){}format(t,r){t===this.statics.blotName&&r?this.domNode.setAttribute("data-language",r):super.format(t,r)}replaceWith(t,r){return this.formatAt(0,this.length(),vo.blotName,!1),super.replaceWith(t,r)}}class Jd extends Fl{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(t,r){t===os.blotName&&(this.forceNext=!0,this.children.forEach(n=>{n.format(t,r)}))}formatAt(t,r,n,s){n===os.blotName&&(this.forceNext=!0),super.formatAt(t,r,n,s)}highlight(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const s=`${Array.from(this.domNode.childNodes).filter(o=>o!==this.uiNode).map(o=>o.textContent).join(`
`)}
`,i=os.formats(this.children.head.domNode);if(r||this.forceNext||this.cachedText!==s){if(s.trim().length>0||this.cachedText==null){const o=this.children.reduce((l,c)=>l.concat(I8(c,!1)),new Ae),a=t(s,i);o.diff(a).reduce((l,c)=>{let{retain:d,attributes:f}=c;return d?(f&&Object.keys(f).forEach(h=>{[os.blotName,vo.blotName].includes(h)&&this.formatAt(l,d,h,f[h])}),l+d):l},0)}this.cachedText=s,this.forceNext=!1}}html(t,r){const[n]=this.children.find(t);return`<pre data-language="${n?os.formats(n.domNode):"plain"}">
${uv(this.code(t,r))}
</pre>`}optimize(t){if(super.optimize(t),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const r=os.formats(this.children.head.domNode);r!==this.uiNode.value&&(this.uiNode.value=r)}}}Jd.allowedChildren=[os];os.requiredContainer=Jd;os.allowedChildren=[vo,gu,Ys,Qs];const jke=(e,t,r)=>{if(typeof e.versionString=="string"){const n=e.versionString.split(".")[0];if(parseInt(n,10)>=11)return e.highlight(r,{language:t}).value}return e.highlight(t,r).value};class ez extends ei{static register(){ce.register(vo,!0),ce.register(os,!0),ce.register(Jd,!0)}constructor(t,r){if(super(t,r),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((n,s)=>{let{key:i}=s;return n[i]=!0,n},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(ce.events.SCROLL_BLOT_MOUNT,t=>{if(!(t instanceof Jd))return;const r=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(n=>{let{key:s,label:i}=n;const o=r.ownerDocument.createElement("option");o.textContent=i,o.setAttribute("value",s),r.appendChild(o)}),r.addEventListener("change",()=>{t.format(os.blotName,r.value),this.quill.root.focus(),this.highlight(t,!0)}),t.uiNode==null&&(t.attachUI(r),t.children.head&&(r.value=os.formats(t.children.head.domNode)))})}initTimer(){let t=null;this.quill.on(ce.events.SCROLL_OPTIMIZE,()=>{t&&clearTimeout(t),t=setTimeout(()=>{this.highlight(),t=null},this.options.interval)})}highlight(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(ce.sources.USER);const n=this.quill.getSelection();(t==null?this.quill.scroll.descendants(Jd):[t]).forEach(i=>{i.highlight(this.highlightBlot,r)}),this.quill.update(ce.sources.SILENT),n!=null&&this.quill.setSelection(n,ce.sources.SILENT)}highlightBlot(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(r=this.languages[r]?r:"plain",r==="plain")return uv(t).split(`
`).reduce((s,i,o)=>(o!==0&&s.insert(`
`,{[Qr.blotName]:r}),s.insert(i)),new Ae);const n=this.quill.root.ownerDocument.createElement("div");return n.classList.add(Qr.className),n.innerHTML=jke(this.options.hljs,r,t),Zj(this.quill.scroll,n,[(s,i)=>{const o=Od.value(s);return o?i.compose(new Ae().retain(i.length(),{[vo.blotName]:o})):i}],[(s,i)=>s.data.split(`
`).reduce((o,a,l)=>(l!==0&&o.insert(`
`,{[Qr.blotName]:r}),o.insert(a)),i)],new WeakMap)}}ez.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const of=class of extends Lr{static create(t){const r=super.create();return t?r.setAttribute("data-row",t):r.setAttribute("data-row",Xj()),r}static formats(t){if(t.hasAttribute("data-row"))return t.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(t,r){t===of.blotName&&r?this.domNode.setAttribute("data-row",r):super.format(t,r)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};we(of,"blotName","table"),we(of,"tagName","TD");let zs=of;class bo extends Ll{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const t=this.children.head.formats(),r=this.children.tail.formats(),n=this.next.children.head.formats(),s=this.next.children.tail.formats();return t.table===r.table&&t.table===n.table&&t.table===s.table}return!1}optimize(t){super.optimize(t),this.children.forEach(r=>{if(r.next==null)return;const n=r.formats(),s=r.next.formats();if(n.table!==s.table){const i=this.splitAfter(r);i&&i.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}we(bo,"blotName","table-row"),we(bo,"tagName","TR");class xi extends Ll{}we(xi,"blotName","table-body"),we(xi,"tagName","TBODY");class vu extends Ll{balanceCells(){const t=this.descendants(bo),r=t.reduce((n,s)=>Math.max(s.children.length,n),0);t.forEach(n=>{new Array(r-n.children.length).fill(0).forEach(()=>{let s;n.children.head!=null&&(s=zs.formats(n.children.head.domNode));const i=this.scroll.create(zs.blotName,s);n.appendChild(i),i.optimize()})})}cells(t){return this.rows().map(r=>r.children.at(t))}deleteColumn(t){const[r]=this.descendant(xi);r==null||r.children.head==null||r.children.forEach(n=>{const s=n.children.at(t);s!=null&&s.remove()})}insertColumn(t){const[r]=this.descendant(xi);r==null||r.children.head==null||r.children.forEach(n=>{const s=n.children.at(t),i=zs.formats(n.children.head.domNode),o=this.scroll.create(zs.blotName,i);n.insertBefore(o,s)})}insertRow(t){const[r]=this.descendant(xi);if(r==null||r.children.head==null)return;const n=Xj(),s=this.scroll.create(bo.blotName);r.children.head.children.forEach(()=>{const o=this.scroll.create(zs.blotName,n);s.appendChild(o)});const i=r.children.at(t);r.insertBefore(s,i)}rows(){const t=this.children.head;return t==null?[]:t.children.map(r=>r)}}we(vu,"blotName","table-container"),we(vu,"tagName","TABLE");vu.allowedChildren=[xi];xi.requiredContainer=vu;xi.allowedChildren=[bo];bo.requiredContainer=xi;bo.allowedChildren=[zs];zs.requiredContainer=bo;function Xj(){return`row-${Math.random().toString(36).slice(2,6)}`}class Nke extends ei{static register(){ce.register(zs),ce.register(bo),ce.register(xi),ce.register(vu)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(vu).forEach(t=>{t.balanceCells()})}deleteColumn(){const[t,,r]=this.getTable();r!=null&&(t.deleteColumn(r.cellOffset()),this.quill.update(ce.sources.USER))}deleteRow(){const[,t]=this.getTable();t!=null&&(t.remove(),this.quill.update(ce.sources.USER))}deleteTable(){const[t]=this.getTable();if(t==null)return;const r=t.offset();t.remove(),this.quill.update(ce.sources.USER),this.quill.setSelection(r,ce.sources.SILENT)}getTable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(t==null)return[null,null,null,-1];const[r,n]=this.quill.getLine(t.index);if(r==null||r.statics.blotName!==zs.blotName)return[null,null,null,-1];const s=r.parent;return[s.parent.parent,s,r,n]}insertColumn(t){const r=this.quill.getSelection();if(!r)return;const[n,s,i]=this.getTable(r);if(i==null)return;const o=i.cellOffset();n.insertColumn(o+t),this.quill.update(ce.sources.USER);let a=s.rowOffset();t===0&&(a+=1),this.quill.setSelection(r.index+a,r.length,ce.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(t){const r=this.quill.getSelection();if(!r)return;const[n,s,i]=this.getTable(r);if(i==null)return;const o=s.rowOffset();n.insertRow(o+t),this.quill.update(ce.sources.USER),t>0?this.quill.setSelection(r,ce.sources.SILENT):this.quill.setSelection(r.index+s.children.length,r.length,ce.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(t,r){const n=this.quill.getSelection();if(n==null)return;const s=new Array(t).fill(0).reduce(i=>{const o=new Array(r).fill(`
`).join("");return i.insert(o,{table:Xj()})},new Ae().retain(n.index));this.quill.updateContents(s,ce.sources.USER),this.quill.setSelection(n.index,ce.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(ce.events.SCROLL_OPTIMIZE,t=>{t.some(r=>["TD","TR","TBODY","TABLE"].includes(r.target.tagName)?(this.quill.once(ce.events.TEXT_CHANGE,(n,s,i)=>{i===ce.sources.USER&&this.balanceTables()}),!0):!1)})}}const U2=Co("quill:toolbar");class Jj extends ei{constructor(t,r){var n,s;if(super(t,r),Array.isArray(this.options.container)){const i=document.createElement("div");i.setAttribute("role","toolbar"),kke(i,this.options.container),(s=(n=t.container)==null?void 0:n.parentNode)==null||s.insertBefore(i,t.container),this.container=i}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){U2.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(i=>{var a;const o=(a=this.options.handlers)==null?void 0:a[i];o&&this.addHandler(i,o)}),Array.from(this.container.querySelectorAll("button, select")).forEach(i=>{this.attach(i)}),this.quill.on(ce.events.EDITOR_CHANGE,()=>{const[i]=this.quill.selection.getRange();this.update(i)})}addHandler(t,r){this.handlers[t]=r}attach(t){let r=Array.from(t.classList).find(s=>s.indexOf("ql-")===0);if(!r)return;if(r=r.slice(3),t.tagName==="BUTTON"&&t.setAttribute("type","button"),this.handlers[r]==null&&this.quill.scroll.query(r)==null){U2.warn("ignoring attaching to nonexistent format",r,t);return}const n=t.tagName==="SELECT"?"change":"click";t.addEventListener(n,s=>{let i;if(t.tagName==="SELECT"){if(t.selectedIndex<0)return;const a=t.options[t.selectedIndex];a.hasAttribute("selected")?i=!1:i=a.value||!1}else t.classList.contains("ql-active")?i=!1:i=t.value||!t.hasAttribute("value"),s.preventDefault();this.quill.focus();const[o]=this.quill.selection.getRange();if(this.handlers[r]!=null)this.handlers[r].call(this,i);else if(this.quill.scroll.query(r).prototype instanceof Vn){if(i=prompt(`Enter ${r}`),!i)return;this.quill.updateContents(new Ae().retain(o.index).delete(o.length).insert({[r]:i}),ce.sources.USER)}else this.quill.format(r,i,ce.sources.USER);this.update(o)}),this.controls.push([r,t])}update(t){const r=t==null?{}:this.quill.getFormat(t);this.controls.forEach(n=>{const[s,i]=n;if(i.tagName==="SELECT"){let o=null;if(t==null)o=null;else if(r[s]==null)o=i.querySelector("option[selected]");else if(!Array.isArray(r[s])){let a=r[s];typeof a=="string"&&(a=a.replace(/"/g,'\\"')),o=i.querySelector(`option[value="${a}"]`)}o==null?(i.value="",i.selectedIndex=-1):o.selected=!0}else if(t==null)i.classList.remove("ql-active"),i.setAttribute("aria-pressed","false");else if(i.hasAttribute("value")){const o=r[s],a=o===i.getAttribute("value")||o!=null&&o.toString()===i.getAttribute("value")||o==null&&!i.getAttribute("value");i.classList.toggle("ql-active",a),i.setAttribute("aria-pressed",a.toString())}else{const o=r[s]!=null;i.classList.toggle("ql-active",o),i.setAttribute("aria-pressed",o.toString())}})}}Jj.DEFAULTS={};function q2(e,t,r){const n=document.createElement("button");n.setAttribute("type","button"),n.classList.add(`ql-${t}`),n.setAttribute("aria-pressed","false"),r!=null?(n.value=r,n.setAttribute("aria-label",`${t}: ${r}`)):n.setAttribute("aria-label",t),e.appendChild(n)}function kke(e,t){Array.isArray(t[0])||(t=[t]),t.forEach(r=>{const n=document.createElement("span");n.classList.add("ql-formats"),r.forEach(s=>{if(typeof s=="string")q2(n,s);else{const i=Object.keys(s)[0],o=s[i];Array.isArray(o)?Cke(n,i,o):q2(n,i,o)}}),e.appendChild(n)})}function Cke(e,t,r){const n=document.createElement("select");n.classList.add(`ql-${t}`),r.forEach(s=>{const i=document.createElement("option");s!==!1?i.setAttribute("value",String(s)):i.setAttribute("selected","selected"),n.appendChild(i)}),e.appendChild(n)}Jj.DEFAULTS={container:null,handlers:{clean(){const e=this.quill.getSelection();if(e!=null)if(e.length===0){const t=this.quill.getFormat();Object.keys(t).forEach(r=>{this.quill.scroll.query(r,Pe.INLINE)!=null&&this.quill.format(r,!1,ce.sources.USER)})}else this.quill.removeFormat(e.index,e.length,ce.sources.USER)},direction(e){const{align:t}=this.quill.getFormat();e==="rtl"&&t==null?this.quill.format("align","right",ce.sources.USER):!e&&t==="right"&&this.quill.format("align",!1,ce.sources.USER),this.quill.format("direction",e,ce.sources.USER)},indent(e){const t=this.quill.getSelection(),r=this.quill.getFormat(t),n=parseInt(r.indent||0,10);if(e==="+1"||e==="-1"){let s=e==="+1"?1:-1;r.direction==="rtl"&&(s*=-1),this.quill.format("indent",n+s,ce.sources.USER)}},link(e){e===!0&&(e=prompt("Enter link URL:")),this.quill.format("link",e,ce.sources.USER)},list(e){const t=this.quill.getSelection(),r=this.quill.getFormat(t);e==="check"?r.list==="checked"||r.list==="unchecked"?this.quill.format("list",!1,ce.sources.USER):this.quill.format("list","unchecked",ce.sources.USER):this.quill.format("list",e,ce.sources.USER)}}};const Tke='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',Ake='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',Pke='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',Oke='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',Dke='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',$ke='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',Rke='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',Ike='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',V2='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',Mke='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',Lke='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',Fke='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',Bke='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',zke='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',Uke='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',qke='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',Vke='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',Wke='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',Kke='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',Hke='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',Yke='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',Gke='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',Zke='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',Xke='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',Jke='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',Qke='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',eCe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',tCe='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',rCe='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',nCe='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',sCe='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',iCe='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',oCe='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',zf={align:{"":Tke,center:Ake,right:Pke,justify:Oke},background:Dke,blockquote:$ke,bold:Rke,clean:Ike,code:V2,"code-block":V2,color:Mke,direction:{"":Lke,rtl:Fke},formula:Bke,header:{1:zke,2:Uke,3:qke,4:Vke,5:Wke,6:Kke},italic:Hke,image:Yke,indent:{"+1":Gke,"-1":Zke},link:Xke,list:{bullet:Jke,check:Qke,ordered:eCe},script:{sub:tCe,super:rCe},strike:nCe,table:sCe,underline:iCe,video:oCe},aCe='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let W2=0;function K2(e,t){e.setAttribute(t,`${e.getAttribute(t)!=="true"}`)}class fv{constructor(t){this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",r=>{switch(r.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),r.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),K2(this.label,"aria-expanded"),K2(this.options,"aria-hidden")}buildItem(t){const r=document.createElement("span");r.tabIndex="0",r.setAttribute("role","button"),r.classList.add("ql-picker-item");const n=t.getAttribute("value");return n&&r.setAttribute("data-value",n),t.textContent&&r.setAttribute("data-label",t.textContent),r.addEventListener("click",()=>{this.selectItem(r,!0)}),r.addEventListener("keydown",s=>{switch(s.key){case"Enter":this.selectItem(r,!0),s.preventDefault();break;case"Escape":this.escape(),s.preventDefault();break}}),r}buildLabel(){const t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML=aCe,t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}buildOptions(){const t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id=`ql-picker-options-${W2}`,W2+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,Array.from(this.select.options).forEach(r=>{const n=this.buildItem(r);t.appendChild(n),r.selected===!0&&this.selectItem(n)}),this.container.appendChild(t)}buildPicker(){Array.from(this.select.attributes).forEach(t=>{this.container.setAttribute(t.name,t.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.container.querySelector(".ql-selected");t!==n&&(n!=null&&n.classList.remove("ql-selected"),t!=null&&(t.classList.add("ql-selected"),this.select.selectedIndex=Array.from(t.parentNode.children).indexOf(t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),r&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let t;if(this.select.selectedIndex>-1){const n=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(n)}else this.selectItem(null);const r=t!=null&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",r)}}class tz extends fv{constructor(t,r){super(t),this.label.innerHTML=r,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(n=>{n.classList.add("ql-primary")})}buildItem(t){const r=super.buildItem(t);return r.style.backgroundColor=t.getAttribute("value")||"",r}selectItem(t,r){super.selectItem(t,r);const n=this.label.querySelector(".ql-color-label"),s=t&&t.getAttribute("data-value")||"";n&&(n.tagName==="line"?n.style.stroke=s:n.style.fill=s)}}class rz extends fv{constructor(t,r){super(t),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(n=>{n.innerHTML=r[n.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(t,r){super.selectItem(t,r);const n=t||this.defaultItem;if(n!=null){if(this.label.innerHTML===n.innerHTML)return;this.label.innerHTML=n.innerHTML}}}const lCe=e=>{const{overflowY:t}=getComputedStyle(e,null);return t!=="visible"&&t!=="clip"};class nz{constructor(t,r){this.quill=t,this.boundsContainer=r||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,lCe(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(t){const r=t.left+t.width/2-this.root.offsetWidth/2,n=t.bottom+this.quill.root.scrollTop;this.root.style.left=`${r}px`,this.root.style.top=`${n}px`,this.root.classList.remove("ql-flip");const s=this.boundsContainer.getBoundingClientRect(),i=this.root.getBoundingClientRect();let o=0;if(i.right>s.right&&(o=s.right-i.right,this.root.style.left=`${r+o}px`),i.left<s.left&&(o=s.left-i.left,this.root.style.left=`${r+o}px`),i.bottom>s.bottom){const a=i.bottom-i.top,l=t.bottom-t.top+a;this.root.style.top=`${n-l}px`,this.root.classList.add("ql-flip")}return o}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const cCe=[!1,"center","right","justify"],uCe=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],dCe=[!1,"serif","monospace"],fCe=["1","2","3",!1],hCe=["small",!1,"large","huge"];class jh extends yu{constructor(t,r){super(t,r);const n=s=>{if(!document.body.contains(t.root)){document.body.removeEventListener("click",n);return}this.tooltip!=null&&!this.tooltip.root.contains(s.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(i=>{i.container.contains(s.target)||i.close()})};t.emitter.listenDOM("click",document.body,n)}addModule(t){const r=super.addModule(t);return t==="toolbar"&&this.extendToolbar(r),r}buildButtons(t,r){Array.from(t).forEach(n=>{(n.getAttribute("class")||"").split(/\s+/).forEach(i=>{if(i.startsWith("ql-")&&(i=i.slice(3),r[i]!=null))if(i==="direction")n.innerHTML=r[i][""]+r[i].rtl;else if(typeof r[i]=="string")n.innerHTML=r[i];else{const o=n.value||"";o!=null&&r[i][o]&&(n.innerHTML=r[i][o])}})})}buildPickers(t,r){this.pickers=Array.from(t).map(s=>{if(s.classList.contains("ql-align")&&(s.querySelector("option")==null&&_d(s,cCe),typeof r.align=="object"))return new rz(s,r.align);if(s.classList.contains("ql-background")||s.classList.contains("ql-color")){const i=s.classList.contains("ql-background")?"background":"color";return s.querySelector("option")==null&&_d(s,uCe,i==="background"?"#ffffff":"#000000"),new tz(s,r[i])}return s.querySelector("option")==null&&(s.classList.contains("ql-font")?_d(s,dCe):s.classList.contains("ql-header")?_d(s,fCe):s.classList.contains("ql-size")&&_d(s,hCe)),new fv(s)});const n=()=>{this.pickers.forEach(s=>{s.update()})};this.quill.on(ke.events.EDITOR_CHANGE,n)}}jh.DEFAULTS=oa({},yu.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let e=this.container.querySelector("input.ql-image[type=file]");e==null&&(e=document.createElement("input"),e.setAttribute("type","file"),e.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),e.classList.add("ql-image"),e.addEventListener("change",()=>{const t=this.quill.getSelection(!0);this.quill.uploader.upload(t,e.files),e.value=""}),this.container.appendChild(e)),e.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class sz extends nz{constructor(t,r){super(t,r),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",t=>{t.key==="Enter"?(this.save(),t.preventDefault()):t.key==="Escape"&&(this.cancel(),t.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;r!=null?this.textbox.value=r:t!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const n=this.quill.getBounds(this.quill.selection.savedRange);n!=null&&this.position(n),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${t}`)||""),this.root.setAttribute("data-mode",t)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:t}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:r}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",t,ke.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",t,ke.sources.USER)),this.quill.root.scrollTop=r;break}case"video":t=pCe(t);case"formula":{if(!t)break;const r=this.quill.getSelection(!0);if(r!=null){const n=r.index+r.length;this.quill.insertEmbed(n,this.root.getAttribute("data-mode"),t,ke.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(n+1," ",ke.sources.USER),this.quill.setSelection(n+2,ke.sources.USER)}break}}this.textbox.value="",this.hide()}}function pCe(e){let t=e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return t?`${t[1]||"https"}://www.youtube.com/embed/${t[2]}?showinfo=0`:(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${t[1]||"https"}://player.vimeo.com/video/${t[2]}/`:e}function _d(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;t.forEach(n=>{const s=document.createElement("option");n===r?s.setAttribute("selected","selected"):s.setAttribute("value",String(n)),e.appendChild(s)})}const mCe=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class iz extends sz{constructor(t,r){super(t,r),this.quill.on(ke.events.EDITOR_CHANGE,(n,s,i,o)=>{if(n===ke.events.SELECTION_CHANGE)if(s!=null&&s.length>0&&o===ke.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const a=this.quill.getLines(s.index,s.length);if(a.length===1){const l=this.quill.getBounds(s);l!=null&&this.position(l)}else{const l=a[a.length-1],c=this.quill.getIndex(l),d=Math.min(l.length()-1,s.index+s.length-c),f=this.quill.getBounds(new Sl(c,d));f!=null&&this.position(f)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(ke.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const t=this.quill.getSelection();if(t!=null){const r=this.quill.getBounds(t);r!=null&&this.position(r)}},1)})}cancel(){this.show()}position(t){const r=super.position(t),n=this.root.querySelector(".ql-tooltip-arrow");return n.style.marginLeft="",r!==0&&(n.style.marginLeft=`${-1*r-n.offsetWidth/2}px`),r}}we(iz,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class oz extends jh{constructor(t,r){r.modules.toolbar!=null&&r.modules.toolbar.container==null&&(r.modules.toolbar.container=mCe),super(t,r),this.quill.container.classList.add("ql-bubble")}extendToolbar(t){this.tooltip=new iz(this.quill,this.options.bounds),t.container!=null&&(this.tooltip.root.appendChild(t.container),this.buildButtons(t.container.querySelectorAll("button"),zf),this.buildPickers(t.container.querySelectorAll("select"),zf))}}oz.DEFAULTS=oa({},jh.DEFAULTS,{modules:{toolbar:{handlers:{link(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1,ce.sources.USER)}}}}});const gCe=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class az extends sz{constructor(){super(...arguments);we(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",r=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),r.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",r=>{if(this.linkRange!=null){const n=this.linkRange;this.restoreFocus(),this.quill.formatText(n,"link",!1,ke.sources.USER),delete this.linkRange}r.preventDefault(),this.hide()}),this.quill.on(ke.events.SELECTION_CHANGE,(r,n,s)=>{if(r!=null){if(r.length===0&&s===ke.sources.USER){const[i,o]=this.quill.scroll.descendant(ra,r.index);if(i!=null){this.linkRange=new Sl(r.index-o,i.length());const a=ra.formats(i.domNode);this.preview.textContent=a,this.preview.setAttribute("href",a),this.show();const l=this.quill.getBounds(this.linkRange);l!=null&&this.position(l);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}we(az,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class lz extends jh{constructor(t,r){r.modules.toolbar!=null&&r.modules.toolbar.container==null&&(r.modules.toolbar.container=gCe),super(t,r),this.quill.container.classList.add("ql-snow")}extendToolbar(t){t.container!=null&&(t.container.classList.add("ql-snow"),this.buildButtons(t.container.querySelectorAll("button"),zf),this.buildPickers(t.container.querySelectorAll("select"),zf),this.tooltip=new az(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(r,n)=>{t.handlers.link.call(t,!n.format.link)}))}}lz.DEFAULTS=oa({},jh.DEFAULTS,{modules:{toolbar:{handlers:{link(e){if(e){const t=this.quill.getSelection();if(t==null||t.length===0)return;let r=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(r)&&r.indexOf("mailto:")!==0&&(r=`mailto:${r}`);const{tooltip:n}=this.quill.theme;n.edit("link",r)}else this.quill.format("link",!1,ce.sources.USER)}}}}});ce.register({"attributors/attribute/direction":z8,"attributors/class/align":L8,"attributors/class/background":$Ne,"attributors/class/color":DNe,"attributors/class/direction":U8,"attributors/class/font":W8,"attributors/class/size":H8,"attributors/style/align":F8,"attributors/style/background":Kj,"attributors/style/color":Wj,"attributors/style/direction":q8,"attributors/style/font":K8,"attributors/style/size":Y8},!0);ce.register({"formats/align":L8,"formats/direction":U8,"formats/indent":Eke,"formats/background":Kj,"formats/color":Wj,"formats/font":W8,"formats/size":H8,"formats/blockquote":a1,"formats/code-block":Qr,"formats/header":l1,"formats/list":Eh,"formats/bold":Bf,"formats/code":Hj,"formats/italic":c1,"formats/link":ra,"formats/script":u1,"formats/strike":d1,"formats/underline":f1,"formats/formula":rm,"formats/image":h1,"formats/video":nm,"modules/syntax":ez,"modules/table":Nke,"modules/toolbar":Jj,"themes/bubble":oz,"themes/snow":lz,"ui/icons":zf,"ui/picker":fv,"ui/icon-picker":rz,"ui/color-picker":tz,"ui/tooltip":nz},!0);class Nh extends w.Component{constructor(t){super(t),this.editingAreaRef=w.createRef(),this.containerRef=w.createRef(),this.dirtyProps=["modules","formats","bounds","theme","children"],this.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],this.state={generation:0},this.selection=null,this.onEditorChange=(n,s,i,o)=>{var a,l;n==="text-change"?(a=this.onEditorChangeText)==null||a.call(this,this.editor.root.innerHTML,s,o,this.unprivilegedEditor):n==="selection-change"&&((l=this.onEditorChangeSelection)==null||l.call(this,s,o,this.unprivilegedEditor))};const r=this.isControlled()?t.value:t.defaultValue;this.value=r??""}validateProps(t){if(w.Children.count(t.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(w.Children.count(t.children)){const r=w.Children.only(t.children);if((r==null?void 0:r.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&t.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")}shouldComponentUpdate(t,r){if(this.validateProps(t),!this.editor||this.state.generation!==r.generation)return!0;if("value"in t){const n=this.getEditorContents(),s=t.value??"";this.isEqualValue(s,n)||this.setEditorContents(this.editor,s)}return t.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,t.readOnly),[...this.cleanProps,...this.dirtyProps].some(n=>!ea(t[n],this.props[n]))}shouldComponentRegenerate(t){return this.dirtyProps.some(r=>!ea(t[r],this.props[r]))}componentDidMount(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())}componentWillUnmount(){this.destroyEditor()}componentDidUpdate(t,r){if(this.editor&&this.shouldComponentRegenerate(t)){const n=this.editor.getContents(),s=this.editor.getSelection();this.regenerationSnapshot={delta:n,selection:s},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==r.generation){const{delta:n,selection:s}=this.regenerationSnapshot;delete this.regenerationSnapshot,this.instantiateEditor();const i=this.editor;i.setContents(n),H2(()=>this.setEditorSelection(i,s))}}instantiateEditor(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())}destroyEditor(){var n,s;if(!this.editor)return;this.unhookEditor(this.editor);const t=(n=this.props.modules)==null?void 0:n.toolbar;if(!(typeof t=="object"&&t&&"container"in t&&typeof t.container=="string"||typeof t=="string")){const i=(s=this.containerRef.current)==null?void 0:s.querySelector(".ql-toolbar");i&&i.remove()}delete this.editor}isControlled(){return"value"in this.props}getEditorConfig(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,tabIndex:this.props.tabIndex,theme:this.props.theme}}getEditor(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor}createEditor(t,r){const n=new ce(t,r);return r.tabIndex!=null&&this.setEditorTabIndex(n,r.tabIndex),this.hookEditor(n),n}hookEditor(t){this.unprivilegedEditor=this.makeUnprivilegedEditor(t),t.on("editor-change",this.onEditorChange)}unhookEditor(t){t.off("editor-change",this.onEditorChange)}getEditorContents(){return this.value}getEditorSelection(){return this.selection}isDelta(t){return t&&t.ops}isEqualValue(t,r){return this.isDelta(t)&&this.isDelta(r)?ea(t.ops,r.ops):ea(t,r)}setEditorContents(t,r){this.value=r;const n=this.getEditorSelection();typeof r=="string"?t.setContents(t.clipboard.convert({html:r})):t.setContents(r),H2(()=>this.setEditorSelection(t,n))}setEditorSelection(t,r){if(this.selection=r,r){const n=t.getLength();r.index=Math.max(0,Math.min(r.index,n-1)),r.length=Math.max(0,Math.min(r.length,n-1-r.index)),t.setSelection(r)}}setEditorTabIndex(t,r){var n;(n=t==null?void 0:t.scroll)!=null&&n.domNode&&(t.scroll.domNode.tabIndex=r)}setEditorReadOnly(t,r){r?t.disable():t.enable()}makeUnprivilegedEditor(t){const r=t;return{getHTML:()=>r.root.innerHTML,getSemanticHTML:r.getSemanticHTML.bind(r),getLength:r.getLength.bind(r),getText:r.getText.bind(r),getContents:r.getContents.bind(r),getSelection:r.getSelection.bind(r),getBounds:r.getBounds.bind(r)}}getEditingArea(){const t=this.editingAreaRef.current;if(!t)throw new Error("Cannot find element for editing area");if(t.nodeType===3)throw new Error("Editing area cannot be a text node");return t}renderEditingArea(){const{children:t,preserveWhitespace:r}=this.props,{generation:n}=this.state,s={key:n,ref:this.editingAreaRef};return w.Children.count(t)?w.cloneElement(w.Children.only(t),s):r?w.createElement("pre",{...s}):w.createElement("div",{...s})}render(){return w.createElement("div",{ref:this.containerRef,id:this.props.id,style:this.props.style,key:this.state.generation,className:`quill ${this.props.className??""}`,onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())}onEditorChangeText(t,r,n,s){var o,a;if(!this.editor)return;const i=this.isDelta(this.value)?s.getContents():s.getHTML();i!==this.getEditorContents()&&(this.lastDeltaChangeSet=r,this.value=i,(a=(o=this.props).onChange)==null||a.call(o,t,r,n,s))}onEditorChangeSelection(t,r,n){var a,l,c,d,f,h;if(!this.editor)return;const s=this.getEditorSelection(),i=!s&&t,o=s&&!t;ea(t,s)||(this.selection=t,(l=(a=this.props).onChangeSelection)==null||l.call(a,t,r,n),i?(d=(c=this.props).onFocus)==null||d.call(c,t,r,n):o&&((h=(f=this.props).onBlur)==null||h.call(f,s,r,n)))}focus(){this.editor&&this.editor.focus()}blur(){this.editor&&(this.selection=null,this.editor.blur())}}Nh.displayName="React Quill";Nh.Quill=ce;Nh.defaultProps={theme:"snow",modules:{},readOnly:!1};function H2(e){Promise.resolve().then(e)}const yCe=async()=>{const{data:e,error:t}=await J.supabase.from("posts").select("*");if(t)throw new Error(t.message);return e},vCe=async e=>{const{data:{user:t},error:r}=await J.supabase.auth.getUser();if(r)throw new Error(r.message);if(!t)throw new Error("User not authenticated.");console.log("Attempting to create post with data:",{...e,author_id:t.id});const{data:n,error:s}=await J.supabase.from("posts").insert({...e,author_id:t.id}).select();if(s)throw new Error(s.message);if(!n||n.length===0)throw new Error("Failed to create post: No data returned.");return n[0]},bCe=async e=>{const{data:t,error:r}=await J.supabase.from("posts").update(e).eq("id",e.id).select();if(r)throw new Error(r.message);return t[0]},xCe=async e=>{const{error:t}=await J.supabase.from("posts").delete().eq("id",e);if(t)throw new Error(t.message)},wCe=({post:e,onSave:t,onCancel:r})=>{const[n,s]=w.useState({title:(e==null?void 0:e.title)||"",content:(e==null?void 0:e.content)||"",status:(e==null?void 0:e.status)||"draft",slug:(e==null?void 0:e.slug)||""}),i=()=>{if(!n.title.trim()){ci.error("Title cannot be empty.");return}if(!n.slug.trim()){ci.error("Slug cannot be empty.");return}const o=e?{...e,...n}:n;t(o)};return u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e?"Edit Post":"Create New Post"}),u.jsx("button",{onClick:r,className:"p-2 text-gray-500 hover:text-gray-700",children:u.jsx(la,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),u.jsx("input",{type:"text",value:n.title,onChange:o=>s({...n,title:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter post title...",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Slug"}),u.jsx("input",{type:"text",value:n.slug,onChange:o=>s({...n,slug:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"post-url-slug"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content"}),u.jsx(Nh,{theme:"snow",value:n.content,onChange:o=>s({...n,content:o}),className:"h-64 mb-12"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),u.jsxs("select",{value:n.status,onChange:o=>s({...n,status:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"draft",children:"Draft"}),u.jsx("option",{value:"published",children:"Published"}),u.jsx("option",{value:"archived",children:"Archived"})]})]}),u.jsxs("div",{className:"flex gap-3 pt-4",children:[u.jsxs("button",{type:"button",onClick:i,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:[u.jsx(u_,{className:"w-4 h-4"}),"Save Post"]}),u.jsx("button",{type:"button",onClick:r,className:"flex items-center gap-2 bg-gray-200 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})]})},_Ce=()=>{const e=Me.useQueryClient(),[t,r]=w.useState(!1),[n,s]=w.useState(null),[i,o]=w.useState(""),[a,l]=w.useState("all"),{data:c,isLoading:d,isError:f,error:h}=Me.useQuery({queryKey:["posts"],queryFn:yCe}),p=Me.useMutation({mutationFn:vCe,onSuccess:()=>{e.invalidateQueries({queryKey:["posts"]}),r(!1),s(null)}}),g=Me.useMutation({mutationFn:bCe,onSuccess:()=>{e.invalidateQueries({queryKey:["posts"]}),r(!1),s(null)}}),m=Me.useMutation({mutationFn:xCe,onSuccess:()=>{e.invalidateQueries({queryKey:["posts"]})}}),y=x=>{if(n)g.mutate(x);else{const{...S}=x;p.mutate(S)}},v=x=>{window.confirm("Are you sure you want to delete this post?")&&m.mutate(x)},b=(c==null?void 0:c.filter(x=>{const S=x.title.toLowerCase().includes(i.toLowerCase()),_=a==="all"||x.status===a;return S&&_}))||[];return d?u.jsx("div",{children:"Loading posts..."}):f?u.jsxs("div",{children:["Error loading posts: ",h==null?void 0:h.message]}):u.jsx("div",{className:"space-y-6",children:t?u.jsx(wCe,{post:n,onSave:y,onCancel:()=>{r(!1),s(null)}}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Posts"}),u.jsxs("button",{onClick:()=>{s(null),r(!0)},className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:[u.jsx(Si,{className:"w-4 h-4"}),"New Post"]})]}),u.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:u.jsxs("div",{className:"flex gap-4",children:[u.jsx("div",{className:"flex-1",children:u.jsxs("div",{className:"relative",children:[u.jsx(Tl,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),u.jsx("input",{type:"text",value:i,onChange:x=>o(x.target.value),placeholder:"Search posts...",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),u.jsxs("select",{value:a,onChange:x=>l(x.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"all",children:"All Status"}),u.jsx("option",{value:"published",children:"Published"}),u.jsx("option",{value:"draft",children:"Draft"}),u.jsx("option",{value:"archived",children:"Archived"})]})]})}),u.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:u.jsxs("tr",{children:[u.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-900",children:"Title"}),u.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-900",children:"Status"}),u.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-900",children:"Author"}),u.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-900",children:"Date"}),u.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-900",children:"Views"}),u.jsx("th",{className:"text-right py-3 px-6 text-sm font-medium text-gray-900",children:"Actions"})]})}),u.jsx("tbody",{children:b.map(x=>u.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[u.jsx("td",{className:"py-4 px-6",children:u.jsx("div",{className:"font-medium text-gray-900",children:x.title})}),u.jsx("td",{className:"py-4 px-6",children:u.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${x.status==="published"?"bg-green-100 text-green-800":x.status==="draft"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:x.status})}),u.jsx("td",{className:"py-4 px-6 text-sm text-gray-500",children:x.author_id}),u.jsx("td",{className:"py-4 px-6 text-sm text-gray-500",children:new Date(x.created_at).toLocaleDateString()}),u.jsx("td",{className:"py-4 px-6 text-sm text-gray-500",children:x.views}),u.jsx("td",{className:"py-4 px-6",children:u.jsxs("div",{className:"flex items-center justify-end gap-2",children:[u.jsx("button",{onClick:()=>{s(x),r(!0)},className:"p-1 text-gray-500 hover:text-blue-600",children:u.jsx(Wg,{className:"w-4 h-4"})}),u.jsx("button",{className:"p-1 text-gray-500 hover:text-green-600",children:u.jsx(Zf,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>v(x.id),className:"p-1 text-gray-500 hover:text-red-600",children:u.jsx(Al,{className:"w-4 h-4"})})]})})]},x.id))})]})})]})})};function SCe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ECe=SCe(function(e){const t=new URLSearchParams;t.append("code",e);for(let r=1;r<arguments.length;r++)t.append("v",arguments[r]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});const cz=w.createContext(null);function jCe(e,t){return{getTheme:function(){return t??null}}}function Wu(){const e=w.useContext(cz);return e==null&&ECe(8),e}function NCe(e){return{}}const Qj={},kCe={},uz={},ul={},Wc={},bg={},Kc={},eN={},p1={},Uf={},qf={},na={},tN={},rN={},CCe={},dz={},TCe={},fz={},ACe={},hz={},pz={},xg={},PCe={},mz={},gz={},yz={},OCe={},DCe={},$Ce={},Y2={},vz={},RCe={},bz={},xz={},ICe={},hv={},nN={},m1={},MCe={},LCe={},Fp={},Bp={},FCe={},BCe={},zCe={},ti=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,UCe=ti&&"documentMode"in document?document.documentMode:null,ks=ti&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),aa=ti&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),wg=!(!ti||!("InputEvent"in window)||UCe)&&"getTargetRanges"in new window.InputEvent("input"),sN=ti&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),pv=ti&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,qCe=ti&&/Android/.test(navigator.userAgent),wz=ti&&/^(?=.*Chrome).*/i.test(navigator.userAgent),VCe=ti&&qCe&&wz,iN=ti&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!wz,kh=1,Aa=3,El=0,_z=1,bu=2,WCe=0,KCe=1,HCe=2,_g=4,Sg=8,oN=128,YCe=112|(3|_g|Sg)|oN,aN=1,lN=2,cN=3,uN=4,dN=5,fN=6,mv=sN||pv||iN?"":"",xo=`

`,GCe=aa?"":mv,Sz="---",Ez="A-Za-z--------",ZCe=new RegExp("^[^"+Ez+"]*["+Sz+"]"),XCe=new RegExp("^[^"+Sz+"]*["+Ez+"]"),jl={bold:1,code:16,highlight:oN,italic:2,strikethrough:_g,subscript:32,superscript:64,underline:Sg},JCe={directionless:1,unmergeable:2},G2={center:lN,end:fN,justify:uN,left:aN,right:cN,start:dN},QCe={[lN]:"center",[fN]:"end",[uN]:"justify",[aN]:"left",[cN]:"right",[dN]:"start"},eTe={normal:0,segmented:2,token:1},tTe={[WCe]:"normal",[HCe]:"segmented",[KCe]:"token"};function rTe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Se=rTe(function(e){const t=new URLSearchParams;t.append("code",e);for(let r=1;r<arguments.length;r++)t.append("v",arguments[r]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});function Eg(...e){const t=[];for(const r of e)if(r&&typeof r=="string")for(const[n]of r.matchAll(/\S+/g))t.push(n);return t}const nTe=100;let g1=!1,hN=0;function sTe(e){hN=e.timeStamp}function P0(e,t,r){return t.__lexicalLineBreak===e||e[`__lexicalKey_${r._key}`]!==void 0}function iTe(e,t,r){const n=Ai(r._window);let s=null,i=null;n!==null&&n.anchorNode===e&&(s=n.anchorOffset,i=n.focusOffset);const o=e.nodeValue;o!==null&&yN(t,o,s,i,!1)}function oTe(e,t,r){if(ve(e)){const n=e.anchor.getNode();if(n.is(r)&&e.format!==n.getFormat())return!1}return t.nodeType===Aa&&r.isAttached()}function jz(e,t,r){g1=!0;const n=performance.now()-hN>nTe;try{Ln(e,()=>{const s=Re()||function(h){return h.getEditorState().read(()=>{const p=Re();return p!==null?p.clone():null})}(e),i=new Map,o=e.getRootElement(),a=e._editorState,l=e._blockCursorElement;let c=!1,d="";for(let h=0;h<t.length;h++){const p=t[h],g=p.type,m=p.target;let y=Nl(m,a);if(!(y===null&&m!==o||At(y))){if(g==="characterData")n&&xe(y)&&oTe(s,m,y)&&iTe(m,y,e);else if(g==="childList"){c=!0;const v=p.addedNodes;for(let S=0;S<v.length;S++){const _=v[S],N=Az(_),k=_.parentNode;if(k!=null&&_!==l&&N===null&&(_.nodeName!=="BR"||!P0(_,k,e))){if(aa){const C=_.innerText||_.nodeValue;C&&(d+=C)}k.removeChild(_)}}const b=p.removedNodes,x=b.length;if(x>0){let S=0;for(let _=0;_<x;_++){const N=b[_];(N.nodeName==="BR"&&P0(N,m,e)||l===N)&&(m.appendChild(N),S++)}x!==S&&(m===o&&(y=Oz(a)),i.set(m,y))}}}}if(i.size>0)for(const[h,p]of i)if(de(p)){const g=p.getChildrenKeys();let m=h.firstChild;for(let y=0;y<g.length;y++){const v=g[y],b=e.getElementByKey(v);b!==null&&(m==null?(h.appendChild(b),m=b):m!==b&&h.replaceChild(b,m),m=m.nextSibling)}}else xe(p)&&p.markDirty();const f=r.takeRecords();if(f.length>0){for(let h=0;h<f.length;h++){const p=f[h],g=p.addedNodes,m=p.target;for(let y=0;y<g.length;y++){const v=g[y],b=v.parentNode;b==null||v.nodeName!=="BR"||P0(v,m,e)||b.removeChild(v)}}r.takeRecords()}s!==null&&(c&&(s.dirty=!0,Ti(s)),aa&&Iz(e)&&s.insertRawText(d))})}finally{g1=!1}}function Nz(e){const t=e._observer;t!==null&&jz(e,t.takeRecords(),t)}function kz(e){(function(t){hN===0&&vv(t).addEventListener("textInput",sTe,!0)})(e),e._observer=new MutationObserver((t,r)=>{jz(e,t,r)})}function Z2(e,t){const r=e.__mode,n=e.__format,s=e.__style,i=t.__mode,o=t.__format,a=t.__style;return!(r!==null&&r!==i||n!==null&&n!==o||s!==null&&s!==a)}function X2(e,t){const r=e.mergeWithSibling(t),n=Zt()._normalizedNodes;return n.add(e.__key),n.add(t.__key),r}function J2(e){let t,r,n=e;if(n.__text!==""||!n.isSimpleText()||n.isUnmergeable()){for(;(t=n.getPreviousSibling())!==null&&xe(t)&&t.isSimpleText()&&!t.isUnmergeable();){if(t.__text!==""){if(Z2(t,n)){n=X2(t,n);break}break}t.remove()}for(;(r=n.getNextSibling())!==null&&xe(r)&&r.isSimpleText()&&!r.isUnmergeable();){if(r.__text!==""){if(Z2(n,r)){n=X2(n,r);break}break}r.remove()}}else n.remove()}function Cz(e){return Q2(e.anchor),Q2(e.focus),e}function Q2(e){for(;e.type==="element";){const t=e.getNode(),r=e.offset;let n,s;if(r===t.getChildrenSize()?(n=t.getChildAtIndex(r-1),s=!0):(n=t.getChildAtIndex(r),s=!1),xe(n)){e.set(n.__key,s?n.getTextContentSize():0,"text");break}if(!de(n))break;e.set(n.__key,s?n.getChildrenSize():0,"element")}}let aTe=1;const lTe=typeof queueMicrotask=="function"?queueMicrotask:e=>{Promise.resolve().then(e)};function pN(e){const t=document.activeElement;if(t===null)return!1;const r=t.nodeName;return At(Nl(e))&&(r==="INPUT"||r==="TEXTAREA"||t.contentEditable==="true"&&t.__lexicalEditor==null)}function Ch(e,t,r){const n=e.getRootElement();try{return n!==null&&n.contains(t)&&n.contains(r)&&t!==null&&!pN(t)&&Tz(t)===e}catch{return!1}}function Tz(e){let t=e;for(;t!=null;){const r=t.__lexicalEditor;if(r!=null)return r;t=yv(t)}return null}function fc(e){return e.isToken()||e.isSegmented()}function cTe(e){return e.nodeType===Aa}function jg(e){let t=e;for(;t!=null;){if(cTe(t))return t;t=t.firstChild}return null}function y1(e,t,r){const n=jl[t];if(r!==null&&(e&n)==(r&n))return e;let s=e^n;return t==="subscript"?s&=-65:t==="superscript"&&(s&=-33),s}function uTe(e,t){if(t!=null)return void(e.__key=t);yn(),r7();const r=Zt(),n=To(),s=""+aTe++;n._nodeMap.set(s,e),de(e)?r._dirtyElements.set(s,!0):r._dirtyLeaves.add(s),r._cloneNotNeeded.add(s),r._dirtyType=_z,e.__key=s}function dl(e){const t=e.getParent();if(t!==null){const r=e.getWritable(),n=t.getWritable(),s=e.getPreviousSibling(),i=e.getNextSibling();if(s===null)if(i!==null){const o=i.getWritable();n.__first=i.__key,o.__prev=null}else n.__first=null;else{const o=s.getWritable();if(i!==null){const a=i.getWritable();a.__prev=o.__key,o.__next=a.__key}else o.__next=null;r.__prev=null}if(i===null)if(s!==null){const o=s.getWritable();n.__last=s.__key,o.__next=null}else n.__last=null;else{const o=i.getWritable();if(s!==null){const a=s.getWritable();a.__next=o.__key,o.__prev=a.__key}else o.__prev=null;r.__next=null}n.__size--,r.__parent=null}}function Ng(e){r7();const t=e.getLatest(),r=t.__parent,n=To(),s=Zt(),i=n._nodeMap,o=s._dirtyElements;r!==null&&function(l,c,d){let f=l;for(;f!==null;){if(d.has(f))return;const h=c.get(f);if(h===void 0)break;d.set(f,!1),f=h.__parent}}(r,i,o);const a=t.__key;s._dirtyType=_z,de(e)?o.set(a,!0):s._dirtyLeaves.add(a)}function Mr(e){yn();const t=Zt(),r=t._compositionKey;if(e!==r){if(t._compositionKey=e,r!==null){const n=an(r);n!==null&&n.getWritable()}if(e!==null){const n=an(e);n!==null&&n.getWritable()}}}function sa(){return Dh()?null:Zt()._compositionKey}function an(e,t){const r=(t||To())._nodeMap.get(e);return r===void 0?null:r}function Az(e,t){const r=e[`__lexicalKey_${Zt()._key}`];return r!==void 0?an(r,t):null}function Nl(e,t){let r=e;for(;r!=null;){const n=Az(r,t);if(n!==null)return n;r=yv(r)}return null}function Pz(e){const t=e._decorators,r=Object.assign({},t);return e._pendingDecorators=r,r}function eD(e){return e.read(()=>lr().getTextContent())}function lr(){return Oz(To())}function Oz(e){return e._nodeMap.get("root")}function Ti(e){yn();const t=To();e!==null&&(e.dirty=!0,e.setCachedNodes(null)),t._selection=e}function Oc(e){const t=Zt(),r=function(n,s){let i=n;for(;i!=null;){const o=i[`__lexicalKey_${s._key}`];if(o!==void 0)return o;i=yv(i)}return null}(e,t);return r===null?e===t.getRootElement()?an("root"):null:an(r)}function tD(e,t){return t?e.getTextContentSize():0}function Dz(e){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(e)}function mN(e){const t=[];let r=e;for(;r!==null;)t.push(r),r=r._parentEditor;return t}function $z(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}function Rz(e){return e.nodeType===Aa?e.nodeValue:null}function gN(e,t,r){const n=Ai(t._window);if(n===null)return;const s=n.anchorNode;let{anchorOffset:i,focusOffset:o}=n;if(s!==null){let a=Rz(s);const l=Nl(s);if(a!==null&&xe(l)){if(a===mv&&r){const c=r.length;a=r,i=c,o=c}a!==null&&yN(l,a,i,o,e)}}}function yN(e,t,r,n,s){let i=e;if(i.isAttached()&&(s||!i.isDirty())){const o=i.isComposing();let a=t;(o||s)&&t[t.length-1]===mv&&(a=t.slice(0,-1));const l=i.getTextContent();if(s||a!==l){if(a===""){if(Mr(null),sN||pv||iN)i.remove();else{const m=Zt();setTimeout(()=>{m.update(()=>{i.isAttached()&&i.remove()})},20)}return}const c=i.getParent(),d=Oh(),f=i.getTextContentSize(),h=sa(),p=i.getKey();if(i.isToken()||h!==null&&p===h&&!o||ve(d)&&(c!==null&&!c.canInsertTextBefore()&&d.anchor.offset===0||d.anchor.key===e.__key&&d.anchor.offset===0&&!i.canInsertTextBefore()&&!o||d.focus.key===e.__key&&d.focus.offset===f&&!i.canInsertTextAfter()&&!o))return void i.markDirty();const g=Re();if(!ve(g)||r===null||n===null)return void i.setTextContent(a);if(g.setTextNodeRange(i,r,i,n),i.isSegmented()){const m=Kr(i.getTextContent());i.replace(m),i=m}i.setTextContent(a)}}}function dTe(e,t){if(t.isSegmented())return!0;if(!e.isCollapsed())return!1;const r=e.anchor.offset,n=t.getParentOrThrow(),s=t.isToken();return r===0?!t.canInsertTextBefore()||!n.canInsertTextBefore()&&!t.isComposing()||s||function(i){const o=i.getPreviousSibling();return(xe(o)||de(o)&&o.isInline())&&!o.canInsertTextAfter()}(t):r===t.getTextContentSize()&&(!t.canInsertTextAfter()||!n.canInsertTextAfter()&&!t.isComposing()||s)}function rD(e){return e==="ArrowLeft"}function nD(e){return e==="ArrowRight"}function Dd(e,t){return ks?e:t}function sD(e){return e==="Enter"}function Sd(e){return e==="Backspace"}function Ed(e){return e==="Delete"}function iD(e,t,r){return e.toLowerCase()==="a"&&Dd(t,r)}function fTe(){const e=lr();Ti(Cz(e.select(0,e.getChildrenSize())))}function Qd(e,t){e.__lexicalClassNameCache===void 0&&(e.__lexicalClassNameCache={});const r=e.__lexicalClassNameCache,n=r[t];if(n!==void 0)return n;const s=e[t];if(typeof s=="string"){const i=Eg(s);return r[t]=i,i}return s}function vN(e,t,r,n,s){if(r.size===0)return;const i=n.__type,o=n.__key,a=t.get(i);a===void 0&&Se(33,i);const l=a.klass;let c=e.get(l);c===void 0&&(c=new Map,e.set(l,c));const d=c.get(o),f=d==="destroyed"&&s==="created";(d===void 0||f)&&c.set(o,f?"updated":s)}function oD(e,t,r){const n=e.getParent();let s=r,i=e;return n!==null&&(t&&r===0?(s=i.getIndexWithinParent(),i=n):t||r!==i.getChildrenSize()||(s=i.getIndexWithinParent()+1,i=n)),i.getChildAtIndex(t?s-1:s)}function Vf(e,t){const r=e.offset;if(e.type==="element")return oD(e.getNode(),t,r);{const n=e.getNode();if(t&&r===0||!t&&r===n.getTextContentSize()){const s=t?n.getPreviousSibling():n.getNextSibling();return s===null?oD(n.getParentOrThrow(),t,n.getIndexWithinParent()+(t?0:1)):s}}return null}function Iz(e){const t=vv(e).event,r=t&&t.inputType;return r==="insertFromPaste"||r==="insertFromPasteAsQuotation"}function je(e,t,r){return n7(e,t,r)}function gv(e){return!Jr(e)&&!e.isLastChild()&&!e.isInline()}function kg(e,t){const r=e._keyToDOMMap.get(t);return r===void 0&&Se(75,t),r}function yv(e){const t=e.assignedSlot||e.parentElement;return t!==null&&t.nodeType===11?t.host:t}function v1(e,t){let r=e.getParent();for(;r!==null;){if(r.is(t))return!0;r=r.getParent()}return!1}function vv(e){const t=e._window;return t===null&&Se(78),t}function hTe(e){let t=e.getParentOrThrow();for(;t!==null;){if(Ku(t))return t;t=t.getParentOrThrow()}return t}function Ku(e){return Jr(e)||de(e)&&e.isShadowRoot()}function bv(e){const t=Zt(),r=e.constructor.getType(),n=t._nodes.get(r);n===void 0&&Se(97);const s=n.replace;if(s!==null){const i=s(e);return i instanceof e.constructor||Se(98),i}return e}function O0(e,t){!Jr(e.getParent())||de(t)||At(t)||Se(99)}function D0(e){return(At(e)||de(e)&&!e.canBeEmpty())&&!e.isInline()}function bN(e,t,r){r.style.removeProperty("caret-color"),t._blockCursorElement=null;const n=e.parentElement;n!==null&&n.removeChild(e)}function pTe(e,t,r){let n=e._blockCursorElement;if(ve(r)&&r.isCollapsed()&&r.anchor.type==="element"&&t.contains(document.activeElement)){const s=r.anchor,i=s.getNode(),o=s.offset;let a=!1,l=null;if(o===i.getChildrenSize())D0(i.getChildAtIndex(o-1))&&(a=!0);else{const c=i.getChildAtIndex(o);if(D0(c)){const d=c.getPreviousSibling();(d===null||D0(d))&&(a=!0,l=e.getElementByKey(c.__key))}}if(a){const c=e.getElementByKey(i.__key);return n===null&&(e._blockCursorElement=n=function(d){const f=d.theme,h=document.createElement("div");h.contentEditable="false",h.setAttribute("data-lexical-cursor","true");let p=f.blockCursor;if(p!==void 0){if(typeof p=="string"){const g=Eg(p);p=f.blockCursor=g}p!==void 0&&h.classList.add(...p)}return h}(e._config)),t.style.caretColor="transparent",void(l===null?c.appendChild(n):c.insertBefore(n,l))}}n!==null&&bN(n,e,t)}function Ai(e){return ti?(e||window).getSelection():null}function xN(e){return e.nodeType===1}function mTe(e){const t=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return e.nodeName.match(t)!==null}function gTe(e){const t=new RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return e.nodeName.match(t)!==null}function hc(e){if(Jr(e)||At(e)&&!e.isInline())return!0;if(!de(e)||Ku(e))return!1;const t=e.getFirstChild(),r=t===null||rf(t)||xe(t)||t.isInline();return!e.isInline()&&e.canBeEmpty()!==!1&&r}function $0(e,t){let r=e;for(;r!==null&&r.getParent()!==null&&!t(r);)r=r.getParentOrThrow();return t(r)?r:null}function Mz(e,t,r,n,s,i){let o=e.getFirstChild();for(;o!==null;){const a=o.__key;o.__parent===t&&(de(o)&&Mz(o,a,r,n,s,i),r.has(a)||i.delete(a),s.push(a)),o=o.getNextSibling()}}let ma,fn,Wf,xv,b1,x1,kl,Vs,w1,Kf,vr="",dn="",As=null,Yi="",Lz=!1,wv=!1,sm=null;function Cg(e,t){const r=kl.get(e);if(t!==null){const n=E1(e);n.parentNode===t&&t.removeChild(n)}if(Vs.has(e)||fn._keyToDOMMap.delete(e),de(r)){const n=Ag(r,kl);_1(n,0,n.length-1,null)}r!==void 0&&vN(Kf,Wf,xv,r,"destroyed")}function _1(e,t,r,n){let s=t;for(;s<=r;++s){const i=e[s];i!==void 0&&Cg(i,n)}}function Fa(e,t){e.setProperty("text-align",t)}const yTe="40px";function Fz(e,t){const r=ma.theme.indent;if(typeof r=="string"){const s=e.classList.contains(r);t>0&&!s?e.classList.add(r):t<1&&s&&e.classList.remove(r)}const n=getComputedStyle(e).getPropertyValue("--lexical-indent-base-value")||yTe;e.style.setProperty("padding-inline-start",t===0?"":`calc(${t} * ${n})`)}function Bz(e,t){const r=e.style;t===0?Fa(r,""):t===aN?Fa(r,"left"):t===lN?Fa(r,"center"):t===cN?Fa(r,"right"):t===uN?Fa(r,"justify"):t===dN?Fa(r,"start"):t===fN&&Fa(r,"end")}function Tg(e,t,r){const n=Vs.get(e);n===void 0&&Se(60);const s=n.createDOM(ma,fn);if(function(i,o,a){const l=a._keyToDOMMap;o["__lexicalKey_"+a._key]=i,l.set(i,o)}(e,s,fn),xe(n)?s.setAttribute("data-lexical-text","true"):At(n)&&s.setAttribute("data-lexical-decorator","true"),de(n)){const i=n.__indent,o=n.__size;if(i!==0&&Fz(s,i),o!==0){const l=o-1;(function(c,d,f,h){const p=dn;dn="",S1(c,f,0,d,h,null),Uz(f,h),dn=p})(Ag(n,Vs),l,n,s)}const a=n.__format;a!==0&&Bz(s,a),n.isInline()||zz(null,n,s),gv(n)&&(vr+=xo,Yi+=xo)}else{const i=n.getTextContent();if(At(n)){const o=n.decorate(fn,ma);o!==null&&qz(e,o),s.contentEditable="false"}else xe(n)&&(n.isDirectionless()||(dn+=i));vr+=i,Yi+=i}if(t!==null)if(r!=null)t.insertBefore(s,r);else{const i=t.__lexicalLineBreak;i!=null?t.insertBefore(s,i):t.appendChild(s)}return vN(Kf,Wf,xv,n,"created"),s}function S1(e,t,r,n,s,i){const o=vr;vr="";let a=r;for(;a<=n;++a){Tg(e[a],s,i);const l=Vs.get(e[a]);l!==null&&As===null&&xe(l)&&(As=l.getFormat())}gv(t)&&(vr+=xo),s.__lexicalTextContent=vr,vr=o+vr}function aD(e,t){const r=t.get(e);return rf(r)||At(r)&&r.isInline()}function zz(e,t,r){const n=e!==null&&(e.__size===0||aD(e.__last,kl)),s=t.__size===0||aD(t.__last,Vs);if(n){if(!s){const i=r.__lexicalLineBreak;i!=null&&r.removeChild(i),r.__lexicalLineBreak=null}}else if(s){const i=document.createElement("br");r.__lexicalLineBreak=i,r.appendChild(i)}}function Uz(e,t){const r=t.__lexicalDirTextContent,n=t.__lexicalDir;if(r!==dn||n!==sm){const i=dn==="",o=i?sm:(s=dn,ZCe.test(s)?"rtl":XCe.test(s)?"ltr":null);if(o!==n){const a=t.classList,l=ma.theme;let c=n!==null?l[n]:void 0,d=o!==null?l[o]:void 0;if(c!==void 0){if(typeof c=="string"){const f=Eg(c);c=l[n]=f}a.remove(...c)}if(o===null||i&&o==="ltr")t.removeAttribute("dir");else{if(d!==void 0){if(typeof d=="string"){const f=Eg(d);d=l[o]=f}d!==void 0&&a.add(...d)}t.dir=o}wv||(e.getWritable().__dir=o)}sm=o,t.__lexicalDirTextContent=dn,t.__lexicalDir=o}var s}function vTe(e,t,r){const n=dn;var s;dn="",As=null,function(i,o,a){const l=vr,c=i.__size,d=o.__size;if(vr="",c===1&&d===1){const f=i.__first,h=o.__first;if(f===h)$d(f,a);else{const g=E1(f),m=Tg(h,null,null);a.replaceChild(m,g),Cg(f,null)}const p=Vs.get(h);As===null&&xe(p)&&(As=p.getFormat())}else{const f=Ag(i,kl),h=Ag(o,Vs);if(c===0)d!==0&&S1(h,o,0,d-1,a,null);else if(d===0){if(c!==0){const p=a.__lexicalLineBreak==null;_1(f,0,c-1,p?null:a),p&&(a.textContent="")}}else(function(p,g,m,y,v,b){const x=y-1,S=v-1;let _,N,k=(I=b,I.firstChild),C=0,A=0;for(var I;C<=x&&A<=S;){const D=g[C],z=m[A];if(D===z)k=R0($d(z,b)),C++,A++;else{_===void 0&&(_=new Set(g)),N===void 0&&(N=new Set(m));const G=N.has(D),q=_.has(z);if(G)if(q){const Z=kg(fn,z);Z===k?k=R0($d(z,b)):(k!=null?b.insertBefore(Z,k):b.appendChild(Z),$d(z,b)),C++,A++}else Tg(z,b,k),A++;else k=R0(E1(D)),Cg(D,b),C++}const U=Vs.get(z);U!==null&&As===null&&xe(U)&&(As=U.getFormat())}const M=C>x,L=A>S;if(M&&!L){const D=m[S+1];S1(m,p,A,S,b,D===void 0?null:fn.getElementByKey(D))}else L&&!M&&_1(g,C,x,b)})(o,f,h,c,d,a)}gv(o)&&(vr+=xo),a.__lexicalTextContent=vr,vr=l+vr}(e,t,r),Uz(t,r),wu(s=t)&&As!=null&&As!==s.__textFormat&&!wv&&s.setTextFormat(As),dn=n,As=null}function Ag(e,t){const r=[];let n=e.__first;for(;n!==null;){const s=t.get(n);s===void 0&&Se(101),r.push(n),n=s.__next}return r}function $d(e,t){const r=kl.get(e);let n=Vs.get(e);r!==void 0&&n!==void 0||Se(61);const s=Lz||x1.has(e)||b1.has(e),i=kg(fn,e);if(r===n&&!s){if(de(r)){const o=i.__lexicalTextContent;o!==void 0&&(vr+=o,Yi+=o);const a=i.__lexicalDirTextContent;a!==void 0&&(dn+=a)}else{const o=r.getTextContent();xe(r)&&!r.isDirectionless()&&(dn+=o),Yi+=o,vr+=o}return i}if(r!==n&&s&&vN(Kf,Wf,xv,n,"updated"),n.updateDOM(r,i,ma)){const o=Tg(e,null,null);return t===null&&Se(62),t.replaceChild(o,i),Cg(e,null),o}if(de(r)&&de(n)){const o=n.__indent;o!==r.__indent&&Fz(i,o);const a=n.__format;a!==r.__format&&Bz(i,a),s&&(vTe(r,n,i),Jr(n)||n.isInline()||zz(r,n,i)),gv(n)&&(vr+=xo,Yi+=xo)}else{const o=n.getTextContent();if(At(n)){const a=n.decorate(fn,ma);a!==null&&qz(e,a)}else xe(n)&&!n.isDirectionless()&&(dn+=o);vr+=o,Yi+=o}if(!wv&&Jr(n)&&n.__cachedText!==Yi){const o=n.getWritable();o.__cachedText=Yi,n=o}return i}function qz(e,t){let r=fn._pendingDecorators;const n=fn._decorators;if(r===null){if(n[e]===t)return;r=Pz(fn)}r[e]=t}function R0(e){let t=e.nextSibling;return t!==null&&t===fn._blockCursorElement&&(t=t.nextSibling),t}function bTe(e,t,r,n,s,i){vr="",Yi="",dn="",Lz=n===bu,sm=null,fn=r,ma=r._config,Wf=r._nodes,xv=fn._listeners.mutation,b1=s,x1=i,kl=e._nodeMap,Vs=t._nodeMap,wv=t._readOnly,w1=new Map(r._keyToDOMMap);const o=new Map;return Kf=o,$d("root",null),fn=void 0,Wf=void 0,b1=void 0,x1=void 0,kl=void 0,Vs=void 0,ma=void 0,w1=void 0,Kf=void 0,o}function E1(e){const t=w1.get(e);return t===void 0&&Se(75,e),t}const Vi=Object.freeze({}),j1=30,N1=[["keydown",function(e,t){if(ef=e.timeStamp,Vz=e.key,t.isComposing())return;const{key:r,shiftKey:n,ctrlKey:s,metaKey:i,altKey:o}=e;je(t,CCe,e)||r!=null&&(function(a,l,c,d){return nD(a)&&!l&&!d&&!c}(r,s,o,i)?je(t,dz,e):function(a,l,c,d,f){return nD(a)&&!d&&!c&&(l||f)}(r,s,n,o,i)?je(t,TCe,e):function(a,l,c,d){return rD(a)&&!l&&!d&&!c}(r,s,o,i)?je(t,fz,e):function(a,l,c,d,f){return rD(a)&&!d&&!c&&(l||f)}(r,s,n,o,i)?je(t,ACe,e):function(a,l,c){return function(d){return d==="ArrowUp"}(a)&&!l&&!c}(r,s,i)?je(t,hz,e):function(a,l,c){return function(d){return d==="ArrowDown"}(a)&&!l&&!c}(r,s,i)?je(t,pz,e):function(a,l){return sD(a)&&l}(r,n)?(tf=!0,je(t,xg,e)):function(a){return a===" "}(r)?je(t,PCe,e):function(a,l){return ks&&l&&a.toLowerCase()==="o"}(r,s)?(e.preventDefault(),tf=!0,je(t,Wc,!0)):function(a,l){return sD(a)&&!l}(r,n)?(tf=!1,je(t,xg,e)):function(a,l,c,d){return ks?!l&&!c&&(Sd(a)||a.toLowerCase()==="h"&&d):!(d||l||c)&&Sd(a)}(r,o,i,s)?Sd(r)?je(t,mz,e):(e.preventDefault(),je(t,ul,!0)):function(a){return a==="Escape"}(r)?je(t,gz,e):function(a,l,c,d,f){return ks?!(c||d||f)&&(Ed(a)||a.toLowerCase()==="d"&&l):!(l||d||f)&&Ed(a)}(r,s,n,o,i)?Ed(r)?je(t,yz,e):(e.preventDefault(),je(t,ul,!1)):function(a,l,c){return Sd(a)&&(ks?l:c)}(r,o,s)?(e.preventDefault(),je(t,Uf,!0)):function(a,l,c){return Ed(a)&&(ks?l:c)}(r,o,s)?(e.preventDefault(),je(t,Uf,!1)):function(a,l){return ks&&l&&Sd(a)}(r,i)?(e.preventDefault(),je(t,qf,!0)):function(a,l){return ks&&l&&Ed(a)}(r,i)?(e.preventDefault(),je(t,qf,!1)):function(a,l,c,d){return a.toLowerCase()==="b"&&!l&&Dd(c,d)}(r,o,i,s)?(e.preventDefault(),je(t,na,"bold")):function(a,l,c,d){return a.toLowerCase()==="u"&&!l&&Dd(c,d)}(r,o,i,s)?(e.preventDefault(),je(t,na,"underline")):function(a,l,c,d){return a.toLowerCase()==="i"&&!l&&Dd(c,d)}(r,o,i,s)?(e.preventDefault(),je(t,na,"italic")):function(a,l,c,d){return a==="Tab"&&!l&&!c&&!d}(r,o,s,i)?je(t,OCe,e):function(a,l,c,d){return a.toLowerCase()==="z"&&!l&&Dd(c,d)}(r,n,i,s)?(e.preventDefault(),je(t,tN,void 0)):function(a,l,c,d){return ks?a.toLowerCase()==="z"&&c&&l:a.toLowerCase()==="y"&&d||a.toLowerCase()==="z"&&d&&l}(r,n,i,s)?(e.preventDefault(),je(t,rN,void 0)):Rs(t._editorState._selection)?function(a,l,c,d){return!l&&a.toLowerCase()==="c"&&(ks?c:d)}(r,n,i,s)?(e.preventDefault(),je(t,hv,e)):function(a,l,c,d){return!l&&a.toLowerCase()==="x"&&(ks?c:d)}(r,n,i,s)?(e.preventDefault(),je(t,nN,e)):iD(r,i,s)&&(e.preventDefault(),je(t,m1,e)):!aa&&iD(r,i,s)&&(e.preventDefault(),je(t,m1,e)),function(a,l,c,d){return a||l||c||d}(s,n,o,i)&&je(t,zCe,e))}],["pointerdown",function(e,t){const r=e.target,n=e.pointerType;r instanceof Node&&n!=="touch"&&Ln(t,()=>{At(Nl(r))||(C1=!0)})}],["compositionstart",function(e,t){Ln(t,()=>{const r=Re();if(ve(r)&&!t.isComposing()){const n=r.anchor,s=r.anchor.getNode();Mr(n.key),(e.timeStamp<ef+j1||n.type==="element"||!r.isCollapsed()||s.getFormat()!==r.format||xe(s)&&s.getStyle()!==r.style)&&je(t,Kc,GCe)}})}],["compositionend",function(e,t){aa?jd=!0:Ln(t,()=>{I0(t,e.data)})}],["input",function(e,t){e.stopPropagation(),Ln(t,()=>{const r=Re(),n=e.data,s=Yz(e);if(n!=null&&ve(r)&&Hz(r,s,n,e.timeStamp,!1)){jd&&(I0(t,n),jd=!1);const i=r.anchor.getNode(),o=Ai(t._window);if(o===null)return;const a=r.isBackward(),l=a?r.anchor.offset:r.focus.offset,c=a?r.focus.offset:r.anchor.offset;wg&&!r.isCollapsed()&&xe(i)&&o.anchorNode!==null&&i.getTextContent().slice(0,l)+n+i.getTextContent().slice(l+c)===Rz(o.anchorNode)||je(t,Kc,n);const d=n.length;aa&&d>1&&e.inputType==="insertCompositionText"&&!t.isComposing()&&(r.anchor.offset-=d),sN||pv||iN||!t.isComposing()||(ef=0,Mr(null))}else gN(!1,t,n!==null?n:void 0),jd&&(I0(t,n||void 0),jd=!1);yn(),Nz(Zt())}),pc=null}],["click",function(e,t){Ln(t,()=>{const r=Re(),n=Ai(t._window),s=Oh();if(n){if(ve(r)){const i=r.anchor,o=i.getNode();i.type==="element"&&i.offset===0&&r.isCollapsed()&&!Jr(o)&&lr().getChildrenSize()===1&&o.getTopLevelElementOrThrow().isEmpty()&&s!==null&&r.is(s)?(n.removeAllRanges(),r.dirty=!0):e.detail===3&&!r.isCollapsed()&&o!==r.focus.getNode()&&(de(o)?o.select(0):o.getParentOrThrow().select(0))}else if(e.pointerType==="touch"){const i=n.anchorNode;if(i!==null){const o=i.nodeType;(o===kh||o===Aa)&&Ti(_N(s,n,t,e))}}}je(t,uz,e)})}],["cut",Vi],["copy",Vi],["dragstart",Vi],["dragover",Vi],["dragend",Vi],["paste",Vi],["focus",Vi],["blur",Vi],["drop",Vi]];wg&&N1.push(["beforeinput",(e,t)=>function(r,n){const s=r.inputType,i=Yz(r);s==="deleteCompositionText"||aa&&Iz(n)||s!=="insertCompositionText"&&Ln(n,()=>{const o=Re();if(s==="deleteContentBackward"){if(o===null){const p=Oh();if(!ve(p))return;Ti(p.clone())}if(ve(o)){const p=o.anchor.key===o.focus.key;if(a=r.timeStamp,Vz==="MediaLast"&&a<ef+j1&&n.isComposing()&&p){if(Mr(null),ef=0,setTimeout(()=>{Ln(n,()=>{Mr(null)})},j1),ve(o)){const g=o.anchor.getNode();g.markDirty(),o.format=g.getFormat(),xe(g)||Se(142),o.style=g.getStyle()}}else{Mr(null),r.preventDefault();const g=o.anchor.getNode().getTextContent(),m=o.anchor.offset===0&&o.focus.offset===g.length;VCe&&p&&!m||je(n,ul,!0)}return}}var a;if(!ve(o))return;const l=r.data;pc!==null&&gN(!1,n,pc),o.dirty&&pc===null||!o.isCollapsed()||Jr(o.anchor.getNode())||i===null||o.applyDOMRange(i),pc=null;const c=o.anchor,d=o.focus,f=c.getNode(),h=d.getNode();if(s!=="insertText"&&s!=="insertTranspose")switch(r.preventDefault(),s){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":je(n,Kc,r);break;case"insertFromComposition":Mr(null),je(n,Kc,r);break;case"insertLineBreak":Mr(null),je(n,Wc,!1);break;case"insertParagraph":Mr(null),tf&&!pv?(tf=!1,je(n,Wc,!1)):je(n,bg,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":je(n,eN,r);break;case"deleteByComposition":(function(p,g){return p!==g||de(p)||de(g)||!p.isToken()||!g.isToken()})(f,h)&&je(n,p1,r);break;case"deleteByDrag":case"deleteByCut":je(n,p1,r);break;case"deleteContent":je(n,ul,!1);break;case"deleteWordBackward":je(n,Uf,!0);break;case"deleteWordForward":je(n,Uf,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":je(n,qf,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":je(n,qf,!1);break;case"formatStrikeThrough":je(n,na,"strikethrough");break;case"formatBold":je(n,na,"bold");break;case"formatItalic":je(n,na,"italic");break;case"formatUnderline":je(n,na,"underline");break;case"historyUndo":je(n,tN,void 0);break;case"historyRedo":je(n,rN,void 0)}else{if(l===`
`)r.preventDefault(),je(n,Wc,!1);else if(l===xo)r.preventDefault(),je(n,bg,void 0);else if(l==null&&r.dataTransfer){const p=r.dataTransfer.getData("text/plain");r.preventDefault(),o.insertRawText(p)}else l!=null&&Hz(o,i,l,r.timeStamp,!0)?(r.preventDefault(),je(n,Kc,l)):pc=l;Wz=r.timeStamp}})}(e,t)]);let ef=0,Vz=null,Wz=0,pc=null;const Pg=new WeakMap;let k1=!1,C1=!1,tf=!1,jd=!1,Kz=[0,"",0,"root",0];function Hz(e,t,r,n,s){const i=e.anchor,o=e.focus,a=i.getNode(),l=Zt(),c=Ai(l._window),d=c!==null?c.anchorNode:null,f=i.key,h=l.getElementByKey(f),p=r.length;return f!==o.key||!xe(a)||(!s&&(!wg||Wz<n+50)||a.isDirty()&&p<2||Dz(r))&&i.offset!==o.offset&&!a.isComposing()||fc(a)||a.isDirty()&&p>1||(s||!wg)&&h!==null&&!a.isComposing()&&d!==jg(h)||c!==null&&t!==null&&(!t.collapsed||t.startContainer!==c.anchorNode||t.startOffset!==c.anchorOffset)||a.getFormat()!==e.format||a.getStyle()!==e.style||dTe(e,a)}function lD(e,t){return e!==null&&e.nodeValue!==null&&e.nodeType===Aa&&t!==0&&t!==e.nodeValue.length}function cD(e,t,r){const{anchorNode:n,anchorOffset:s,focusNode:i,focusOffset:o}=e;k1&&(k1=!1,lD(n,s)&&lD(i,o))||Ln(t,()=>{if(!r)return void Ti(null);if(!Ch(t,n,i))return;const a=Re();if(ve(a)){const l=a.anchor,c=l.getNode();if(a.isCollapsed()){e.type==="Range"&&e.anchorNode===e.focusNode&&(a.dirty=!0);const d=vv(t).event,f=d?d.timeStamp:performance.now(),[h,p,g,m,y]=Kz,v=lr(),b=t.isComposing()===!1&&v.getTextContent()==="";if(f<y+200&&l.offset===g&&l.key===m)a.format=h,a.style=p;else if(l.type==="text")xe(c)||Se(141),a.format=c.getFormat(),a.style=c.getStyle();else if(l.type==="element"&&!b){const x=l.getNode();x instanceof Yu&&x.getChildrenSize()===0?a.format=x.getTextFormat():a.format=0,a.style=""}}else{const d=l.key,f=a.focus.key,h=a.getNodes(),p=h.length,g=a.isBackward(),m=g?o:s,y=g?s:o,v=g?f:d,b=g?d:f;let x=YCe,S=!1;for(let _=0;_<p;_++){const N=h[_],k=N.getTextContentSize();if(xe(N)&&k!==0&&!(_===0&&N.__key===v&&m===k||_===p-1&&N.__key===b&&y===0)&&(S=!0,x&=N.getFormat(),x===0))break}a.format=S?x:0}}je(t,Qj,void 0)})}function Yz(e){if(!e.getTargetRanges)return null;const t=e.getTargetRanges();return t.length===0?null:t[0]}function I0(e,t){const r=e._compositionKey;if(Mr(null),r!==null&&t!=null){if(t===""){const n=an(r),s=jg(e.getElementByKey(r));return void(s!==null&&s.nodeValue!==null&&xe(n)&&yN(n,s.nodeValue,null,null,!0))}if(t[t.length-1]===`
`){const n=Re();if(ve(n)){const s=n.focus;return n.anchor.set(s.key,s.offset,s.type),void je(e,xg,null)}}}gN(!0,e,t)}function Gz(e){let t=e.__lexicalEventHandles;return t===void 0&&(t=[],e.__lexicalEventHandles=t),t}const Hc=new Map;function Zz(e){const t=e.target,r=Ai(t==null?null:t.nodeType===9?t.defaultView:t.ownerDocument.defaultView);if(r===null)return;const n=Tz(r.anchorNode);if(n===null)return;C1&&(C1=!1,Ln(n,()=>{const c=Oh(),d=r.anchorNode;if(d===null)return;const f=d.nodeType;f!==kh&&f!==Aa||Ti(_N(c,r,n,e))}));const s=mN(n),i=s[s.length-1],o=i._key,a=Hc.get(o),l=a||i;l!==n&&cD(r,l,!1),cD(r,n,!0),n!==i?Hc.set(o,n):a&&Hc.delete(o)}function uD(e){e._lexicalHandled=!0}function dD(e){return e._lexicalHandled===!0}function xTe(e){const t=e.ownerDocument,r=Pg.get(t);r===void 0&&Se(162);const n=r-1;n>=0||Se(164),Pg.set(t,n),n===0&&t.removeEventListener("selectionchange",Zz);const s=e.__lexicalEditor;s!=null&&(function(o){if(o._parentEditor!==null){const a=mN(o),l=a[a.length-1]._key;Hc.get(l)===o&&Hc.delete(l)}else Hc.delete(o._key)}(s),e.__lexicalEditor=null);const i=Gz(e);for(let o=0;o<i.length;o++)i[o]();e.__lexicalEventHandles=[]}function T1(e,t,r){yn();const n=e.__key,s=e.getParent();if(s===null)return;const i=function(a){const l=Re();if(!ve(l)||!de(a))return l;const{anchor:c,focus:d}=l,f=c.getNode(),h=d.getNode();return v1(f,a)&&c.set(a.__key,0,"element"),v1(h,a)&&d.set(a.__key,0,"element"),l}(e);let o=!1;if(ve(i)&&t){const a=i.anchor,l=i.focus;a.key===n&&(Dg(a,e,s,e.getPreviousSibling(),e.getNextSibling()),o=!0),l.key===n&&(Dg(l,e,s,e.getPreviousSibling(),e.getNextSibling()),o=!0)}else Rs(i)&&t&&e.isSelected()&&e.selectPrevious();if(ve(i)&&t&&!o){const a=e.getIndexWithinParent();dl(e),Og(i,s,a,-1)}else dl(e);r||Ku(s)||s.canBeEmpty()||!s.isEmpty()||T1(s,t),t&&Jr(s)&&s.isEmpty()&&s.selectEnd()}class _v{static getType(){Se(64,this.name)}static clone(t){Se(65,this.name)}constructor(t){this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,uTe(this,t)}getType(){return this.__type}isInline(){Se(137,this.constructor.name)}isAttached(){let t=this.__key;for(;t!==null;){if(t==="root")return!0;const r=an(t);if(r===null)break;t=r.__parent}return!1}isSelected(t){const r=t||Re();if(r==null)return!1;const n=r.getNodes().some(s=>s.__key===this.__key);return(xe(this)||!ve(r)||r.anchor.type!=="element"||r.focus.type!=="element"||r.anchor.key!==r.focus.key||r.anchor.offset!==r.focus.offset)&&n}getKey(){return this.__key}getIndexWithinParent(){const t=this.getParent();if(t===null)return-1;let r=t.getFirstChild(),n=0;for(;r!==null;){if(this.is(r))return n;n++,r=r.getNextSibling()}return-1}getParent(){const t=this.getLatest().__parent;return t===null?null:an(t)}getParentOrThrow(){const t=this.getParent();return t===null&&Se(66,this.__key),t}getTopLevelElement(){let t=this;for(;t!==null;){const r=t.getParent();if(Ku(r))return de(t)||Se(138),t;t=r}return null}getTopLevelElementOrThrow(){const t=this.getTopLevelElement();return t===null&&Se(67,this.__key),t}getParents(){const t=[];let r=this.getParent();for(;r!==null;)t.push(r),r=r.getParent();return t}getParentKeys(){const t=[];let r=this.getParent();for(;r!==null;)t.push(r.__key),r=r.getParent();return t}getPreviousSibling(){const t=this.getLatest().__prev;return t===null?null:an(t)}getPreviousSiblings(){const t=[],r=this.getParent();if(r===null)return t;let n=r.getFirstChild();for(;n!==null&&!n.is(this);)t.push(n),n=n.getNextSibling();return t}getNextSibling(){const t=this.getLatest().__next;return t===null?null:an(t)}getNextSiblings(){const t=[];let r=this.getNextSibling();for(;r!==null;)t.push(r),r=r.getNextSibling();return t}getCommonAncestor(t){const r=this.getParents(),n=t.getParents();de(this)&&r.unshift(this),de(t)&&n.unshift(t);const s=r.length,i=n.length;if(s===0||i===0||r[s-1]!==n[i-1])return null;const o=new Set(n);for(let a=0;a<s;a++){const l=r[a];if(o.has(l))return l}return null}is(t){return t!=null&&this.__key===t.__key}isBefore(t){if(this===t)return!1;if(t.isParentOf(this))return!0;if(this.isParentOf(t))return!1;const r=this.getCommonAncestor(t);let n=0,s=0,i=this;for(;;){const o=i.getParentOrThrow();if(o===r){n=i.getIndexWithinParent();break}i=o}for(i=t;;){const o=i.getParentOrThrow();if(o===r){s=i.getIndexWithinParent();break}i=o}return n<s}isParentOf(t){const r=this.__key;if(r===t.__key)return!1;let n=t;for(;n!==null;){if(n.__key===r)return!0;n=n.getParent()}return!1}getNodesBetween(t){const r=this.isBefore(t),n=[],s=new Set;let i=this;for(;i!==null;){const o=i.__key;if(s.has(o)||(s.add(o),n.push(i)),i===t)break;const a=de(i)?r?i.getFirstChild():i.getLastChild():null;if(a!==null){i=a;continue}const l=r?i.getNextSibling():i.getPreviousSibling();if(l!==null){i=l;continue}const c=i.getParentOrThrow();if(s.has(c.__key)||n.push(c),c===t)break;let d=null,f=c;do{if(f===null&&Se(68),d=r?f.getNextSibling():f.getPreviousSibling(),f=f.getParent(),f===null)break;d!==null||s.has(f.__key)||n.push(f)}while(d===null);i=d}return r||n.reverse(),n}isDirty(){const t=Zt()._dirtyLeaves;return t!==null&&t.has(this.__key)}getLatest(){const t=an(this.__key);return t===null&&Se(113),t}getWritable(){yn();const t=To(),r=Zt(),n=t._nodeMap,s=this.__key,i=this.getLatest(),o=i.__parent,a=r._cloneNotNeeded,l=Re();if(l!==null&&l.setCachedNodes(null),a.has(s))return Ng(i),i;const c=i.constructor.clone(i);return c.__parent=o,c.__next=i.__next,c.__prev=i.__prev,de(i)&&de(c)?(wu(i)&&wu(c)&&(c.__textFormat=i.__textFormat),c.__first=i.__first,c.__last=i.__last,c.__size=i.__size,c.__indent=i.__indent,c.__format=i.__format,c.__dir=i.__dir):xe(i)&&xe(c)&&(c.__format=i.__format,c.__style=i.__style,c.__mode=i.__mode,c.__detail=i.__detail),a.add(s),c.__key=s,Ng(c),n.set(s,c),c}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(t,r){Se(70)}updateDOM(t,r,n){Se(71)}exportDOM(t){return{element:this.createDOM(t._config,t)}}exportJSON(){Se(72)}static importJSON(t){Se(18,this.name)}static transform(){return null}remove(t){T1(this,!0,t)}replace(t,r){yn();let n=Re();n!==null&&(n=n.clone()),O0(this,t);const s=this.getLatest(),i=this.__key,o=t.__key,a=t.getWritable(),l=this.getParentOrThrow().getWritable(),c=l.__size;dl(a);const d=s.getPreviousSibling(),f=s.getNextSibling(),h=s.__prev,p=s.__next,g=s.__parent;if(T1(s,!1,!0),d===null?l.__first=o:d.getWritable().__next=o,a.__prev=h,f===null?l.__last=o:f.getWritable().__prev=o,a.__next=p,a.__parent=g,l.__size=c,r&&(de(this)&&de(a)||Se(139),this.getChildren().forEach(m=>{a.append(m)})),ve(n)){Ti(n);const m=n.anchor,y=n.focus;m.key===i&&gD(m,a),y.key===i&&gD(y,a)}return sa()===i&&Mr(o),a}insertAfter(t,r=!0){yn(),O0(this,t);const n=this.getWritable(),s=t.getWritable(),i=s.getParent(),o=Re();let a=!1,l=!1;if(i!==null){const p=t.getIndexWithinParent();if(dl(s),ve(o)){const g=i.__key,m=o.anchor,y=o.focus;a=m.type==="element"&&m.key===g&&m.offset===p+1,l=y.type==="element"&&y.key===g&&y.offset===p+1}}const c=this.getNextSibling(),d=this.getParentOrThrow().getWritable(),f=s.__key,h=n.__next;if(c===null?d.__last=f:c.getWritable().__prev=f,d.__size++,n.__next=f,s.__next=h,s.__prev=n.__key,s.__parent=n.__parent,r&&ve(o)){const p=this.getIndexWithinParent();Og(o,d,p+1);const g=d.__key;a&&o.anchor.set(g,p+2,"element"),l&&o.focus.set(g,p+2,"element")}return t}insertBefore(t,r=!0){yn(),O0(this,t);const n=this.getWritable(),s=t.getWritable(),i=s.__key;dl(s);const o=this.getPreviousSibling(),a=this.getParentOrThrow().getWritable(),l=n.__prev,c=this.getIndexWithinParent();o===null?a.__first=i:o.getWritable().__next=i,a.__size++,n.__prev=i,s.__prev=l,s.__next=n.__key,s.__parent=n.__parent;const d=Re();return r&&ve(d)&&Og(d,this.getParentOrThrow(),c),t}isParentRequired(){return!1}createParentElementNode(){return wi()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(t,r){yn();const n=this.getPreviousSibling(),s=this.getParentOrThrow();if(n===null)return s.select(0,0);if(de(n))return n.select();if(!xe(n)){const i=n.getIndexWithinParent()+1;return s.select(i,i)}return n.select(t,r)}selectNext(t,r){yn();const n=this.getNextSibling(),s=this.getParentOrThrow();if(n===null)return s.select();if(de(n))return n.select(0,0);if(!xe(n)){const i=n.getIndexWithinParent();return s.select(i,i)}return n.select(t,r)}markDirty(){this.getWritable()}}class Th extends _v{static getType(){return"linebreak"}static clone(t){return new Th(t.__key)}constructor(t){super(t)}getTextContent(){return`
`}createDOM(){return document.createElement("br")}updateDOM(){return!1}static importDOM(){return{br:t=>function(r){const n=r.parentElement;if(n!==null){const s=n.firstChild;if(s===r||s.nextSibling===r&&fD(s)){const i=n.lastChild;if(i===r||i.previousSibling===r&&fD(i))return!0}}return!1}(t)?null:{conversion:wTe,priority:0}}}static importJSON(t){return xu()}exportJSON(){return{type:"linebreak",version:1}}}function wTe(e){return{node:xu()}}function xu(){return bv(new Th)}function rf(e){return e instanceof Th}function fD(e){return e.nodeType===Aa&&/^( |\t|\r?\n)+$/.test(e.textContent||"")}function M0(e,t){return 16&t?"code":t&oN?"mark":32&t?"sub":64&t?"sup":null}function L0(e,t){return 1&t?"strong":2&t?"em":"span"}function Xz(e,t,r,n,s){const i=n.classList;let o=Qd(s,"base");o!==void 0&&i.add(...o),o=Qd(s,"underlineStrikethrough");let a=!1;const l=t&Sg&&t&_g;o!==void 0&&(r&Sg&&r&_g?(a=!0,l||i.add(...o)):l&&i.remove(...o));for(const c in jl){const d=jl[c];if(o=Qd(s,c),o!==void 0)if(r&d){if(a&&(c==="underline"||c==="strikethrough")){t&d&&i.remove(...o);continue}t&d&&(!l||c!=="underline")&&c!=="strikethrough"||i.add(...o)}else t&d&&i.remove(...o)}}function Jz(e,t,r){const n=t.firstChild,s=r.isComposing(),i=e+(s?mv:"");if(n==null)t.textContent=i;else{const o=n.nodeValue;if(o!==i)if(s||aa){const[a,l,c]=function(d,f){const h=d.length,p=f.length;let g=0,m=0;for(;g<h&&g<p&&d[g]===f[g];)g++;for(;m+g<h&&m+g<p&&d[h-m-1]===f[p-m-1];)m++;return[g,h-g-m,f.slice(g,p-m)]}(o,i);l!==0&&n.deleteData(a,l),n.insertData(a,c)}else n.nodeValue=i}}function hD(e,t,r,n,s,i){Jz(s,e,t);const o=i.theme.text;o!==void 0&&Xz(0,0,n,e,o)}function zp(e,t){const r=document.createElement(t);return r.appendChild(e),r}class Hu extends _v{static getType(){return"text"}static clone(t){return new Hu(t.__text,t.__key)}constructor(t,r){super(r),this.__text=t,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){const t=this.getLatest();return tTe[t.__mode]}getStyle(){return this.getLatest().__style}isToken(){return this.getLatest().__mode===1}isComposing(){return this.__key===sa()}isSegmented(){return this.getLatest().__mode===2}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(t){const r=jl[t];return!!(this.getFormat()&r)}isSimpleText(){return this.__type==="text"&&this.__mode===0}getTextContent(){return this.getLatest().__text}getFormatFlags(t,r){return y1(this.getLatest().__format,t,r)}canHaveFormat(){return!0}createDOM(t,r){const n=this.__format,s=M0(0,n),i=L0(0,n),o=s===null?i:s,a=document.createElement(o);let l=a;this.hasFormat("code")&&a.setAttribute("spellcheck","false"),s!==null&&(l=document.createElement(i),a.appendChild(l)),hD(l,this,0,n,this.__text,t);const c=this.__style;return c!==""&&(a.style.cssText=c),a}updateDOM(t,r,n){const s=this.__text,i=t.__format,o=this.__format,a=M0(0,i),l=M0(0,o),c=L0(0,i),d=L0(0,o);if((a===null?c:a)!==(l===null?d:l))return!0;if(a===l&&c!==d){const m=r.firstChild;m==null&&Se(48);const y=document.createElement(d);return hD(y,this,0,o,s,n),r.replaceChild(y,m),!1}let f=r;l!==null&&a!==null&&(f=r.firstChild,f==null&&Se(49)),Jz(s,f,this);const h=n.theme.text;h!==void 0&&i!==o&&Xz(0,i,o,f,h);const p=t.__style,g=this.__style;return p!==g&&(r.style.cssText=g),!1}static importDOM(){return{"#text":()=>({conversion:jTe,priority:0}),b:()=>({conversion:STe,priority:0}),code:()=>({conversion:zo,priority:0}),em:()=>({conversion:zo,priority:0}),i:()=>({conversion:zo,priority:0}),s:()=>({conversion:zo,priority:0}),span:()=>({conversion:_Te,priority:0}),strong:()=>({conversion:zo,priority:0}),sub:()=>({conversion:zo,priority:0}),sup:()=>({conversion:zo,priority:0}),u:()=>({conversion:zo,priority:0})}}static importJSON(t){const r=Kr(t.text);return r.setFormat(t.format),r.setDetail(t.detail),r.setMode(t.mode),r.setStyle(t.style),r}exportDOM(t){let{element:r}=super.exportDOM(t);return r!==null&&xN(r)||Se(132),r.style.whiteSpace="pre-wrap",this.hasFormat("bold")&&(r=zp(r,"b")),this.hasFormat("italic")&&(r=zp(r,"i")),this.hasFormat("strikethrough")&&(r=zp(r,"s")),this.hasFormat("underline")&&(r=zp(r,"u")),{element:r}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),type:"text",version:1}}selectionTransform(t,r){}setFormat(t){const r=this.getWritable();return r.__format=typeof t=="string"?jl[t]:t,r}setDetail(t){const r=this.getWritable();return r.__detail=typeof t=="string"?JCe[t]:t,r}setStyle(t){const r=this.getWritable();return r.__style=t,r}toggleFormat(t){const r=y1(this.getFormat(),t,null);return this.setFormat(r)}toggleDirectionless(){const t=this.getWritable();return t.__detail^=1,t}toggleUnmergeable(){const t=this.getWritable();return t.__detail^=2,t}setMode(t){const r=eTe[t];if(this.__mode===r)return this;const n=this.getWritable();return n.__mode=r,n}setTextContent(t){if(this.__text===t)return this;const r=this.getWritable();return r.__text=t,r}select(t,r){yn();let n=t,s=r;const i=Re(),o=this.getTextContent(),a=this.__key;if(typeof o=="string"){const l=o.length;n===void 0&&(n=l),s===void 0&&(s=l)}else n=0,s=0;if(!ve(i))return t7(a,n,a,s,"text","text");{const l=sa();l!==i.anchor.key&&l!==i.focus.key||Mr(a),i.setTextNodeRange(this,n,this,s)}return i}selectStart(){return this.select(0,0)}selectEnd(){const t=this.getTextContentSize();return this.select(t,t)}spliceText(t,r,n,s){const i=this.getWritable(),o=i.__text,a=n.length;let l=t;l<0&&(l=a+l,l<0&&(l=0));const c=Re();if(s&&ve(c)){const f=t+a;c.setTextNodeRange(i,f,i,f)}const d=o.slice(0,l)+n+o.slice(l+r);return i.__text=d,i}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...t){yn();const r=this.getLatest(),n=r.getTextContent(),s=r.__key,i=sa(),o=new Set(t),a=[],l=n.length;let c="";for(let k=0;k<l;k++)c!==""&&o.has(k)&&(a.push(c),c=""),c+=n[k];c!==""&&a.push(c);const d=a.length;if(d===0)return[];if(a[0]===n)return[r];const f=a[0],h=r.getParentOrThrow();let p;const g=r.getFormat(),m=r.getStyle(),y=r.__detail;let v=!1;r.isSegmented()?(p=Kr(f),p.__format=g,p.__style=m,p.__detail=y,v=!0):(p=r.getWritable(),p.__text=f);const b=Re(),x=[p];let S=f.length;for(let k=1;k<d;k++){const C=a[k],A=C.length,I=Kr(C).getWritable();I.__format=g,I.__style=m,I.__detail=y;const M=I.__key,L=S+A;if(ve(b)){const D=b.anchor,z=b.focus;D.key===s&&D.type==="text"&&D.offset>S&&D.offset<=L&&(D.key=M,D.offset-=S,b.dirty=!0),z.key===s&&z.type==="text"&&z.offset>S&&z.offset<=L&&(z.key=M,z.offset-=S,b.dirty=!0)}i===s&&Mr(M),S=L,x.push(I)}(function(k){const C=k.getPreviousSibling(),A=k.getNextSibling();C!==null&&Ng(C),A!==null&&Ng(A)})(this);const _=h.getWritable(),N=this.getIndexWithinParent();return v?(_.splice(N,0,x),this.remove()):_.splice(N,1,x),ve(b)&&Og(b,h,N,d-1),x}mergeWithSibling(t){const r=t===this.getPreviousSibling();r||t===this.getNextSibling()||Se(50);const n=this.__key,s=t.__key,i=this.__text,o=i.length;sa()===s&&Mr(n);const a=Re();if(ve(a)){const f=a.anchor,h=a.focus;f!==null&&f.key===s&&(SD(f,r,n,t,o),a.dirty=!0),h!==null&&h.key===s&&(SD(h,r,n,t,o),a.dirty=!0)}const l=t.__text,c=r?l+i:i+l;this.setTextContent(c);const d=this.getWritable();return t.remove(),d}isTextEntity(){return!1}}function _Te(e){return{forChild:wN(e.style),node:null}}function STe(e){const t=e,r=t.style.fontWeight==="normal";return{forChild:wN(t.style,r?void 0:"bold"),node:null}}const pD=new WeakMap;function ETe(e){return e.nodeName==="PRE"||e.nodeType===kh&&e.style!==void 0&&e.style.whiteSpace!==void 0&&e.style.whiteSpace.startsWith("pre")}function jTe(e){const t=e;e.parentElement===null&&Se(129);let r=t.textContent||"";if(function(n){let s,i=n.parentNode;const o=[n];for(;i!==null&&(s=pD.get(i))===void 0&&!ETe(i);)o.push(i),i=i.parentNode;const a=s===void 0?i:s;for(let l=0;l<o.length;l++)pD.set(o[l],a);return a}(t)!==null){const n=r.split(/(\r?\n|\t)/),s=[],i=n.length;for(let o=0;o<i;o++){const a=n[o];a===`
`||a===`\r
`?s.push(xu()):a==="	"?s.push(Ph()):a!==""&&s.push(Kr(a))}return{node:s}}if(r=r.replace(/\r/g,"").replace(/[ \t\n]+/g," "),r==="")return{node:null};if(r[0]===" "){let n=t,s=!0;for(;n!==null&&(n=mD(n,!1))!==null;){const i=n.textContent||"";if(i.length>0){/[ \t\n]$/.test(i)&&(r=r.slice(1)),s=!1;break}}s&&(r=r.slice(1))}if(r[r.length-1]===" "){let n=t,s=!0;for(;n!==null&&(n=mD(n,!0))!==null;)if((n.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){s=!1;break}s&&(r=r.slice(0,r.length-1))}return r===""?{node:null}:{node:Kr(r)}}function mD(e,t){let r=e;for(;;){let n;for(;(n=t?r.nextSibling:r.previousSibling)===null;){const i=r.parentElement;if(i===null)return null;r=i}if(r=n,r.nodeType===kh){const i=r.style.display;if(i===""&&!mTe(r)||i!==""&&!i.startsWith("inline"))return null}let s=r;for(;(s=t?r.firstChild:r.lastChild)!==null;)r=s;if(r.nodeType===Aa)return r;if(r.nodeName==="BR")return null}}const NTe={code:"code",em:"italic",i:"italic",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function zo(e){const t=NTe[e.nodeName.toLowerCase()];return t===void 0?{node:null}:{forChild:wN(e.style,t),node:null}}function Kr(e=""){return bv(new Hu(e))}function xe(e){return e instanceof Hu}function wN(e,t){const r=e.fontWeight,n=e.textDecoration.split(" "),s=r==="700"||r==="bold",i=n.includes("line-through"),o=e.fontStyle==="italic",a=n.includes("underline"),l=e.verticalAlign;return c=>(xe(c)&&(s&&!c.hasFormat("bold")&&c.toggleFormat("bold"),i&&!c.hasFormat("strikethrough")&&c.toggleFormat("strikethrough"),o&&!c.hasFormat("italic")&&c.toggleFormat("italic"),a&&!c.hasFormat("underline")&&c.toggleFormat("underline"),l!=="sub"||c.hasFormat("subscript")||c.toggleFormat("subscript"),l!=="super"||c.hasFormat("superscript")||c.toggleFormat("superscript"),t&&!c.hasFormat(t)&&c.toggleFormat(t)),c)}class Ah extends Hu{static getType(){return"tab"}static clone(t){const r=new Ah(t.__key);return r.__text=t.__text,r.__format=t.__format,r.__style=t.__style,r}constructor(t){super("	",t),this.__detail=2}static importDOM(){return null}static importJSON(t){const r=Ph();return r.setFormat(t.format),r.setStyle(t.style),r}exportJSON(){return{...super.exportJSON(),type:"tab",version:1}}setTextContent(t){Se(126)}setDetail(t){Se(127)}setMode(t){Se(128)}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function Ph(){return bv(new Ah)}function kTe(e){return e instanceof Ah}class CTe{constructor(t,r,n){this._selection=null,this.key=t,this.offset=r,this.type=n}is(t){return this.key===t.key&&this.offset===t.offset&&this.type===t.type}isBefore(t){let r=this.getNode(),n=t.getNode();const s=this.offset,i=t.offset;if(de(r)){const o=r.getDescendantByIndex(s);r=o??r}if(de(n)){const o=n.getDescendantByIndex(i);n=o??n}return r===n?s<i:r.isBefore(n)}getNode(){const t=an(this.key);return t===null&&Se(20),t}set(t,r,n){const s=this._selection,i=this.key;this.key=t,this.offset=r,this.type=n,Dh()||(sa()===i&&Mr(t),s!==null&&(s.setCachedNodes(null),s.dirty=!0))}}function Pi(e,t,r){return new CTe(e,t,r)}function F0(e,t){let r=t.__key,n=e.offset,s="element";if(xe(t)){s="text";const i=t.getTextContentSize();n>i&&(n=i)}else if(!de(t)){const i=t.getNextSibling();if(xe(i))r=i.__key,n=0,s="text";else{const o=t.getParent();o&&(r=o.__key,n=t.getIndexWithinParent()+1)}}e.set(r,n,s)}function gD(e,t){if(de(t)){const r=t.getLastDescendant();de(r)||xe(r)?F0(e,r):F0(e,t)}else F0(e,t)}function Zo(e,t,r,n){e.key=t,e.offset=r,e.type=n}class Sv{constructor(t){this._cachedNodes=null,this._nodes=t,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(t){this._cachedNodes=t}is(t){if(!Rs(t))return!1;const r=this._nodes,n=t._nodes;return r.size===n.size&&Array.from(r).every(s=>n.has(s))}isCollapsed(){return!1}isBackward(){return!1}getStartEndPoints(){return null}add(t){this.dirty=!0,this._nodes.add(t),this._cachedNodes=null}delete(t){this.dirty=!0,this._nodes.delete(t),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(t){return this._nodes.has(t)}clone(){return new Sv(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(t){}insertText(){}insertNodes(t){const r=this.getNodes(),n=r.length,s=r[n-1];let i;if(xe(s))i=s.select();else{const o=s.getIndexWithinParent()+1;i=s.getParentOrThrow().select(o,o)}i.insertNodes(t);for(let o=0;o<n;o++)r[o].remove()}getNodes(){const t=this._cachedNodes;if(t!==null)return t;const r=this._nodes,n=[];for(const s of r){const i=an(s);i!==null&&n.push(i)}return Dh()||(this._cachedNodes=n),n}getTextContent(){const t=this.getNodes();let r="";for(let n=0;n<t.length;n++)r+=t[n].getTextContent();return r}}function ve(e){return e instanceof Pa}class Pa{constructor(t,r,n,s){this.anchor=t,this.focus=r,t._selection=this,r._selection=this,this._cachedNodes=null,this.format=n,this.style=s,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(t){this._cachedNodes=t}is(t){return!!ve(t)&&this.anchor.is(t.anchor)&&this.focus.is(t.focus)&&this.format===t.format&&this.style===t.style}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){const t=this._cachedNodes;if(t!==null)return t;const r=this.anchor,n=this.focus,s=r.isBefore(n),i=s?r:n,o=s?n:r;let a=i.getNode(),l=o.getNode();const c=i.offset,d=o.offset;if(de(a)){const h=a.getDescendantByIndex(c);a=h??a}if(de(l)){let h=l.getDescendantByIndex(d);h!==null&&h!==a&&l.getChildAtIndex(d)===h&&(h=h.getPreviousSibling()),l=h??l}let f;return f=a.is(l)?de(a)&&a.getChildrenSize()>0?[]:[a]:a.getNodesBetween(l),Dh()||(this._cachedNodes=f),f}setTextNodeRange(t,r,n,s){Zo(this.anchor,t.__key,r,"text"),Zo(this.focus,n.__key,s,"text"),this._cachedNodes=null,this.dirty=!0}getTextContent(){const t=this.getNodes();if(t.length===0)return"";const r=t[0],n=t[t.length-1],s=this.anchor,i=this.focus,o=s.isBefore(i),[a,l]=A1(this);let c="",d=!0;for(let f=0;f<t.length;f++){const h=t[f];if(de(h)&&!h.isInline())d||(c+=`
`),d=!h.isEmpty();else if(d=!1,xe(h)){let p=h.getTextContent();h===r?h===n?s.type==="element"&&i.type==="element"&&i.offset!==s.offset||(p=a<l?p.slice(a,l):p.slice(l,a)):p=o?p.slice(a):p.slice(l):h===n&&(p=o?p.slice(0,l):p.slice(0,a)),c+=p}else!At(h)&&!rf(h)||h===n&&this.isCollapsed()||(c+=h.getTextContent())}return c}applyDOMRange(t){const r=Zt(),n=r.getEditorState()._selection,s=e7(t.startContainer,t.startOffset,t.endContainer,t.endOffset,r,n);if(s===null)return;const[i,o]=s;Zo(this.anchor,i.key,i.offset,i.type),Zo(this.focus,o.key,o.offset,o.type),this._cachedNodes=null}clone(){const t=this.anchor,r=this.focus;return new Pa(Pi(t.key,t.offset,t.type),Pi(r.key,r.offset,r.type),this.format,this.style)}toggleFormat(t){this.format=y1(this.format,t,null),this.dirty=!0}setStyle(t){this.style=t,this.dirty=!0}hasFormat(t){const r=jl[t];return!!(this.format&r)}insertRawText(t){const r=t.split(/(\r?\n|\t)/),n=[],s=r.length;for(let i=0;i<s;i++){const o=r[i];o===`
`||o===`\r
`?n.push(xu()):o==="	"?n.push(Ph()):n.push(Kr(o))}this.insertNodes(n)}insertText(t){const r=this.anchor,n=this.focus,s=this.format,i=this.style;let o=r,a=n;!this.isCollapsed()&&n.isBefore(r)&&(o=n,a=r),o.type==="element"&&function(y,v,b,x){const S=y.getNode(),_=S.getChildAtIndex(y.offset),N=Kr(),k=Jr(S)?wi().append(N):N;N.setFormat(b),N.setStyle(x),_===null?S.append(k):_.insertBefore(k),y.is(v)&&v.set(N.__key,0,"text"),y.set(N.__key,0,"text")}(o,a,s,i);const l=o.offset;let c=a.offset;const d=this.getNodes(),f=d.length;let h=d[0];xe(h)||Se(26);const p=h.getTextContent().length,g=h.getParentOrThrow();let m=d[f-1];if(f===1&&a.type==="element"&&(c=p,a.set(o.key,c,"text")),this.isCollapsed()&&l===p&&(h.isSegmented()||h.isToken()||!h.canInsertTextAfter()||!g.canInsertTextAfter()&&h.getNextSibling()===null)){let y=h.getNextSibling();if(xe(y)&&y.canInsertTextBefore()&&!fc(y)||(y=Kr(),y.setFormat(s),y.setStyle(i),g.canInsertTextAfter()?h.insertAfter(y):g.insertAfter(y)),y.select(0,0),h=y,t!=="")return void this.insertText(t)}else if(this.isCollapsed()&&l===0&&(h.isSegmented()||h.isToken()||!h.canInsertTextBefore()||!g.canInsertTextBefore()&&h.getPreviousSibling()===null)){let y=h.getPreviousSibling();if(xe(y)&&!fc(y)||(y=Kr(),y.setFormat(s),g.canInsertTextBefore()?h.insertBefore(y):g.insertBefore(y)),y.select(),h=y,t!=="")return void this.insertText(t)}else if(h.isSegmented()&&l!==p){const y=Kr(h.getTextContent());y.setFormat(s),h.replace(y),h=y}else if(!this.isCollapsed()&&t!==""){const y=m.getParent();if(!g.canInsertTextBefore()||!g.canInsertTextAfter()||de(y)&&(!y.canInsertTextBefore()||!y.canInsertTextAfter()))return this.insertText(""),Qz(this.anchor,this.focus,null),void this.insertText(t)}if(f===1){if(h.isToken()){const x=Kr(t);return x.select(),void h.replace(x)}const y=h.getFormat(),v=h.getStyle();if(l!==c||y===s&&v===i){if(kTe(h)){const x=Kr(t);return x.setFormat(s),x.setStyle(i),x.select(),void h.replace(x)}}else{if(h.getTextContent()!==""){const x=Kr(t);if(x.setFormat(s),x.setStyle(i),x.select(),l===0)h.insertBefore(x,!1);else{const[S]=h.splitText(l);S.insertAfter(x,!1)}return void(x.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=t.length))}h.setFormat(s),h.setStyle(i)}const b=c-l;h=h.spliceText(l,b,t,!0),h.getTextContent()===""?h.remove():this.anchor.type==="text"&&(h.isComposing()?this.anchor.offset-=t.length:(this.format=y,this.style=v))}else{const y=new Set([...h.getParentKeys(),...m.getParentKeys()]),v=de(h)?h:h.getParentOrThrow();let b=de(m)?m:m.getParentOrThrow(),x=m;if(!v.is(b)&&b.isInline())do x=b,b=b.getParentOrThrow();while(b.isInline());if(a.type==="text"&&(c!==0||m.getTextContent()==="")||a.type==="element"&&m.getIndexWithinParent()<c)if(xe(m)&&!m.isToken()&&c!==m.getTextContentSize()){if(m.isSegmented()){const C=Kr(m.getTextContent());m.replace(C),m=C}Jr(a.getNode())||a.type!=="text"||(m=m.spliceText(0,c,"")),y.add(m.__key)}else{const C=m.getParentOrThrow();C.canBeEmpty()||C.getChildrenSize()!==1?m.remove():C.remove()}else y.add(m.__key);const S=b.getChildren(),_=new Set(d),N=v.is(b),k=v.isInline()&&h.getNextSibling()===null?v:h;for(let C=S.length-1;C>=0;C--){const A=S[C];if(A.is(h)||de(A)&&A.isParentOf(h))break;A.isAttached()&&(!_.has(A)||A.is(x)?N||k.insertAfter(A,!1):A.remove())}if(!N){let C=b,A=null;for(;C!==null;){const I=C.getChildren(),M=I.length;(M===0||I[M-1].is(A))&&(y.delete(C.__key),A=C),C=C.getParent()}}if(h.isToken())if(l===p)h.select();else{const C=Kr(t);C.select(),h.replace(C)}else h=h.spliceText(l,p-l,t,!0),h.getTextContent()===""?h.remove():h.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=t.length);for(let C=1;C<f;C++){const A=d[C],I=A.__key;y.has(I)||A.remove()}}}removeText(){this.insertText("")}formatText(t){if(this.isCollapsed())return this.toggleFormat(t),void Mr(null);const r=this.getNodes(),n=[];for(const b of r)xe(b)&&n.push(b);const s=n.length;if(s===0)return this.toggleFormat(t),void Mr(null);const i=this.anchor,o=this.focus,a=this.isBackward(),l=a?o:i,c=a?i:o;let d=0,f=n[0],h=l.type==="element"?0:l.offset;if(l.type==="text"&&h===f.getTextContentSize()&&(d=1,f=n[1],h=0),f==null)return;const p=f.getFormatFlags(t,null),g=s-1;let m=n[g];const y=c.type==="text"?c.offset:m.getTextContentSize();if(f.is(m)){if(h===y)return;if(fc(f)||h===0&&y===f.getTextContentSize())f.setFormat(p);else{const b=f.splitText(h,y),x=h===0?b[0]:b[1];x.setFormat(p),l.type==="text"&&l.set(x.__key,0,"text"),c.type==="text"&&c.set(x.__key,y-h,"text")}return void(this.format=p)}h===0||fc(f)||([,f]=f.splitText(h),h=0),f.setFormat(p);const v=m.getFormatFlags(t,p);y>0&&(y===m.getTextContentSize()||fc(m)||([m]=m.splitText(y)),m.setFormat(v));for(let b=d+1;b<g;b++){const x=n[b],S=x.getFormatFlags(t,v);x.setFormat(S)}l.type==="text"&&l.set(f.__key,h,"text"),c.type==="text"&&c.set(m.__key,y,"text"),this.format=p|v}insertNodes(t){if(t.length===0)return;if(this.anchor.key==="root"){this.insertParagraph();const g=Re();return ve(g)||Se(134),g.insertNodes(t)}const r=$0((this.isBackward()?this.focus:this.anchor).getNode(),hc),n=t[t.length-1];if("__language"in r&&de(r)){if("__language"in t[0])this.insertText(t[0].getTextContent());else{const g=B0(this);r.splice(g,0,t),n.selectEnd()}return}if(!t.some(g=>(de(g)||At(g))&&!g.isInline())){de(r)||Se(135);const g=B0(this);return r.splice(g,0,t),void n.selectEnd()}const s=function(g){const m=wi();let y=null;for(let v=0;v<g.length;v++){const b=g[v],x=rf(b);if(x||At(b)&&b.isInline()||de(b)&&b.isInline()||xe(b)||b.isParentRequired()){if(y===null&&(y=b.createParentElementNode(),m.append(y),x))continue;y!==null&&y.append(b)}else m.append(b),y=null}return m}(t),i=s.getLastDescendant(),o=s.getChildren(),a=g=>"__value"in g&&"__checked"in g,l=!de(r)||!r.isEmpty()?this.insertParagraph():null,c=o[o.length-1];let d=o[0];var f;de(f=d)&&hc(f)&&!f.isEmpty()&&de(r)&&(!r.isEmpty()||a(r))&&(de(r)||Se(135),r.append(...d.getChildren()),d=o[1]),d&&function(g,m,y){const v=m.getParentOrThrow().getLastChild();let b=m;const x=[m];for(;b!==v;)b.getNextSibling()||Se(140),b=b.getNextSibling(),x.push(b);let S=g;for(const _ of x)S=S.insertAfter(_)}(r,d);const h=$0(i,hc);l&&de(h)&&(a(l)||hc(c))&&(h.append(...l.getChildren()),l.remove()),de(r)&&r.isEmpty()&&r.remove(),i.selectEnd();const p=de(r)?r.getLastChild():null;rf(p)&&h!==r&&p.remove()}insertParagraph(){if(this.anchor.key==="root"){const o=wi();return lr().splice(this.anchor.offset,0,[o]),o.select(),o}const t=B0(this),r=$0(this.anchor.getNode(),hc);de(r)||Se(136);const n=r.getChildAtIndex(t),s=n?[n,...n.getNextSiblings()]:[],i=r.insertNewAfter(this,!1);return i?(i.append(...s),i.selectStart(),i):null}insertLineBreak(t){const r=xu();if(this.insertNodes([r]),t){const n=r.getParentOrThrow(),s=r.getIndexWithinParent();n.select(s,s)}}extract(){const t=this.getNodes(),r=t.length,n=r-1,s=this.anchor,i=this.focus;let o=t[0],a=t[n];const[l,c]=A1(this);if(r===0)return[];if(r===1){if(xe(o)&&!this.isCollapsed()){const f=l>c?c:l,h=l>c?l:c,p=o.splitText(f,h),g=f===0?p[0]:p[1];return g!=null?[g]:[]}return[o]}const d=s.isBefore(i);if(xe(o)){const f=d?l:c;f===o.getTextContentSize()?t.shift():f!==0&&([,o]=o.splitText(f),t[0]=o)}if(xe(a)){const f=a.getTextContent().length,h=d?c:l;h===0?t.pop():h!==f&&([a]=a.splitText(h),t[n]=a)}return t}modify(t,r,n){const s=this.focus,i=this.anchor,o=t==="move",a=Vf(s,r);if(At(a)&&!a.isIsolated()){if(o&&a.isKeyboardSelectable()){const p=wD();return p.add(a.__key),void Ti(p)}const h=r?a.getPreviousSibling():a.getNextSibling();if(xe(h)){const p=h.__key,g=r?h.getTextContent().length:0;return s.set(p,g,"text"),void(o&&i.set(p,g,"text"))}{const p=a.getParentOrThrow();let g,m;return de(h)?(m=h.__key,g=r?h.getChildrenSize():0):(g=a.getIndexWithinParent(),m=p.__key,r||g++),s.set(m,g,"element"),void(o&&i.set(m,g,"element"))}}const l=Zt(),c=Ai(l._window);if(!c)return;const d=l._blockCursorElement,f=l._rootElement;if(f===null||d===null||!de(a)||a.isInline()||a.canBeEmpty()||bN(d,l,f),function(h,p,g,m){h.modify(p,g,m)}(c,t,r?"backward":"forward",n),c.rangeCount>0){const h=c.getRangeAt(0),p=this.anchor.getNode(),g=Jr(p)?p:hTe(p);if(this.applyDOMRange(h),this.dirty=!0,!o){const m=this.getNodes(),y=[];let v=!1;for(let b=0;b<m.length;b++){const x=m[b];v1(x,g)?y.push(x):v=!0}if(v&&y.length>0)if(r){const b=y[0];de(b)?b.selectStart():b.getParentOrThrow().selectStart()}else{const b=y[y.length-1];de(b)?b.selectEnd():b.getParentOrThrow().selectEnd()}c.anchorNode===h.startContainer&&c.anchorOffset===h.startOffset||function(b){const x=b.focus,S=b.anchor,_=S.key,N=S.offset,k=S.type;Zo(S,x.key,x.offset,x.type),Zo(x,_,N,k),b._cachedNodes=null}(this)}}}forwardDeletion(t,r,n){if(!n&&(t.type==="element"&&de(r)&&t.offset===r.getChildrenSize()||t.type==="text"&&t.offset===r.getTextContentSize())){const s=r.getParent(),i=r.getNextSibling()||(s===null?null:s.getNextSibling());if(de(i)&&i.isShadowRoot())return!0}return!1}deleteCharacter(t){const r=this.isCollapsed();if(this.isCollapsed()){const n=this.anchor;let s=n.getNode();if(this.forwardDeletion(n,s,t))return;const i=this.focus,o=Vf(i,t);if(At(o)&&!o.isIsolated()){if(o.isKeyboardSelectable()&&de(s)&&s.getChildrenSize()===0){s.remove();const a=wD();a.add(o.__key),Ti(a)}else o.remove(),Zt().dispatchCommand(Qj,void 0);return}if(!t&&de(o)&&de(s)&&s.isEmpty())return s.remove(),void o.selectStart();if(this.modify("extend",t,"character"),this.isCollapsed()){if(t&&n.offset===0&&(n.type==="element"?n.getNode():n.getNode().getParentOrThrow()).collapseAtStart(this))return}else{const a=i.type==="text"?i.getNode():null;if(s=n.type==="text"?n.getNode():null,a!==null&&a.isSegmented()){const l=i.offset,c=a.getTextContentSize();if(a.is(s)||t&&l!==c||!t&&l!==0)return void vD(a,t,l)}else if(s!==null&&s.isSegmented()){const l=n.offset,c=s.getTextContentSize();if(s.is(a)||t&&l!==0||!t&&l!==c)return void vD(s,t,l)}(function(l,c){const d=l.anchor,f=l.focus,h=d.getNode(),p=f.getNode();if(h===p&&d.type==="text"&&f.type==="text"){const g=d.offset,m=f.offset,y=g<m,v=y?g:m,b=y?m:g,x=b-1;v!==x&&(Dz(h.getTextContent().slice(v,b))||(c?f.offset=x:d.offset=x))}})(this,t)}}if(this.removeText(),t&&!r&&this.isCollapsed()&&this.anchor.type==="element"&&this.anchor.offset===0){const n=this.anchor.getNode();n.isEmpty()&&Jr(n.getParent())&&n.getIndexWithinParent()===0&&n.collapseAtStart(this)}}deleteLine(t){if(this.isCollapsed()){const r=this.anchor.type==="element";if(r&&this.insertText(" "),this.modify("extend",t,"lineboundary"),(t?this.focus:this.anchor).offset===0&&this.modify("extend",t,"character"),r){const n=t?this.anchor:this.focus;n.set(n.key,n.offset+1,n.type)}}this.removeText()}deleteWord(t){if(this.isCollapsed()){const r=this.anchor,n=r.getNode();if(this.forwardDeletion(r,n,t))return;this.modify("extend",t,"word")}this.removeText()}isBackward(){return this.focus.isBefore(this.anchor)}getStartEndPoints(){return[this.anchor,this.focus]}}function Rs(e){return e instanceof Sv}function yD(e){const t=e.offset;if(e.type==="text")return t;const r=e.getNode();return t===r.getChildrenSize()?r.getTextContent().length:0}function A1(e){const t=e.getStartEndPoints();if(t===null)return[0,0];const[r,n]=t;return r.type==="element"&&n.type==="element"&&r.key===n.key&&r.offset===n.offset?[0,0]:[yD(r),yD(n)]}function vD(e,t,r){const n=e,s=n.getTextContent().split(/(?=\s)/g),i=s.length;let o=0,a=0;for(let c=0;c<i;c++){const d=c===i-1;if(a=o,o+=s[c].length,t&&o===r||o>r||d){s.splice(c,1),d&&(a=void 0);break}}const l=s.join("").trim();l===""?n.remove():(n.setTextContent(l),n.select(a,a))}function bD(e,t,r,n){let s,i=t;if(e.nodeType===kh){let o=!1;const a=e.childNodes,l=a.length,c=n._blockCursorElement;i===l&&(o=!0,i=l-1);let d=a[i],f=!1;if(d===c)d=a[i+1],f=!0;else if(c!==null){const h=c.parentNode;e===h&&t>Array.prototype.indexOf.call(h.children,c)&&i--}if(s=Oc(d),xe(s))i=tD(s,o);else{let h=Oc(e);if(h===null)return null;if(de(h)){i=Math.min(h.getChildrenSize(),i);let p=h.getChildAtIndex(i);if(de(p)&&function(g,m,y){const v=g.getParent();return y===null||v===null||!v.canBeEmpty()||v!==y.getNode()}(p,0,r)){const g=o?p.getLastDescendant():p.getFirstDescendant();g===null?h=p:(p=g,h=de(p)?p:p.getParentOrThrow()),i=0}xe(p)?(s=p,h=null,i=tD(p,o)):p!==h&&o&&!f&&i++}else{const p=h.getIndexWithinParent();i=t===0&&At(h)&&Oc(e)===h?p:p+1,h=h.getParentOrThrow()}if(de(h))return Pi(h.__key,i,"element")}}else s=Oc(e);return xe(s)?Pi(s.__key,i,"text"):null}function xD(e,t,r){const n=e.offset,s=e.getNode();if(n===0){const i=s.getPreviousSibling(),o=s.getParent();if(t){if((r||!t)&&i===null&&de(o)&&o.isInline()){const a=o.getPreviousSibling();xe(a)&&(e.key=a.__key,e.offset=a.getTextContent().length)}}else de(i)&&!r&&i.isInline()?(e.key=i.__key,e.offset=i.getChildrenSize(),e.type="element"):xe(i)&&(e.key=i.__key,e.offset=i.getTextContent().length)}else if(n===s.getTextContent().length){const i=s.getNextSibling(),o=s.getParent();if(t&&de(i)&&i.isInline())e.key=i.__key,e.offset=0,e.type="element";else if((r||t)&&i===null&&de(o)&&o.isInline()&&!o.canInsertTextAfter()){const a=o.getNextSibling();xe(a)&&(e.key=a.__key,e.offset=0)}}}function Qz(e,t,r){if(e.type==="text"&&t.type==="text"){const n=e.isBefore(t),s=e.is(t);xD(e,n,s),xD(t,!n,s),s&&(t.key=e.key,t.offset=e.offset,t.type=e.type);const i=Zt();if(i.isComposing()&&i._compositionKey!==e.key&&ve(r)){const o=r.anchor,a=r.focus;Zo(e,o.key,o.offset,o.type),Zo(t,a.key,a.offset,a.type)}}}function e7(e,t,r,n,s,i){if(e===null||r===null||!Ch(s,e,r))return null;const o=bD(e,t,ve(i)?i.anchor:null,s);if(o===null)return null;const a=bD(r,n,ve(i)?i.focus:null,s);if(a===null)return null;if(o.type==="element"&&a.type==="element"){const l=Oc(e),c=Oc(r);if(At(l)&&At(c))return null}return Qz(o,a,i),[o,a]}function P1(e){return de(e)&&!e.isInline()}function t7(e,t,r,n,s,i){const o=To(),a=new Pa(Pi(e,t,s),Pi(r,n,i),0,"");return a.dirty=!0,o._selection=a,a}function TTe(){const e=Pi("root",0,"element"),t=Pi("root",0,"element");return new Pa(e,t,0,"")}function wD(){return new Sv(new Set)}function _N(e,t,r,n){const s=r._window;if(s===null)return null;const i=n||s.event,o=i?i.type:void 0,a=o==="selectionchange",l=!g1&&(a||o==="beforeinput"||o==="compositionstart"||o==="compositionend"||o==="click"&&i&&i.detail===3||o==="drop"||o===void 0);let c,d,f,h;if(ve(e)&&!l)return e.clone();if(t===null)return null;if(c=t.anchorNode,d=t.focusNode,f=t.anchorOffset,h=t.focusOffset,a&&ve(e)&&!Ch(r,c,d))return e.clone();const p=e7(c,f,d,h,r,e);if(p===null)return null;const[g,m]=p;return new Pa(g,m,ve(e)?e.format:0,ve(e)?e.style:"")}function Re(){return To()._selection}function Oh(){return Zt()._editorState._selection}function Og(e,t,r,n=1){const s=e.anchor,i=e.focus,o=s.getNode(),a=i.getNode();if(!t.is(o)&&!t.is(a))return;const l=t.__key;if(e.isCollapsed()){const c=s.offset;if(r<=c&&n>0||r<c&&n<0){const d=Math.max(0,c+n);s.set(l,d,"element"),i.set(l,d,"element"),_D(e)}}else{const c=e.isBackward(),d=c?i:s,f=d.getNode(),h=c?s:i,p=h.getNode();if(t.is(f)){const g=d.offset;(r<=g&&n>0||r<g&&n<0)&&d.set(l,Math.max(0,g+n),"element")}if(t.is(p)){const g=h.offset;(r<=g&&n>0||r<g&&n<0)&&h.set(l,Math.max(0,g+n),"element")}}_D(e)}function _D(e){const t=e.anchor,r=t.offset,n=e.focus,s=n.offset,i=t.getNode(),o=n.getNode();if(e.isCollapsed()){if(!de(i))return;const a=i.getChildrenSize(),l=r>=a,c=l?i.getChildAtIndex(a-1):i.getChildAtIndex(r);if(xe(c)){let d=0;l&&(d=c.getTextContentSize()),t.set(c.__key,d,"text"),n.set(c.__key,d,"text")}}else{if(de(i)){const a=i.getChildrenSize(),l=r>=a,c=l?i.getChildAtIndex(a-1):i.getChildAtIndex(r);if(xe(c)){let d=0;l&&(d=c.getTextContentSize()),t.set(c.__key,d,"text")}}if(de(o)){const a=o.getChildrenSize(),l=s>=a,c=l?o.getChildAtIndex(a-1):o.getChildAtIndex(s);if(xe(c)){let d=0;l&&(d=c.getTextContentSize()),n.set(c.__key,d,"text")}}}}function Dg(e,t,r,n,s){let i=null,o=0,a=null;n!==null?(i=n.__key,xe(n)?(o=n.getTextContentSize(),a="text"):de(n)&&(o=n.getChildrenSize(),a="element")):s!==null&&(i=s.__key,xe(s)?a="text":de(s)&&(a="element")),i!==null&&a!==null?e.set(i,o,a):(o=t.getIndexWithinParent(),o===-1&&(o=r.getChildrenSize()),e.set(r.__key,o,"element"))}function SD(e,t,r,n,s){e.type==="text"?(e.key=r,t||(e.offset+=s)):e.offset>n.getIndexWithinParent()&&(e.offset-=1)}function ATe(e,t,r,n,s,i,o){const a=n.anchorNode,l=n.focusNode,c=n.anchorOffset,d=n.focusOffset,f=document.activeElement;if(s.has("collaboration")&&f!==i||f!==null&&pN(f))return;if(!ve(t))return void(e!==null&&Ch(r,a,l)&&n.removeAllRanges());const h=t.anchor,p=t.focus,g=h.key,m=p.key,y=kg(r,g),v=kg(r,m),b=h.offset,x=p.offset,S=t.format,_=t.style,N=t.isCollapsed();let k=y,C=v,A=!1;if(h.type==="text"){k=jg(y);const U=h.getNode();A=U.getFormat()!==S||U.getStyle()!==_}else ve(e)&&e.anchor.type==="text"&&(A=!0);var I,M,L,D,z;if(p.type==="text"&&(C=jg(v)),k!==null&&C!==null&&(N&&(e===null||A||ve(e)&&(e.format!==S||e.style!==_))&&(I=S,M=_,L=b,D=g,z=performance.now(),Kz=[I,M,L,D,z]),c!==b||d!==x||a!==k||l!==C||n.type==="Range"&&N||(f!==null&&i.contains(f)||i.focus({preventScroll:!0}),h.type==="element"))){try{n.setBaseAndExtent(k,b,C,x)}catch{}if(!s.has("skip-scroll-into-view")&&t.isCollapsed()&&i!==null&&i===document.activeElement){const U=t instanceof Pa&&t.anchor.type==="element"?k.childNodes[b]||null:n.rangeCount>0?n.getRangeAt(0):null;if(U!==null){let G;if(U instanceof Text){const q=document.createRange();q.selectNode(U),G=q.getBoundingClientRect()}else G=U.getBoundingClientRect();(function(q,Z,oe){const $=oe.ownerDocument,B=$.defaultView;if(B===null)return;let{top:X,bottom:ae}=Z,W=0,K=0,te=oe;for(;te!==null;){const re=te===$.body;if(re)W=0,K=vv(q).innerHeight;else{const V=te.getBoundingClientRect();W=V.top,K=V.bottom}let ue=0;if(X<W?ue=-(W-X):ae>K&&(ue=ae-K),ue!==0)if(re)B.scrollBy(0,ue);else{const V=te.scrollTop;te.scrollTop+=ue;const H=te.scrollTop-V;X-=H,ae-=H}if(re)break;te=yv(te)}})(r,G,i)}}k1=!0}}function PTe(e){let t=Re()||Oh();t===null&&(t=lr().selectEnd()),t.insertNodes(e)}function B0(e){let t=e;e.isCollapsed()||t.removeText();const r=Re();ve(r)&&(t=r),ve(t)||Se(161);const n=t.anchor;let s=n.getNode(),i=n.offset;for(;!hc(s);)[s,i]=OTe(s,i);return i}function OTe(e,t){const r=e.getParent();if(!r){const s=wi();return lr().append(s),s.select(),[lr(),0]}if(xe(e)){const s=e.splitText(t);if(s.length===0)return[r,e.getIndexWithinParent()];const i=t===0?0:1;return[r,s[0].getIndexWithinParent()+i]}if(!de(e)||t===0)return[r,e.getIndexWithinParent()];const n=e.getChildAtIndex(t);if(n){const s=new Pa(Pi(e.__key,t,"element"),Pi(e.__key,t,"element"),0,""),i=e.insertNewAfter(s);i&&i.append(n,...n.getNextSiblings())}return[r,e.getIndexWithinParent()+1]}let kr=null,Cr=null,wn=!1,z0=!1,im=0;const ED={characterData:!0,childList:!0,subtree:!0};function Dh(){return wn||kr!==null&&kr._readOnly}function yn(){wn&&Se(13)}function r7(){im>99&&Se(14)}function To(){return kr===null&&Se(15),kr}function Zt(){return Cr===null&&Se(16),Cr}function DTe(){return Cr}function jD(e,t,r){const n=t.__type,s=function(a,l){const c=a._nodes.get(l);return c===void 0&&Se(30,l),c}(e,n);let i=r.get(n);i===void 0&&(i=Array.from(s.transforms),r.set(n,i));const o=i.length;for(let a=0;a<o&&(i[a](t),t.isAttached());a++);}function ND(e,t){return e!==void 0&&e.__key!==t&&e.isAttached()}function $Te(e){return SN(e,Zt()._nodes)}function SN(e,t){const r=e.type,n=t.get(r);n===void 0&&Se(17,r);const s=n.klass;e.type!==s.getType()&&Se(18,s.name);const i=s.importJSON(e),o=e.children;if(de(i)&&Array.isArray(o))for(let a=0;a<o.length;a++){const l=SN(o[a],t);i.append(l)}return i}function kD(e,t){const r=kr,n=wn,s=Cr;kr=e,wn=!0,Cr=null;try{return t()}finally{kr=r,wn=n,Cr=s}}function fl(e,t){const r=e._pendingEditorState,n=e._rootElement,s=e._headless||n===null;if(r===null)return;const i=e._editorState,o=i._selection,a=r._selection,l=e._dirtyType!==El,c=kr,d=wn,f=Cr,h=e._updating,p=e._observer;let g=null;if(e._pendingEditorState=null,e._editorState=r,!s&&l&&p!==null){Cr=e,kr=r,wn=!1,e._updating=!0;try{const N=e._dirtyType,k=e._dirtyElements,C=e._dirtyLeaves;p.disconnect(),g=bTe(i,r,e,N,k,C)}catch(N){if(N instanceof Error&&e._onError(N),z0)throw N;return o7(e,null,n,r),kz(e),e._dirtyType=bu,z0=!0,fl(e,i),void(z0=!1)}finally{p.observe(n,ED),e._updating=h,kr=c,wn=d,Cr=f}}r._readOnly||(r._readOnly=!0);const m=e._dirtyLeaves,y=e._dirtyElements,v=e._normalizedNodes,b=e._updateTags,x=e._deferred;l&&(e._dirtyType=El,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements=new Map,e._normalizedNodes=new Set,e._updateTags=new Set),function(N,k){const C=N._decorators;let A=N._pendingDecorators||C;const I=k._nodeMap;let M;for(M in A)I.has(M)||(A===C&&(A=Pz(N)),delete A[M])}(e,r);const S=s?null:Ai(e._window);if(e._editable&&S!==null&&(l||a===null||a.dirty)){Cr=e,kr=r;try{if(p!==null&&p.disconnect(),l||a===null||a.dirty){const N=e._blockCursorElement;N!==null&&bN(N,e,n),ATe(o,a,e,S,b,n)}pTe(e,n,a),p!==null&&p.observe(n,ED)}finally{Cr=f,kr=c}}g!==null&&function(N,k,C,A,I){const M=Array.from(N._listeners.mutation),L=M.length;for(let D=0;D<L;D++){const[z,U]=M[D],G=k.get(U);G!==void 0&&z(G,{dirtyLeaves:A,prevEditorState:I,updateTags:C})}}(e,g,b,m,i),ve(a)||a===null||o!==null&&o.is(a)||e.dispatchCommand(Qj,void 0);const _=e._pendingDecorators;_!==null&&(e._decorators=_,e._pendingDecorators=null,nf("decorator",e,!0,_)),function(N,k,C){const A=eD(k),I=eD(C);A!==I&&nf("textcontent",N,!0,I)}(e,t||i,r),nf("update",e,!0,{dirtyElements:y,dirtyLeaves:m,editorState:r,normalizedNodes:v,prevEditorState:t||i,tags:b}),function(N,k){if(N._deferred=[],k.length!==0){const C=N._updating;N._updating=!0;try{for(let A=0;A<k.length;A++)k[A]()}finally{N._updating=C}}}(e,x),function(N){const k=N._updates;if(k.length!==0){const C=k.shift();if(C){const[A,I]=C;s7(N,A,I)}}}(e)}function nf(e,t,r,...n){const s=t._updating;t._updating=r;try{const i=Array.from(t._listeners[e]);for(let o=0;o<i.length;o++)i[o].apply(null,n)}finally{t._updating=s}}function n7(e,t,r){if(e._updating===!1||Cr!==e){let s=!1;return e.update(()=>{s=n7(e,t,r)}),s}const n=mN(e);for(let s=4;s>=0;s--)for(let i=0;i<n.length;i++){const o=n[i]._commands.get(t);if(o!==void 0){const a=o[s];if(a!==void 0){const l=Array.from(a),c=l.length;for(let d=0;d<c;d++)if(l[d](r,e)===!0)return!0}}}return!1}function CD(e,t){const r=e._updates;let n=t||!1;for(;r.length!==0;){const s=r.shift();if(s){const[i,o]=s;let a,l;o!==void 0&&(a=o.onUpdate,l=o.tag,o.skipTransforms&&(n=!0),a&&e._deferred.push(a),l&&e._updateTags.add(l)),i()}}return n}function s7(e,t,r){const n=e._updateTags;let s,i,o=!1,a=!1;r!==void 0&&(s=r.onUpdate,i=r.tag,i!=null&&n.add(i),o=r.skipTransforms||!1,a=r.discrete||!1),s&&e._deferred.push(s);const l=e._editorState;let c=e._pendingEditorState,d=!1;(c===null||c._readOnly)&&(c=e._pendingEditorState=new jv(new Map((c||l)._nodeMap)),d=!0),c._flushSync=a;const f=kr,h=wn,p=Cr,g=e._updating;kr=c,wn=!1,e._updating=!0,Cr=e;try{d&&(e._headless?l._selection!==null&&(c._selection=l._selection.clone()):c._selection=function(b){const x=b.getEditorState()._selection,S=Ai(b._window);return ve(x)||x==null?_N(x,S,b,null):x.clone()}(e));const y=e._compositionKey;t(),o=CD(e,o),function(b,x){const S=x.getEditorState()._selection,_=b._selection;if(ve(_)){const N=_.anchor,k=_.focus;let C;if(N.type==="text"&&(C=N.getNode(),C.selectionTransform(S,_)),k.type==="text"){const A=k.getNode();C!==A&&A.selectionTransform(S,_)}}}(c,e),e._dirtyType!==El&&(o?function(b,x){const S=x._dirtyLeaves,_=b._nodeMap;for(const N of S){const k=_.get(N);xe(k)&&k.isAttached()&&k.isSimpleText()&&!k.isUnmergeable()&&J2(k)}}(c,e):function(b,x){const S=x._dirtyLeaves,_=x._dirtyElements,N=b._nodeMap,k=sa(),C=new Map;let A=S,I=A.size,M=_,L=M.size;for(;I>0||L>0;){if(I>0){x._dirtyLeaves=new Set;for(const D of A){const z=N.get(D);xe(z)&&z.isAttached()&&z.isSimpleText()&&!z.isUnmergeable()&&J2(z),z!==void 0&&ND(z,k)&&jD(x,z,C),S.add(D)}if(A=x._dirtyLeaves,I=A.size,I>0){im++;continue}}x._dirtyLeaves=new Set,x._dirtyElements=new Map;for(const D of M){const z=D[0],U=D[1];if(z!=="root"&&!U)continue;const G=N.get(z);G!==void 0&&ND(G,k)&&jD(x,G,C),_.set(z,U)}A=x._dirtyLeaves,I=A.size,M=x._dirtyElements,L=M.size,im++}x._dirtyLeaves=S,x._dirtyElements=_}(c,e),CD(e),function(b,x,S,_){const N=b._nodeMap,k=x._nodeMap,C=[];for(const[A]of _){const I=k.get(A);I!==void 0&&(I.isAttached()||(de(I)&&Mz(I,A,N,k,C,_),N.has(A)||_.delete(A),C.push(A)))}for(const A of C)k.delete(A);for(const A of S){const I=k.get(A);I===void 0||I.isAttached()||(N.has(A)||S.delete(A),k.delete(A))}}(l,c,e._dirtyLeaves,e._dirtyElements)),y!==e._compositionKey&&(c._flushSync=!0);const v=c._selection;if(ve(v)){const b=c._nodeMap,x=v.anchor.key,S=v.focus.key;b.get(x)!==void 0&&b.get(S)!==void 0||Se(19)}else Rs(v)&&v._nodes.size===0&&(c._selection=null)}catch(y){return y instanceof Error&&e._onError(y),e._pendingEditorState=l,e._dirtyType=bu,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),void fl(e)}finally{kr=f,wn=h,Cr=p,e._updating=g,im=0}e._dirtyType!==El||function(y,v){const b=v.getEditorState()._selection,x=y._selection;if(x!==null){if(x.dirty||!x.is(b))return!0}else if(b!==null)return!0;return!1}(c,e)?c._flushSync?(c._flushSync=!1,fl(e)):d&&lTe(()=>{fl(e)}):(c._flushSync=!1,d&&(n.clear(),e._deferred=[],e._pendingEditorState=null))}function Ln(e,t,r){e._updating?e._updates.push([t,r]):s7(e,t,r)}class Ev extends _v{constructor(t){super(t),this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__indent=0,this.__dir=null}getFormat(){return this.getLatest().__format}getFormatType(){const t=this.getFormat();return QCe[t]||""}getIndent(){return this.getLatest().__indent}getChildren(){const t=[];let r=this.getFirstChild();for(;r!==null;)t.push(r),r=r.getNextSibling();return t}getChildrenKeys(){const t=[];let r=this.getFirstChild();for(;r!==null;)t.push(r.__key),r=r.getNextSibling();return t}getChildrenSize(){return this.getLatest().__size}isEmpty(){return this.getChildrenSize()===0}isDirty(){const t=Zt()._dirtyElements;return t!==null&&t.has(this.__key)}isLastChild(){const t=this.getLatest(),r=this.getParentOrThrow().getLastChild();return r!==null&&r.is(t)}getAllTextNodes(){const t=[];let r=this.getFirstChild();for(;r!==null;){if(xe(r)&&t.push(r),de(r)){const n=r.getAllTextNodes();t.push(...n)}r=r.getNextSibling()}return t}getFirstDescendant(){let t=this.getFirstChild();for(;de(t);){const r=t.getFirstChild();if(r===null)break;t=r}return t}getLastDescendant(){let t=this.getLastChild();for(;de(t);){const r=t.getLastChild();if(r===null)break;t=r}return t}getDescendantByIndex(t){const r=this.getChildren(),n=r.length;if(t>=n){const i=r[n-1];return de(i)&&i.getLastDescendant()||i||null}const s=r[t];return de(s)&&s.getFirstDescendant()||s||null}getFirstChild(){const t=this.getLatest().__first;return t===null?null:an(t)}getFirstChildOrThrow(){const t=this.getFirstChild();return t===null&&Se(45,this.__key),t}getLastChild(){const t=this.getLatest().__last;return t===null?null:an(t)}getLastChildOrThrow(){const t=this.getLastChild();return t===null&&Se(96,this.__key),t}getChildAtIndex(t){const r=this.getChildrenSize();let n,s;if(t<r/2){for(n=this.getFirstChild(),s=0;n!==null&&s<=t;){if(s===t)return n;n=n.getNextSibling(),s++}return null}for(n=this.getLastChild(),s=r-1;n!==null&&s>=t;){if(s===t)return n;n=n.getPreviousSibling(),s--}return null}getTextContent(){let t="";const r=this.getChildren(),n=r.length;for(let s=0;s<n;s++){const i=r[s];t+=i.getTextContent(),de(i)&&s!==n-1&&!i.isInline()&&(t+=xo)}return t}getTextContentSize(){let t=0;const r=this.getChildren(),n=r.length;for(let s=0;s<n;s++){const i=r[s];t+=i.getTextContentSize(),de(i)&&s!==n-1&&!i.isInline()&&(t+=xo.length)}return t}getDirection(){return this.getLatest().__dir}hasFormat(t){if(t!==""){const r=G2[t];return!!(this.getFormat()&r)}return!1}select(t,r){yn();const n=Re();let s=t,i=r;const o=this.getChildrenSize();if(!this.canBeEmpty()){if(t===0&&r===0){const l=this.getFirstChild();if(xe(l)||de(l))return l.select(0,0)}else if(!(t!==void 0&&t!==o||r!==void 0&&r!==o)){const l=this.getLastChild();if(xe(l)||de(l))return l.select()}}s===void 0&&(s=o),i===void 0&&(i=o);const a=this.__key;return ve(n)?(n.anchor.set(a,s,"element"),n.focus.set(a,i,"element"),n.dirty=!0,n):t7(a,s,a,i,"element","element")}selectStart(){const t=this.getFirstDescendant();return t?t.selectStart():this.select()}selectEnd(){const t=this.getLastDescendant();return t?t.selectEnd():this.select()}clear(){const t=this.getWritable();return this.getChildren().forEach(r=>r.remove()),t}append(...t){return this.splice(this.getChildrenSize(),0,t)}setDirection(t){const r=this.getWritable();return r.__dir=t,r}setFormat(t){return this.getWritable().__format=t!==""?G2[t]:0,this}setIndent(t){return this.getWritable().__indent=t,this}splice(t,r,n){const s=n.length,i=this.getChildrenSize(),o=this.getWritable(),a=o.__key,l=[],c=[],d=this.getChildAtIndex(t+r);let f=null,h=i-r+s;if(t!==0)if(t===i)f=this.getLastChild();else{const g=this.getChildAtIndex(t);g!==null&&(f=g.getPreviousSibling())}if(r>0){let g=f===null?this.getFirstChild():f.getNextSibling();for(let m=0;m<r;m++){g===null&&Se(100);const y=g.getNextSibling(),v=g.__key;dl(g.getWritable()),c.push(v),g=y}}let p=f;for(let g=0;g<s;g++){const m=n[g];p!==null&&m.is(p)&&(f=p=p.getPreviousSibling());const y=m.getWritable();y.__parent===a&&h--,dl(y);const v=m.__key;if(p===null)o.__first=v,y.__prev=null;else{const b=p.getWritable();b.__next=v,y.__prev=b.__key}m.__key===a&&Se(76),y.__parent=a,l.push(v),p=m}if(t+r===i)p!==null&&(p.getWritable().__next=null,o.__last=p.__key);else if(d!==null){const g=d.getWritable();if(p!==null){const m=p.getWritable();g.__prev=p.__key,m.__next=d.__key}else g.__prev=null}if(o.__size=h,c.length){const g=Re();if(ve(g)){const m=new Set(c),y=new Set(l),{anchor:v,focus:b}=g;TD(v,m,y)&&Dg(v,v.getNode(),this,f,d),TD(b,m,y)&&Dg(b,b.getNode(),this,f,d),h!==0||this.canBeEmpty()||Ku(this)||this.remove()}}return o}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"element",version:1}}insertNewAfter(t,r){return null}canIndent(){return!0}collapseAtStart(t){return!1}excludeFromCopy(t){return!1}canReplaceWith(t){return!0}canInsertAfter(t){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(t){return!1}extractWithChild(t,r,n){return!1}}function de(e){return e instanceof Ev}function TD(e,t,r){let n=e.getNode();for(;n;){const s=n.__key;if(t.has(s)&&!r.has(s))return!0;n=n.getParent()}return!1}class RTe extends _v{constructor(t){super(t)}decorate(t,r){Se(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function At(e){return e instanceof RTe}class $h extends Ev{static getType(){return"root"}static clone(){return new $h}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){Se(51)}getTextContent(){const t=this.__cachedText;return!Dh()&&Zt()._dirtyType!==El||t===null?super.getTextContent():t}remove(){Se(52)}replace(t){Se(53)}insertBefore(t){Se(54)}insertAfter(t){Se(55)}updateDOM(t,r){return!1}append(...t){for(let r=0;r<t.length;r++){const n=t[r];de(n)||At(n)||Se(56)}return super.append(...t)}static importJSON(t){const r=lr();return r.setFormat(t.format),r.setIndent(t.indent),r.setDirection(t.direction),r}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"root",version:1}}collapseAtStart(){return!0}}function Jr(e){return e instanceof $h}function EN(){return new jv(new Map([["root",new $h]]))}function i7(e){const t=e.exportJSON(),r=e.constructor;if(t.type!==r.getType()&&Se(130,r.name),de(e)){const n=t.children;Array.isArray(n)||Se(59,r.name);const s=e.getChildren();for(let i=0;i<s.length;i++){const o=i7(s[i]);n.push(o)}}return t}class jv{constructor(t,r){this._nodeMap=t,this._selection=r||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return this._nodeMap.size===1&&this._selection===null}read(t){return kD(this,t)}clone(t){const r=new jv(this._nodeMap,t===void 0?this._selection:t);return r._readOnly=!0,r}toJSON(){return kD(this,()=>({root:i7(lr())}))}}class jN extends Ev{static getType(){return"artificial"}createDOM(t){return document.createElement("div")}}class Yu extends Ev{constructor(t){super(t),this.__textFormat=0}static getType(){return"paragraph"}getTextFormat(){return this.getLatest().__textFormat}setTextFormat(t){const r=this.getWritable();return r.__textFormat=t,r}hasTextFormat(t){const r=jl[t];return!!(this.getTextFormat()&r)}static clone(t){return new Yu(t.__key)}createDOM(t){const r=document.createElement("p"),n=Qd(t.theme,"paragraph");return n!==void 0&&r.classList.add(...n),r}updateDOM(t,r,n){return!1}static importDOM(){return{p:t=>({conversion:ITe,priority:0})}}exportDOM(t){const{element:r}=super.exportDOM(t);if(r&&xN(r)){this.isEmpty()&&r.append(document.createElement("br"));const n=this.getFormatType();r.style.textAlign=n;const s=this.getDirection();s&&(r.dir=s);const i=this.getIndent();i>0&&(r.style.textIndent=20*i+"px")}return{element:r}}static importJSON(t){const r=wi();return r.setFormat(t.format),r.setIndent(t.indent),r.setDirection(t.direction),r.setTextFormat(t.textFormat),r}exportJSON(){return{...super.exportJSON(),textFormat:this.getTextFormat(),type:"paragraph",version:1}}insertNewAfter(t,r){const n=wi();n.setTextFormat(t.format);const s=this.getDirection();return n.setDirection(s),n.setFormat(this.getFormatType()),this.insertAfter(n,r),n}collapseAtStart(){const t=this.getChildren();if(t.length===0||xe(t[0])&&t[0].getTextContent().trim()===""){if(this.getNextSibling()!==null)return this.selectNext(),this.remove(),!0;if(this.getPreviousSibling()!==null)return this.selectPrevious(),this.remove(),!0}return!1}}function ITe(e){const t=wi();if(e.style){t.setFormat(e.style.textAlign);const r=parseInt(e.style.textIndent,10)/20;r>0&&t.setIndent(r)}return{node:t}}function wi(){return bv(new Yu)}function wu(e){return e instanceof Yu}const ot=0,MTe=4;function o7(e,t,r,n){const s=e._keyToDOMMap;s.clear(),e._editorState=EN(),e._pendingEditorState=n,e._compositionKey=null,e._dirtyType=El,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),e._normalizedNodes=new Set,e._updateTags=new Set,e._updates=[],e._blockCursorElement=null;const i=e._observer;i!==null&&(i.disconnect(),e._observer=null),t!==null&&(t.textContent=""),r!==null&&(r.textContent="",s.set("root",r))}function LTe(e){const t=e||{},r=DTe(),n=t.theme||{},s=e===void 0?r:t.parentEditor||null,i=t.disableEvents||!1,o=EN(),a=t.namespace||(s!==null?s._config.namespace:$z()),l=t.editorState,c=[$h,Hu,Th,Ah,Yu,jN,...t.nodes||[]],{onError:d,html:f}=t,h=t.editable===void 0||t.editable;let p;if(e===void 0&&r!==null)p=r._nodes;else{p=new Map;for(let m=0;m<c.length;m++){let y=c[m],v=null,b=null;if(typeof y!="function"){const N=y;y=N.replace,v=N.with,b=N.withKlass||null}const x=y.getType(),S=y.transform(),_=new Set;S!==null&&_.add(S),p.set(x,{exportDOM:f&&f.export?f.export.get(y):void 0,klass:y,replace:v,replaceWithKlass:b,transforms:_})}}const g=new FTe(o,s,p,{disableEvents:i,namespace:a,theme:n},d||console.error,function(m,y){const v=new Map,b=new Set,x=S=>{Object.keys(S).forEach(_=>{let N=v.get(_);N===void 0&&(N=[],v.set(_,N)),N.push(S[_])})};return m.forEach(S=>{const _=S.klass.importDOM;if(_==null||b.has(_))return;b.add(_);const N=_.call(S.klass);N!==null&&x(N)}),y&&x(y),v}(p,f?f.import:void 0),h);return l!==void 0&&(g._pendingEditorState=l,g._dirtyType=bu),g}class FTe{constructor(t,r,n,s,i,o,a){this._parentEditor=r,this._rootElement=null,this._editorState=t,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=s,this._nodes=n,this._decorators={},this._pendingDecorators=null,this._dirtyType=El,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=$z(),this._onError=i,this._htmlConversions=o,this._editable=a,this._headless=r!==null&&r._headless,this._window=null,this._blockCursorElement=null}isComposing(){return this._compositionKey!=null}registerUpdateListener(t){const r=this._listeners.update;return r.add(t),()=>{r.delete(t)}}registerEditableListener(t){const r=this._listeners.editable;return r.add(t),()=>{r.delete(t)}}registerDecoratorListener(t){const r=this._listeners.decorator;return r.add(t),()=>{r.delete(t)}}registerTextContentListener(t){const r=this._listeners.textcontent;return r.add(t),()=>{r.delete(t)}}registerRootListener(t){const r=this._listeners.root;return t(this._rootElement,null),r.add(t),()=>{t(null,this._rootElement),r.delete(t)}}registerCommand(t,r,n){n===void 0&&Se(35);const s=this._commands;s.has(t)||s.set(t,[new Set,new Set,new Set,new Set,new Set]);const i=s.get(t);i===void 0&&Se(36,String(t));const o=i[n];return o.add(r),()=>{o.delete(r),i.every(a=>a.size===0)&&s.delete(t)}}registerMutationListener(t,r){let n=this._nodes.get(t.getType());n===void 0&&Se(37,t.name);let s=t,i=null;for(;i=n.replaceWithKlass;)s=i,n=this._nodes.get(i.getType()),n===void 0&&Se(37,i.name);const o=this._listeners.mutation;return o.set(r,s),()=>{o.delete(r)}}registerNodeTransformToKlass(t,r){const n=t.getType(),s=this._nodes.get(n);return s===void 0&&Se(37,t.name),s.transforms.add(r),s}registerNodeTransform(t,r){const n=this.registerNodeTransformToKlass(t,r),s=[n],i=n.replaceWithKlass;if(i!=null){const l=this.registerNodeTransformToKlass(i,r);s.push(l)}var o,a;return o=this,a=t.getType(),Ln(o,()=>{const l=To();if(l.isEmpty())return;if(a==="root")return void lr().markDirty();const c=l._nodeMap;for(const[,d]of c)d.markDirty()},o._pendingEditorState===null?{tag:"history-merge"}:void 0),()=>{s.forEach(l=>l.transforms.delete(r))}}hasNode(t){return this._nodes.has(t.getType())}hasNodes(t){return t.every(this.hasNode.bind(this))}dispatchCommand(t,r){return je(this,t,r)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(t){const r=this._rootElement;if(t!==r){const n=Qd(this._config.theme,"root"),s=this._pendingEditorState||this._editorState;if(this._rootElement=t,o7(this,r,t,s),r!==null&&(this._config.disableEvents||xTe(r),n!=null&&r.classList.remove(...n)),t!==null){const i=function(a){const l=a.ownerDocument;return l&&l.defaultView||null}(t),o=t.style;o.userSelect="text",o.whiteSpace="pre-wrap",o.wordBreak="break-word",t.setAttribute("data-lexical-editor","true"),this._window=i,this._dirtyType=bu,kz(this),this._updateTags.add("history-merge"),fl(this),this._config.disableEvents||function(a,l){const c=a.ownerDocument,d=Pg.get(c);(d===void 0||d<1)&&c.addEventListener("selectionchange",Zz),Pg.set(c,(d||0)+1),a.__lexicalEditor=l;const f=Gz(a);for(let h=0;h<N1.length;h++){const[p,g]=N1[h],m=typeof g=="function"?y=>{dD(y)||(uD(y),(l.isEditable()||p==="click")&&g(y,l))}:y=>{if(dD(y))return;uD(y);const v=l.isEditable();switch(p){case"cut":return v&&je(l,nN,y);case"copy":return je(l,hv,y);case"paste":return v&&je(l,eN,y);case"dragstart":return v&&je(l,bz,y);case"dragover":return v&&je(l,xz,y);case"dragend":return v&&je(l,ICe,y);case"focus":return v&&je(l,FCe,y);case"blur":return v&&je(l,BCe,y);case"drop":return v&&je(l,vz,y)}};a.addEventListener(p,m),f.push(()=>{a.removeEventListener(p,m)})}}(t,this),n!=null&&t.classList.add(...n)}else this._editorState=s,this._pendingEditorState=null,this._window=null;nf("root",this,!1,t,r)}}getElementByKey(t){return this._keyToDOMMap.get(t)||null}getEditorState(){return this._editorState}setEditorState(t,r){t.isEmpty()&&Se(38),Nz(this);const n=this._pendingEditorState,s=this._updateTags,i=r!==void 0?r.tag:null;n===null||n.isEmpty()||(i!=null&&s.add(i),fl(this)),this._pendingEditorState=t,this._dirtyType=bu,this._dirtyElements.set("root",!1),this._compositionKey=null,i!=null&&s.add(i),fl(this)}parseEditorState(t,r){return function(n,s,i){const o=EN(),a=kr,l=wn,c=Cr,d=s._dirtyElements,f=s._dirtyLeaves,h=s._cloneNotNeeded,p=s._dirtyType;s._dirtyElements=new Map,s._dirtyLeaves=new Set,s._cloneNotNeeded=new Set,s._dirtyType=0,kr=o,wn=!1,Cr=s;try{const g=s._nodes;SN(n.root,g),i&&i(),o._readOnly=!0}catch(g){g instanceof Error&&s._onError(g)}finally{s._dirtyElements=d,s._dirtyLeaves=f,s._cloneNotNeeded=h,s._dirtyType=p,kr=a,wn=l,Cr=c}return o}(typeof t=="string"?JSON.parse(t):t,this,r)}update(t,r){Ln(this,t,r)}focus(t,r={}){const n=this._rootElement;n!==null&&(n.setAttribute("autocapitalize","off"),Ln(this,()=>{const s=Re(),i=lr();s!==null?s.dirty=!0:i.getChildrenSize()!==0&&(r.defaultSelection==="rootStart"?i.selectStart():i.selectEnd())},{onUpdate:()=>{n.removeAttribute("autocapitalize"),t&&t()},tag:"focus"}),this._pendingEditorState===null&&n.removeAttribute("autocapitalize"))}blur(){const t=this._rootElement;t!==null&&t.blur();const r=Ai(this._window);r!==null&&r.removeAllRanges()}isEditable(){return this._editable}setEditable(t){this._editable!==t&&(this._editable=t,nf("editable",this,!0,t))}toJSON(){return{editorState:this._editorState.toJSON()}}}const a7=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,BTe=a7?w.useLayoutEffect:w.useEffect,Up={tag:"history-merge"};function zTe({initialConfig:e,children:t}){const r=w.useMemo(()=>{const{theme:n,namespace:s,editor__DEPRECATED:i,nodes:o,onError:a,editorState:l,html:c}=e,d=jCe(null,n);let f=i||null;if(f===null){const h=LTe({editable:e.editable,html:c,namespace:s,nodes:o,onError:p=>a(p,h),theme:n});(function(p,g){if(g!==null){if(g===void 0)p.update(()=>{const m=lr();if(m.isEmpty()){const y=wi();m.append(y);const v=a7?document.activeElement:null;(Re()!==null||v!==null&&v===p.getRootElement())&&y.select()}},Up);else if(g!==null)switch(typeof g){case"string":{const m=p.parseEditorState(g);p.setEditorState(m,Up);break}case"object":p.setEditorState(g,Up);break;case"function":p.update(()=>{lr().isEmpty()&&g(p)},Up)}}})(h,l),f=h}return[f,d]},[]);return BTe(()=>{const n=e.editable,[s]=r;s.setEditable(n===void 0||n)},[]),u.jsx(cz.Provider,{value:r,children:t})}const UTe=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?w.useLayoutEffect:w.useEffect;function qTe(e){return{initialValueFn:()=>e.isEditable(),subscribe:t=>e.registerEditableListener(t)}}function VTe(){return function(e){const[t]=Wu(),r=w.useMemo(()=>e(t),[t,e]),n=w.useRef(r.initialValueFn()),[s,i]=w.useState(n.current);return UTe(()=>{const{initialValueFn:o,subscribe:a}=r,l=o();return n.current!==l&&(n.current=l,i(l)),a(c=>{n.current=c,i(c)})},[r,e]),s}(qTe)}function WTe(){return lr().getTextContent()}function KTe(e,t=!0){if(e)return!1;let r=WTe();return t&&(r=r.trim()),r===""}function HTe(e){if(!KTe(e,!1))return!1;const t=lr().getChildren(),r=t.length;if(r>1)return!1;for(let n=0;n<r;n++){const s=t[n];if(At(s))return!1;if(de(s)){if(!wu(s)||s.__indent!==0)return!1;const i=s.getChildren(),o=i.length;for(let a=0;a<o;a++){const l=i[n];if(!xe(l))return!1}}}return!0}function YTe(e){return()=>HTe(e)}function GTe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}GTe(function(e){const t=new URLSearchParams;t.append("code",e);for(let r=1;r<arguments.length;r++)t.append("v",arguments[r]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});function ZTe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}ZTe(function(e){const t=new URLSearchParams;t.append("code",e);for(let r=1;r<arguments.length;r++)t.append("v",arguments[r]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});const XTe=new Map;function JTe(e){const t={},r=e.split(";");for(const n of r)if(n!==""){const[s,i]=n.split(/:([^]+)/);s&&i&&(t[s.trim()]=i.trim())}return t}function l7(e){const t=e.constructor.clone(e);return t.__parent=e.__parent,t.__next=e.__next,t.__prev=e.__prev,de(e)&&de(t)?(n=e,(r=t).__first=n.__first,r.__last=n.__last,r.__size=n.__size,r.__format=n.__format,r.__indent=n.__indent,r.__dir=n.__dir,r):xe(e)&&xe(t)?function(s,i){return s.__format=i.__format,s.__style=i.__style,s.__mode=i.__mode,s.__detail=i.__detail,s}(t,e):wu(e)&&wu(t)?function(s,i){return s.__textFormat=i.__textFormat,s}(t,e):t;var r,n}function c7(e,t){const r=e.getStartEndPoints();if(t.isSelected(e)&&!t.isSegmented()&&!t.isToken()&&r!==null){const[n,s]=r,i=e.isBackward(),o=n.getNode(),a=s.getNode(),l=t.is(o),c=t.is(a);if(l||c){const[d,f]=A1(e),h=o.is(a),p=t.is(i?a:o),g=t.is(i?o:a);let m,y=0;return h?(y=d>f?f:d,m=d>f?d:f):p?(y=i?f:d,m=void 0):g&&(y=0,m=i?d:f),t.__text=t.__text.slice(y,m),t}}return t}function QTe(e){const t=e.getStyle(),r=JTe(t);XTe.set(t,r)}function AD(e,t){const r=Vf(e.focus,t);return At(r)&&!r.isIsolated()||de(r)&&!r.isInline()&&!r.canBeEmpty()}function eAe(e,t,r,n){e.modify(t?"extend":"move",r,n)}function tAe(e){const t=e.anchor.getNode();return(Jr(t)?t:t.getParentOrThrow()).getDirection()==="rtl"}function PD(e,t,r){const n=tAe(e);eAe(e,t,r?!n:n,"character")}function rAe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var nAe=rAe(function(e){const t=new URLSearchParams;t.append("code",e);for(let r=1;r<arguments.length;r++)t.append("v",arguments[r]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});const u7=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,sAe=u7&&"documentMode"in document?document.documentMode:null;!(!u7||!("InputEvent"in window)||sAe)&&"getTargetRanges"in new window.InputEvent("input");function Nv(...e){return()=>{for(let t=e.length-1;t>=0;t--)e[t]();e.length=0}}function iAe(e){const t=NN(e,r=>de(r)&&!r.isInline());return de(t)||nAe(4,e.__key),t}const NN=(e,t)=>{let r=e;for(;r!==lr()&&r!=null;){if(t(r))return r;r=r.getParent()}return null};function tl(e,t){return e!==null&&Object.getPrototypeOf(e).constructor.name===t.name}function oAe(e){const t=window.location.origin,r=n=>{if(n.origin!==t)return;const s=e.getRootElement();if(document.activeElement!==s)return;const i=n.data;if(typeof i=="string"){let o;try{o=JSON.parse(i)}catch{return}if(o&&o.protocol==="nuanria_messaging"&&o.type==="request"){const a=o.payload;if(a&&a.functionId==="makeChanges"){const l=a.args;if(l){const[c,d,f,h,p,g]=l;e.update(()=>{const m=Re();if(ve(m)){const y=m.anchor;let v=y.getNode(),b=0,x=0;if(xe(v)&&c>=0&&d>=0&&(b=c,x=c+d,m.setTextNodeRange(v,b,v,x)),b===x&&f===""||(m.insertRawText(f),v=y.getNode()),xe(v)){b=h,x=h+p;const S=v.getTextContentSize();b=b>S?S:b,x=x>S?S:x,m.setTextNodeRange(v,b,v,x)}n.stopImmediatePropagation()}})}}}}};return window.addEventListener("message",r,!0),()=>{window.removeEventListener("message",r,!0)}}function aAe(e,t){const r=t.body?t.body.childNodes:[];let n=[];const s=[];for(let i=0;i<r.length;i++){const o=r[i];if(!f7.has(o.nodeName)){const a=h7(o,e,s,!1);a!==null&&(n=n.concat(a))}}return function(i){for(const o of i)o.getNextSibling()instanceof jN&&o.insertAfter(xu());for(const o of i){const a=o.getChildren();for(const l of a)o.insertBefore(l);o.remove()}}(s),n}function lAe(e,t){if(typeof document>"u"||typeof window>"u"&&global.window===void 0)throw new Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");const r=document.createElement("div"),n=lr().getChildren();for(let s=0;s<n.length;s++)d7(e,n[s],r,t);return r.innerHTML}function d7(e,t,r,n=null){let s=n===null||t.isSelected(n);const i=de(t)&&t.excludeFromCopy("html");let o=t;if(n!==null){let p=l7(t);p=xe(p)&&n!==null?c7(n,p):p,o=p}const a=de(o)?o.getChildren():[],l=e._nodes.get(o.getType());let c;c=l&&l.exportDOM!==void 0?l.exportDOM(e,o):o.exportDOM(e);const{element:d,after:f}=c;if(!d)return!1;const h=document.createDocumentFragment();for(let p=0;p<a.length;p++){const g=a[p],m=d7(e,g,h,n);!s&&de(t)&&m&&t.extractWithChild(g,n,"html")&&(s=!0)}if(s&&!i){if(xN(d)&&d.append(h),r.append(d),f){const p=f.call(o,d);p&&d.replaceWith(p)}}else r.append(h);return s}const f7=new Set(["STYLE","SCRIPT"]);function h7(e,t,r,n,s=new Map,i){let o=[];if(f7.has(e.nodeName))return o;let a=null;const l=function(g,m){const{nodeName:y}=g,v=m._htmlConversions.get(y.toLowerCase());let b=null;if(v!==void 0)for(const x of v){const S=x(g);S!==null&&(b===null||(b.priority||0)<(S.priority||0))&&(b=S)}return b!==null?b.conversion:null}(e,t),c=l?l(e):null;let d=null;if(c!==null){d=c.after;const g=c.node;if(a=Array.isArray(g)?g[g.length-1]:g,a!==null){for(const[,m]of s)if(a=m(a,i),!a)break;a&&o.push(...Array.isArray(g)?g:[a])}c.forChild!=null&&s.set(e.nodeName,c.forChild)}const f=e.childNodes;let h=[];const p=(a==null||!Ku(a))&&(a!=null&&P1(a)||n);for(let g=0;g<f.length;g++)h.push(...h7(f[g],t,r,p,new Map(s),a));return d!=null&&(h=d(h)),gTe(e)&&(h=cAe(e,h,p?()=>{const g=new jN;return r.push(g),g}:wi)),a==null?o=o.concat(h):de(a)&&a.append(...h),o}function cAe(e,t,r){const n=e.style.textAlign,s=[];let i=[];for(let o=0;o<t.length;o++){const a=t[o];if(P1(a))n&&!a.getFormat()&&a.setFormat(n),s.push(a);else if(i.push(a),o===t.length-1||o<t.length-1&&P1(t[o+1])){const l=r();l.setFormat(n),l.append(...i),s.push(l),i=[]}}return s}function uAe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var $g=uAe(function(e){const t=new URLSearchParams;t.append("code",e);for(let r=1;r<arguments.length;r++)t.append("v",arguments[r]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});const dAe=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,p7=e=>dAe?(e||window).getSelection():null;function fAe(e){const t=Re();return t==null&&$g(166),ve(t)&&t.isCollapsed()||t.getNodes().length===0?"":lAe(e,t)}function hAe(e){const t=Re();return t==null&&$g(166),ve(t)&&t.isCollapsed()||t.getNodes().length===0?null:JSON.stringify(pAe(e,t))}function OD(e,t,r){const n=e.getData("application/x-lexical-editor");if(n)try{const o=JSON.parse(n);if(o.namespace===r._config.namespace&&Array.isArray(o.nodes))return DD(r,mAe(o.nodes),t)}catch{}const s=e.getData("text/html");if(s)try{const o=new DOMParser().parseFromString(s,"text/html");return DD(r,aAe(r,o),t)}catch{}const i=e.getData("text/plain")||e.getData("text/uri-list");if(i!=null)if(ve(t)){const o=i.split(/(\r?\n|\t)/);o[o.length-1]===""&&o.pop();for(let a=0;a<o.length;a++){const l=Re();if(ve(l)){const c=o[a];c===`
`||c===`\r
`?l.insertParagraph():c==="	"?l.insertNodes([Ph()]):l.insertText(c)}}}else t.insertRawText(i)}function DD(e,t,r){e.dispatchCommand(kCe,{nodes:t,selection:r})||r.insertNodes(t)}function m7(e,t,r,n=[]){let s=t===null||r.isSelected(t);const i=de(r)&&r.excludeFromCopy("html");let o=r;if(t!==null){let c=l7(r);c=xe(c)&&t!==null?c7(t,c):c,o=c}const a=de(o)?o.getChildren():[],l=function(c){const d=c.exportJSON(),f=c.constructor;if(d.type!==f.getType()&&$g(58,f.name),de(c)){const h=d.children;Array.isArray(h)||$g(59,f.name)}return d}(o);if(xe(o)){const c=o.__text;c.length>0?l.text=c:s=!1}for(let c=0;c<a.length;c++){const d=a[c],f=m7(e,t,d,l.children);!s&&de(r)&&f&&r.extractWithChild(d,t,"clone")&&(s=!0)}if(s&&!i)n.push(l);else if(Array.isArray(l.children))for(let c=0;c<l.children.length;c++){const d=l.children[c];n.push(d)}return s}function pAe(e,t){const r=[],n=lr().getChildren();for(let s=0;s<n.length;s++)m7(e,t,n[s],r);return{namespace:e._config.namespace,nodes:r}}function mAe(e){const t=[];for(let r=0;r<e.length;r++){const n=e[r],s=$Te(n);xe(s)&&QTe(s),t.push(s)}return t}let nc=null;async function $D(e,t){if(nc!==null)return!1;if(t!==null)return new Promise((a,l)=>{e.update(()=>{a(RD(e,t))})});const r=e.getRootElement(),n=e._window==null?window.document:e._window.document,s=p7(e._window);if(r===null||s===null)return!1;const i=n.createElement("span");i.style.cssText="position: fixed; top: -1000px;",i.append(n.createTextNode("#")),r.append(i);const o=new Range;return o.setStart(i,0),o.setEnd(i,1),s.removeAllRanges(),s.addRange(o),new Promise((a,l)=>{const c=e.registerCommand(hv,d=>(tl(d,ClipboardEvent)&&(c(),nc!==null&&(window.clearTimeout(nc),nc=null),a(RD(e,d))),!0),MTe);nc=window.setTimeout(()=>{c(),nc=null,a(!1)},50),n.execCommand("copy"),i.remove()})}function RD(e,t){const r=p7(e._window);if(!r)return!1;const n=r.anchorNode,s=r.focusNode;if(n!==null&&s!==null&&!Ch(e,n,s))return!1;t.preventDefault();const i=t.clipboardData,o=Re();if(i===null||o===null)return!1;const a=fAe(e),l=hAe(e);let c="";return o!==null&&(c=o.getTextContent()),a!==null&&i.setData("text/html",a),l!==null&&i.setData("application/x-lexical-editor",l),i.setData("text/plain",c),!0}function ID(e,t){if(document.caretRangeFromPoint!==void 0){const r=document.caretRangeFromPoint(e,t);return r===null?null:{node:r.startContainer,offset:r.startOffset}}if(document.caretPositionFromPoint!=="undefined"){const r=document.caretPositionFromPoint(e,t);return r===null?null:{node:r.offsetNode,offset:r.offset}}return null}const Gu=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,gAe=Gu&&"documentMode"in document?document.documentMode:null,yAe=!(!Gu||!("InputEvent"in window)||gAe)&&"getTargetRanges"in new window.InputEvent("input"),vAe=Gu&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),bAe=Gu&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,xAe=Gu&&/^(?=.*Chrome).*/i.test(navigator.userAgent),wAe=Gu&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!xAe,MD=NCe();function qp(e){let t=null;if(tl(e,DragEvent)?t=e.dataTransfer:tl(e,ClipboardEvent)&&(t=e.clipboardData),t===null)return[!1,[],!1];const r=t.types,n=r.includes("Files"),s=r.includes("text/html")||r.includes("text/plain");return[n,Array.from(t.files),s]}function LD(e){const t=Re();if(!ve(t))return!1;const r=new Set,n=t.getNodes();for(let s=0;s<n.length;s++){const i=n[s],o=i.getKey();if(r.has(o))continue;const a=NN(i,c=>de(c)&&!c.isInline());if(a===null)continue;const l=a.getKey();a.canIndent()&&!r.has(l)&&(r.add(l),e(a))}return r.size>0}function Vp(e){const t=Nl(e);return At(t)}function _Ae(e){return Nv(e.registerCommand(uz,t=>{const r=Re();return!!Rs(r)&&(r.clear(),!0)},0),e.registerCommand(ul,t=>{const r=Re();return!!ve(r)&&(r.deleteCharacter(t),!0)},ot),e.registerCommand(Uf,t=>{const r=Re();return!!ve(r)&&(r.deleteWord(t),!0)},ot),e.registerCommand(qf,t=>{const r=Re();return!!ve(r)&&(r.deleteLine(t),!0)},ot),e.registerCommand(Kc,t=>{const r=Re();if(typeof t=="string")r!==null&&r.insertText(t);else{if(r===null)return!1;const n=t.dataTransfer;if(n!=null)OD(n,r,e);else if(ve(r)){const s=t.data;return s&&r.insertText(s),!0}}return!0},ot),e.registerCommand(p1,()=>{const t=Re();return!!ve(t)&&(t.removeText(),!0)},ot),e.registerCommand(na,t=>{const r=Re();return!!ve(r)&&(r.formatText(t),!0)},ot),e.registerCommand(RCe,t=>{const r=Re();if(!ve(r)&&!Rs(r))return!1;const n=r.getNodes();for(const s of n){const i=NN(s,o=>de(o)&&!o.isInline());i!==null&&i.setFormat(t)}return!0},ot),e.registerCommand(Wc,t=>{const r=Re();return!!ve(r)&&(r.insertLineBreak(t),!0)},ot),e.registerCommand(bg,()=>{const t=Re();return!!ve(t)&&(t.insertParagraph(),!0)},ot),e.registerCommand(DCe,()=>(PTe([Ph()]),!0),ot),e.registerCommand($Ce,()=>LD(t=>{const r=t.getIndent();t.setIndent(r+1)}),ot),e.registerCommand(Y2,()=>LD(t=>{const r=t.getIndent();r>0&&t.setIndent(r-1)}),ot),e.registerCommand(hz,t=>{const r=Re();if(Rs(r)&&!Vp(t.target)){const n=r.getNodes();if(n.length>0)return n[0].selectPrevious(),!0}else if(ve(r)){const n=Vf(r.focus,!0);if(!t.shiftKey&&At(n)&&!n.isIsolated()&&!n.isInline())return n.selectPrevious(),t.preventDefault(),!0}return!1},ot),e.registerCommand(pz,t=>{const r=Re();if(Rs(r)){const n=r.getNodes();if(n.length>0)return n[0].selectNext(0,0),!0}else if(ve(r)){if(function(s){const i=s.focus;return i.key==="root"&&i.offset===lr().getChildrenSize()}(r))return t.preventDefault(),!0;const n=Vf(r.focus,!1);if(!t.shiftKey&&At(n)&&!n.isIsolated()&&!n.isInline())return n.selectNext(),t.preventDefault(),!0}return!1},ot),e.registerCommand(fz,t=>{const r=Re();if(Rs(r)){const n=r.getNodes();if(n.length>0)return t.preventDefault(),n[0].selectPrevious(),!0}if(!ve(r))return!1;if(AD(r,!0)){const n=t.shiftKey;return t.preventDefault(),PD(r,n,!0),!0}return!1},ot),e.registerCommand(dz,t=>{const r=Re();if(Rs(r)&&!Vp(t.target)){const s=r.getNodes();if(s.length>0)return t.preventDefault(),s[0].selectNext(0,0),!0}if(!ve(r))return!1;const n=t.shiftKey;return!!AD(r,!1)&&(t.preventDefault(),PD(r,n,!1),!0)},ot),e.registerCommand(mz,t=>{if(Vp(t.target))return!1;const r=Re();if(!ve(r))return!1;t.preventDefault();const{anchor:n}=r,s=n.getNode();return r.isCollapsed()&&n.offset===0&&!Jr(s)&&iAe(s).getIndent()>0?e.dispatchCommand(Y2,void 0):e.dispatchCommand(ul,!0)},ot),e.registerCommand(yz,t=>{if(Vp(t.target))return!1;const r=Re();return!!ve(r)&&(t.preventDefault(),e.dispatchCommand(ul,!1))},ot),e.registerCommand(xg,t=>{const r=Re();if(!ve(r))return!1;if(t!==null){if((bAe||vAe||wAe)&&yAe)return!1;if(t.preventDefault(),t.shiftKey)return e.dispatchCommand(Wc,!1)}return e.dispatchCommand(bg,void 0)},ot),e.registerCommand(gz,()=>{const t=Re();return!!ve(t)&&(e.blur(),!0)},ot),e.registerCommand(vz,t=>{const[,r]=qp(t);if(r.length>0){const s=ID(t.clientX,t.clientY);if(s!==null){const{offset:i,node:o}=s,a=Nl(o);if(a!==null){const l=TTe();if(xe(a))l.anchor.set(a.getKey(),i,"text"),l.focus.set(a.getKey(),i,"text");else{const d=a.getParentOrThrow().getKey(),f=a.getIndexWithinParent()+1;l.anchor.set(d,f,"element"),l.focus.set(d,f,"element")}const c=Cz(l);Ti(c)}e.dispatchCommand(MD,r)}return t.preventDefault(),!0}const n=Re();return!!ve(n)},ot),e.registerCommand(bz,t=>{const[r]=qp(t),n=Re();return!(r&&!ve(n))},ot),e.registerCommand(xz,t=>{const[r]=qp(t),n=Re();if(r&&!ve(n))return!1;const s=ID(t.clientX,t.clientY);if(s!==null){const i=Nl(s.node);At(i)&&t.preventDefault()}return!0},ot),e.registerCommand(m1,()=>(fTe(),!0),ot),e.registerCommand(hv,t=>($D(e,tl(t,ClipboardEvent)?t:null),!0),ot),e.registerCommand(nN,t=>(async function(r,n){await $D(n,tl(r,ClipboardEvent)?r:null),n.update(()=>{const s=Re();ve(s)?s.removeText():Rs(s)&&s.getNodes().forEach(i=>i.remove())})}(t,e),!0),ot),e.registerCommand(eN,t=>{const[,r,n]=qp(t);return r.length>0&&!n?(e.dispatchCommand(MD,r),!0):pN(t.target)?!1:Re()!==null&&(function(s,i){s.preventDefault(),i.update(()=>{const o=Re(),a=tl(s,InputEvent)||tl(s,KeyboardEvent)?null:s.clipboardData;a!=null&&o!==null&&OD(a,o,i)},{tag:"paste"})}(t,e),!0)},ot))}const O1=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?w.useLayoutEffect:w.useEffect;function FD(e){return e.getEditorState().read(YTe(e.isComposing()))}function SAe({contentEditable:e,placeholder:t,ErrorBoundary:r}){const[n]=Wu(),s=function(i,o){const[a,l]=w.useState(()=>i.getDecorators());return O1(()=>i.registerDecoratorListener(c=>{_i.flushSync(()=>{l(c)})}),[i]),w.useEffect(()=>{l(i.getDecorators())},[i]),w.useMemo(()=>{const c=[],d=Object.keys(a);for(let f=0;f<d.length;f++){const h=d[f],p=u.jsx(o,{onError:m=>i._onError(m),children:u.jsx(w.Suspense,{fallback:null,children:a[h]})}),g=i.getElementByKey(h);g!==null&&c.push(_i.createPortal(p,g,h))}return c},[o,a,i])}(n,r);return function(i){O1(()=>Nv(_Ae(i),oAe(i)),[i])}(n),u.jsxs(u.Fragment,{children:[e,u.jsx(EAe,{content:t}),s]})}function EAe({content:e}){const[t]=Wu(),r=function(s){const[i,o]=w.useState(()=>FD(s));return O1(()=>{function a(){const l=FD(s);o(l)}return a(),Nv(s.registerUpdateListener(()=>{a()}),s.registerEditableListener(()=>{a()}))},[s]),i}(t),n=VTe();return r?typeof e=="function"?e(n):e:null}const jAe=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?w.useLayoutEffect:w.useEffect;function NAe({ariaActiveDescendant:e,ariaAutoComplete:t,ariaControls:r,ariaDescribedBy:n,ariaExpanded:s,ariaLabel:i,ariaLabelledBy:o,ariaMultiline:a,ariaOwns:l,ariaRequired:c,autoCapitalize:d,className:f,id:h,role:p="textbox",spellCheck:g=!0,style:m,tabIndex:y,"data-testid":v,...b}){const[x]=Wu(),[S,_]=w.useState(!1),N=w.useCallback(k=>{k&&k.ownerDocument&&k.ownerDocument.defaultView&&x.setRootElement(k)},[x]);return jAe(()=>(_(x.isEditable()),x.registerEditableListener(k=>{_(k)})),[x]),u.jsx("div",{...b,"aria-activedescendant":S?e:void 0,"aria-autocomplete":S?t:"none","aria-controls":S?r:void 0,"aria-describedby":n,"aria-expanded":S&&p==="combobox"?!!s:void 0,"aria-label":i,"aria-labelledby":o,"aria-multiline":a,"aria-owns":S?l:void 0,"aria-readonly":!S||void 0,"aria-required":c,autoCapitalize:d,className:f,contentEditable:S,"data-testid":v,id:h,ref:N,role:p,spellCheck:g,style:m,tabIndex:y})}const Wp=0,D1=1,$1=2,Os=0,kAe=1,BD=2,CAe=3,TAe=4;function AAe(e,t,r,n,s){if(e===null||r.size===0&&n.size===0&&!s)return Os;const i=t._selection,o=e._selection;if(s)return kAe;if(!(ve(i)&&ve(o)&&o.isCollapsed()&&i.isCollapsed()))return Os;const a=function(v,b,x){const S=v._nodeMap,_=[];for(const N of b){const k=S.get(N);k!==void 0&&_.push(k)}for(const[N,k]of x){if(!k)continue;const C=S.get(N);C===void 0||Jr(C)||_.push(C)}return _}(t,r,n);if(a.length===0)return Os;if(a.length>1){const v=t._nodeMap,b=v.get(i.anchor.key),x=v.get(o.anchor.key);return b&&x&&!e._nodeMap.has(b.__key)&&xe(b)&&b.__text.length===1&&i.anchor.offset===1?BD:Os}const l=a[0],c=e._nodeMap.get(l.__key);if(!xe(c)||!xe(l)||c.__mode!==l.__mode)return Os;const d=c.__text,f=l.__text;if(d===f)return Os;const h=i.anchor,p=o.anchor;if(h.key!==p.key||h.type!=="text")return Os;const g=h.offset,m=p.offset,y=f.length-d.length;return y===1&&m===g-1?BD:y===-1&&m===g+1?CAe:y===-1&&m===g?TAe:Os}function PAe(e,t){let r=Date.now(),n=Os;return(s,i,o,a,l,c)=>{const d=Date.now();if(c.has("historic"))return n=Os,r=d,$1;const f=AAe(s,i,a,l,e.isComposing()),h=(()=>{const p=o===null||o.editor===e,g=c.has("history-push");if(!g&&p&&c.has("history-merge"))return Wp;if(s===null)return D1;const m=i._selection;return a.size>0||l.size>0?g===!1&&f!==Os&&f===n&&d<r+t&&p||a.size===1&&function(y,v,b){const x=v._nodeMap.get(y),S=b._nodeMap.get(y),_=v._selection,N=b._selection;let k=!1;return ve(_)&&ve(N)&&(k=_.anchor.type==="element"&&_.focus.type==="element"&&N.anchor.type==="text"&&N.focus.type==="text"),!(k||!xe(x)||!xe(S))&&x.__type===S.__type&&x.__text===S.__text&&x.__mode===S.__mode&&x.__detail===S.__detail&&x.__style===S.__style&&x.__format===S.__format&&x.__parent===S.__parent}(Array.from(a)[0],s,i)?Wp:D1:m!==null?Wp:$1})();return r=d,n=f,h}}function zD(e){e.undoStack=[],e.redoStack=[],e.current=null}function OAe(e,t,r){const n=PAe(e,r);return Nv(e.registerCommand(tN,()=>(function(i,o){const a=o.redoStack,l=o.undoStack;if(l.length!==0){const c=o.current,d=l.pop();c!==null&&(a.push(c),i.dispatchCommand(Fp,!0)),l.length===0&&i.dispatchCommand(Bp,!1),o.current=d||null,d&&d.editor.setEditorState(d.editorState,{tag:"historic"})}}(e,t),!0),ot),e.registerCommand(rN,()=>(function(i,o){const a=o.redoStack,l=o.undoStack;if(a.length!==0){const c=o.current;c!==null&&(l.push(c),i.dispatchCommand(Bp,!0));const d=a.pop();a.length===0&&i.dispatchCommand(Fp,!1),o.current=d||null,d&&d.editor.setEditorState(d.editorState,{tag:"historic"})}}(e,t),!0),ot),e.registerCommand(MCe,()=>(zD(t),!1),ot),e.registerCommand(LCe,()=>(zD(t),e.dispatchCommand(Fp,!1),e.dispatchCommand(Bp,!1),!0),ot),e.registerUpdateListener(({editorState:i,prevEditorState:o,dirtyLeaves:a,dirtyElements:l,tags:c})=>{const d=t.current,f=t.redoStack,h=t.undoStack,p=d===null?null:d.editorState;if(d!==null&&i===p)return;const g=n(o,i,d,a,l,c);if(g===D1)f.length!==0&&(t.redoStack=[],e.dispatchCommand(Fp,!1)),d!==null&&(h.push({...d}),e.dispatchCommand(Bp,!0));else if(g===$1)return;t.current={editor:e,editorState:i}}))}function DAe(){return{current:null,redoStack:[],undoStack:[]}}function $Ae({externalHistoryState:e}){const[t]=Wu();return function(r,n,s=1e3){const i=w.useMemo(()=>n||DAe(),[n]);w.useEffect(()=>OAe(r,i,s),[s,r,i])}(t,e),null}function RAe({defaultSelection:e}){const[t]=Wu();return w.useEffect(()=>{t.focus(()=>{const r=document.activeElement,n=t.getRootElement();n===null||r!==null&&n.contains(r)||n.focus({preventScroll:!0})},{defaultSelection:e})},[e,t]),null}function R1(e,t){return R1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},R1(e,t)}var UD={error:null},IAe=function(e){var t,r;function n(){for(var i,o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return(i=e.call.apply(e,[this].concat(a))||this).state=UD,i.resetErrorBoundary=function(){for(var c,d=arguments.length,f=new Array(d),h=0;h<d;h++)f[h]=arguments[h];i.props.onReset==null||(c=i.props).onReset.apply(c,f),i.reset()},i}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,R1(t,r),n.getDerivedStateFromError=function(i){return{error:i}};var s=n.prototype;return s.reset=function(){this.setState(UD)},s.componentDidCatch=function(i,o){var a,l;(a=(l=this.props).onError)==null||a.call(l,i,o)},s.componentDidUpdate=function(i,o){var a,l,c,d,f=this.state.error,h=this.props.resetKeys;f!==null&&o.error!==null&&((c=i.resetKeys)===void 0&&(c=[]),(d=h)===void 0&&(d=[]),c.length!==d.length||c.some(function(p,g){return!Object.is(p,d[g])}))&&((a=(l=this.props).onResetKeysChange)==null||a.call(l,i.resetKeys,h),this.reset())},s.render=function(){var i=this.state.error,o=this.props,a=o.fallbackRender,l=o.FallbackComponent,c=o.fallback;if(i!==null){var d={error:i,resetErrorBoundary:this.resetErrorBoundary};if(j.isValidElement(c))return c;if(typeof a=="function")return a(d);if(l)return j.createElement(l,d);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},n}(j.Component);function MAe({children:e,onError:t}){return u.jsx(IAe,{fallback:u.jsx("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"},children:"An error was thrown."}),onError:t,children:e})}function LAe({item:e,contentType:t,onSave:r,onCancel:n}){const[s,i]=w.useState(l()),[o,a]=w.useState({});function l(){if(e){const{id:y,created_at:v,updated_at:b,created_by:x,...S}=e;return S}return(()=>{switch(t){case"posts":case"pages":return{status:"draft",title:"",content:"",slug:"",author_id:void 0,excerpt:void 0,featured_image:void 0,tags:[],category_id:void 0};case"storeItems":return{status:"active",name:"",description:"",price:0,category:"digital",image_url:void 0,stock_quantity:0,sku:void 0};case"libraryItems":return{status:"draft",title:"",description:"",file_url:"",file_type:void 0,file_size:0,category:"tutorial",thumbnail_url:void 0};case"characters":return{status:"draft",name:"",description:"",role:"",backstory:"",image_url:"",birth_date:void 0,death_date:void 0,species:void 0,occupation:void 0,relationships:void 0};case"timelineEvents":return{status:"draft",title:"",date:"",era:"ancient",description:"",is_published:!1,details:null,background_image:null,nested_events:[]};case"betaUsers":return{status:"pending",name:"",email:"",message:""};default:throw new Error(`Unsupported content type: ${t}`)}})()}const c=w.useCallback(()=>{const m=e?{...e,...s}:s;r(m)},[s,e,r]),d={namespace:"MyEditor",theme:{},onError(m){console.error(m)}},f=w.useCallback(m=>y=>{const v=y.target.value;i(b=>({...b,[m]:v}))},[]),h=w.useCallback(m=>y=>{const v=parseFloat(y.target.value);i(b=>({...b,[m]:v}))},[]),p=w.useCallback(m=>y=>{const v=y.target.value;i(b=>({...b,[m]:v}))},[]),g=()=>{switch(t){case"posts":case"pages":const m=s;return u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),u.jsx("input",{type:"text",value:m.title,onChange:f("title"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter title...",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Slug"}),u.jsx("input",{type:"text",value:m.slug,onChange:_=>i(N=>({...N,slug:_.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"my-awesome-post"}),u.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"URL-friendly version of the title. e.g., 'my-awesome-post'"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content"}),u.jsx("div",{className:"editor-container",children:u.jsxs(zTe,{initialConfig:d,children:[u.jsx(SAe,{contentEditable:u.jsx(NAe,{className:"editor-input"}),placeholder:u.jsx("div",{className:"editor-placeholder",children:"Enter your content..."}),ErrorBoundary:MAe}),u.jsx($Ae,{}),u.jsx(RAe,{})]})})]})]});case"storeItems":const y=s;return u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Name"}),u.jsx("input",{type:"text",value:y.name,onChange:f("name"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Product name..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price"}),u.jsx("input",{type:"number",step:"0.01",value:y.price,onChange:h("price"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),u.jsxs("select",{value:y.category,onChange:p("category"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"digital",children:"Digital"}),u.jsx("option",{value:"physical",children:"Physical"}),u.jsx("option",{value:"subscription",children:"Subscription"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),u.jsx("textarea",{value:y.description,onChange:f("description"),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Product description..."})]})]});case"libraryItems":const v=s;return u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),u.jsx("input",{type:"text",value:v.title,onChange:f("title"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Resource title..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),u.jsxs("select",{value:v.category,onChange:p("category"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"tutorial",children:"Tutorial"}),u.jsx("option",{value:"resources",children:"Resources"}),u.jsx("option",{value:"template",children:"Template"}),u.jsx("option",{value:"guide",children:"Guide"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"File URL"}),u.jsx("input",{type:"url",value:v.file_url,onChange:f("file_url"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),u.jsx("textarea",{value:v.description,onChange:f("description"),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Resource description..."})]})]});case"characters":const b=s;return u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Character Name"}),u.jsx("input",{type:"text",value:b.name,onChange:f("name"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Character name..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),u.jsxs("select",{value:b.role,onChange:p("role"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"protagonist",children:"Protagonist"}),u.jsx("option",{value:"antagonist",children:"Antagonist"}),u.jsx("option",{value:"mentor",children:"Mentor"}),u.jsx("option",{value:"ally",children:"Ally"}),u.jsx("option",{value:"neutral",children:"Neutral"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),u.jsx("textarea",{value:b.description,onChange:f("description"),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Character description..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Backstory"}),u.jsx("textarea",{value:b.backstory,onChange:f("backstory"),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Character backstory..."})]})]});case"timelineEvents":const x=s;return u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Title"}),u.jsx("input",{type:"text",value:x.title,onChange:f("title"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Event title..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),u.jsx("input",{type:"date",value:x.date,onChange:f("date"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Era"}),u.jsxs("select",{value:x.era,onChange:p("era"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"ancient",children:"Ancient"}),u.jsx("option",{value:"medieval",children:"Medieval"}),u.jsx("option",{value:"modern",children:"Modern"}),u.jsx("option",{value:"future",children:"Future"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),u.jsx("textarea",{value:x.description,onChange:f("description"),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Event description..."})]})]});case"betaUsers":const S=s;return u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),u.jsx("input",{type:"text",value:S.name,onChange:f("name"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"User name..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),u.jsx("input",{type:"email",value:S.email,onChange:f("email"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"user@example.com"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),u.jsx("textarea",{value:S.message,onChange:f("message"),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"User message/notes..."})]})]});default:return null}};return u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e?`Edit ${t}`:`Create New ${t}`}),u.jsx("button",{onClick:n,className:"p-2 text-gray-500 hover:text-gray-700",children:u.jsx(la,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"space-y-6",children:[g(),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),u.jsxs("select",{value:s.status,onChange:m=>i({...s,status:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[t==="posts"&&u.jsxs(u.Fragment,{children:[u.jsx("option",{value:"draft",children:"Draft"}),u.jsx("option",{value:"published",children:"Published"}),u.jsx("option",{value:"archived",children:"Archived"})]}),t==="pages"&&u.jsxs(u.Fragment,{children:[u.jsx("option",{value:"draft",children:"Draft"}),u.jsx("option",{value:"published",children:"Published"})]}),t==="storeItems"&&u.jsxs(u.Fragment,{children:[u.jsx("option",{value:"active",children:"Active"}),u.jsx("option",{value:"inactive",children:"Inactive"})]}),t==="libraryItems"&&u.jsxs(u.Fragment,{children:[u.jsx("option",{value:"draft",children:"Draft"}),u.jsx("option",{value:"published",children:"Published"})]}),t==="characters"&&u.jsxs(u.Fragment,{children:[u.jsx("option",{value:"draft",children:"Draft"}),u.jsx("option",{value:"published",children:"Published"})]}),t==="timelineEvents"&&u.jsxs(u.Fragment,{children:[u.jsx("option",{value:"draft",children:"Draft"}),u.jsx("option",{value:"published",children:"Published"})]}),t==="betaUsers"&&u.jsxs(u.Fragment,{children:[u.jsx("option",{value:"pending",children:"Pending"}),u.jsx("option",{value:"active",children:"Active"}),u.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),u.jsxs("div",{className:"flex gap-3 pt-4",children:[u.jsxs("button",{type:"button",onClick:c,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:[u.jsx(u_,{className:"w-4 h-4"}),"Save"]}),u.jsx("button",{type:"button",onClick:n,className:"flex items-center gap-2 bg-gray-200 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})]})}const FAe=({contentType:e,items:t,title:r,columns:n,createActionLabel:s,onEdit:i,onDelete:o,onCreateNew:a})=>{const[l,c]=w.useState(""),[d,f]=w.useState("all"),h=t.filter(p=>{const g=Object.values(p).some(y=>y&&y.toString().toLowerCase().includes(l.toLowerCase())),m=d==="all"||p.status===d;return g&&m});return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:r}),u.jsxs("button",{onClick:a,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:[u.jsx(Si,{className:"w-4 h-4"}),s]})]}),u.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:u.jsxs("div",{className:"flex gap-4",children:[u.jsx("div",{className:"flex-1",children:u.jsxs("div",{className:"relative",children:[u.jsx(Tl,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),u.jsx("input",{type:"text",value:l,onChange:p=>c(p.target.value),placeholder:`Search ${r.toLowerCase()}...`,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),u.jsxs("select",{value:d,onChange:p=>f(p.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"all",children:"All Status"}),u.jsx("option",{value:"published",children:"Published"}),u.jsx("option",{value:"draft",children:"Draft"}),u.jsx("option",{value:"active",children:"Active"}),u.jsx("option",{value:"inactive",children:"Inactive"}),u.jsx("option",{value:"pending",children:"Pending"})]})]})}),u.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:u.jsxs("tr",{children:[n.map(p=>u.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-900",children:p.label},p.key)),u.jsx("th",{className:"text-right py-3 px-6 text-sm font-medium text-gray-900",children:"Actions"})]})}),u.jsx("tbody",{children:h.map(p=>u.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[n.map(g=>u.jsx("td",{className:"py-4 px-6",children:g.render?g.render(p):u.jsx("div",{className:g.key===n[0].key?"font-medium text-gray-900":"text-sm text-gray-500",children:p[g.key]})},g.key)),u.jsx("td",{className:"py-4 px-6",children:u.jsxs("div",{className:"flex items-center justify-end gap-2",children:[u.jsx("button",{onClick:()=>i(p),className:"p-1 text-gray-500 hover:text-blue-600",children:u.jsx(Wg,{className:"w-4 h-4"})}),u.jsx("button",{className:"p-1 text-gray-500 hover:text-green-600",children:u.jsx(Zf,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>o(p.id),className:"p-1 text-gray-500 hover:text-red-600",children:u.jsx(Al,{className:"w-4 h-4"})})]})})]},p.id))})]})})]})},BAe=async()=>{const{data:e,error:t}=await J.supabase.from("pages").select("*");if(t)throw new Error(t.message);return e},zAe=async e=>{const{data:t,error:r}=await J.supabase.from("pages").insert(e).select();if(r)throw new Error(r.message);return t[0]},UAe=async e=>{const{data:t,error:r}=await J.supabase.from("pages").update(e).eq("id",e.id).select();if(r)throw new Error(r.message);return t[0]},qAe=async e=>{const{error:t}=await J.supabase.from("pages").delete().eq("id",e);if(t)throw new Error(t.message)},VAe=()=>{const e=Me.useQueryClient(),[t,r]=w.useState(!1),[n,s]=w.useState(null),{data:i,isLoading:o,isError:a,error:l}=Me.useQuery({queryKey:["pages"],queryFn:BAe}),c=Me.useMutation({mutationFn:zAe,onSuccess:()=>{e.invalidateQueries({queryKey:["pages"]}),r(!1),s(null)}}),d=Me.useMutation({mutationFn:UAe,onSuccess:()=>{e.invalidateQueries({queryKey:["pages"]}),r(!1),s(null)}}),f=Me.useMutation({mutationFn:qAe,onSuccess:()=>{e.invalidateQueries({queryKey:["pages"]})}}),h=m=>{n?d.mutate(m):c.mutate(m)},p=m=>{window.confirm("Are you sure you want to delete this page?")&&f.mutate(m)},g=[{key:"title",label:"Page Title"},{key:"slug",label:"URL Slug"},{key:"status",label:"Status",render:m=>u.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${m.status==="published"?"bg-green-100 text-green-800":m.status==="draft"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:m.status})},{key:"created_at",label:"Created At",render:m=>new Date(m.created_at).toLocaleDateString()},{key:"updated_at",label:"Last Updated",render:m=>new Date(m.updated_at).toLocaleDateString()}];return o?u.jsx("div",{children:"Loading pages..."}):a?u.jsxs("div",{children:["Error loading pages: ",l==null?void 0:l.message]}):u.jsx("div",{className:"space-y-6",children:t?u.jsx(LAe,{item:n,contentType:"pages",onSave:h,onCancel:()=>{r(!1),s(null)}}):u.jsx(FAe,{contentType:"pages",items:i||[],title:"Website Pages",columns:g,createActionLabel:"New Page",onEdit:m=>{s(m),r(!0)},onDelete:p,onCreateNew:()=>{s(null),r(!0)}})})},WAe=async()=>{const{data:e,error:t}=await J.supabase.from("characters").select("*").order("created_at",{ascending:!0});if(t)throw new Error(t.message);return e},KAe=async e=>{const{data:t,error:r}=await J.supabase.from("characters").insert(e).select();if(r)throw new Error(r.message);return t[0]},HAe=async e=>{const{id:t,...r}=e,{data:n,error:s}=await J.supabase.from("characters").update(r).eq("id",t).select();if(s)throw new Error(s.message);return n[0]},YAe=async e=>{const{error:t}=await J.supabase.from("characters").delete().eq("id",e);if(t)throw new Error(t.message)},GAe=({character:e,onSave:t,onCancel:r})=>{const[n,s]=w.useState({name:(e==null?void 0:e.name)||"",title:(e==null?void 0:e.title)||"",description:(e==null?void 0:e.description)||"",traits:(e==null?void 0:e.traits.join(", "))||"",image_url:(e==null?void 0:e.image_url)||"",silhouette_url:(e==null?void 0:e.silhouette_url)||""}),i=()=>{const o={...n,traits:n.traits.split(",").map(a=>a.trim()).filter(a=>a!=="")};t({...e,...o,id:e==null?void 0:e.id})};return u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6 mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:e?"Edit Character":"Create New Character"}),u.jsxs("form",{onSubmit:o=>{o.preventDefault(),i()},children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),u.jsx("input",{type:"text",value:n.name,onChange:o=>s({...n,name:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),u.jsx("input",{type:"text",value:n.title,onChange:o=>s({...n,title:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),u.jsx("textarea",{value:n.description,onChange:o=>s({...n,description:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 h-32"})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Traits (comma-separated)"}),u.jsx("input",{type:"text",value:n.traits,onChange:o=>s({...n,traits:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image URL"}),u.jsx("input",{type:"url",value:n.image_url,onChange:o=>s({...n,image_url:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Silhouette URL (Optional)"}),u.jsx("input",{type:"url",value:n.silhouette_url,onChange:o=>s({...n,silhouette_url:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"Save Character"}),u.jsx("button",{type:"button",onClick:r,className:"bg-gray-200 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})]})},ZAe=()=>{const e=Me.useQueryClient(),[t,r]=w.useState(!1),[n,s]=w.useState(null),[i,o]=w.useState(""),{data:a,isLoading:l,isError:c,error:d}=Me.useQuery({queryKey:["characters"],queryFn:WAe}),f=Me.useMutation({mutationFn:KAe,onSuccess:()=>{e.invalidateQueries({queryKey:["characters"]}),r(!1),s(null)}}),h=Me.useMutation({mutationFn:HAe,onSuccess:()=>{e.invalidateQueries({queryKey:["characters"]}),r(!1),s(null)}}),p=Me.useMutation({mutationFn:YAe,onSuccess:()=>{e.invalidateQueries({queryKey:["characters"]})}}),g=v=>{n?h.mutate(v):f.mutate(v)},m=v=>{window.confirm("Are you sure you want to delete this character?")&&p.mutate(v)},y=(a==null?void 0:a.filter(v=>v.name.toLowerCase().includes(i.toLowerCase())))||[];return l?u.jsx("div",{children:"Loading characters..."}):c?u.jsxs("div",{children:["Error loading characters: ",d==null?void 0:d.message]}):u.jsx("div",{className:"space-y-6",children:t?u.jsx(GAe,{character:n,onSave:g,onCancel:()=>{r(!1),s(null)}}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Characters"}),u.jsxs("button",{onClick:()=>{s(null),r(!0)},className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:[u.jsx(Si,{className:"w-4 h-4"}),"New Character"]})]}),u.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border mb-6",children:u.jsxs("div",{className:"relative",children:[u.jsx(Tl,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),u.jsx("input",{type:"text",value:i,onChange:v=>o(v.target.value),placeholder:"Search characters...",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),u.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:u.jsxs("tr",{children:[u.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-900",children:"Name"}),u.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-900",children:"Title"}),u.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-900",children:"Traits"}),u.jsx("th",{className:"text-right py-3 px-6 text-sm font-medium text-gray-900",children:"Actions"})]})}),u.jsx("tbody",{children:y.map(v=>u.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[u.jsx("td",{className:"py-4 px-6",children:u.jsx("div",{className:"font-medium text-gray-900",children:v.name})}),u.jsx("td",{className:"py-4 px-6 text-sm text-gray-500",children:v.title}),u.jsx("td",{className:"py-4 px-6 text-sm text-gray-500",children:v.traits.join(", ")}),u.jsx("td",{className:"py-4 px-6",children:u.jsxs("div",{className:"flex items-center justify-end gap-2",children:[u.jsx("button",{onClick:()=>{s(v),r(!0)},className:"p-1 text-gray-500 hover:text-blue-600",children:u.jsx(Wg,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>m(v.id),className:"p-1 text-gray-500 hover:text-red-600",children:u.jsx(Al,{className:"w-4 h-4"})})]})})]},v.id))})]})})]})})},XAe=async()=>{const{data:e,error:t}=await J.supabase.from("works").select("*").order("created_at",{ascending:!0});if(t)throw new Error(t.message);return e},JAe=async e=>{const{data:t,error:r}=await J.supabase.from("works").insert(e).select();if(r)throw new Error(r.message);return t[0]},QAe=async e=>{const{id:t,...r}=e,{data:n,error:s}=await J.supabase.from("works").update(r).eq("id",t).select();if(s)throw new Error(s.message);return n[0]},ePe=async e=>{const{error:t}=await J.supabase.from("works").delete().eq("id",e);if(t)throw new Error(t.message)},tPe=({work:e,onSave:t,onCancel:r,allWorks:n})=>{const[s,i]=w.useState({title:(e==null?void 0:e.title)||"",type:(e==null?void 0:e.type)||"book",parent_id:(e==null?void 0:e.parent_id)||"",order_in_parent:(e==null?void 0:e.order_in_parent)||"",description:(e==null?void 0:e.description)||"",status:(e==null?void 0:e.status)||"planning",progress_percentage:(e==null?void 0:e.progress_percentage)||0,release_date:(e==null?void 0:e.release_date)||"",estimated_release:(e==null?void 0:e.estimated_release)||"",cover_image_url:(e==null?void 0:e.cover_image_url)||"",sample_content:(e==null?void 0:e.sample_content)||"",is_purchasable:(e==null?void 0:e.is_purchasable)??!0,is_featured:(e==null?void 0:e.is_featured)??!1,word_count:(e==null?void 0:e.word_count)||"",target_word_count:(e==null?void 0:e.target_word_count)||""}),o=()=>{t({...e,...s,parent_id:s.parent_id===""?null:s.parent_id,order_in_parent:s.order_in_parent?Number(s.order_in_parent):void 0,progress_percentage:s.progress_percentage?Number(s.progress_percentage):void 0,word_count:s.word_count?Number(s.word_count):void 0,target_word_count:s.target_word_count?Number(s.target_word_count):void 0,id:e==null?void 0:e.id})},a=n.filter(l=>l.id!==(e==null?void 0:e.id));return u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6 mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:e?"Edit Work":"Create New Work"}),u.jsxs("form",{onSubmit:l=>{l.preventDefault(),o()},children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),u.jsx("input",{type:"text",value:s.title,onChange:l=>i({...s,title:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),u.jsxs("select",{value:s.type,onChange:l=>i({...s,type:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[u.jsx("option",{value:"book",children:"Book"}),u.jsx("option",{value:"volume",children:"Volume"}),u.jsx("option",{value:"saga",children:"Saga"}),u.jsx("option",{value:"arc",children:"Arc"}),u.jsx("option",{value:"issue",children:"Issue"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Parent Work (for nesting)"}),u.jsxs("select",{value:s.parent_id,onChange:l=>i({...s,parent_id:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"",children:"None"}),a.map(l=>u.jsxs("option",{value:l.id,children:[l.title," (",l.type,")"]},l.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order in Parent"}),u.jsx("input",{type:"number",value:s.order_in_parent,onChange:l=>i({...s,order_in_parent:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),u.jsx("textarea",{value:s.description,onChange:l=>i({...s,description:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 h-32"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),u.jsxs("select",{value:s.status,onChange:l=>i({...s,status:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[u.jsx("option",{value:"planning",children:"Planning"}),u.jsx("option",{value:"writing",children:"Writing"}),u.jsx("option",{value:"editing",children:"Editing"}),u.jsx("option",{value:"published",children:"Published"}),u.jsx("option",{value:"on_hold",children:"On Hold"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Progress Percentage (0-100)"}),u.jsx("input",{type:"number",value:s.progress_percentage,onChange:l=>i({...s,progress_percentage:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0",max:"100"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Release Date"}),u.jsx("input",{type:"date",value:s.release_date,onChange:l=>i({...s,release_date:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estimated Release (e.g., Q2 2024)"}),u.jsx("input",{type:"text",value:s.estimated_release,onChange:l=>i({...s,estimated_release:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cover Image URL"}),u.jsx("input",{type:"url",value:s.cover_image_url,onChange:l=>i({...s,cover_image_url:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sample Content"}),u.jsx("textarea",{value:s.sample_content,onChange:l=>i({...s,sample_content:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 h-48"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Word Count"}),u.jsx("input",{type:"number",value:s.word_count,onChange:l=>i({...s,word_count:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Target Word Count"}),u.jsx("input",{type:"number",value:s.target_word_count,onChange:l=>i({...s,target_word_count:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),u.jsxs("div",{className:"mb-4 flex items-center",children:[u.jsx("input",{type:"checkbox",id:"isPurchasable",checked:s.is_purchasable,onChange:l=>i({...s,is_purchasable:l.target.checked}),className:"mr-2"}),u.jsx("label",{htmlFor:"isPurchasable",className:"text-sm font-medium text-gray-700",children:"Is Purchasable"})]}),u.jsxs("div",{className:"mb-4 flex items-center",children:[u.jsx("input",{type:"checkbox",id:"isFeatured",checked:s.is_featured,onChange:l=>i({...s,is_featured:l.target.checked}),className:"mr-2"}),u.jsx("label",{htmlFor:"isFeatured",className:"text-sm font-medium text-gray-700",children:"Is Featured"})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"Save Work"}),u.jsx("button",{type:"button",onClick:r,className:"bg-gray-200 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})]})},rPe=()=>{const e=Me.useQueryClient(),[t,r]=w.useState(!1),[n,s]=w.useState(null),[i,o]=w.useState(""),[a,l]=w.useState("all"),[c,d]=w.useState("all"),{data:f,isLoading:h,isError:p,error:g}=Me.useQuery({queryKey:["works"],queryFn:XAe}),m=Me.useMutation({mutationFn:JAe,onSuccess:()=>{e.invalidateQueries({queryKey:["works"]}),r(!1),s(null)},onError:_=>{alert(`Error creating work: ${_.message}`)}}),y=Me.useMutation({mutationFn:QAe,onSuccess:()=>{e.invalidateQueries({queryKey:["works"]}),r(!1),s(null)},onError:_=>{alert(`Error updating work: ${_.message}`)}}),v=Me.useMutation({mutationFn:ePe,onSuccess:()=>{e.invalidateQueries({queryKey:["works"]})}}),b=_=>{n?y.mutate(_):m.mutate(_)},x=_=>{window.confirm("Are you sure you want to delete this work?")&&v.mutate(_)},S=(f==null?void 0:f.filter(_=>{const N=_.title.toLowerCase().includes(i.toLowerCase()),k=a==="all"||_.type===a,C=c==="all"||_.status===c;return N&&k&&C}))||[];return h?u.jsx("div",{children:"Loading works..."}):p?u.jsxs("div",{children:["Error loading works: ",g==null?void 0:g.message]}):u.jsx("div",{className:"space-y-6",children:t?u.jsx(tPe,{work:n,onSave:b,onCancel:()=>{r(!1),s(null)},allWorks:f||[]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Works Management"}),u.jsxs("button",{onClick:()=>{s(null),r(!0)},className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:[u.jsx(Si,{className:"w-4 h-4"}),"New Work"]})]}),u.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border mb-6",children:u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(Tl,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),u.jsx("input",{type:"text",value:i,onChange:_=>o(_.target.value),placeholder:"Search works...",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u.jsxs("select",{value:a,onChange:_=>l(_.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"all",children:"All Types"}),u.jsx("option",{value:"book",children:"Book"}),u.jsx("option",{value:"volume",children:"Volume"}),u.jsx("option",{value:"saga",children:"Saga"}),u.jsx("option",{value:"arc",children:"Arc"}),u.jsx("option",{value:"issue",children:"Issue"})]}),u.jsxs("select",{value:c,onChange:_=>d(_.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"all",children:"All Status"}),u.jsx("option",{value:"planning",children:"Planning"}),u.jsx("option",{value:"writing",children:"Writing"}),u.jsx("option",{value:"editing",children:"Editing"}),u.jsx("option",{value:"published",children:"Published"}),u.jsx("option",{value:"on_hold",children:"On Hold"})]})]})}),u.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:u.jsxs("tr",{children:[u.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-900",children:"Title"}),u.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-900",children:"Type"}),u.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-900",children:"Status"}),u.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-900",children:"Parent"}),u.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-900",children:"Release Date"}),u.jsx("th",{className:"text-right py-3 px-6 text-sm font-medium text-gray-900",children:"Actions"})]})}),u.jsx("tbody",{children:S.map(_=>{var N;return u.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[u.jsx("td",{className:"py-4 px-6",children:u.jsx("div",{className:"font-medium text-gray-900",children:_.title})}),u.jsx("td",{className:"py-4 px-6 text-sm text-gray-500",children:_.type}),u.jsx("td",{className:"py-4 px-6",children:u.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${_.status==="published"?"bg-green-100 text-green-800":_.status==="planning"?"bg-blue-100 text-blue-800":_.status==="writing"?"bg-yellow-100 text-yellow-800":_.status==="editing"?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:_.status})}),u.jsx("td",{className:"py-4 px-6 text-sm text-gray-500",children:((N=f==null?void 0:f.find(k=>k.id===_.parent_id))==null?void 0:N.title)||"N/A"}),u.jsx("td",{className:"py-4 px-6 text-sm text-gray-500",children:_.release_date||_.estimated_release||"N/A"}),u.jsx("td",{className:"py-4 px-6",children:u.jsxs("div",{className:"flex items-center justify-end gap-2",children:[u.jsx("button",{onClick:()=>{s(_),r(!0)},className:"p-1 text-gray-500 hover:text-blue-600",children:u.jsx(Wg,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>x(_.id),className:"p-1 text-gray-500 hover:text-red-600",children:u.jsx(Al,{className:"w-4 h-4"})})]})})]},_.id)})})]})})]})})},U0={},qD=typeof window<"u",I1="https://opukvvmumyegtkukqint.supabase.co",g7="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9wdWt2dm11bXllZ3RrdWtxaW50Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUzMDM3ODQsImV4cCI6MjA3MDg3OTc4NH0.rqMHc03LOI4z5j1V0b0LHeW6J1fCQOiBm-I10tF82_s";console.log("DEBUG: supabaseUrl (raw):",I1);console.log("DEBUG: supabaseAnonKey (raw):",g7);((U0==null?void 0:U0.VITE_DEBUG)==="true"||process.env.VITE_DEBUG==="true")&&(console.log("Supabase URL:"," Set"),console.log("Supabase Anon Key:"," Set"));let M1;var KD;try{M1=CR(I1,g7,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:qD?window.localStorage:void 0}}),typeof process<"u"&&((KD=process.env)==null?void 0:KD.NODE_ENV)==="development"&&qD&&console.log("Supabase client initialized with URL:",I1)}catch(e){throw console.error("Error initializing Supabase client:",e),e}const nPe=()=>{const[e,t]=w.useState(""),[r,n]=w.useState("chapter"),[s,i]=w.useState(""),[o,a]=w.useState(""),[l,c]=w.useState(""),[d,f]=w.useState(null),[h,p]=w.useState(null),[g,m]=w.useState(null),[y,v]=w.useState(""),[b,x]=w.useState(""),[S,_]=w.useState(!1),[N,k]=w.useState([]),[C,A]=w.useState(!0),[I,M]=w.useState(null),[L,D]=w.useState(!1),[z,U]=w.useState(null),[G,q]=w.useState(""),[Z,oe]=w.useState(!1),[$,B]=w.useState(""),[X,ae]=w.useState(""),W=async()=>{A(!0),M(null);try{const{data:{session:V}}=await M1.auth.getSession();if(!V){M("User not authenticated."),A(!1);return}const H=await fetch("/api/admin/users",{headers:{Authorization:`Bearer ${V.access_token}`}});if(!H.ok){const O=await H.json();throw new Error(O.error||"Failed to fetch users.")}const ie=await H.json();k(ie.users)}catch(V){console.error("Error fetching users:",V instanceof Error?V.message:V),M("Failed to load users: "+(V instanceof Error?V.message:"Unknown error"))}finally{A(!1)}};w.useEffect(()=>{W()},[]);const K=async V=>{V.preventDefault(),v(""),x(""),_(!0);const H=new FormData;H.append("title",e),H.append("type",r),H.append("description",s),H.append("release_date",o),H.append("cover_image_url",l),d&&H.append("epub_file",d),h&&H.append("pdf_file",h),g&&H.append("mobi_file",g);try{const ie="YOUR_ADMIN_USER_ID";if(ie==="YOUR_ADMIN_USER_ID"){x("Please replace 'YOUR_ADMIN_USER_ID' with an actual admin user's ID in AdminUploadPage.jsx"),_(!1);return}const O=await fetch("http://localhost:3001/api/admin/works",{method:"POST",headers:{"x-user-id":ie},body:H}),ge=await O.json();O.ok?(v("Work uploaded successfully!"),t(""),n("chapter"),i(""),a(""),c(""),f(null),p(null),m(null),document.getElementById("epubFileInput").value="",document.getElementById("pdfFileInput").value="",document.getElementById("mobiFileInput").value=""):x(ge.message||"Failed to upload work.")}catch(ie){console.error("Error uploading work:",ie),x("An error occurred while uploading the work. Check console for details.")}finally{_(!1)}},te=V=>{U(V);const H=V.subscriptions.find(ie=>ie.status==="active"||ie.status==="trialing");H?(q(H.subscription_type),oe(H.status==="active"||H.status==="trialing"),B(H.start_date?H.start_date.split("T")[0]:""),ae(H.current_period_end?H.current_period_end.split("T")[0]:"")):(q(""),oe(!1),B(new Date().toISOString().split("T")[0]),ae("")),D(!0)},re=()=>{D(!1),U(null)},ue=async V=>{if(V.preventDefault(),!!z)try{const{data:{session:H}}=await M1.auth.getSession();if(!H){alert("You must be logged in to manage subscriptions.");return}const ie=await fetch(`/api/admin/users/${z.id}/subscription`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${H.access_token}`},body:JSON.stringify({subscription_type:G,status:Z?"active":"canceled",start_date:$,current_period_end:X||null})});if(!ie.ok){const O=await ie.json();throw new Error(O.error||"Failed to update subscription.")}alert("Subscription updated successfully!"),re(),W()}catch(H){console.error("Error updating subscription:",H instanceof Error?H.message:H),alert("Error updating subscription: "+(H instanceof Error?H.message:"Unknown error"))}};return u.jsxs("div",{style:{padding:"20px",maxWidth:"1200px",margin:"auto",fontFamily:"Arial, sans-serif"},children:[u.jsx("h1",{style:{textAlign:"center",marginBottom:"30px"},children:"Admin Dashboard"}),u.jsxs("div",{style:{marginBottom:"50px",border:"1px solid #ccc",padding:"20px",borderRadius:"8px"},children:[u.jsx("h2",{children:"Upload New Work (Chapter/Issue)"}),y&&u.jsx("p",{style:{color:"green",fontWeight:"bold"},children:y}),b&&u.jsx("p",{style:{color:"red",fontWeight:"bold"},children:b}),u.jsxs("form",{onSubmit:K,style:{display:"flex",flexDirection:"column",gap:"15px"},children:[u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"Title:"}),u.jsx("input",{type:"text",value:e,onChange:V=>t(V.target.value),required:!0,style:{width:"100%",padding:"8px",boxSizing:"border-box"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"Type:"}),u.jsxs("select",{value:r,onChange:V=>n(V.target.value),style:{width:"100%",padding:"8px",boxSizing:"border-box"},children:[u.jsx("option",{value:"chapter",children:"Chapter"}),u.jsx("option",{value:"issue",children:"Issue"}),u.jsx("option",{value:"book",children:"Book"}),u.jsx("option",{value:"volume",children:"Volume"}),u.jsx("option",{value:"saga",children:"Saga"}),u.jsx("option",{value:"arc",children:"Arc"})]})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"Description:"}),u.jsx("textarea",{value:s,onChange:V=>i(V.target.value),style:{width:"100%",padding:"8px",boxSizing:"border-box",minHeight:"80px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"Release Date:"}),u.jsx("input",{type:"date",value:o,onChange:V=>a(V.target.value),style:{width:"100%",padding:"8px",boxSizing:"border-box"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"Cover Image URL:"}),u.jsx("input",{type:"text",value:l,onChange:V=>c(V.target.value),placeholder:"e.g., https://example.com/cover.jpg",style:{width:"100%",padding:"8px",boxSizing:"border-box"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"EPUB File:"}),u.jsx("input",{type:"file",id:"epubFileInput",onChange:V=>f(V.target.files[0]),accept:".epub",style:{width:"100%",padding:"8px",boxSizing:"border-box"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"PDF File:"}),u.jsx("input",{type:"file",id:"pdfFileInput",onChange:V=>p(V.target.files[0]),accept:".pdf",style:{width:"100%",padding:"8px",boxSizing:"border-box"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"MOBI File:"}),u.jsx("input",{type:"file",id:"mobiFileInput",onChange:V=>m(V.target.files[0]),accept:".mobi",style:{width:"100%",padding:"8px",boxSizing:"border-box"}})]}),u.jsx("button",{type:"submit",disabled:S,style:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"5px",cursor:S?"not-allowed":"pointer",fontSize:"16px"},children:S?"Uploading...":"Upload Work"})]})]}),u.jsxs("div",{style:{border:"1px solid #ccc",padding:"20px",borderRadius:"8px"},children:[u.jsx("h2",{children:"User Management"}),C&&u.jsx("p",{children:"Loading users..."}),I&&u.jsx("p",{style:{color:"red"},children:I}),!C&&!I&&u.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"20px"},children:[u.jsx("thead",{children:u.jsxs("tr",{style:{backgroundColor:"#f2f2f2"},children:[u.jsx("th",{style:{border:"1px solid #ddd",padding:"8px",textAlign:"left"},children:"Email"}),u.jsx("th",{style:{border:"1px solid #ddd",padding:"8px",textAlign:"left"},children:"Display Name"}),u.jsx("th",{style:{border:"1px solid #ddd",padding:"8px",textAlign:"left"},children:"Role"}),u.jsx("th",{style:{border:"1px solid #ddd",padding:"8px",textAlign:"left"},children:"Subscription Status"}),u.jsx("th",{style:{border:"1px solid #ddd",padding:"8px",textAlign:"left"},children:"Actions"})]})}),u.jsx("tbody",{children:N.map(V=>{var H,ie;return u.jsxs("tr",{children:[u.jsx("td",{style:{border:"1px solid #ddd",padding:"8px"},children:V.email}),u.jsx("td",{style:{border:"1px solid #ddd",padding:"8px"},children:((H=V.profile)==null?void 0:H.display_name)||"N/A"}),u.jsx("td",{style:{border:"1px solid #ddd",padding:"8px"},children:((ie=V.profile)==null?void 0:ie.role)||"user"}),u.jsx("td",{style:{border:"1px solid #ddd",padding:"8px"},children:V.subscriptions.length>0&&V.subscriptions.some(O=>O.status==="active"||O.status==="trialing")?"Active":"Inactive"}),u.jsxs("td",{style:{border:"1px solid #ddd",padding:"8px"},children:[u.jsx("button",{style:{marginRight:"5px",padding:"5px 10px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"},onClick:()=>te(V),children:"Manage Subscription"}),u.jsx("button",{style:{padding:"5px 10px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"},children:"Manage Entitlements"})]})]},V.id)})})]})]}),L&&z&&u.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center"},children:u.jsxs("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"8px",width:"500px",color:"black"},children:[u.jsxs("h3",{style:{marginBottom:"15px"},children:["Manage Subscription for ",z.email]}),u.jsxs("form",{onSubmit:ue,style:{display:"flex",flexDirection:"column",gap:"10px"},children:[u.jsxs("div",{children:[u.jsx("label",{children:"Subscription Type:"}),u.jsx("input",{type:"text",value:G,onChange:V=>q(V.target.value),required:!0,style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{children:"Is Active:"}),u.jsx("input",{type:"checkbox",checked:Z,onChange:V=>oe(V.target.checked),style:{marginLeft:"10px"}})]}),u.jsxs("div",{children:[u.jsx("label",{children:"Start Date:"}),u.jsx("input",{type:"date",value:$,onChange:V=>B(V.target.value),required:!0,style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{children:[u.jsx("label",{children:"End Date:"}),u.jsx("input",{type:"date",value:X,onChange:V=>ae(V.target.value),style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"}})]}),u.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px",marginTop:"20px"},children:[u.jsx("button",{type:"button",onClick:re,style:{padding:"8px 15px",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Cancel"}),u.jsx("button",{type:"submit",style:{padding:"8px 15px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Save"})]})]})]})})]})},sPe=()=>{var ni;const[e,t]=w.useState([]),[r,n]=w.useState(!0),[s,i]=w.useState(null),[o,a]=w.useState(!1),[l,c]=w.useState(!1),[d,f]=w.useState(!1),[h,p]=w.useState(!1),[g,m]=w.useState(null),[y,v]=w.useState(null),[b,x]=w.useState(null),[S,_]=w.useState(""),[N,k]=w.useState("active"),[C,A]=w.useState(""),[I,M]=w.useState(""),[L,D]=w.useState(""),[z,U]=w.useState(""),[G,q]=w.useState(!1),[Z,oe]=w.useState(!1),[$,B]=w.useState(""),[X,ae]=w.useState(""),[W,K]=w.useState(""),[te,re]=w.useState(""),[ue,V]=w.useState("user"),[H,ie]=w.useState(!1),[O,ge]=w.useState(""),[Ee,Be]=w.useState(""),[Ue,et]=w.useState(""),[bt,Et]=w.useState(""),[R,Y]=w.useState(""),[Q,ye]=w.useState("created_at"),[he,pe]=w.useState("desc"),[_e,Le]=w.useState(1),[Ke,Mt]=w.useState(10);function jt(le){return!le.subscriptions||le.subscriptions.length===0?"No Subscription":le.subscriptions.some(ne=>ne.status==="active"||ne.status==="trialing")?"Active":"Inactive"}function Or(le){switch(le){case"Active":return u.jsx(Gi,{className:"w-4 h-4 text-green-500"});case"Inactive":return u.jsx(l_,{className:"w-4 h-4 text-red-500"});default:return u.jsx($s,{className:"w-4 h-4 text-gray-400"})}}function ri(le){switch(le){case"admin":return"bg-purple-100 text-purple-800";case"user":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}}function Wn(le){if(!le)return"";const P=new Date(le);return Number.isNaN(P.getTime())?"":P.toLocaleString()}const[Kn,En]=w.useState(!1),Br=w.useCallback(async()=>{n(!0),i(null);try{const{data:{session:le}}=await J.supabase.auth.getSession();if(!le){i("User not authenticated."),n(!1);return}const P=await fetch("/api/admin/users",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${le.access_token}`}});if(!P.ok){const me=await P.json();throw new Error(me.error||"Failed to fetch users.")}const ne=await P.json();t(ne),ne.length>0&&(ne[0].role==="admin"||ne[0].role==="super_admin")?En(!0):En(!1)}catch(le){console.error("Error fetching users or checking admin status:",le),i((le instanceof Error?le.message:String(le))||"An unexpected error occurred.")}finally{n(!1)}},[]);w.useEffect(()=>{Br()},[Br]);const en=w.useMemo(()=>{const le=e.filter(P=>{var Ie;const ne=P.email.toLowerCase().includes(Ue.toLowerCase())||(((Ie=P.profile)==null?void 0:Ie.display_name)||"").toLowerCase().includes(Ue.toLowerCase()),me=!bt||P.role===bt,Ce=jt(P);return ne&&me&&(!R||Ce===R)});return le.sort((P,ne)=>{var He,Ie;let me=P[Q],Ce=ne[Q];return Q==="display_name"&&(me=((He=P.profile)==null?void 0:He.display_name)||"",Ce=((Ie=ne.profile)==null?void 0:Ie.display_name)||""),(Q==="created_at"||Q==="last_sign_in")&&(me=new Date(me),Ce=new Date(Ce)),me<Ce?he==="asc"?-1:1:me>Ce?he==="asc"?1:-1:0}),le},[e,Ue,bt,R,Q,he]),Er=w.useMemo(()=>{const le=(_e-1)*Ke;return en.slice(le,le+Ke)},[en,_e,Ke]),ur=Math.ceil(en.length/Ke)||1,tn=()=>{K(""),re(""),V("user"),ge(""),Be(""),f(!0)},jn=()=>{f(!1)},Nn=le=>{var ne;m(le);const P=(ne=le.subscriptions)==null?void 0:ne.find(me=>me.is_active);P?(_(P.plan_id||""),k(P.status),A(P.current_period_start?new Date(P.current_period_start).toISOString().split("T")[0]:""),M(P.current_period_end?new Date(P.current_period_end).toISOString().split("T")[0]:"")):(_(""),k("active"),A(new Date().toISOString().split("T")[0]),M("")),D(""),U(""),a(!0)},Hn=()=>{a(!1),m(null),q(!1)},ws=le=>{v(le),B(""),ae(""),c(!0)},Yn=()=>{c(!1),v(null),oe(!1)},Ri=le=>{x(le),p(!0)},Gn=()=>{p(!1),x(null)},kn=async le=>{le.preventDefault(),ie(!0),ge(""),Be("");try{if(!W||!/\S+@\S+\.\S+/.test(W))throw new Error("Please enter a valid email address.");if(e.some(Ce=>Ce.email.toLowerCase()===W.toLowerCase()))throw new Error("A user with this email already exists in the list.");const P={action:"addProfile",data:{username:te||W.split("@")[0],email:W,role:ue}},ne=await fetch("/functions/v1/manage-user-subscriptions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${(await J.supabase.auth.getSession()).data.session.access_token}`},body:JSON.stringify(P)}),me=await ne.json();if(!ne.ok)throw new Error(me.error||"Failed to add user profile via Edge Function");ge("User profile added successfully! Full user creation (auth.users) might require backend."),Br(),setTimeout(()=>{jn()},600)}catch(P){console.error("Error adding user:",P),Be((P instanceof Error?P.message:String(P))||"An unexpected error occurred while adding user.")}finally{ie(!1)}},Ao=async le=>{if(le.preventDefault(),!!g){q(!0),D(""),U("");try{if(C&&I&&new Date(C)>=new Date(I))throw new Error("End date must be after start date.");const P={action:"updateSubscription",userId:g.id,data:{plan_id:S,status:N,current_period_start:C?new Date(C).toISOString():null,current_period_end:I?new Date(I).toISOString():null}},ne=await fetch("/functions/v1/manage-user-subscriptions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${(await J.supabase.auth.getSession()).data.session.access_token}`},body:JSON.stringify(P)}),me=await ne.json();if(!ne.ok)throw new Error(me.error||"Failed to update subscription via Edge Function");D("Subscription updated successfully!"),Br(),setTimeout(()=>{Hn()},600)}catch(P){console.error("Error managing subscription:",P),U((P instanceof Error?P.message:String(P))||"An unexpected error occurred while managing subscription.")}finally{q(!1)}}},Cn=async le=>{if(le.preventDefault(),!!y){oe(!0),B(""),ae("");try{const P=new FormData(le.target),ne=P.get("displayName"),me=P.get("role"),Ce={action:"changeRole",targetUserId:y.id,newRole:me,data:{display_name:ne}},He=await fetch("/functions/v1/manage-user-subscriptions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${(await J.supabase.auth.getSession()).data.session.access_token}`},body:JSON.stringify(Ce)}),Ie=await He.json();if(!He.ok)throw new Error(Ie.error||"Failed to update user details via Edge Function");B("User details updated successfully!"),Br(),setTimeout(()=>{Yn()},600)}catch(P){console.error("Error updating user details:",P),ae((P instanceof Error?P.message:String(P))||"An unexpected error occurred while updating user details.")}finally{oe(!1)}}},Po=async()=>{if(b)try{const le={action:"deleteUser",targetUserId:b.id},P=await fetch("/functions/v1/manage-user-subscriptions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${(await J.supabase.auth.getSession()).data.session.access_token}`},body:JSON.stringify(le)}),ne=await P.json();if(!P.ok)throw new Error(ne.error||"Failed to delete user via Edge Function");t(me=>me.filter(Ce=>Ce.id!==b.id)),Gn(),Er.length===1&&_e>1&&Le(_e-1),alert(`User ${b.email} deleted successfully.`)}catch(le){console.error("Error deleting user:",le),alert(`Failed to delete user: ${le instanceof Error?le.message:String(le)}`)}},_s=le=>{Q===le?pe(he==="asc"?"desc":"asc"):(ye(le),pe("asc")),Le(1)},Ii=le=>{le<1||le>ur||Le(le)},Oo=le=>{Mt(le),Le(1)};return r?u.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),u.jsx("span",{className:"text-gray-600",children:"Loading users and plans..."})]})}):s?u.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:u.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 max-w-md",children:[u.jsxs("div",{className:"flex items-center space-x-2 text-red-600 mb-2",children:[u.jsx($s,{className:"w-5 h-5"}),u.jsx("span",{className:"font-semibold",children:"Error"})]}),u.jsx("p",{className:"text-red-700",children:s}),u.jsx("button",{onClick:Br,className:"mt-4 px-4 py-2 bg-red-600 text-white text-sm rounded-lg hover:bg-red-700 transition-colors",children:"Try Again"})]})}):u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"User Management"}),u.jsx("p",{className:"text-gray-600",children:"Manage users, subscriptions, and account details"})]}),u.jsx("div",{className:"mt-4 sm:mt-0",children:u.jsxs("button",{onClick:tn,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[u.jsx(JV,{className:"w-4 h-4 mr-2"}),"Add User"]})})]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[u.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(Rc,{className:"w-8 h-8 text-blue-500"}),u.jsxs("div",{className:"ml-3",children:[u.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Users"}),u.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]})]})}),u.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(Gi,{className:"w-8 h-8 text-green-500"}),u.jsxs("div",{className:"ml-3",children:[u.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Active Subscriptions"}),u.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(le=>jt(le)==="Active").length})]})]})}),u.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(Jc,{className:"w-8 h-8 text-purple-500"}),u.jsxs("div",{className:"ml-3",children:[u.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Admin Users"}),u.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(le=>le.role==="admin").length})]})]})}),u.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx($s,{className:"w-8 h-8 text-gray-400"}),u.jsxs("div",{className:"ml-3",children:[u.jsx("p",{className:"text-sm font-medium text-gray-500",children:"No Subscription"}),u.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(le=>jt(le)==="No Subscription").length})]})]})})]}),u.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx(Tl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),u.jsx("input",{type:"text",placeholder:"Search users...",value:Ue,onChange:le=>{et(le.target.value),Le(1)},className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),u.jsxs("select",{value:bt,onChange:le=>{Et(le.target.value),Le(1)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[u.jsx("option",{value:"",children:"All Roles"}),u.jsx("option",{value:"admin",children:"Admin"}),u.jsx("option",{value:"user",children:"User"})]}),u.jsxs("select",{value:R,onChange:le=>{Y(le.target.value),Le(1)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[u.jsx("option",{value:"",children:"All Statuses"}),u.jsx("option",{value:"Active",children:"Active"}),u.jsx("option",{value:"Inactive",children:"Inactive"}),u.jsx("option",{value:"No Subscription",children:"No Subscription"})]}),u.jsxs("select",{value:Ke,onChange:le=>Oo(Number(le.target.value)),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[u.jsx("option",{value:5,children:"5 per page"}),u.jsx("option",{value:10,children:"10 per page"}),u.jsx("option",{value:25,children:"25 per page"}),u.jsx("option",{value:50,children:"50 per page"})]}),u.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[u.jsx(MV,{className:"w-4 h-4 mr-2"}),en.length," of ",e.length," users"]})]})}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>_s("email"),children:u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx(IR,{className:"w-4 h-4"}),u.jsx("span",{children:"Email"}),Q==="email"&&u.jsx("span",{className:"text-blue-500",children:he==="asc"?"":""})]})}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>_s("display_name"),children:u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx(Rc,{className:"w-4 h-4"}),u.jsx("span",{children:"Display Name"}),Q==="display_name"&&u.jsx("span",{className:"text-blue-500",children:he==="asc"?"":""})]})}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx(Jc,{className:"w-4 h-4"}),u.jsx("span",{children:"Role"})]})}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subscription Status"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>_s("created_at"),children:u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx(PR,{className:"w-4 h-4"}),u.jsx("span",{children:"Created At"}),Q==="created_at"&&u.jsx("span",{className:"text-blue-500",children:he==="asc"?"":""})]})}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>_s("last_sign_in"),children:u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx(c_,{className:"w-4 h-4"}),u.jsx("span",{children:"Last Sign In"}),Q==="last_sign_in"&&u.jsx("span",{className:"text-blue-500",children:he==="asc"?"":""})]})}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),u.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[Er.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-sm text-gray-500",children:"No users found."})}),Er.map(le=>{var ne;const P=jt(le);return u.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"flex-shrink-0 h-8 w-8",children:u.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center",children:u.jsx(Rc,{className:"w-4 h-4 text-gray-500"})})}),u.jsx("div",{className:"ml-3",children:u.jsx("div",{className:"text-sm font-medium text-gray-900",children:le.email})})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:((ne=le.profile)==null?void 0:ne.display_name)||""}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ri(le.role)}`,children:le.role})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[Or(P),u.jsx("span",{className:"text-gray-900",children:P})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Wn(le.created_at)}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:le.last_sign_in?Wn(le.last_sign_in):"Never"}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{onClick:()=>ws(le),className:"inline-flex items-center px-2.5 py-1.5 border border-gray-300 rounded-md hover:bg-gray-50",title:"Edit Details",children:[u.jsx(VV,{className:"w-4 h-4 mr-1"}),"Edit"]}),u.jsxs("button",{onClick:()=>Nn(le),className:"inline-flex items-center px-2.5 py-1.5 border border-gray-300 rounded-md hover:bg-gray-50",title:"Manage Subscription",children:[u.jsx(Zf,{className:"w-4 h-4 mr-1"}),"Subscription"]}),u.jsxs("button",{onClick:()=>Ri(le),className:"inline-flex items-center px-2.5 py-1.5 border border-red-300 text-red-700 rounded-md hover:bg-red-50",title:"Delete User",children:[u.jsx(Al,{className:"w-4 h-4 mr-1"}),"Delete"]})]})})]},le.id)})]})]})}),u.jsxs("div",{className:"px-6 py-4 flex items-center justify-between",children:[u.jsxs("div",{className:"text-sm text-gray-600",children:["Page ",_e," of ",ur]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>Ii(_e-1),disabled:_e===1,className:"px-3 py-1.5 text-sm border rounded-md disabled:opacity-50",children:"Previous"}),Array.from({length:ur}).map((le,P)=>u.jsx("button",{onClick:()=>Ii(P+1),className:`px-3 py-1.5 text-sm border rounded-md ${_e===P+1?"bg-blue-600 text-white border-blue-600":"hover:bg-gray-50"}`,children:P+1},P)),u.jsx("button",{onClick:()=>Ii(_e+1),disabled:_e===ur,className:"px-3 py-1.5 text-sm border rounded-md disabled:opacity-50",children:"Next"})]})]})]})]}),d&&u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[u.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:jn}),u.jsxs("div",{className:"relative bg-white w-full max-w-lg rounded-lg shadow-lg p-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add New User"}),u.jsxs("form",{onSubmit:kn,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),u.jsx("input",{type:"email",value:W,onChange:le=>K(le.target.value),className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"user@example.com",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Name (optional)"}),u.jsx("input",{type:"text",value:te,onChange:le=>re(le.target.value),className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Jane Doe"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),u.jsxs("select",{value:ue,onChange:le=>V(le.target.value),className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[u.jsx("option",{value:"user",children:"User"}),u.jsx("option",{value:"admin",children:"Admin"}),u.jsx("option",{value:"super_admin",children:"Super Admin"})]})]}),Ee&&u.jsxs("div",{className:"text-sm text-red-600 flex items-center gap-2",children:[u.jsx($s,{className:"w-4 h-4"}),Ee]}),O&&u.jsxs("div",{className:"text-sm text-green-600 flex items-center gap-2",children:[u.jsx(Gi,{className:"w-4 h-4"}),O]}),u.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2",children:[u.jsx("button",{type:"button",onClick:jn,className:"px-4 py-2 rounded-md border",children:"Cancel"}),u.jsx("button",{type:"submit",disabled:H,className:"px-4 py-2 rounded-md bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50",children:H?"Adding":"Add User"})]})]})]})]}),o&&g&&u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[u.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:Hn}),u.jsxs("div",{className:"relative bg-white w-full max-w-xl rounded-lg shadow-lg p-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Manage Subscription"}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:g.email}),u.jsxs("form",{onSubmit:Ao,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Plan"}),u.jsxs("select",{value:S,onChange:le=>_(le.target.value),className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[u.jsx("option",{value:"",children:" Select a plan "}),u.jsx("option",{value:"Monthly",children:"Monthly"}),u.jsx("option",{value:"Yearly",children:"Yearly"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),u.jsxs("select",{value:N,onChange:le=>k(le.target.value),className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[u.jsx("option",{value:"active",children:"active"}),u.jsx("option",{value:"trialing",children:"trialing"}),u.jsx("option",{value:"canceled",children:"canceled"}),u.jsx("option",{value:"paused",children:"paused"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),u.jsx("input",{type:"date",value:C,onChange:le=>A(le.target.value),className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),u.jsx("input",{type:"date",value:I,onChange:le=>M(le.target.value),className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),z&&u.jsxs("div",{className:"text-sm text-red-600 flex items-center gap-2",children:[u.jsx($s,{className:"w-4 h-4"}),z]}),L&&u.jsxs("div",{className:"text-sm text-green-600 flex items-center gap-2",children:[u.jsx(Gi,{className:"w-4 h-4"}),L]}),u.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2",children:[u.jsx("button",{type:"button",onClick:Hn,className:"px-4 py-2 rounded-md border",children:"Cancel"}),u.jsx("button",{type:"submit",disabled:G,className:"px-4 py-2 rounded-md bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50",children:G?"Saving":"Save Changes"})]})]})]})]}),l&&y&&u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[u.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:Yn}),u.jsxs("div",{className:"relative bg-white w-full max-w-lg rounded-lg shadow-lg p-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Edit User Details"}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:y.email}),u.jsxs("form",{onSubmit:Cn,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Name"}),u.jsx("input",{name:"displayName",type:"text",defaultValue:((ni=y.profile)==null?void 0:ni.display_name)||"",className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Jane Doe"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),u.jsxs("select",{name:"role",defaultValue:y.role,className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[u.jsx("option",{value:"user",children:"User"}),u.jsx("option",{value:"admin",children:"Admin"}),u.jsx("option",{value:"super_admin",children:"Super Admin"})]})]}),X&&u.jsxs("div",{className:"text-sm text-red-600 flex items-center gap-2",children:[u.jsx($s,{className:"w-4 h-4"}),X]}),$&&u.jsxs("div",{className:"text-sm text-green-600 flex items-center gap-2",children:[u.jsx(Gi,{className:"w-4 h-4"}),$]}),u.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2",children:[u.jsx("button",{type:"button",onClick:Yn,className:"px-4 py-2 rounded-md border",children:"Cancel"}),u.jsx("button",{type:"submit",disabled:Z,className:"px-4 py-2 rounded-md bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50",children:Z?"Saving":"Save Changes"})]})]})]})]}),h&&b&&u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[u.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:Gn}),u.jsxs("div",{className:"relative bg-white w-full max-w-md rounded-lg shadow-lg p-6",children:[u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"shrink-0 mt-1",children:u.jsx($s,{className:"w-6 h-6 text-red-600"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Delete user?"}),u.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["This will permanently remove ",u.jsx("span",{className:"font-mono",children:b.email})," and their subscriptions from the local list."]})]})]}),u.jsxs("div",{className:"flex items-center justify-end gap-2 mt-6",children:[u.jsx("button",{onClick:Gn,className:"px-4 py-2 rounded-md border",children:"Cancel"}),u.jsx("button",{onClick:Po,className:"px-4 py-2 rounded-md bg-red-600 text-white hover:bg-red-700",children:"Delete"})]})]})]})]})},iPe=()=>{const e=w.useRef(null);return w.useEffect(()=>{const t=e.current;if(!t)return;const r=50,n=()=>{const i=document.createElement("div");i.className="star absolute bg-ink rounded-full",i.style.left=Math.random()*100+"%",i.style.top=Math.random()*100+"%";const o=Math.random()*3+1;i.style.width=i.style.height=o+"px",i.style.animationDelay=Math.random()*3+"s",i.style.animationDuration=Math.random()*2+2+"s",t.appendChild(i)};t.innerHTML="";for(let i=0;i<r;i++)n();const s=()=>{const o=window.pageYOffset*-.1;t&&(t.style.transform=`translateY(${o}px)`)};return window.addEventListener("scroll",s),()=>{window.removeEventListener("scroll",s)}},[]),u.jsx("div",{ref:e,className:"stars fixed top-0 left-0 w-full h-full pointer-events-none -z-10",children:" "})},oPe=async()=>{const{data:e,error:t}=await J.supabase.from("works").select("id, title");if(t)throw new Error(t.message);return e},aPe=async e=>{const{data:t,error:r}=await J.supabase.from("works").insert({title:e,type:"book"}).select();if(r)throw new Error(r.message);return t[0]},lPe=()=>{const e=Me.useQueryClient(),[t,r]=w.useState(null),[n,s]=w.useState(""),[i,o]=w.useState(1),[a,l]=w.useState(""),[c,d]=w.useState(""),[f,h]=w.useState(!1),[p,g]=w.useState(!1),{data:m,isLoading:y,isError:v,error:b}=Me.useQuery({queryKey:["books"],queryFn:oPe}),x=Me.useMutation({mutationFn:aPe,onSuccess:N=>{e.invalidateQueries({queryKey:["books"]}),l(N.id),d(""),ci.success(`Book "${N.title}" created successfully!`)},onError:N=>{ci.error(`Error creating book: ${N.message}`)}}),S=N=>{N.target.files&&N.target.files[0]&&r(N.target.files[0])},_=async N=>{if(N.preventDefault(),!t||!n||!i){ci.error("Please fill in all required chapter fields and select a file.");return}let k=a;if(c){if(x.isPending){ci.error("Book creation is already in progress. Please wait.");return}try{k=(await x.mutateAsync(c)).id}catch{return}}if(!k){ci.error("Please select an existing book or create a new one.");return}g(!0);const C=new FormData;C.append("file",t),C.append("title",n),C.append("chapter_number",i.toString()),C.append("book_id",k),C.append("is_published",f.toString());try{const{data:{session:A},error:I}=await J.supabase.auth.getSession();if(I||!A){ci.error("User session not found. Please log in."),g(!1);return}const M=await fetch("/api/chapters/upload",{method:"POST",body:C,headers:{Authorization:`Bearer ${A.access_token}`}});if(!M.ok){const L=await M.json();throw new Error(L.message||L.error||"Failed to upload chapter.")}await M.json(),ci.success("Chapter uploaded successfully!"),r(null),s(""),o(1),l(""),d(""),h(!1),N.target instanceof HTMLFormElement&&N.target.reset()}catch(A){console.error("Upload error:",A),ci.error(A.message||"An error occurred during upload.")}finally{g(!1)}};return y?u.jsx("div",{className:"text-center py-8",children:"Loading books..."}):v?u.jsxs("div",{className:"text-center py-8 text-red-500",children:["Error loading books: ",b==null?void 0:b.message]}):u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsx(c1e,{}),u.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Upload New Chapter"}),u.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:u.jsxs("form",{onSubmit:_,children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"file",className:"block text-sm font-medium text-gray-700 mb-2",children:"Chapter File (PDF, DOCX, TXT, HTML)"}),u.jsx("input",{type:"file",id:"file",onChange:S,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",accept:".pdf,.docx,.txt,.html",required:!0}),t&&u.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Selected file: ",t.name]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"chapterTitle",className:"block text-sm font-medium text-gray-700 mb-2",children:"Chapter Title"}),u.jsx("input",{type:"text",id:"chapterTitle",value:n,onChange:N=>s(N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"chapterNumber",className:"block text-sm font-medium text-gray-700 mb-2",children:"Chapter Number"}),u.jsx("input",{type:"number",id:"chapterNumber",value:i,onChange:N=>o(parseInt(N.target.value)||""),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,min:"1"})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"bookId",className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Existing Book"}),u.jsxs("select",{id:"bookId",value:a,onChange:N=>l(N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"",children:"-- Select a Book --"}),m==null?void 0:m.map(N=>u.jsx("option",{value:N.id,children:N.title},N.id))]})]}),u.jsxs("div",{className:"mb-4 flex items-center",children:[u.jsx("span",{className:"text-gray-500 mr-2",children:"OR"}),u.jsx("div",{className:"flex-grow border-t border-gray-300"})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"newBookTitle",className:"block text-sm font-medium text-gray-700 mb-2",children:"Create New Book"}),u.jsx("input",{type:"text",id:"newBookTitle",value:c,onChange:N=>d(N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter new book title"})]}),u.jsxs("div",{className:"mb-4 flex items-center",children:[u.jsx("input",{type:"checkbox",id:"isPublished",checked:f,onChange:N=>h(N.target.checked),className:"mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),u.jsx("label",{htmlFor:"isPublished",className:"text-sm font-medium text-gray-700",children:"Publish Immediately"})]}),u.jsx("button",{type:"submit",className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:p||x.isPending,children:p?u.jsxs(u.Fragment,{children:[u.jsx(DV,{className:"w-4 h-4 animate-pulse"}),"Uploading Chapter..."]}):x.isPending?u.jsxs(u.Fragment,{children:[u.jsx(TV,{className:"w-4 h-4 animate-pulse"}),"Creating Book..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Si,{className:"w-4 h-4"}),"Upload Chapter"]})})]})})]})},om=j.forwardRef(({className:e,...t},r)=>u.jsx("div",{ref:r,className:Xt("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));om.displayName="Card";const am=j.forwardRef(({className:e,...t},r)=>u.jsx("div",{ref:r,className:Xt("flex flex-col space-y-1.5 p-6",e),...t}));am.displayName="CardHeader";const L1=j.forwardRef(({className:e,...t},r)=>u.jsx("h3",{ref:r,className:Xt("text-2xl font-semibold leading-none tracking-tight",e),...t}));L1.displayName="CardTitle";const cPe=j.forwardRef(({className:e,...t},r)=>u.jsx("p",{ref:r,className:Xt("text-sm text-muted-foreground",e),...t}));cPe.displayName="CardDescription";const lm=j.forwardRef(({className:e,...t},r)=>u.jsx("div",{ref:r,className:Xt("p-6 pt-0",e),...t}));lm.displayName="CardContent";const uPe=j.forwardRef(({className:e,...t},r)=>u.jsx("div",{ref:r,className:Xt("flex items-center p-6 pt-0",e),...t}));uPe.displayName="CardFooter";const dPe=Rg("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary/10 text-primary hover:bg-primary/20",secondary:"border-transparent bg-secondary/10 text-secondary-foreground hover:bg-secondary/20",destructive:"border-transparent bg-destructive/10 text-destructive hover:bg-destructive/20",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function VD({className:e,variant:t,...r}){return u.jsx("div",{className:Xt(dPe({variant:t}),e),...r})}const F1=w.forwardRef(({value:e,onChange:t,theme:r="snow",modules:n={toolbar:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],["link","image"],["clean"]]},formats:s=["header","bold","italic","underline","strike","list","bullet","link","image"],...i},o)=>{const a=l=>{try{t&&t(l)}catch(c){console.error("Error in handleChange:",c)}};return u.jsx("div",{className:"mt-4",children:u.jsx(Nh,{ref:o,theme:r,value:e,onChange:a,modules:{toolbar:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],["link","image"],["clean"]]},formats:["header","bold","italic","underline","strike","list","bullet","link","image"],...i})})});F1.displayName="QuillEditor";function y7({id:e,onUpdatePage:t,initialData:r}){const{id:n}=Je.useParams(),s=Je.useNavigate(),[i,o]=w.useState(!!e),[a,l]=w.useState(!1),[c,d]=w.useState([]),[f,h]=w.useState(""),[p,g]=w.useState(!1),[m,y]=w.useState(null),[v,b]=w.useState(""),[x,S]=w.useState(!1),[_,N]=w.useState(()=>r?{...r,category:r.category||null,user:r.user||null}:{id:"",title:"",slug:"",excerpt:null,content:"",seo_title:null,seo_description:null,seo_keywords:[],sections:[],category_id:null,is_published:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),created_by:null,folder_id:null,view_count:null,category:null,user:null}),[k,C]=w.useState("");w.useEffect(()=>{const W=e||n;A(),W?I(W):o(!1)},[e,n]);const A=async()=>{try{console.log("Fetching categories...");const W=await J.fetchCategories();d(W||[]),(!W||W.length===0)&&(console.warn("No categories found in the database"),qe.warning("No categories found. Please create categories first."))}catch(W){console.error("Error in fetchCategories:",W),qe.error("Failed to load categories. Check console for details.")}},I=async W=>{try{const K=await J.fetchWikiPage(W);if(K){const te={...K,sections:K.sections||[]};N(te),K.category&&y(K.category)}else throw new Error("Wiki page not found.")}catch(K){console.error("Error fetching wiki page:",K),qe.error("Failed to load wiki page")}finally{o(!1)}},M=W=>{const{name:K,value:te}=W.target;N(re=>({...re,[K]:te}))},L=W=>{const K={id:`section-${Date.now()}`,title:"New Section",content:"",type:W||"paragraph"};N(te=>({...te,sections:[...te.sections,K]}))},D=(W,K)=>{N(te=>({...te,sections:te.sections.map(re=>re.id===W?{...re,...K}:re)}))},z=W=>{if(_.sections.length<=1){qe.error("You must have at least one section");return}N(K=>({...K,sections:K.sections.filter(te=>te.id!==W)}))},U=W=>{y(W),N(K=>({...K,category_id:W.id})),g(!1)},G=()=>{y(null),N(W=>({...W,category_id:null}))},q=W=>W.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/--+/g,"-").trim(),Z=W=>{const K=W.target.value;N(te=>({...te,title:K,slug:q(K),seo_title:te.seo_title||K}))},oe=async()=>{var W,K;l(!0);try{if(!((W=_==null?void 0:_.title)!=null&&W.trim())){qe.error("Title is required"),l(!1);return}if(!((K=_.slug)!=null&&K.trim())){qe.error("Slug is required"),l(!1);return}const{data:{user:te},error:re}=await J.supabase.auth.getUser();if(re||!te){qe.error("You must be signed in to save changes."),l(!1);return}const ue={title:_.title.trim(),slug:_.slug.trim(),category_id:_.category_id||null,is_published:_.is_published,updated_at:new Date().toISOString()};let V=null;if(e){const{data:H,error:ie}=await J.supabase.from("wiki_pages").update(ue).eq("id",e).select().single();if(ie)throw ie;if(H)V=H;else throw new Error("Page data not found after update.");qe.success("Wiki page updated successfully");const{error:O}=await J.supabase.from("wiki_content_blocks").delete().eq("page_id",V.id);if(O)throw console.error("Error deleting old content blocks:",O),new Error("Failed to update content blocks")}else{const{data:H,error:ie}=await J.supabase.from("wiki_pages").insert([{...ue,created_by:te.id,created_at:new Date().toISOString(),view_count:0}]).select("*, user:profiles(*), category:wiki_categories(*)").single();if(ie)throw ie;if(H)V=H;else throw new Error("Page data not found after creation.");qe.success("Wiki page created successfully")}if(V&&_.sections&&_.sections.length>0){const H=_.sections.map((O,ge)=>({page_id:V.id,type:O.type,content:O.content,position:ge,created_by:te.id})),{error:ie}=await J.supabase.from("wiki_content_blocks").insert(H);if(ie)throw console.error("Error saving content blocks:",ie),new Error("Failed to save content blocks")}if(V){let H=null;V.user&&typeof V.user=="object"&&!("error"in V.user)&&(H=V.user);const ie={...V,title:_.title,slug:_.slug,excerpt:_.excerpt||null,is_published:_.is_published,category_id:_.category_id||null,category:m||null,sections:_.sections||[],created_at:V.created_at||new Date().toISOString(),updated_at:new Date().toISOString(),user:H};t&&t(ie),e||s(`/account/admin/wiki/page/${V.id}`)}}catch(te){throw console.error("Error saving wiki page:",te),te.code==="23505"?qe.error("A page with this slug already exists"):te.code==="42501"?qe.error("You do not have permission to perform this action"):qe.error(`Failed to save wiki page: ${(te instanceof Error?te.message:String(te))||"Unknown error"}`),te}finally{l(!1)}},$=async()=>{const W=!_.is_published;if(N(K=>({...K,is_published:W})),e)try{const{error:K}=await J.supabase.from("wiki_pages").update({is_published:W,published_at:W?new Date().toISOString():null}).eq("id",e);if(K)throw K;qe.success(`Page ${W?"published":"unpublished"} successfully`)}catch(K){console.error("Error updating publish status:",K),qe.error(`Failed to update page status: ${K instanceof Error?K.message:String(K)}`),N(te=>({...te,is_published:!W}))}},B=async()=>{if(!v.trim()){qe.error("Category name cannot be empty");return}try{const{data:{user:W}}=await J.supabase.auth.getUser();if(!W){qe.error("You must be logged in to create categories");return}const{data:K,error:te}=await J.supabase.from("wiki_categories").insert([{name:v.trim(),slug:v.trim().toLowerCase().replace(/\s+/g,"-"),created_by:W.id,is_active:!0}]).select().single();if(te)throw console.error("Error creating category:",te),new Error("Failed to create category");if(K===null){console.error("No data returned after creating category, but no error was thrown."),qe.error("Failed to create category: No data received.");return}const re=K;d(ue=>[...ue,re]),U(re),b(""),S(!1),qe.success("Category created successfully")}catch(W){console.error("Error creating category:",W),qe.error("Failed to create category")}},X=()=>u.jsxs("div",{className:"space-y-2",children:[u.jsx($n,{children:"Category"}),m?u.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-md",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(VD,{className:"h-4 w-4 mr-2 text-muted-foreground"}),u.jsx("span",{children:m.name})]}),u.jsx(Qe,{type:"button",variant:"ghost",size:"sm",onClick:G,children:u.jsx(la,{className:"h-4 w-4"})})]}):x?u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex space-x-2",children:[u.jsx(as,{placeholder:"Enter category name",value:v,onChange:W=>b(W.target.value),autoFocus:!0}),u.jsx(Qe,{type:"button",onClick:B,disabled:!v.trim(),children:"Add"})]}),u.jsx(Qe,{type:"button",variant:"ghost",size:"sm",onClick:()=>S(!1),children:"Cancel"})]}):u.jsxs("div",{className:"space-y-2",children:[u.jsxs(Qe,{type:"button",variant:"outline",className:"w-full justify-start",onClick:()=>g(!0),children:[u.jsx(VD,{className:"h-4 w-4 mr-2"}),"Select a category"]}),u.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:["or"," ",u.jsx("button",{type:"button",className:"text-primary hover:underline",onClick:()=>S(!0),children:"create a new category"})]})]})]}),ae=W=>{const K=te=>{D(W.id,{content:te})};switch(W.type){case"heading_1":case"heading_2":case"heading_3":case"paragraph":case"bullet_list":case"ordered_list":return u.jsx("div",{className:"mt-4",children:u.jsx(F1,{value:W.content||"",onChange:K,placeholder:"Start writing..."})});case"quote":return u.jsx("div",{className:"mt-4 border-l-4 border-gray-300 pl-4 italic",children:u.jsx(F1,{value:W.content||"",onChange:K,placeholder:"Start writing..."})});case"code":return u.jsx("div",{className:"mt-4 bg-gray-100 p-4 rounded-md font-mono text-sm",children:u.jsx(ry,{value:W.content||"",onChange:te=>D(W.id,{content:te.target.value}),placeholder:"Enter code...",rows:6,className:"font-mono"})});case"divider":return u.jsx("div",{className:"my-6 border-t border-gray-200"});case"image":return u.jsxs("div",{className:"mt-4",children:[u.jsx(as,{type:"text",value:W.content||"",onChange:te=>D(W.id,{content:te.target.value}),placeholder:"Enter image URL..."}),W.content&&u.jsx("div",{className:"mt-2",children:u.jsx("img",{src:W.content,alt:"Section content",className:"max-w-full h-auto rounded-md"})})]});default:return u.jsxs("div",{className:"mt-4 text-gray-500 italic",children:["Unsupported section type: ",W.type]})}};return i?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx(Qc,{className:"h-8 w-8 animate-spin"})}):(f&&c.filter(W=>W.name.toLowerCase().includes(f.toLowerCase())),u.jsx("div",{className:"container mx-auto p-6",children:u.jsxs("form",{onSubmit:W=>W.preventDefault(),children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs(Qe,{type:"button",variant:"outline",size:"sm",onClick:()=>s("/account/admin/wiki"),children:[u.jsx(AR,{className:"mr-2 h-4 w-4"})," Back to Wiki"]}),u.jsx("h1",{className:"text-2xl font-bold",children:e?"Edit Wiki Page":"Create New Wiki Page"})]}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx($n,{htmlFor:"is_published",children:"Publish"}),u.jsx(mf,{id:"is_published",checked:_.is_published,onCheckedChange:$})]}),u.jsx(Qe,{type:"button",disabled:a,onClick:oe,children:a?u.jsxs(u.Fragment,{children:[u.jsx(Qc,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):u.jsxs(u.Fragment,{children:[u.jsx(u_,{className:"mr-2 h-4 w-4"}),"Save Changes"]})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsx("div",{className:"lg:col-span-2 space-y-6",children:u.jsxs(om,{children:[u.jsx(am,{children:u.jsx(L1,{children:"Page Content"})}),u.jsxs(lm,{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx($n,{htmlFor:"title",children:"Title *"}),u.jsx(as,{id:"title",name:"title",value:_.title,onChange:Z,placeholder:"Enter page title",required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx($n,{htmlFor:"slug",children:"URL Slug *"}),u.jsx("span",{className:"text-sm text-muted-foreground",children:`${window.location.origin}/wiki/${_.slug||"your-page-slug"}`})]}),u.jsx(as,{id:"slug",name:"slug",value:_.slug,onChange:M,placeholder:"page-slug",required:!0})]}),X(),u.jsxs("div",{className:"space-y-2",children:[u.jsx($n,{children:"Sections"}),_.sections.map((W,K)=>u.jsxs(om,{className:"mb-4",children:[u.jsx(am,{children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx(as,{value:W.title,onChange:te=>D(W.id,{title:te.target.value}),placeholder:"Section Title",className:"text-xl font-bold"}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsxs("select",{value:W.type,onChange:te=>D(W.id,{type:te.target.value}),className:"text-sm p-1 border rounded",children:[u.jsx("option",{value:"paragraph",children:"Paragraph"}),u.jsx("option",{value:"heading_1",children:"Heading 1"}),u.jsx("option",{value:"heading_2",children:"Heading 2"}),u.jsx("option",{value:"heading_3",children:"Heading 3"}),u.jsx("option",{value:"bullet_list",children:"Bullet List"}),u.jsx("option",{value:"ordered_list",children:"Ordered List"}),u.jsx("option",{value:"image",children:"Image"}),u.jsx("option",{value:"table",children:"Table"}),u.jsx("option",{value:"quote",children:"Quote"}),u.jsx("option",{value:"code",children:"Code"}),u.jsx("option",{value:"divider",children:"Divider"})]}),u.jsx(Qe,{variant:"ghost",size:"icon",type:"button",onClick:()=>z(W.id),disabled:_.sections.length<=1,children:u.jsx(la,{className:"h-4 w-4"})})]})]})}),u.jsx(lm,{children:ae(W)})]},W.id))]}),u.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[u.jsx(Qe,{type:"button",variant:"outline",onClick:()=>L("paragraph"),children:"Add Paragraph"}),u.jsx(Qe,{type:"button",variant:"outline",onClick:()=>L("heading_1"),children:"Add Heading 1"}),u.jsx(Qe,{type:"button",variant:"outline",onClick:()=>L("quote"),children:"Add Quote"})]})]})]})}),u.jsx("div",{className:"space-y-6",children:u.jsxs(om,{children:[u.jsx(am,{children:u.jsx(L1,{children:"Publishing"})}),u.jsxs(lm,{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium",children:"Status"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:_.is_published?"Published":"Draft"})]}),u.jsx(mf,{checked:_.is_published,onCheckedChange:$})]}),e&&u.jsxs("div",{className:"space-y-2",children:[u.jsx("h4",{className:"font-medium",children:"URL"}),u.jsx("div",{className:"flex items-center",children:u.jsxs("a",{href:`/wiki/${_.slug}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline flex items-center",children:["View page ",u.jsx(Zf,{className:"ml-1 h-3 w-3"})]})})]})]})]})})]})]})}))}function fPe({folders:e,pages:t,selectedFolder:r,selectedPage:n,onSelect:s,onPageSelect:i,onDeleteFolder:o,onEditFolder:a,onDeletePage:l,onEditPage:c}){const d=w.useMemo(()=>{const h=new Map,p=[];e.forEach(m=>{const y={...m,children:[],pages:[],type:"folder"};h.set(m.id,y)}),e.forEach(m=>{const y=h.get(m.id);if(y&&m.parent_id&&h.has(m.parent_id)){const v=h.get(m.parent_id);v&&v.children.push(y)}else y&&p.push(y)});const g=[];return t.forEach(m=>{const y={id:m.id,title:m.title,slug:m.slug,folder_id:m.folder_id,category_id:m.category_id,created_at:m.created_at,updated_at:m.updated_at,created_by:m.created_by,is_published:m.is_published||!1,excerpt:m.excerpt||null,view_count:m.view_count||0,type:"page",content:m.content};if(m.folder_id&&h.has(m.folder_id)){const v=h.get(m.folder_id);v&&v.pages.push(y)}else m.folder_id||g.push(y)}),[...p,...g]},[e,t]),f=(h,p=0)=>h?h.type==="page"?u.jsxs("div",{className:Xt("flex items-center px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-800",n===h.id&&"bg-blue-50 dark:bg-blue-900/30"),onClick:()=>i(h.id),children:[u.jsx(fm,{className:"h-4 w-4 mr-2 text-gray-500"}),u.jsx("span",{className:"truncate",children:h.title})]},h.id):u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:Xt("flex items-center justify-between p-2 rounded-md cursor-pointer",r===h.id?"bg-blue-50 dark:bg-blue-900/30":"hover:bg-gray-100 dark:hover:bg-gray-800"),onClick:()=>s(h.id),children:[u.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[u.jsx(hm,{className:"h-4 w-4 text-blue-500"}),u.jsx("span",{className:"truncate",children:h.name})]}),u.jsxs("div",{className:"flex space-x-1",children:[u.jsx(Qe,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:g=>{g.stopPropagation(),a(h)},children:u.jsx(YV,{className:"h-3.5 w-3.5"})}),u.jsx(Qe,{variant:"ghost",size:"icon",className:"h-6 w-6 text-red-500 hover:text-red-600",onClick:g=>{g.stopPropagation(),o(h.id)},children:u.jsx(Al,{className:"h-3.5 w-3.5"})})]})]}),h.children.length>0&&u.jsx("div",{className:"pl-4 border-l border-gray-200 dark:border-gray-700",children:h.children.map(g=>f(g,p+1))}),h.pages.length>0&&u.jsx("div",{className:"pl-4",children:h.pages.map(g=>f(g,p+1))})]},h.id):null;return u.jsx("div",{className:"space-y-1",children:d.map(h=>u.jsx("div",{children:f(h,0)},h.id))})}function hPe(){const{folderId:e}=Je.useParams(),t=Je.useNavigate(),[r,n]=w.useState([]),[s,i]=w.useState([]),[o,a]=w.useState(""),[l,c]=w.useState(""),[d,f]=w.useState(!1),[h,p]=w.useState(!1),[g,m]=w.useState(null),[y,v]=w.useState(null),[b,x]=w.useState(null),[S,_]=w.useState(""),[N,k]=w.useState(!0);w.useEffect(()=>{(async()=>{try{k(!0);const{data:B,error:X}=await J.supabase.from("wiki_folders").select("*").order("name");if(X)throw X;const{data:ae,error:W}=await J.supabase.from("wiki_pages").select(`
            *,
            sections:wiki_sections(*)
          `);if(W)throw W;const K=(ae||[]).map(te=>({...te,sections:(te.sections||[]).map(re=>({...re,content:re.content||""}))}));n(B||[]),i(K)}catch(B){console.error("Error fetching wiki data:",B),qe.error("Failed to load wiki content")}finally{k(!1)}})()},[]);const C=async()=>{if(o.trim())try{const $=(await J.supabase.auth.getUser()).data.user;if(!$){qe.error("You must be logged in to create a folder");return}const{data:B,error:X}=await J.supabase.from("wiki_folders").insert([{name:o.trim(),slug:o.trim().toLowerCase().replace(/\s+/g,"-"),parent_id:e||null,created_by:$.id}]).select().single();if(X)throw X;n(ae=>[...ae,B]),a(""),f(!1),t(`/account/admin/wiki/folder/${B.id}`),qe.success("Folder created successfully")}catch($){console.error("Error creating folder:",$),qe.error($ instanceof Error?$.message:"Failed to create folder")}},A=async $=>{try{const B=(await J.supabase.auth.getUser()).data.user;if(!B){qe.error("You must be logged in to create a page");return}const{data:X,error:ae}=await J.supabase.from("wiki_pages").insert([{title:"New Page",content:"",folder_id:$||null,is_published:!1,created_by:B.id,excerpt:"",slug:"new-page-"+Date.now(),seo_title:"New Page",seo_description:"",seo_keywords:[],view_count:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),category_id:null}]).select("*").single();if(ae)throw ae;i(W=>[...W,{...X,sections:[]}]),X&&(m(X.id),v(X.id)),c(""),p(!1),qe.success("Page created successfully")}catch(B){console.error("Error creating page:",B),qe.error(B instanceof Error?B.message:"Failed to create page")}},I=$=>{v($.id),m($.id)},M=async $=>{if(confirm("Are you sure you want to delete this page? This action cannot be undone."))try{k(!0);const{error:B}=await J.supabase.from("wiki_content_blocks").delete().eq("page_id",$);if(B)throw B;const{error:X}=await J.supabase.from("wiki_pages").delete().eq("id",$);if(X)throw X;i(ae=>ae.filter(W=>W.id!==$)),g===$&&(m(null),v(null)),qe.success("Page deleted successfully")}catch(B){console.error("Error deleting page:",B),qe.error("Failed to delete page")}finally{k(!1)}},L=async $=>{var B;try{const{data:X,error:ae}=await J.supabase.from("wiki_pages").upsert({...$,updated_at:new Date().toISOString(),updated_by:(B=(await J.supabase.auth.getUser()).data.user)==null?void 0:B.id}).select().single();if(ae)throw ae;return i(W=>W.map(K=>K.id===X.id?{...K,...X}:K)),qe.success("Page saved successfully"),X}catch(X){throw console.error("Error saving page:",X),qe.error("Failed to save page"),X}},D=$=>{x($),_($.name)},z=async()=>{if(!(!b||!S.trim()))try{const{data:$,error:B}=await J.supabase.from("wiki_folders").update({name:S.trim(),slug:S.trim().toLowerCase().replace(/\s+/g,"-")}).eq("id",b.id).select().single();if(B)throw B;n(X=>X.map(ae=>ae.id===$.id?$:ae)),x(null),_(""),qe.success("Folder updated successfully")}catch($){console.error("Error updating folder:",$),qe.error("Failed to update folder")}},U=async $=>{var B;if(confirm("Are you sure you want to delete this folder and all its contents? This action cannot be undone."))try{k(!0);const{error:X}=await J.supabase.from("wiki_folders").delete().eq("id",$);if(X)throw X;const ae=(W,K)=>W.reduce((te,re)=>re.id===K||re.parent_id===K?te:[...te,re],[]);if(n(W=>ae(W,$)),$===$||r.some(W=>W.parent_id===$&&W.id===$)){const W=(B=r.find(K=>K.id===$))==null?void 0:B.parent_id;t(W?`/account/admin/wiki/folder/${W}`:"/account/admin/wiki")}qe.success("Folder and its contents deleted successfully")}catch(X){console.error("Error deleting folder:",X),qe.error("Failed to delete folder. Please try again.")}finally{k(!1)}},G=async($,B)=>{try{if(r.some(ae=>ae.id===$)){const{error:ae}=await J.supabase.from("wiki_folders").update({parent_id:B}).eq("id",$);if(ae)throw ae;n(W=>W.map(K=>K.id===$?{...K,parent_id:B}:K))}else{const{error:ae}=await J.supabase.from("wiki_pages").update({folder_id:B}).eq("id",$);if(ae)throw ae;i(W=>W.map(K=>K.id===$?{...K,folder_id:B}:K))}qe.success("Item moved successfully")}catch(X){console.error("Error moving item:",X),qe.error("Failed to move item")}},q=$=>{m(null),v(null),t(`/account/admin/wiki/folder/${$}`)};w.useMemo(()=>{const $=new Map,B=[];r.forEach(W=>{$.set(W.id,{...W,children:[]})}),r.forEach(W=>{const K=$.get(W.id);if(K)if(W.parent_id&&$.has(W.parent_id)){const te=$.get(W.parent_id);te&&te.children.push(K)}else B.push(K)});const X=W=>[...W].sort((K,te)=>{var re,ue;return(((re=K.data)==null?void 0:re.order_index)??0)-(((ue=te.data)==null?void 0:ue.order_index)??0)}),ae=W=>X(W).map(te=>({...te,children:te.children?ae(te.children):[]}));return ae(B)},[r,e]);const Z=r.find($=>$.id===e),oe=s.find($=>$.id===g);return u.jsxs("div",{className:"flex h-screen bg-gray-100 dark:bg-gray-900",children:[u.jsxs("div",{className:"w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col",children:[u.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[u.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Wiki Manager"}),u.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400 mt-2 overflow-x-auto",children:[u.jsx("button",{onClick:()=>t("/account/admin/wiki"),className:"hover:text-blue-600 dark:hover:text-blue-400",children:"Home"}),Z&&u.jsxs(u.Fragment,{children:[u.jsx(cf,{className:"h-4 w-4 mx-1"}),u.jsx("span",{className:"font-medium text-blue-600 dark:text-blue-400",children:Z.name})]})]})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-2",children:[u.jsxs("div",{className:"space-y-2 mb-4",children:[u.jsxs("div",{className:"flex space-x-2",children:[u.jsxs(Qe,{variant:"outline",size:"sm",className:"flex-1 justify-center bg-white dark:bg-gray-700 text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>A(e),children:[u.jsx(Si,{size:14,className:"mr-2"}),"New Page"]}),u.jsxs(Qe,{variant:"outline",size:"sm",className:"flex-1 justify-center bg-white dark:bg-gray-700 text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>f(!d),children:[u.jsx(hm,{size:14,className:"mr-2"}),"New Folder"]})]}),d&&u.jsxs("div",{className:"flex space-x-2 bg-white dark:bg-gray-800 p-2 rounded border border-gray-200 dark:border-gray-700",children:[u.jsx(as,{autoFocus:!0,value:o,onChange:$=>a($.target.value),onKeyDown:$=>$.key==="Enter"&&C(),placeholder:"Folder name",className:"h-8 text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),u.jsx(Qe,{size:"sm",onClick:C,disabled:!o.trim(),className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Add"})]}),h&&u.jsxs("div",{className:"flex space-x-2 bg-white dark:bg-gray-800 p-2 rounded border border-gray-200 dark:border-gray-700",children:[u.jsx(as,{autoFocus:!0,value:l,onChange:$=>c($.target.value),onKeyDown:$=>{$.key==="Enter"&&A(e)},placeholder:"Page title",className:"h-8 text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),u.jsx(Qe,{size:"sm",onClick:()=>A(e),disabled:!l.trim(),className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Add"})]})]}),u.jsx("div",{className:"mt-2",children:N?u.jsx("div",{className:"flex justify-center py-4",children:u.jsx(Qc,{className:"h-4 w-4 animate-spin text-gray-700 dark:text-gray-300"})}):u.jsx("div",{className:"text-gray-700 dark:text-gray-300",children:u.jsx(fPe,{folders:r,pages:s,selectedFolder:e,selectedPage:g,onSelect:q,onPageSelect:$=>{m($),v($)},onDeleteFolder:U,onEditFolder:D,onDeletePage:M,onEditPage:I,onMoveItem:G})})})]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:oe?u.jsx(y7,{id:oe.id,onUpdatePage:L}):u.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-8",children:[u.jsx(fm,{className:"h-16 w-16 text-gray-400 mb-4"}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:Z?`No pages in ${Z.name}`:"No page selected"}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6",children:Z?"Create a new page in this folder using the sidebar.":"Select a page from the sidebar or create a new one."}),u.jsxs(Qe,{onClick:()=>A(e),className:"bg-blue-600 hover:bg-blue-700 text-white",children:[u.jsx(Si,{className:"h-4 w-4 mr-2"}),"New Page"]})]})}),b&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-xl w-96",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Edit Folder"}),u.jsx(as,{autoFocus:!0,value:S,onChange:$=>_($.target.value),onKeyDown:$=>$.key==="Enter"&&z(),placeholder:"Folder name",className:"mb-4"}),u.jsxs("div",{className:"flex justify-end space-x-2",children:[u.jsx(Qe,{variant:"outline",onClick:()=>{x(null),_("")},children:"Cancel"}),u.jsx(Qe,{onClick:z,disabled:!S.trim(),className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Save Changes"})]})]})})]})}const pPe=()=>u.jsx("div",{children:u.jsx("h1",{className:"text-3xl font-bold",children:"Timelines"})}),mPe={"Stage 1":{title:"Basic Information & Pre-Screening",description:"Initial qualification and basic details",auto_disqualify:!0,min_score_required:15,max_possible_score:30,questions:[{id:"reading_frequency",type:"multiple_choice",question:"How many books do you typically read per year?",options:[{text:"0-5 books",score:1},{text:"6-11 books",score:3},{text:"12-24 books",score:5},{text:"25-49 books",score:7},{text:"50+ books",score:10}],weight:.33,required:!0},{id:"genre_familiarity",type:"multiple_choice",question:"How familiar are you with [YOUR GENRE] fiction?",options:[{text:"Never read it",score:1},{text:"Read a few books",score:3},{text:"Read occasionally",score:5},{text:"Read regularly",score:7},{text:"Expert knowledge",score:10}],weight:.33,required:!0},{id:"time_commitment",type:"multiple_choice",question:"How many hours per week can you dedicate to beta reading?",options:[{text:"1-2 hours",score:2},{text:"3-5 hours",score:5},{text:"6-9 hours",score:7},{text:"10-14 hours",score:9},{text:"15+ hours",score:10}],weight:.34,required:!0}]},"Stage 2":{title:"Experience & Skills Assessment",description:"Detailed evaluation of reading and feedback experience",conditional_display:!0,min_score_required:25,max_possible_score:40,questions:[{id:"beta_experience",type:"multiple_choice",question:"How many beta reading projects have you completed?",options:[{text:"None",score:2},{text:"1 project",score:4},{text:"2-4 projects",score:6},{text:"5-9 projects",score:8},{text:"10+ projects",score:10}],weight:.25,required:!0},{id:"feedback_strengths",type:"checkbox_multiple",question:"What are your strongest areas for providing feedback? (Select all that apply)",options:[{text:"Plot structure and pacing",score:3},{text:"Character development",score:3},{text:"Dialogue authenticity",score:2},{text:"World-building consistency",score:2},{text:"Grammar and style",score:2},{text:"Emotional impact",score:2}],weight:.3,max_selections:4,required:!0},{id:"writing_background",type:"multiple_choice",question:"What best describes your writing/editing background?",options:[{text:"No writing experience",score:2},{text:"Casual writer",score:4},{text:"Serious writer (unpublished)",score:6},{text:"Published author",score:8},{text:"Professional editor/reviewer",score:10}],weight:.25,required:!0},{id:"reading_speed",type:"slider",question:"Approximately how many pages can you read per hour?",min:10,max:100,step:5,scoring_formula:"Math.min(10, Math.floor(value / 10))",weight:.2,required:!0}]},"Stage 3":{title:"Sample Feedback Analysis",description:"Evaluate analytical skills through sample text review",min_score_required:30,max_possible_score:50,questions:[{id:"excerpt_analysis",type:"textarea",question:"Read this excerpt and identify what works well (100-300 words):",sample_text:"The obsidian gates groaned, not with the weight of stone, but with the sorrow of ages. Kaelen watched from the shadows, his breath a ghost in the frigid air, as the sigil on the archway pulsed with a faint, sickly green light. It was a warning. It was an invitation.",scoring_criteria:[{aspect:"Identifies specific literary techniques",max_score:3},{aspect:"Provides concrete examples from text",max_score:3},{aspect:"Shows genre awareness",max_score:2},{aspect:"Demonstrates emotional engagement",max_score:2}],min_words:100,max_words:300,weight:.3,required:!0},{id:"problem_identification",type:"textarea",question:"What, if anything, was confusing or unclear? How could it be improved? (100-300 words)",scoring_criteria:[{aspect:"Identifies genuine readability issues",max_score:3},{aspect:"Distinguishes objective vs subjective concerns",max_score:3},{aspect:"Explains reasoning clearly",max_score:2},{aspect:"Provides constructive context",max_score:2}],min_words:100,max_words:300,weight:.3,required:!0},{id:"actionable_suggestion",type:"textarea",question:"Provide one specific, actionable suggestion to enhance this scene (60-200 words)",scoring_criteria:[{aspect:"Offers specific, implementable solution",max_score:4},{aspect:"Shows understanding of author's intent",max_score:3},{aspect:"Suggests enhancement rather than just fixes",max_score:3}],min_words:60,max_words:200,weight:.4,required:!0}]},"Stage 4":{title:"Final Assessment & Preferences",description:"Communication style and final compatibility check",min_score_required:20,max_possible_score:30,questions:[{id:"communication_style",type:"multiple_choice",question:"How would you describe your feedback style?",options:[{text:"Direct and detailed",score:8},{text:"Gentle but thorough",score:10},{text:"Focused on major issues",score:6},{text:"Encouraging with suggestions",score:9},{text:"Technical and analytical",score:7}],weight:.4,required:!0},{id:"availability_window",type:"date_range",question:"What is your availability window for this project?",scoring_criteria:[{aspect:"Matches project timeline",max_score:5},{aspect:"Provides realistic timeframe",max_score:3},{aspect:"Shows flexibility",max_score:2}],weight:.3,required:!0},{id:"motivation",type:"textarea",question:"Why do you want to be a beta reader for this project? (50-150 words)",scoring_criteria:[{aspect:"Shows genuine interest in the work",max_score:4},{aspect:"Demonstrates understanding of role",max_score:3},{aspect:"Articulates value they can provide",max_score:3}],min_words:50,max_words:150,weight:.3,required:!0}]}},gPe={overall_thresholds:{auto_accept:90,strong_candidate:75,interview_required:60}},yPe={application_stages:mPe,scoring_system:gPe},WD=yPe,vPe=()=>{const[e,t]=w.useState(0),[r,n]=w.useState({}),[s,i]=w.useState({}),[o,a]=w.useState({}),[l,c]=w.useState(!0),[d,f]=w.useState(!1),[h,p]=w.useState(""),[g,m]=w.useState(0),y=Object.values(WD.application_stages),v=y[e],b=y.length;w.useEffect(()=>{const D={};y.forEach(z=>{z.questions.forEach(U=>{U.type==="checkbox_multiple"||U.type==="date_range"?D[U.id]=[]:(U.type==="multiple_choice"||U.type==="slider"||U.type==="textarea")&&(D[U.id]="")})}),n(D)},[]);const x=D=>{const{name:z,value:U,type:G,checked:q}=D.target;n(Z=>({...Z,[z]:G==="checkbox"?q:U})),i(Z=>({...Z,[z]:void 0}))},S=D=>D.trim().split(/\s+/).filter(z=>z.length>0).length,_=()=>{let D={},z=!0;return v.questions.forEach(U=>{if(U.required){const G=r[U.id];if(!G||Array.isArray(G)&&G.length===0)D[U.id]="This field is required.",z=!1;else if(U.type==="textarea"){const q=S(G);U.min_words&&q<U.min_words&&(D[U.id]=`Minimum ${U.min_words} words required.`,z=!1),U.max_words&&q>U.max_words&&(D[U.id]=`Maximum ${U.max_words} words allowed.`,z=!1)}}U.type==="checkbox_multiple"&&U.max_selections&&r[U.id]&&r[U.id].length>U.max_selections&&(D[U.id]=`You can select a maximum of ${U.max_selections} options.`,z=!1)}),i(D),z},N=(D,z)=>{let U=0;if(D.type==="multiple_choice"&&D.options){const G=D.options.find(q=>q.text===z);U=G?G.score:0}else D.type==="checkbox_multiple"&&D.options&&Array.isArray(z)?U=z.reduce((G,q)=>{var oe;const Z=(oe=D.options)==null?void 0:oe.find($=>$.text===q);return G+(Z?Z.score:0)},0):D.type==="slider"&&z?U=Math.min(10,Math.floor(parseInt(z)/10)):D.type==="textarea"&&(U=z&&S(z)>0?5:0);return U*D.weight},k=D=>{let z=0;return D.questions.forEach(U=>{z+=N(U,r[U.id])}),Math.round(z*(D.max_possible_score/10))},C=()=>{if(_()){const D=k(v);if(a(z=>({...z,[e]:D})),v.min_score_required&&D<v.min_score_required){c(!1),f(!0);return}e<b-1?t(z=>z+1):M()}},A=()=>{e>0&&t(D=>D-1)},I=D=>{const z=WD.scoring_system.overall_thresholds;return D>=z.auto_accept?"auto_accept":D>=z.strong_candidate?"strong_candidate":D>=z.interview_required?"interview_required":"auto_reject"},M=()=>{let D=Object.values(o).reduce((z,U)=>z+U,0);m(D),p(I(D)),f(!0)},L=D=>{var G,q;const z=r[D.id],U=s[D.id];switch(D.type){case"multiple_choice":return u.jsxs("div",{className:"question-container mb-4 p-4 bg-background-light rounded-lg shadow-sm border-l-4 border-primary",children:[u.jsxs("label",{className:"block text-lg font-semibold text-textLight mb-2",children:[D.question," ",D.required&&u.jsx("span",{className:"text-errorRed",children:"*"})]}),(G=D.options)==null?void 0:G.map(Z=>u.jsxs("label",{className:"radio-option",children:[u.jsx("input",{type:"radio",name:D.id,value:Z.text,checked:z===Z.text,onChange:x}),u.jsx("span",{className:"radio-custom"}),u.jsx("span",{className:"option-text",children:Z.text})]},Z.text)),U&&u.jsx("p",{className:"text-errorRed text-sm mt-1",children:U})]},D.id);case"checkbox_multiple":return u.jsxs("div",{className:"question-container mb-4 p-4 bg-background-light rounded-lg shadow-sm border-l-4 border-primary",children:[u.jsxs("label",{className:"block text-lg font-semibold text-textLight mb-2",children:[D.question," ",D.required&&u.jsx("span",{className:"text-errorRed",children:"*"})]}),(q=D.options)==null?void 0:q.map(Z=>u.jsxs("label",{className:"checkbox-option",children:[u.jsx("input",{type:"checkbox",name:D.id,value:Z.text,checked:Array.isArray(z)&&z.includes(Z.text),onChange:x}),u.jsx("span",{className:"checkbox-custom"}),u.jsx("span",{className:"option-text",children:Z.text})]},Z.text)),D.max_selections&&u.jsxs("p",{className:"text-sm text-grayDark mt-1",children:["Select up to ",D.max_selections]}),U&&u.jsx("p",{className:"text-errorRed text-sm mt-1",children:U})]},D.id);case"textarea":return u.jsxs("div",{className:"question-container mb-4 p-4 bg-background-light rounded-lg shadow-sm border-l-4 border-primary",children:[u.jsxs("label",{htmlFor:D.id,className:"block text-lg font-semibold text-textLight mb-2",children:[D.question," ",D.required&&u.jsx("span",{className:"text-errorRed",children:"*"})]}),D.sample_text&&u.jsx("p",{className:"text-grayDark text-base mb-2 italic",children:D.sample_text}),u.jsx("textarea",{id:D.id,name:D.id,value:z||"",onChange:x,rows:6,className:"mt-1 block w-full border border-borderColorLight rounded-md shadow-sm p-2 focus:border-primary focus:ring-primary"}),D.min_words&&D.max_words&&u.jsxs("p",{className:"text-xs text-grayDark mt-1",children:["Words: ",S(z||"")," / ",D.max_words," (min: ",D.min_words,")"]}),U&&u.jsx("p",{className:"text-errorRed text-sm mt-1",children:U})]},D.id);case"slider":return u.jsxs("div",{className:"question-container mb-4 p-4 bg-background-light rounded-lg shadow-sm border-l-4 border-primary",children:[u.jsxs("label",{htmlFor:D.id,className:"block text-lg font-semibold text-textLight mb-2",children:[D.question," ",D.required&&u.jsx("span",{className:"text-errorRed",children:"*"})]}),u.jsx("input",{type:"range",id:D.id,name:D.id,min:D.min,max:D.max,step:D.step,value:z||D.min||0,onChange:x,className:"w-full h-2 bg-grayMedium rounded-lg appearance-none cursor-pointer accent-primary"}),u.jsxs("div",{className:"flex justify-between text-sm text-grayDark mt-1",children:[u.jsx("span",{children:D.min}),u.jsx("span",{children:z||D.min||0}),u.jsx("span",{children:D.max})]}),U&&u.jsx("p",{className:"text-errorRed text-sm mt-1",children:U})]},D.id);case"date_range":return u.jsxs("div",{className:"question-container mb-4 p-4 bg-background-light rounded-lg shadow-sm border-l-4 border-primary",children:[u.jsxs("label",{htmlFor:D.id,className:"block text-lg font-semibold text-textLight mb-2",children:[D.question," ",D.required&&u.jsx("span",{className:"text-errorRed",children:"*"})]}),u.jsx("p",{className:"text-base text-grayDark",children:"Date range selection not fully implemented in this example."}),U&&u.jsx("p",{className:"text-errorRed text-sm mt-1",children:U})]},D.id);default:return u.jsxs("p",{className:"text-errorRed",children:["Unknown question type: ",D.type]},D.id)}};if(d)if(l){const D={auto_accept:"Congratulations! You have been automatically accepted into our beta reader program.",strong_candidate:"Excellent! You are a strong candidate. We will contact you within 48 hours.",interview_required:"Thank you for applying. We would like to schedule a brief interview with you.",auto_reject:"Thank you for your interest. Unfortunately, you do not meet our current requirements."};return u.jsxs("div",{className:"container mx-auto p-4 text-center text-textLight rounded-lg shadow-lg my-8 card-glow",children:[u.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Application Complete"}),u.jsxs("div",{className:"p-6 rounded-lg shadow-md mb-6 card-glow",children:[u.jsxs("h2",{className:"text-3xl font-semibold mb-2",children:["Your Score: ",g]}),u.jsx("p",{className:"text-lg",children:D[h]})]}),u.jsx("button",{onClick:()=>window.location.reload(),className:"btn-glow text-white p-3 rounded-md font-semibold active:scale-95 active:shadow-inner cursor-pointer transition duration-300 ease-in-out",children:"Apply Again"})]})}else return u.jsxs("div",{className:"container mx-auto p-4 text-center text-textLight rounded-lg shadow-lg my-8 card-glow",children:[u.jsx("h1",{className:"text-4xl font-bold mb-4 text-errorRed",children:"Application Not Qualified"}),u.jsx("p",{className:"text-lg mb-4 text-grayDark",children:"Thank you for your interest in our beta reader program."}),u.jsx("p",{className:"text-md mb-6 text-grayDark",children:"Unfortunately, you do not meet the minimum requirements for this stage. We encourage you to gain more reading experience and apply again in the future."}),u.jsx("button",{onClick:()=>window.location.reload(),className:"btn-glow text-white p-3 rounded-md font-semibold active:scale-95 active:shadow-inner cursor-pointer transition duration-300 ease-in-out",children:"Start Over"})]});return u.jsxs("div",{className:"container mx-auto p-4 bg-background-light text-textLight rounded-lg shadow-lg my-8",children:[u.jsx("h1",{className:"text-4xl font-bold mb-6 text-primary text-center hero-title-glow",children:"Beta Program Application"}),u.jsx("div",{className:"w-full bg-grayMedium rounded-full h-2.5 mb-4",children:u.jsx("div",{className:"bg-primary h-2.5 rounded-full transition-all duration-500 ease-in-out",style:{width:`${(e+1)/b*100}%`}})}),u.jsxs("p",{className:"text-center text-base text-grayDark mb-6",children:["Stage ",e+1," of ",b,": ",v.title]}),u.jsxs("form",{onSubmit:D=>{D.preventDefault(),C()},className:"space-y-6",children:[u.jsxs("section",{className:"p-6 bg-background-light rounded-lg shadow-md border border-borderColorLight",children:[u.jsx("h2",{className:"text-3xl font-semibold mb-4 text-textLight",children:v.title}),u.jsx("p",{className:"text-lg text-grayDark mb-4",children:v.description}),v.questions.map(L)]}),u.jsxs("div",{className:"flex justify-between mt-6",children:[e>0&&u.jsx("button",{type:"button",onClick:A,className:"btn-glow text-white p-3 rounded-md font-semibold active:scale-95 active:shadow-inner cursor-pointer transition duration-300 ease-in-out",children:"Previous"}),u.jsx("button",{type:"submit",className:"btn-glow text-white p-3 rounded-md font-semibold active:scale-95 active:shadow-inner cursor-pointer transition duration-300 ease-in-out ml-auto",children:e===b-1?"Submit Application":"Next"})]})]})]})},bPe=({product:e,onPurchase:t,showCheckout:r=!1})=>{const[n,s]=w.useState(!1),[i,o]=w.useState(!1),[a,l]=w.useState(null),{addItem:c,isInCart:d}=J.useCart(),f=e.prices&&e.prices.length>0?{id:e.prices[0].id,unit_amount:e.prices[0].unit_amount,currency:e.prices[0].currency,interval:e.prices[0].interval||void 0,trial_days:e.prices[0].trial_days||void 0}:null,h=(b,x)=>new Intl.NumberFormat("en-US",{style:"currency",currency:x.toUpperCase()}).format(b/100),p=b=>{l(b),s(!0)},g=()=>{f&&c({id:e.id,title:e.name,price:f.unit_amount/100,currency:f.currency,format:"digital"})},m=b=>{s(!1),t&&t(e.id),console.log("Purchase successful:",b)},y=()=>{s(!1)};if(!f)return null;const v=d(e.id);return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"bg-background-light/30 backdrop-blur-sm rounded-2xl shadow-lg overflow-hidden hover:shadow-2xl transition-all duration-300 product-card-hover glass-effect border border-border/30",children:[u.jsxs("div",{className:"relative h-64 bg-gradient-to-br from-primary/30 via-secondary/30 to-accent/30",children:[u.jsx("div",{className:"w-full h-full flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx(Jc,{className:"w-16 h-16 text-secondary mx-auto mb-2"}),u.jsx("p",{className:"text-text-light/60 text-sm font-medium",children:e.name})]})}),e.active&&u.jsx("div",{className:"absolute top-4 right-4 bg-success text-white px-3 py-1 rounded-full text-xs font-medium shadow-lg",children:"Available"}),e.product_type==="bundle"&&u.jsx("div",{className:"absolute top-4 left-4 bg-secondary text-background px-3 py-1 rounded-full text-xs font-medium shadow-lg",children:"Bundle"}),(e.product_type==="chapter_pass"||e.product_type==="arc_pass")&&u.jsx("div",{className:"absolute top-4 left-4 bg-accent text-white px-3 py-1 rounded-full text-xs font-medium shadow-lg",children:"Subscription"})]}),u.jsxs("div",{className:"p-6",children:[u.jsx("h3",{className:"text-xl font-bold text-text-light mb-3 line-clamp-2",children:e.name}),u.jsx("p",{className:"text-text-light/70 text-sm mb-4 line-clamp-3 leading-relaxed",children:e.description}),u.jsxs("div",{className:"mb-6",children:[u.jsx("div",{className:"text-3xl font-bold text-secondary mb-2",children:h(f.unit_amount,f.currency)}),(e.product_type==="chapter_pass"||e.product_type==="arc_pass")&&u.jsx("div",{className:"text-text-light/70 text-sm",children:"per month"}),!(e.product_type==="chapter_pass"||e.product_type==="arc_pass")&&u.jsx("div",{className:"text-text-light/70 text-sm",children:"One-time purchase"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("button",{onClick:g,disabled:v,className:`w-full py-3 px-4 rounded-xl font-medium transition-all duration-200 flex items-center justify-center space-x-2 ${v?"bg-success text-white cursor-not-allowed":"bg-secondary text-background hover:bg-secondary-dark focus:outline-none focus:ring-2 focus:ring-secondary/50 focus:ring-offset-2 focus:ring-offset-background-light shadow-lg hover:shadow-xl"}`,children:v?u.jsxs(u.Fragment,{children:[u.jsx("span",{children:""}),u.jsx("span",{children:"Added to Cart"})]}):u.jsxs(u.Fragment,{children:[u.jsx(Si,{className:"w-5 h-5"}),u.jsx("span",{children:"Add to Cart"})]})}),u.jsxs("button",{onClick:()=>p(f),className:"w-full bg-primary text-white py-3 px-4 rounded-xl font-medium hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-primary/50 focus:ring-offset-2 focus:ring-offset-background-light transition-all duration-200 flex items-center justify-center space-x-2 shadow-lg hover:shadow-xl",children:[u.jsx(d_,{className:"w-5 h-5"}),u.jsx("span",{children:e.product_type==="chapter_pass"||e.product_type==="arc_pass"?"Start Subscription":"Buy Now"})]})]}),u.jsx("div",{className:"mt-6 pt-4 border-t border-border/30",children:u.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-text-dark",children:[u.jsxs("div",{children:[u.jsx("span",{className:"font-medium text-text-light",children:"Published:"}),u.jsx("br",{}),new Date(e.created_at).toLocaleDateString()]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-medium text-text-light",children:"Type:"}),u.jsx("br",{}),e.product_type==="bundle"?"Bundle":e.product_type==="chapter_pass"||e.product_type==="arc_pass"?"Subscription":"Single Issue"]})]})})]})]}),n&&a&&u.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-background-light rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto glass-effect border border-border/30",children:[u.jsx("div",{className:"p-6 border-b border-border/30",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-lg font-medium text-text-light",children:"Complete Purchase"}),u.jsxs("button",{onClick:()=>s(!1),className:"text-text-dark hover:text-text-light transition-colors p-1 rounded-lg hover:bg-background/30",children:[u.jsx("span",{className:"sr-only",children:"Close"}),u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]})}),u.jsx(H_,{product:{id:e.id,name:e.name,price:a.unit_amount,currency:a.currency,interval:a.interval,trial_period_days:a.trial_days,is_subscription:e.product_type==="chapter_pass"||e.product_type==="arc_pass"},onSuccess:m,onCancel:y})]})})]})},v7=({item:e,isActive:t=!1,level:r=0,onClick:n})=>{const{title:s,slug:i,type:o,children:a=[]}=e,l=a&&a.length>0,c=`${r*16+8}px`,d=f=>{f.preventDefault(),n&&n(i)};return u.jsxs("div",{className:`wiki-nav-item ${t?"active":""}`,style:{paddingLeft:c},children:[u.jsxs(Je.Link,{to:`/wiki/${i}`,className:`nav-link ${o}`,onClick:d,children:[s,l&&u.jsx("span",{className:"nav-toggle",children:t?"":""})]}),l&&t&&u.jsx("div",{className:"nav-children",children:a.map((f,h)=>u.jsx(v7,{item:f,level:r+1,isActive:t,onClick:n},f.slug))})]})},xPe=({count:e=4,viewMode:t="grid",className:r})=>{const n=Array.from({length:e},(s,i)=>u.jsxs("div",{className:`${t==="grid"?"bg-background-light/30 backdrop-blur-sm rounded-2xl border border-border/30 overflow-hidden":"bg-background-light/30 backdrop-blur-sm rounded-2xl p-6 border border-border/30"}`,children:[u.jsx("div",{className:"h-64 bg-gradient-to-r from-border/20 to-border/40 skeleton"}),u.jsxs("div",{className:"p-6",children:[u.jsx("div",{className:"h-6 bg-border/20 rounded skeleton mb-3"}),u.jsxs("div",{className:"space-y-2 mb-4",children:[u.jsx("div",{className:"h-4 bg-border/20 rounded skeleton"}),u.jsx("div",{className:"h-4 bg-border/20 rounded skeleton w-3/4"}),u.jsx("div",{className:"h-4 bg-border/20 rounded skeleton w-1/2"})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("div",{className:"h-4 bg-border/20 rounded skeleton w-24 mb-2"}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("div",{className:"h-6 bg-border/20 rounded-full skeleton w-16"}),u.jsx("div",{className:"h-6 bg-border/20 rounded-full skeleton w-20"})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("div",{className:"h-8 bg-border/20 rounded skeleton w-20 mb-2"}),u.jsx("div",{className:"h-4 bg-border/20 rounded skeleton w-32"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:"h-12 bg-border/20 rounded-xl skeleton"}),u.jsx("div",{className:"h-10 bg-border/20 rounded-xl skeleton"})]})]})]},i));return u.jsx("div",{className:Xt(t==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4",r),children:n})};function wPe(){return{toast:({title:t,description:r,variant:n})=>{n==="destructive"?Bt.error(t,{id:t,duration:5e3,style:{background:"#fee2e2",color:"#ef4444",border:"1px solid #fca5a5"},iconTheme:{primary:"#ef4444",secondary:"#fee2e2"}}):Bt.success(t,{id:t,duration:3e3,style:{background:"#dcfce7",color:"#22c55e",border:"1px solid #86efac"},iconTheme:{primary:"#22c55e",secondary:"#dcfce7"}})}}}const _Pe={default:"bg-primary text-primary-foreground hover:bg-primary/80 border-transparent",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 border-transparent",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/80 border-transparent",outline:"text-foreground border border-input hover:bg-accent hover:text-accent-foreground",success:"bg-green-500 text-white hover:bg-green-600 border-transparent"},b7=j.forwardRef(({className:e,variant:t="default",...r},n)=>u.jsx("div",{ref:n,className:J.cn("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",_Pe[t],e),...r}));b7.displayName="Badge";exports.AccountPage=eW;exports.AchievementsTab=zR;exports.AdminLayout=rW;exports.AdminProtectedRoute=nW;exports.AdminStorePage=qee;exports.AdminUploadPage=nPe;exports.Alert=fy;exports.AlertDescription=gf;exports.AlertDialog=nR;exports.AlertDialogAction=t_;exports.AlertDialogCancel=r_;exports.AlertDialogContent=Z1;exports.AlertDialogDescription=e_;exports.AlertDialogFooter=J1;exports.AlertDialogHeader=X1;exports.AlertDialogOverlay=G1;exports.AlertDialogPortal=sR;exports.AlertDialogTitle=Q1;exports.AlertDialogTrigger=l9;exports.AlertTitle=hy;exports.AlertWithIcon=MM;exports.Badge=b7;exports.BetaApplicationPage=vPe;exports.BetaApplicationStatusPage=Poe;exports.BetaPortalPage=Aoe;exports.BlogPage=Coe;exports.Button=Qe;exports.Card=xc;exports.CardContent=Sc;exports.CardDescription=WM;exports.CardFooter=KM;exports.CardHeader=wc;exports.CardTitle=_c;exports.ChapterUploadPage=lPe;exports.CharactersManager=ZAe;exports.CharactersPage=Soe;exports.CheckoutPage=Doe;exports.ConfirmDialog=c9;exports.DashboardPage=wwe;exports.Dialog=BM;exports.DialogClose=Oee;exports.DialogContent=q_;exports.DialogDescription=VM;exports.DialogFooter=qM;exports.DialogHeader=V_;exports.DialogOverlay=U_;exports.DialogPortal=UM;exports.DialogTitle=W_;exports.DialogTrigger=zM;exports.GlossaryPage=joe;exports.HomePage=tK;exports.HomepageContentManager=_1e;exports.ImageUpload=SV;exports.Input=as;exports.Label=$n;exports.Layout=kW;exports.LibraryPage=Gee;exports.LoadingSkeleton=xPe;exports.LocationsPage=Eoe;exports.LoginPage=EV;exports.NotFoundPage=Toe;exports.OverviewTab=LR;exports.PagesManager=VAe;exports.PostsManager=_Ce;exports.PreferencesTab=UR;exports.ProductCard=bPe;exports.ProfileTab=FR;exports.ReadingTab=BR;exports.ReviewsPage=Noe;exports.SecurityTab=qR;exports.Select=kd;exports.SelectContent=bc;exports.SelectGroup=wee;exports.SelectItem=Cs;exports.SelectLabel=TM;exports.SelectSeparator=AM;exports.SelectTrigger=vc;exports.SelectValue=Cd;exports.StarsBackground=iPe;exports.SubscriptionCheckout=H_;exports.SubscriptionPage=yoe;exports.SubscriptionSuccessPage=voe;exports.Switch=mf;exports.Table=F_;exports.TableBody=z_;exports.TableCaption=FM;exports.TableCell=Yo;exports.TableFooter=LM;exports.TableHead=Ka;exports.TableHeader=B_;exports.TableRow=Vd;exports.Tabs=uI;exports.TabsContent=gc;exports.TabsList=h_;exports.TabsTrigger=mc;exports.Textarea=ry;exports.TimelinesPage=pPe;exports.UsersManagement=sPe;exports.WikiEditor=y7;exports.WikiManager=hPe;exports.WikiNavItem=v7;exports.WikiViewer=woe;exports.WorkReaderPage=Ooe;exports.WorksManager=rPe;exports.buttonVariants=JD;exports.cn=Xt;exports.jsxRuntimeExports=u;exports.useToast=wPe;
