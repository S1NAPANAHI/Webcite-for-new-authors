@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;800&family=Crimson+Text:ital,wght@0,400;0,600;1,400&family=Noto+Sans+Avestan&family=Open+Sans:wght@300;400;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* =============================================================================
   CLEAN SCI-FI BACKGROUND SYSTEM - COMPLETE REDESIGN
   ============================================================================= */

/* Root Variables */
:root {
  /* Light Mode Colors */
  --bg-light: #fefefe;
  --text-light: #2d2d2d;
  --accent-gold-light: #B8860B;
  --accent-silver-light: #9B9B9B;
  
  /* Dark Mode Colors */
  --bg-dark: #0a0a0a;
  --text-dark: #e0e0e0;
  --accent-gold-dark: #FFD700;
  --accent-silver-dark: #C0C0C0;
  --accent-red: #DC143C;
  --accent-purple: #6A5ACD;
  
  /* Default theme variables */
  --bg-primary: var(--bg-light);
  --text-primary: var(--text-light);
  --accent-primary: var(--accent-gold-light);
  --accent-secondary: var(--accent-silver-light);
}

/* System Dark Mode Detection */
@media (prefers-color-scheme: dark) {
  :root {
    --bg-primary: var(--bg-dark);
    --text-primary: var(--text-dark);
    --accent-primary: var(--accent-gold-dark);
    --accent-secondary: var(--accent-silver-dark);
  }
}

/* Manual Theme Overrides */
:root[data-theme="light"] {
  --bg-primary: var(--bg-light);
  --text-primary: var(--text-light);
  --accent-primary: var(--accent-gold-light);
  --accent-secondary: var(--accent-silver-light);
}

:root[data-theme="dark"] {
  --bg-primary: var(--bg-dark);
  --text-primary: var(--text-dark);
  --accent-primary: var(--accent-gold-dark);
  --accent-secondary: var(--accent-silver-dark);
}

/* =============================================================================
   BODY AND BACKGROUND SYSTEM
   ============================================================================= */

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  height: 100%;
}

body {
  margin: 0;
  padding: 0;
  min-height: 100vh;
  font-family: 'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  color: var(--text-primary);
  transition: all 0.6s ease;
  overflow-x: hidden;
}

/* LIGHT MODE BACKGROUND */
body {
  background:
    /* Subtle starfield pattern */
    radial-gradient(circle at 2px 2px, rgba(184, 134, 11, 0.15) 1px, transparent 0),
    /* Geometric overlay */
    repeating-linear-gradient(
      45deg,
      transparent,
      transparent 50px,
      rgba(184, 134, 11, 0.03) 50px,
      rgba(184, 134, 11, 0.03) 52px
    ),
    /* Main atmospheric gradient */
    linear-gradient(
      135deg,
      #fefefe 0%,
      #f8f8f6 25%,
      #f5f5f0 50%,
      #f0f0ea 75%,
      #eaeae0 100%
    );
  background-size: 
    20px 20px,
    100px 100px,
    100% 100%;
  background-attachment: fixed;
}

/* DARK MODE BACKGROUND */
@media (prefers-color-scheme: dark) {
  body {
    background:
      /* Enhanced starfield with colors */
      radial-gradient(circle at 3px 3px, rgba(255, 215, 0, 0.4) 1px, transparent 0),
      radial-gradient(circle at 15px 8px, rgba(220, 20, 60, 0.2) 0.5px, transparent 0),
      radial-gradient(circle at 25px 20px, rgba(106, 90, 205, 0.3) 0.8px, transparent 0),
      /* Hexagonal sci-fi pattern */
      repeating-linear-gradient(
        60deg,
        transparent,
        transparent 30px,
        rgba(106, 90, 205, 0.08) 30px,
        rgba(106, 90, 205, 0.08) 32px
      ),
      /* Main cosmic gradient */
      linear-gradient(
        135deg,
        #0a0a0a 0%,
        #1a1a1a 20%,
        #2a1810 40%,
        #1a0a1a 60%,
        #0f0f0f 80%,
        #000000 100%
      );
    background-size: 
      30px 30px,
      25px 25px,
      40px 40px,
      80px 80px,
      100% 100%;
  }
}

/* Manual dark theme override */
:root[data-theme="dark"] body {
  background:
    radial-gradient(circle at 3px 3px, rgba(255, 215, 0, 0.4) 1px, transparent 0),
    radial-gradient(circle at 15px 8px, rgba(220, 20, 60, 0.2) 0.5px, transparent 0),
    radial-gradient(circle at 25px 20px, rgba(106, 90, 205, 0.3) 0.8px, transparent 0),
    repeating-linear-gradient(
      60deg,
      transparent,
      transparent 30px,
      rgba(106, 90, 205, 0.08) 30px,
      rgba(106, 90, 205, 0.08) 32px
    ),
    linear-gradient(
      135deg,
      #0a0a0a 0%,
      #1a1a1a 20%,
      #2a1810 40%,
      #1a0a1a 60%,
      #0f0f0f 80%,
      #000000 100%
    );
  background-size: 
    30px 30px,
    25px 25px,
    40px 40px,
    80px 80px,
    100% 100%;
}

/* Manual light theme override */
:root[data-theme="light"] body {
  background:
    radial-gradient(circle at 2px 2px, rgba(184, 134, 11, 0.15) 1px, transparent 0),
    repeating-linear-gradient(
      45deg,
      transparent,
      transparent 50px,
      rgba(184, 134, 11, 0.03) 50px,
      rgba(184, 134, 11, 0.03) 52px
    ),
    linear-gradient(
      135deg,
      #fefefe 0%,
      #f8f8f6 25%,
      #f5f5f0 50%,
      #f0f0ea 75%,
      #eaeae0 100%
    );
  background-size: 
    20px 20px,
    100px 100px,
    100% 100%;
}

#root {
  min-height: 100vh;
  position: relative;
}

/* =============================================================================
   TAILWIND THEME INTEGRATION
   ============================================================================= */

@layer base {
  :root {
    /* Light mode variables */
    --background: 254 254 254; /* #fefefe */
    --foreground: 45 45 45; /* #2d2d2d */
    --card: 255 255 255;
    --card-foreground: 45 45 45;
    --popover: 255 255 255;
    --popover-foreground: 45 45 45;
    --primary: 184 134 11; /* Gold */
    --primary-foreground: 255 255 255;
    --secondary: 248 248 246;
    --secondary-foreground: 45 45 45;
    --muted: 245 245 240;
    --muted-foreground: 115 115 115;
    --accent: 184 134 11;
    --accent-foreground: 255 255 255;
    --destructive: 220 20 60;
    --destructive-foreground: 255 255 255;
    --border: 228 228 231;
    --input: 228 228 231;
    --ring: 184 134 11;
    --radius: 0.5rem;
  }

  .dark {
    /* Dark mode variables */
    --background: 10 10 10; /* #0a0a0a */
    --foreground: 224 224 224; /* #e0e0e0 */
    --card: 26 26 26;
    --card-foreground: 224 224 224;
    --popover: 26 26 26;
    --popover-foreground: 224 224 224;
    --primary: 255 215 0; /* Gold */
    --primary-foreground: 10 10 10;
    --secondary: 42 24 16;
    --secondary-foreground: 224 224 224;
    --muted: 64 64 64;
    --muted-foreground: 161 161 170;
    --accent: 255 215 0;
    --accent-foreground: 10 10 10;
    --destructive: 220 20 60;
    --destructive-foreground: 255 255 255;
    --border: 64 64 64;
    --input: 64 64 64;
    --ring: 255 215 0;
  }

  @media (prefers-color-scheme: dark) {
    :root {
      --background: 10 10 10;
      --foreground: 224 224 224;
      --card: 26 26 26;
      --card-foreground: 224 224 224;
      --popover: 26 26 26;
      --popover-foreground: 224 224 224;
      --primary: 255 215 0;
      --primary-foreground: 10 10 10;
      --secondary: 42 24 16;
      --secondary-foreground: 224 224 224;
      --muted: 64 64 64;
      --muted-foreground: 161 161 170;
      --accent: 255 215 0;
      --accent-foreground: 10 10 10;
      --destructive: 220 20 60;
      --destructive-foreground: 255 255 255;
      --border: 64 64 64;
      --input: 64 64 64;
      --ring: 255 215 0;
    }
  }

  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
  }
}

/* =============================================================================
   UI COMPONENTS AND EFFECTS
   ============================================================================= */

/* Glass effect for cards and overlays */
.glass-effect {
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
}

@media (prefers-color-scheme: dark) {
  .glass-effect {
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
  }
}

:root[data-theme="dark"] .glass-effect {
  background: rgba(0, 0, 0, 0.3);
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
}

/* Enhanced card styling */
.card-elegant {
  @apply glass-effect;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.card-elegant:hover {
  transform: translateY(-4px);
  box-shadow: 0 16px 48px rgba(0, 0, 0, 0.15);
}

@media (prefers-color-scheme: dark) {
  .card-elegant:hover {
    box-shadow: 
      0 16px 48px rgba(0, 0, 0, 0.6),
      0 0 32px rgba(255, 215, 0, 0.1);
  }
}

/* Theme toggle button */
.theme-toggle {
  position: fixed;
  top: 1rem;
  right: 1rem;
  z-index: 1000;
  @apply glass-effect;
  padding: 0.75rem 1.5rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  color: var(--accent-primary);
}

.theme-toggle:hover {
  transform: translateY(-2px);
  box-shadow: 0 12px 24px rgba(0, 0, 0, 0.2);
}

@media (prefers-color-scheme: dark) {
  .theme-toggle:hover {
    box-shadow: 
      0 12px 24px rgba(0, 0, 0, 0.6),
      0 0 20px rgba(255, 215, 0, 0.2);
  }
}

/* Typography enhancements */
.prose h1,
.prose h2,
.prose h3,
.prose h4,
.prose h5,
.prose h6 {
  font-family: 'Cinzel', serif;
  color: var(--accent-primary);
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
}

.prose blockquote {
  @apply glass-effect;
  border-left: 4px solid var(--accent-primary);
  padding: 1.5rem;
  margin: 2rem 0;
  font-style: italic;
  color: var(--text-primary);
}

/* Scrollbar styling */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.1);
}

::-webkit-scrollbar-thumb {
  background: var(--accent-primary);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--accent-secondary);
}

/* Focus styles */
input:focus,
select:focus,
button:focus {
  outline: none;
  box-shadow: 0 0 0 3px rgba(184, 134, 11, 0.3);
}

@media (prefers-color-scheme: dark) {
  input:focus,
  select:focus,
  button:focus {
    box-shadow: 0 0 0 3px rgba(255, 215, 0, 0.3);
  }
}

/* =============================================================================
   RESPONSIVE DESIGN AND PERFORMANCE
   ============================================================================= */

/* Mobile optimizations */
@media (max-width: 768px) {
  body {
    background-size: 
      15px 15px,
      20px 20px,
      30px 30px,
      60px 60px,
      100% 100%;
  }
  
  .theme-toggle {
    padding: 0.5rem 1rem;
    font-size: 0.875rem;
  }
  
  .glass-effect {
    backdrop-filter: blur(5px);
  }
}

/* Reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
  
  body {
    background-attachment: scroll;
  }
}

/* High contrast mode */
@media (prefers-contrast: high) {
  .glass-effect {
    background: rgba(255, 255, 255, 0.9) !important;
    backdrop-filter: none !important;
    border: 2px solid #000 !important;
  }
  
  @media (prefers-color-scheme: dark) {
    .glass-effect {
      background: rgba(0, 0, 0, 0.9) !important;
      border: 2px solid #fff !important;
    }
  }
}

/* Print styles */
@media print {
  body {
    background: white !important;
    background-image: none !important;
    color: black !important;
  }
  
  .theme-toggle {
    display: none !important;
  }
  
  .glass-effect {
    background: white !important;
    backdrop-filter: none !important;
    border: 1px solid #ccc !important;
    box-shadow: none !important;
  }
}

/* =============================================================================
   UTILITY CLASSES
   ============================================================================= */

.transition-all {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.fade-in-up {
  animation: fadeInUp 0.6s ease-out;
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.skeleton {
  background: linear-gradient(
    90deg,
    rgba(255, 255, 255, 0.1) 25%,
    rgba(255, 255, 255, 0.2) 50%,
    rgba(255, 255, 255, 0.1) 75%
  );
  background-size: 200px 100%;
  animation: shimmer 1.5s infinite;
}

@keyframes shimmer {
  0% {
    background-position: -200px 0;
  }
  100% {
    background-position: calc(200px + 100%) 0;
  }
}

/* Text utilities */
.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.line-clamp-3 {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}