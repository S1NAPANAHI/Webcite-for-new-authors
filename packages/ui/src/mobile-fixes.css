/* ðŸš€ MOBILE LAYOUT FIXES FOR ZOROASTERVERSE
 * Complete mobile responsiveness overhaul
 * Fixes cramped layouts, overlapping elements, and poor mobile UX
 */

/* ===== 1. GLOBAL MOBILE FOUNDATIONS ===== */

/* Viewport and base mobile settings */
@media (max-width: 768px) {
  * {
    box-sizing: border-box;
  }

  html {
    -webkit-text-size-adjust: 100%;
    -webkit-tap-highlight-color: transparent;
  }

  body {
    margin: 0;
    padding: 0;
    overflow-x: hidden; /* Prevent horizontal scroll */
    font-size: 16px; /* Prevent zoom on input focus */
  }

  /* Safe area insets for notched phones */
  .safe-area {
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
  }
}

/* ===== 2. CONTAINER & LAYOUT FIXES ===== */

@media (max-width: 768px) {
  /* Fix container overflow and cramped layouts */
  .container,
  .max-w-7xl,
  .max-w-6xl,
  .max-w-5xl,
  .max-w-4xl {
    max-width: 100% !important;
    padding-left: 1rem !important;
    padding-right: 1rem !important;
    margin-left: auto;
    margin-right: auto;
  }

  /* Fix grid layouts that break on mobile */
  .grid-cols-2 {
    grid-template-columns: repeat(1, minmax(0, 1fr)) !important;
  }

  .grid-cols-3 {
    grid-template-columns: repeat(1, minmax(0, 1fr)) !important;
  }

  .grid-cols-4 {
    grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
    gap: 1rem !important;
  }

  .grid-cols-5,
  .grid-cols-6 {
    grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
    gap: 1rem !important;
  }

  /* Fix flex layouts */
  .flex-row {
    flex-direction: column !important;
    gap: 1rem !important;
  }

  .space-x-4 > * + * {
    margin-left: 0 !important;
    margin-top: 1rem !important;
  }

  .space-x-6 > * + * {
    margin-left: 0 !important;
    margin-top: 1.5rem !important;
  }
}

/* ===== 3. HOMEPAGE MOBILE FIXES ===== */

@media (max-width: 768px) {
  /* Hero section mobile optimization */
  .zr-hero,
  [class*="hero"] {
    padding: 2rem 1rem !important;
    min-height: auto !important;
    flex-direction: column !important;
  }

  /* Hero content mobile */
  .zr-hero-content,
  [class*="heroContent"] {
    text-align: center !important;
    margin-bottom: 2rem !important;
  }

  /* Hero title mobile */
  .zr-title,
  [class*="title"] {
    font-size: 2rem !important;
    line-height: 1.2 !important;
    margin-bottom: 1rem !important;
  }

  /* Hero quote and intro mobile */
  .zr-quote,
  .zr-intro,
  [class*="quote"],
  [class*="intro"] {
    font-size: 1.1rem !important;
    line-height: 1.5 !important;
    padding: 0 !important;
    margin-bottom: 1.5rem !important;
  }

  /* CTA button mobile */
  .zr-cta,
  [class*="cta"] {
    display: block !important;
    width: 100% !important;
    max-width: 300px !important;
    margin: 0 auto !important;
    padding: 1rem 2rem !important;
    font-size: 1.1rem !important;
    text-align: center !important;
    min-height: 48px !important;
  }

  /* Hero art/video mobile */
  .zr-hero-art,
  [class*="heroArt"] {
    width: 100% !important;
    max-width: 400px !important;
    margin: 0 auto !important;
    aspect-ratio: 16/9 !important;
  }

  /* Video elements mobile */
  .video-fire,
  [class*="videoFire"] {
    width: 100% !important;
    height: auto !important;
    object-fit: cover !important;
  }
}

/* ===== 4. CARDS & CONTENT BLOCKS MOBILE FIXES ===== */

@media (max-width: 768px) {
  /* Fix card layouts */
  .parchment-card,
  [class*="parchmentCard"],
  .card,
  [class*="card"] {
    margin-bottom: 1.5rem !important;
    padding: 1.5rem 1rem !important;
    border-radius: 12px !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1) !important;
  }

  /* Statistics cards mobile */
  .stats-grid,
  .grid.grid-cols-4,
  [class*="statsGrid"] {
    grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
    gap: 1rem !important;
  }

  .stat-card,
  [class*="statCard"] {
    padding: 1.5rem 1rem !important;
    text-align: center !important;
  }

  .stat-value,
  [class*="statValue"] {
    font-size: 2rem !important;
    line-height: 1.1 !important;
    margin-bottom: 0.5rem !important;
  }

  .stat-label,
  [class*="statLabel"] {
    font-size: 0.9rem !important;
    line-height: 1.3 !important;
  }
}

/* ===== 5. ADMIN PANEL MOBILE FIXES ===== */

@media (max-width: 768px) {
  /* Admin layout mobile fixes */
  .admin-layout {
    grid-template-columns: 1fr !important;
    padding: 0 !important;
  }

  /* Admin sidebar mobile (already overlay, but ensure it's mobile-friendly) */
  .admin-sidebar {
    width: 90% !important;
    max-width: 320px !important;
  }

  /* Admin content area mobile */
  .admin-content {
    padding: 1rem !important;
    margin: 0 !important;
    width: 100% !important;
    overflow-x: hidden !important;
  }

  /* Admin tables mobile - make them scrollable */
  .admin-table-container,
  table {
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch !important;
  }

  table {
    min-width: 600px !important; /* Ensure table doesn't get too cramped */
  }

  /* Admin form elements mobile */
  .admin-form {
    padding: 1rem !important;
  }

  .admin-form .form-grid {
    grid-template-columns: 1fr !important;
    gap: 1rem !important;
  }

  /* Admin buttons mobile */
  .admin-buttons {
    flex-direction: column !important;
    gap: 0.75rem !important;
    width: 100% !important;
  }

  .admin-buttons button,
  .admin-buttons a {
    width: 100% !important;
    min-height: 48px !important;
    padding: 0.75rem 1rem !important;
  }
}

/* ===== 6. FORM & INPUT MOBILE FIXES ===== */

@media (max-width: 768px) {
  /* Form containers */
  .form-container,
  form {
    padding: 1rem !important;
    margin: 0 !important;
  }

  /* Input elements - prevent zoom and improve usability */
  input,
  select,
  textarea {
    font-size: 16px !important; /* Prevents zoom on iOS */
    min-height: 48px !important;
    padding: 0.75rem 1rem !important;
    width: 100% !important;
    border-radius: 8px !important;
    border: 2px solid var(--border) !important;
    background: var(--background) !important;
    color: var(--foreground) !important;
  }

  textarea {
    min-height: 120px !important;
    resize: vertical !important;
  }

  /* Form buttons */
  .form-button,
  .btn,
  button {
    min-height: 48px !important;
    min-width: 48px !important;
    padding: 0.75rem 1.5rem !important;
    font-size: 1rem !important;
    border-radius: 8px !important;
    touch-action: manipulation;
  }

  /* Submit buttons */
  input[type="submit"],
  button[type="submit"],
  .submit-button {
    width: 100% !important;
    margin-top: 1rem !important;
  }

  /* Form groups */
  .form-group,
  .form-field {
    margin-bottom: 1.5rem !important;
  }

  .form-label {
    display: block !important;
    margin-bottom: 0.5rem !important;
    font-weight: 600 !important;
  }
}

/* ===== 7. NAVIGATION & MENU MOBILE FIXES ===== */

@media (max-width: 768px) {
  /* Ensure navbar doesn't break layout */
  .navbar,
  nav {
    position: sticky !important;
    top: 0 !important;
    z-index: 1000 !important;
    width: 100% !important;
  }

  /* Mobile menu fixes */
  .mobile-menu {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    background: var(--background) !important;
    z-index: 9999 !important;
    overflow-y: auto !important;
    -webkit-overflow-scrolling: touch !important;
  }

  /* Mobile menu items */
  .mobile-menu-item {
    min-height: 60px !important;
    padding: 1rem 1.5rem !important;
    border-bottom: 1px solid var(--border) !important;
    display: flex !important;
    align-items: center !important;
  }

  /* Dropdown menus on mobile */
  .dropdown-mobile {
    position: static !important;
    width: 100% !important;
    box-shadow: none !important;
    border: none !important;
    background: var(--muted) !important;
  }

  .dropdown-mobile-item {
    padding: 1rem 2rem !important;
    border-bottom: 1px solid var(--border) !important;
  }
}

/* ===== 8. CONTENT & TEXT MOBILE FIXES ===== */

@media (max-width: 768px) {
  /* Section spacing */
  .section,
  section {
    padding: 2rem 1rem !important;
    margin-bottom: 1rem !important;
  }

  /* Headings mobile */
  h1 {
    font-size: 2rem !important;
    line-height: 1.2 !important;
    margin-bottom: 1rem !important;
  }

  h2 {
    font-size: 1.75rem !important;
    line-height: 1.2 !important;
    margin-bottom: 1rem !important;
  }

  h3 {
    font-size: 1.5rem !important;
    line-height: 1.3 !important;
    margin-bottom: 0.75rem !important;
  }

  h4, h5, h6 {
    font-size: 1.25rem !important;
    line-height: 1.3 !important;
    margin-bottom: 0.75rem !important;
  }

  /* Paragraph and text mobile */
  p {
    font-size: 1rem !important;
    line-height: 1.6 !important;
    margin-bottom: 1rem !important;
  }

  /* Lists mobile */
  ul, ol {
    padding-left: 1.5rem !important;
    margin-bottom: 1rem !important;
  }

  li {
    margin-bottom: 0.5rem !important;
    line-height: 1.5 !important;
  }
}

/* ===== 9. INTERACTIVE ELEMENTS MOBILE FIXES ===== */

@media (max-width: 768px) {
  /* Touch-friendly buttons */
  .touch-target,
  button,
  a[role="button"],
  .button {
    min-height: 48px !important;
    min-width: 48px !important;
    touch-action: manipulation;
    -webkit-user-select: none;
    user-select: none;
  }

  /* Link spacing */
  a {
    padding: 0.25rem !important;
    margin: 0.125rem !important;
  }

  /* Icon buttons mobile */
  .icon-button {
    width: 48px !important;
    height: 48px !important;
    padding: 0.75rem !important;
  }

  /* Toggle switches mobile */
  .switch,
  .toggle {
    min-width: 60px !important;
    min-height: 32px !important;
  }
}

/* ===== 10. MODAL & OVERLAY MOBILE FIXES ===== */

@media (max-width: 768px) {
  /* Modal mobile */
  .modal,
  .dialog,
  .overlay-content {
    width: 95% !important;
    max-width: 95% !important;
    max-height: 90vh !important;
    margin: 5vh auto !important;
    padding: 1.5rem 1rem !important;
    border-radius: 16px !important;
    overflow-y: auto !important;
    -webkit-overflow-scrolling: touch !important;
  }

  /* Modal headers */
  .modal-header {
    padding-bottom: 1rem !important;
    border-bottom: 1px solid var(--border) !important;
    margin-bottom: 1rem !important;
  }

  /* Modal footer */
  .modal-footer {
    padding-top: 1rem !important;
    border-top: 1px solid var(--border) !important;
    margin-top: 1rem !important;
    flex-direction: column !important;
    gap: 0.75rem !important;
  }

  .modal-footer button {
    width: 100% !important;
  }
}

/* ===== 11. TABLE MOBILE FIXES ===== */

@media (max-width: 768px) {
  /* Make tables horizontally scrollable */
  .table-container {
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch !important;
    margin: 1rem -1rem !important;
    padding: 0 1rem !important;
  }

  table {
    min-width: 600px !important;
    font-size: 0.875rem !important;
  }

  th, td {
    padding: 0.75rem 0.5rem !important;
    white-space: nowrap !important;
  }

  /* Alternative: Convert tables to cards on mobile */
  .table-mobile-cards {
    display: none !important;
  }

  @supports (display: grid) {
    .table-mobile-cards {
      display: block !important;
    }

    .table-mobile-cards table {
      display: none !important;
    }

    .mobile-card {
      display: block !important;
      background: var(--card) !important;
      border: 1px solid var(--border) !important;
      border-radius: 8px !important;
      padding: 1rem !important;
      margin-bottom: 1rem !important;
    }

    .mobile-card-header {
      font-weight: 600 !important;
      margin-bottom: 0.5rem !important;
      padding-bottom: 0.5rem !important;
      border-bottom: 1px solid var(--border) !important;
    }

    .mobile-card-row {
      display: flex !important;
      justify-content: space-between !important;
      padding: 0.25rem 0 !important;
    }

    .mobile-card-label {
      font-weight: 600 !important;
      color: var(--muted-foreground) !important;
    }

    .mobile-card-value {
      text-align: right !important;
    }
  }
}

/* ===== 12. PROPHECY WHEEL MOBILE FIXES ===== */

@media (max-width: 768px) {
  .prophecy-mask,
  [class*="prophecyMask"] {
    width: 100% !important;
    max-width: 350px !important;
    margin: 0 auto !important;
    height: 200px !important; /* Reduce height for mobile */
  }

  .prophecy-item,
  [class*="prophecyItem"] {
    padding: 1rem !important;
    font-size: 1rem !important;
    line-height: 1.4 !important;
    text-align: center !important;
  }

  .english-text,
  [class*="englishText"] {
    font-size: 0.95rem !important;
    line-height: 1.5 !important;
  }

  .spins-indicator,
  [class*="spinsIndicator"] {
    bottom: 1rem !important;
    left: 50% !important;
    transform: translateX(-50%) !important;
  }
}

/* ===== 13. BLOG & CONTENT MOBILE FIXES ===== */

@media (max-width: 768px) {
  /* Blog post cards */
  .blog-card,
  .post-card {
    margin-bottom: 1.5rem !important;
    padding: 1rem !important;
  }

  .blog-title,
  .post-title {
    font-size: 1.25rem !important;
    line-height: 1.3 !important;
    margin-bottom: 0.75rem !important;
  }

  .blog-excerpt,
  .post-excerpt {
    font-size: 0.95rem !important;
    line-height: 1.5 !important;
    margin-bottom: 1rem !important;
  }

  .blog-meta,
  .post-meta {
    font-size: 0.875rem !important;
    flex-wrap: wrap !important;
    gap: 0.5rem !important;
  }

  /* Reading experience mobile */
  .prose {
    font-size: 1.1rem !important;
    line-height: 1.7 !important;
    padding: 0 1rem !important;
  }

  .prose h1, .prose h2, .prose h3 {
    margin-top: 2rem !important;
    margin-bottom: 1rem !important;
  }

  .prose p {
    margin-bottom: 1.25rem !important;
  }

  .prose img {
    width: 100% !important;
    height: auto !important;
    border-radius: 8px !important;
    margin: 1.5rem 0 !important;
  }
}

/* ===== 14. LIBRARY & READER MOBILE FIXES ===== */

@media (max-width: 768px) {
  /* Library grid mobile */
  .library-grid {
    grid-template-columns: 1fr !important;
    gap: 1rem !important;
    padding: 1rem !important;
  }

  /* Library cards mobile */
  .library-card {
    display: flex !important;
    flex-direction: column !important;
    padding: 1rem !important;
    margin-bottom: 1rem !important;
  }

  .library-card-image {
    width: 100% !important;
    height: 200px !important;
    object-fit: cover !important;
    border-radius: 8px !important;
    margin-bottom: 1rem !important;
  }

  .library-card-content {
    flex: 1 !important;
  }

  .library-card-title {
    font-size: 1.25rem !important;
    margin-bottom: 0.5rem !important;
  }

  .library-card-description {
    font-size: 0.95rem !important;
    line-height: 1.5 !important;
    margin-bottom: 1rem !important;
  }

  /* Reader mobile */
  .reader-container {
    padding: 0 !important;
  }

  .reader-content {
    padding: 2rem 1rem !important;
    max-width: 100% !important;
  }

  .reader-controls {
    position: fixed !important;
    bottom: 0 !important;
    left: 0 !important;
    right: 0 !important;
    background: var(--background) !important;
    border-top: 1px solid var(--border) !important;
    padding: 1rem !important;
    z-index: 1000 !important;
  }

  .reader-controls button {
    flex: 1 !important;
    margin: 0 0.25rem !important;
  }
}

/* ===== 15. SEARCH & FILTER MOBILE FIXES ===== */

@media (max-width: 768px) {
  /* Search bars mobile */
  .search-container {
    position: relative !important;
    width: 100% !important;
    margin-bottom: 1rem !important;
  }

  .search-input {
    width: 100% !important;
    padding-right: 3rem !important;
  }

  .search-button {
    position: absolute !important;
    right: 0.5rem !important;
    top: 50% !important;
    transform: translateY(-50%) !important;
    width: 40px !important;
    height: 40px !important;
  }

  /* Filter controls mobile */
  .filters-container {
    flex-direction: column !important;
    gap: 1rem !important;
    margin-bottom: 1.5rem !important;
  }

  .filter-group {
    width: 100% !important;
  }

  .filter-select {
    width: 100% !important;
  }
}

/* ===== 16. LOADING & ERROR STATES MOBILE FIXES ===== */

@media (max-width: 768px) {
  /* Loading skeletons mobile */
  .skeleton,
  .loading-skeleton {
    margin-bottom: 1rem !important;
    border-radius: 8px !important;
  }

  .skeleton-text {
    height: 1rem !important;
    margin-bottom: 0.75rem !important;
  }

  .skeleton-title {
    height: 1.5rem !important;
    margin-bottom: 1rem !important;
  }

  /* Error states mobile */
  .error-container {
    padding: 2rem 1rem !important;
    text-align: center !important;
  }

  .error-message {
    font-size: 1.1rem !important;
    line-height: 1.5 !important;
    margin-bottom: 1.5rem !important;
  }

  .error-actions {
    flex-direction: column !important;
    gap: 1rem !important;
    width: 100% !important;
  }

  .error-actions button {
    width: 100% !important;
  }
}

/* ===== 17. ANIMATION & TRANSITION MOBILE OPTIMIZATIONS ===== */

@media (max-width: 768px) {
  /* Reduce animations on mobile for better performance */
  .reduce-motion,
  * {
    animation-duration: 0.2s !important;
    transition-duration: 0.2s !important;
  }

  /* Disable complex animations on mobile */
  @media (prefers-reduced-motion: no-preference) {
    .complex-animation {
      animation: none !important;
    }
  }

  /* Smooth scrolling mobile */
  html {
    scroll-behavior: smooth;
  }

  .scroll-container {
    -webkit-overflow-scrolling: touch;
    overflow-scrolling: touch;
  }
}

/* ===== 18. UTILITY CLASSES FOR MOBILE ===== */

/* Mobile visibility utilities */
.mobile-only {
  display: none !important;
}

.desktop-only {
  display: block !important;
}

@media (max-width: 768px) {
  .mobile-only {
    display: block !important;
  }

  .desktop-only {
    display: none !important;
  }

  .mobile-hidden {
    display: none !important;
  }

  .mobile-visible {
    display: block !important;
  }
}

/* Mobile spacing utilities */
@media (max-width: 768px) {
  .mobile-p-0 { padding: 0 !important; }
  .mobile-p-1 { padding: 0.25rem !important; }
  .mobile-p-2 { padding: 0.5rem !important; }
  .mobile-p-3 { padding: 0.75rem !important; }
  .mobile-p-4 { padding: 1rem !important; }
  .mobile-p-6 { padding: 1.5rem !important; }
  .mobile-p-8 { padding: 2rem !important; }

  .mobile-m-0 { margin: 0 !important; }
  .mobile-m-1 { margin: 0.25rem !important; }
  .mobile-m-2 { margin: 0.5rem !important; }
  .mobile-m-3 { margin: 0.75rem !important; }
  .mobile-m-4 { margin: 1rem !important; }
  .mobile-m-6 { margin: 1.5rem !important; }
  .mobile-m-8 { margin: 2rem !important; }

  .mobile-mb-0 { margin-bottom: 0 !important; }
  .mobile-mb-1 { margin-bottom: 0.25rem !important; }
  .mobile-mb-2 { margin-bottom: 0.5rem !important; }
  .mobile-mb-3 { margin-bottom: 0.75rem !important; }
  .mobile-mb-4 { margin-bottom: 1rem !important; }
  .mobile-mb-6 { margin-bottom: 1.5rem !important; }
  .mobile-mb-8 { margin-bottom: 2rem !important; }

  .mobile-gap-1 { gap: 0.25rem !important; }
  .mobile-gap-2 { gap: 0.5rem !important; }
  .mobile-gap-3 { gap: 0.75rem !important; }
  .mobile-gap-4 { gap: 1rem !important; }
  .mobile-gap-6 { gap: 1.5rem !important; }
  .mobile-gap-8 { gap: 2rem !important; }
}

/* ===== 19. PERFORMANCE OPTIMIZATIONS FOR MOBILE ===== */

@media (max-width: 768px) {
  /* Optimize images for mobile */
  img {
    max-width: 100% !important;
    height: auto !important;
    loading: lazy;
  }

  /* Optimize videos for mobile */
  video {
    max-width: 100% !important;
    height: auto !important;
  }

  /* Optimize transforms for mobile */
  .transform-gpu {
    transform: translateZ(0);
    -webkit-transform: translateZ(0);
  }

  /* Optimize scrolling */
  .smooth-scroll {
    -webkit-overflow-scrolling: touch;
    scroll-behavior: smooth;
  }
}

/* ===== 20. ACCESSIBILITY MOBILE IMPROVEMENTS ===== */

@media (max-width: 768px) {
  /* Focus states mobile */
  *:focus-visible {
    outline: 3px solid var(--primary) !important;
    outline-offset: 2px !important;
    border-radius: 4px !important;
  }

  /* Screen reader improvements */
  .sr-only {
    position: absolute !important;
    width: 1px !important;
    height: 1px !important;
    padding: 0 !important;
    margin: -1px !important;
    overflow: hidden !important;
    clip: rect(0, 0, 0, 0) !important;
    white-space: nowrap !important;
    border: 0 !important;
  }

  /* High contrast mobile */
  @media (prefers-contrast: high) {
    * {
      border-width: 2px !important;
    }

    button, a[role="button"] {
      border: 2px solid var(--foreground) !important;
    }
  }

  /* Reduced motion mobile */
  @media (prefers-reduced-motion: reduce) {
    * {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
}

/* ===== 21. DARK MODE MOBILE OPTIMIZATIONS ===== */

@media (max-width: 768px) {
  /* Dark theme mobile optimizations */
  .dark {
    background-color: #0a0a0a !important;
  }

  .dark .card,
  .dark .modal,
  .dark .dialog {
    background-color: #1a1a1a !important;
    border-color: #333333 !important;
  }

  .dark input,
  .dark select,
  .dark textarea {
    background-color: #1a1a1a !important;
    border-color: #333333 !important;
    color: #ffffff !important;
  }

  .dark button {
    background-color: var(--primary) !important;
    border-color: var(--primary) !important;
  }
}

/* ===== 22. CRITICAL LAYOUT FIXES ===== */

@media (max-width: 768px) {
  /* Fix common layout breaking patterns */
  
  /* Prevent horizontal overflow */
  .container,
  .wrapper,
  .content,
  .main {
    overflow-x: hidden !important;
    max-width: 100vw !important;
  }

  /* Fix flex layouts that don't wrap */
  .flex {
    flex-wrap: wrap !important;
  }

  /* Fix absolute positioned elements */
  .absolute {
    position: relative !important;
  }

  /* Fix fixed positioned elements that block content */
  .fixed:not(.sidebar):not(.modal):not(.toast) {
    position: relative !important;
  }

  /* Fix z-index stacking issues */
  .navbar { z-index: 1000 !important; }
  .sidebar { z-index: 1100 !important; }
  .modal { z-index: 1200 !important; }
  .toast { z-index: 1300 !important; }

  /* Fix text that doesn't wrap */
  .text-nowrap {
    white-space: normal !important;
    word-break: break-word !important;
  }

  /* Fix images that overflow */
  img {
    max-width: 100% !important;
    height: auto !important;
  }

  /* Fix videos that overflow */
  video {
    max-width: 100% !important;
    width: 100% !important;
    height: auto !important;
  }
}

/* ===== 23. EMERGENCY MOBILE LAYOUT FIXES ===== */

/* These are nuclear options for severely broken layouts */
@media (max-width: 768px) {
  /* Force single column for any multi-column layout */
  .force-mobile-single-column {
    display: flex !important;
    flex-direction: column !important;
    width: 100% !important;
  }

  .force-mobile-single-column > * {
    width: 100% !important;
    margin-bottom: 1rem !important;
  }

  /* Force proper spacing for cramped content */
  .force-mobile-spacing {
    padding: 1rem !important;
    margin-bottom: 1rem !important;
  }

  .force-mobile-spacing > * {
    margin-bottom: 1rem !important;
  }

  /* Force readable text sizes */
  .force-mobile-text {
    font-size: 1rem !important;
    line-height: 1.5 !important;
  }

  /* Force touch-friendly interactive elements */
  .force-mobile-touch * {
    min-height: 44px !important;
    min-width: 44px !important;
  }
}

/* ===== SMALL MOBILE (PHONES) SPECIFIC FIXES ===== */

@media (max-width: 480px) {
  .container {
    padding: 0.75rem !important;
  }

  h1 {
    font-size: 1.75rem !important;
  }

  h2 {
    font-size: 1.5rem !important;
  }

  .card {
    padding: 1rem !important;
  }

  .button, button {
    padding: 0.75rem 1rem !important;
    font-size: 0.95rem !important;
  }

  .modal {
    width: 98% !important;
    margin: 1% auto !important;
    padding: 1rem !important;
  }

  .grid-cols-2 {
    gap: 0.75rem !important;
  }

  .prophecy-mask {
    max-width: 300px !important;
    height: 150px !important;
  }

  .prophecy-item {
    font-size: 0.9rem !important;
    padding: 0.75rem !important;
  }
}

/* ===== LANDSCAPE MOBILE FIXES ===== */

@media (max-width: 768px) and (orientation: landscape) {
  .mobile-landscape-adjust {
    padding-top: 0.5rem !important;
    padding-bottom: 0.5rem !important;
  }

  .hero-section {
    flex-direction: row !important;
    align-items: center !important;
    min-height: auto !important;
  }

  .modal {
    max-height: 95vh !important;
    overflow-y: auto !important;
  }
}

/* ===== DEBUG HELPERS (REMOVE IN PRODUCTION) ===== */

/* Uncomment for mobile debugging */
/*
@media (max-width: 768px) {
  * {
    outline: 1px solid red !important;
  }

  .container {
    outline: 2px solid blue !important;
  }

  .grid {
    outline: 2px solid green !important;
  }

  .flex {
    outline: 2px solid yellow !important;
  }
}
*/