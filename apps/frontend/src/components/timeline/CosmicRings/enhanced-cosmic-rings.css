:root {
  /* Enhanced cosmic color palette */
  --cosmic-bg: #0b0e12;
  --cosmic-text: #eae7df;
  --cosmic-accent: #d4af37;
  --rim-light: #f1deac;
  
  /* Stone texture colors */
  --granite-base: #5a4f45;
  --marble-base: #e8e2d5;
  --sandstone-base: #d2b48c;
  --slate-base: #708090;
  
  /* Metallic finish colors */
  --gold-base: #ffd700;
  --bronze-base: #cd7f32;
  --copper-base: #b87333;
  --brass-base: #e1c699;
  --silver-base: #c0c0c0;
}

.enhanced-cosmic-rings-container {
  width: 100%;
  max-width: 650px;
  margin: 0 auto;
  position: relative;
  overflow: visible;
}

.enhanced-cosmic-rings-dial {
  width: 100%;
  height: auto;
  filter: drop-shadow(0 8px 32px rgba(0, 0, 0, 0.6)) 
          drop-shadow(0 0 60px rgba(212, 175, 55, 0.1));
  shape-rendering: geometricPrecision;
  background: transparent;
}

/* Space background with subtle movement */
.space-background {
  animation: cosmicDrift 180s linear infinite;
}

@keyframes cosmicDrift {
  0% { transform: rotate(0deg) scale(1); }
  50% { transform: rotate(180deg) scale(1.01); }
  100% { transform: rotate(360deg) scale(1); }
}

/* Enhanced starfield with twinkling effect */
.starfield-layer {
  animation: starfieldRotate 300s linear infinite;
}

.twinkling-star {
  animation: starTwinkle 4s ease-in-out infinite alternate;
}

@keyframes starfieldRotate {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

@keyframes starTwinkle {
  0%, 100% { opacity: 0.3; transform: scale(0.8); }
  50% { opacity: 1; transform: scale(1.2); }
}

/* Center medallion enhancements */
.center-medallion {
  filter: drop-shadow(0 4px 12px rgba(0, 0, 0, 0.5));
}

.center-rim {
  animation: centerRimPulse 6s ease-in-out infinite;
}

@keyframes centerRimPulse {
  0%, 100% { stroke-opacity: 0.9; }
  50% { stroke-opacity: 0.6; }
}

.center-label {
  font-family: 'Cinzel', 'Trajan Pro', serif;
  font-weight: 700;
  letter-spacing: 0.3em;
  text-transform: uppercase;
  pointer-events: none;
  text-shadow: 0 3px 6px rgba(0, 0, 0, 0.7), 0 0 12px rgba(241, 222, 172, 0.4);
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.5));
}

/* Ring rotation animations */
@keyframes rotateClockwise {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

@keyframes rotateCounterClockwise {
  from { transform: rotate(0deg); }
  to { transform: rotate(-360deg); }
}

/* Enhanced ring styling */
.enhanced-ring-disk {
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  transform-origin: center;
}

.enhanced-ring-disk.selected {
  filter: drop-shadow(0 0 20px rgba(212, 175, 55, 0.6));
}

.enhanced-ring-disk.hovered {
  filter: drop-shadow(0 0 15px rgba(212, 175, 55, 0.4));
}

/* Layered texture effects */
.ring-stone-base {
  stroke-linecap: round;
  stroke-linejoin: round;
  transition: all 0.3s ease;
}

.ring-metallic-overlay {
  stroke-linecap: round;
  stroke-linejoin: round;
  opacity: 0.8;
  transition: opacity 0.3s ease;
}

.enhanced-ring-disk:hover .ring-metallic-overlay {
  opacity: 0.9;
}

.enhanced-ring-disk.selected .ring-metallic-overlay {
  opacity: 1;
  animation: metallicPulse 3s ease-in-out infinite;
}

@keyframes metallicPulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
}

.ring-metallic-shine {
  stroke-linecap: round;
  opacity: 0.6;
  transition: opacity 0.3s ease;
  animation: metallicShimmer 8s ease-in-out infinite;
}

@keyframes metallicShimmer {
  0%, 100% { opacity: 0.6; stroke-dashoffset: 0; }
  25% { opacity: 0.9; stroke-dashoffset: 10; }
  50% { opacity: 0.4; stroke-dashoffset: 20; }
  75% { opacity: 0.8; stroke-dashoffset: 30; }
}

.enhanced-ring-disk:hover .ring-metallic-shine {
  opacity: 0.8;
  animation-duration: 6s;
}

.enhanced-ring-disk.selected .ring-metallic-shine {
  opacity: 1;
  animation-duration: 4s;
}

.ring-glass-highlight {
  stroke-linecap: round;
  opacity: 0.4;
  transition: opacity 0.3s ease;
  filter: blur(0.5px);
}

.enhanced-ring-disk:hover .ring-glass-highlight {
  opacity: 0.6;
}

.enhanced-ring-disk.selected .ring-glass-highlight {
  opacity: 0.8;
  animation: glassHighlightPulse 4s ease-in-out infinite;
}

@keyframes glassHighlightPulse {
  0%, 100% { opacity: 0.8; filter: blur(0.5px); }
  50% { opacity: 0.4; filter: blur(1px); }
}

/* Enhanced rim styling */
.outer-rim-enhanced,
.inner-rim-enhanced {
  transition: all 0.3s ease;
  stroke-linecap: round;
}

.enhanced-ring-disk:hover .outer-rim-enhanced,
.enhanced-ring-disk:hover .inner-rim-enhanced {
  stroke-opacity: 0.8;
  stroke-width: 1.5;
}

.enhanced-ring-disk.selected .outer-rim-enhanced,
.enhanced-ring-disk.selected .inner-rim-enhanced {
  stroke-opacity: 1;
  stroke-width: 2;
  animation: rimGlow 3s ease-in-out infinite;
}

@keyframes rimGlow {
  0%, 100% { stroke-opacity: 1; }
  50% { stroke-opacity: 0.6; }
}

/* Enhanced text styling */
.enhanced-ring-label {
  font-family: 'Cinzel', 'Trajan Pro', serif;
  font-size: 11px;
  font-weight: 500;
  letter-spacing: 0.12em;
  fill: rgba(234, 231, 223, 0.9);
  text-transform: uppercase;
  pointer-events: none;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.8), 0 0 8px rgba(0, 0, 0, 0.4);
  transition: all 0.3s ease;
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.6));
}

.enhanced-ring-disk:hover .enhanced-ring-label {
  fill: rgba(241, 222, 172, 1);
  font-weight: 600;
  text-shadow: 0 3px 6px rgba(0, 0, 0, 0.9), 0 0 12px rgba(241, 222, 172, 0.3);
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.8));
}

.enhanced-ring-disk.selected .enhanced-ring-label {
  fill: #f1deac;
  font-weight: 700;
  text-shadow: 0 4px 8px rgba(0, 0, 0, 1), 0 0 16px rgba(241, 222, 172, 0.5);
  filter: drop-shadow(0 3px 6px rgba(0, 0, 0, 1));
  animation: labelGlow 4s ease-in-out infinite;
}

@keyframes labelGlow {
  0%, 100% { text-shadow: 0 4px 8px rgba(0, 0, 0, 1), 0 0 16px rgba(241, 222, 172, 0.5); }
  50% { text-shadow: 0 4px 8px rgba(0, 0, 0, 1), 0 0 24px rgba(241, 222, 172, 0.8); }
}

.enhanced-age-number {
  font-family: 'Cinzel', serif;
  font-weight: 600;
  pointer-events: none;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.8);
  transition: all 0.3s ease;
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.6));
}

.enhanced-ring-disk:hover .enhanced-age-number {
  fill: rgba(255, 255, 255, 0.9);
  font-weight: 700;
  text-shadow: 0 3px 6px rgba(0, 0, 0, 0.9);
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.8));
}

.enhanced-ring-disk.selected .enhanced-age-number {
  fill: rgba(241, 222, 172, 0.95);
  font-weight: 700;
  text-shadow: 0 4px 8px rgba(0, 0, 0, 1), 0 0 12px rgba(241, 222, 172, 0.4);
  filter: drop-shadow(0 3px 6px rgba(0, 0, 0, 1));
}

/* Glow effects */
.ring-glow-effect {
  stroke-linecap: round;
  stroke-linejoin: round;
  animation: ringGlowPulse 2s ease-in-out infinite;
}

@keyframes ringGlowPulse {
  0%, 100% { opacity: 0.8; stroke-width: 28; }
  50% { opacity: 0.4; stroke-width: 32; }
}

/* Performance optimizations */
.enhanced-ring-disk,
.ring-stone-base,
.ring-metallic-overlay,
.ring-metallic-shine,
.ring-glass-highlight,
.enhanced-ring-label,
.enhanced-age-number {
  will-change: transform, opacity, filter;
  backface-visibility: hidden;
  transform-style: preserve-3d;
}

/* Reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
  .enhanced-cosmic-rings-dial,
  .space-background,
  .starfield-layer,
  .twinkling-star,
  .enhanced-ring-disk {
    animation: none !important;
  }
  
  .ring-metallic-shine,
  .ring-glass-highlight,
  .center-rim {
    animation: none !important;
  }
}

/* Responsive design enhancements */
@media (max-width: 768px) {
  .enhanced-cosmic-rings-container {
    max-width: 90vw;
  }
  
  .enhanced-ring-label {
    font-size: 9px;
    letter-spacing: 0.08em;
  }
  
  .center-label {
    font-size: 11px;
  }
  
  .enhanced-cosmic-rings-dial {
    filter: drop-shadow(0 4px 16px rgba(0, 0, 0, 0.5)) 
            drop-shadow(0 0 30px rgba(212, 175, 55, 0.08));
  }
  
  /* Simplify animations on mobile */
  .ring-metallic-shine {
    animation-duration: 12s;
  }
  
  .starfield-layer {
    animation-duration: 400s;
  }
}

@media (max-width: 480px) {
  .enhanced-ring-label {
    font-size: 8px;
    letter-spacing: 0.06em;
  }
  
  .center-label {
    font-size: 10px;
  }
  
  .enhanced-cosmic-rings-dial {
    filter: drop-shadow(0 2px 8px rgba(0, 0, 0, 0.4)) 
            drop-shadow(0 0 20px rgba(212, 175, 55, 0.06));
  }
  
  .enhanced-age-number {
    font-size: 9px;
  }
}

/* Focus states for accessibility */
.enhanced-ring-disk:focus {
  outline: 3px solid var(--cosmic-accent);
  outline-offset: 6px;
  border-radius: 50%;
}

.enhanced-ring-disk:focus .ring-glow-effect {
  filter: url(#enhancedSelectionGlow) !important;
  animation: ringGlowPulse 1.5s ease-in-out infinite;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .enhanced-ring-label,
  .enhanced-age-number,
  .center-label {
    text-shadow: none;
    filter: none;
    font-weight: 700;
  }
  
  .outer-rim-enhanced,
  .inner-rim-enhanced {
    stroke-width: 2;
    stroke-opacity: 1;
  }
}

/* Dark mode considerations */
@media (prefers-color-scheme: dark) {
  .enhanced-cosmic-rings-dial {
    filter: drop-shadow(0 8px 32px rgba(0, 0, 0, 0.8)) 
            drop-shadow(0 0 60px rgba(212, 175, 55, 0.15));
  }
}

/* Print styles */
@media print {
  .enhanced-cosmic-rings-container {
    max-width: none;
    width: 100%;
  }
  
  .enhanced-cosmic-rings-dial {
    filter: none;
  }
  
  .enhanced-ring-disk {
    animation: none !important;
  }
  
  .space-background,
  .starfield-layer {
    display: none;
  }
}

/* Custom properties for dynamic theming */
.enhanced-cosmic-rings-container[data-theme="light"] {
  --cosmic-bg: #f5f5f5;
  --cosmic-text: #2a2a2a;
}

.enhanced-cosmic-rings-container[data-theme="high-contrast"] {
  --cosmic-bg: #000000;
  --cosmic-text: #ffffff;
  --cosmic-accent: #ffff00;
}

/* Loading state */
.enhanced-cosmic-rings-container[data-loading="true"] {
  opacity: 0.7;
  pointer-events: none;
}

.enhanced-cosmic-rings-container[data-loading="true"] .enhanced-ring-disk {
  animation-play-state: paused;
}

/* Error state */
.enhanced-cosmic-rings-container[data-error="true"] {
  filter: grayscale(0.8) brightness(0.5);
}

.enhanced-cosmic-rings-container[data-error="true"] .enhanced-ring-disk {
  animation: none;
}

/* Interaction states */
.enhanced-cosmic-rings-dial:hover {
  filter: drop-shadow(0 10px 40px rgba(0, 0, 0, 0.7)) 
          drop-shadow(0 0 80px rgba(212, 175, 55, 0.2));
}

/* Smooth transitions for all interactive elements */
.enhanced-ring-disk,
.outer-rim-enhanced,
.inner-rim-enhanced,
.ring-glow-effect {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Enhanced visual depth */
.enhanced-cosmic-rings-dial {
  background: radial-gradient(circle at center, 
    rgba(26, 31, 46, 0.05) 0%, 
    rgba(15, 20, 31, 0.1) 30%,
    rgba(8, 9, 12, 0.15) 60%,
    rgba(0, 0, 0, 0.2) 100%);
}

/* Ensure proper stacking context */
.enhanced-cosmic-rings-container {
  z-index: 1;
  isolation: isolate;
}

.enhanced-ring-disk.selected {
  z-index: 10;
}

.enhanced-ring-disk:hover {
  z-index: 5;
}

/* Animation performance improvements */
@supports (will-change: transform) {
  .enhanced-ring-disk[style*="animation"] {
    will-change: transform;
  }
}

@supports (contain: layout) {
  .enhanced-cosmic-rings-container {
    contain: layout style;
  }
}