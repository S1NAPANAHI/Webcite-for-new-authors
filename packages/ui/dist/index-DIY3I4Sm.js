var S9 = Object.defineProperty;
var iC = (e) => {
  throw TypeError(e);
};
var E9 = (e, t, r) => t in e ? S9(e, t, { enumerable: !0, configurable: !0, writable: !0, value: r }) : e[t] = r;
var Ee = (e, t, r) => E9(e, typeof t != "symbol" ? t + "" : t, r), m0 = (e, t, r) => t.has(e) || iC("Cannot " + r);
var ce = (e, t, r) => (m0(e, t, "read from private field"), r ? r.call(e) : t.get(e)), _t = (e, t, r) => t.has(e) ? iC("Cannot add the same private member more than once") : t instanceof WeakSet ? t.add(e) : t.set(e, r), st = (e, t, r, n) => (m0(e, t, "write to private field"), n ? n.call(e, r) : t.set(e, r), r), Lt = (e, t, r) => (m0(e, t, "access private method"), r);
import * as _ from "react";
import ge, { createContext as dr, useContext as Dt, useState as L, useRef as We, useEffect as ve, forwardRef as rt, createElement as $e, useMemo as Ht, useCallback as ze, Children as Po, isValidElement as Pn, cloneElement as vi, Fragment as Yh, useLayoutEffect as rl, Suspense as zR, useId as j9, useInsertionEffect as N9, Component as Gh, PureComponent as rv, useImperativeHandle as k9, createRef as oC } from "react";
import * as UR from "react-dom";
import qR, { flushSync as VR, createPortal as Zh } from "react-dom";
var vr = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {};
function bi(e) {
  return e && e.__esModule && Object.prototype.hasOwnProperty.call(e, "default") ? e.default : e;
}
function C9(e) {
  if (e.__esModule) return e;
  var t = e.default;
  if (typeof t == "function") {
    var r = function n() {
      return this instanceof n ? Reflect.construct(t, arguments, this.constructor) : t.apply(this, arguments);
    };
    r.prototype = t.prototype;
  } else r = {};
  return Object.defineProperty(r, "__esModule", { value: !0 }), Object.keys(e).forEach(function(n) {
    var s = Object.getOwnPropertyDescriptor(e, n);
    Object.defineProperty(r, n, s.get ? s : {
      enumerable: !0,
      get: function() {
        return e[n];
      }
    });
  }), r;
}
var pw = { exports: {} }, Hd = {};
/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var aC;
function T9() {
  if (aC) return Hd;
  aC = 1;
  var e = ge, t = Symbol.for("react.element"), r = Symbol.for("react.fragment"), n = Object.prototype.hasOwnProperty, s = e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner, i = { key: !0, ref: !0, __self: !0, __source: !0 };
  function o(a, l, c) {
    var d, f = {}, h = null, p = null;
    c !== void 0 && (h = "" + c), l.key !== void 0 && (h = "" + l.key), l.ref !== void 0 && (p = l.ref);
    for (d in l) n.call(l, d) && !i.hasOwnProperty(d) && (f[d] = l[d]);
    if (a && a.defaultProps) for (d in l = a.defaultProps, l) f[d] === void 0 && (f[d] = l[d]);
    return { $$typeof: t, type: a, key: h, ref: p, props: f, _owner: s.current };
  }
  return Hd.Fragment = r, Hd.jsx = o, Hd.jsxs = o, Hd;
}
var Yd = {};
/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var lC;
function A9() {
  return lC || (lC = 1, process.env.NODE_ENV !== "production" && function() {
    var e = ge, t = Symbol.for("react.element"), r = Symbol.for("react.portal"), n = Symbol.for("react.fragment"), s = Symbol.for("react.strict_mode"), i = Symbol.for("react.profiler"), o = Symbol.for("react.provider"), a = Symbol.for("react.context"), l = Symbol.for("react.forward_ref"), c = Symbol.for("react.suspense"), d = Symbol.for("react.suspense_list"), f = Symbol.for("react.memo"), h = Symbol.for("react.lazy"), p = Symbol.for("react.offscreen"), g = Symbol.iterator, m = "@@iterator";
    function y(A) {
      if (A === null || typeof A != "object")
        return null;
      var re = g && A[g] || A[m];
      return typeof re == "function" ? re : null;
    }
    var v = e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;
    function b(A) {
      {
        for (var re = arguments.length, ye = new Array(re > 1 ? re - 1 : 0), Pe = 1; Pe < re; Pe++)
          ye[Pe - 1] = arguments[Pe];
        x("error", A, ye);
      }
    }
    function x(A, re, ye) {
      {
        var Pe = v.ReactDebugCurrentFrame, Qe = Pe.getStackAddendum();
        Qe !== "" && (re += "%s", ye = ye.concat([Qe]));
        var Be = ye.map(function(nt) {
          return String(nt);
        });
        Be.unshift("Warning: " + re), Function.prototype.apply.call(console[A], console, Be);
      }
    }
    var S = !1, w = !1, j = !1, N = !1, k = !1, C;
    C = Symbol.for("react.module.reference");
    function $(A) {
      return !!(typeof A == "string" || typeof A == "function" || A === n || A === i || k || A === s || A === c || A === d || N || A === p || S || w || j || typeof A == "object" && A !== null && (A.$$typeof === h || A.$$typeof === f || A.$$typeof === o || A.$$typeof === a || A.$$typeof === l || // This needs to include all possible module reference object
      // types supported by any Flight configuration anywhere since
      // we don't know which Flight build this will end up being used
      // with.
      A.$$typeof === C || A.getModuleId !== void 0));
    }
    function I(A, re, ye) {
      var Pe = A.displayName;
      if (Pe)
        return Pe;
      var Qe = re.displayName || re.name || "";
      return Qe !== "" ? ye + "(" + Qe + ")" : ye;
    }
    function M(A) {
      return A.displayName || "Context";
    }
    function O(A) {
      if (A == null)
        return null;
      if (typeof A.tag == "number" && b("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."), typeof A == "function")
        return A.displayName || A.name || null;
      if (typeof A == "string")
        return A;
      switch (A) {
        case n:
          return "Fragment";
        case r:
          return "Portal";
        case i:
          return "Profiler";
        case s:
          return "StrictMode";
        case c:
          return "Suspense";
        case d:
          return "SuspenseList";
      }
      if (typeof A == "object")
        switch (A.$$typeof) {
          case a:
            var re = A;
            return M(re) + ".Consumer";
          case o:
            var ye = A;
            return M(ye._context) + ".Provider";
          case l:
            return I(A, A.render, "ForwardRef");
          case f:
            var Pe = A.displayName || null;
            return Pe !== null ? Pe : O(A.type) || "Memo";
          case h: {
            var Qe = A, Be = Qe._payload, nt = Qe._init;
            try {
              return O(nt(Be));
            } catch {
              return null;
            }
          }
        }
      return null;
    }
    var z = Object.assign, U = 0, G, q, Z, ie, D, B, X;
    function oe() {
    }
    oe.__reactDisabledLog = !0;
    function W() {
      {
        if (U === 0) {
          G = console.log, q = console.info, Z = console.warn, ie = console.error, D = console.group, B = console.groupCollapsed, X = console.groupEnd;
          var A = {
            configurable: !0,
            enumerable: !0,
            value: oe,
            writable: !0
          };
          Object.defineProperties(console, {
            info: A,
            log: A,
            warn: A,
            error: A,
            group: A,
            groupCollapsed: A,
            groupEnd: A
          });
        }
        U++;
      }
    }
    function K() {
      {
        if (U--, U === 0) {
          var A = {
            configurable: !0,
            enumerable: !0,
            writable: !0
          };
          Object.defineProperties(console, {
            log: z({}, A, {
              value: G
            }),
            info: z({}, A, {
              value: q
            }),
            warn: z({}, A, {
              value: Z
            }),
            error: z({}, A, {
              value: ie
            }),
            group: z({}, A, {
              value: D
            }),
            groupCollapsed: z({}, A, {
              value: B
            }),
            groupEnd: z({}, A, {
              value: X
            })
          });
        }
        U < 0 && b("disabledDepth fell below zero. This is a bug in React. Please file an issue.");
      }
    }
    var ee = v.ReactCurrentDispatcher, te;
    function ue(A, re, ye) {
      {
        if (te === void 0)
          try {
            throw Error();
          } catch (Qe) {
            var Pe = Qe.stack.trim().match(/\n( *(at )?)/);
            te = Pe && Pe[1] || "";
          }
        return `
` + te + A;
      }
    }
    var V = !1, H;
    {
      var se = typeof WeakMap == "function" ? WeakMap : Map;
      H = new se();
    }
    function P(A, re) {
      if (!A || V)
        return "";
      {
        var ye = H.get(A);
        if (ye !== void 0)
          return ye;
      }
      var Pe;
      V = !0;
      var Qe = Error.prepareStackTrace;
      Error.prepareStackTrace = void 0;
      var Be;
      Be = ee.current, ee.current = null, W();
      try {
        if (re) {
          var nt = function() {
            throw Error();
          };
          if (Object.defineProperty(nt.prototype, "props", {
            set: function() {
              throw Error();
            }
          }), typeof Reflect == "object" && Reflect.construct) {
            try {
              Reflect.construct(nt, []);
            } catch (zr) {
              Pe = zr;
            }
            Reflect.construct(A, [], nt);
          } else {
            try {
              nt.call();
            } catch (zr) {
              Pe = zr;
            }
            A.call(nt.prototype);
          }
        } else {
          try {
            throw Error();
          } catch (zr) {
            Pe = zr;
          }
          A();
        }
      } catch (zr) {
        if (zr && Pe && typeof zr.stack == "string") {
          for (var tt = zr.stack.split(`
`), kr = Pe.stack.split(`
`), Mt = tt.length - 1, qt = kr.length - 1; Mt >= 1 && qt >= 0 && tt[Mt] !== kr[qt]; )
            qt--;
          for (; Mt >= 1 && qt >= 0; Mt--, qt--)
            if (tt[Mt] !== kr[qt]) {
              if (Mt !== 1 || qt !== 1)
                do
                  if (Mt--, qt--, qt < 0 || tt[Mt] !== kr[qt]) {
                    var kt = `
` + tt[Mt].replace(" at new ", " at ");
                    return A.displayName && kt.includes("<anonymous>") && (kt = kt.replace("<anonymous>", A.displayName)), typeof A == "function" && H.set(A, kt), kt;
                  }
                while (Mt >= 1 && qt >= 0);
              break;
            }
        }
      } finally {
        V = !1, ee.current = Be, K(), Error.prepareStackTrace = Qe;
      }
      var Ti = A ? A.displayName || A.name : "", Ws = Ti ? ue(Ti) : "";
      return typeof A == "function" && H.set(A, Ws), Ws;
    }
    function be(A, re, ye) {
      return P(A, !1);
    }
    function ke(A) {
      var re = A.prototype;
      return !!(re && re.isReactComponent);
    }
    function Ve(A, re, ye) {
      if (A == null)
        return "";
      if (typeof A == "function")
        return P(A, ke(A));
      if (typeof A == "string")
        return ue(A);
      switch (A) {
        case c:
          return ue("Suspense");
        case d:
          return ue("SuspenseList");
      }
      if (typeof A == "object")
        switch (A.$$typeof) {
          case l:
            return be(A.render);
          case f:
            return Ve(A.type, re, ye);
          case h: {
            var Pe = A, Qe = Pe._payload, Be = Pe._init;
            try {
              return Ve(Be(Qe), re, ye);
            } catch {
            }
          }
        }
      return "";
    }
    var He = Object.prototype.hasOwnProperty, lt = {}, Tt = v.ReactDebugCurrentFrame;
    function Rt(A) {
      if (A) {
        var re = A._owner, ye = Ve(A.type, A._source, re ? re.type : null);
        Tt.setExtraStackFrame(ye);
      } else
        Tt.setExtraStackFrame(null);
    }
    function R(A, re, ye, Pe, Qe) {
      {
        var Be = Function.call.bind(He);
        for (var nt in A)
          if (Be(A, nt)) {
            var tt = void 0;
            try {
              if (typeof A[nt] != "function") {
                var kr = Error((Pe || "React class") + ": " + ye + " type `" + nt + "` is invalid; it must be a function, usually from the `prop-types` package, but received `" + typeof A[nt] + "`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");
                throw kr.name = "Invariant Violation", kr;
              }
              tt = A[nt](re, nt, Pe, ye, null, "SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED");
            } catch (Mt) {
              tt = Mt;
            }
            tt && !(tt instanceof Error) && (Rt(Qe), b("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).", Pe || "React class", ye, nt, typeof tt), Rt(null)), tt instanceof Error && !(tt.message in lt) && (lt[tt.message] = !0, Rt(Qe), b("Failed %s type: %s", ye, tt.message), Rt(null));
          }
      }
    }
    var Y = Array.isArray;
    function J(A) {
      return Y(A);
    }
    function xe(A) {
      {
        var re = typeof Symbol == "function" && Symbol.toStringTag, ye = re && A[Symbol.toStringTag] || A.constructor.name || "Object";
        return ye;
      }
    }
    function pe(A) {
      try {
        return me(A), !1;
      } catch {
        return !0;
      }
    }
    function me(A) {
      return "" + A;
    }
    function je(A) {
      if (pe(A))
        return b("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.", xe(A)), me(A);
    }
    var Ue = v.ReactCurrentOwner, Je = {
      key: !0,
      ref: !0,
      __self: !0,
      __source: !0
    }, Zt, It;
    function Zr(A) {
      if (He.call(A, "ref")) {
        var re = Object.getOwnPropertyDescriptor(A, "ref").get;
        if (re && re.isReactWarning)
          return !1;
      }
      return A.ref !== void 0;
    }
    function ki(A) {
      if (He.call(A, "key")) {
        var re = Object.getOwnPropertyDescriptor(A, "key").get;
        if (re && re.isReactWarning)
          return !1;
      }
      return A.key !== void 0;
    }
    function fs(A, re) {
      typeof A.ref == "string" && Ue.current;
    }
    function hs(A, re) {
      {
        var ye = function() {
          Zt || (Zt = !0, b("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)", re));
        };
        ye.isReactWarning = !0, Object.defineProperty(A, "key", {
          get: ye,
          configurable: !0
        });
      }
    }
    function Kn(A, re) {
      {
        var ye = function() {
          It || (It = !0, b("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)", re));
        };
        ye.isReactWarning = !0, Object.defineProperty(A, "ref", {
          get: ye,
          configurable: !0
        });
      }
    }
    var sn = function(A, re, ye, Pe, Qe, Be, nt) {
      var tt = {
        // This tag allows us to uniquely identify this as a React Element
        $$typeof: t,
        // Built-in properties that belong on the element
        type: A,
        key: re,
        ref: ye,
        props: nt,
        // Record the component responsible for creating this element.
        _owner: Be
      };
      return tt._store = {}, Object.defineProperty(tt._store, "validated", {
        configurable: !1,
        enumerable: !1,
        writable: !0,
        value: !1
      }), Object.defineProperty(tt, "_self", {
        configurable: !1,
        enumerable: !1,
        writable: !1,
        value: Pe
      }), Object.defineProperty(tt, "_source", {
        configurable: !1,
        enumerable: !1,
        writable: !1,
        value: Qe
      }), Object.freeze && (Object.freeze(tt.props), Object.freeze(tt)), tt;
    };
    function bn(A, re, ye, Pe, Qe) {
      {
        var Be, nt = {}, tt = null, kr = null;
        ye !== void 0 && (je(ye), tt = "" + ye), ki(re) && (je(re.key), tt = "" + re.key), Zr(re) && (kr = re.ref, fs(re, Qe));
        for (Be in re)
          He.call(re, Be) && !Je.hasOwnProperty(Be) && (nt[Be] = re[Be]);
        if (A && A.defaultProps) {
          var Mt = A.defaultProps;
          for (Be in Mt)
            nt[Be] === void 0 && (nt[Be] = Mt[Be]);
        }
        if (tt || kr) {
          var qt = typeof A == "function" ? A.displayName || A.name || "Unknown" : A;
          tt && hs(nt, qt), kr && Kn(nt, qt);
        }
        return sn(A, tt, kr, Qe, Pe, Ue.current, nt);
      }
    }
    var Br = v.ReactCurrentOwner, Nr = v.ReactDebugCurrentFrame;
    function xn(A) {
      if (A) {
        var re = A._owner, ye = Ve(A.type, A._source, re ? re.type : null);
        Nr.setExtraStackFrame(ye);
      } else
        Nr.setExtraStackFrame(null);
    }
    var Hn;
    Hn = !1;
    function Yn(A) {
      return typeof A == "object" && A !== null && A.$$typeof === t;
    }
    function ps() {
      {
        if (Br.current) {
          var A = O(Br.current.type);
          if (A)
            return `

Check the render method of \`` + A + "`.";
        }
        return "";
      }
    }
    function qs(A) {
      return "";
    }
    var ms = {};
    function co(A) {
      {
        var re = ps();
        if (!re) {
          var ye = typeof A == "string" ? A : A.displayName || A.name;
          ye && (re = `

Check the top-level render call using <` + ye + ">.");
        }
        return re;
      }
    }
    function gs(A, re) {
      {
        if (!A._store || A._store.validated || A.key != null)
          return;
        A._store.validated = !0;
        var ye = co(re);
        if (ms[ye])
          return;
        ms[ye] = !0;
        var Pe = "";
        A && A._owner && A._owner !== Br.current && (Pe = " It was passed a child from " + O(A._owner.type) + "."), xn(A), b('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.', ye, Pe), xn(null);
      }
    }
    function Gn(A, re) {
      {
        if (typeof A != "object")
          return;
        if (J(A))
          for (var ye = 0; ye < A.length; ye++) {
            var Pe = A[ye];
            Yn(Pe) && gs(Pe, re);
          }
        else if (Yn(A))
          A._store && (A._store.validated = !0);
        else if (A) {
          var Qe = y(A);
          if (typeof Qe == "function" && Qe !== A.entries)
            for (var Be = Qe.call(A), nt; !(nt = Be.next()).done; )
              Yn(nt.value) && gs(nt.value, re);
        }
      }
    }
    function ca(A) {
      {
        var re = A.type;
        if (re == null || typeof re == "string")
          return;
        var ye;
        if (typeof re == "function")
          ye = re.propTypes;
        else if (typeof re == "object" && (re.$$typeof === l || // Note: Memo only checks outer props here.
        // Inner props are checked in the reconciler.
        re.$$typeof === f))
          ye = re.propTypes;
        else
          return;
        if (ye) {
          var Pe = O(re);
          R(ye, A.props, "prop", Pe, A);
        } else if (re.PropTypes !== void 0 && !Hn) {
          Hn = !0;
          var Qe = O(re);
          b("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?", Qe || "Unknown");
        }
        typeof re.getDefaultProps == "function" && !re.getDefaultProps.isReactClassApproved && b("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.");
      }
    }
    function Zn(A) {
      {
        for (var re = Object.keys(A.props), ye = 0; ye < re.length; ye++) {
          var Pe = re[ye];
          if (Pe !== "children" && Pe !== "key") {
            xn(A), b("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.", Pe), xn(null);
            break;
          }
        }
        A.ref !== null && (xn(A), b("Invalid attribute `ref` supplied to `React.Fragment`."), xn(null));
      }
    }
    var ua = {};
    function Vs(A, re, ye, Pe, Qe, Be) {
      {
        var nt = $(A);
        if (!nt) {
          var tt = "";
          (A === void 0 || typeof A == "object" && A !== null && Object.keys(A).length === 0) && (tt += " You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");
          var kr = qs();
          kr ? tt += kr : tt += ps();
          var Mt;
          A === null ? Mt = "null" : J(A) ? Mt = "array" : A !== void 0 && A.$$typeof === t ? (Mt = "<" + (O(A.type) || "Unknown") + " />", tt = " Did you accidentally export a JSX literal instead of a component?") : Mt = typeof A, b("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s", Mt, tt);
        }
        var qt = bn(A, re, ye, Qe, Be);
        if (qt == null)
          return qt;
        if (nt) {
          var kt = re.children;
          if (kt !== void 0)
            if (Pe)
              if (J(kt)) {
                for (var Ti = 0; Ti < kt.length; Ti++)
                  Gn(kt[Ti], A);
                Object.freeze && Object.freeze(kt);
              } else
                b("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");
            else
              Gn(kt, A);
        }
        if (He.call(re, "key")) {
          var Ws = O(A), zr = Object.keys(re).filter(function(fa) {
            return fa !== "key";
          }), bl = zr.length > 0 ? "{key: someKey, " + zr.join(": ..., ") + ": ...}" : "{key: someKey}";
          if (!ua[Ws + bl]) {
            var Bd = zr.length > 0 ? "{" + zr.join(": ..., ") + ": ...}" : "{}";
            b(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`, bl, Ws, Bd, Ws), ua[Ws + bl] = !0;
          }
        }
        return A === n ? Zn(qt) : ca(qt), qt;
      }
    }
    function uo(A, re, ye) {
      return Vs(A, re, ye, !0);
    }
    function da(A, re, ye) {
      return Vs(A, re, ye, !1);
    }
    var Ci = da, ae = uo;
    Yd.Fragment = n, Yd.jsx = Ci, Yd.jsxs = ae;
  }()), Yd;
}
process.env.NODE_ENV === "production" ? pw.exports = T9() : pw.exports = A9();
var u = pw.exports;
function cC(e, t) {
  if (typeof e == "function")
    return e(t);
  e != null && (e.current = t);
}
function WR(...e) {
  return (t) => {
    let r = !1;
    const n = e.map((s) => {
      const i = cC(s, t);
      return !r && typeof i == "function" && (r = !0), i;
    });
    if (r)
      return () => {
        for (let s = 0; s < n.length; s++) {
          const i = n[s];
          typeof i == "function" ? i() : cC(e[s], null);
        }
      };
  };
}
function Vn(...e) {
  return _.useCallback(WR(...e), e);
}
// @__NO_SIDE_EFFECTS__
function oh(e) {
  const t = /* @__PURE__ */ O9(e), r = _.forwardRef((n, s) => {
    const { children: i, ...o } = n, a = _.Children.toArray(i), l = a.find($9);
    if (l) {
      const c = l.props.children, d = a.map((f) => f === l ? _.Children.count(c) > 1 ? _.Children.only(null) : _.isValidElement(c) ? c.props.children : null : f);
      return /* @__PURE__ */ u.jsx(t, { ...o, ref: s, children: _.isValidElement(c) ? _.cloneElement(c, void 0, d) : null });
    }
    return /* @__PURE__ */ u.jsx(t, { ...o, ref: s, children: i });
  });
  return r.displayName = `${e}.Slot`, r;
}
var P9 = /* @__PURE__ */ oh("Slot");
// @__NO_SIDE_EFFECTS__
function O9(e) {
  const t = _.forwardRef((r, n) => {
    const { children: s, ...i } = r;
    if (_.isValidElement(s)) {
      const o = I9(s), a = R9(i, s.props);
      return s.type !== _.Fragment && (a.ref = n ? WR(n, o) : o), _.cloneElement(s, a);
    }
    return _.Children.count(s) > 1 ? _.Children.only(null) : null;
  });
  return t.displayName = `${e}.SlotClone`, t;
}
var KR = Symbol("radix.slottable");
// @__NO_SIDE_EFFECTS__
function D9(e) {
  const t = ({ children: r }) => /* @__PURE__ */ u.jsx(u.Fragment, { children: r });
  return t.displayName = `${e}.Slottable`, t.__radixId = KR, t;
}
function $9(e) {
  return _.isValidElement(e) && typeof e.type == "function" && "__radixId" in e.type && e.type.__radixId === KR;
}
function R9(e, t) {
  const r = { ...t };
  for (const n in t) {
    const s = e[n], i = t[n];
    /^on[A-Z]/.test(n) ? s && i ? r[n] = (...a) => {
      const l = i(...a);
      return s(...a), l;
    } : s && (r[n] = s) : n === "style" ? r[n] = { ...s, ...i } : n === "className" && (r[n] = [s, i].filter(Boolean).join(" "));
  }
  return { ...e, ...r };
}
function I9(e) {
  var n, s;
  let t = (n = Object.getOwnPropertyDescriptor(e.props, "ref")) == null ? void 0 : n.get, r = t && "isReactWarning" in t && t.isReactWarning;
  return r ? e.ref : (t = (s = Object.getOwnPropertyDescriptor(e, "ref")) == null ? void 0 : s.get, r = t && "isReactWarning" in t && t.isReactWarning, r ? e.props.ref : e.props.ref || e.ref);
}
function HR(e) {
  var t, r, n = "";
  if (typeof e == "string" || typeof e == "number") n += e;
  else if (typeof e == "object") if (Array.isArray(e)) {
    var s = e.length;
    for (t = 0; t < s; t++) e[t] && (r = HR(e[t])) && (n && (n += " "), n += r);
  } else for (r in e) e[r] && (n && (n += " "), n += r);
  return n;
}
function at() {
  for (var e, t, r = 0, n = "", s = arguments.length; r < s; r++) (e = arguments[r]) && (t = HR(e)) && (n && (n += " "), n += t);
  return n;
}
const uC = (e) => typeof e == "boolean" ? `${e}` : e === 0 ? "0" : e, dC = at, nv = (e, t) => (r) => {
  var n;
  if ((t == null ? void 0 : t.variants) == null) return dC(e, r == null ? void 0 : r.class, r == null ? void 0 : r.className);
  const { variants: s, defaultVariants: i } = t, o = Object.keys(s).map((c) => {
    const d = r == null ? void 0 : r[c], f = i == null ? void 0 : i[c];
    if (d === null) return null;
    const h = uC(d) || uC(f);
    return s[c][h];
  }), a = r && Object.entries(r).reduce((c, d) => {
    let [f, h] = d;
    return h === void 0 || (c[f] = h), c;
  }, {}), l = t == null || (n = t.compoundVariants) === null || n === void 0 ? void 0 : n.reduce((c, d) => {
    let { class: f, className: h, ...p } = d;
    return Object.entries(p).every((g) => {
      let [m, y] = g;
      return Array.isArray(y) ? y.includes({
        ...i,
        ...a
      }[m]) : {
        ...i,
        ...a
      }[m] === y;
    }) ? [
      ...c,
      f,
      h
    ] : c;
  }, []);
  return dC(e, o, l, r == null ? void 0 : r.class, r == null ? void 0 : r.className);
}, M9 = (e) => {
  let t;
  return e ? t = e : typeof fetch > "u" ? t = (...r) => Promise.resolve().then(() => dd).then(({ default: n }) => n(...r)) : t = fetch, (...r) => t(...r);
};
class wS extends Error {
  constructor(t, r = "FunctionsError", n) {
    super(t), this.name = r, this.context = n;
  }
}
class L9 extends wS {
  constructor(t) {
    super("Failed to send a request to the Edge Function", "FunctionsFetchError", t);
  }
}
class fC extends wS {
  constructor(t) {
    super("Relay Error invoking the Edge Function", "FunctionsRelayError", t);
  }
}
class hC extends wS {
  constructor(t) {
    super("Edge Function returned a non-2xx status code", "FunctionsHttpError", t);
  }
}
var mw;
(function(e) {
  e.Any = "any", e.ApNortheast1 = "ap-northeast-1", e.ApNortheast2 = "ap-northeast-2", e.ApSouth1 = "ap-south-1", e.ApSoutheast1 = "ap-southeast-1", e.ApSoutheast2 = "ap-southeast-2", e.CaCentral1 = "ca-central-1", e.EuCentral1 = "eu-central-1", e.EuWest1 = "eu-west-1", e.EuWest2 = "eu-west-2", e.EuWest3 = "eu-west-3", e.SaEast1 = "sa-east-1", e.UsEast1 = "us-east-1", e.UsWest1 = "us-west-1", e.UsWest2 = "us-west-2";
})(mw || (mw = {}));
var F9 = function(e, t, r, n) {
  function s(i) {
    return i instanceof r ? i : new r(function(o) {
      o(i);
    });
  }
  return new (r || (r = Promise))(function(i, o) {
    function a(d) {
      try {
        c(n.next(d));
      } catch (f) {
        o(f);
      }
    }
    function l(d) {
      try {
        c(n.throw(d));
      } catch (f) {
        o(f);
      }
    }
    function c(d) {
      d.done ? i(d.value) : s(d.value).then(a, l);
    }
    c((n = n.apply(e, t || [])).next());
  });
};
class B9 {
  constructor(t, { headers: r = {}, customFetch: n, region: s = mw.Any } = {}) {
    this.url = t, this.headers = r, this.region = s, this.fetch = M9(n);
  }
  /**
   * Updates the authorization header
   * @param token - the new jwt token sent in the authorisation header
   */
  setAuth(t) {
    this.headers.Authorization = `Bearer ${t}`;
  }
  /**
   * Invokes a function
   * @param functionName - The name of the Function to invoke.
   * @param options - Options for invoking the Function.
   */
  invoke(t, r = {}) {
    var n;
    return F9(this, void 0, void 0, function* () {
      try {
        const { headers: s, method: i, body: o } = r;
        let a = {}, { region: l } = r;
        l || (l = this.region);
        const c = new URL(`${this.url}/${t}`);
        l && l !== "any" && (a["x-region"] = l, c.searchParams.set("forceFunctionRegion", l));
        let d;
        o && (s && !Object.prototype.hasOwnProperty.call(s, "Content-Type") || !s) && (typeof Blob < "u" && o instanceof Blob || o instanceof ArrayBuffer ? (a["Content-Type"] = "application/octet-stream", d = o) : typeof o == "string" ? (a["Content-Type"] = "text/plain", d = o) : typeof FormData < "u" && o instanceof FormData ? d = o : (a["Content-Type"] = "application/json", d = JSON.stringify(o)));
        const f = yield this.fetch(c.toString(), {
          method: i || "POST",
          // headers priority is (high to low):
          // 1. invoke-level headers
          // 2. client-level headers
          // 3. default Content-Type header
          headers: Object.assign(Object.assign(Object.assign({}, a), this.headers), s),
          body: d
        }).catch((m) => {
          throw new L9(m);
        }), h = f.headers.get("x-relay-error");
        if (h && h === "true")
          throw new fC(f);
        if (!f.ok)
          throw new hC(f);
        let p = ((n = f.headers.get("Content-Type")) !== null && n !== void 0 ? n : "text/plain").split(";")[0].trim(), g;
        return p === "application/json" ? g = yield f.json() : p === "application/octet-stream" ? g = yield f.blob() : p === "text/event-stream" ? g = f : p === "multipart/form-data" ? g = yield f.formData() : g = yield f.text(), { data: g, error: null, response: f };
      } catch (s) {
        return {
          data: null,
          error: s,
          response: s instanceof hC || s instanceof fC ? s.context : void 0
        };
      }
    });
  }
}
var Ln = {}, _S = {}, sv = {}, Xh = {}, iv = {}, ov = {}, z9 = function() {
  if (typeof self < "u")
    return self;
  if (typeof window < "u")
    return window;
  if (typeof global < "u")
    return global;
  throw new Error("unable to locate global object");
}, Fu = z9();
const U9 = Fu.fetch, YR = Fu.fetch.bind(Fu), GR = Fu.Headers, q9 = Fu.Request, V9 = Fu.Response, dd = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  Headers: GR,
  Request: q9,
  Response: V9,
  default: YR,
  fetch: U9
}, Symbol.toStringTag, { value: "Module" })), W9 = /* @__PURE__ */ C9(dd);
var av = {};
Object.defineProperty(av, "__esModule", { value: !0 });
let K9 = class extends Error {
  constructor(t) {
    super(t.message), this.name = "PostgrestError", this.details = t.details, this.hint = t.hint, this.code = t.code;
  }
};
av.default = K9;
var ZR = vr && vr.__importDefault || function(e) {
  return e && e.__esModule ? e : { default: e };
};
Object.defineProperty(ov, "__esModule", { value: !0 });
const H9 = ZR(W9), Y9 = ZR(av);
let G9 = class {
  constructor(t) {
    var r, n;
    this.shouldThrowOnError = !1, this.method = t.method, this.url = t.url, this.headers = new Headers(t.headers), this.schema = t.schema, this.body = t.body, this.shouldThrowOnError = (r = t.shouldThrowOnError) !== null && r !== void 0 ? r : !1, this.signal = t.signal, this.isMaybeSingle = (n = t.isMaybeSingle) !== null && n !== void 0 ? n : !1, t.fetch ? this.fetch = t.fetch : typeof fetch > "u" ? this.fetch = H9.default : this.fetch = fetch;
  }
  /**
   * If there's an error with the query, throwOnError will reject the promise by
   * throwing the error instead of returning it as part of a successful response.
   *
   * {@link https://github.com/supabase/supabase-js/issues/92}
   */
  throwOnError() {
    return this.shouldThrowOnError = !0, this;
  }
  /**
   * Set an HTTP header for the request.
   */
  setHeader(t, r) {
    return this.headers = new Headers(this.headers), this.headers.set(t, r), this;
  }
  then(t, r) {
    this.schema === void 0 || (["GET", "HEAD"].includes(this.method) ? this.headers.set("Accept-Profile", this.schema) : this.headers.set("Content-Profile", this.schema)), this.method !== "GET" && this.method !== "HEAD" && this.headers.set("Content-Type", "application/json");
    const n = this.fetch;
    let s = n(this.url.toString(), {
      method: this.method,
      headers: this.headers,
      body: JSON.stringify(this.body),
      signal: this.signal
    }).then(async (i) => {
      var o, a, l, c;
      let d = null, f = null, h = null, p = i.status, g = i.statusText;
      if (i.ok) {
        if (this.method !== "HEAD") {
          const b = await i.text();
          b === "" || (this.headers.get("Accept") === "text/csv" || this.headers.get("Accept") && (!((o = this.headers.get("Accept")) === null || o === void 0) && o.includes("application/vnd.pgrst.plan+text")) ? f = b : f = JSON.parse(b));
        }
        const y = (a = this.headers.get("Prefer")) === null || a === void 0 ? void 0 : a.match(/count=(exact|planned|estimated)/), v = (l = i.headers.get("content-range")) === null || l === void 0 ? void 0 : l.split("/");
        y && v && v.length > 1 && (h = parseInt(v[1])), this.isMaybeSingle && this.method === "GET" && Array.isArray(f) && (f.length > 1 ? (d = {
          // https://github.com/PostgREST/postgrest/blob/a867d79c42419af16c18c3fb019eba8df992626f/src/PostgREST/Error.hs#L553
          code: "PGRST116",
          details: `Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,
          hint: null,
          message: "JSON object requested, multiple (or no) rows returned"
        }, f = null, h = null, p = 406, g = "Not Acceptable") : f.length === 1 ? f = f[0] : f = null);
      } else {
        const y = await i.text();
        try {
          d = JSON.parse(y), Array.isArray(d) && i.status === 404 && (f = [], d = null, p = 200, g = "OK");
        } catch {
          i.status === 404 && y === "" ? (p = 204, g = "No Content") : d = {
            message: y
          };
        }
        if (d && this.isMaybeSingle && (!((c = d == null ? void 0 : d.details) === null || c === void 0) && c.includes("0 rows")) && (d = null, p = 200, g = "OK"), d && this.shouldThrowOnError)
          throw new Y9.default(d);
      }
      return {
        error: d,
        data: f,
        count: h,
        status: p,
        statusText: g
      };
    });
    return this.shouldThrowOnError || (s = s.catch((i) => {
      var o, a, l;
      return {
        error: {
          message: `${(o = i == null ? void 0 : i.name) !== null && o !== void 0 ? o : "FetchError"}: ${i == null ? void 0 : i.message}`,
          details: `${(a = i == null ? void 0 : i.stack) !== null && a !== void 0 ? a : ""}`,
          hint: "",
          code: `${(l = i == null ? void 0 : i.code) !== null && l !== void 0 ? l : ""}`
        },
        data: null,
        count: null,
        status: 0,
        statusText: ""
      };
    })), s.then(t, r);
  }
  /**
   * Override the type of the returned `data`.
   *
   * @typeParam NewResult - The new result type to override with
   * @deprecated Use overrideTypes<yourType, { merge: false }>() method at the end of your call chain instead
   */
  returns() {
    return this;
  }
  /**
   * Override the type of the returned `data` field in the response.
   *
   * @typeParam NewResult - The new type to cast the response data to
   * @typeParam Options - Optional type configuration (defaults to { merge: true })
   * @typeParam Options.merge - When true, merges the new type with existing return type. When false, replaces the existing types entirely (defaults to true)
   * @example
   * ```typescript
   * // Merge with existing types (default behavior)
   * const query = supabase
   *   .from('users')
   *   .select()
   *   .overrideTypes<{ custom_field: string }>()
   *
   * // Replace existing types completely
   * const replaceQuery = supabase
   *   .from('users')
   *   .select()
   *   .overrideTypes<{ id: number; name: string }, { merge: false }>()
   * ```
   * @returns A PostgrestBuilder instance with the new type
   */
  overrideTypes() {
    return this;
  }
};
ov.default = G9;
var Z9 = vr && vr.__importDefault || function(e) {
  return e && e.__esModule ? e : { default: e };
};
Object.defineProperty(iv, "__esModule", { value: !0 });
const X9 = Z9(ov);
let J9 = class extends X9.default {
  /**
   * Perform a SELECT on the query result.
   *
   * By default, `.insert()`, `.update()`, `.upsert()`, and `.delete()` do not
   * return modified rows. By calling this method, modified rows are returned in
   * `data`.
   *
   * @param columns - The columns to retrieve, separated by commas
   */
  select(t) {
    let r = !1;
    const n = (t ?? "*").split("").map((s) => /\s/.test(s) && !r ? "" : (s === '"' && (r = !r), s)).join("");
    return this.url.searchParams.set("select", n), this.headers.append("Prefer", "return=representation"), this;
  }
  /**
   * Order the query result by `column`.
   *
   * You can call this method multiple times to order by multiple columns.
   *
   * You can order referenced tables, but it only affects the ordering of the
   * parent table if you use `!inner` in the query.
   *
   * @param column - The column to order by
   * @param options - Named parameters
   * @param options.ascending - If `true`, the result will be in ascending order
   * @param options.nullsFirst - If `true`, `null`s appear first. If `false`,
   * `null`s appear last.
   * @param options.referencedTable - Set this to order a referenced table by
   * its columns
   * @param options.foreignTable - Deprecated, use `options.referencedTable`
   * instead
   */
  order(t, { ascending: r = !0, nullsFirst: n, foreignTable: s, referencedTable: i = s } = {}) {
    const o = i ? `${i}.order` : "order", a = this.url.searchParams.get(o);
    return this.url.searchParams.set(o, `${a ? `${a},` : ""}${t}.${r ? "asc" : "desc"}${n === void 0 ? "" : n ? ".nullsfirst" : ".nullslast"}`), this;
  }
  /**
   * Limit the query result by `count`.
   *
   * @param count - The maximum number of rows to return
   * @param options - Named parameters
   * @param options.referencedTable - Set this to limit rows of referenced
   * tables instead of the parent table
   * @param options.foreignTable - Deprecated, use `options.referencedTable`
   * instead
   */
  limit(t, { foreignTable: r, referencedTable: n = r } = {}) {
    const s = typeof n > "u" ? "limit" : `${n}.limit`;
    return this.url.searchParams.set(s, `${t}`), this;
  }
  /**
   * Limit the query result by starting at an offset `from` and ending at the offset `to`.
   * Only records within this range are returned.
   * This respects the query order and if there is no order clause the range could behave unexpectedly.
   * The `from` and `to` values are 0-based and inclusive: `range(1, 3)` will include the second, third
   * and fourth rows of the query.
   *
   * @param from - The starting index from which to limit the result
   * @param to - The last index to which to limit the result
   * @param options - Named parameters
   * @param options.referencedTable - Set this to limit rows of referenced
   * tables instead of the parent table
   * @param options.foreignTable - Deprecated, use `options.referencedTable`
   * instead
   */
  range(t, r, { foreignTable: n, referencedTable: s = n } = {}) {
    const i = typeof s > "u" ? "offset" : `${s}.offset`, o = typeof s > "u" ? "limit" : `${s}.limit`;
    return this.url.searchParams.set(i, `${t}`), this.url.searchParams.set(o, `${r - t + 1}`), this;
  }
  /**
   * Set the AbortSignal for the fetch request.
   *
   * @param signal - The AbortSignal to use for the fetch request
   */
  abortSignal(t) {
    return this.signal = t, this;
  }
  /**
   * Return `data` as a single object instead of an array of objects.
   *
   * Query result must be one row (e.g. using `.limit(1)`), otherwise this
   * returns an error.
   */
  single() {
    return this.headers.set("Accept", "application/vnd.pgrst.object+json"), this;
  }
  /**
   * Return `data` as a single object instead of an array of objects.
   *
   * Query result must be zero or one row (e.g. using `.limit(1)`), otherwise
   * this returns an error.
   */
  maybeSingle() {
    return this.method === "GET" ? this.headers.set("Accept", "application/json") : this.headers.set("Accept", "application/vnd.pgrst.object+json"), this.isMaybeSingle = !0, this;
  }
  /**
   * Return `data` as a string in CSV format.
   */
  csv() {
    return this.headers.set("Accept", "text/csv"), this;
  }
  /**
   * Return `data` as an object in [GeoJSON](https://geojson.org) format.
   */
  geojson() {
    return this.headers.set("Accept", "application/geo+json"), this;
  }
  /**
   * Return `data` as the EXPLAIN plan for the query.
   *
   * You need to enable the
   * [db_plan_enabled](https://supabase.com/docs/guides/database/debugging-performance#enabling-explain)
   * setting before using this method.
   *
   * @param options - Named parameters
   *
   * @param options.analyze - If `true`, the query will be executed and the
   * actual run time will be returned
   *
   * @param options.verbose - If `true`, the query identifier will be returned
   * and `data` will include the output columns of the query
   *
   * @param options.settings - If `true`, include information on configuration
   * parameters that affect query planning
   *
   * @param options.buffers - If `true`, include information on buffer usage
   *
   * @param options.wal - If `true`, include information on WAL record generation
   *
   * @param options.format - The format of the output, can be `"text"` (default)
   * or `"json"`
   */
  explain({ analyze: t = !1, verbose: r = !1, settings: n = !1, buffers: s = !1, wal: i = !1, format: o = "text" } = {}) {
    var a;
    const l = [
      t ? "analyze" : null,
      r ? "verbose" : null,
      n ? "settings" : null,
      s ? "buffers" : null,
      i ? "wal" : null
    ].filter(Boolean).join("|"), c = (a = this.headers.get("Accept")) !== null && a !== void 0 ? a : "application/json";
    return this.headers.set("Accept", `application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`), o === "json" ? this : this;
  }
  /**
   * Rollback the query.
   *
   * `data` will still be returned, but the query is not committed.
   */
  rollback() {
    return this.headers.append("Prefer", "tx=rollback"), this;
  }
  /**
   * Override the type of the returned `data`.
   *
   * @typeParam NewResult - The new result type to override with
   * @deprecated Use overrideTypes<yourType, { merge: false }>() method at the end of your call chain instead
   */
  returns() {
    return this;
  }
  /**
   * Set the maximum number of rows that can be affected by the query.
   * Only available in PostgREST v13+ and only works with PATCH and DELETE methods.
   *
   * @param value - The maximum number of rows that can be affected
   */
  maxAffected(t) {
    return this.headers.append("Prefer", "handling=strict"), this.headers.append("Prefer", `max-affected=${t}`), this;
  }
};
iv.default = J9;
var Q9 = vr && vr.__importDefault || function(e) {
  return e && e.__esModule ? e : { default: e };
};
Object.defineProperty(Xh, "__esModule", { value: !0 });
const eq = Q9(iv);
let tq = class extends eq.default {
  /**
   * Match only rows where `column` is equal to `value`.
   *
   * To check if the value of `column` is NULL, you should use `.is()` instead.
   *
   * @param column - The column to filter on
   * @param value - The value to filter with
   */
  eq(t, r) {
    return this.url.searchParams.append(t, `eq.${r}`), this;
  }
  /**
   * Match only rows where `column` is not equal to `value`.
   *
   * @param column - The column to filter on
   * @param value - The value to filter with
   */
  neq(t, r) {
    return this.url.searchParams.append(t, `neq.${r}`), this;
  }
  /**
   * Match only rows where `column` is greater than `value`.
   *
   * @param column - The column to filter on
   * @param value - The value to filter with
   */
  gt(t, r) {
    return this.url.searchParams.append(t, `gt.${r}`), this;
  }
  /**
   * Match only rows where `column` is greater than or equal to `value`.
   *
   * @param column - The column to filter on
   * @param value - The value to filter with
   */
  gte(t, r) {
    return this.url.searchParams.append(t, `gte.${r}`), this;
  }
  /**
   * Match only rows where `column` is less than `value`.
   *
   * @param column - The column to filter on
   * @param value - The value to filter with
   */
  lt(t, r) {
    return this.url.searchParams.append(t, `lt.${r}`), this;
  }
  /**
   * Match only rows where `column` is less than or equal to `value`.
   *
   * @param column - The column to filter on
   * @param value - The value to filter with
   */
  lte(t, r) {
    return this.url.searchParams.append(t, `lte.${r}`), this;
  }
  /**
   * Match only rows where `column` matches `pattern` case-sensitively.
   *
   * @param column - The column to filter on
   * @param pattern - The pattern to match with
   */
  like(t, r) {
    return this.url.searchParams.append(t, `like.${r}`), this;
  }
  /**
   * Match only rows where `column` matches all of `patterns` case-sensitively.
   *
   * @param column - The column to filter on
   * @param patterns - The patterns to match with
   */
  likeAllOf(t, r) {
    return this.url.searchParams.append(t, `like(all).{${r.join(",")}}`), this;
  }
  /**
   * Match only rows where `column` matches any of `patterns` case-sensitively.
   *
   * @param column - The column to filter on
   * @param patterns - The patterns to match with
   */
  likeAnyOf(t, r) {
    return this.url.searchParams.append(t, `like(any).{${r.join(",")}}`), this;
  }
  /**
   * Match only rows where `column` matches `pattern` case-insensitively.
   *
   * @param column - The column to filter on
   * @param pattern - The pattern to match with
   */
  ilike(t, r) {
    return this.url.searchParams.append(t, `ilike.${r}`), this;
  }
  /**
   * Match only rows where `column` matches all of `patterns` case-insensitively.
   *
   * @param column - The column to filter on
   * @param patterns - The patterns to match with
   */
  ilikeAllOf(t, r) {
    return this.url.searchParams.append(t, `ilike(all).{${r.join(",")}}`), this;
  }
  /**
   * Match only rows where `column` matches any of `patterns` case-insensitively.
   *
   * @param column - The column to filter on
   * @param patterns - The patterns to match with
   */
  ilikeAnyOf(t, r) {
    return this.url.searchParams.append(t, `ilike(any).{${r.join(",")}}`), this;
  }
  /**
   * Match only rows where `column` IS `value`.
   *
   * For non-boolean columns, this is only relevant for checking if the value of
   * `column` is NULL by setting `value` to `null`.
   *
   * For boolean columns, you can also set `value` to `true` or `false` and it
   * will behave the same way as `.eq()`.
   *
   * @param column - The column to filter on
   * @param value - The value to filter with
   */
  is(t, r) {
    return this.url.searchParams.append(t, `is.${r}`), this;
  }
  /**
   * Match only rows where `column` is included in the `values` array.
   *
   * @param column - The column to filter on
   * @param values - The values array to filter with
   */
  in(t, r) {
    const n = Array.from(new Set(r)).map((s) => typeof s == "string" && new RegExp("[,()]").test(s) ? `"${s}"` : `${s}`).join(",");
    return this.url.searchParams.append(t, `in.(${n})`), this;
  }
  /**
   * Only relevant for jsonb, array, and range columns. Match only rows where
   * `column` contains every element appearing in `value`.
   *
   * @param column - The jsonb, array, or range column to filter on
   * @param value - The jsonb, array, or range value to filter with
   */
  contains(t, r) {
    return typeof r == "string" ? this.url.searchParams.append(t, `cs.${r}`) : Array.isArray(r) ? this.url.searchParams.append(t, `cs.{${r.join(",")}}`) : this.url.searchParams.append(t, `cs.${JSON.stringify(r)}`), this;
  }
  /**
   * Only relevant for jsonb, array, and range columns. Match only rows where
   * every element appearing in `column` is contained by `value`.
   *
   * @param column - The jsonb, array, or range column to filter on
   * @param value - The jsonb, array, or range value to filter with
   */
  containedBy(t, r) {
    return typeof r == "string" ? this.url.searchParams.append(t, `cd.${r}`) : Array.isArray(r) ? this.url.searchParams.append(t, `cd.{${r.join(",")}}`) : this.url.searchParams.append(t, `cd.${JSON.stringify(r)}`), this;
  }
  /**
   * Only relevant for range columns. Match only rows where every element in
   * `column` is greater than any element in `range`.
   *
   * @param column - The range column to filter on
   * @param range - The range to filter with
   */
  rangeGt(t, r) {
    return this.url.searchParams.append(t, `sr.${r}`), this;
  }
  /**
   * Only relevant for range columns. Match only rows where every element in
   * `column` is either contained in `range` or greater than any element in
   * `range`.
   *
   * @param column - The range column to filter on
   * @param range - The range to filter with
   */
  rangeGte(t, r) {
    return this.url.searchParams.append(t, `nxl.${r}`), this;
  }
  /**
   * Only relevant for range columns. Match only rows where every element in
   * `column` is less than any element in `range`.
   *
   * @param column - The range column to filter on
   * @param range - The range to filter with
   */
  rangeLt(t, r) {
    return this.url.searchParams.append(t, `sl.${r}`), this;
  }
  /**
   * Only relevant for range columns. Match only rows where every element in
   * `column` is either contained in `range` or less than any element in
   * `range`.
   *
   * @param column - The range column to filter on
   * @param range - The range to filter with
   */
  rangeLte(t, r) {
    return this.url.searchParams.append(t, `nxr.${r}`), this;
  }
  /**
   * Only relevant for range columns. Match only rows where `column` is
   * mutually exclusive to `range` and there can be no element between the two
   * ranges.
   *
   * @param column - The range column to filter on
   * @param range - The range to filter with
   */
  rangeAdjacent(t, r) {
    return this.url.searchParams.append(t, `adj.${r}`), this;
  }
  /**
   * Only relevant for array and range columns. Match only rows where
   * `column` and `value` have an element in common.
   *
   * @param column - The array or range column to filter on
   * @param value - The array or range value to filter with
   */
  overlaps(t, r) {
    return typeof r == "string" ? this.url.searchParams.append(t, `ov.${r}`) : this.url.searchParams.append(t, `ov.{${r.join(",")}}`), this;
  }
  /**
   * Only relevant for text and tsvector columns. Match only rows where
   * `column` matches the query string in `query`.
   *
   * @param column - The text or tsvector column to filter on
   * @param query - The query text to match with
   * @param options - Named parameters
   * @param options.config - The text search configuration to use
   * @param options.type - Change how the `query` text is interpreted
   */
  textSearch(t, r, { config: n, type: s } = {}) {
    let i = "";
    s === "plain" ? i = "pl" : s === "phrase" ? i = "ph" : s === "websearch" && (i = "w");
    const o = n === void 0 ? "" : `(${n})`;
    return this.url.searchParams.append(t, `${i}fts${o}.${r}`), this;
  }
  /**
   * Match only rows where each column in `query` keys is equal to its
   * associated value. Shorthand for multiple `.eq()`s.
   *
   * @param query - The object to filter with, with column names as keys mapped
   * to their filter values
   */
  match(t) {
    return Object.entries(t).forEach(([r, n]) => {
      this.url.searchParams.append(r, `eq.${n}`);
    }), this;
  }
  /**
   * Match only rows which doesn't satisfy the filter.
   *
   * Unlike most filters, `opearator` and `value` are used as-is and need to
   * follow [PostgREST
   * syntax](https://postgrest.org/en/stable/api.html#operators). You also need
   * to make sure they are properly sanitized.
   *
   * @param column - The column to filter on
   * @param operator - The operator to be negated to filter with, following
   * PostgREST syntax
   * @param value - The value to filter with, following PostgREST syntax
   */
  not(t, r, n) {
    return this.url.searchParams.append(t, `not.${r}.${n}`), this;
  }
  /**
   * Match only rows which satisfy at least one of the filters.
   *
   * Unlike most filters, `filters` is used as-is and needs to follow [PostgREST
   * syntax](https://postgrest.org/en/stable/api.html#operators). You also need
   * to make sure it's properly sanitized.
   *
   * It's currently not possible to do an `.or()` filter across multiple tables.
   *
   * @param filters - The filters to use, following PostgREST syntax
   * @param options - Named parameters
   * @param options.referencedTable - Set this to filter on referenced tables
   * instead of the parent table
   * @param options.foreignTable - Deprecated, use `referencedTable` instead
   */
  or(t, { foreignTable: r, referencedTable: n = r } = {}) {
    const s = n ? `${n}.or` : "or";
    return this.url.searchParams.append(s, `(${t})`), this;
  }
  /**
   * Match only rows which satisfy the filter. This is an escape hatch - you
   * should use the specific filter methods wherever possible.
   *
   * Unlike most filters, `opearator` and `value` are used as-is and need to
   * follow [PostgREST
   * syntax](https://postgrest.org/en/stable/api.html#operators). You also need
   * to make sure they are properly sanitized.
   *
   * @param column - The column to filter on
   * @param operator - The operator to filter with, following PostgREST syntax
   * @param value - The value to filter with, following PostgREST syntax
   */
  filter(t, r, n) {
    return this.url.searchParams.append(t, `${r}.${n}`), this;
  }
};
Xh.default = tq;
var rq = vr && vr.__importDefault || function(e) {
  return e && e.__esModule ? e : { default: e };
};
Object.defineProperty(sv, "__esModule", { value: !0 });
const Gd = rq(Xh);
let nq = class {
  constructor(t, { headers: r = {}, schema: n, fetch: s }) {
    this.url = t, this.headers = new Headers(r), this.schema = n, this.fetch = s;
  }
  /**
   * Perform a SELECT query on the table or view.
   *
   * @param columns - The columns to retrieve, separated by commas. Columns can be renamed when returned with `customName:columnName`
   *
   * @param options - Named parameters
   *
   * @param options.head - When set to `true`, `data` will not be returned.
   * Useful if you only need the count.
   *
   * @param options.count - Count algorithm to use to count rows in the table or view.
   *
   * `"exact"`: Exact but slow count algorithm. Performs a `COUNT(*)` under the
   * hood.
   *
   * `"planned"`: Approximated but fast count algorithm. Uses the Postgres
   * statistics under the hood.
   *
   * `"estimated"`: Uses exact count for low numbers and planned count for high
   * numbers.
   */
  select(t, { head: r = !1, count: n } = {}) {
    const s = r ? "HEAD" : "GET";
    let i = !1;
    const o = (t ?? "*").split("").map((a) => /\s/.test(a) && !i ? "" : (a === '"' && (i = !i), a)).join("");
    return this.url.searchParams.set("select", o), n && this.headers.append("Prefer", `count=${n}`), new Gd.default({
      method: s,
      url: this.url,
      headers: this.headers,
      schema: this.schema,
      fetch: this.fetch
    });
  }
  /**
   * Perform an INSERT into the table or view.
   *
   * By default, inserted rows are not returned. To return it, chain the call
   * with `.select()`.
   *
   * @param values - The values to insert. Pass an object to insert a single row
   * or an array to insert multiple rows.
   *
   * @param options - Named parameters
   *
   * @param options.count - Count algorithm to use to count inserted rows.
   *
   * `"exact"`: Exact but slow count algorithm. Performs a `COUNT(*)` under the
   * hood.
   *
   * `"planned"`: Approximated but fast count algorithm. Uses the Postgres
   * statistics under the hood.
   *
   * `"estimated"`: Uses exact count for low numbers and planned count for high
   * numbers.
   *
   * @param options.defaultToNull - Make missing fields default to `null`.
   * Otherwise, use the default value for the column. Only applies for bulk
   * inserts.
   */
  insert(t, { count: r, defaultToNull: n = !0 } = {}) {
    var s;
    const i = "POST";
    if (r && this.headers.append("Prefer", `count=${r}`), n || this.headers.append("Prefer", "missing=default"), Array.isArray(t)) {
      const o = t.reduce((a, l) => a.concat(Object.keys(l)), []);
      if (o.length > 0) {
        const a = [...new Set(o)].map((l) => `"${l}"`);
        this.url.searchParams.set("columns", a.join(","));
      }
    }
    return new Gd.default({
      method: i,
      url: this.url,
      headers: this.headers,
      schema: this.schema,
      body: t,
      fetch: (s = this.fetch) !== null && s !== void 0 ? s : fetch
    });
  }
  /**
   * Perform an UPSERT on the table or view. Depending on the column(s) passed
   * to `onConflict`, `.upsert()` allows you to perform the equivalent of
   * `.insert()` if a row with the corresponding `onConflict` columns doesn't
   * exist, or if it does exist, perform an alternative action depending on
   * `ignoreDuplicates`.
   *
   * By default, upserted rows are not returned. To return it, chain the call
   * with `.select()`.
   *
   * @param values - The values to upsert with. Pass an object to upsert a
   * single row or an array to upsert multiple rows.
   *
   * @param options - Named parameters
   *
   * @param options.onConflict - Comma-separated UNIQUE column(s) to specify how
   * duplicate rows are determined. Two rows are duplicates if all the
   * `onConflict` columns are equal.
   *
   * @param options.ignoreDuplicates - If `true`, duplicate rows are ignored. If
   * `false`, duplicate rows are merged with existing rows.
   *
   * @param options.count - Count algorithm to use to count upserted rows.
   *
   * `"exact"`: Exact but slow count algorithm. Performs a `COUNT(*)` under the
   * hood.
   *
   * `"planned"`: Approximated but fast count algorithm. Uses the Postgres
   * statistics under the hood.
   *
   * `"estimated"`: Uses exact count for low numbers and planned count for high
   * numbers.
   *
   * @param options.defaultToNull - Make missing fields default to `null`.
   * Otherwise, use the default value for the column. This only applies when
   * inserting new rows, not when merging with existing rows under
   * `ignoreDuplicates: false`. This also only applies when doing bulk upserts.
   */
  upsert(t, { onConflict: r, ignoreDuplicates: n = !1, count: s, defaultToNull: i = !0 } = {}) {
    var o;
    const a = "POST";
    if (this.headers.append("Prefer", `resolution=${n ? "ignore" : "merge"}-duplicates`), r !== void 0 && this.url.searchParams.set("on_conflict", r), s && this.headers.append("Prefer", `count=${s}`), i || this.headers.append("Prefer", "missing=default"), Array.isArray(t)) {
      const l = t.reduce((c, d) => c.concat(Object.keys(d)), []);
      if (l.length > 0) {
        const c = [...new Set(l)].map((d) => `"${d}"`);
        this.url.searchParams.set("columns", c.join(","));
      }
    }
    return new Gd.default({
      method: a,
      url: this.url,
      headers: this.headers,
      schema: this.schema,
      body: t,
      fetch: (o = this.fetch) !== null && o !== void 0 ? o : fetch
    });
  }
  /**
   * Perform an UPDATE on the table or view.
   *
   * By default, updated rows are not returned. To return it, chain the call
   * with `.select()` after filters.
   *
   * @param values - The values to update with
   *
   * @param options - Named parameters
   *
   * @param options.count - Count algorithm to use to count updated rows.
   *
   * `"exact"`: Exact but slow count algorithm. Performs a `COUNT(*)` under the
   * hood.
   *
   * `"planned"`: Approximated but fast count algorithm. Uses the Postgres
   * statistics under the hood.
   *
   * `"estimated"`: Uses exact count for low numbers and planned count for high
   * numbers.
   */
  update(t, { count: r } = {}) {
    var n;
    const s = "PATCH";
    return r && this.headers.append("Prefer", `count=${r}`), new Gd.default({
      method: s,
      url: this.url,
      headers: this.headers,
      schema: this.schema,
      body: t,
      fetch: (n = this.fetch) !== null && n !== void 0 ? n : fetch
    });
  }
  /**
   * Perform a DELETE on the table or view.
   *
   * By default, deleted rows are not returned. To return it, chain the call
   * with `.select()` after filters.
   *
   * @param options - Named parameters
   *
   * @param options.count - Count algorithm to use to count deleted rows.
   *
   * `"exact"`: Exact but slow count algorithm. Performs a `COUNT(*)` under the
   * hood.
   *
   * `"planned"`: Approximated but fast count algorithm. Uses the Postgres
   * statistics under the hood.
   *
   * `"estimated"`: Uses exact count for low numbers and planned count for high
   * numbers.
   */
  delete({ count: t } = {}) {
    var r;
    const n = "DELETE";
    return t && this.headers.append("Prefer", `count=${t}`), new Gd.default({
      method: n,
      url: this.url,
      headers: this.headers,
      schema: this.schema,
      fetch: (r = this.fetch) !== null && r !== void 0 ? r : fetch
    });
  }
};
sv.default = nq;
var XR = vr && vr.__importDefault || function(e) {
  return e && e.__esModule ? e : { default: e };
};
Object.defineProperty(_S, "__esModule", { value: !0 });
const sq = XR(sv), iq = XR(Xh);
let oq = class JR {
  // TODO: Add back shouldThrowOnError once we figure out the typings
  /**
   * Creates a PostgREST client.
   *
   * @param url - URL of the PostgREST endpoint
   * @param options - Named parameters
   * @param options.headers - Custom headers
   * @param options.schema - Postgres schema to switch to
   * @param options.fetch - Custom fetch
   */
  constructor(t, { headers: r = {}, schema: n, fetch: s } = {}) {
    this.url = t, this.headers = new Headers(r), this.schemaName = n, this.fetch = s;
  }
  /**
   * Perform a query on a table or a view.
   *
   * @param relation - The table or view name to query
   */
  from(t) {
    const r = new URL(`${this.url}/${t}`);
    return new sq.default(r, {
      headers: new Headers(this.headers),
      schema: this.schemaName,
      fetch: this.fetch
    });
  }
  /**
   * Select a schema to query or perform an function (rpc) call.
   *
   * The schema needs to be on the list of exposed schemas inside Supabase.
   *
   * @param schema - The schema to query
   */
  schema(t) {
    return new JR(this.url, {
      headers: this.headers,
      schema: t,
      fetch: this.fetch
    });
  }
  /**
   * Perform a function call.
   *
   * @param fn - The function name to call
   * @param args - The arguments to pass to the function call
   * @param options - Named parameters
   * @param options.head - When set to `true`, `data` will not be returned.
   * Useful if you only need the count.
   * @param options.get - When set to `true`, the function will be called with
   * read-only access mode.
   * @param options.count - Count algorithm to use to count rows returned by the
   * function. Only applicable for [set-returning
   * functions](https://www.postgresql.org/docs/current/functions-srf.html).
   *
   * `"exact"`: Exact but slow count algorithm. Performs a `COUNT(*)` under the
   * hood.
   *
   * `"planned"`: Approximated but fast count algorithm. Uses the Postgres
   * statistics under the hood.
   *
   * `"estimated"`: Uses exact count for low numbers and planned count for high
   * numbers.
   */
  rpc(t, r = {}, { head: n = !1, get: s = !1, count: i } = {}) {
    var o;
    let a;
    const l = new URL(`${this.url}/rpc/${t}`);
    let c;
    n || s ? (a = n ? "HEAD" : "GET", Object.entries(r).filter(([f, h]) => h !== void 0).map(([f, h]) => [f, Array.isArray(h) ? `{${h.join(",")}}` : `${h}`]).forEach(([f, h]) => {
      l.searchParams.append(f, h);
    })) : (a = "POST", c = r);
    const d = new Headers(this.headers);
    return i && d.set("Prefer", `count=${i}`), new iq.default({
      method: a,
      url: l,
      headers: d,
      schema: this.schemaName,
      body: c,
      fetch: (o = this.fetch) !== null && o !== void 0 ? o : fetch
    });
  }
};
_S.default = oq;
var fd = vr && vr.__importDefault || function(e) {
  return e && e.__esModule ? e : { default: e };
};
Object.defineProperty(Ln, "__esModule", { value: !0 });
Ln.PostgrestError = Ln.PostgrestBuilder = Ln.PostgrestTransformBuilder = Ln.PostgrestFilterBuilder = Ln.PostgrestQueryBuilder = Ln.PostgrestClient = void 0;
const QR = fd(_S);
Ln.PostgrestClient = QR.default;
const eI = fd(sv);
Ln.PostgrestQueryBuilder = eI.default;
const tI = fd(Xh);
Ln.PostgrestFilterBuilder = tI.default;
const rI = fd(iv);
Ln.PostgrestTransformBuilder = rI.default;
const nI = fd(ov);
Ln.PostgrestBuilder = nI.default;
const sI = fd(av);
Ln.PostgrestError = sI.default;
var aq = Ln.default = {
  PostgrestClient: QR.default,
  PostgrestQueryBuilder: eI.default,
  PostgrestFilterBuilder: tI.default,
  PostgrestTransformBuilder: rI.default,
  PostgrestBuilder: nI.default,
  PostgrestError: sI.default
};
const {
  PostgrestClient: lq,
  PostgrestQueryBuilder: c$e,
  PostgrestFilterBuilder: u$e,
  PostgrestTransformBuilder: d$e,
  PostgrestBuilder: f$e,
  PostgrestError: h$e
} = aq;
class cq {
  static detectEnvironment() {
    var t;
    if (typeof WebSocket < "u")
      return { type: "native", constructor: WebSocket };
    if (typeof globalThis < "u" && typeof globalThis.WebSocket < "u")
      return { type: "native", constructor: globalThis.WebSocket };
    if (typeof global < "u" && typeof global.WebSocket < "u")
      return { type: "native", constructor: global.WebSocket };
    if (typeof globalThis < "u" && typeof globalThis.WebSocketPair < "u" && typeof globalThis.WebSocket > "u")
      return {
        type: "cloudflare",
        error: "Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",
        workaround: "Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."
      };
    if (typeof globalThis < "u" && globalThis.EdgeRuntime || typeof navigator < "u" && (!((t = navigator.userAgent) === null || t === void 0) && t.includes("Vercel-Edge")))
      return {
        type: "unsupported",
        error: "Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",
        workaround: "Use serverless functions or a different deployment target for WebSocket functionality."
      };
    if (typeof process < "u" && process.versions && process.versions.node) {
      const r = parseInt(process.versions.node.split(".")[0]);
      return r >= 22 ? typeof globalThis.WebSocket < "u" ? { type: "native", constructor: globalThis.WebSocket } : {
        type: "unsupported",
        error: `Node.js ${r} detected but native WebSocket not found.`,
        workaround: "Provide a WebSocket implementation via the transport option."
      } : {
        type: "unsupported",
        error: `Node.js ${r} detected without native WebSocket support.`,
        workaround: `For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`
      };
    }
    return {
      type: "unsupported",
      error: "Unknown JavaScript runtime without WebSocket support.",
      workaround: "Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."
    };
  }
  static getWebSocketConstructor() {
    const t = this.detectEnvironment();
    if (t.constructor)
      return t.constructor;
    let r = t.error || "WebSocket not supported in this environment.";
    throw t.workaround && (r += `

Suggested solution: ${t.workaround}`), new Error(r);
  }
  static createWebSocket(t, r) {
    const n = this.getWebSocketConstructor();
    return new n(t, r);
  }
  static isWebSocketSupported() {
    try {
      const t = this.detectEnvironment();
      return t.type === "native" || t.type === "ws";
    } catch {
      return !1;
    }
  }
}
const uq = "2.15.1", dq = `realtime-js/${uq}`, fq = "1.0.0", gw = 1e4, hq = 1e3, pq = 100;
var $f;
(function(e) {
  e[e.connecting = 0] = "connecting", e[e.open = 1] = "open", e[e.closing = 2] = "closing", e[e.closed = 3] = "closed";
})($f || ($f = {}));
var Ar;
(function(e) {
  e.closed = "closed", e.errored = "errored", e.joined = "joined", e.joining = "joining", e.leaving = "leaving";
})(Ar || (Ar = {}));
var ei;
(function(e) {
  e.close = "phx_close", e.error = "phx_error", e.join = "phx_join", e.reply = "phx_reply", e.leave = "phx_leave", e.access_token = "access_token";
})(ei || (ei = {}));
var yw;
(function(e) {
  e.websocket = "websocket";
})(yw || (yw = {}));
var Dl;
(function(e) {
  e.Connecting = "connecting", e.Open = "open", e.Closing = "closing", e.Closed = "closed";
})(Dl || (Dl = {}));
class mq {
  constructor() {
    this.HEADER_LENGTH = 1;
  }
  decode(t, r) {
    return t.constructor === ArrayBuffer ? r(this._binaryDecode(t)) : r(typeof t == "string" ? JSON.parse(t) : {});
  }
  _binaryDecode(t) {
    const r = new DataView(t), n = new TextDecoder();
    return this._decodeBroadcast(t, r, n);
  }
  _decodeBroadcast(t, r, n) {
    const s = r.getUint8(1), i = r.getUint8(2);
    let o = this.HEADER_LENGTH + 2;
    const a = n.decode(t.slice(o, o + s));
    o = o + s;
    const l = n.decode(t.slice(o, o + i));
    o = o + i;
    const c = JSON.parse(n.decode(t.slice(o, t.byteLength)));
    return { ref: null, topic: a, event: l, payload: c };
  }
}
class iI {
  constructor(t, r) {
    this.callback = t, this.timerCalc = r, this.timer = void 0, this.tries = 0, this.callback = t, this.timerCalc = r;
  }
  reset() {
    this.tries = 0, clearTimeout(this.timer), this.timer = void 0;
  }
  // Cancels any previous scheduleTimeout and schedules callback
  scheduleTimeout() {
    clearTimeout(this.timer), this.timer = setTimeout(() => {
      this.tries = this.tries + 1, this.callback();
    }, this.timerCalc(this.tries + 1));
  }
}
var At;
(function(e) {
  e.abstime = "abstime", e.bool = "bool", e.date = "date", e.daterange = "daterange", e.float4 = "float4", e.float8 = "float8", e.int2 = "int2", e.int4 = "int4", e.int4range = "int4range", e.int8 = "int8", e.int8range = "int8range", e.json = "json", e.jsonb = "jsonb", e.money = "money", e.numeric = "numeric", e.oid = "oid", e.reltime = "reltime", e.text = "text", e.time = "time", e.timestamp = "timestamp", e.timestamptz = "timestamptz", e.timetz = "timetz", e.tsrange = "tsrange", e.tstzrange = "tstzrange";
})(At || (At = {}));
const pC = (e, t, r = {}) => {
  var n;
  const s = (n = r.skipTypes) !== null && n !== void 0 ? n : [];
  return Object.keys(t).reduce((i, o) => (i[o] = gq(o, e, t, s), i), {});
}, gq = (e, t, r, n) => {
  const s = t.find((a) => a.name === e), i = s == null ? void 0 : s.type, o = r[e];
  return i && !n.includes(i) ? oI(i, o) : vw(o);
}, oI = (e, t) => {
  if (e.charAt(0) === "_") {
    const r = e.slice(1, e.length);
    return xq(t, r);
  }
  switch (e) {
    case At.bool:
      return yq(t);
    case At.float4:
    case At.float8:
    case At.int2:
    case At.int4:
    case At.int8:
    case At.numeric:
    case At.oid:
      return vq(t);
    case At.json:
    case At.jsonb:
      return bq(t);
    case At.timestamp:
      return wq(t);
    case At.abstime:
    case At.date:
    case At.daterange:
    case At.int4range:
    case At.int8range:
    case At.money:
    case At.reltime:
    case At.text:
    case At.time:
    case At.timestamptz:
    case At.timetz:
    case At.tsrange:
    case At.tstzrange:
      return vw(t);
    default:
      return vw(t);
  }
}, vw = (e) => e, yq = (e) => {
  switch (e) {
    case "t":
      return !0;
    case "f":
      return !1;
    default:
      return e;
  }
}, vq = (e) => {
  if (typeof e == "string") {
    const t = parseFloat(e);
    if (!Number.isNaN(t))
      return t;
  }
  return e;
}, bq = (e) => {
  if (typeof e == "string")
    try {
      return JSON.parse(e);
    } catch (t) {
      return console.log(`JSON parse error: ${t}`), e;
    }
  return e;
}, xq = (e, t) => {
  if (typeof e != "string")
    return e;
  const r = e.length - 1, n = e[r];
  if (e[0] === "{" && n === "}") {
    let i;
    const o = e.slice(1, r);
    try {
      i = JSON.parse("[" + o + "]");
    } catch {
      i = o ? o.split(",") : [];
    }
    return i.map((a) => oI(t, a));
  }
  return e;
}, wq = (e) => typeof e == "string" ? e.replace(" ", "T") : e, aI = (e) => {
  let t = e;
  return t = t.replace(/^ws/i, "http"), t = t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i, ""), t.replace(/\/+$/, "") + "/api/broadcast";
};
class g0 {
  /**
   * Initializes the Push
   *
   * @param channel The Channel
   * @param event The event, for example `"phx_join"`
   * @param payload The payload, for example `{user_id: 123}`
   * @param timeout The push timeout in milliseconds
   */
  constructor(t, r, n = {}, s = gw) {
    this.channel = t, this.event = r, this.payload = n, this.timeout = s, this.sent = !1, this.timeoutTimer = void 0, this.ref = "", this.receivedResp = null, this.recHooks = [], this.refEvent = null;
  }
  resend(t) {
    this.timeout = t, this._cancelRefEvent(), this.ref = "", this.refEvent = null, this.receivedResp = null, this.sent = !1, this.send();
  }
  send() {
    this._hasReceived("timeout") || (this.startTimeout(), this.sent = !0, this.channel.socket.push({
      topic: this.channel.topic,
      event: this.event,
      payload: this.payload,
      ref: this.ref,
      join_ref: this.channel._joinRef()
    }));
  }
  updatePayload(t) {
    this.payload = Object.assign(Object.assign({}, this.payload), t);
  }
  receive(t, r) {
    var n;
    return this._hasReceived(t) && r((n = this.receivedResp) === null || n === void 0 ? void 0 : n.response), this.recHooks.push({ status: t, callback: r }), this;
  }
  startTimeout() {
    if (this.timeoutTimer)
      return;
    this.ref = this.channel.socket._makeRef(), this.refEvent = this.channel._replyEventName(this.ref);
    const t = (r) => {
      this._cancelRefEvent(), this._cancelTimeout(), this.receivedResp = r, this._matchReceive(r);
    };
    this.channel._on(this.refEvent, {}, t), this.timeoutTimer = setTimeout(() => {
      this.trigger("timeout", {});
    }, this.timeout);
  }
  trigger(t, r) {
    this.refEvent && this.channel._trigger(this.refEvent, { status: t, response: r });
  }
  destroy() {
    this._cancelRefEvent(), this._cancelTimeout();
  }
  _cancelRefEvent() {
    this.refEvent && this.channel._off(this.refEvent, {});
  }
  _cancelTimeout() {
    clearTimeout(this.timeoutTimer), this.timeoutTimer = void 0;
  }
  _matchReceive({ status: t, response: r }) {
    this.recHooks.filter((n) => n.status === t).forEach((n) => n.callback(r));
  }
  _hasReceived(t) {
    return this.receivedResp && this.receivedResp.status === t;
  }
}
var mC;
(function(e) {
  e.SYNC = "sync", e.JOIN = "join", e.LEAVE = "leave";
})(mC || (mC = {}));
class Rf {
  /**
   * Initializes the Presence.
   *
   * @param channel - The RealtimeChannel
   * @param opts - The options,
   *        for example `{events: {state: 'state', diff: 'diff'}}`
   */
  constructor(t, r) {
    this.channel = t, this.state = {}, this.pendingDiffs = [], this.joinRef = null, this.enabled = !1, this.caller = {
      onJoin: () => {
      },
      onLeave: () => {
      },
      onSync: () => {
      }
    };
    const n = (r == null ? void 0 : r.events) || {
      state: "presence_state",
      diff: "presence_diff"
    };
    this.channel._on(n.state, {}, (s) => {
      const { onJoin: i, onLeave: o, onSync: a } = this.caller;
      this.joinRef = this.channel._joinRef(), this.state = Rf.syncState(this.state, s, i, o), this.pendingDiffs.forEach((l) => {
        this.state = Rf.syncDiff(this.state, l, i, o);
      }), this.pendingDiffs = [], a();
    }), this.channel._on(n.diff, {}, (s) => {
      const { onJoin: i, onLeave: o, onSync: a } = this.caller;
      this.inPendingSyncState() ? this.pendingDiffs.push(s) : (this.state = Rf.syncDiff(this.state, s, i, o), a());
    }), this.onJoin((s, i, o) => {
      this.channel._trigger("presence", {
        event: "join",
        key: s,
        currentPresences: i,
        newPresences: o
      });
    }), this.onLeave((s, i, o) => {
      this.channel._trigger("presence", {
        event: "leave",
        key: s,
        currentPresences: i,
        leftPresences: o
      });
    }), this.onSync(() => {
      this.channel._trigger("presence", { event: "sync" });
    });
  }
  /**
   * Used to sync the list of presences on the server with the
   * client's state.
   *
   * An optional `onJoin` and `onLeave` callback can be provided to
   * react to changes in the client's local presences across
   * disconnects and reconnects with the server.
   *
   * @internal
   */
  static syncState(t, r, n, s) {
    const i = this.cloneDeep(t), o = this.transformState(r), a = {}, l = {};
    return this.map(i, (c, d) => {
      o[c] || (l[c] = d);
    }), this.map(o, (c, d) => {
      const f = i[c];
      if (f) {
        const h = d.map((y) => y.presence_ref), p = f.map((y) => y.presence_ref), g = d.filter((y) => p.indexOf(y.presence_ref) < 0), m = f.filter((y) => h.indexOf(y.presence_ref) < 0);
        g.length > 0 && (a[c] = g), m.length > 0 && (l[c] = m);
      } else
        a[c] = d;
    }), this.syncDiff(i, { joins: a, leaves: l }, n, s);
  }
  /**
   * Used to sync a diff of presence join and leave events from the
   * server, as they happen.
   *
   * Like `syncState`, `syncDiff` accepts optional `onJoin` and
   * `onLeave` callbacks to react to a user joining or leaving from a
   * device.
   *
   * @internal
   */
  static syncDiff(t, r, n, s) {
    const { joins: i, leaves: o } = {
      joins: this.transformState(r.joins),
      leaves: this.transformState(r.leaves)
    };
    return n || (n = () => {
    }), s || (s = () => {
    }), this.map(i, (a, l) => {
      var c;
      const d = (c = t[a]) !== null && c !== void 0 ? c : [];
      if (t[a] = this.cloneDeep(l), d.length > 0) {
        const f = t[a].map((p) => p.presence_ref), h = d.filter((p) => f.indexOf(p.presence_ref) < 0);
        t[a].unshift(...h);
      }
      n(a, d, l);
    }), this.map(o, (a, l) => {
      let c = t[a];
      if (!c)
        return;
      const d = l.map((f) => f.presence_ref);
      c = c.filter((f) => d.indexOf(f.presence_ref) < 0), t[a] = c, s(a, c, l), c.length === 0 && delete t[a];
    }), t;
  }
  /** @internal */
  static map(t, r) {
    return Object.getOwnPropertyNames(t).map((n) => r(n, t[n]));
  }
  /**
   * Remove 'metas' key
   * Change 'phx_ref' to 'presence_ref'
   * Remove 'phx_ref' and 'phx_ref_prev'
   *
   * @example
   * // returns {
   *  abc123: [
   *    { presence_ref: '2', user_id: 1 },
   *    { presence_ref: '3', user_id: 2 }
   *  ]
   * }
   * RealtimePresence.transformState({
   *  abc123: {
   *    metas: [
   *      { phx_ref: '2', phx_ref_prev: '1' user_id: 1 },
   *      { phx_ref: '3', user_id: 2 }
   *    ]
   *  }
   * })
   *
   * @internal
   */
  static transformState(t) {
    return t = this.cloneDeep(t), Object.getOwnPropertyNames(t).reduce((r, n) => {
      const s = t[n];
      return "metas" in s ? r[n] = s.metas.map((i) => (i.presence_ref = i.phx_ref, delete i.phx_ref, delete i.phx_ref_prev, i)) : r[n] = s, r;
    }, {});
  }
  /** @internal */
  static cloneDeep(t) {
    return JSON.parse(JSON.stringify(t));
  }
  /** @internal */
  onJoin(t) {
    this.caller.onJoin = t;
  }
  /** @internal */
  onLeave(t) {
    this.caller.onLeave = t;
  }
  /** @internal */
  onSync(t) {
    this.caller.onSync = t;
  }
  /** @internal */
  inPendingSyncState() {
    return !this.joinRef || this.joinRef !== this.channel._joinRef();
  }
}
var gC;
(function(e) {
  e.ALL = "*", e.INSERT = "INSERT", e.UPDATE = "UPDATE", e.DELETE = "DELETE";
})(gC || (gC = {}));
var If;
(function(e) {
  e.BROADCAST = "broadcast", e.PRESENCE = "presence", e.POSTGRES_CHANGES = "postgres_changes", e.SYSTEM = "system";
})(If || (If = {}));
var wo;
(function(e) {
  e.SUBSCRIBED = "SUBSCRIBED", e.TIMED_OUT = "TIMED_OUT", e.CLOSED = "CLOSED", e.CHANNEL_ERROR = "CHANNEL_ERROR";
})(wo || (wo = {}));
class SS {
  constructor(t, r = { config: {} }, n) {
    this.topic = t, this.params = r, this.socket = n, this.bindings = {}, this.state = Ar.closed, this.joinedOnce = !1, this.pushBuffer = [], this.subTopic = t.replace(/^realtime:/i, ""), this.params.config = Object.assign({
      broadcast: { ack: !1, self: !1 },
      presence: { key: "", enabled: !1 },
      private: !1
    }, r.config), this.timeout = this.socket.timeout, this.joinPush = new g0(this, ei.join, this.params, this.timeout), this.rejoinTimer = new iI(() => this._rejoinUntilConnected(), this.socket.reconnectAfterMs), this.joinPush.receive("ok", () => {
      this.state = Ar.joined, this.rejoinTimer.reset(), this.pushBuffer.forEach((s) => s.send()), this.pushBuffer = [];
    }), this._onClose(() => {
      this.rejoinTimer.reset(), this.socket.log("channel", `close ${this.topic} ${this._joinRef()}`), this.state = Ar.closed, this.socket._remove(this);
    }), this._onError((s) => {
      this._isLeaving() || this._isClosed() || (this.socket.log("channel", `error ${this.topic}`, s), this.state = Ar.errored, this.rejoinTimer.scheduleTimeout());
    }), this.joinPush.receive("timeout", () => {
      this._isJoining() && (this.socket.log("channel", `timeout ${this.topic}`, this.joinPush.timeout), this.state = Ar.errored, this.rejoinTimer.scheduleTimeout());
    }), this.joinPush.receive("error", (s) => {
      this._isLeaving() || this._isClosed() || (this.socket.log("channel", `error ${this.topic}`, s), this.state = Ar.errored, this.rejoinTimer.scheduleTimeout());
    }), this._on(ei.reply, {}, (s, i) => {
      this._trigger(this._replyEventName(i), s);
    }), this.presence = new Rf(this), this.broadcastEndpointURL = aI(this.socket.endPoint), this.private = this.params.config.private || !1;
  }
  /** Subscribe registers your client with the server */
  subscribe(t, r = this.timeout) {
    var n, s;
    if (this.socket.isConnected() || this.socket.connect(), this.state == Ar.closed) {
      const { config: { broadcast: i, presence: o, private: a } } = this.params, l = (s = (n = this.bindings.postgres_changes) === null || n === void 0 ? void 0 : n.map((h) => h.filter)) !== null && s !== void 0 ? s : [], c = !!this.bindings[If.PRESENCE] && this.bindings[If.PRESENCE].length > 0, d = {}, f = {
        broadcast: i,
        presence: Object.assign(Object.assign({}, o), { enabled: c }),
        postgres_changes: l,
        private: a
      };
      this.socket.accessTokenValue && (d.access_token = this.socket.accessTokenValue), this._onError((h) => t == null ? void 0 : t(wo.CHANNEL_ERROR, h)), this._onClose(() => t == null ? void 0 : t(wo.CLOSED)), this.updateJoinPayload(Object.assign({ config: f }, d)), this.joinedOnce = !0, this._rejoin(r), this.joinPush.receive("ok", async ({ postgres_changes: h }) => {
        var p;
        if (this.socket.setAuth(), h === void 0) {
          t == null || t(wo.SUBSCRIBED);
          return;
        } else {
          const g = this.bindings.postgres_changes, m = (p = g == null ? void 0 : g.length) !== null && p !== void 0 ? p : 0, y = [];
          for (let v = 0; v < m; v++) {
            const b = g[v], { filter: { event: x, schema: S, table: w, filter: j } } = b, N = h && h[v];
            if (N && N.event === x && N.schema === S && N.table === w && N.filter === j)
              y.push(Object.assign(Object.assign({}, b), { id: N.id }));
            else {
              this.unsubscribe(), this.state = Ar.errored, t == null || t(wo.CHANNEL_ERROR, new Error("mismatch between server and client bindings for postgres changes"));
              return;
            }
          }
          this.bindings.postgres_changes = y, t && t(wo.SUBSCRIBED);
          return;
        }
      }).receive("error", (h) => {
        this.state = Ar.errored, t == null || t(wo.CHANNEL_ERROR, new Error(JSON.stringify(Object.values(h).join(", ") || "error")));
      }).receive("timeout", () => {
        t == null || t(wo.TIMED_OUT);
      });
    }
    return this;
  }
  presenceState() {
    return this.presence.state;
  }
  async track(t, r = {}) {
    return await this.send({
      type: "presence",
      event: "track",
      payload: t
    }, r.timeout || this.timeout);
  }
  async untrack(t = {}) {
    return await this.send({
      type: "presence",
      event: "untrack"
    }, t);
  }
  on(t, r, n) {
    return this.state === Ar.joined && t === If.PRESENCE && (this.socket.log("channel", `resubscribe to ${this.topic} due to change in presence callbacks on joined channel`), this.unsubscribe().then(() => this.subscribe())), this._on(t, r, n);
  }
  /**
   * Sends a message into the channel.
   *
   * @param args Arguments to send to channel
   * @param args.type The type of event to send
   * @param args.event The name of the event being sent
   * @param args.payload Payload to be sent
   * @param opts Options to be used during the send process
   */
  async send(t, r = {}) {
    var n, s;
    if (!this._canPush() && t.type === "broadcast") {
      const { event: i, payload: o } = t, l = {
        method: "POST",
        headers: {
          Authorization: this.socket.accessTokenValue ? `Bearer ${this.socket.accessTokenValue}` : "",
          apikey: this.socket.apiKey ? this.socket.apiKey : "",
          "Content-Type": "application/json"
        },
        body: JSON.stringify({
          messages: [
            {
              topic: this.subTopic,
              event: i,
              payload: o,
              private: this.private
            }
          ]
        })
      };
      try {
        const c = await this._fetchWithTimeout(this.broadcastEndpointURL, l, (n = r.timeout) !== null && n !== void 0 ? n : this.timeout);
        return await ((s = c.body) === null || s === void 0 ? void 0 : s.cancel()), c.ok ? "ok" : "error";
      } catch (c) {
        return c.name === "AbortError" ? "timed out" : "error";
      }
    } else
      return new Promise((i) => {
        var o, a, l;
        const c = this._push(t.type, t, r.timeout || this.timeout);
        t.type === "broadcast" && !(!((l = (a = (o = this.params) === null || o === void 0 ? void 0 : o.config) === null || a === void 0 ? void 0 : a.broadcast) === null || l === void 0) && l.ack) && i("ok"), c.receive("ok", () => i("ok")), c.receive("error", () => i("error")), c.receive("timeout", () => i("timed out"));
      });
  }
  updateJoinPayload(t) {
    this.joinPush.updatePayload(t);
  }
  /**
   * Leaves the channel.
   *
   * Unsubscribes from server events, and instructs channel to terminate on server.
   * Triggers onClose() hooks.
   *
   * To receive leave acknowledgements, use the a `receive` hook to bind to the server ack, ie:
   * channel.unsubscribe().receive("ok", () => alert("left!") )
   */
  unsubscribe(t = this.timeout) {
    this.state = Ar.leaving;
    const r = () => {
      this.socket.log("channel", `leave ${this.topic}`), this._trigger(ei.close, "leave", this._joinRef());
    };
    this.joinPush.destroy();
    let n = null;
    return new Promise((s) => {
      n = new g0(this, ei.leave, {}, t), n.receive("ok", () => {
        r(), s("ok");
      }).receive("timeout", () => {
        r(), s("timed out");
      }).receive("error", () => {
        s("error");
      }), n.send(), this._canPush() || n.trigger("ok", {});
    }).finally(() => {
      n == null || n.destroy();
    });
  }
  /**
   * Teardown the channel.
   *
   * Destroys and stops related timers.
   */
  teardown() {
    this.pushBuffer.forEach((t) => t.destroy()), this.pushBuffer = [], this.rejoinTimer.reset(), this.joinPush.destroy(), this.state = Ar.closed, this.bindings = {};
  }
  /** @internal */
  async _fetchWithTimeout(t, r, n) {
    const s = new AbortController(), i = setTimeout(() => s.abort(), n), o = await this.socket.fetch(t, Object.assign(Object.assign({}, r), { signal: s.signal }));
    return clearTimeout(i), o;
  }
  /** @internal */
  _push(t, r, n = this.timeout) {
    if (!this.joinedOnce)
      throw `tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;
    let s = new g0(this, t, r, n);
    return this._canPush() ? s.send() : this._addToPushBuffer(s), s;
  }
  /** @internal */
  _addToPushBuffer(t) {
    if (t.startTimeout(), this.pushBuffer.push(t), this.pushBuffer.length > pq) {
      const r = this.pushBuffer.shift();
      r && (r.destroy(), this.socket.log("channel", `discarded push due to buffer overflow: ${r.event}`, r.payload));
    }
  }
  /**
   * Overridable message hook
   *
   * Receives all events for specialized message handling before dispatching to the channel callbacks.
   * Must return the payload, modified or unmodified.
   *
   * @internal
   */
  _onMessage(t, r, n) {
    return r;
  }
  /** @internal */
  _isMember(t) {
    return this.topic === t;
  }
  /** @internal */
  _joinRef() {
    return this.joinPush.ref;
  }
  /** @internal */
  _trigger(t, r, n) {
    var s, i;
    const o = t.toLocaleLowerCase(), { close: a, error: l, leave: c, join: d } = ei;
    if (n && [a, l, c, d].indexOf(o) >= 0 && n !== this._joinRef())
      return;
    let h = this._onMessage(o, r, n);
    if (r && !h)
      throw "channel onMessage callbacks must return the payload, modified or unmodified";
    ["insert", "update", "delete"].includes(o) ? (s = this.bindings.postgres_changes) === null || s === void 0 || s.filter((p) => {
      var g, m, y;
      return ((g = p.filter) === null || g === void 0 ? void 0 : g.event) === "*" || ((y = (m = p.filter) === null || m === void 0 ? void 0 : m.event) === null || y === void 0 ? void 0 : y.toLocaleLowerCase()) === o;
    }).map((p) => p.callback(h, n)) : (i = this.bindings[o]) === null || i === void 0 || i.filter((p) => {
      var g, m, y, v, b, x;
      if (["broadcast", "presence", "postgres_changes"].includes(o))
        if ("id" in p) {
          const S = p.id, w = (g = p.filter) === null || g === void 0 ? void 0 : g.event;
          return S && ((m = r.ids) === null || m === void 0 ? void 0 : m.includes(S)) && (w === "*" || (w == null ? void 0 : w.toLocaleLowerCase()) === ((y = r.data) === null || y === void 0 ? void 0 : y.type.toLocaleLowerCase()));
        } else {
          const S = (b = (v = p == null ? void 0 : p.filter) === null || v === void 0 ? void 0 : v.event) === null || b === void 0 ? void 0 : b.toLocaleLowerCase();
          return S === "*" || S === ((x = r == null ? void 0 : r.event) === null || x === void 0 ? void 0 : x.toLocaleLowerCase());
        }
      else
        return p.type.toLocaleLowerCase() === o;
    }).map((p) => {
      if (typeof h == "object" && "ids" in h) {
        const g = h.data, { schema: m, table: y, commit_timestamp: v, type: b, errors: x } = g;
        h = Object.assign(Object.assign({}, {
          schema: m,
          table: y,
          commit_timestamp: v,
          eventType: b,
          new: {},
          old: {},
          errors: x
        }), this._getPayloadRecords(g));
      }
      p.callback(h, n);
    });
  }
  /** @internal */
  _isClosed() {
    return this.state === Ar.closed;
  }
  /** @internal */
  _isJoined() {
    return this.state === Ar.joined;
  }
  /** @internal */
  _isJoining() {
    return this.state === Ar.joining;
  }
  /** @internal */
  _isLeaving() {
    return this.state === Ar.leaving;
  }
  /** @internal */
  _replyEventName(t) {
    return `chan_reply_${t}`;
  }
  /** @internal */
  _on(t, r, n) {
    const s = t.toLocaleLowerCase(), i = {
      type: s,
      filter: r,
      callback: n
    };
    return this.bindings[s] ? this.bindings[s].push(i) : this.bindings[s] = [i], this;
  }
  /** @internal */
  _off(t, r) {
    const n = t.toLocaleLowerCase();
    return this.bindings[n] && (this.bindings[n] = this.bindings[n].filter((s) => {
      var i;
      return !(((i = s.type) === null || i === void 0 ? void 0 : i.toLocaleLowerCase()) === n && SS.isEqual(s.filter, r));
    })), this;
  }
  /** @internal */
  static isEqual(t, r) {
    if (Object.keys(t).length !== Object.keys(r).length)
      return !1;
    for (const n in t)
      if (t[n] !== r[n])
        return !1;
    return !0;
  }
  /** @internal */
  _rejoinUntilConnected() {
    this.rejoinTimer.scheduleTimeout(), this.socket.isConnected() && this._rejoin();
  }
  /**
   * Registers a callback that will be executed when the channel closes.
   *
   * @internal
   */
  _onClose(t) {
    this._on(ei.close, {}, t);
  }
  /**
   * Registers a callback that will be executed when the channel encounteres an error.
   *
   * @internal
   */
  _onError(t) {
    this._on(ei.error, {}, (r) => t(r));
  }
  /**
   * Returns `true` if the socket is connected and the channel has been joined.
   *
   * @internal
   */
  _canPush() {
    return this.socket.isConnected() && this._isJoined();
  }
  /** @internal */
  _rejoin(t = this.timeout) {
    this._isLeaving() || (this.socket._leaveOpenTopic(this.topic), this.state = Ar.joining, this.joinPush.resend(t));
  }
  /** @internal */
  _getPayloadRecords(t) {
    const r = {
      new: {},
      old: {}
    };
    return (t.type === "INSERT" || t.type === "UPDATE") && (r.new = pC(t.columns, t.record)), (t.type === "UPDATE" || t.type === "DELETE") && (r.old = pC(t.columns, t.old_record)), r;
  }
}
const yC = () => {
}, Qp = {
  HEARTBEAT_INTERVAL: 25e3,
  RECONNECT_DELAY: 10,
  HEARTBEAT_TIMEOUT_FALLBACK: 100
}, _q = [1e3, 2e3, 5e3, 1e4], Sq = 1e4, Eq = `
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;
class jq {
  /**
   * Initializes the Socket.
   *
   * @param endPoint The string WebSocket endpoint, ie, "ws://example.com/socket", "wss://example.com", "/socket" (inherited host & protocol)
   * @param httpEndpoint The string HTTP endpoint, ie, "https://example.com", "/" (inherited host & protocol)
   * @param options.transport The Websocket Transport, for example WebSocket. This can be a custom implementation
   * @param options.timeout The default timeout in milliseconds to trigger push timeouts.
   * @param options.params The optional params to pass when connecting.
   * @param options.headers Deprecated: headers cannot be set on websocket connections and this option will be removed in the future.
   * @param options.heartbeatIntervalMs The millisec interval to send a heartbeat message.
   * @param options.logger The optional function for specialized logging, ie: logger: (kind, msg, data) => { console.log(`${kind}: ${msg}`, data) }
   * @param options.logLevel Sets the log level for Realtime
   * @param options.encode The function to encode outgoing messages. Defaults to JSON: (payload, callback) => callback(JSON.stringify(payload))
   * @param options.decode The function to decode incoming messages. Defaults to Serializer's decode.
   * @param options.reconnectAfterMs he optional function that returns the millsec reconnect interval. Defaults to stepped backoff off.
   * @param options.worker Use Web Worker to set a side flow. Defaults to false.
   * @param options.workerUrl The URL of the worker script. Defaults to https://realtime.supabase.com/worker.js that includes a heartbeat event call to keep the connection alive.
   */
  constructor(t, r) {
    var n;
    if (this.accessTokenValue = null, this.apiKey = null, this.channels = new Array(), this.endPoint = "", this.httpEndpoint = "", this.headers = {}, this.params = {}, this.timeout = gw, this.transport = null, this.heartbeatIntervalMs = Qp.HEARTBEAT_INTERVAL, this.heartbeatTimer = void 0, this.pendingHeartbeatRef = null, this.heartbeatCallback = yC, this.ref = 0, this.reconnectTimer = null, this.logger = yC, this.conn = null, this.sendBuffer = [], this.serializer = new mq(), this.stateChangeCallbacks = {
      open: [],
      close: [],
      error: [],
      message: []
    }, this.accessToken = null, this._connectionState = "disconnected", this._wasManualDisconnect = !1, this._authPromise = null, this._resolveFetch = (s) => {
      let i;
      return s ? i = s : typeof fetch > "u" ? i = (...o) => Promise.resolve().then(() => dd).then(({ default: a }) => a(...o)).catch((a) => {
        throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`);
      }) : i = fetch, (...o) => i(...o);
    }, !(!((n = r == null ? void 0 : r.params) === null || n === void 0) && n.apikey))
      throw new Error("API key is required to connect to Realtime");
    this.apiKey = r.params.apikey, this.endPoint = `${t}/${yw.websocket}`, this.httpEndpoint = aI(t), this._initializeOptions(r), this._setupReconnectionTimer(), this.fetch = this._resolveFetch(r == null ? void 0 : r.fetch);
  }
  /**
   * Connects the socket, unless already connected.
   */
  connect() {
    if (!(this.isConnecting() || this.isDisconnecting() || this.conn !== null && this.isConnected())) {
      if (this._setConnectionState("connecting"), this._setAuthSafely("connect"), this.transport)
        this.conn = new this.transport(this.endpointURL());
      else
        try {
          this.conn = cq.createWebSocket(this.endpointURL());
        } catch (t) {
          this._setConnectionState("disconnected");
          const r = t.message;
          throw r.includes("Node.js") ? new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`) : new Error(`WebSocket not available: ${r}`);
        }
      this._setupConnectionHandlers();
    }
  }
  /**
   * Returns the URL of the websocket.
   * @returns string The URL of the websocket.
   */
  endpointURL() {
    return this._appendParams(this.endPoint, Object.assign({}, this.params, { vsn: fq }));
  }
  /**
   * Disconnects the socket.
   *
   * @param code A numeric status code to send on disconnect.
   * @param reason A custom reason for the disconnect.
   */
  disconnect(t, r) {
    if (!this.isDisconnecting())
      if (this._setConnectionState("disconnecting", !0), this.conn) {
        const n = setTimeout(() => {
          this._setConnectionState("disconnected");
        }, 100);
        this.conn.onclose = () => {
          clearTimeout(n), this._setConnectionState("disconnected");
        }, t ? this.conn.close(t, r ?? "") : this.conn.close(), this._teardownConnection();
      } else
        this._setConnectionState("disconnected");
  }
  /**
   * Returns all created channels
   */
  getChannels() {
    return this.channels;
  }
  /**
   * Unsubscribes and removes a single channel
   * @param channel A RealtimeChannel instance
   */
  async removeChannel(t) {
    const r = await t.unsubscribe();
    return this.channels.length === 0 && this.disconnect(), r;
  }
  /**
   * Unsubscribes and removes all channels
   */
  async removeAllChannels() {
    const t = await Promise.all(this.channels.map((r) => r.unsubscribe()));
    return this.channels = [], this.disconnect(), t;
  }
  /**
   * Logs the message.
   *
   * For customized logging, `this.logger` can be overridden.
   */
  log(t, r, n) {
    this.logger(t, r, n);
  }
  /**
   * Returns the current state of the socket.
   */
  connectionState() {
    switch (this.conn && this.conn.readyState) {
      case $f.connecting:
        return Dl.Connecting;
      case $f.open:
        return Dl.Open;
      case $f.closing:
        return Dl.Closing;
      default:
        return Dl.Closed;
    }
  }
  /**
   * Returns `true` is the connection is open.
   */
  isConnected() {
    return this.connectionState() === Dl.Open;
  }
  /**
   * Returns `true` if the connection is currently connecting.
   */
  isConnecting() {
    return this._connectionState === "connecting";
  }
  /**
   * Returns `true` if the connection is currently disconnecting.
   */
  isDisconnecting() {
    return this._connectionState === "disconnecting";
  }
  channel(t, r = { config: {} }) {
    const n = `realtime:${t}`, s = this.getChannels().find((i) => i.topic === n);
    if (s)
      return s;
    {
      const i = new SS(`realtime:${t}`, r, this);
      return this.channels.push(i), i;
    }
  }
  /**
   * Push out a message if the socket is connected.
   *
   * If the socket is not connected, the message gets enqueued within a local buffer, and sent out when a connection is next established.
   */
  push(t) {
    const { topic: r, event: n, payload: s, ref: i } = t, o = () => {
      this.encode(t, (a) => {
        var l;
        (l = this.conn) === null || l === void 0 || l.send(a);
      });
    };
    this.log("push", `${r} ${n} (${i})`, s), this.isConnected() ? o() : this.sendBuffer.push(o);
  }
  /**
   * Sets the JWT access token used for channel subscription authorization and Realtime RLS.
   *
   * If param is null it will use the `accessToken` callback function or the token set on the client.
   *
   * On callback used, it will set the value of the token internal to the client.
   *
   * @param token A JWT string to override the token set on the client.
   */
  async setAuth(t = null) {
    this._authPromise = this._performAuth(t);
    try {
      await this._authPromise;
    } finally {
      this._authPromise = null;
    }
  }
  /**
   * Sends a heartbeat message if the socket is connected.
   */
  async sendHeartbeat() {
    var t;
    if (!this.isConnected()) {
      this.heartbeatCallback("disconnected");
      return;
    }
    if (this.pendingHeartbeatRef) {
      this.pendingHeartbeatRef = null, this.log("transport", "heartbeat timeout. Attempting to re-establish connection"), this.heartbeatCallback("timeout"), this._wasManualDisconnect = !1, (t = this.conn) === null || t === void 0 || t.close(hq, "heartbeat timeout"), setTimeout(() => {
        var r;
        this.isConnected() || (r = this.reconnectTimer) === null || r === void 0 || r.scheduleTimeout();
      }, Qp.HEARTBEAT_TIMEOUT_FALLBACK);
      return;
    }
    this.pendingHeartbeatRef = this._makeRef(), this.push({
      topic: "phoenix",
      event: "heartbeat",
      payload: {},
      ref: this.pendingHeartbeatRef
    }), this.heartbeatCallback("sent"), this._setAuthSafely("heartbeat");
  }
  onHeartbeat(t) {
    this.heartbeatCallback = t;
  }
  /**
   * Flushes send buffer
   */
  flushSendBuffer() {
    this.isConnected() && this.sendBuffer.length > 0 && (this.sendBuffer.forEach((t) => t()), this.sendBuffer = []);
  }
  /**
   * Return the next message ref, accounting for overflows
   *
   * @internal
   */
  _makeRef() {
    let t = this.ref + 1;
    return t === this.ref ? this.ref = 0 : this.ref = t, this.ref.toString();
  }
  /**
   * Unsubscribe from channels with the specified topic.
   *
   * @internal
   */
  _leaveOpenTopic(t) {
    let r = this.channels.find((n) => n.topic === t && (n._isJoined() || n._isJoining()));
    r && (this.log("transport", `leaving duplicate topic "${t}"`), r.unsubscribe());
  }
  /**
   * Removes a subscription from the socket.
   *
   * @param channel An open subscription.
   *
   * @internal
   */
  _remove(t) {
    this.channels = this.channels.filter((r) => r.topic !== t.topic);
  }
  /** @internal */
  _onConnMessage(t) {
    this.decode(t.data, (r) => {
      r.topic === "phoenix" && r.event === "phx_reply" && this.heartbeatCallback(r.payload.status === "ok" ? "ok" : "error"), r.ref && r.ref === this.pendingHeartbeatRef && (this.pendingHeartbeatRef = null);
      const { topic: n, event: s, payload: i, ref: o } = r, a = o ? `(${o})` : "", l = i.status || "";
      this.log("receive", `${l} ${n} ${s} ${a}`.trim(), i), this.channels.filter((c) => c._isMember(n)).forEach((c) => c._trigger(s, i, o)), this._triggerStateCallbacks("message", r);
    });
  }
  /**
   * Clear specific timer
   * @internal
   */
  _clearTimer(t) {
    var r;
    t === "heartbeat" && this.heartbeatTimer ? (clearInterval(this.heartbeatTimer), this.heartbeatTimer = void 0) : t === "reconnect" && ((r = this.reconnectTimer) === null || r === void 0 || r.reset());
  }
  /**
   * Clear all timers
   * @internal
   */
  _clearAllTimers() {
    this._clearTimer("heartbeat"), this._clearTimer("reconnect");
  }
  /**
   * Setup connection handlers for WebSocket events
   * @internal
   */
  _setupConnectionHandlers() {
    this.conn && ("binaryType" in this.conn && (this.conn.binaryType = "arraybuffer"), this.conn.onopen = () => this._onConnOpen(), this.conn.onerror = (t) => this._onConnError(t), this.conn.onmessage = (t) => this._onConnMessage(t), this.conn.onclose = (t) => this._onConnClose(t));
  }
  /**
   * Teardown connection and cleanup resources
   * @internal
   */
  _teardownConnection() {
    this.conn && (this.conn.onopen = null, this.conn.onerror = null, this.conn.onmessage = null, this.conn.onclose = null, this.conn = null), this._clearAllTimers(), this.channels.forEach((t) => t.teardown());
  }
  /** @internal */
  _onConnOpen() {
    this._setConnectionState("connected"), this.log("transport", `connected to ${this.endpointURL()}`), this.flushSendBuffer(), this._clearTimer("reconnect"), this.worker ? this.workerRef || this._startWorkerHeartbeat() : this._startHeartbeat(), this._triggerStateCallbacks("open");
  }
  /** @internal */
  _startHeartbeat() {
    this.heartbeatTimer && clearInterval(this.heartbeatTimer), this.heartbeatTimer = setInterval(() => this.sendHeartbeat(), this.heartbeatIntervalMs);
  }
  /** @internal */
  _startWorkerHeartbeat() {
    this.workerUrl ? this.log("worker", `starting worker for from ${this.workerUrl}`) : this.log("worker", "starting default worker");
    const t = this._workerObjectUrl(this.workerUrl);
    this.workerRef = new Worker(t), this.workerRef.onerror = (r) => {
      this.log("worker", "worker error", r.message), this.workerRef.terminate();
    }, this.workerRef.onmessage = (r) => {
      r.data.event === "keepAlive" && this.sendHeartbeat();
    }, this.workerRef.postMessage({
      event: "start",
      interval: this.heartbeatIntervalMs
    });
  }
  /** @internal */
  _onConnClose(t) {
    var r;
    this._setConnectionState("disconnected"), this.log("transport", "close", t), this._triggerChanError(), this._clearTimer("heartbeat"), this._wasManualDisconnect || (r = this.reconnectTimer) === null || r === void 0 || r.scheduleTimeout(), this._triggerStateCallbacks("close", t);
  }
  /** @internal */
  _onConnError(t) {
    this._setConnectionState("disconnected"), this.log("transport", `${t}`), this._triggerChanError(), this._triggerStateCallbacks("error", t);
  }
  /** @internal */
  _triggerChanError() {
    this.channels.forEach((t) => t._trigger(ei.error));
  }
  /** @internal */
  _appendParams(t, r) {
    if (Object.keys(r).length === 0)
      return t;
    const n = t.match(/\?/) ? "&" : "?", s = new URLSearchParams(r);
    return `${t}${n}${s}`;
  }
  _workerObjectUrl(t) {
    let r;
    if (t)
      r = t;
    else {
      const n = new Blob([Eq], { type: "application/javascript" });
      r = URL.createObjectURL(n);
    }
    return r;
  }
  /**
   * Set connection state with proper state management
   * @internal
   */
  _setConnectionState(t, r = !1) {
    this._connectionState = t, t === "connecting" ? this._wasManualDisconnect = !1 : t === "disconnecting" && (this._wasManualDisconnect = r);
  }
  /**
   * Perform the actual auth operation
   * @internal
   */
  async _performAuth(t = null) {
    let r;
    t ? r = t : this.accessToken ? r = await this.accessToken() : r = this.accessTokenValue, this.accessTokenValue != r && (this.accessTokenValue = r, this.channels.forEach((n) => {
      const s = {
        access_token: r,
        version: dq
      };
      r && n.updateJoinPayload(s), n.joinedOnce && n._isJoined() && n._push(ei.access_token, {
        access_token: r
      });
    }));
  }
  /**
   * Wait for any in-flight auth operations to complete
   * @internal
   */
  async _waitForAuthIfNeeded() {
    this._authPromise && await this._authPromise;
  }
  /**
   * Safely call setAuth with standardized error handling
   * @internal
   */
  _setAuthSafely(t = "general") {
    this.setAuth().catch((r) => {
      this.log("error", `error setting auth in ${t}`, r);
    });
  }
  /**
   * Trigger state change callbacks with proper error handling
   * @internal
   */
  _triggerStateCallbacks(t, r) {
    try {
      this.stateChangeCallbacks[t].forEach((n) => {
        try {
          n(r);
        } catch (s) {
          this.log("error", `error in ${t} callback`, s);
        }
      });
    } catch (n) {
      this.log("error", `error triggering ${t} callbacks`, n);
    }
  }
  /**
   * Setup reconnection timer with proper configuration
   * @internal
   */
  _setupReconnectionTimer() {
    this.reconnectTimer = new iI(async () => {
      setTimeout(async () => {
        await this._waitForAuthIfNeeded(), this.isConnected() || this.connect();
      }, Qp.RECONNECT_DELAY);
    }, this.reconnectAfterMs);
  }
  /**
   * Initialize client options with defaults
   * @internal
   */
  _initializeOptions(t) {
    var r, n, s, i, o, a, l, c;
    if (this.transport = (r = t == null ? void 0 : t.transport) !== null && r !== void 0 ? r : null, this.timeout = (n = t == null ? void 0 : t.timeout) !== null && n !== void 0 ? n : gw, this.heartbeatIntervalMs = (s = t == null ? void 0 : t.heartbeatIntervalMs) !== null && s !== void 0 ? s : Qp.HEARTBEAT_INTERVAL, this.worker = (i = t == null ? void 0 : t.worker) !== null && i !== void 0 ? i : !1, this.accessToken = (o = t == null ? void 0 : t.accessToken) !== null && o !== void 0 ? o : null, t != null && t.params && (this.params = t.params), t != null && t.logger && (this.logger = t.logger), (t != null && t.logLevel || t != null && t.log_level) && (this.logLevel = t.logLevel || t.log_level, this.params = Object.assign(Object.assign({}, this.params), { log_level: this.logLevel })), this.reconnectAfterMs = (a = t == null ? void 0 : t.reconnectAfterMs) !== null && a !== void 0 ? a : (d) => _q[d - 1] || Sq, this.encode = (l = t == null ? void 0 : t.encode) !== null && l !== void 0 ? l : (d, f) => f(JSON.stringify(d)), this.decode = (c = t == null ? void 0 : t.decode) !== null && c !== void 0 ? c : this.serializer.decode.bind(this.serializer), this.worker) {
      if (typeof window < "u" && !window.Worker)
        throw new Error("Web Worker is not supported");
      this.workerUrl = t == null ? void 0 : t.workerUrl;
    }
  }
}
class ES extends Error {
  constructor(t) {
    super(t), this.__isStorageError = !0, this.name = "StorageError";
  }
}
function Or(e) {
  return typeof e == "object" && e !== null && "__isStorageError" in e;
}
class Nq extends ES {
  constructor(t, r, n) {
    super(t), this.name = "StorageApiError", this.status = r, this.statusCode = n;
  }
  toJSON() {
    return {
      name: this.name,
      message: this.message,
      status: this.status,
      statusCode: this.statusCode
    };
  }
}
class bw extends ES {
  constructor(t, r) {
    super(t), this.name = "StorageUnknownError", this.originalError = r;
  }
}
var kq = function(e, t, r, n) {
  function s(i) {
    return i instanceof r ? i : new r(function(o) {
      o(i);
    });
  }
  return new (r || (r = Promise))(function(i, o) {
    function a(d) {
      try {
        c(n.next(d));
      } catch (f) {
        o(f);
      }
    }
    function l(d) {
      try {
        c(n.throw(d));
      } catch (f) {
        o(f);
      }
    }
    function c(d) {
      d.done ? i(d.value) : s(d.value).then(a, l);
    }
    c((n = n.apply(e, t || [])).next());
  });
};
const lI = (e) => {
  let t;
  return e ? t = e : typeof fetch > "u" ? t = (...r) => Promise.resolve().then(() => dd).then(({ default: n }) => n(...r)) : t = fetch, (...r) => t(...r);
}, Cq = () => kq(void 0, void 0, void 0, function* () {
  return typeof Response > "u" ? (yield Promise.resolve().then(() => dd)).Response : Response;
}), xw = (e) => {
  if (Array.isArray(e))
    return e.map((r) => xw(r));
  if (typeof e == "function" || e !== Object(e))
    return e;
  const t = {};
  return Object.entries(e).forEach(([r, n]) => {
    const s = r.replace(/([-_][a-z])/gi, (i) => i.toUpperCase().replace(/[-_]/g, ""));
    t[s] = xw(n);
  }), t;
}, Tq = (e) => {
  if (typeof e != "object" || e === null)
    return !1;
  const t = Object.getPrototypeOf(e);
  return (t === null || t === Object.prototype || Object.getPrototypeOf(t) === null) && !(Symbol.toStringTag in e) && !(Symbol.iterator in e);
};
var bc = function(e, t, r, n) {
  function s(i) {
    return i instanceof r ? i : new r(function(o) {
      o(i);
    });
  }
  return new (r || (r = Promise))(function(i, o) {
    function a(d) {
      try {
        c(n.next(d));
      } catch (f) {
        o(f);
      }
    }
    function l(d) {
      try {
        c(n.throw(d));
      } catch (f) {
        o(f);
      }
    }
    function c(d) {
      d.done ? i(d.value) : s(d.value).then(a, l);
    }
    c((n = n.apply(e, t || [])).next());
  });
};
const y0 = (e) => e.msg || e.message || e.error_description || e.error || JSON.stringify(e), Aq = (e, t, r) => bc(void 0, void 0, void 0, function* () {
  const n = yield Cq();
  e instanceof n && !(r != null && r.noResolveJson) ? e.json().then((s) => {
    const i = e.status || 500, o = (s == null ? void 0 : s.statusCode) || i + "";
    t(new Nq(y0(s), i, o));
  }).catch((s) => {
    t(new bw(y0(s), s));
  }) : t(new bw(y0(e), e));
}), Pq = (e, t, r, n) => {
  const s = { method: e, headers: (t == null ? void 0 : t.headers) || {} };
  return e === "GET" || !n ? s : (Tq(n) ? (s.headers = Object.assign({ "Content-Type": "application/json" }, t == null ? void 0 : t.headers), s.body = JSON.stringify(n)) : s.body = n, t != null && t.duplex && (s.duplex = t.duplex), Object.assign(Object.assign({}, s), r));
};
function Jh(e, t, r, n, s, i) {
  return bc(this, void 0, void 0, function* () {
    return new Promise((o, a) => {
      e(r, Pq(t, n, s, i)).then((l) => {
        if (!l.ok)
          throw l;
        return n != null && n.noResolveJson ? l : l.json();
      }).then((l) => o(l)).catch((l) => Aq(l, a, n));
    });
  });
}
function Sg(e, t, r, n) {
  return bc(this, void 0, void 0, function* () {
    return Jh(e, "GET", t, r, n);
  });
}
function $i(e, t, r, n, s) {
  return bc(this, void 0, void 0, function* () {
    return Jh(e, "POST", t, n, s, r);
  });
}
function ww(e, t, r, n, s) {
  return bc(this, void 0, void 0, function* () {
    return Jh(e, "PUT", t, n, s, r);
  });
}
function Oq(e, t, r, n) {
  return bc(this, void 0, void 0, function* () {
    return Jh(e, "HEAD", t, Object.assign(Object.assign({}, r), { noResolveJson: !0 }), n);
  });
}
function cI(e, t, r, n, s) {
  return bc(this, void 0, void 0, function* () {
    return Jh(e, "DELETE", t, n, s, r);
  });
}
var _n = function(e, t, r, n) {
  function s(i) {
    return i instanceof r ? i : new r(function(o) {
      o(i);
    });
  }
  return new (r || (r = Promise))(function(i, o) {
    function a(d) {
      try {
        c(n.next(d));
      } catch (f) {
        o(f);
      }
    }
    function l(d) {
      try {
        c(n.throw(d));
      } catch (f) {
        o(f);
      }
    }
    function c(d) {
      d.done ? i(d.value) : s(d.value).then(a, l);
    }
    c((n = n.apply(e, t || [])).next());
  });
};
const Dq = {
  limit: 100,
  offset: 0,
  sortBy: {
    column: "name",
    order: "asc"
  }
}, vC = {
  cacheControl: "3600",
  contentType: "text/plain;charset=UTF-8",
  upsert: !1
};
class $q {
  constructor(t, r = {}, n, s) {
    this.url = t, this.headers = r, this.bucketId = n, this.fetch = lI(s);
  }
  /**
   * Uploads a file to an existing bucket or replaces an existing file at the specified path with a new one.
   *
   * @param method HTTP method.
   * @param path The relative file path. Should be of the format `folder/subfolder/filename.png`. The bucket must already exist before attempting to upload.
   * @param fileBody The body of the file to be stored in the bucket.
   */
  uploadOrUpdate(t, r, n, s) {
    return _n(this, void 0, void 0, function* () {
      try {
        let i;
        const o = Object.assign(Object.assign({}, vC), s);
        let a = Object.assign(Object.assign({}, this.headers), t === "POST" && { "x-upsert": String(o.upsert) });
        const l = o.metadata;
        typeof Blob < "u" && n instanceof Blob ? (i = new FormData(), i.append("cacheControl", o.cacheControl), l && i.append("metadata", this.encodeMetadata(l)), i.append("", n)) : typeof FormData < "u" && n instanceof FormData ? (i = n, i.append("cacheControl", o.cacheControl), l && i.append("metadata", this.encodeMetadata(l))) : (i = n, a["cache-control"] = `max-age=${o.cacheControl}`, a["content-type"] = o.contentType, l && (a["x-metadata"] = this.toBase64(this.encodeMetadata(l)))), s != null && s.headers && (a = Object.assign(Object.assign({}, a), s.headers));
        const c = this._removeEmptyFolders(r), d = this._getFinalPath(c), f = yield (t == "PUT" ? ww : $i)(this.fetch, `${this.url}/object/${d}`, i, Object.assign({ headers: a }, o != null && o.duplex ? { duplex: o.duplex } : {}));
        return {
          data: { path: c, id: f.Id, fullPath: f.Key },
          error: null
        };
      } catch (i) {
        if (Or(i))
          return { data: null, error: i };
        throw i;
      }
    });
  }
  /**
   * Uploads a file to an existing bucket.
   *
   * @param path The file path, including the file name. Should be of the format `folder/subfolder/filename.png`. The bucket must already exist before attempting to upload.
   * @param fileBody The body of the file to be stored in the bucket.
   */
  upload(t, r, n) {
    return _n(this, void 0, void 0, function* () {
      return this.uploadOrUpdate("POST", t, r, n);
    });
  }
  /**
   * Upload a file with a token generated from `createSignedUploadUrl`.
   * @param path The file path, including the file name. Should be of the format `folder/subfolder/filename.png`. The bucket must already exist before attempting to upload.
   * @param token The token generated from `createSignedUploadUrl`
   * @param fileBody The body of the file to be stored in the bucket.
   */
  uploadToSignedUrl(t, r, n, s) {
    return _n(this, void 0, void 0, function* () {
      const i = this._removeEmptyFolders(t), o = this._getFinalPath(i), a = new URL(this.url + `/object/upload/sign/${o}`);
      a.searchParams.set("token", r);
      try {
        let l;
        const c = Object.assign({ upsert: vC.upsert }, s), d = Object.assign(Object.assign({}, this.headers), { "x-upsert": String(c.upsert) });
        typeof Blob < "u" && n instanceof Blob ? (l = new FormData(), l.append("cacheControl", c.cacheControl), l.append("", n)) : typeof FormData < "u" && n instanceof FormData ? (l = n, l.append("cacheControl", c.cacheControl)) : (l = n, d["cache-control"] = `max-age=${c.cacheControl}`, d["content-type"] = c.contentType);
        const f = yield ww(this.fetch, a.toString(), l, { headers: d });
        return {
          data: { path: i, fullPath: f.Key },
          error: null
        };
      } catch (l) {
        if (Or(l))
          return { data: null, error: l };
        throw l;
      }
    });
  }
  /**
   * Creates a signed upload URL.
   * Signed upload URLs can be used to upload files to the bucket without further authentication.
   * They are valid for 2 hours.
   * @param path The file path, including the current file name. For example `folder/image.png`.
   * @param options.upsert If set to true, allows the file to be overwritten if it already exists.
   */
  createSignedUploadUrl(t, r) {
    return _n(this, void 0, void 0, function* () {
      try {
        let n = this._getFinalPath(t);
        const s = Object.assign({}, this.headers);
        r != null && r.upsert && (s["x-upsert"] = "true");
        const i = yield $i(this.fetch, `${this.url}/object/upload/sign/${n}`, {}, { headers: s }), o = new URL(this.url + i.url), a = o.searchParams.get("token");
        if (!a)
          throw new ES("No token returned by API");
        return { data: { signedUrl: o.toString(), path: t, token: a }, error: null };
      } catch (n) {
        if (Or(n))
          return { data: null, error: n };
        throw n;
      }
    });
  }
  /**
   * Replaces an existing file at the specified path with a new one.
   *
   * @param path The relative file path. Should be of the format `folder/subfolder/filename.png`. The bucket must already exist before attempting to update.
   * @param fileBody The body of the file to be stored in the bucket.
   */
  update(t, r, n) {
    return _n(this, void 0, void 0, function* () {
      return this.uploadOrUpdate("PUT", t, r, n);
    });
  }
  /**
   * Moves an existing file to a new path in the same bucket.
   *
   * @param fromPath The original file path, including the current file name. For example `folder/image.png`.
   * @param toPath The new file path, including the new file name. For example `folder/image-new.png`.
   * @param options The destination options.
   */
  move(t, r, n) {
    return _n(this, void 0, void 0, function* () {
      try {
        return { data: yield $i(this.fetch, `${this.url}/object/move`, {
          bucketId: this.bucketId,
          sourceKey: t,
          destinationKey: r,
          destinationBucket: n == null ? void 0 : n.destinationBucket
        }, { headers: this.headers }), error: null };
      } catch (s) {
        if (Or(s))
          return { data: null, error: s };
        throw s;
      }
    });
  }
  /**
   * Copies an existing file to a new path in the same bucket.
   *
   * @param fromPath The original file path, including the current file name. For example `folder/image.png`.
   * @param toPath The new file path, including the new file name. For example `folder/image-copy.png`.
   * @param options The destination options.
   */
  copy(t, r, n) {
    return _n(this, void 0, void 0, function* () {
      try {
        return { data: { path: (yield $i(this.fetch, `${this.url}/object/copy`, {
          bucketId: this.bucketId,
          sourceKey: t,
          destinationKey: r,
          destinationBucket: n == null ? void 0 : n.destinationBucket
        }, { headers: this.headers })).Key }, error: null };
      } catch (s) {
        if (Or(s))
          return { data: null, error: s };
        throw s;
      }
    });
  }
  /**
   * Creates a signed URL. Use a signed URL to share a file for a fixed amount of time.
   *
   * @param path The file path, including the current file name. For example `folder/image.png`.
   * @param expiresIn The number of seconds until the signed URL expires. For example, `60` for a URL which is valid for one minute.
   * @param options.download triggers the file as a download if set to true. Set this parameter as the name of the file if you want to trigger the download with a different filename.
   * @param options.transform Transform the asset before serving it to the client.
   */
  createSignedUrl(t, r, n) {
    return _n(this, void 0, void 0, function* () {
      try {
        let s = this._getFinalPath(t), i = yield $i(this.fetch, `${this.url}/object/sign/${s}`, Object.assign({ expiresIn: r }, n != null && n.transform ? { transform: n.transform } : {}), { headers: this.headers });
        const o = n != null && n.download ? `&download=${n.download === !0 ? "" : n.download}` : "";
        return i = { signedUrl: encodeURI(`${this.url}${i.signedURL}${o}`) }, { data: i, error: null };
      } catch (s) {
        if (Or(s))
          return { data: null, error: s };
        throw s;
      }
    });
  }
  /**
   * Creates multiple signed URLs. Use a signed URL to share a file for a fixed amount of time.
   *
   * @param paths The file paths to be downloaded, including the current file names. For example `['folder/image.png', 'folder2/image2.png']`.
   * @param expiresIn The number of seconds until the signed URLs expire. For example, `60` for URLs which are valid for one minute.
   * @param options.download triggers the file as a download if set to true. Set this parameter as the name of the file if you want to trigger the download with a different filename.
   */
  createSignedUrls(t, r, n) {
    return _n(this, void 0, void 0, function* () {
      try {
        const s = yield $i(this.fetch, `${this.url}/object/sign/${this.bucketId}`, { expiresIn: r, paths: t }, { headers: this.headers }), i = n != null && n.download ? `&download=${n.download === !0 ? "" : n.download}` : "";
        return {
          data: s.map((o) => Object.assign(Object.assign({}, o), { signedUrl: o.signedURL ? encodeURI(`${this.url}${o.signedURL}${i}`) : null })),
          error: null
        };
      } catch (s) {
        if (Or(s))
          return { data: null, error: s };
        throw s;
      }
    });
  }
  /**
   * Downloads a file from a private bucket. For public buckets, make a request to the URL returned from `getPublicUrl` instead.
   *
   * @param path The full path and file name of the file to be downloaded. For example `folder/image.png`.
   * @param options.transform Transform the asset before serving it to the client.
   */
  download(t, r) {
    return _n(this, void 0, void 0, function* () {
      const s = typeof (r == null ? void 0 : r.transform) < "u" ? "render/image/authenticated" : "object", i = this.transformOptsToQueryString((r == null ? void 0 : r.transform) || {}), o = i ? `?${i}` : "";
      try {
        const a = this._getFinalPath(t);
        return { data: yield (yield Sg(this.fetch, `${this.url}/${s}/${a}${o}`, {
          headers: this.headers,
          noResolveJson: !0
        })).blob(), error: null };
      } catch (a) {
        if (Or(a))
          return { data: null, error: a };
        throw a;
      }
    });
  }
  /**
   * Retrieves the details of an existing file.
   * @param path
   */
  info(t) {
    return _n(this, void 0, void 0, function* () {
      const r = this._getFinalPath(t);
      try {
        const n = yield Sg(this.fetch, `${this.url}/object/info/${r}`, {
          headers: this.headers
        });
        return { data: xw(n), error: null };
      } catch (n) {
        if (Or(n))
          return { data: null, error: n };
        throw n;
      }
    });
  }
  /**
   * Checks the existence of a file.
   * @param path
   */
  exists(t) {
    return _n(this, void 0, void 0, function* () {
      const r = this._getFinalPath(t);
      try {
        return yield Oq(this.fetch, `${this.url}/object/${r}`, {
          headers: this.headers
        }), { data: !0, error: null };
      } catch (n) {
        if (Or(n) && n instanceof bw) {
          const s = n.originalError;
          if ([400, 404].includes(s == null ? void 0 : s.status))
            return { data: !1, error: n };
        }
        throw n;
      }
    });
  }
  /**
   * A simple convenience function to get the URL for an asset in a public bucket. If you do not want to use this function, you can construct the public URL by concatenating the bucket URL with the path to the asset.
   * This function does not verify if the bucket is public. If a public URL is created for a bucket which is not public, you will not be able to download the asset.
   *
   * @param path The path and name of the file to generate the public URL for. For example `folder/image.png`.
   * @param options.download Triggers the file as a download if set to true. Set this parameter as the name of the file if you want to trigger the download with a different filename.
   * @param options.transform Transform the asset before serving it to the client.
   */
  getPublicUrl(t, r) {
    const n = this._getFinalPath(t), s = [], i = r != null && r.download ? `download=${r.download === !0 ? "" : r.download}` : "";
    i !== "" && s.push(i);
    const a = typeof (r == null ? void 0 : r.transform) < "u" ? "render/image" : "object", l = this.transformOptsToQueryString((r == null ? void 0 : r.transform) || {});
    l !== "" && s.push(l);
    let c = s.join("&");
    return c !== "" && (c = `?${c}`), {
      data: { publicUrl: encodeURI(`${this.url}/${a}/public/${n}${c}`) }
    };
  }
  /**
   * Deletes files within the same bucket
   *
   * @param paths An array of files to delete, including the path and file name. For example [`'folder/image.png'`].
   */
  remove(t) {
    return _n(this, void 0, void 0, function* () {
      try {
        return { data: yield cI(this.fetch, `${this.url}/object/${this.bucketId}`, { prefixes: t }, { headers: this.headers }), error: null };
      } catch (r) {
        if (Or(r))
          return { data: null, error: r };
        throw r;
      }
    });
  }
  /**
   * Get file metadata
   * @param id the file id to retrieve metadata
   */
  // async getMetadata(
  //   id: string
  // ): Promise<
  //   | {
  //       data: Metadata
  //       error: null
  //     }
  //   | {
  //       data: null
  //       error: StorageError
  //     }
  // > {
  //   try {
  //     const data = await get(this.fetch, `${this.url}/metadata/${id}`, { headers: this.headers })
  //     return { data, error: null }
  //   } catch (error) {
  //     if (isStorageError(error)) {
  //       return { data: null, error }
  //     }
  //     throw error
  //   }
  // }
  /**
   * Update file metadata
   * @param id the file id to update metadata
   * @param meta the new file metadata
   */
  // async updateMetadata(
  //   id: string,
  //   meta: Metadata
  // ): Promise<
  //   | {
  //       data: Metadata
  //       error: null
  //     }
  //   | {
  //       data: null
  //       error: StorageError
  //     }
  // > {
  //   try {
  //     const data = await post(
  //       this.fetch,
  //       `${this.url}/metadata/${id}`,
  //       { ...meta },
  //       { headers: this.headers }
  //     )
  //     return { data, error: null }
  //   } catch (error) {
  //     if (isStorageError(error)) {
  //       return { data: null, error }
  //     }
  //     throw error
  //   }
  // }
  /**
   * Lists all the files within a bucket.
   * @param path The folder path.
   * @param options Search options including limit (defaults to 100), offset, sortBy, and search
   */
  list(t, r, n) {
    return _n(this, void 0, void 0, function* () {
      try {
        const s = Object.assign(Object.assign(Object.assign({}, Dq), r), { prefix: t || "" });
        return { data: yield $i(this.fetch, `${this.url}/object/list/${this.bucketId}`, s, { headers: this.headers }, n), error: null };
      } catch (s) {
        if (Or(s))
          return { data: null, error: s };
        throw s;
      }
    });
  }
  /**
   * @experimental this method signature might change in the future
   * @param options search options
   * @param parameters
   */
  listV2(t, r) {
    return _n(this, void 0, void 0, function* () {
      try {
        const n = Object.assign({}, t);
        return { data: yield $i(this.fetch, `${this.url}/object/list-v2/${this.bucketId}`, n, { headers: this.headers }, r), error: null };
      } catch (n) {
        if (Or(n))
          return { data: null, error: n };
        throw n;
      }
    });
  }
  encodeMetadata(t) {
    return JSON.stringify(t);
  }
  toBase64(t) {
    return typeof Buffer < "u" ? Buffer.from(t).toString("base64") : btoa(t);
  }
  _getFinalPath(t) {
    return `${this.bucketId}/${t.replace(/^\/+/, "")}`;
  }
  _removeEmptyFolders(t) {
    return t.replace(/^\/|\/$/g, "").replace(/\/+/g, "/");
  }
  transformOptsToQueryString(t) {
    const r = [];
    return t.width && r.push(`width=${t.width}`), t.height && r.push(`height=${t.height}`), t.resize && r.push(`resize=${t.resize}`), t.format && r.push(`format=${t.format}`), t.quality && r.push(`quality=${t.quality}`), r.join("&");
  }
}
const Rq = "2.11.0", Iq = { "X-Client-Info": `storage-js/${Rq}` };
var Ic = function(e, t, r, n) {
  function s(i) {
    return i instanceof r ? i : new r(function(o) {
      o(i);
    });
  }
  return new (r || (r = Promise))(function(i, o) {
    function a(d) {
      try {
        c(n.next(d));
      } catch (f) {
        o(f);
      }
    }
    function l(d) {
      try {
        c(n.throw(d));
      } catch (f) {
        o(f);
      }
    }
    function c(d) {
      d.done ? i(d.value) : s(d.value).then(a, l);
    }
    c((n = n.apply(e, t || [])).next());
  });
};
class Mq {
  constructor(t, r = {}, n, s) {
    const i = new URL(t);
    s != null && s.useNewHostname && /supabase\.(co|in|red)$/.test(i.hostname) && !i.hostname.includes("storage.supabase.") && (i.hostname = i.hostname.replace("supabase.", "storage.supabase.")), this.url = i.href, this.headers = Object.assign(Object.assign({}, Iq), r), this.fetch = lI(n);
  }
  /**
   * Retrieves the details of all Storage buckets within an existing project.
   */
  listBuckets() {
    return Ic(this, void 0, void 0, function* () {
      try {
        return { data: yield Sg(this.fetch, `${this.url}/bucket`, { headers: this.headers }), error: null };
      } catch (t) {
        if (Or(t))
          return { data: null, error: t };
        throw t;
      }
    });
  }
  /**
   * Retrieves the details of an existing Storage bucket.
   *
   * @param id The unique identifier of the bucket you would like to retrieve.
   */
  getBucket(t) {
    return Ic(this, void 0, void 0, function* () {
      try {
        return { data: yield Sg(this.fetch, `${this.url}/bucket/${t}`, { headers: this.headers }), error: null };
      } catch (r) {
        if (Or(r))
          return { data: null, error: r };
        throw r;
      }
    });
  }
  /**
   * Creates a new Storage bucket
   *
   * @param id A unique identifier for the bucket you are creating.
   * @param options.public The visibility of the bucket. Public buckets don't require an authorization token to download objects, but still require a valid token for all other operations. By default, buckets are private.
   * @param options.fileSizeLimit specifies the max file size in bytes that can be uploaded to this bucket.
   * The global file size limit takes precedence over this value.
   * The default value is null, which doesn't set a per bucket file size limit.
   * @param options.allowedMimeTypes specifies the allowed mime types that this bucket can accept during upload.
   * The default value is null, which allows files with all mime types to be uploaded.
   * Each mime type specified can be a wildcard, e.g. image/*, or a specific mime type, e.g. image/png.
   * @returns newly created bucket id
   * @param options.type (private-beta) specifies the bucket type. see `BucketType` for more details.
   *   - default bucket type is `STANDARD`
   */
  createBucket(t, r = {
    public: !1
  }) {
    return Ic(this, void 0, void 0, function* () {
      try {
        return { data: yield $i(this.fetch, `${this.url}/bucket`, {
          id: t,
          name: t,
          type: r.type,
          public: r.public,
          file_size_limit: r.fileSizeLimit,
          allowed_mime_types: r.allowedMimeTypes
        }, { headers: this.headers }), error: null };
      } catch (n) {
        if (Or(n))
          return { data: null, error: n };
        throw n;
      }
    });
  }
  /**
   * Updates a Storage bucket
   *
   * @param id A unique identifier for the bucket you are updating.
   * @param options.public The visibility of the bucket. Public buckets don't require an authorization token to download objects, but still require a valid token for all other operations.
   * @param options.fileSizeLimit specifies the max file size in bytes that can be uploaded to this bucket.
   * The global file size limit takes precedence over this value.
   * The default value is null, which doesn't set a per bucket file size limit.
   * @param options.allowedMimeTypes specifies the allowed mime types that this bucket can accept during upload.
   * The default value is null, which allows files with all mime types to be uploaded.
   * Each mime type specified can be a wildcard, e.g. image/*, or a specific mime type, e.g. image/png.
   */
  updateBucket(t, r) {
    return Ic(this, void 0, void 0, function* () {
      try {
        return { data: yield ww(this.fetch, `${this.url}/bucket/${t}`, {
          id: t,
          name: t,
          public: r.public,
          file_size_limit: r.fileSizeLimit,
          allowed_mime_types: r.allowedMimeTypes
        }, { headers: this.headers }), error: null };
      } catch (n) {
        if (Or(n))
          return { data: null, error: n };
        throw n;
      }
    });
  }
  /**
   * Removes all objects inside a single bucket.
   *
   * @param id The unique identifier of the bucket you would like to empty.
   */
  emptyBucket(t) {
    return Ic(this, void 0, void 0, function* () {
      try {
        return { data: yield $i(this.fetch, `${this.url}/bucket/${t}/empty`, {}, { headers: this.headers }), error: null };
      } catch (r) {
        if (Or(r))
          return { data: null, error: r };
        throw r;
      }
    });
  }
  /**
   * Deletes an existing bucket. A bucket can't be deleted with existing objects inside it.
   * You must first `empty()` the bucket.
   *
   * @param id The unique identifier of the bucket you would like to delete.
   */
  deleteBucket(t) {
    return Ic(this, void 0, void 0, function* () {
      try {
        return { data: yield cI(this.fetch, `${this.url}/bucket/${t}`, {}, { headers: this.headers }), error: null };
      } catch (r) {
        if (Or(r))
          return { data: null, error: r };
        throw r;
      }
    });
  }
}
class Lq extends Mq {
  constructor(t, r = {}, n, s) {
    super(t, r, n, s);
  }
  /**
   * Perform file operation in a bucket.
   *
   * @param id The bucket id to operate on.
   */
  from(t) {
    return new $q(this.url, this.headers, t, this.fetch);
  }
}
const Fq = "2.56.0";
let vf = "";
typeof Deno < "u" ? vf = "deno" : typeof document < "u" ? vf = "web" : typeof navigator < "u" && navigator.product === "ReactNative" ? vf = "react-native" : vf = "node";
const Bq = { "X-Client-Info": `supabase-js-${vf}/${Fq}` }, zq = {
  headers: Bq
}, Uq = {
  schema: "public"
}, qq = {
  autoRefreshToken: !0,
  persistSession: !0,
  detectSessionInUrl: !0,
  flowType: "implicit"
}, Vq = {};
var Wq = function(e, t, r, n) {
  function s(i) {
    return i instanceof r ? i : new r(function(o) {
      o(i);
    });
  }
  return new (r || (r = Promise))(function(i, o) {
    function a(d) {
      try {
        c(n.next(d));
      } catch (f) {
        o(f);
      }
    }
    function l(d) {
      try {
        c(n.throw(d));
      } catch (f) {
        o(f);
      }
    }
    function c(d) {
      d.done ? i(d.value) : s(d.value).then(a, l);
    }
    c((n = n.apply(e, t || [])).next());
  });
};
const Kq = (e) => {
  let t;
  return e ? t = e : typeof fetch > "u" ? t = YR : t = fetch, (...r) => t(...r);
}, Hq = () => typeof Headers > "u" ? GR : Headers, Yq = (e, t, r) => {
  const n = Kq(r), s = Hq();
  return (i, o) => Wq(void 0, void 0, void 0, function* () {
    var a;
    const l = (a = yield t()) !== null && a !== void 0 ? a : e;
    let c = new s(o == null ? void 0 : o.headers);
    return c.has("apikey") || c.set("apikey", e), c.has("Authorization") || c.set("Authorization", `Bearer ${l}`), n(i, Object.assign(Object.assign({}, o), { headers: c }));
  });
};
var Gq = function(e, t, r, n) {
  function s(i) {
    return i instanceof r ? i : new r(function(o) {
      o(i);
    });
  }
  return new (r || (r = Promise))(function(i, o) {
    function a(d) {
      try {
        c(n.next(d));
      } catch (f) {
        o(f);
      }
    }
    function l(d) {
      try {
        c(n.throw(d));
      } catch (f) {
        o(f);
      }
    }
    function c(d) {
      d.done ? i(d.value) : s(d.value).then(a, l);
    }
    c((n = n.apply(e, t || [])).next());
  });
};
function Zq(e) {
  return e.endsWith("/") ? e : e + "/";
}
function Xq(e, t) {
  var r, n;
  const { db: s, auth: i, realtime: o, global: a } = e, { db: l, auth: c, realtime: d, global: f } = t, h = {
    db: Object.assign(Object.assign({}, l), s),
    auth: Object.assign(Object.assign({}, c), i),
    realtime: Object.assign(Object.assign({}, d), o),
    storage: {},
    global: Object.assign(Object.assign(Object.assign({}, f), a), { headers: Object.assign(Object.assign({}, (r = f == null ? void 0 : f.headers) !== null && r !== void 0 ? r : {}), (n = a == null ? void 0 : a.headers) !== null && n !== void 0 ? n : {}) }),
    accessToken: () => Gq(this, void 0, void 0, function* () {
      return "";
    })
  };
  return e.accessToken ? h.accessToken = e.accessToken : delete h.accessToken, h;
}
const uI = "2.71.1", Gc = 30 * 1e3, _w = 3, v0 = _w * Gc, Jq = "http://localhost:9999", Qq = "supabase.auth.token", eV = { "X-Client-Info": `gotrue-js/${uI}` }, Sw = "X-Supabase-Api-Version", dI = {
  "2024-01-01": {
    timestamp: Date.parse("2024-01-01T00:00:00.0Z"),
    name: "2024-01-01"
  }
}, tV = /^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i, rV = 10 * 60 * 1e3;
class jS extends Error {
  constructor(t, r, n) {
    super(t), this.__isAuthError = !0, this.name = "AuthError", this.status = r, this.code = n;
  }
}
function Xe(e) {
  return typeof e == "object" && e !== null && "__isAuthError" in e;
}
class nV extends jS {
  constructor(t, r, n) {
    super(t, r, n), this.name = "AuthApiError", this.status = r, this.code = n;
  }
}
function sV(e) {
  return Xe(e) && e.name === "AuthApiError";
}
class fI extends jS {
  constructor(t, r) {
    super(t), this.name = "AuthUnknownError", this.originalError = r;
  }
}
class nl extends jS {
  constructor(t, r, n, s) {
    super(t, n, s), this.name = r, this.status = n;
  }
}
class wa extends nl {
  constructor() {
    super("Auth session missing!", "AuthSessionMissingError", 400, void 0);
  }
}
function iV(e) {
  return Xe(e) && e.name === "AuthSessionMissingError";
}
class em extends nl {
  constructor() {
    super("Auth session or user missing", "AuthInvalidTokenResponseError", 500, void 0);
  }
}
class tm extends nl {
  constructor(t) {
    super(t, "AuthInvalidCredentialsError", 400, void 0);
  }
}
class rm extends nl {
  constructor(t, r = null) {
    super(t, "AuthImplicitGrantRedirectError", 500, void 0), this.details = null, this.details = r;
  }
  toJSON() {
    return {
      name: this.name,
      message: this.message,
      status: this.status,
      details: this.details
    };
  }
}
function oV(e) {
  return Xe(e) && e.name === "AuthImplicitGrantRedirectError";
}
class bC extends nl {
  constructor(t, r = null) {
    super(t, "AuthPKCEGrantCodeExchangeError", 500, void 0), this.details = null, this.details = r;
  }
  toJSON() {
    return {
      name: this.name,
      message: this.message,
      status: this.status,
      details: this.details
    };
  }
}
class Ew extends nl {
  constructor(t, r) {
    super(t, "AuthRetryableFetchError", r, void 0);
  }
}
function b0(e) {
  return Xe(e) && e.name === "AuthRetryableFetchError";
}
class xC extends nl {
  constructor(t, r, n) {
    super(t, "AuthWeakPasswordError", r, "weak_password"), this.reasons = n;
  }
}
class jw extends nl {
  constructor(t) {
    super(t, "AuthInvalidJwtError", 400, "invalid_jwt");
  }
}
const Eg = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""), wC = ` 	
\r=`.split(""), aV = (() => {
  const e = new Array(128);
  for (let t = 0; t < e.length; t += 1)
    e[t] = -1;
  for (let t = 0; t < wC.length; t += 1)
    e[wC[t].charCodeAt(0)] = -2;
  for (let t = 0; t < Eg.length; t += 1)
    e[Eg[t].charCodeAt(0)] = t;
  return e;
})();
function _C(e, t, r) {
  if (e !== null)
    for (t.queue = t.queue << 8 | e, t.queuedBits += 8; t.queuedBits >= 6; ) {
      const n = t.queue >> t.queuedBits - 6 & 63;
      r(Eg[n]), t.queuedBits -= 6;
    }
  else if (t.queuedBits > 0)
    for (t.queue = t.queue << 6 - t.queuedBits, t.queuedBits = 6; t.queuedBits >= 6; ) {
      const n = t.queue >> t.queuedBits - 6 & 63;
      r(Eg[n]), t.queuedBits -= 6;
    }
}
function hI(e, t, r) {
  const n = aV[e];
  if (n > -1)
    for (t.queue = t.queue << 6 | n, t.queuedBits += 6; t.queuedBits >= 8; )
      r(t.queue >> t.queuedBits - 8 & 255), t.queuedBits -= 8;
  else {
    if (n === -2)
      return;
    throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`);
  }
}
function SC(e) {
  const t = [], r = (o) => {
    t.push(String.fromCodePoint(o));
  }, n = {
    utf8seq: 0,
    codepoint: 0
  }, s = { queue: 0, queuedBits: 0 }, i = (o) => {
    uV(o, n, r);
  };
  for (let o = 0; o < e.length; o += 1)
    hI(e.charCodeAt(o), s, i);
  return t.join("");
}
function lV(e, t) {
  if (e <= 127) {
    t(e);
    return;
  } else if (e <= 2047) {
    t(192 | e >> 6), t(128 | e & 63);
    return;
  } else if (e <= 65535) {
    t(224 | e >> 12), t(128 | e >> 6 & 63), t(128 | e & 63);
    return;
  } else if (e <= 1114111) {
    t(240 | e >> 18), t(128 | e >> 12 & 63), t(128 | e >> 6 & 63), t(128 | e & 63);
    return;
  }
  throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`);
}
function cV(e, t) {
  for (let r = 0; r < e.length; r += 1) {
    let n = e.charCodeAt(r);
    if (n > 55295 && n <= 56319) {
      const s = (n - 55296) * 1024 & 65535;
      n = (e.charCodeAt(r + 1) - 56320 & 65535 | s) + 65536, r += 1;
    }
    lV(n, t);
  }
}
function uV(e, t, r) {
  if (t.utf8seq === 0) {
    if (e <= 127) {
      r(e);
      return;
    }
    for (let n = 1; n < 6; n += 1)
      if (!(e >> 7 - n & 1)) {
        t.utf8seq = n;
        break;
      }
    if (t.utf8seq === 2)
      t.codepoint = e & 31;
    else if (t.utf8seq === 3)
      t.codepoint = e & 15;
    else if (t.utf8seq === 4)
      t.codepoint = e & 7;
    else
      throw new Error("Invalid UTF-8 sequence");
    t.utf8seq -= 1;
  } else if (t.utf8seq > 0) {
    if (e <= 127)
      throw new Error("Invalid UTF-8 sequence");
    t.codepoint = t.codepoint << 6 | e & 63, t.utf8seq -= 1, t.utf8seq === 0 && r(t.codepoint);
  }
}
function dV(e) {
  const t = [], r = { queue: 0, queuedBits: 0 }, n = (s) => {
    t.push(s);
  };
  for (let s = 0; s < e.length; s += 1)
    hI(e.charCodeAt(s), r, n);
  return new Uint8Array(t);
}
function fV(e) {
  const t = [];
  return cV(e, (r) => t.push(r)), new Uint8Array(t);
}
function hV(e) {
  const t = [], r = { queue: 0, queuedBits: 0 }, n = (s) => {
    t.push(s);
  };
  return e.forEach((s) => _C(s, r, n)), _C(null, r, n), t.join("");
}
function pV(e) {
  return Math.round(Date.now() / 1e3) + e;
}
function mV() {
  return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function(e) {
    const t = Math.random() * 16 | 0;
    return (e == "x" ? t : t & 3 | 8).toString(16);
  });
}
const Ys = () => typeof window < "u" && typeof document < "u", Sl = {
  tested: !1,
  writable: !1
}, pI = () => {
  if (!Ys())
    return !1;
  try {
    if (typeof globalThis.localStorage != "object")
      return !1;
  } catch {
    return !1;
  }
  if (Sl.tested)
    return Sl.writable;
  const e = `lswt-${Math.random()}${Math.random()}`;
  try {
    globalThis.localStorage.setItem(e, e), globalThis.localStorage.removeItem(e), Sl.tested = !0, Sl.writable = !0;
  } catch {
    Sl.tested = !0, Sl.writable = !1;
  }
  return Sl.writable;
};
function gV(e) {
  const t = {}, r = new URL(e);
  if (r.hash && r.hash[0] === "#")
    try {
      new URLSearchParams(r.hash.substring(1)).forEach((s, i) => {
        t[i] = s;
      });
    } catch {
    }
  return r.searchParams.forEach((n, s) => {
    t[s] = n;
  }), t;
}
const mI = (e) => {
  let t;
  return e ? t = e : typeof fetch > "u" ? t = (...r) => Promise.resolve().then(() => dd).then(({ default: n }) => n(...r)) : t = fetch, (...r) => t(...r);
}, yV = (e) => typeof e == "object" && e !== null && "status" in e && "ok" in e && "json" in e && typeof e.json == "function", Zc = async (e, t, r) => {
  await e.setItem(t, JSON.stringify(r));
}, El = async (e, t) => {
  const r = await e.getItem(t);
  if (!r)
    return null;
  try {
    return JSON.parse(r);
  } catch {
    return r;
  }
}, pa = async (e, t) => {
  await e.removeItem(t);
};
class lv {
  constructor() {
    this.promise = new lv.promiseConstructor((t, r) => {
      this.resolve = t, this.reject = r;
    });
  }
}
lv.promiseConstructor = Promise;
function x0(e) {
  const t = e.split(".");
  if (t.length !== 3)
    throw new jw("Invalid JWT structure");
  for (let n = 0; n < t.length; n++)
    if (!tV.test(t[n]))
      throw new jw("JWT not in base64url format");
  return {
    // using base64url lib
    header: JSON.parse(SC(t[0])),
    payload: JSON.parse(SC(t[1])),
    signature: dV(t[2]),
    raw: {
      header: t[0],
      payload: t[1]
    }
  };
}
async function vV(e) {
  return await new Promise((t) => {
    setTimeout(() => t(null), e);
  });
}
function bV(e, t) {
  return new Promise((n, s) => {
    (async () => {
      for (let i = 0; i < 1 / 0; i++)
        try {
          const o = await e(i);
          if (!t(i, null, o)) {
            n(o);
            return;
          }
        } catch (o) {
          if (!t(i, o)) {
            s(o);
            return;
          }
        }
    })();
  });
}
function xV(e) {
  return ("0" + e.toString(16)).substr(-2);
}
function wV() {
  const t = new Uint32Array(56);
  if (typeof crypto > "u") {
    const r = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~", n = r.length;
    let s = "";
    for (let i = 0; i < 56; i++)
      s += r.charAt(Math.floor(Math.random() * n));
    return s;
  }
  return crypto.getRandomValues(t), Array.from(t, xV).join("");
}
async function _V(e) {
  const r = new TextEncoder().encode(e), n = await crypto.subtle.digest("SHA-256", r), s = new Uint8Array(n);
  return Array.from(s).map((i) => String.fromCharCode(i)).join("");
}
async function SV(e) {
  if (!(typeof crypto < "u" && typeof crypto.subtle < "u" && typeof TextEncoder < "u"))
    return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."), e;
  const r = await _V(e);
  return btoa(r).replace(/\+/g, "-").replace(/\//g, "_").replace(/=+$/, "");
}
async function Mc(e, t, r = !1) {
  const n = wV();
  let s = n;
  r && (s += "/PASSWORD_RECOVERY"), await Zc(e, `${t}-code-verifier`, s);
  const i = await SV(n);
  return [i, n === i ? "plain" : "s256"];
}
const EV = /^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;
function jV(e) {
  const t = e.headers.get(Sw);
  if (!t || !t.match(EV))
    return null;
  try {
    return /* @__PURE__ */ new Date(`${t}T00:00:00.0Z`);
  } catch {
    return null;
  }
}
function NV(e) {
  if (!e)
    throw new Error("Missing exp claim");
  const t = Math.floor(Date.now() / 1e3);
  if (e <= t)
    throw new Error("JWT has expired");
}
function kV(e) {
  switch (e) {
    case "RS256":
      return {
        name: "RSASSA-PKCS1-v1_5",
        hash: { name: "SHA-256" }
      };
    case "ES256":
      return {
        name: "ECDSA",
        namedCurve: "P-256",
        hash: { name: "SHA-256" }
      };
    default:
      throw new Error("Invalid alg claim");
  }
}
const CV = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;
function Lc(e) {
  if (!CV.test(e))
    throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not");
}
function w0() {
  const e = {};
  return new Proxy(e, {
    get: (t, r) => {
      if (r === "__isUserNotAvailableProxy")
        return !0;
      if (typeof r == "symbol") {
        const n = r.toString();
        if (n === "Symbol(Symbol.toPrimitive)" || n === "Symbol(Symbol.toStringTag)" || n === "Symbol(util.inspect.custom)")
          return;
      }
      throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`);
    },
    set: (t, r) => {
      throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`);
    },
    deleteProperty: (t, r) => {
      throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`);
    }
  });
}
function EC(e) {
  return JSON.parse(JSON.stringify(e));
}
var TV = function(e, t) {
  var r = {};
  for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && t.indexOf(n) < 0 && (r[n] = e[n]);
  if (e != null && typeof Object.getOwnPropertySymbols == "function")
    for (var s = 0, n = Object.getOwnPropertySymbols(e); s < n.length; s++)
      t.indexOf(n[s]) < 0 && Object.prototype.propertyIsEnumerable.call(e, n[s]) && (r[n[s]] = e[n[s]]);
  return r;
};
const kl = (e) => e.msg || e.message || e.error_description || e.error || JSON.stringify(e), AV = [502, 503, 504];
async function jC(e) {
  var t;
  if (!yV(e))
    throw new Ew(kl(e), 0);
  if (AV.includes(e.status))
    throw new Ew(kl(e), e.status);
  let r;
  try {
    r = await e.json();
  } catch (i) {
    throw new fI(kl(i), i);
  }
  let n;
  const s = jV(e);
  if (s && s.getTime() >= dI["2024-01-01"].timestamp && typeof r == "object" && r && typeof r.code == "string" ? n = r.code : typeof r == "object" && r && typeof r.error_code == "string" && (n = r.error_code), n) {
    if (n === "weak_password")
      throw new xC(kl(r), e.status, ((t = r.weak_password) === null || t === void 0 ? void 0 : t.reasons) || []);
    if (n === "session_not_found")
      throw new wa();
  } else if (typeof r == "object" && r && typeof r.weak_password == "object" && r.weak_password && Array.isArray(r.weak_password.reasons) && r.weak_password.reasons.length && r.weak_password.reasons.reduce((i, o) => i && typeof o == "string", !0))
    throw new xC(kl(r), e.status, r.weak_password.reasons);
  throw new nV(kl(r), e.status || 500, n);
}
const PV = (e, t, r, n) => {
  const s = { method: e, headers: (t == null ? void 0 : t.headers) || {} };
  return e === "GET" ? s : (s.headers = Object.assign({ "Content-Type": "application/json;charset=UTF-8" }, t == null ? void 0 : t.headers), s.body = JSON.stringify(n), Object.assign(Object.assign({}, s), r));
};
async function it(e, t, r, n) {
  var s;
  const i = Object.assign({}, n == null ? void 0 : n.headers);
  i[Sw] || (i[Sw] = dI["2024-01-01"].name), n != null && n.jwt && (i.Authorization = `Bearer ${n.jwt}`);
  const o = (s = n == null ? void 0 : n.query) !== null && s !== void 0 ? s : {};
  n != null && n.redirectTo && (o.redirect_to = n.redirectTo);
  const a = Object.keys(o).length ? "?" + new URLSearchParams(o).toString() : "", l = await OV(e, t, r + a, {
    headers: i,
    noResolveJson: n == null ? void 0 : n.noResolveJson
  }, {}, n == null ? void 0 : n.body);
  return n != null && n.xform ? n == null ? void 0 : n.xform(l) : { data: Object.assign({}, l), error: null };
}
async function OV(e, t, r, n, s, i) {
  const o = PV(t, n, s, i);
  let a;
  try {
    a = await e(r, Object.assign({}, o));
  } catch (l) {
    throw console.error(l), new Ew(kl(l), 0);
  }
  if (a.ok || await jC(a), n != null && n.noResolveJson)
    return a;
  try {
    return await a.json();
  } catch (l) {
    await jC(l);
  }
}
function xo(e) {
  var t;
  let r = null;
  IV(e) && (r = Object.assign({}, e), e.expires_at || (r.expires_at = pV(e.expires_in)));
  const n = (t = e.user) !== null && t !== void 0 ? t : e;
  return { data: { session: r, user: n }, error: null };
}
function NC(e) {
  const t = xo(e);
  return !t.error && e.weak_password && typeof e.weak_password == "object" && Array.isArray(e.weak_password.reasons) && e.weak_password.reasons.length && e.weak_password.message && typeof e.weak_password.message == "string" && e.weak_password.reasons.reduce((r, n) => r && typeof n == "string", !0) && (t.data.weak_password = e.weak_password), t;
}
function Ta(e) {
  var t;
  return { data: { user: (t = e.user) !== null && t !== void 0 ? t : e }, error: null };
}
function DV(e) {
  return { data: e, error: null };
}
function $V(e) {
  const { action_link: t, email_otp: r, hashed_token: n, redirect_to: s, verification_type: i } = e, o = TV(e, ["action_link", "email_otp", "hashed_token", "redirect_to", "verification_type"]), a = {
    action_link: t,
    email_otp: r,
    hashed_token: n,
    redirect_to: s,
    verification_type: i
  }, l = Object.assign({}, o);
  return {
    data: {
      properties: a,
      user: l
    },
    error: null
  };
}
function RV(e) {
  return e;
}
function IV(e) {
  return e.access_token && e.refresh_token && e.expires_in;
}
const _0 = ["global", "local", "others"];
var MV = function(e, t) {
  var r = {};
  for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && t.indexOf(n) < 0 && (r[n] = e[n]);
  if (e != null && typeof Object.getOwnPropertySymbols == "function")
    for (var s = 0, n = Object.getOwnPropertySymbols(e); s < n.length; s++)
      t.indexOf(n[s]) < 0 && Object.prototype.propertyIsEnumerable.call(e, n[s]) && (r[n[s]] = e[n[s]]);
  return r;
};
class LV {
  constructor({ url: t = "", headers: r = {}, fetch: n }) {
    this.url = t, this.headers = r, this.fetch = mI(n), this.mfa = {
      listFactors: this._listFactors.bind(this),
      deleteFactor: this._deleteFactor.bind(this)
    };
  }
  /**
   * Removes a logged-in session.
   * @param jwt A valid, logged-in JWT.
   * @param scope The logout sope.
   */
  async signOut(t, r = _0[0]) {
    if (_0.indexOf(r) < 0)
      throw new Error(`@supabase/auth-js: Parameter scope must be one of ${_0.join(", ")}`);
    try {
      return await it(this.fetch, "POST", `${this.url}/logout?scope=${r}`, {
        headers: this.headers,
        jwt: t,
        noResolveJson: !0
      }), { data: null, error: null };
    } catch (n) {
      if (Xe(n))
        return { data: null, error: n };
      throw n;
    }
  }
  /**
   * Sends an invite link to an email address.
   * @param email The email address of the user.
   * @param options Additional options to be included when inviting.
   */
  async inviteUserByEmail(t, r = {}) {
    try {
      return await it(this.fetch, "POST", `${this.url}/invite`, {
        body: { email: t, data: r.data },
        headers: this.headers,
        redirectTo: r.redirectTo,
        xform: Ta
      });
    } catch (n) {
      if (Xe(n))
        return { data: { user: null }, error: n };
      throw n;
    }
  }
  /**
   * Generates email links and OTPs to be sent via a custom email provider.
   * @param email The user's email.
   * @param options.password User password. For signup only.
   * @param options.data Optional user metadata. For signup only.
   * @param options.redirectTo The redirect url which should be appended to the generated link
   */
  async generateLink(t) {
    try {
      const { options: r } = t, n = MV(t, ["options"]), s = Object.assign(Object.assign({}, n), r);
      return "newEmail" in n && (s.new_email = n == null ? void 0 : n.newEmail, delete s.newEmail), await it(this.fetch, "POST", `${this.url}/admin/generate_link`, {
        body: s,
        headers: this.headers,
        xform: $V,
        redirectTo: r == null ? void 0 : r.redirectTo
      });
    } catch (r) {
      if (Xe(r))
        return {
          data: {
            properties: null,
            user: null
          },
          error: r
        };
      throw r;
    }
  }
  // User Admin API
  /**
   * Creates a new user.
   * This function should only be called on a server. Never expose your `service_role` key in the browser.
   */
  async createUser(t) {
    try {
      return await it(this.fetch, "POST", `${this.url}/admin/users`, {
        body: t,
        headers: this.headers,
        xform: Ta
      });
    } catch (r) {
      if (Xe(r))
        return { data: { user: null }, error: r };
      throw r;
    }
  }
  /**
   * Get a list of users.
   *
   * This function should only be called on a server. Never expose your `service_role` key in the browser.
   * @param params An object which supports `page` and `perPage` as numbers, to alter the paginated results.
   */
  async listUsers(t) {
    var r, n, s, i, o, a, l;
    try {
      const c = { nextPage: null, lastPage: 0, total: 0 }, d = await it(this.fetch, "GET", `${this.url}/admin/users`, {
        headers: this.headers,
        noResolveJson: !0,
        query: {
          page: (n = (r = t == null ? void 0 : t.page) === null || r === void 0 ? void 0 : r.toString()) !== null && n !== void 0 ? n : "",
          per_page: (i = (s = t == null ? void 0 : t.perPage) === null || s === void 0 ? void 0 : s.toString()) !== null && i !== void 0 ? i : ""
        },
        xform: RV
      });
      if (d.error)
        throw d.error;
      const f = await d.json(), h = (o = d.headers.get("x-total-count")) !== null && o !== void 0 ? o : 0, p = (l = (a = d.headers.get("link")) === null || a === void 0 ? void 0 : a.split(",")) !== null && l !== void 0 ? l : [];
      return p.length > 0 && (p.forEach((g) => {
        const m = parseInt(g.split(";")[0].split("=")[1].substring(0, 1)), y = JSON.parse(g.split(";")[1].split("=")[1]);
        c[`${y}Page`] = m;
      }), c.total = parseInt(h)), { data: Object.assign(Object.assign({}, f), c), error: null };
    } catch (c) {
      if (Xe(c))
        return { data: { users: [] }, error: c };
      throw c;
    }
  }
  /**
   * Get user by id.
   *
   * @param uid The user's unique identifier
   *
   * This function should only be called on a server. Never expose your `service_role` key in the browser.
   */
  async getUserById(t) {
    Lc(t);
    try {
      return await it(this.fetch, "GET", `${this.url}/admin/users/${t}`, {
        headers: this.headers,
        xform: Ta
      });
    } catch (r) {
      if (Xe(r))
        return { data: { user: null }, error: r };
      throw r;
    }
  }
  /**
   * Updates the user data.
   *
   * @param attributes The data you want to update.
   *
   * This function should only be called on a server. Never expose your `service_role` key in the browser.
   */
  async updateUserById(t, r) {
    Lc(t);
    try {
      return await it(this.fetch, "PUT", `${this.url}/admin/users/${t}`, {
        body: r,
        headers: this.headers,
        xform: Ta
      });
    } catch (n) {
      if (Xe(n))
        return { data: { user: null }, error: n };
      throw n;
    }
  }
  /**
   * Delete a user. Requires a `service_role` key.
   *
   * @param id The user id you want to remove.
   * @param shouldSoftDelete If true, then the user will be soft-deleted from the auth schema. Soft deletion allows user identification from the hashed user ID but is not reversible.
   * Defaults to false for backward compatibility.
   *
   * This function should only be called on a server. Never expose your `service_role` key in the browser.
   */
  async deleteUser(t, r = !1) {
    Lc(t);
    try {
      return await it(this.fetch, "DELETE", `${this.url}/admin/users/${t}`, {
        headers: this.headers,
        body: {
          should_soft_delete: r
        },
        xform: Ta
      });
    } catch (n) {
      if (Xe(n))
        return { data: { user: null }, error: n };
      throw n;
    }
  }
  async _listFactors(t) {
    Lc(t.userId);
    try {
      const { data: r, error: n } = await it(this.fetch, "GET", `${this.url}/admin/users/${t.userId}/factors`, {
        headers: this.headers,
        xform: (s) => ({ data: { factors: s }, error: null })
      });
      return { data: r, error: n };
    } catch (r) {
      if (Xe(r))
        return { data: null, error: r };
      throw r;
    }
  }
  async _deleteFactor(t) {
    Lc(t.userId), Lc(t.id);
    try {
      return { data: await it(this.fetch, "DELETE", `${this.url}/admin/users/${t.userId}/factors/${t.id}`, {
        headers: this.headers
      }), error: null };
    } catch (r) {
      if (Xe(r))
        return { data: null, error: r };
      throw r;
    }
  }
}
function kC(e = {}) {
  return {
    getItem: (t) => e[t] || null,
    setItem: (t, r) => {
      e[t] = r;
    },
    removeItem: (t) => {
      delete e[t];
    }
  };
}
function FV() {
  if (typeof globalThis != "object")
    try {
      Object.defineProperty(Object.prototype, "__magic__", {
        get: function() {
          return this;
        },
        configurable: !0
      }), __magic__.globalThis = __magic__, delete Object.prototype.__magic__;
    } catch {
      typeof self < "u" && (self.globalThis = self);
    }
}
const Fc = {
  /**
   * @experimental
   */
  debug: !!(globalThis && pI() && globalThis.localStorage && globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug") === "true")
};
class gI extends Error {
  constructor(t) {
    super(t), this.isAcquireTimeout = !0;
  }
}
class BV extends gI {
}
async function zV(e, t, r) {
  Fc.debug && console.log("@supabase/gotrue-js: navigatorLock: acquire lock", e, t);
  const n = new globalThis.AbortController();
  return t > 0 && setTimeout(() => {
    n.abort(), Fc.debug && console.log("@supabase/gotrue-js: navigatorLock acquire timed out", e);
  }, t), await Promise.resolve().then(() => globalThis.navigator.locks.request(e, t === 0 ? {
    mode: "exclusive",
    ifAvailable: !0
  } : {
    mode: "exclusive",
    signal: n.signal
  }, async (s) => {
    if (s) {
      Fc.debug && console.log("@supabase/gotrue-js: navigatorLock: acquired", e, s.name);
      try {
        return await r();
      } finally {
        Fc.debug && console.log("@supabase/gotrue-js: navigatorLock: released", e, s.name);
      }
    } else {
      if (t === 0)
        throw Fc.debug && console.log("@supabase/gotrue-js: navigatorLock: not immediately available", e), new BV(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);
      if (Fc.debug)
        try {
          const i = await globalThis.navigator.locks.query();
          console.log("@supabase/gotrue-js: Navigator LockManager state", JSON.stringify(i, null, "  "));
        } catch (i) {
          console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state", i);
        }
      return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"), await r();
    }
  }));
}
FV();
const UV = {
  url: Jq,
  storageKey: Qq,
  autoRefreshToken: !0,
  persistSession: !0,
  detectSessionInUrl: !0,
  headers: eV,
  flowType: "implicit",
  debug: !1,
  hasCustomAuthorizationHeader: !1
};
async function CC(e, t, r) {
  return await r();
}
const Bc = {};
class ah {
  /**
   * Create a new client for use in the browser.
   */
  constructor(t) {
    var r, n;
    this.userStorage = null, this.memoryStorage = null, this.stateChangeEmitters = /* @__PURE__ */ new Map(), this.autoRefreshTicker = null, this.visibilityChangedCallback = null, this.refreshingDeferred = null, this.initializePromise = null, this.detectSessionInUrl = !0, this.hasCustomAuthorizationHeader = !1, this.suppressGetSessionWarning = !1, this.lockAcquired = !1, this.pendingInLock = [], this.broadcastChannel = null, this.logger = console.log, this.instanceID = ah.nextInstanceID, ah.nextInstanceID += 1, this.instanceID > 0 && Ys() && console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");
    const s = Object.assign(Object.assign({}, UV), t);
    if (this.logDebugMessages = !!s.debug, typeof s.debug == "function" && (this.logger = s.debug), this.persistSession = s.persistSession, this.storageKey = s.storageKey, this.autoRefreshToken = s.autoRefreshToken, this.admin = new LV({
      url: s.url,
      headers: s.headers,
      fetch: s.fetch
    }), this.url = s.url, this.headers = s.headers, this.fetch = mI(s.fetch), this.lock = s.lock || CC, this.detectSessionInUrl = s.detectSessionInUrl, this.flowType = s.flowType, this.hasCustomAuthorizationHeader = s.hasCustomAuthorizationHeader, s.lock ? this.lock = s.lock : Ys() && (!((r = globalThis == null ? void 0 : globalThis.navigator) === null || r === void 0) && r.locks) ? this.lock = zV : this.lock = CC, this.jwks || (this.jwks = { keys: [] }, this.jwks_cached_at = Number.MIN_SAFE_INTEGER), this.mfa = {
      verify: this._verify.bind(this),
      enroll: this._enroll.bind(this),
      unenroll: this._unenroll.bind(this),
      challenge: this._challenge.bind(this),
      listFactors: this._listFactors.bind(this),
      challengeAndVerify: this._challengeAndVerify.bind(this),
      getAuthenticatorAssuranceLevel: this._getAuthenticatorAssuranceLevel.bind(this)
    }, this.persistSession ? (s.storage ? this.storage = s.storage : pI() ? this.storage = globalThis.localStorage : (this.memoryStorage = {}, this.storage = kC(this.memoryStorage)), s.userStorage && (this.userStorage = s.userStorage)) : (this.memoryStorage = {}, this.storage = kC(this.memoryStorage)), Ys() && globalThis.BroadcastChannel && this.persistSession && this.storageKey) {
      try {
        this.broadcastChannel = new globalThis.BroadcastChannel(this.storageKey);
      } catch (i) {
        console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available", i);
      }
      (n = this.broadcastChannel) === null || n === void 0 || n.addEventListener("message", async (i) => {
        this._debug("received broadcast notification from other tab or client", i), await this._notifyAllSubscribers(i.data.event, i.data.session, !1);
      });
    }
    this.initialize();
  }
  /**
   * The JWKS used for verifying asymmetric JWTs
   */
  get jwks() {
    var t, r;
    return (r = (t = Bc[this.storageKey]) === null || t === void 0 ? void 0 : t.jwks) !== null && r !== void 0 ? r : { keys: [] };
  }
  set jwks(t) {
    Bc[this.storageKey] = Object.assign(Object.assign({}, Bc[this.storageKey]), { jwks: t });
  }
  get jwks_cached_at() {
    var t, r;
    return (r = (t = Bc[this.storageKey]) === null || t === void 0 ? void 0 : t.cachedAt) !== null && r !== void 0 ? r : Number.MIN_SAFE_INTEGER;
  }
  set jwks_cached_at(t) {
    Bc[this.storageKey] = Object.assign(Object.assign({}, Bc[this.storageKey]), { cachedAt: t });
  }
  _debug(...t) {
    return this.logDebugMessages && this.logger(`GoTrueClient@${this.instanceID} (${uI}) ${(/* @__PURE__ */ new Date()).toISOString()}`, ...t), this;
  }
  /**
   * Initializes the client session either from the url or from storage.
   * This method is automatically called when instantiating the client, but should also be called
   * manually when checking for an error from an auth redirect (oauth, magiclink, password recovery, etc).
   */
  async initialize() {
    return this.initializePromise ? await this.initializePromise : (this.initializePromise = (async () => await this._acquireLock(-1, async () => await this._initialize()))(), await this.initializePromise);
  }
  /**
   * IMPORTANT:
   * 1. Never throw in this method, as it is called from the constructor
   * 2. Never return a session from this method as it would be cached over
   *    the whole lifetime of the client
   */
  async _initialize() {
    var t;
    try {
      const r = gV(window.location.href);
      let n = "none";
      if (this._isImplicitGrantCallback(r) ? n = "implicit" : await this._isPKCECallback(r) && (n = "pkce"), Ys() && this.detectSessionInUrl && n !== "none") {
        const { data: s, error: i } = await this._getSessionFromURL(r, n);
        if (i) {
          if (this._debug("#_initialize()", "error detecting session from URL", i), oV(i)) {
            const l = (t = i.details) === null || t === void 0 ? void 0 : t.code;
            if (l === "identity_already_exists" || l === "identity_not_found" || l === "single_identity_not_deletable")
              return { error: i };
          }
          return await this._removeSession(), { error: i };
        }
        const { session: o, redirectType: a } = s;
        return this._debug("#_initialize()", "detected session in URL", o, "redirect type", a), await this._saveSession(o), setTimeout(async () => {
          a === "recovery" ? await this._notifyAllSubscribers("PASSWORD_RECOVERY", o) : await this._notifyAllSubscribers("SIGNED_IN", o);
        }, 0), { error: null };
      }
      return await this._recoverAndRefresh(), { error: null };
    } catch (r) {
      return Xe(r) ? { error: r } : {
        error: new fI("Unexpected error during initialization", r)
      };
    } finally {
      await this._handleVisibilityChange(), this._debug("#_initialize()", "end");
    }
  }
  /**
   * Creates a new anonymous user.
   *
   * @returns A session where the is_anonymous claim in the access token JWT set to true
   */
  async signInAnonymously(t) {
    var r, n, s;
    try {
      const i = await it(this.fetch, "POST", `${this.url}/signup`, {
        headers: this.headers,
        body: {
          data: (n = (r = t == null ? void 0 : t.options) === null || r === void 0 ? void 0 : r.data) !== null && n !== void 0 ? n : {},
          gotrue_meta_security: { captcha_token: (s = t == null ? void 0 : t.options) === null || s === void 0 ? void 0 : s.captchaToken }
        },
        xform: xo
      }), { data: o, error: a } = i;
      if (a || !o)
        return { data: { user: null, session: null }, error: a };
      const l = o.session, c = o.user;
      return o.session && (await this._saveSession(o.session), await this._notifyAllSubscribers("SIGNED_IN", l)), { data: { user: c, session: l }, error: null };
    } catch (i) {
      if (Xe(i))
        return { data: { user: null, session: null }, error: i };
      throw i;
    }
  }
  /**
   * Creates a new user.
   *
   * Be aware that if a user account exists in the system you may get back an
   * error message that attempts to hide this information from the user.
   * This method has support for PKCE via email signups. The PKCE flow cannot be used when autoconfirm is enabled.
   *
   * @returns A logged-in session if the server has "autoconfirm" ON
   * @returns A user if the server has "autoconfirm" OFF
   */
  async signUp(t) {
    var r, n, s;
    try {
      let i;
      if ("email" in t) {
        const { email: d, password: f, options: h } = t;
        let p = null, g = null;
        this.flowType === "pkce" && ([p, g] = await Mc(this.storage, this.storageKey)), i = await it(this.fetch, "POST", `${this.url}/signup`, {
          headers: this.headers,
          redirectTo: h == null ? void 0 : h.emailRedirectTo,
          body: {
            email: d,
            password: f,
            data: (r = h == null ? void 0 : h.data) !== null && r !== void 0 ? r : {},
            gotrue_meta_security: { captcha_token: h == null ? void 0 : h.captchaToken },
            code_challenge: p,
            code_challenge_method: g
          },
          xform: xo
        });
      } else if ("phone" in t) {
        const { phone: d, password: f, options: h } = t;
        i = await it(this.fetch, "POST", `${this.url}/signup`, {
          headers: this.headers,
          body: {
            phone: d,
            password: f,
            data: (n = h == null ? void 0 : h.data) !== null && n !== void 0 ? n : {},
            channel: (s = h == null ? void 0 : h.channel) !== null && s !== void 0 ? s : "sms",
            gotrue_meta_security: { captcha_token: h == null ? void 0 : h.captchaToken }
          },
          xform: xo
        });
      } else
        throw new tm("You must provide either an email or phone number and a password");
      const { data: o, error: a } = i;
      if (a || !o)
        return { data: { user: null, session: null }, error: a };
      const l = o.session, c = o.user;
      return o.session && (await this._saveSession(o.session), await this._notifyAllSubscribers("SIGNED_IN", l)), { data: { user: c, session: l }, error: null };
    } catch (i) {
      if (Xe(i))
        return { data: { user: null, session: null }, error: i };
      throw i;
    }
  }
  /**
   * Log in an existing user with an email and password or phone and password.
   *
   * Be aware that you may get back an error message that will not distinguish
   * between the cases where the account does not exist or that the
   * email/phone and password combination is wrong or that the account can only
   * be accessed via social login.
   */
  async signInWithPassword(t) {
    try {
      let r;
      if ("email" in t) {
        const { email: i, password: o, options: a } = t;
        r = await it(this.fetch, "POST", `${this.url}/token?grant_type=password`, {
          headers: this.headers,
          body: {
            email: i,
            password: o,
            gotrue_meta_security: { captcha_token: a == null ? void 0 : a.captchaToken }
          },
          xform: NC
        });
      } else if ("phone" in t) {
        const { phone: i, password: o, options: a } = t;
        r = await it(this.fetch, "POST", `${this.url}/token?grant_type=password`, {
          headers: this.headers,
          body: {
            phone: i,
            password: o,
            gotrue_meta_security: { captcha_token: a == null ? void 0 : a.captchaToken }
          },
          xform: NC
        });
      } else
        throw new tm("You must provide either an email or phone number and a password");
      const { data: n, error: s } = r;
      return s ? { data: { user: null, session: null }, error: s } : !n || !n.session || !n.user ? { data: { user: null, session: null }, error: new em() } : (n.session && (await this._saveSession(n.session), await this._notifyAllSubscribers("SIGNED_IN", n.session)), {
        data: Object.assign({ user: n.user, session: n.session }, n.weak_password ? { weakPassword: n.weak_password } : null),
        error: s
      });
    } catch (r) {
      if (Xe(r))
        return { data: { user: null, session: null }, error: r };
      throw r;
    }
  }
  /**
   * Log in an existing user via a third-party provider.
   * This method supports the PKCE flow.
   */
  async signInWithOAuth(t) {
    var r, n, s, i;
    return await this._handleProviderSignIn(t.provider, {
      redirectTo: (r = t.options) === null || r === void 0 ? void 0 : r.redirectTo,
      scopes: (n = t.options) === null || n === void 0 ? void 0 : n.scopes,
      queryParams: (s = t.options) === null || s === void 0 ? void 0 : s.queryParams,
      skipBrowserRedirect: (i = t.options) === null || i === void 0 ? void 0 : i.skipBrowserRedirect
    });
  }
  /**
   * Log in an existing user by exchanging an Auth Code issued during the PKCE flow.
   */
  async exchangeCodeForSession(t) {
    return await this.initializePromise, this._acquireLock(-1, async () => this._exchangeCodeForSession(t));
  }
  /**
   * Signs in a user by verifying a message signed by the user's private key.
   * Only Solana supported at this time, using the Sign in with Solana standard.
   */
  async signInWithWeb3(t) {
    const { chain: r } = t;
    if (r === "solana")
      return await this.signInWithSolana(t);
    throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`);
  }
  async signInWithSolana(t) {
    var r, n, s, i, o, a, l, c, d, f, h, p;
    let g, m;
    if ("message" in t)
      g = t.message, m = t.signature;
    else {
      const { chain: y, wallet: v, statement: b, options: x } = t;
      let S;
      if (Ys())
        if (typeof v == "object")
          S = v;
        else {
          const j = window;
          if ("solana" in j && typeof j.solana == "object" && ("signIn" in j.solana && typeof j.solana.signIn == "function" || "signMessage" in j.solana && typeof j.solana.signMessage == "function"))
            S = j.solana;
          else
            throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");
        }
      else {
        if (typeof v != "object" || !(x != null && x.url))
          throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");
        S = v;
      }
      const w = new URL((r = x == null ? void 0 : x.url) !== null && r !== void 0 ? r : window.location.href);
      if ("signIn" in S && S.signIn) {
        const j = await S.signIn(Object.assign(Object.assign(Object.assign({ issuedAt: (/* @__PURE__ */ new Date()).toISOString() }, x == null ? void 0 : x.signInWithSolana), {
          // non-overridable properties
          version: "1",
          domain: w.host,
          uri: w.href
        }), b ? { statement: b } : null));
        let N;
        if (Array.isArray(j) && j[0] && typeof j[0] == "object")
          N = j[0];
        else if (j && typeof j == "object" && "signedMessage" in j && "signature" in j)
          N = j;
        else
          throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");
        if ("signedMessage" in N && "signature" in N && (typeof N.signedMessage == "string" || N.signedMessage instanceof Uint8Array) && N.signature instanceof Uint8Array)
          g = typeof N.signedMessage == "string" ? N.signedMessage : new TextDecoder().decode(N.signedMessage), m = N.signature;
        else
          throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");
      } else {
        if (!("signMessage" in S) || typeof S.signMessage != "function" || !("publicKey" in S) || typeof S != "object" || !S.publicKey || !("toBase58" in S.publicKey) || typeof S.publicKey.toBase58 != "function")
          throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");
        g = [
          `${w.host} wants you to sign in with your Solana account:`,
          S.publicKey.toBase58(),
          ...b ? ["", b, ""] : [""],
          "Version: 1",
          `URI: ${w.href}`,
          `Issued At: ${(s = (n = x == null ? void 0 : x.signInWithSolana) === null || n === void 0 ? void 0 : n.issuedAt) !== null && s !== void 0 ? s : (/* @__PURE__ */ new Date()).toISOString()}`,
          ...!((i = x == null ? void 0 : x.signInWithSolana) === null || i === void 0) && i.notBefore ? [`Not Before: ${x.signInWithSolana.notBefore}`] : [],
          ...!((o = x == null ? void 0 : x.signInWithSolana) === null || o === void 0) && o.expirationTime ? [`Expiration Time: ${x.signInWithSolana.expirationTime}`] : [],
          ...!((a = x == null ? void 0 : x.signInWithSolana) === null || a === void 0) && a.chainId ? [`Chain ID: ${x.signInWithSolana.chainId}`] : [],
          ...!((l = x == null ? void 0 : x.signInWithSolana) === null || l === void 0) && l.nonce ? [`Nonce: ${x.signInWithSolana.nonce}`] : [],
          ...!((c = x == null ? void 0 : x.signInWithSolana) === null || c === void 0) && c.requestId ? [`Request ID: ${x.signInWithSolana.requestId}`] : [],
          ...!((f = (d = x == null ? void 0 : x.signInWithSolana) === null || d === void 0 ? void 0 : d.resources) === null || f === void 0) && f.length ? [
            "Resources",
            ...x.signInWithSolana.resources.map((N) => `- ${N}`)
          ] : []
        ].join(`
`);
        const j = await S.signMessage(new TextEncoder().encode(g), "utf8");
        if (!j || !(j instanceof Uint8Array))
          throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");
        m = j;
      }
    }
    try {
      const { data: y, error: v } = await it(this.fetch, "POST", `${this.url}/token?grant_type=web3`, {
        headers: this.headers,
        body: Object.assign({ chain: "solana", message: g, signature: hV(m) }, !((h = t.options) === null || h === void 0) && h.captchaToken ? { gotrue_meta_security: { captcha_token: (p = t.options) === null || p === void 0 ? void 0 : p.captchaToken } } : null),
        xform: xo
      });
      if (v)
        throw v;
      return !y || !y.session || !y.user ? {
        data: { user: null, session: null },
        error: new em()
      } : (y.session && (await this._saveSession(y.session), await this._notifyAllSubscribers("SIGNED_IN", y.session)), { data: Object.assign({}, y), error: v });
    } catch (y) {
      if (Xe(y))
        return { data: { user: null, session: null }, error: y };
      throw y;
    }
  }
  async _exchangeCodeForSession(t) {
    const r = await El(this.storage, `${this.storageKey}-code-verifier`), [n, s] = (r ?? "").split("/");
    try {
      const { data: i, error: o } = await it(this.fetch, "POST", `${this.url}/token?grant_type=pkce`, {
        headers: this.headers,
        body: {
          auth_code: t,
          code_verifier: n
        },
        xform: xo
      });
      if (await pa(this.storage, `${this.storageKey}-code-verifier`), o)
        throw o;
      return !i || !i.session || !i.user ? {
        data: { user: null, session: null, redirectType: null },
        error: new em()
      } : (i.session && (await this._saveSession(i.session), await this._notifyAllSubscribers("SIGNED_IN", i.session)), { data: Object.assign(Object.assign({}, i), { redirectType: s ?? null }), error: o });
    } catch (i) {
      if (Xe(i))
        return { data: { user: null, session: null, redirectType: null }, error: i };
      throw i;
    }
  }
  /**
   * Allows signing in with an OIDC ID token. The authentication provider used
   * should be enabled and configured.
   */
  async signInWithIdToken(t) {
    try {
      const { options: r, provider: n, token: s, access_token: i, nonce: o } = t, a = await it(this.fetch, "POST", `${this.url}/token?grant_type=id_token`, {
        headers: this.headers,
        body: {
          provider: n,
          id_token: s,
          access_token: i,
          nonce: o,
          gotrue_meta_security: { captcha_token: r == null ? void 0 : r.captchaToken }
        },
        xform: xo
      }), { data: l, error: c } = a;
      return c ? { data: { user: null, session: null }, error: c } : !l || !l.session || !l.user ? {
        data: { user: null, session: null },
        error: new em()
      } : (l.session && (await this._saveSession(l.session), await this._notifyAllSubscribers("SIGNED_IN", l.session)), { data: l, error: c });
    } catch (r) {
      if (Xe(r))
        return { data: { user: null, session: null }, error: r };
      throw r;
    }
  }
  /**
   * Log in a user using magiclink or a one-time password (OTP).
   *
   * If the `{{ .ConfirmationURL }}` variable is specified in the email template, a magiclink will be sent.
   * If the `{{ .Token }}` variable is specified in the email template, an OTP will be sent.
   * If you're using phone sign-ins, only an OTP will be sent. You won't be able to send a magiclink for phone sign-ins.
   *
   * Be aware that you may get back an error message that will not distinguish
   * between the cases where the account does not exist or, that the account
   * can only be accessed via social login.
   *
   * Do note that you will need to configure a Whatsapp sender on Twilio
   * if you are using phone sign in with the 'whatsapp' channel. The whatsapp
   * channel is not supported on other providers
   * at this time.
   * This method supports PKCE when an email is passed.
   */
  async signInWithOtp(t) {
    var r, n, s, i, o;
    try {
      if ("email" in t) {
        const { email: a, options: l } = t;
        let c = null, d = null;
        this.flowType === "pkce" && ([c, d] = await Mc(this.storage, this.storageKey));
        const { error: f } = await it(this.fetch, "POST", `${this.url}/otp`, {
          headers: this.headers,
          body: {
            email: a,
            data: (r = l == null ? void 0 : l.data) !== null && r !== void 0 ? r : {},
            create_user: (n = l == null ? void 0 : l.shouldCreateUser) !== null && n !== void 0 ? n : !0,
            gotrue_meta_security: { captcha_token: l == null ? void 0 : l.captchaToken },
            code_challenge: c,
            code_challenge_method: d
          },
          redirectTo: l == null ? void 0 : l.emailRedirectTo
        });
        return { data: { user: null, session: null }, error: f };
      }
      if ("phone" in t) {
        const { phone: a, options: l } = t, { data: c, error: d } = await it(this.fetch, "POST", `${this.url}/otp`, {
          headers: this.headers,
          body: {
            phone: a,
            data: (s = l == null ? void 0 : l.data) !== null && s !== void 0 ? s : {},
            create_user: (i = l == null ? void 0 : l.shouldCreateUser) !== null && i !== void 0 ? i : !0,
            gotrue_meta_security: { captcha_token: l == null ? void 0 : l.captchaToken },
            channel: (o = l == null ? void 0 : l.channel) !== null && o !== void 0 ? o : "sms"
          }
        });
        return { data: { user: null, session: null, messageId: c == null ? void 0 : c.message_id }, error: d };
      }
      throw new tm("You must provide either an email or phone number.");
    } catch (a) {
      if (Xe(a))
        return { data: { user: null, session: null }, error: a };
      throw a;
    }
  }
  /**
   * Log in a user given a User supplied OTP or TokenHash received through mobile or email.
   */
  async verifyOtp(t) {
    var r, n;
    try {
      let s, i;
      "options" in t && (s = (r = t.options) === null || r === void 0 ? void 0 : r.redirectTo, i = (n = t.options) === null || n === void 0 ? void 0 : n.captchaToken);
      const { data: o, error: a } = await it(this.fetch, "POST", `${this.url}/verify`, {
        headers: this.headers,
        body: Object.assign(Object.assign({}, t), { gotrue_meta_security: { captcha_token: i } }),
        redirectTo: s,
        xform: xo
      });
      if (a)
        throw a;
      if (!o)
        throw new Error("An error occurred on token verification.");
      const l = o.session, c = o.user;
      return l != null && l.access_token && (await this._saveSession(l), await this._notifyAllSubscribers(t.type == "recovery" ? "PASSWORD_RECOVERY" : "SIGNED_IN", l)), { data: { user: c, session: l }, error: null };
    } catch (s) {
      if (Xe(s))
        return { data: { user: null, session: null }, error: s };
      throw s;
    }
  }
  /**
   * Attempts a single-sign on using an enterprise Identity Provider. A
   * successful SSO attempt will redirect the current page to the identity
   * provider authorization page. The redirect URL is implementation and SSO
   * protocol specific.
   *
   * You can use it by providing a SSO domain. Typically you can extract this
   * domain by asking users for their email address. If this domain is
   * registered on the Auth instance the redirect will use that organization's
   * currently active SSO Identity Provider for the login.
   *
   * If you have built an organization-specific login page, you can use the
   * organization's SSO Identity Provider UUID directly instead.
   */
  async signInWithSSO(t) {
    var r, n, s;
    try {
      let i = null, o = null;
      return this.flowType === "pkce" && ([i, o] = await Mc(this.storage, this.storageKey)), await it(this.fetch, "POST", `${this.url}/sso`, {
        body: Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, "providerId" in t ? { provider_id: t.providerId } : null), "domain" in t ? { domain: t.domain } : null), { redirect_to: (n = (r = t.options) === null || r === void 0 ? void 0 : r.redirectTo) !== null && n !== void 0 ? n : void 0 }), !((s = t == null ? void 0 : t.options) === null || s === void 0) && s.captchaToken ? { gotrue_meta_security: { captcha_token: t.options.captchaToken } } : null), { skip_http_redirect: !0, code_challenge: i, code_challenge_method: o }),
        headers: this.headers,
        xform: DV
      });
    } catch (i) {
      if (Xe(i))
        return { data: null, error: i };
      throw i;
    }
  }
  /**
   * Sends a reauthentication OTP to the user's email or phone number.
   * Requires the user to be signed-in.
   */
  async reauthenticate() {
    return await this.initializePromise, await this._acquireLock(-1, async () => await this._reauthenticate());
  }
  async _reauthenticate() {
    try {
      return await this._useSession(async (t) => {
        const { data: { session: r }, error: n } = t;
        if (n)
          throw n;
        if (!r)
          throw new wa();
        const { error: s } = await it(this.fetch, "GET", `${this.url}/reauthenticate`, {
          headers: this.headers,
          jwt: r.access_token
        });
        return { data: { user: null, session: null }, error: s };
      });
    } catch (t) {
      if (Xe(t))
        return { data: { user: null, session: null }, error: t };
      throw t;
    }
  }
  /**
   * Resends an existing signup confirmation email, email change email, SMS OTP or phone change OTP.
   */
  async resend(t) {
    try {
      const r = `${this.url}/resend`;
      if ("email" in t) {
        const { email: n, type: s, options: i } = t, { error: o } = await it(this.fetch, "POST", r, {
          headers: this.headers,
          body: {
            email: n,
            type: s,
            gotrue_meta_security: { captcha_token: i == null ? void 0 : i.captchaToken }
          },
          redirectTo: i == null ? void 0 : i.emailRedirectTo
        });
        return { data: { user: null, session: null }, error: o };
      } else if ("phone" in t) {
        const { phone: n, type: s, options: i } = t, { data: o, error: a } = await it(this.fetch, "POST", r, {
          headers: this.headers,
          body: {
            phone: n,
            type: s,
            gotrue_meta_security: { captcha_token: i == null ? void 0 : i.captchaToken }
          }
        });
        return { data: { user: null, session: null, messageId: o == null ? void 0 : o.message_id }, error: a };
      }
      throw new tm("You must provide either an email or phone number and a type");
    } catch (r) {
      if (Xe(r))
        return { data: { user: null, session: null }, error: r };
      throw r;
    }
  }
  /**
   * Returns the session, refreshing it if necessary.
   *
   * The session returned can be null if the session is not detected which can happen in the event a user is not signed-in or has logged out.
   *
   * **IMPORTANT:** This method loads values directly from the storage attached
   * to the client. If that storage is based on request cookies for example,
   * the values in it may not be authentic and therefore it's strongly advised
   * against using this method and its results in such circumstances. A warning
   * will be emitted if this is detected. Use {@link #getUser()} instead.
   */
  async getSession() {
    return await this.initializePromise, await this._acquireLock(-1, async () => this._useSession(async (r) => r));
  }
  /**
   * Acquires a global lock based on the storage key.
   */
  async _acquireLock(t, r) {
    this._debug("#_acquireLock", "begin", t);
    try {
      if (this.lockAcquired) {
        const n = this.pendingInLock.length ? this.pendingInLock[this.pendingInLock.length - 1] : Promise.resolve(), s = (async () => (await n, await r()))();
        return this.pendingInLock.push((async () => {
          try {
            await s;
          } catch {
          }
        })()), s;
      }
      return await this.lock(`lock:${this.storageKey}`, t, async () => {
        this._debug("#_acquireLock", "lock acquired for storage key", this.storageKey);
        try {
          this.lockAcquired = !0;
          const n = r();
          for (this.pendingInLock.push((async () => {
            try {
              await n;
            } catch {
            }
          })()), await n; this.pendingInLock.length; ) {
            const s = [...this.pendingInLock];
            await Promise.all(s), this.pendingInLock.splice(0, s.length);
          }
          return await n;
        } finally {
          this._debug("#_acquireLock", "lock released for storage key", this.storageKey), this.lockAcquired = !1;
        }
      });
    } finally {
      this._debug("#_acquireLock", "end");
    }
  }
  /**
   * Use instead of {@link #getSession} inside the library. It is
   * semantically usually what you want, as getting a session involves some
   * processing afterwards that requires only one client operating on the
   * session at once across multiple tabs or processes.
   */
  async _useSession(t) {
    this._debug("#_useSession", "begin");
    try {
      const r = await this.__loadSession();
      return await t(r);
    } finally {
      this._debug("#_useSession", "end");
    }
  }
  /**
   * NEVER USE DIRECTLY!
   *
   * Always use {@link #_useSession}.
   */
  async __loadSession() {
    this._debug("#__loadSession()", "begin"), this.lockAcquired || this._debug("#__loadSession()", "used outside of an acquired lock!", new Error().stack);
    try {
      let t = null;
      const r = await El(this.storage, this.storageKey);
      if (this._debug("#getSession()", "session from storage", r), r !== null && (this._isValidSession(r) ? t = r : (this._debug("#getSession()", "session from storage is not valid"), await this._removeSession())), !t)
        return { data: { session: null }, error: null };
      const n = t.expires_at ? t.expires_at * 1e3 - Date.now() < v0 : !1;
      if (this._debug("#__loadSession()", `session has${n ? "" : " not"} expired`, "expires_at", t.expires_at), !n) {
        if (this.userStorage) {
          const o = await El(this.userStorage, this.storageKey + "-user");
          o != null && o.user ? t.user = o.user : t.user = w0();
        }
        if (this.storage.isServer && t.user) {
          let o = this.suppressGetSessionWarning;
          t = new Proxy(t, {
            get: (l, c, d) => (!o && c === "user" && (console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."), o = !0, this.suppressGetSessionWarning = !0), Reflect.get(l, c, d))
          });
        }
        return { data: { session: t }, error: null };
      }
      const { session: s, error: i } = await this._callRefreshToken(t.refresh_token);
      return i ? { data: { session: null }, error: i } : { data: { session: s }, error: null };
    } finally {
      this._debug("#__loadSession()", "end");
    }
  }
  /**
   * Gets the current user details if there is an existing session. This method
   * performs a network request to the Supabase Auth server, so the returned
   * value is authentic and can be used to base authorization rules on.
   *
   * @param jwt Takes in an optional access token JWT. If no JWT is provided, the JWT from the current session is used.
   */
  async getUser(t) {
    return t ? await this._getUser(t) : (await this.initializePromise, await this._acquireLock(-1, async () => await this._getUser()));
  }
  async _getUser(t) {
    try {
      return t ? await it(this.fetch, "GET", `${this.url}/user`, {
        headers: this.headers,
        jwt: t,
        xform: Ta
      }) : await this._useSession(async (r) => {
        var n, s, i;
        const { data: o, error: a } = r;
        if (a)
          throw a;
        return !(!((n = o.session) === null || n === void 0) && n.access_token) && !this.hasCustomAuthorizationHeader ? { data: { user: null }, error: new wa() } : await it(this.fetch, "GET", `${this.url}/user`, {
          headers: this.headers,
          jwt: (i = (s = o.session) === null || s === void 0 ? void 0 : s.access_token) !== null && i !== void 0 ? i : void 0,
          xform: Ta
        });
      });
    } catch (r) {
      if (Xe(r))
        return iV(r) && (await this._removeSession(), await pa(this.storage, `${this.storageKey}-code-verifier`)), { data: { user: null }, error: r };
      throw r;
    }
  }
  /**
   * Updates user data for a logged in user.
   */
  async updateUser(t, r = {}) {
    return await this.initializePromise, await this._acquireLock(-1, async () => await this._updateUser(t, r));
  }
  async _updateUser(t, r = {}) {
    try {
      return await this._useSession(async (n) => {
        const { data: s, error: i } = n;
        if (i)
          throw i;
        if (!s.session)
          throw new wa();
        const o = s.session;
        let a = null, l = null;
        this.flowType === "pkce" && t.email != null && ([a, l] = await Mc(this.storage, this.storageKey));
        const { data: c, error: d } = await it(this.fetch, "PUT", `${this.url}/user`, {
          headers: this.headers,
          redirectTo: r == null ? void 0 : r.emailRedirectTo,
          body: Object.assign(Object.assign({}, t), { code_challenge: a, code_challenge_method: l }),
          jwt: o.access_token,
          xform: Ta
        });
        if (d)
          throw d;
        return o.user = c.user, await this._saveSession(o), await this._notifyAllSubscribers("USER_UPDATED", o), { data: { user: o.user }, error: null };
      });
    } catch (n) {
      if (Xe(n))
        return { data: { user: null }, error: n };
      throw n;
    }
  }
  /**
   * Sets the session data from the current session. If the current session is expired, setSession will take care of refreshing it to obtain a new session.
   * If the refresh token or access token in the current session is invalid, an error will be thrown.
   * @param currentSession The current session that minimally contains an access token and refresh token.
   */
  async setSession(t) {
    return await this.initializePromise, await this._acquireLock(-1, async () => await this._setSession(t));
  }
  async _setSession(t) {
    try {
      if (!t.access_token || !t.refresh_token)
        throw new wa();
      const r = Date.now() / 1e3;
      let n = r, s = !0, i = null;
      const { payload: o } = x0(t.access_token);
      if (o.exp && (n = o.exp, s = n <= r), s) {
        const { session: a, error: l } = await this._callRefreshToken(t.refresh_token);
        if (l)
          return { data: { user: null, session: null }, error: l };
        if (!a)
          return { data: { user: null, session: null }, error: null };
        i = a;
      } else {
        const { data: a, error: l } = await this._getUser(t.access_token);
        if (l)
          throw l;
        i = {
          access_token: t.access_token,
          refresh_token: t.refresh_token,
          user: a.user,
          token_type: "bearer",
          expires_in: n - r,
          expires_at: n
        }, await this._saveSession(i), await this._notifyAllSubscribers("SIGNED_IN", i);
      }
      return { data: { user: i.user, session: i }, error: null };
    } catch (r) {
      if (Xe(r))
        return { data: { session: null, user: null }, error: r };
      throw r;
    }
  }
  /**
   * Returns a new session, regardless of expiry status.
   * Takes in an optional current session. If not passed in, then refreshSession() will attempt to retrieve it from getSession().
   * If the current session's refresh token is invalid, an error will be thrown.
   * @param currentSession The current session. If passed in, it must contain a refresh token.
   */
  async refreshSession(t) {
    return await this.initializePromise, await this._acquireLock(-1, async () => await this._refreshSession(t));
  }
  async _refreshSession(t) {
    try {
      return await this._useSession(async (r) => {
        var n;
        if (!t) {
          const { data: o, error: a } = r;
          if (a)
            throw a;
          t = (n = o.session) !== null && n !== void 0 ? n : void 0;
        }
        if (!(t != null && t.refresh_token))
          throw new wa();
        const { session: s, error: i } = await this._callRefreshToken(t.refresh_token);
        return i ? { data: { user: null, session: null }, error: i } : s ? { data: { user: s.user, session: s }, error: null } : { data: { user: null, session: null }, error: null };
      });
    } catch (r) {
      if (Xe(r))
        return { data: { user: null, session: null }, error: r };
      throw r;
    }
  }
  /**
   * Gets the session data from a URL string
   */
  async _getSessionFromURL(t, r) {
    try {
      if (!Ys())
        throw new rm("No browser detected.");
      if (t.error || t.error_description || t.error_code)
        throw new rm(t.error_description || "Error in URL with unspecified error_description", {
          error: t.error || "unspecified_error",
          code: t.error_code || "unspecified_code"
        });
      switch (r) {
        case "implicit":
          if (this.flowType === "pkce")
            throw new bC("Not a valid PKCE flow url.");
          break;
        case "pkce":
          if (this.flowType === "implicit")
            throw new rm("Not a valid implicit grant flow url.");
          break;
        default:
      }
      if (r === "pkce") {
        if (this._debug("#_initialize()", "begin", "is PKCE flow", !0), !t.code)
          throw new bC("No code detected.");
        const { data: b, error: x } = await this._exchangeCodeForSession(t.code);
        if (x)
          throw x;
        const S = new URL(window.location.href);
        return S.searchParams.delete("code"), window.history.replaceState(window.history.state, "", S.toString()), { data: { session: b.session, redirectType: null }, error: null };
      }
      const { provider_token: n, provider_refresh_token: s, access_token: i, refresh_token: o, expires_in: a, expires_at: l, token_type: c } = t;
      if (!i || !a || !o || !c)
        throw new rm("No session defined in URL");
      const d = Math.round(Date.now() / 1e3), f = parseInt(a);
      let h = d + f;
      l && (h = parseInt(l));
      const p = h - d;
      p * 1e3 <= Gc && console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);
      const g = h - f;
      d - g >= 120 ? console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale", g, h, d) : d - g < 0 && console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew", g, h, d);
      const { data: m, error: y } = await this._getUser(i);
      if (y)
        throw y;
      const v = {
        provider_token: n,
        provider_refresh_token: s,
        access_token: i,
        expires_in: f,
        expires_at: h,
        refresh_token: o,
        token_type: c,
        user: m.user
      };
      return window.location.hash = "", this._debug("#_getSessionFromURL()", "clearing window.location.hash"), { data: { session: v, redirectType: t.type }, error: null };
    } catch (n) {
      if (Xe(n))
        return { data: { session: null, redirectType: null }, error: n };
      throw n;
    }
  }
  /**
   * Checks if the current URL contains parameters given by an implicit oauth grant flow (https://www.rfc-editor.org/rfc/rfc6749.html#section-4.2)
   */
  _isImplicitGrantCallback(t) {
    return !!(t.access_token || t.error_description);
  }
  /**
   * Checks if the current URL and backing storage contain parameters given by a PKCE flow
   */
  async _isPKCECallback(t) {
    const r = await El(this.storage, `${this.storageKey}-code-verifier`);
    return !!(t.code && r);
  }
  /**
   * Inside a browser context, `signOut()` will remove the logged in user from the browser session and log them out - removing all items from localstorage and then trigger a `"SIGNED_OUT"` event.
   *
   * For server-side management, you can revoke all refresh tokens for a user by passing a user's JWT through to `auth.api.signOut(JWT: string)`.
   * There is no way to revoke a user's access token jwt until it expires. It is recommended to set a shorter expiry on the jwt for this reason.
   *
   * If using `others` scope, no `SIGNED_OUT` event is fired!
   */
  async signOut(t = { scope: "global" }) {
    return await this.initializePromise, await this._acquireLock(-1, async () => await this._signOut(t));
  }
  async _signOut({ scope: t } = { scope: "global" }) {
    return await this._useSession(async (r) => {
      var n;
      const { data: s, error: i } = r;
      if (i)
        return { error: i };
      const o = (n = s.session) === null || n === void 0 ? void 0 : n.access_token;
      if (o) {
        const { error: a } = await this.admin.signOut(o, t);
        if (a && !(sV(a) && (a.status === 404 || a.status === 401 || a.status === 403)))
          return { error: a };
      }
      return t !== "others" && (await this._removeSession(), await pa(this.storage, `${this.storageKey}-code-verifier`)), { error: null };
    });
  }
  /**
   * Receive a notification every time an auth event happens.
   * @param callback A callback function to be invoked when an auth event happens.
   */
  onAuthStateChange(t) {
    const r = mV(), n = {
      id: r,
      callback: t,
      unsubscribe: () => {
        this._debug("#unsubscribe()", "state change callback with id removed", r), this.stateChangeEmitters.delete(r);
      }
    };
    return this._debug("#onAuthStateChange()", "registered callback with id", r), this.stateChangeEmitters.set(r, n), (async () => (await this.initializePromise, await this._acquireLock(-1, async () => {
      this._emitInitialSession(r);
    })))(), { data: { subscription: n } };
  }
  async _emitInitialSession(t) {
    return await this._useSession(async (r) => {
      var n, s;
      try {
        const { data: { session: i }, error: o } = r;
        if (o)
          throw o;
        await ((n = this.stateChangeEmitters.get(t)) === null || n === void 0 ? void 0 : n.callback("INITIAL_SESSION", i)), this._debug("INITIAL_SESSION", "callback id", t, "session", i);
      } catch (i) {
        await ((s = this.stateChangeEmitters.get(t)) === null || s === void 0 ? void 0 : s.callback("INITIAL_SESSION", null)), this._debug("INITIAL_SESSION", "callback id", t, "error", i), console.error(i);
      }
    });
  }
  /**
   * Sends a password reset request to an email address. This method supports the PKCE flow.
   *
   * @param email The email address of the user.
   * @param options.redirectTo The URL to send the user to after they click the password reset link.
   * @param options.captchaToken Verification token received when the user completes the captcha on the site.
   */
  async resetPasswordForEmail(t, r = {}) {
    let n = null, s = null;
    this.flowType === "pkce" && ([n, s] = await Mc(
      this.storage,
      this.storageKey,
      !0
      // isPasswordRecovery
    ));
    try {
      return await it(this.fetch, "POST", `${this.url}/recover`, {
        body: {
          email: t,
          code_challenge: n,
          code_challenge_method: s,
          gotrue_meta_security: { captcha_token: r.captchaToken }
        },
        headers: this.headers,
        redirectTo: r.redirectTo
      });
    } catch (i) {
      if (Xe(i))
        return { data: null, error: i };
      throw i;
    }
  }
  /**
   * Gets all the identities linked to a user.
   */
  async getUserIdentities() {
    var t;
    try {
      const { data: r, error: n } = await this.getUser();
      if (n)
        throw n;
      return { data: { identities: (t = r.user.identities) !== null && t !== void 0 ? t : [] }, error: null };
    } catch (r) {
      if (Xe(r))
        return { data: null, error: r };
      throw r;
    }
  }
  /**
   * Links an oauth identity to an existing user.
   * This method supports the PKCE flow.
   */
  async linkIdentity(t) {
    var r;
    try {
      const { data: n, error: s } = await this._useSession(async (i) => {
        var o, a, l, c, d;
        const { data: f, error: h } = i;
        if (h)
          throw h;
        const p = await this._getUrlForProvider(`${this.url}/user/identities/authorize`, t.provider, {
          redirectTo: (o = t.options) === null || o === void 0 ? void 0 : o.redirectTo,
          scopes: (a = t.options) === null || a === void 0 ? void 0 : a.scopes,
          queryParams: (l = t.options) === null || l === void 0 ? void 0 : l.queryParams,
          skipBrowserRedirect: !0
        });
        return await it(this.fetch, "GET", p, {
          headers: this.headers,
          jwt: (d = (c = f.session) === null || c === void 0 ? void 0 : c.access_token) !== null && d !== void 0 ? d : void 0
        });
      });
      if (s)
        throw s;
      return Ys() && !(!((r = t.options) === null || r === void 0) && r.skipBrowserRedirect) && window.location.assign(n == null ? void 0 : n.url), { data: { provider: t.provider, url: n == null ? void 0 : n.url }, error: null };
    } catch (n) {
      if (Xe(n))
        return { data: { provider: t.provider, url: null }, error: n };
      throw n;
    }
  }
  /**
   * Unlinks an identity from a user by deleting it. The user will no longer be able to sign in with that identity once it's unlinked.
   */
  async unlinkIdentity(t) {
    try {
      return await this._useSession(async (r) => {
        var n, s;
        const { data: i, error: o } = r;
        if (o)
          throw o;
        return await it(this.fetch, "DELETE", `${this.url}/user/identities/${t.identity_id}`, {
          headers: this.headers,
          jwt: (s = (n = i.session) === null || n === void 0 ? void 0 : n.access_token) !== null && s !== void 0 ? s : void 0
        });
      });
    } catch (r) {
      if (Xe(r))
        return { data: null, error: r };
      throw r;
    }
  }
  /**
   * Generates a new JWT.
   * @param refreshToken A valid refresh token that was returned on login.
   */
  async _refreshAccessToken(t) {
    const r = `#_refreshAccessToken(${t.substring(0, 5)}...)`;
    this._debug(r, "begin");
    try {
      const n = Date.now();
      return await bV(async (s) => (s > 0 && await vV(200 * Math.pow(2, s - 1)), this._debug(r, "refreshing attempt", s), await it(this.fetch, "POST", `${this.url}/token?grant_type=refresh_token`, {
        body: { refresh_token: t },
        headers: this.headers,
        xform: xo
      })), (s, i) => {
        const o = 200 * Math.pow(2, s);
        return i && b0(i) && // retryable only if the request can be sent before the backoff overflows the tick duration
        Date.now() + o - n < Gc;
      });
    } catch (n) {
      if (this._debug(r, "error", n), Xe(n))
        return { data: { session: null, user: null }, error: n };
      throw n;
    } finally {
      this._debug(r, "end");
    }
  }
  _isValidSession(t) {
    return typeof t == "object" && t !== null && "access_token" in t && "refresh_token" in t && "expires_at" in t;
  }
  async _handleProviderSignIn(t, r) {
    const n = await this._getUrlForProvider(`${this.url}/authorize`, t, {
      redirectTo: r.redirectTo,
      scopes: r.scopes,
      queryParams: r.queryParams
    });
    return this._debug("#_handleProviderSignIn()", "provider", t, "options", r, "url", n), Ys() && !r.skipBrowserRedirect && window.location.assign(n), { data: { provider: t, url: n }, error: null };
  }
  /**
   * Recovers the session from LocalStorage and refreshes the token
   * Note: this method is async to accommodate for AsyncStorage e.g. in React native.
   */
  async _recoverAndRefresh() {
    var t, r;
    const n = "#_recoverAndRefresh()";
    this._debug(n, "begin");
    try {
      const s = await El(this.storage, this.storageKey);
      if (s && this.userStorage) {
        let o = await El(this.userStorage, this.storageKey + "-user");
        !this.storage.isServer && Object.is(this.storage, this.userStorage) && !o && (o = { user: s.user }, await Zc(this.userStorage, this.storageKey + "-user", o)), s.user = (t = o == null ? void 0 : o.user) !== null && t !== void 0 ? t : w0();
      } else if (s && !s.user && !s.user) {
        const o = await El(this.storage, this.storageKey + "-user");
        o && (o != null && o.user) ? (s.user = o.user, await pa(this.storage, this.storageKey + "-user"), await Zc(this.storage, this.storageKey, s)) : s.user = w0();
      }
      if (this._debug(n, "session from storage", s), !this._isValidSession(s)) {
        this._debug(n, "session is not valid"), s !== null && await this._removeSession();
        return;
      }
      const i = ((r = s.expires_at) !== null && r !== void 0 ? r : 1 / 0) * 1e3 - Date.now() < v0;
      if (this._debug(n, `session has${i ? "" : " not"} expired with margin of ${v0}s`), i) {
        if (this.autoRefreshToken && s.refresh_token) {
          const { error: o } = await this._callRefreshToken(s.refresh_token);
          o && (console.error(o), b0(o) || (this._debug(n, "refresh failed with a non-retryable error, removing the session", o), await this._removeSession()));
        }
      } else if (s.user && s.user.__isUserNotAvailableProxy === !0)
        try {
          const { data: o, error: a } = await this._getUser(s.access_token);
          !a && (o != null && o.user) ? (s.user = o.user, await this._saveSession(s), await this._notifyAllSubscribers("SIGNED_IN", s)) : this._debug(n, "could not get user data, skipping SIGNED_IN notification");
        } catch (o) {
          console.error("Error getting user data:", o), this._debug(n, "error getting user data, skipping SIGNED_IN notification", o);
        }
      else
        await this._notifyAllSubscribers("SIGNED_IN", s);
    } catch (s) {
      this._debug(n, "error", s), console.error(s);
      return;
    } finally {
      this._debug(n, "end");
    }
  }
  async _callRefreshToken(t) {
    var r, n;
    if (!t)
      throw new wa();
    if (this.refreshingDeferred)
      return this.refreshingDeferred.promise;
    const s = `#_callRefreshToken(${t.substring(0, 5)}...)`;
    this._debug(s, "begin");
    try {
      this.refreshingDeferred = new lv();
      const { data: i, error: o } = await this._refreshAccessToken(t);
      if (o)
        throw o;
      if (!i.session)
        throw new wa();
      await this._saveSession(i.session), await this._notifyAllSubscribers("TOKEN_REFRESHED", i.session);
      const a = { session: i.session, error: null };
      return this.refreshingDeferred.resolve(a), a;
    } catch (i) {
      if (this._debug(s, "error", i), Xe(i)) {
        const o = { session: null, error: i };
        return b0(i) || await this._removeSession(), (r = this.refreshingDeferred) === null || r === void 0 || r.resolve(o), o;
      }
      throw (n = this.refreshingDeferred) === null || n === void 0 || n.reject(i), i;
    } finally {
      this.refreshingDeferred = null, this._debug(s, "end");
    }
  }
  async _notifyAllSubscribers(t, r, n = !0) {
    const s = `#_notifyAllSubscribers(${t})`;
    this._debug(s, "begin", r, `broadcast = ${n}`);
    try {
      this.broadcastChannel && n && this.broadcastChannel.postMessage({ event: t, session: r });
      const i = [], o = Array.from(this.stateChangeEmitters.values()).map(async (a) => {
        try {
          await a.callback(t, r);
        } catch (l) {
          i.push(l);
        }
      });
      if (await Promise.all(o), i.length > 0) {
        for (let a = 0; a < i.length; a += 1)
          console.error(i[a]);
        throw i[0];
      }
    } finally {
      this._debug(s, "end");
    }
  }
  /**
   * set currentSession and currentUser
   * process to _startAutoRefreshToken if possible
   */
  async _saveSession(t) {
    this._debug("#_saveSession()", t), this.suppressGetSessionWarning = !0;
    const r = Object.assign({}, t), n = r.user && r.user.__isUserNotAvailableProxy === !0;
    if (this.userStorage) {
      !n && r.user && await Zc(this.userStorage, this.storageKey + "-user", {
        user: r.user
      });
      const s = Object.assign({}, r);
      delete s.user;
      const i = EC(s);
      await Zc(this.storage, this.storageKey, i);
    } else {
      const s = EC(r);
      await Zc(this.storage, this.storageKey, s);
    }
  }
  async _removeSession() {
    this._debug("#_removeSession()"), await pa(this.storage, this.storageKey), await pa(this.storage, this.storageKey + "-code-verifier"), await pa(this.storage, this.storageKey + "-user"), this.userStorage && await pa(this.userStorage, this.storageKey + "-user"), await this._notifyAllSubscribers("SIGNED_OUT", null);
  }
  /**
   * Removes any registered visibilitychange callback.
   *
   * {@see #startAutoRefresh}
   * {@see #stopAutoRefresh}
   */
  _removeVisibilityChangedCallback() {
    this._debug("#_removeVisibilityChangedCallback()");
    const t = this.visibilityChangedCallback;
    this.visibilityChangedCallback = null;
    try {
      t && Ys() && (window != null && window.removeEventListener) && window.removeEventListener("visibilitychange", t);
    } catch (r) {
      console.error("removing visibilitychange callback failed", r);
    }
  }
  /**
   * This is the private implementation of {@link #startAutoRefresh}. Use this
   * within the library.
   */
  async _startAutoRefresh() {
    await this._stopAutoRefresh(), this._debug("#_startAutoRefresh()");
    const t = setInterval(() => this._autoRefreshTokenTick(), Gc);
    this.autoRefreshTicker = t, t && typeof t == "object" && typeof t.unref == "function" ? t.unref() : typeof Deno < "u" && typeof Deno.unrefTimer == "function" && Deno.unrefTimer(t), setTimeout(async () => {
      await this.initializePromise, await this._autoRefreshTokenTick();
    }, 0);
  }
  /**
   * This is the private implementation of {@link #stopAutoRefresh}. Use this
   * within the library.
   */
  async _stopAutoRefresh() {
    this._debug("#_stopAutoRefresh()");
    const t = this.autoRefreshTicker;
    this.autoRefreshTicker = null, t && clearInterval(t);
  }
  /**
   * Starts an auto-refresh process in the background. The session is checked
   * every few seconds. Close to the time of expiration a process is started to
   * refresh the session. If refreshing fails it will be retried for as long as
   * necessary.
   *
   * If you set the {@link GoTrueClientOptions#autoRefreshToken} you don't need
   * to call this function, it will be called for you.
   *
   * On browsers the refresh process works only when the tab/window is in the
   * foreground to conserve resources as well as prevent race conditions and
   * flooding auth with requests. If you call this method any managed
   * visibility change callback will be removed and you must manage visibility
   * changes on your own.
   *
   * On non-browser platforms the refresh process works *continuously* in the
   * background, which may not be desirable. You should hook into your
   * platform's foreground indication mechanism and call these methods
   * appropriately to conserve resources.
   *
   * {@see #stopAutoRefresh}
   */
  async startAutoRefresh() {
    this._removeVisibilityChangedCallback(), await this._startAutoRefresh();
  }
  /**
   * Stops an active auto refresh process running in the background (if any).
   *
   * If you call this method any managed visibility change callback will be
   * removed and you must manage visibility changes on your own.
   *
   * See {@link #startAutoRefresh} for more details.
   */
  async stopAutoRefresh() {
    this._removeVisibilityChangedCallback(), await this._stopAutoRefresh();
  }
  /**
   * Runs the auto refresh token tick.
   */
  async _autoRefreshTokenTick() {
    this._debug("#_autoRefreshTokenTick()", "begin");
    try {
      await this._acquireLock(0, async () => {
        try {
          const t = Date.now();
          try {
            return await this._useSession(async (r) => {
              const { data: { session: n } } = r;
              if (!n || !n.refresh_token || !n.expires_at) {
                this._debug("#_autoRefreshTokenTick()", "no session");
                return;
              }
              const s = Math.floor((n.expires_at * 1e3 - t) / Gc);
              this._debug("#_autoRefreshTokenTick()", `access token expires in ${s} ticks, a tick lasts ${Gc}ms, refresh threshold is ${_w} ticks`), s <= _w && await this._callRefreshToken(n.refresh_token);
            });
          } catch (r) {
            console.error("Auto refresh tick failed with error. This is likely a transient error.", r);
          }
        } finally {
          this._debug("#_autoRefreshTokenTick()", "end");
        }
      });
    } catch (t) {
      if (t.isAcquireTimeout || t instanceof gI)
        this._debug("auto refresh token tick lock not available");
      else
        throw t;
    }
  }
  /**
   * Registers callbacks on the browser / platform, which in-turn run
   * algorithms when the browser window/tab are in foreground. On non-browser
   * platforms it assumes always foreground.
   */
  async _handleVisibilityChange() {
    if (this._debug("#_handleVisibilityChange()"), !Ys() || !(window != null && window.addEventListener))
      return this.autoRefreshToken && this.startAutoRefresh(), !1;
    try {
      this.visibilityChangedCallback = async () => await this._onVisibilityChanged(!1), window == null || window.addEventListener("visibilitychange", this.visibilityChangedCallback), await this._onVisibilityChanged(!0);
    } catch (t) {
      console.error("_handleVisibilityChange", t);
    }
  }
  /**
   * Callback registered with `window.addEventListener('visibilitychange')`.
   */
  async _onVisibilityChanged(t) {
    const r = `#_onVisibilityChanged(${t})`;
    this._debug(r, "visibilityState", document.visibilityState), document.visibilityState === "visible" ? (this.autoRefreshToken && this._startAutoRefresh(), t || (await this.initializePromise, await this._acquireLock(-1, async () => {
      if (document.visibilityState !== "visible") {
        this._debug(r, "acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");
        return;
      }
      await this._recoverAndRefresh();
    }))) : document.visibilityState === "hidden" && this.autoRefreshToken && this._stopAutoRefresh();
  }
  /**
   * Generates the relevant login URL for a third-party provider.
   * @param options.redirectTo A URL or mobile address to send the user to after they are confirmed.
   * @param options.scopes A space-separated list of scopes granted to the OAuth application.
   * @param options.queryParams An object of key-value pairs containing query parameters granted to the OAuth application.
   */
  async _getUrlForProvider(t, r, n) {
    const s = [`provider=${encodeURIComponent(r)}`];
    if (n != null && n.redirectTo && s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`), n != null && n.scopes && s.push(`scopes=${encodeURIComponent(n.scopes)}`), this.flowType === "pkce") {
      const [i, o] = await Mc(this.storage, this.storageKey), a = new URLSearchParams({
        code_challenge: `${encodeURIComponent(i)}`,
        code_challenge_method: `${encodeURIComponent(o)}`
      });
      s.push(a.toString());
    }
    if (n != null && n.queryParams) {
      const i = new URLSearchParams(n.queryParams);
      s.push(i.toString());
    }
    return n != null && n.skipBrowserRedirect && s.push(`skip_http_redirect=${n.skipBrowserRedirect}`), `${t}?${s.join("&")}`;
  }
  async _unenroll(t) {
    try {
      return await this._useSession(async (r) => {
        var n;
        const { data: s, error: i } = r;
        return i ? { data: null, error: i } : await it(this.fetch, "DELETE", `${this.url}/factors/${t.factorId}`, {
          headers: this.headers,
          jwt: (n = s == null ? void 0 : s.session) === null || n === void 0 ? void 0 : n.access_token
        });
      });
    } catch (r) {
      if (Xe(r))
        return { data: null, error: r };
      throw r;
    }
  }
  async _enroll(t) {
    try {
      return await this._useSession(async (r) => {
        var n, s;
        const { data: i, error: o } = r;
        if (o)
          return { data: null, error: o };
        const a = Object.assign({ friendly_name: t.friendlyName, factor_type: t.factorType }, t.factorType === "phone" ? { phone: t.phone } : { issuer: t.issuer }), { data: l, error: c } = await it(this.fetch, "POST", `${this.url}/factors`, {
          body: a,
          headers: this.headers,
          jwt: (n = i == null ? void 0 : i.session) === null || n === void 0 ? void 0 : n.access_token
        });
        return c ? { data: null, error: c } : (t.factorType === "totp" && (!((s = l == null ? void 0 : l.totp) === null || s === void 0) && s.qr_code) && (l.totp.qr_code = `data:image/svg+xml;utf-8,${l.totp.qr_code}`), { data: l, error: null });
      });
    } catch (r) {
      if (Xe(r))
        return { data: null, error: r };
      throw r;
    }
  }
  /**
   * {@see GoTrueMFAApi#verify}
   */
  async _verify(t) {
    return this._acquireLock(-1, async () => {
      try {
        return await this._useSession(async (r) => {
          var n;
          const { data: s, error: i } = r;
          if (i)
            return { data: null, error: i };
          const { data: o, error: a } = await it(this.fetch, "POST", `${this.url}/factors/${t.factorId}/verify`, {
            body: { code: t.code, challenge_id: t.challengeId },
            headers: this.headers,
            jwt: (n = s == null ? void 0 : s.session) === null || n === void 0 ? void 0 : n.access_token
          });
          return a ? { data: null, error: a } : (await this._saveSession(Object.assign({ expires_at: Math.round(Date.now() / 1e3) + o.expires_in }, o)), await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED", o), { data: o, error: a });
        });
      } catch (r) {
        if (Xe(r))
          return { data: null, error: r };
        throw r;
      }
    });
  }
  /**
   * {@see GoTrueMFAApi#challenge}
   */
  async _challenge(t) {
    return this._acquireLock(-1, async () => {
      try {
        return await this._useSession(async (r) => {
          var n;
          const { data: s, error: i } = r;
          return i ? { data: null, error: i } : await it(this.fetch, "POST", `${this.url}/factors/${t.factorId}/challenge`, {
            body: { channel: t.channel },
            headers: this.headers,
            jwt: (n = s == null ? void 0 : s.session) === null || n === void 0 ? void 0 : n.access_token
          });
        });
      } catch (r) {
        if (Xe(r))
          return { data: null, error: r };
        throw r;
      }
    });
  }
  /**
   * {@see GoTrueMFAApi#challengeAndVerify}
   */
  async _challengeAndVerify(t) {
    const { data: r, error: n } = await this._challenge({
      factorId: t.factorId
    });
    return n ? { data: null, error: n } : await this._verify({
      factorId: t.factorId,
      challengeId: r.id,
      code: t.code
    });
  }
  /**
   * {@see GoTrueMFAApi#listFactors}
   */
  async _listFactors() {
    const { data: { user: t }, error: r } = await this.getUser();
    if (r)
      return { data: null, error: r };
    const n = (t == null ? void 0 : t.factors) || [], s = n.filter((o) => o.factor_type === "totp" && o.status === "verified"), i = n.filter((o) => o.factor_type === "phone" && o.status === "verified");
    return {
      data: {
        all: n,
        totp: s,
        phone: i
      },
      error: null
    };
  }
  /**
   * {@see GoTrueMFAApi#getAuthenticatorAssuranceLevel}
   */
  async _getAuthenticatorAssuranceLevel() {
    return this._acquireLock(-1, async () => await this._useSession(async (t) => {
      var r, n;
      const { data: { session: s }, error: i } = t;
      if (i)
        return { data: null, error: i };
      if (!s)
        return {
          data: { currentLevel: null, nextLevel: null, currentAuthenticationMethods: [] },
          error: null
        };
      const { payload: o } = x0(s.access_token);
      let a = null;
      o.aal && (a = o.aal);
      let l = a;
      ((n = (r = s.user.factors) === null || r === void 0 ? void 0 : r.filter((f) => f.status === "verified")) !== null && n !== void 0 ? n : []).length > 0 && (l = "aal2");
      const d = o.amr || [];
      return { data: { currentLevel: a, nextLevel: l, currentAuthenticationMethods: d }, error: null };
    }));
  }
  async fetchJwk(t, r = { keys: [] }) {
    let n = r.keys.find((a) => a.kid === t);
    if (n)
      return n;
    const s = Date.now();
    if (n = this.jwks.keys.find((a) => a.kid === t), n && this.jwks_cached_at + rV > s)
      return n;
    const { data: i, error: o } = await it(this.fetch, "GET", `${this.url}/.well-known/jwks.json`, {
      headers: this.headers
    });
    if (o)
      throw o;
    return !i.keys || i.keys.length === 0 || (this.jwks = i, this.jwks_cached_at = s, n = i.keys.find((a) => a.kid === t), !n) ? null : n;
  }
  /**
   * Extracts the JWT claims present in the access token by first verifying the
   * JWT against the server's JSON Web Key Set endpoint
   * `/.well-known/jwks.json` which is often cached, resulting in significantly
   * faster responses. Prefer this method over {@link #getUser} which always
   * sends a request to the Auth server for each JWT.
   *
   * If the project is not using an asymmetric JWT signing key (like ECC or
   * RSA) it always sends a request to the Auth server (similar to {@link
   * #getUser}) to verify the JWT.
   *
   * @param jwt An optional specific JWT you wish to verify, not the one you
   *            can obtain from {@link #getSession}.
   * @param options Various additional options that allow you to customize the
   *                behavior of this method.
   */
  async getClaims(t, r = {}) {
    try {
      let n = t;
      if (!n) {
        const { data: p, error: g } = await this.getSession();
        if (g || !p.session)
          return { data: null, error: g };
        n = p.session.access_token;
      }
      const { header: s, payload: i, signature: o, raw: { header: a, payload: l } } = x0(n);
      r != null && r.allowExpired || NV(i.exp);
      const c = !s.alg || s.alg.startsWith("HS") || !s.kid || !("crypto" in globalThis && "subtle" in globalThis.crypto) ? null : await this.fetchJwk(s.kid, r != null && r.keys ? { keys: r.keys } : r == null ? void 0 : r.jwks);
      if (!c) {
        const { error: p } = await this.getUser(n);
        if (p)
          throw p;
        return {
          data: {
            claims: i,
            header: s,
            signature: o
          },
          error: null
        };
      }
      const d = kV(s.alg), f = await crypto.subtle.importKey("jwk", c, d, !0, [
        "verify"
      ]);
      if (!await crypto.subtle.verify(d, f, o, fV(`${a}.${l}`)))
        throw new jw("Invalid JWT signature");
      return {
        data: {
          claims: i,
          header: s,
          signature: o
        },
        error: null
      };
    } catch (n) {
      if (Xe(n))
        return { data: null, error: n };
      throw n;
    }
  }
}
ah.nextInstanceID = 0;
const qV = ah;
class VV extends qV {
  constructor(t) {
    super(t);
  }
}
var WV = function(e, t, r, n) {
  function s(i) {
    return i instanceof r ? i : new r(function(o) {
      o(i);
    });
  }
  return new (r || (r = Promise))(function(i, o) {
    function a(d) {
      try {
        c(n.next(d));
      } catch (f) {
        o(f);
      }
    }
    function l(d) {
      try {
        c(n.throw(d));
      } catch (f) {
        o(f);
      }
    }
    function c(d) {
      d.done ? i(d.value) : s(d.value).then(a, l);
    }
    c((n = n.apply(e, t || [])).next());
  });
};
class KV {
  /**
   * Create a new client for use in the browser.
   * @param supabaseUrl The unique Supabase URL which is supplied when you create a new project in your project dashboard.
   * @param supabaseKey The unique Supabase Key which is supplied when you create a new project in your project dashboard.
   * @param options.db.schema You can switch in between schemas. The schema needs to be on the list of exposed schemas inside Supabase.
   * @param options.auth.autoRefreshToken Set to "true" if you want to automatically refresh the token before expiring.
   * @param options.auth.persistSession Set to "true" if you want to automatically save the user session into local storage.
   * @param options.auth.detectSessionInUrl Set to "true" if you want to automatically detects OAuth grants in the URL and signs in the user.
   * @param options.realtime Options passed along to realtime-js constructor.
   * @param options.storage Options passed along to the storage-js constructor.
   * @param options.global.fetch A custom fetch implementation.
   * @param options.global.headers Any additional headers to send with each network request.
   */
  constructor(t, r, n) {
    var s, i, o;
    if (this.supabaseUrl = t, this.supabaseKey = r, !t)
      throw new Error("supabaseUrl is required.");
    if (!r)
      throw new Error("supabaseKey is required.");
    const a = Zq(t), l = new URL(a);
    this.realtimeUrl = new URL("realtime/v1", l), this.realtimeUrl.protocol = this.realtimeUrl.protocol.replace("http", "ws"), this.authUrl = new URL("auth/v1", l), this.storageUrl = new URL("storage/v1", l), this.functionsUrl = new URL("functions/v1", l);
    const c = `sb-${l.hostname.split(".")[0]}-auth-token`, d = {
      db: Uq,
      realtime: Vq,
      auth: Object.assign(Object.assign({}, qq), { storageKey: c }),
      global: zq
    }, f = Xq(n ?? {}, d);
    this.storageKey = (s = f.auth.storageKey) !== null && s !== void 0 ? s : "", this.headers = (i = f.global.headers) !== null && i !== void 0 ? i : {}, f.accessToken ? (this.accessToken = f.accessToken, this.auth = new Proxy({}, {
      get: (h, p) => {
        throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`);
      }
    })) : this.auth = this._initSupabaseAuthClient((o = f.auth) !== null && o !== void 0 ? o : {}, this.headers, f.global.fetch), this.fetch = Yq(r, this._getAccessToken.bind(this), f.global.fetch), this.realtime = this._initRealtimeClient(Object.assign({ headers: this.headers, accessToken: this._getAccessToken.bind(this) }, f.realtime)), this.rest = new lq(new URL("rest/v1", l).href, {
      headers: this.headers,
      schema: f.db.schema,
      fetch: this.fetch
    }), this.storage = new Lq(this.storageUrl.href, this.headers, this.fetch, n == null ? void 0 : n.storage), f.accessToken || this._listenForAuthEvents();
  }
  /**
   * Supabase Functions allows you to deploy and invoke edge functions.
   */
  get functions() {
    return new B9(this.functionsUrl.href, {
      headers: this.headers,
      customFetch: this.fetch
    });
  }
  /**
   * Perform a query on a table or a view.
   *
   * @param relation - The table or view name to query
   */
  from(t) {
    return this.rest.from(t);
  }
  // NOTE: signatures must be kept in sync with PostgrestClient.schema
  /**
   * Select a schema to query or perform an function (rpc) call.
   *
   * The schema needs to be on the list of exposed schemas inside Supabase.
   *
   * @param schema - The schema to query
   */
  schema(t) {
    return this.rest.schema(t);
  }
  // NOTE: signatures must be kept in sync with PostgrestClient.rpc
  /**
   * Perform a function call.
   *
   * @param fn - The function name to call
   * @param args - The arguments to pass to the function call
   * @param options - Named parameters
   * @param options.head - When set to `true`, `data` will not be returned.
   * Useful if you only need the count.
   * @param options.get - When set to `true`, the function will be called with
   * read-only access mode.
   * @param options.count - Count algorithm to use to count rows returned by the
   * function. Only applicable for [set-returning
   * functions](https://www.postgresql.org/docs/current/functions-srf.html).
   *
   * `"exact"`: Exact but slow count algorithm. Performs a `COUNT(*)` under the
   * hood.
   *
   * `"planned"`: Approximated but fast count algorithm. Uses the Postgres
   * statistics under the hood.
   *
   * `"estimated"`: Uses exact count for low numbers and planned count for high
   * numbers.
   */
  rpc(t, r = {}, n = {}) {
    return this.rest.rpc(t, r, n);
  }
  /**
   * Creates a Realtime channel with Broadcast, Presence, and Postgres Changes.
   *
   * @param {string} name - The name of the Realtime channel.
   * @param {Object} opts - The options to pass to the Realtime channel.
   *
   */
  channel(t, r = { config: {} }) {
    return this.realtime.channel(t, r);
  }
  /**
   * Returns all Realtime channels.
   */
  getChannels() {
    return this.realtime.getChannels();
  }
  /**
   * Unsubscribes and removes Realtime channel from Realtime client.
   *
   * @param {RealtimeChannel} channel - The name of the Realtime channel.
   *
   */
  removeChannel(t) {
    return this.realtime.removeChannel(t);
  }
  /**
   * Unsubscribes and removes all Realtime channels from Realtime client.
   */
  removeAllChannels() {
    return this.realtime.removeAllChannels();
  }
  _getAccessToken() {
    var t, r;
    return WV(this, void 0, void 0, function* () {
      if (this.accessToken)
        return yield this.accessToken();
      const { data: n } = yield this.auth.getSession();
      return (r = (t = n.session) === null || t === void 0 ? void 0 : t.access_token) !== null && r !== void 0 ? r : this.supabaseKey;
    });
  }
  _initSupabaseAuthClient({ autoRefreshToken: t, persistSession: r, detectSessionInUrl: n, storage: s, storageKey: i, flowType: o, lock: a, debug: l }, c, d) {
    const f = {
      Authorization: `Bearer ${this.supabaseKey}`,
      apikey: `${this.supabaseKey}`
    };
    return new VV({
      url: this.authUrl.href,
      headers: Object.assign(Object.assign({}, f), c),
      storageKey: i,
      autoRefreshToken: t,
      persistSession: r,
      detectSessionInUrl: n,
      storage: s,
      flowType: o,
      lock: a,
      debug: l,
      fetch: d,
      // auth checks if there is a custom authorizaiton header using this flag
      // so it knows whether to return an error when getUser is called with no session
      hasCustomAuthorizationHeader: "Authorization" in this.headers
    });
  }
  _initRealtimeClient(t) {
    return new jq(this.realtimeUrl.href, Object.assign(Object.assign({}, t), { params: Object.assign({ apikey: this.supabaseKey }, t == null ? void 0 : t.params) }));
  }
  _listenForAuthEvents() {
    return this.auth.onAuthStateChange((r, n) => {
      this._handleTokenChanged(r, "CLIENT", n == null ? void 0 : n.access_token);
    });
  }
  _handleTokenChanged(t, r, n) {
    (t === "TOKEN_REFRESHED" || t === "SIGNED_IN") && this.changedAccessToken !== n ? this.changedAccessToken = n : t === "SIGNED_OUT" && (this.realtime.setAuth(), r == "STORAGE" && this.auth.signOut(), this.changedAccessToken = void 0);
  }
}
const yI = (e, t, r) => new KV(e, t, r);
function HV() {
  if (typeof window < "u" || typeof process > "u")
    return !1;
  const e = process.version;
  if (e == null)
    return !1;
  const t = e.match(/^v(\d+)\./);
  return t ? parseInt(t[1], 10) <= 18 : !1;
}
HV() && console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");
const Nw = typeof window < "u", jg = process.env.VITE_SUPABASE_URL || "", NS = process.env.VITE_SUPABASE_ANON_KEY || "";
process.env.VITE_DEBUG === "true" && (console.log("Supabase URL:", jg ? " Set" : " Missing"), console.log("Supabase Anon Key:", NS ? " Set" : " Missing"));
if ((!jg || !NS) && Nw) {
  const e = `
    Missing Supabase environment variables.
    Please check your .env file and ensure the following are set:
    - VITE_SUPABASE_URL
    - VITE_SUPABASE_ANON_KEY
  `;
  throw console.error(e), new Error(e);
}
let he;
var IR;
try {
  he = yI(jg, NS, {
    auth: {
      persistSession: !0,
      autoRefreshToken: !0,
      detectSessionInUrl: !0,
      storage: Nw ? window.localStorage : void 0
    }
  }), typeof process < "u" && ((IR = process.env) == null ? void 0 : IR.NODE_ENV) === "development" && Nw && console.log("Supabase client initialized with URL:", jg);
} catch (e) {
  throw console.error("Error initializing Supabase client:", e), e;
}
const YV = dr(void 0), Qh = () => {
  const e = Dt(YV);
  if (e === void 0)
    throw new Error("useAuth must be used within an AuthProvider");
  return e;
}, GV = dr(void 0), vI = () => {
  const e = Dt(GV);
  if (e === void 0)
    throw new Error("useCart must be used within a CartProvider");
  return e;
}, ZV = async (e) => {
  const t = /^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e), r = he.from("wiki_pages").select(`
      id, created_at, created_by, title, slug, excerpt, is_published, category_id, folder_id, updated_at, view_count,
      content, seo_title, seo_description, seo_keywords,
      category(*),
      user(*)
    `).eq(t ? "id" : "slug", e), { data: n, error: s } = await r.single();
  if (s)
    return console.error("Error fetching wiki page:", s), null;
  if (n) {
    n.user && typeof n.user == "object" && "error" in n.user && (n.user = null), n.category && typeof n.category == "object" && "error" in n.category && (n.category = null);
    const { data: i, error: o } = await he.from("wiki_content_blocks").select("id, type, content, position").eq("page_id", n.id).order("position");
    if (o)
      throw console.error("Error fetching wiki content:", o), new Error("Failed to fetch wiki content");
    const a = (i == null ? void 0 : i.map((c) => ({
      id: c.id,
      type: c.type,
      content: c.content,
      title: ""
      // Title is not stored in content blocks, so we'll leave it empty for now
    }))) || [];
    return await he.rpc("increment_wiki_page_views", { page_id: n.id }), {
      ...n,
      sections: a,
      content: n.content || "",
      seo_title: n.seo_title || "",
      seo_description: n.seo_description || "",
      seo_keywords: n.seo_keywords || [],
      category: n.category,
      user: n.user
    };
  }
  return null;
}, XV = async () => {
  const { data: e, error: t } = await he.from("wiki_categories").select("*").order("name", { ascending: !0 });
  if (t)
    throw console.error("Error fetching categories:", t), new Error("Failed to fetch categories");
  return e || [];
}, kS = "-", JV = (e) => {
  const t = eW(e), {
    conflictingClassGroups: r,
    conflictingClassGroupModifiers: n
  } = e;
  return {
    getClassGroupId: (o) => {
      const a = o.split(kS);
      return a[0] === "" && a.length !== 1 && a.shift(), bI(a, t) || QV(o);
    },
    getConflictingClassGroupIds: (o, a) => {
      const l = r[o] || [];
      return a && n[o] ? [...l, ...n[o]] : l;
    }
  };
}, bI = (e, t) => {
  var o;
  if (e.length === 0)
    return t.classGroupId;
  const r = e[0], n = t.nextPart.get(r), s = n ? bI(e.slice(1), n) : void 0;
  if (s)
    return s;
  if (t.validators.length === 0)
    return;
  const i = e.join(kS);
  return (o = t.validators.find(({
    validator: a
  }) => a(i))) == null ? void 0 : o.classGroupId;
}, TC = /^\[(.+)\]$/, QV = (e) => {
  if (TC.test(e)) {
    const t = TC.exec(e)[1], r = t == null ? void 0 : t.substring(0, t.indexOf(":"));
    if (r)
      return "arbitrary.." + r;
  }
}, eW = (e) => {
  const {
    theme: t,
    prefix: r
  } = e, n = {
    nextPart: /* @__PURE__ */ new Map(),
    validators: []
  };
  return rW(Object.entries(e.classGroups), r).forEach(([i, o]) => {
    kw(o, n, i, t);
  }), n;
}, kw = (e, t, r, n) => {
  e.forEach((s) => {
    if (typeof s == "string") {
      const i = s === "" ? t : AC(t, s);
      i.classGroupId = r;
      return;
    }
    if (typeof s == "function") {
      if (tW(s)) {
        kw(s(n), t, r, n);
        return;
      }
      t.validators.push({
        validator: s,
        classGroupId: r
      });
      return;
    }
    Object.entries(s).forEach(([i, o]) => {
      kw(o, AC(t, i), r, n);
    });
  });
}, AC = (e, t) => {
  let r = e;
  return t.split(kS).forEach((n) => {
    r.nextPart.has(n) || r.nextPart.set(n, {
      nextPart: /* @__PURE__ */ new Map(),
      validators: []
    }), r = r.nextPart.get(n);
  }), r;
}, tW = (e) => e.isThemeGetter, rW = (e, t) => t ? e.map(([r, n]) => {
  const s = n.map((i) => typeof i == "string" ? t + i : typeof i == "object" ? Object.fromEntries(Object.entries(i).map(([o, a]) => [t + o, a])) : i);
  return [r, s];
}) : e, nW = (e) => {
  if (e < 1)
    return {
      get: () => {
      },
      set: () => {
      }
    };
  let t = 0, r = /* @__PURE__ */ new Map(), n = /* @__PURE__ */ new Map();
  const s = (i, o) => {
    r.set(i, o), t++, t > e && (t = 0, n = r, r = /* @__PURE__ */ new Map());
  };
  return {
    get(i) {
      let o = r.get(i);
      if (o !== void 0)
        return o;
      if ((o = n.get(i)) !== void 0)
        return s(i, o), o;
    },
    set(i, o) {
      r.has(i) ? r.set(i, o) : s(i, o);
    }
  };
}, xI = "!", sW = (e) => {
  const {
    separator: t,
    experimentalParseClassName: r
  } = e, n = t.length === 1, s = t[0], i = t.length, o = (a) => {
    const l = [];
    let c = 0, d = 0, f;
    for (let y = 0; y < a.length; y++) {
      let v = a[y];
      if (c === 0) {
        if (v === s && (n || a.slice(y, y + i) === t)) {
          l.push(a.slice(d, y)), d = y + i;
          continue;
        }
        if (v === "/") {
          f = y;
          continue;
        }
      }
      v === "[" ? c++ : v === "]" && c--;
    }
    const h = l.length === 0 ? a : a.substring(d), p = h.startsWith(xI), g = p ? h.substring(1) : h, m = f && f > d ? f - d : void 0;
    return {
      modifiers: l,
      hasImportantModifier: p,
      baseClassName: g,
      maybePostfixModifierPosition: m
    };
  };
  return r ? (a) => r({
    className: a,
    parseClassName: o
  }) : o;
}, iW = (e) => {
  if (e.length <= 1)
    return e;
  const t = [];
  let r = [];
  return e.forEach((n) => {
    n[0] === "[" ? (t.push(...r.sort(), n), r = []) : r.push(n);
  }), t.push(...r.sort()), t;
}, oW = (e) => ({
  cache: nW(e.cacheSize),
  parseClassName: sW(e),
  ...JV(e)
}), aW = /\s+/, lW = (e, t) => {
  const {
    parseClassName: r,
    getClassGroupId: n,
    getConflictingClassGroupIds: s
  } = t, i = [], o = e.trim().split(aW);
  let a = "";
  for (let l = o.length - 1; l >= 0; l -= 1) {
    const c = o[l], {
      modifiers: d,
      hasImportantModifier: f,
      baseClassName: h,
      maybePostfixModifierPosition: p
    } = r(c);
    let g = !!p, m = n(g ? h.substring(0, p) : h);
    if (!m) {
      if (!g) {
        a = c + (a.length > 0 ? " " + a : a);
        continue;
      }
      if (m = n(h), !m) {
        a = c + (a.length > 0 ? " " + a : a);
        continue;
      }
      g = !1;
    }
    const y = iW(d).join(":"), v = f ? y + xI : y, b = v + m;
    if (i.includes(b))
      continue;
    i.push(b);
    const x = s(m, g);
    for (let S = 0; S < x.length; ++S) {
      const w = x[S];
      i.push(v + w);
    }
    a = c + (a.length > 0 ? " " + a : a);
  }
  return a;
};
function cW() {
  let e = 0, t, r, n = "";
  for (; e < arguments.length; )
    (t = arguments[e++]) && (r = wI(t)) && (n && (n += " "), n += r);
  return n;
}
const wI = (e) => {
  if (typeof e == "string")
    return e;
  let t, r = "";
  for (let n = 0; n < e.length; n++)
    e[n] && (t = wI(e[n])) && (r && (r += " "), r += t);
  return r;
};
function uW(e, ...t) {
  let r, n, s, i = o;
  function o(l) {
    const c = t.reduce((d, f) => f(d), e());
    return r = oW(c), n = r.cache.get, s = r.cache.set, i = a, a(l);
  }
  function a(l) {
    const c = n(l);
    if (c)
      return c;
    const d = lW(l, r);
    return s(l, d), d;
  }
  return function() {
    return i(cW.apply(null, arguments));
  };
}
const Ft = (e) => {
  const t = (r) => r[e] || [];
  return t.isThemeGetter = !0, t;
}, _I = /^\[(?:([a-z-]+):)?(.+)\]$/i, dW = /^\d+\/\d+$/, fW = /* @__PURE__ */ new Set(["px", "full", "screen"]), hW = /^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/, pW = /\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/, mW = /^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/, gW = /^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/, yW = /^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/, mo = (e) => yu(e) || fW.has(e) || dW.test(e), ma = (e) => hd(e, "length", jW), yu = (e) => !!e && !Number.isNaN(Number(e)), S0 = (e) => hd(e, "number", yu), Zd = (e) => !!e && Number.isInteger(Number(e)), vW = (e) => e.endsWith("%") && yu(e.slice(0, -1)), et = (e) => _I.test(e), ga = (e) => hW.test(e), bW = /* @__PURE__ */ new Set(["length", "size", "percentage"]), xW = (e) => hd(e, bW, SI), wW = (e) => hd(e, "position", SI), _W = /* @__PURE__ */ new Set(["image", "url"]), SW = (e) => hd(e, _W, kW), EW = (e) => hd(e, "", NW), Xd = () => !0, hd = (e, t, r) => {
  const n = _I.exec(e);
  return n ? n[1] ? typeof t == "string" ? n[1] === t : t.has(n[1]) : r(n[2]) : !1;
}, jW = (e) => (
  // `colorFunctionRegex` check is necessary because color functions can have percentages in them which which would be incorrectly classified as lengths.
  // For example, `hsl(0 0% 0%)` would be classified as a length without this check.
  // I could also use lookbehind assertion in `lengthUnitRegex` but that isn't supported widely enough.
  pW.test(e) && !mW.test(e)
), SI = () => !1, NW = (e) => gW.test(e), kW = (e) => yW.test(e), CW = () => {
  const e = Ft("colors"), t = Ft("spacing"), r = Ft("blur"), n = Ft("brightness"), s = Ft("borderColor"), i = Ft("borderRadius"), o = Ft("borderSpacing"), a = Ft("borderWidth"), l = Ft("contrast"), c = Ft("grayscale"), d = Ft("hueRotate"), f = Ft("invert"), h = Ft("gap"), p = Ft("gradientColorStops"), g = Ft("gradientColorStopPositions"), m = Ft("inset"), y = Ft("margin"), v = Ft("opacity"), b = Ft("padding"), x = Ft("saturate"), S = Ft("scale"), w = Ft("sepia"), j = Ft("skew"), N = Ft("space"), k = Ft("translate"), C = () => ["auto", "contain", "none"], $ = () => ["auto", "hidden", "clip", "visible", "scroll"], I = () => ["auto", et, t], M = () => [et, t], O = () => ["", mo, ma], z = () => ["auto", yu, et], U = () => ["bottom", "center", "left", "left-bottom", "left-top", "right", "right-bottom", "right-top", "top"], G = () => ["solid", "dashed", "dotted", "double", "none"], q = () => ["normal", "multiply", "screen", "overlay", "darken", "lighten", "color-dodge", "color-burn", "hard-light", "soft-light", "difference", "exclusion", "hue", "saturation", "color", "luminosity"], Z = () => ["start", "end", "center", "between", "around", "evenly", "stretch"], ie = () => ["", "0", et], D = () => ["auto", "avoid", "all", "avoid-page", "page", "left", "right", "column"], B = () => [yu, et];
  return {
    cacheSize: 500,
    separator: ":",
    theme: {
      colors: [Xd],
      spacing: [mo, ma],
      blur: ["none", "", ga, et],
      brightness: B(),
      borderColor: [e],
      borderRadius: ["none", "", "full", ga, et],
      borderSpacing: M(),
      borderWidth: O(),
      contrast: B(),
      grayscale: ie(),
      hueRotate: B(),
      invert: ie(),
      gap: M(),
      gradientColorStops: [e],
      gradientColorStopPositions: [vW, ma],
      inset: I(),
      margin: I(),
      opacity: B(),
      padding: M(),
      saturate: B(),
      scale: B(),
      sepia: ie(),
      skew: B(),
      space: M(),
      translate: M()
    },
    classGroups: {
      // Layout
      /**
       * Aspect Ratio
       * @see https://tailwindcss.com/docs/aspect-ratio
       */
      aspect: [{
        aspect: ["auto", "square", "video", et]
      }],
      /**
       * Container
       * @see https://tailwindcss.com/docs/container
       */
      container: ["container"],
      /**
       * Columns
       * @see https://tailwindcss.com/docs/columns
       */
      columns: [{
        columns: [ga]
      }],
      /**
       * Break After
       * @see https://tailwindcss.com/docs/break-after
       */
      "break-after": [{
        "break-after": D()
      }],
      /**
       * Break Before
       * @see https://tailwindcss.com/docs/break-before
       */
      "break-before": [{
        "break-before": D()
      }],
      /**
       * Break Inside
       * @see https://tailwindcss.com/docs/break-inside
       */
      "break-inside": [{
        "break-inside": ["auto", "avoid", "avoid-page", "avoid-column"]
      }],
      /**
       * Box Decoration Break
       * @see https://tailwindcss.com/docs/box-decoration-break
       */
      "box-decoration": [{
        "box-decoration": ["slice", "clone"]
      }],
      /**
       * Box Sizing
       * @see https://tailwindcss.com/docs/box-sizing
       */
      box: [{
        box: ["border", "content"]
      }],
      /**
       * Display
       * @see https://tailwindcss.com/docs/display
       */
      display: ["block", "inline-block", "inline", "flex", "inline-flex", "table", "inline-table", "table-caption", "table-cell", "table-column", "table-column-group", "table-footer-group", "table-header-group", "table-row-group", "table-row", "flow-root", "grid", "inline-grid", "contents", "list-item", "hidden"],
      /**
       * Floats
       * @see https://tailwindcss.com/docs/float
       */
      float: [{
        float: ["right", "left", "none", "start", "end"]
      }],
      /**
       * Clear
       * @see https://tailwindcss.com/docs/clear
       */
      clear: [{
        clear: ["left", "right", "both", "none", "start", "end"]
      }],
      /**
       * Isolation
       * @see https://tailwindcss.com/docs/isolation
       */
      isolation: ["isolate", "isolation-auto"],
      /**
       * Object Fit
       * @see https://tailwindcss.com/docs/object-fit
       */
      "object-fit": [{
        object: ["contain", "cover", "fill", "none", "scale-down"]
      }],
      /**
       * Object Position
       * @see https://tailwindcss.com/docs/object-position
       */
      "object-position": [{
        object: [...U(), et]
      }],
      /**
       * Overflow
       * @see https://tailwindcss.com/docs/overflow
       */
      overflow: [{
        overflow: $()
      }],
      /**
       * Overflow X
       * @see https://tailwindcss.com/docs/overflow
       */
      "overflow-x": [{
        "overflow-x": $()
      }],
      /**
       * Overflow Y
       * @see https://tailwindcss.com/docs/overflow
       */
      "overflow-y": [{
        "overflow-y": $()
      }],
      /**
       * Overscroll Behavior
       * @see https://tailwindcss.com/docs/overscroll-behavior
       */
      overscroll: [{
        overscroll: C()
      }],
      /**
       * Overscroll Behavior X
       * @see https://tailwindcss.com/docs/overscroll-behavior
       */
      "overscroll-x": [{
        "overscroll-x": C()
      }],
      /**
       * Overscroll Behavior Y
       * @see https://tailwindcss.com/docs/overscroll-behavior
       */
      "overscroll-y": [{
        "overscroll-y": C()
      }],
      /**
       * Position
       * @see https://tailwindcss.com/docs/position
       */
      position: ["static", "fixed", "absolute", "relative", "sticky"],
      /**
       * Top / Right / Bottom / Left
       * @see https://tailwindcss.com/docs/top-right-bottom-left
       */
      inset: [{
        inset: [m]
      }],
      /**
       * Right / Left
       * @see https://tailwindcss.com/docs/top-right-bottom-left
       */
      "inset-x": [{
        "inset-x": [m]
      }],
      /**
       * Top / Bottom
       * @see https://tailwindcss.com/docs/top-right-bottom-left
       */
      "inset-y": [{
        "inset-y": [m]
      }],
      /**
       * Start
       * @see https://tailwindcss.com/docs/top-right-bottom-left
       */
      start: [{
        start: [m]
      }],
      /**
       * End
       * @see https://tailwindcss.com/docs/top-right-bottom-left
       */
      end: [{
        end: [m]
      }],
      /**
       * Top
       * @see https://tailwindcss.com/docs/top-right-bottom-left
       */
      top: [{
        top: [m]
      }],
      /**
       * Right
       * @see https://tailwindcss.com/docs/top-right-bottom-left
       */
      right: [{
        right: [m]
      }],
      /**
       * Bottom
       * @see https://tailwindcss.com/docs/top-right-bottom-left
       */
      bottom: [{
        bottom: [m]
      }],
      /**
       * Left
       * @see https://tailwindcss.com/docs/top-right-bottom-left
       */
      left: [{
        left: [m]
      }],
      /**
       * Visibility
       * @see https://tailwindcss.com/docs/visibility
       */
      visibility: ["visible", "invisible", "collapse"],
      /**
       * Z-Index
       * @see https://tailwindcss.com/docs/z-index
       */
      z: [{
        z: ["auto", Zd, et]
      }],
      // Flexbox and Grid
      /**
       * Flex Basis
       * @see https://tailwindcss.com/docs/flex-basis
       */
      basis: [{
        basis: I()
      }],
      /**
       * Flex Direction
       * @see https://tailwindcss.com/docs/flex-direction
       */
      "flex-direction": [{
        flex: ["row", "row-reverse", "col", "col-reverse"]
      }],
      /**
       * Flex Wrap
       * @see https://tailwindcss.com/docs/flex-wrap
       */
      "flex-wrap": [{
        flex: ["wrap", "wrap-reverse", "nowrap"]
      }],
      /**
       * Flex
       * @see https://tailwindcss.com/docs/flex
       */
      flex: [{
        flex: ["1", "auto", "initial", "none", et]
      }],
      /**
       * Flex Grow
       * @see https://tailwindcss.com/docs/flex-grow
       */
      grow: [{
        grow: ie()
      }],
      /**
       * Flex Shrink
       * @see https://tailwindcss.com/docs/flex-shrink
       */
      shrink: [{
        shrink: ie()
      }],
      /**
       * Order
       * @see https://tailwindcss.com/docs/order
       */
      order: [{
        order: ["first", "last", "none", Zd, et]
      }],
      /**
       * Grid Template Columns
       * @see https://tailwindcss.com/docs/grid-template-columns
       */
      "grid-cols": [{
        "grid-cols": [Xd]
      }],
      /**
       * Grid Column Start / End
       * @see https://tailwindcss.com/docs/grid-column
       */
      "col-start-end": [{
        col: ["auto", {
          span: ["full", Zd, et]
        }, et]
      }],
      /**
       * Grid Column Start
       * @see https://tailwindcss.com/docs/grid-column
       */
      "col-start": [{
        "col-start": z()
      }],
      /**
       * Grid Column End
       * @see https://tailwindcss.com/docs/grid-column
       */
      "col-end": [{
        "col-end": z()
      }],
      /**
       * Grid Template Rows
       * @see https://tailwindcss.com/docs/grid-template-rows
       */
      "grid-rows": [{
        "grid-rows": [Xd]
      }],
      /**
       * Grid Row Start / End
       * @see https://tailwindcss.com/docs/grid-row
       */
      "row-start-end": [{
        row: ["auto", {
          span: [Zd, et]
        }, et]
      }],
      /**
       * Grid Row Start
       * @see https://tailwindcss.com/docs/grid-row
       */
      "row-start": [{
        "row-start": z()
      }],
      /**
       * Grid Row End
       * @see https://tailwindcss.com/docs/grid-row
       */
      "row-end": [{
        "row-end": z()
      }],
      /**
       * Grid Auto Flow
       * @see https://tailwindcss.com/docs/grid-auto-flow
       */
      "grid-flow": [{
        "grid-flow": ["row", "col", "dense", "row-dense", "col-dense"]
      }],
      /**
       * Grid Auto Columns
       * @see https://tailwindcss.com/docs/grid-auto-columns
       */
      "auto-cols": [{
        "auto-cols": ["auto", "min", "max", "fr", et]
      }],
      /**
       * Grid Auto Rows
       * @see https://tailwindcss.com/docs/grid-auto-rows
       */
      "auto-rows": [{
        "auto-rows": ["auto", "min", "max", "fr", et]
      }],
      /**
       * Gap
       * @see https://tailwindcss.com/docs/gap
       */
      gap: [{
        gap: [h]
      }],
      /**
       * Gap X
       * @see https://tailwindcss.com/docs/gap
       */
      "gap-x": [{
        "gap-x": [h]
      }],
      /**
       * Gap Y
       * @see https://tailwindcss.com/docs/gap
       */
      "gap-y": [{
        "gap-y": [h]
      }],
      /**
       * Justify Content
       * @see https://tailwindcss.com/docs/justify-content
       */
      "justify-content": [{
        justify: ["normal", ...Z()]
      }],
      /**
       * Justify Items
       * @see https://tailwindcss.com/docs/justify-items
       */
      "justify-items": [{
        "justify-items": ["start", "end", "center", "stretch"]
      }],
      /**
       * Justify Self
       * @see https://tailwindcss.com/docs/justify-self
       */
      "justify-self": [{
        "justify-self": ["auto", "start", "end", "center", "stretch"]
      }],
      /**
       * Align Content
       * @see https://tailwindcss.com/docs/align-content
       */
      "align-content": [{
        content: ["normal", ...Z(), "baseline"]
      }],
      /**
       * Align Items
       * @see https://tailwindcss.com/docs/align-items
       */
      "align-items": [{
        items: ["start", "end", "center", "baseline", "stretch"]
      }],
      /**
       * Align Self
       * @see https://tailwindcss.com/docs/align-self
       */
      "align-self": [{
        self: ["auto", "start", "end", "center", "stretch", "baseline"]
      }],
      /**
       * Place Content
       * @see https://tailwindcss.com/docs/place-content
       */
      "place-content": [{
        "place-content": [...Z(), "baseline"]
      }],
      /**
       * Place Items
       * @see https://tailwindcss.com/docs/place-items
       */
      "place-items": [{
        "place-items": ["start", "end", "center", "baseline", "stretch"]
      }],
      /**
       * Place Self
       * @see https://tailwindcss.com/docs/place-self
       */
      "place-self": [{
        "place-self": ["auto", "start", "end", "center", "stretch"]
      }],
      // Spacing
      /**
       * Padding
       * @see https://tailwindcss.com/docs/padding
       */
      p: [{
        p: [b]
      }],
      /**
       * Padding X
       * @see https://tailwindcss.com/docs/padding
       */
      px: [{
        px: [b]
      }],
      /**
       * Padding Y
       * @see https://tailwindcss.com/docs/padding
       */
      py: [{
        py: [b]
      }],
      /**
       * Padding Start
       * @see https://tailwindcss.com/docs/padding
       */
      ps: [{
        ps: [b]
      }],
      /**
       * Padding End
       * @see https://tailwindcss.com/docs/padding
       */
      pe: [{
        pe: [b]
      }],
      /**
       * Padding Top
       * @see https://tailwindcss.com/docs/padding
       */
      pt: [{
        pt: [b]
      }],
      /**
       * Padding Right
       * @see https://tailwindcss.com/docs/padding
       */
      pr: [{
        pr: [b]
      }],
      /**
       * Padding Bottom
       * @see https://tailwindcss.com/docs/padding
       */
      pb: [{
        pb: [b]
      }],
      /**
       * Padding Left
       * @see https://tailwindcss.com/docs/padding
       */
      pl: [{
        pl: [b]
      }],
      /**
       * Margin
       * @see https://tailwindcss.com/docs/margin
       */
      m: [{
        m: [y]
      }],
      /**
       * Margin X
       * @see https://tailwindcss.com/docs/margin
       */
      mx: [{
        mx: [y]
      }],
      /**
       * Margin Y
       * @see https://tailwindcss.com/docs/margin
       */
      my: [{
        my: [y]
      }],
      /**
       * Margin Start
       * @see https://tailwindcss.com/docs/margin
       */
      ms: [{
        ms: [y]
      }],
      /**
       * Margin End
       * @see https://tailwindcss.com/docs/margin
       */
      me: [{
        me: [y]
      }],
      /**
       * Margin Top
       * @see https://tailwindcss.com/docs/margin
       */
      mt: [{
        mt: [y]
      }],
      /**
       * Margin Right
       * @see https://tailwindcss.com/docs/margin
       */
      mr: [{
        mr: [y]
      }],
      /**
       * Margin Bottom
       * @see https://tailwindcss.com/docs/margin
       */
      mb: [{
        mb: [y]
      }],
      /**
       * Margin Left
       * @see https://tailwindcss.com/docs/margin
       */
      ml: [{
        ml: [y]
      }],
      /**
       * Space Between X
       * @see https://tailwindcss.com/docs/space
       */
      "space-x": [{
        "space-x": [N]
      }],
      /**
       * Space Between X Reverse
       * @see https://tailwindcss.com/docs/space
       */
      "space-x-reverse": ["space-x-reverse"],
      /**
       * Space Between Y
       * @see https://tailwindcss.com/docs/space
       */
      "space-y": [{
        "space-y": [N]
      }],
      /**
       * Space Between Y Reverse
       * @see https://tailwindcss.com/docs/space
       */
      "space-y-reverse": ["space-y-reverse"],
      // Sizing
      /**
       * Width
       * @see https://tailwindcss.com/docs/width
       */
      w: [{
        w: ["auto", "min", "max", "fit", "svw", "lvw", "dvw", et, t]
      }],
      /**
       * Min-Width
       * @see https://tailwindcss.com/docs/min-width
       */
      "min-w": [{
        "min-w": [et, t, "min", "max", "fit"]
      }],
      /**
       * Max-Width
       * @see https://tailwindcss.com/docs/max-width
       */
      "max-w": [{
        "max-w": [et, t, "none", "full", "min", "max", "fit", "prose", {
          screen: [ga]
        }, ga]
      }],
      /**
       * Height
       * @see https://tailwindcss.com/docs/height
       */
      h: [{
        h: [et, t, "auto", "min", "max", "fit", "svh", "lvh", "dvh"]
      }],
      /**
       * Min-Height
       * @see https://tailwindcss.com/docs/min-height
       */
      "min-h": [{
        "min-h": [et, t, "min", "max", "fit", "svh", "lvh", "dvh"]
      }],
      /**
       * Max-Height
       * @see https://tailwindcss.com/docs/max-height
       */
      "max-h": [{
        "max-h": [et, t, "min", "max", "fit", "svh", "lvh", "dvh"]
      }],
      /**
       * Size
       * @see https://tailwindcss.com/docs/size
       */
      size: [{
        size: [et, t, "auto", "min", "max", "fit"]
      }],
      // Typography
      /**
       * Font Size
       * @see https://tailwindcss.com/docs/font-size
       */
      "font-size": [{
        text: ["base", ga, ma]
      }],
      /**
       * Font Smoothing
       * @see https://tailwindcss.com/docs/font-smoothing
       */
      "font-smoothing": ["antialiased", "subpixel-antialiased"],
      /**
       * Font Style
       * @see https://tailwindcss.com/docs/font-style
       */
      "font-style": ["italic", "not-italic"],
      /**
       * Font Weight
       * @see https://tailwindcss.com/docs/font-weight
       */
      "font-weight": [{
        font: ["thin", "extralight", "light", "normal", "medium", "semibold", "bold", "extrabold", "black", S0]
      }],
      /**
       * Font Family
       * @see https://tailwindcss.com/docs/font-family
       */
      "font-family": [{
        font: [Xd]
      }],
      /**
       * Font Variant Numeric
       * @see https://tailwindcss.com/docs/font-variant-numeric
       */
      "fvn-normal": ["normal-nums"],
      /**
       * Font Variant Numeric
       * @see https://tailwindcss.com/docs/font-variant-numeric
       */
      "fvn-ordinal": ["ordinal"],
      /**
       * Font Variant Numeric
       * @see https://tailwindcss.com/docs/font-variant-numeric
       */
      "fvn-slashed-zero": ["slashed-zero"],
      /**
       * Font Variant Numeric
       * @see https://tailwindcss.com/docs/font-variant-numeric
       */
      "fvn-figure": ["lining-nums", "oldstyle-nums"],
      /**
       * Font Variant Numeric
       * @see https://tailwindcss.com/docs/font-variant-numeric
       */
      "fvn-spacing": ["proportional-nums", "tabular-nums"],
      /**
       * Font Variant Numeric
       * @see https://tailwindcss.com/docs/font-variant-numeric
       */
      "fvn-fraction": ["diagonal-fractions", "stacked-fractions"],
      /**
       * Letter Spacing
       * @see https://tailwindcss.com/docs/letter-spacing
       */
      tracking: [{
        tracking: ["tighter", "tight", "normal", "wide", "wider", "widest", et]
      }],
      /**
       * Line Clamp
       * @see https://tailwindcss.com/docs/line-clamp
       */
      "line-clamp": [{
        "line-clamp": ["none", yu, S0]
      }],
      /**
       * Line Height
       * @see https://tailwindcss.com/docs/line-height
       */
      leading: [{
        leading: ["none", "tight", "snug", "normal", "relaxed", "loose", mo, et]
      }],
      /**
       * List Style Image
       * @see https://tailwindcss.com/docs/list-style-image
       */
      "list-image": [{
        "list-image": ["none", et]
      }],
      /**
       * List Style Type
       * @see https://tailwindcss.com/docs/list-style-type
       */
      "list-style-type": [{
        list: ["none", "disc", "decimal", et]
      }],
      /**
       * List Style Position
       * @see https://tailwindcss.com/docs/list-style-position
       */
      "list-style-position": [{
        list: ["inside", "outside"]
      }],
      /**
       * Placeholder Color
       * @deprecated since Tailwind CSS v3.0.0
       * @see https://tailwindcss.com/docs/placeholder-color
       */
      "placeholder-color": [{
        placeholder: [e]
      }],
      /**
       * Placeholder Opacity
       * @see https://tailwindcss.com/docs/placeholder-opacity
       */
      "placeholder-opacity": [{
        "placeholder-opacity": [v]
      }],
      /**
       * Text Alignment
       * @see https://tailwindcss.com/docs/text-align
       */
      "text-alignment": [{
        text: ["left", "center", "right", "justify", "start", "end"]
      }],
      /**
       * Text Color
       * @see https://tailwindcss.com/docs/text-color
       */
      "text-color": [{
        text: [e]
      }],
      /**
       * Text Opacity
       * @see https://tailwindcss.com/docs/text-opacity
       */
      "text-opacity": [{
        "text-opacity": [v]
      }],
      /**
       * Text Decoration
       * @see https://tailwindcss.com/docs/text-decoration
       */
      "text-decoration": ["underline", "overline", "line-through", "no-underline"],
      /**
       * Text Decoration Style
       * @see https://tailwindcss.com/docs/text-decoration-style
       */
      "text-decoration-style": [{
        decoration: [...G(), "wavy"]
      }],
      /**
       * Text Decoration Thickness
       * @see https://tailwindcss.com/docs/text-decoration-thickness
       */
      "text-decoration-thickness": [{
        decoration: ["auto", "from-font", mo, ma]
      }],
      /**
       * Text Underline Offset
       * @see https://tailwindcss.com/docs/text-underline-offset
       */
      "underline-offset": [{
        "underline-offset": ["auto", mo, et]
      }],
      /**
       * Text Decoration Color
       * @see https://tailwindcss.com/docs/text-decoration-color
       */
      "text-decoration-color": [{
        decoration: [e]
      }],
      /**
       * Text Transform
       * @see https://tailwindcss.com/docs/text-transform
       */
      "text-transform": ["uppercase", "lowercase", "capitalize", "normal-case"],
      /**
       * Text Overflow
       * @see https://tailwindcss.com/docs/text-overflow
       */
      "text-overflow": ["truncate", "text-ellipsis", "text-clip"],
      /**
       * Text Wrap
       * @see https://tailwindcss.com/docs/text-wrap
       */
      "text-wrap": [{
        text: ["wrap", "nowrap", "balance", "pretty"]
      }],
      /**
       * Text Indent
       * @see https://tailwindcss.com/docs/text-indent
       */
      indent: [{
        indent: M()
      }],
      /**
       * Vertical Alignment
       * @see https://tailwindcss.com/docs/vertical-align
       */
      "vertical-align": [{
        align: ["baseline", "top", "middle", "bottom", "text-top", "text-bottom", "sub", "super", et]
      }],
      /**
       * Whitespace
       * @see https://tailwindcss.com/docs/whitespace
       */
      whitespace: [{
        whitespace: ["normal", "nowrap", "pre", "pre-line", "pre-wrap", "break-spaces"]
      }],
      /**
       * Word Break
       * @see https://tailwindcss.com/docs/word-break
       */
      break: [{
        break: ["normal", "words", "all", "keep"]
      }],
      /**
       * Hyphens
       * @see https://tailwindcss.com/docs/hyphens
       */
      hyphens: [{
        hyphens: ["none", "manual", "auto"]
      }],
      /**
       * Content
       * @see https://tailwindcss.com/docs/content
       */
      content: [{
        content: ["none", et]
      }],
      // Backgrounds
      /**
       * Background Attachment
       * @see https://tailwindcss.com/docs/background-attachment
       */
      "bg-attachment": [{
        bg: ["fixed", "local", "scroll"]
      }],
      /**
       * Background Clip
       * @see https://tailwindcss.com/docs/background-clip
       */
      "bg-clip": [{
        "bg-clip": ["border", "padding", "content", "text"]
      }],
      /**
       * Background Opacity
       * @deprecated since Tailwind CSS v3.0.0
       * @see https://tailwindcss.com/docs/background-opacity
       */
      "bg-opacity": [{
        "bg-opacity": [v]
      }],
      /**
       * Background Origin
       * @see https://tailwindcss.com/docs/background-origin
       */
      "bg-origin": [{
        "bg-origin": ["border", "padding", "content"]
      }],
      /**
       * Background Position
       * @see https://tailwindcss.com/docs/background-position
       */
      "bg-position": [{
        bg: [...U(), wW]
      }],
      /**
       * Background Repeat
       * @see https://tailwindcss.com/docs/background-repeat
       */
      "bg-repeat": [{
        bg: ["no-repeat", {
          repeat: ["", "x", "y", "round", "space"]
        }]
      }],
      /**
       * Background Size
       * @see https://tailwindcss.com/docs/background-size
       */
      "bg-size": [{
        bg: ["auto", "cover", "contain", xW]
      }],
      /**
       * Background Image
       * @see https://tailwindcss.com/docs/background-image
       */
      "bg-image": [{
        bg: ["none", {
          "gradient-to": ["t", "tr", "r", "br", "b", "bl", "l", "tl"]
        }, SW]
      }],
      /**
       * Background Color
       * @see https://tailwindcss.com/docs/background-color
       */
      "bg-color": [{
        bg: [e]
      }],
      /**
       * Gradient Color Stops From Position
       * @see https://tailwindcss.com/docs/gradient-color-stops
       */
      "gradient-from-pos": [{
        from: [g]
      }],
      /**
       * Gradient Color Stops Via Position
       * @see https://tailwindcss.com/docs/gradient-color-stops
       */
      "gradient-via-pos": [{
        via: [g]
      }],
      /**
       * Gradient Color Stops To Position
       * @see https://tailwindcss.com/docs/gradient-color-stops
       */
      "gradient-to-pos": [{
        to: [g]
      }],
      /**
       * Gradient Color Stops From
       * @see https://tailwindcss.com/docs/gradient-color-stops
       */
      "gradient-from": [{
        from: [p]
      }],
      /**
       * Gradient Color Stops Via
       * @see https://tailwindcss.com/docs/gradient-color-stops
       */
      "gradient-via": [{
        via: [p]
      }],
      /**
       * Gradient Color Stops To
       * @see https://tailwindcss.com/docs/gradient-color-stops
       */
      "gradient-to": [{
        to: [p]
      }],
      // Borders
      /**
       * Border Radius
       * @see https://tailwindcss.com/docs/border-radius
       */
      rounded: [{
        rounded: [i]
      }],
      /**
       * Border Radius Start
       * @see https://tailwindcss.com/docs/border-radius
       */
      "rounded-s": [{
        "rounded-s": [i]
      }],
      /**
       * Border Radius End
       * @see https://tailwindcss.com/docs/border-radius
       */
      "rounded-e": [{
        "rounded-e": [i]
      }],
      /**
       * Border Radius Top
       * @see https://tailwindcss.com/docs/border-radius
       */
      "rounded-t": [{
        "rounded-t": [i]
      }],
      /**
       * Border Radius Right
       * @see https://tailwindcss.com/docs/border-radius
       */
      "rounded-r": [{
        "rounded-r": [i]
      }],
      /**
       * Border Radius Bottom
       * @see https://tailwindcss.com/docs/border-radius
       */
      "rounded-b": [{
        "rounded-b": [i]
      }],
      /**
       * Border Radius Left
       * @see https://tailwindcss.com/docs/border-radius
       */
      "rounded-l": [{
        "rounded-l": [i]
      }],
      /**
       * Border Radius Start Start
       * @see https://tailwindcss.com/docs/border-radius
       */
      "rounded-ss": [{
        "rounded-ss": [i]
      }],
      /**
       * Border Radius Start End
       * @see https://tailwindcss.com/docs/border-radius
       */
      "rounded-se": [{
        "rounded-se": [i]
      }],
      /**
       * Border Radius End End
       * @see https://tailwindcss.com/docs/border-radius
       */
      "rounded-ee": [{
        "rounded-ee": [i]
      }],
      /**
       * Border Radius End Start
       * @see https://tailwindcss.com/docs/border-radius
       */
      "rounded-es": [{
        "rounded-es": [i]
      }],
      /**
       * Border Radius Top Left
       * @see https://tailwindcss.com/docs/border-radius
       */
      "rounded-tl": [{
        "rounded-tl": [i]
      }],
      /**
       * Border Radius Top Right
       * @see https://tailwindcss.com/docs/border-radius
       */
      "rounded-tr": [{
        "rounded-tr": [i]
      }],
      /**
       * Border Radius Bottom Right
       * @see https://tailwindcss.com/docs/border-radius
       */
      "rounded-br": [{
        "rounded-br": [i]
      }],
      /**
       * Border Radius Bottom Left
       * @see https://tailwindcss.com/docs/border-radius
       */
      "rounded-bl": [{
        "rounded-bl": [i]
      }],
      /**
       * Border Width
       * @see https://tailwindcss.com/docs/border-width
       */
      "border-w": [{
        border: [a]
      }],
      /**
       * Border Width X
       * @see https://tailwindcss.com/docs/border-width
       */
      "border-w-x": [{
        "border-x": [a]
      }],
      /**
       * Border Width Y
       * @see https://tailwindcss.com/docs/border-width
       */
      "border-w-y": [{
        "border-y": [a]
      }],
      /**
       * Border Width Start
       * @see https://tailwindcss.com/docs/border-width
       */
      "border-w-s": [{
        "border-s": [a]
      }],
      /**
       * Border Width End
       * @see https://tailwindcss.com/docs/border-width
       */
      "border-w-e": [{
        "border-e": [a]
      }],
      /**
       * Border Width Top
       * @see https://tailwindcss.com/docs/border-width
       */
      "border-w-t": [{
        "border-t": [a]
      }],
      /**
       * Border Width Right
       * @see https://tailwindcss.com/docs/border-width
       */
      "border-w-r": [{
        "border-r": [a]
      }],
      /**
       * Border Width Bottom
       * @see https://tailwindcss.com/docs/border-width
       */
      "border-w-b": [{
        "border-b": [a]
      }],
      /**
       * Border Width Left
       * @see https://tailwindcss.com/docs/border-width
       */
      "border-w-l": [{
        "border-l": [a]
      }],
      /**
       * Border Opacity
       * @see https://tailwindcss.com/docs/border-opacity
       */
      "border-opacity": [{
        "border-opacity": [v]
      }],
      /**
       * Border Style
       * @see https://tailwindcss.com/docs/border-style
       */
      "border-style": [{
        border: [...G(), "hidden"]
      }],
      /**
       * Divide Width X
       * @see https://tailwindcss.com/docs/divide-width
       */
      "divide-x": [{
        "divide-x": [a]
      }],
      /**
       * Divide Width X Reverse
       * @see https://tailwindcss.com/docs/divide-width
       */
      "divide-x-reverse": ["divide-x-reverse"],
      /**
       * Divide Width Y
       * @see https://tailwindcss.com/docs/divide-width
       */
      "divide-y": [{
        "divide-y": [a]
      }],
      /**
       * Divide Width Y Reverse
       * @see https://tailwindcss.com/docs/divide-width
       */
      "divide-y-reverse": ["divide-y-reverse"],
      /**
       * Divide Opacity
       * @see https://tailwindcss.com/docs/divide-opacity
       */
      "divide-opacity": [{
        "divide-opacity": [v]
      }],
      /**
       * Divide Style
       * @see https://tailwindcss.com/docs/divide-style
       */
      "divide-style": [{
        divide: G()
      }],
      /**
       * Border Color
       * @see https://tailwindcss.com/docs/border-color
       */
      "border-color": [{
        border: [s]
      }],
      /**
       * Border Color X
       * @see https://tailwindcss.com/docs/border-color
       */
      "border-color-x": [{
        "border-x": [s]
      }],
      /**
       * Border Color Y
       * @see https://tailwindcss.com/docs/border-color
       */
      "border-color-y": [{
        "border-y": [s]
      }],
      /**
       * Border Color S
       * @see https://tailwindcss.com/docs/border-color
       */
      "border-color-s": [{
        "border-s": [s]
      }],
      /**
       * Border Color E
       * @see https://tailwindcss.com/docs/border-color
       */
      "border-color-e": [{
        "border-e": [s]
      }],
      /**
       * Border Color Top
       * @see https://tailwindcss.com/docs/border-color
       */
      "border-color-t": [{
        "border-t": [s]
      }],
      /**
       * Border Color Right
       * @see https://tailwindcss.com/docs/border-color
       */
      "border-color-r": [{
        "border-r": [s]
      }],
      /**
       * Border Color Bottom
       * @see https://tailwindcss.com/docs/border-color
       */
      "border-color-b": [{
        "border-b": [s]
      }],
      /**
       * Border Color Left
       * @see https://tailwindcss.com/docs/border-color
       */
      "border-color-l": [{
        "border-l": [s]
      }],
      /**
       * Divide Color
       * @see https://tailwindcss.com/docs/divide-color
       */
      "divide-color": [{
        divide: [s]
      }],
      /**
       * Outline Style
       * @see https://tailwindcss.com/docs/outline-style
       */
      "outline-style": [{
        outline: ["", ...G()]
      }],
      /**
       * Outline Offset
       * @see https://tailwindcss.com/docs/outline-offset
       */
      "outline-offset": [{
        "outline-offset": [mo, et]
      }],
      /**
       * Outline Width
       * @see https://tailwindcss.com/docs/outline-width
       */
      "outline-w": [{
        outline: [mo, ma]
      }],
      /**
       * Outline Color
       * @see https://tailwindcss.com/docs/outline-color
       */
      "outline-color": [{
        outline: [e]
      }],
      /**
       * Ring Width
       * @see https://tailwindcss.com/docs/ring-width
       */
      "ring-w": [{
        ring: O()
      }],
      /**
       * Ring Width Inset
       * @see https://tailwindcss.com/docs/ring-width
       */
      "ring-w-inset": ["ring-inset"],
      /**
       * Ring Color
       * @see https://tailwindcss.com/docs/ring-color
       */
      "ring-color": [{
        ring: [e]
      }],
      /**
       * Ring Opacity
       * @see https://tailwindcss.com/docs/ring-opacity
       */
      "ring-opacity": [{
        "ring-opacity": [v]
      }],
      /**
       * Ring Offset Width
       * @see https://tailwindcss.com/docs/ring-offset-width
       */
      "ring-offset-w": [{
        "ring-offset": [mo, ma]
      }],
      /**
       * Ring Offset Color
       * @see https://tailwindcss.com/docs/ring-offset-color
       */
      "ring-offset-color": [{
        "ring-offset": [e]
      }],
      // Effects
      /**
       * Box Shadow
       * @see https://tailwindcss.com/docs/box-shadow
       */
      shadow: [{
        shadow: ["", "inner", "none", ga, EW]
      }],
      /**
       * Box Shadow Color
       * @see https://tailwindcss.com/docs/box-shadow-color
       */
      "shadow-color": [{
        shadow: [Xd]
      }],
      /**
       * Opacity
       * @see https://tailwindcss.com/docs/opacity
       */
      opacity: [{
        opacity: [v]
      }],
      /**
       * Mix Blend Mode
       * @see https://tailwindcss.com/docs/mix-blend-mode
       */
      "mix-blend": [{
        "mix-blend": [...q(), "plus-lighter", "plus-darker"]
      }],
      /**
       * Background Blend Mode
       * @see https://tailwindcss.com/docs/background-blend-mode
       */
      "bg-blend": [{
        "bg-blend": q()
      }],
      // Filters
      /**
       * Filter
       * @deprecated since Tailwind CSS v3.0.0
       * @see https://tailwindcss.com/docs/filter
       */
      filter: [{
        filter: ["", "none"]
      }],
      /**
       * Blur
       * @see https://tailwindcss.com/docs/blur
       */
      blur: [{
        blur: [r]
      }],
      /**
       * Brightness
       * @see https://tailwindcss.com/docs/brightness
       */
      brightness: [{
        brightness: [n]
      }],
      /**
       * Contrast
       * @see https://tailwindcss.com/docs/contrast
       */
      contrast: [{
        contrast: [l]
      }],
      /**
       * Drop Shadow
       * @see https://tailwindcss.com/docs/drop-shadow
       */
      "drop-shadow": [{
        "drop-shadow": ["", "none", ga, et]
      }],
      /**
       * Grayscale
       * @see https://tailwindcss.com/docs/grayscale
       */
      grayscale: [{
        grayscale: [c]
      }],
      /**
       * Hue Rotate
       * @see https://tailwindcss.com/docs/hue-rotate
       */
      "hue-rotate": [{
        "hue-rotate": [d]
      }],
      /**
       * Invert
       * @see https://tailwindcss.com/docs/invert
       */
      invert: [{
        invert: [f]
      }],
      /**
       * Saturate
       * @see https://tailwindcss.com/docs/saturate
       */
      saturate: [{
        saturate: [x]
      }],
      /**
       * Sepia
       * @see https://tailwindcss.com/docs/sepia
       */
      sepia: [{
        sepia: [w]
      }],
      /**
       * Backdrop Filter
       * @deprecated since Tailwind CSS v3.0.0
       * @see https://tailwindcss.com/docs/backdrop-filter
       */
      "backdrop-filter": [{
        "backdrop-filter": ["", "none"]
      }],
      /**
       * Backdrop Blur
       * @see https://tailwindcss.com/docs/backdrop-blur
       */
      "backdrop-blur": [{
        "backdrop-blur": [r]
      }],
      /**
       * Backdrop Brightness
       * @see https://tailwindcss.com/docs/backdrop-brightness
       */
      "backdrop-brightness": [{
        "backdrop-brightness": [n]
      }],
      /**
       * Backdrop Contrast
       * @see https://tailwindcss.com/docs/backdrop-contrast
       */
      "backdrop-contrast": [{
        "backdrop-contrast": [l]
      }],
      /**
       * Backdrop Grayscale
       * @see https://tailwindcss.com/docs/backdrop-grayscale
       */
      "backdrop-grayscale": [{
        "backdrop-grayscale": [c]
      }],
      /**
       * Backdrop Hue Rotate
       * @see https://tailwindcss.com/docs/backdrop-hue-rotate
       */
      "backdrop-hue-rotate": [{
        "backdrop-hue-rotate": [d]
      }],
      /**
       * Backdrop Invert
       * @see https://tailwindcss.com/docs/backdrop-invert
       */
      "backdrop-invert": [{
        "backdrop-invert": [f]
      }],
      /**
       * Backdrop Opacity
       * @see https://tailwindcss.com/docs/backdrop-opacity
       */
      "backdrop-opacity": [{
        "backdrop-opacity": [v]
      }],
      /**
       * Backdrop Saturate
       * @see https://tailwindcss.com/docs/backdrop-saturate
       */
      "backdrop-saturate": [{
        "backdrop-saturate": [x]
      }],
      /**
       * Backdrop Sepia
       * @see https://tailwindcss.com/docs/backdrop-sepia
       */
      "backdrop-sepia": [{
        "backdrop-sepia": [w]
      }],
      // Tables
      /**
       * Border Collapse
       * @see https://tailwindcss.com/docs/border-collapse
       */
      "border-collapse": [{
        border: ["collapse", "separate"]
      }],
      /**
       * Border Spacing
       * @see https://tailwindcss.com/docs/border-spacing
       */
      "border-spacing": [{
        "border-spacing": [o]
      }],
      /**
       * Border Spacing X
       * @see https://tailwindcss.com/docs/border-spacing
       */
      "border-spacing-x": [{
        "border-spacing-x": [o]
      }],
      /**
       * Border Spacing Y
       * @see https://tailwindcss.com/docs/border-spacing
       */
      "border-spacing-y": [{
        "border-spacing-y": [o]
      }],
      /**
       * Table Layout
       * @see https://tailwindcss.com/docs/table-layout
       */
      "table-layout": [{
        table: ["auto", "fixed"]
      }],
      /**
       * Caption Side
       * @see https://tailwindcss.com/docs/caption-side
       */
      caption: [{
        caption: ["top", "bottom"]
      }],
      // Transitions and Animation
      /**
       * Tranisition Property
       * @see https://tailwindcss.com/docs/transition-property
       */
      transition: [{
        transition: ["none", "all", "", "colors", "opacity", "shadow", "transform", et]
      }],
      /**
       * Transition Duration
       * @see https://tailwindcss.com/docs/transition-duration
       */
      duration: [{
        duration: B()
      }],
      /**
       * Transition Timing Function
       * @see https://tailwindcss.com/docs/transition-timing-function
       */
      ease: [{
        ease: ["linear", "in", "out", "in-out", et]
      }],
      /**
       * Transition Delay
       * @see https://tailwindcss.com/docs/transition-delay
       */
      delay: [{
        delay: B()
      }],
      /**
       * Animation
       * @see https://tailwindcss.com/docs/animation
       */
      animate: [{
        animate: ["none", "spin", "ping", "pulse", "bounce", et]
      }],
      // Transforms
      /**
       * Transform
       * @see https://tailwindcss.com/docs/transform
       */
      transform: [{
        transform: ["", "gpu", "none"]
      }],
      /**
       * Scale
       * @see https://tailwindcss.com/docs/scale
       */
      scale: [{
        scale: [S]
      }],
      /**
       * Scale X
       * @see https://tailwindcss.com/docs/scale
       */
      "scale-x": [{
        "scale-x": [S]
      }],
      /**
       * Scale Y
       * @see https://tailwindcss.com/docs/scale
       */
      "scale-y": [{
        "scale-y": [S]
      }],
      /**
       * Rotate
       * @see https://tailwindcss.com/docs/rotate
       */
      rotate: [{
        rotate: [Zd, et]
      }],
      /**
       * Translate X
       * @see https://tailwindcss.com/docs/translate
       */
      "translate-x": [{
        "translate-x": [k]
      }],
      /**
       * Translate Y
       * @see https://tailwindcss.com/docs/translate
       */
      "translate-y": [{
        "translate-y": [k]
      }],
      /**
       * Skew X
       * @see https://tailwindcss.com/docs/skew
       */
      "skew-x": [{
        "skew-x": [j]
      }],
      /**
       * Skew Y
       * @see https://tailwindcss.com/docs/skew
       */
      "skew-y": [{
        "skew-y": [j]
      }],
      /**
       * Transform Origin
       * @see https://tailwindcss.com/docs/transform-origin
       */
      "transform-origin": [{
        origin: ["center", "top", "top-right", "right", "bottom-right", "bottom", "bottom-left", "left", "top-left", et]
      }],
      // Interactivity
      /**
       * Accent Color
       * @see https://tailwindcss.com/docs/accent-color
       */
      accent: [{
        accent: ["auto", e]
      }],
      /**
       * Appearance
       * @see https://tailwindcss.com/docs/appearance
       */
      appearance: [{
        appearance: ["none", "auto"]
      }],
      /**
       * Cursor
       * @see https://tailwindcss.com/docs/cursor
       */
      cursor: [{
        cursor: ["auto", "default", "pointer", "wait", "text", "move", "help", "not-allowed", "none", "context-menu", "progress", "cell", "crosshair", "vertical-text", "alias", "copy", "no-drop", "grab", "grabbing", "all-scroll", "col-resize", "row-resize", "n-resize", "e-resize", "s-resize", "w-resize", "ne-resize", "nw-resize", "se-resize", "sw-resize", "ew-resize", "ns-resize", "nesw-resize", "nwse-resize", "zoom-in", "zoom-out", et]
      }],
      /**
       * Caret Color
       * @see https://tailwindcss.com/docs/just-in-time-mode#caret-color-utilities
       */
      "caret-color": [{
        caret: [e]
      }],
      /**
       * Pointer Events
       * @see https://tailwindcss.com/docs/pointer-events
       */
      "pointer-events": [{
        "pointer-events": ["none", "auto"]
      }],
      /**
       * Resize
       * @see https://tailwindcss.com/docs/resize
       */
      resize: [{
        resize: ["none", "y", "x", ""]
      }],
      /**
       * Scroll Behavior
       * @see https://tailwindcss.com/docs/scroll-behavior
       */
      "scroll-behavior": [{
        scroll: ["auto", "smooth"]
      }],
      /**
       * Scroll Margin
       * @see https://tailwindcss.com/docs/scroll-margin
       */
      "scroll-m": [{
        "scroll-m": M()
      }],
      /**
       * Scroll Margin X
       * @see https://tailwindcss.com/docs/scroll-margin
       */
      "scroll-mx": [{
        "scroll-mx": M()
      }],
      /**
       * Scroll Margin Y
       * @see https://tailwindcss.com/docs/scroll-margin
       */
      "scroll-my": [{
        "scroll-my": M()
      }],
      /**
       * Scroll Margin Start
       * @see https://tailwindcss.com/docs/scroll-margin
       */
      "scroll-ms": [{
        "scroll-ms": M()
      }],
      /**
       * Scroll Margin End
       * @see https://tailwindcss.com/docs/scroll-margin
       */
      "scroll-me": [{
        "scroll-me": M()
      }],
      /**
       * Scroll Margin Top
       * @see https://tailwindcss.com/docs/scroll-margin
       */
      "scroll-mt": [{
        "scroll-mt": M()
      }],
      /**
       * Scroll Margin Right
       * @see https://tailwindcss.com/docs/scroll-margin
       */
      "scroll-mr": [{
        "scroll-mr": M()
      }],
      /**
       * Scroll Margin Bottom
       * @see https://tailwindcss.com/docs/scroll-margin
       */
      "scroll-mb": [{
        "scroll-mb": M()
      }],
      /**
       * Scroll Margin Left
       * @see https://tailwindcss.com/docs/scroll-margin
       */
      "scroll-ml": [{
        "scroll-ml": M()
      }],
      /**
       * Scroll Padding
       * @see https://tailwindcss.com/docs/scroll-padding
       */
      "scroll-p": [{
        "scroll-p": M()
      }],
      /**
       * Scroll Padding X
       * @see https://tailwindcss.com/docs/scroll-padding
       */
      "scroll-px": [{
        "scroll-px": M()
      }],
      /**
       * Scroll Padding Y
       * @see https://tailwindcss.com/docs/scroll-padding
       */
      "scroll-py": [{
        "scroll-py": M()
      }],
      /**
       * Scroll Padding Start
       * @see https://tailwindcss.com/docs/scroll-padding
       */
      "scroll-ps": [{
        "scroll-ps": M()
      }],
      /**
       * Scroll Padding End
       * @see https://tailwindcss.com/docs/scroll-padding
       */
      "scroll-pe": [{
        "scroll-pe": M()
      }],
      /**
       * Scroll Padding Top
       * @see https://tailwindcss.com/docs/scroll-padding
       */
      "scroll-pt": [{
        "scroll-pt": M()
      }],
      /**
       * Scroll Padding Right
       * @see https://tailwindcss.com/docs/scroll-padding
       */
      "scroll-pr": [{
        "scroll-pr": M()
      }],
      /**
       * Scroll Padding Bottom
       * @see https://tailwindcss.com/docs/scroll-padding
       */
      "scroll-pb": [{
        "scroll-pb": M()
      }],
      /**
       * Scroll Padding Left
       * @see https://tailwindcss.com/docs/scroll-padding
       */
      "scroll-pl": [{
        "scroll-pl": M()
      }],
      /**
       * Scroll Snap Align
       * @see https://tailwindcss.com/docs/scroll-snap-align
       */
      "snap-align": [{
        snap: ["start", "end", "center", "align-none"]
      }],
      /**
       * Scroll Snap Stop
       * @see https://tailwindcss.com/docs/scroll-snap-stop
       */
      "snap-stop": [{
        snap: ["normal", "always"]
      }],
      /**
       * Scroll Snap Type
       * @see https://tailwindcss.com/docs/scroll-snap-type
       */
      "snap-type": [{
        snap: ["none", "x", "y", "both"]
      }],
      /**
       * Scroll Snap Type Strictness
       * @see https://tailwindcss.com/docs/scroll-snap-type
       */
      "snap-strictness": [{
        snap: ["mandatory", "proximity"]
      }],
      /**
       * Touch Action
       * @see https://tailwindcss.com/docs/touch-action
       */
      touch: [{
        touch: ["auto", "none", "manipulation"]
      }],
      /**
       * Touch Action X
       * @see https://tailwindcss.com/docs/touch-action
       */
      "touch-x": [{
        "touch-pan": ["x", "left", "right"]
      }],
      /**
       * Touch Action Y
       * @see https://tailwindcss.com/docs/touch-action
       */
      "touch-y": [{
        "touch-pan": ["y", "up", "down"]
      }],
      /**
       * Touch Action Pinch Zoom
       * @see https://tailwindcss.com/docs/touch-action
       */
      "touch-pz": ["touch-pinch-zoom"],
      /**
       * User Select
       * @see https://tailwindcss.com/docs/user-select
       */
      select: [{
        select: ["none", "text", "all", "auto"]
      }],
      /**
       * Will Change
       * @see https://tailwindcss.com/docs/will-change
       */
      "will-change": [{
        "will-change": ["auto", "scroll", "contents", "transform", et]
      }],
      // SVG
      /**
       * Fill
       * @see https://tailwindcss.com/docs/fill
       */
      fill: [{
        fill: [e, "none"]
      }],
      /**
       * Stroke Width
       * @see https://tailwindcss.com/docs/stroke-width
       */
      "stroke-w": [{
        stroke: [mo, ma, S0]
      }],
      /**
       * Stroke
       * @see https://tailwindcss.com/docs/stroke
       */
      stroke: [{
        stroke: [e, "none"]
      }],
      // Accessibility
      /**
       * Screen Readers
       * @see https://tailwindcss.com/docs/screen-readers
       */
      sr: ["sr-only", "not-sr-only"],
      /**
       * Forced Color Adjust
       * @see https://tailwindcss.com/docs/forced-color-adjust
       */
      "forced-color-adjust": [{
        "forced-color-adjust": ["auto", "none"]
      }]
    },
    conflictingClassGroups: {
      overflow: ["overflow-x", "overflow-y"],
      overscroll: ["overscroll-x", "overscroll-y"],
      inset: ["inset-x", "inset-y", "start", "end", "top", "right", "bottom", "left"],
      "inset-x": ["right", "left"],
      "inset-y": ["top", "bottom"],
      flex: ["basis", "grow", "shrink"],
      gap: ["gap-x", "gap-y"],
      p: ["px", "py", "ps", "pe", "pt", "pr", "pb", "pl"],
      px: ["pr", "pl"],
      py: ["pt", "pb"],
      m: ["mx", "my", "ms", "me", "mt", "mr", "mb", "ml"],
      mx: ["mr", "ml"],
      my: ["mt", "mb"],
      size: ["w", "h"],
      "font-size": ["leading"],
      "fvn-normal": ["fvn-ordinal", "fvn-slashed-zero", "fvn-figure", "fvn-spacing", "fvn-fraction"],
      "fvn-ordinal": ["fvn-normal"],
      "fvn-slashed-zero": ["fvn-normal"],
      "fvn-figure": ["fvn-normal"],
      "fvn-spacing": ["fvn-normal"],
      "fvn-fraction": ["fvn-normal"],
      "line-clamp": ["display", "overflow"],
      rounded: ["rounded-s", "rounded-e", "rounded-t", "rounded-r", "rounded-b", "rounded-l", "rounded-ss", "rounded-se", "rounded-ee", "rounded-es", "rounded-tl", "rounded-tr", "rounded-br", "rounded-bl"],
      "rounded-s": ["rounded-ss", "rounded-es"],
      "rounded-e": ["rounded-se", "rounded-ee"],
      "rounded-t": ["rounded-tl", "rounded-tr"],
      "rounded-r": ["rounded-tr", "rounded-br"],
      "rounded-b": ["rounded-br", "rounded-bl"],
      "rounded-l": ["rounded-tl", "rounded-bl"],
      "border-spacing": ["border-spacing-x", "border-spacing-y"],
      "border-w": ["border-w-s", "border-w-e", "border-w-t", "border-w-r", "border-w-b", "border-w-l"],
      "border-w-x": ["border-w-r", "border-w-l"],
      "border-w-y": ["border-w-t", "border-w-b"],
      "border-color": ["border-color-s", "border-color-e", "border-color-t", "border-color-r", "border-color-b", "border-color-l"],
      "border-color-x": ["border-color-r", "border-color-l"],
      "border-color-y": ["border-color-t", "border-color-b"],
      "scroll-m": ["scroll-mx", "scroll-my", "scroll-ms", "scroll-me", "scroll-mt", "scroll-mr", "scroll-mb", "scroll-ml"],
      "scroll-mx": ["scroll-mr", "scroll-ml"],
      "scroll-my": ["scroll-mt", "scroll-mb"],
      "scroll-p": ["scroll-px", "scroll-py", "scroll-ps", "scroll-pe", "scroll-pt", "scroll-pr", "scroll-pb", "scroll-pl"],
      "scroll-px": ["scroll-pr", "scroll-pl"],
      "scroll-py": ["scroll-pt", "scroll-pb"],
      touch: ["touch-x", "touch-y", "touch-pz"],
      "touch-x": ["touch"],
      "touch-y": ["touch"],
      "touch-pz": ["touch"]
    },
    conflictingClassGroupModifiers: {
      "font-size": ["leading"]
    }
  };
}, EI = /* @__PURE__ */ uW(CW);
function Ze(...e) {
  return EI(at(e));
}
const TW = nv("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50", {
  variants: {
    variant: {
      default: "bg-primary text-primary-foreground hover:bg-primary/90",
      destructive: "bg-destructive text-destructive-foreground hover:bg-destructive/90",
      outline: "border border-input bg-background hover:bg-accent hover:text-accent-foreground",
      secondary: "bg-secondary text-secondary-foreground hover:bg-secondary/80",
      ghost: "hover:bg-accent hover:text-accent-foreground",
      link: "text-primary underline-offset-4 hover:underline"
    },
    size: {
      default: "h-10 px-4 py-2",
      sm: "h-9 rounded-md px-3",
      lg: "h-11 rounded-md px-8",
      icon: "h-10 w-10"
    }
  },
  defaultVariants: {
    variant: "default",
    size: "default"
  }
}), dt = _.forwardRef(({ className: e, variant: t, size: r, asChild: n = !1, ...s }, i) => {
  const o = n ? P9 : "button";
  return u.jsx(o, { className: Ze(TW({ variant: t, size: r, className: e })), ref: i, ...s });
});
dt.displayName = "Button";
function AW(e, t) {
  const r = _.createContext(t), n = (i) => {
    const { children: o, ...a } = i, l = _.useMemo(() => a, Object.values(a));
    return /* @__PURE__ */ u.jsx(r.Provider, { value: l, children: o });
  };
  n.displayName = e + "Provider";
  function s(i) {
    const o = _.useContext(r);
    if (o) return o;
    if (t !== void 0) return t;
    throw new Error(`\`${i}\` must be used within \`${e}\``);
  }
  return [n, s];
}
function pd(e, t = []) {
  let r = [];
  function n(i, o) {
    const a = _.createContext(o), l = r.length;
    r = [...r, o];
    const c = (f) => {
      var v;
      const { scope: h, children: p, ...g } = f, m = ((v = h == null ? void 0 : h[e]) == null ? void 0 : v[l]) || a, y = _.useMemo(() => g, Object.values(g));
      return /* @__PURE__ */ u.jsx(m.Provider, { value: y, children: p });
    };
    c.displayName = i + "Provider";
    function d(f, h) {
      var m;
      const p = ((m = h == null ? void 0 : h[e]) == null ? void 0 : m[l]) || a, g = _.useContext(p);
      if (g) return g;
      if (o !== void 0) return o;
      throw new Error(`\`${f}\` must be used within \`${i}\``);
    }
    return [c, d];
  }
  const s = () => {
    const i = r.map((o) => _.createContext(o));
    return function(a) {
      const l = (a == null ? void 0 : a[e]) || i;
      return _.useMemo(
        () => ({ [`__scope${e}`]: { ...a, [e]: l } }),
        [a, l]
      );
    };
  };
  return s.scopeName = e, [n, PW(s, ...t)];
}
function PW(...e) {
  const t = e[0];
  if (e.length === 1) return t;
  const r = () => {
    const n = e.map((s) => ({
      useScope: s(),
      scopeName: s.scopeName
    }));
    return function(i) {
      const o = n.reduce((a, { useScope: l, scopeName: c }) => {
        const f = l(i)[`__scope${c}`];
        return { ...a, ...f };
      }, {});
      return _.useMemo(() => ({ [`__scope${t.scopeName}`]: o }), [o]);
    };
  };
  return r.scopeName = t.scopeName, r;
}
function Rr(e, t, { checkForDefaultPrevented: r = !0 } = {}) {
  return function(s) {
    if (e == null || e(s), r === !1 || !s.defaultPrevented)
      return t == null ? void 0 : t(s);
  };
}
var Bu = globalThis != null && globalThis.document ? _.useLayoutEffect : () => {
}, OW = _[" useId ".trim().toString()] || (() => {
}), DW = 0;
function Mf(e) {
  const [t, r] = _.useState(OW());
  return Bu(() => {
    r((n) => n ?? String(DW++));
  }, [e]), t ? `radix-${t}` : "";
}
var $W = _[" useInsertionEffect ".trim().toString()] || Bu;
function cv({
  prop: e,
  defaultProp: t,
  onChange: r = () => {
  },
  caller: n
}) {
  const [s, i, o] = RW({
    defaultProp: t,
    onChange: r
  }), a = e !== void 0, l = a ? e : s;
  {
    const d = _.useRef(e !== void 0);
    _.useEffect(() => {
      const f = d.current;
      f !== a && console.warn(
        `${n} is changing from ${f ? "controlled" : "uncontrolled"} to ${a ? "controlled" : "uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`
      ), d.current = a;
    }, [a, n]);
  }
  const c = _.useCallback(
    (d) => {
      var f;
      if (a) {
        const h = IW(d) ? d(e) : d;
        h !== e && ((f = o.current) == null || f.call(o, h));
      } else
        i(d);
    },
    [a, e, i, o]
  );
  return [l, c];
}
function RW({
  defaultProp: e,
  onChange: t
}) {
  const [r, n] = _.useState(e), s = _.useRef(r), i = _.useRef(t);
  return $W(() => {
    i.current = t;
  }, [t]), _.useEffect(() => {
    var o;
    s.current !== r && ((o = i.current) == null || o.call(i, r), s.current = r);
  }, [r, s]), [r, n, i];
}
function IW(e) {
  return typeof e == "function";
}
var MW = [
  "a",
  "button",
  "div",
  "form",
  "h2",
  "h3",
  "img",
  "input",
  "label",
  "li",
  "nav",
  "ol",
  "p",
  "select",
  "span",
  "svg",
  "ul"
], Hr = MW.reduce((e, t) => {
  const r = /* @__PURE__ */ oh(`Primitive.${t}`), n = _.forwardRef((s, i) => {
    const { asChild: o, ...a } = s, l = o ? r : t;
    return typeof window < "u" && (window[Symbol.for("radix-ui")] = !0), /* @__PURE__ */ u.jsx(l, { ...a, ref: i });
  });
  return n.displayName = `Primitive.${t}`, { ...e, [t]: n };
}, {});
function LW(e, t) {
  e && UR.flushSync(() => e.dispatchEvent(t));
}
function zu(e) {
  const t = _.useRef(e);
  return _.useEffect(() => {
    t.current = e;
  }), _.useMemo(() => (...r) => {
    var n;
    return (n = t.current) == null ? void 0 : n.call(t, ...r);
  }, []);
}
function FW(e, t = globalThis == null ? void 0 : globalThis.document) {
  const r = zu(e);
  _.useEffect(() => {
    const n = (s) => {
      s.key === "Escape" && r(s);
    };
    return t.addEventListener("keydown", n, { capture: !0 }), () => t.removeEventListener("keydown", n, { capture: !0 });
  }, [r, t]);
}
var BW = "DismissableLayer", Cw = "dismissableLayer.update", zW = "dismissableLayer.pointerDownOutside", UW = "dismissableLayer.focusOutside", PC, jI = _.createContext({
  layers: /* @__PURE__ */ new Set(),
  layersWithOutsidePointerEventsDisabled: /* @__PURE__ */ new Set(),
  branches: /* @__PURE__ */ new Set()
}), NI = _.forwardRef(
  (e, t) => {
    const {
      disableOutsidePointerEvents: r = !1,
      onEscapeKeyDown: n,
      onPointerDownOutside: s,
      onFocusOutside: i,
      onInteractOutside: o,
      onDismiss: a,
      ...l
    } = e, c = _.useContext(jI), [d, f] = _.useState(null), h = (d == null ? void 0 : d.ownerDocument) ?? (globalThis == null ? void 0 : globalThis.document), [, p] = _.useState({}), g = Vn(t, (N) => f(N)), m = Array.from(c.layers), [y] = [...c.layersWithOutsidePointerEventsDisabled].slice(-1), v = m.indexOf(y), b = d ? m.indexOf(d) : -1, x = c.layersWithOutsidePointerEventsDisabled.size > 0, S = b >= v, w = WW((N) => {
      const k = N.target, C = [...c.branches].some(($) => $.contains(k));
      !S || C || (s == null || s(N), o == null || o(N), N.defaultPrevented || a == null || a());
    }, h), j = KW((N) => {
      const k = N.target;
      [...c.branches].some(($) => $.contains(k)) || (i == null || i(N), o == null || o(N), N.defaultPrevented || a == null || a());
    }, h);
    return FW((N) => {
      b === c.layers.size - 1 && (n == null || n(N), !N.defaultPrevented && a && (N.preventDefault(), a()));
    }, h), _.useEffect(() => {
      if (d)
        return r && (c.layersWithOutsidePointerEventsDisabled.size === 0 && (PC = h.body.style.pointerEvents, h.body.style.pointerEvents = "none"), c.layersWithOutsidePointerEventsDisabled.add(d)), c.layers.add(d), OC(), () => {
          r && c.layersWithOutsidePointerEventsDisabled.size === 1 && (h.body.style.pointerEvents = PC);
        };
    }, [d, h, r, c]), _.useEffect(() => () => {
      d && (c.layers.delete(d), c.layersWithOutsidePointerEventsDisabled.delete(d), OC());
    }, [d, c]), _.useEffect(() => {
      const N = () => p({});
      return document.addEventListener(Cw, N), () => document.removeEventListener(Cw, N);
    }, []), /* @__PURE__ */ u.jsx(
      Hr.div,
      {
        ...l,
        ref: g,
        style: {
          pointerEvents: x ? S ? "auto" : "none" : void 0,
          ...e.style
        },
        onFocusCapture: Rr(e.onFocusCapture, j.onFocusCapture),
        onBlurCapture: Rr(e.onBlurCapture, j.onBlurCapture),
        onPointerDownCapture: Rr(
          e.onPointerDownCapture,
          w.onPointerDownCapture
        )
      }
    );
  }
);
NI.displayName = BW;
var qW = "DismissableLayerBranch", VW = _.forwardRef((e, t) => {
  const r = _.useContext(jI), n = _.useRef(null), s = Vn(t, n);
  return _.useEffect(() => {
    const i = n.current;
    if (i)
      return r.branches.add(i), () => {
        r.branches.delete(i);
      };
  }, [r.branches]), /* @__PURE__ */ u.jsx(Hr.div, { ...e, ref: s });
});
VW.displayName = qW;
function WW(e, t = globalThis == null ? void 0 : globalThis.document) {
  const r = zu(e), n = _.useRef(!1), s = _.useRef(() => {
  });
  return _.useEffect(() => {
    const i = (a) => {
      if (a.target && !n.current) {
        let l = function() {
          kI(
            zW,
            r,
            c,
            { discrete: !0 }
          );
        };
        const c = { originalEvent: a };
        a.pointerType === "touch" ? (t.removeEventListener("click", s.current), s.current = l, t.addEventListener("click", s.current, { once: !0 })) : l();
      } else
        t.removeEventListener("click", s.current);
      n.current = !1;
    }, o = window.setTimeout(() => {
      t.addEventListener("pointerdown", i);
    }, 0);
    return () => {
      window.clearTimeout(o), t.removeEventListener("pointerdown", i), t.removeEventListener("click", s.current);
    };
  }, [t, r]), {
    // ensures we check React component tree (not just DOM tree)
    onPointerDownCapture: () => n.current = !0
  };
}
function KW(e, t = globalThis == null ? void 0 : globalThis.document) {
  const r = zu(e), n = _.useRef(!1);
  return _.useEffect(() => {
    const s = (i) => {
      i.target && !n.current && kI(UW, r, { originalEvent: i }, {
        discrete: !1
      });
    };
    return t.addEventListener("focusin", s), () => t.removeEventListener("focusin", s);
  }, [t, r]), {
    onFocusCapture: () => n.current = !0,
    onBlurCapture: () => n.current = !1
  };
}
function OC() {
  const e = new CustomEvent(Cw);
  document.dispatchEvent(e);
}
function kI(e, t, r, { discrete: n }) {
  const s = r.originalEvent.target, i = new CustomEvent(e, { bubbles: !1, cancelable: !0, detail: r });
  t && s.addEventListener(e, t, { once: !0 }), n ? LW(s, i) : s.dispatchEvent(i);
}
var E0 = "focusScope.autoFocusOnMount", j0 = "focusScope.autoFocusOnUnmount", DC = { bubbles: !1, cancelable: !0 }, HW = "FocusScope", CI = _.forwardRef((e, t) => {
  const {
    loop: r = !1,
    trapped: n = !1,
    onMountAutoFocus: s,
    onUnmountAutoFocus: i,
    ...o
  } = e, [a, l] = _.useState(null), c = zu(s), d = zu(i), f = _.useRef(null), h = Vn(t, (m) => l(m)), p = _.useRef({
    paused: !1,
    pause() {
      this.paused = !0;
    },
    resume() {
      this.paused = !1;
    }
  }).current;
  _.useEffect(() => {
    if (n) {
      let m = function(x) {
        if (p.paused || !a) return;
        const S = x.target;
        a.contains(S) ? f.current = S : _a(f.current, { select: !0 });
      }, y = function(x) {
        if (p.paused || !a) return;
        const S = x.relatedTarget;
        S !== null && (a.contains(S) || _a(f.current, { select: !0 }));
      }, v = function(x) {
        if (document.activeElement === document.body)
          for (const w of x)
            w.removedNodes.length > 0 && _a(a);
      };
      document.addEventListener("focusin", m), document.addEventListener("focusout", y);
      const b = new MutationObserver(v);
      return a && b.observe(a, { childList: !0, subtree: !0 }), () => {
        document.removeEventListener("focusin", m), document.removeEventListener("focusout", y), b.disconnect();
      };
    }
  }, [n, a, p.paused]), _.useEffect(() => {
    if (a) {
      RC.add(p);
      const m = document.activeElement;
      if (!a.contains(m)) {
        const v = new CustomEvent(E0, DC);
        a.addEventListener(E0, c), a.dispatchEvent(v), v.defaultPrevented || (YW(QW(TI(a)), { select: !0 }), document.activeElement === m && _a(a));
      }
      return () => {
        a.removeEventListener(E0, c), setTimeout(() => {
          const v = new CustomEvent(j0, DC);
          a.addEventListener(j0, d), a.dispatchEvent(v), v.defaultPrevented || _a(m ?? document.body, { select: !0 }), a.removeEventListener(j0, d), RC.remove(p);
        }, 0);
      };
    }
  }, [a, c, d, p]);
  const g = _.useCallback(
    (m) => {
      if (!r && !n || p.paused) return;
      const y = m.key === "Tab" && !m.altKey && !m.ctrlKey && !m.metaKey, v = document.activeElement;
      if (y && v) {
        const b = m.currentTarget, [x, S] = GW(b);
        x && S ? !m.shiftKey && v === S ? (m.preventDefault(), r && _a(x, { select: !0 })) : m.shiftKey && v === x && (m.preventDefault(), r && _a(S, { select: !0 })) : v === b && m.preventDefault();
      }
    },
    [r, n, p.paused]
  );
  return /* @__PURE__ */ u.jsx(Hr.div, { tabIndex: -1, ...o, ref: h, onKeyDown: g });
});
CI.displayName = HW;
function YW(e, { select: t = !1 } = {}) {
  const r = document.activeElement;
  for (const n of e)
    if (_a(n, { select: t }), document.activeElement !== r) return;
}
function GW(e) {
  const t = TI(e), r = $C(t, e), n = $C(t.reverse(), e);
  return [r, n];
}
function TI(e) {
  const t = [], r = document.createTreeWalker(e, NodeFilter.SHOW_ELEMENT, {
    acceptNode: (n) => {
      const s = n.tagName === "INPUT" && n.type === "hidden";
      return n.disabled || n.hidden || s ? NodeFilter.FILTER_SKIP : n.tabIndex >= 0 ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP;
    }
  });
  for (; r.nextNode(); ) t.push(r.currentNode);
  return t;
}
function $C(e, t) {
  for (const r of e)
    if (!ZW(r, { upTo: t })) return r;
}
function ZW(e, { upTo: t }) {
  if (getComputedStyle(e).visibility === "hidden") return !0;
  for (; e; ) {
    if (t !== void 0 && e === t) return !1;
    if (getComputedStyle(e).display === "none") return !0;
    e = e.parentElement;
  }
  return !1;
}
function XW(e) {
  return e instanceof HTMLInputElement && "select" in e;
}
function _a(e, { select: t = !1 } = {}) {
  if (e && e.focus) {
    const r = document.activeElement;
    e.focus({ preventScroll: !0 }), e !== r && XW(e) && t && e.select();
  }
}
var RC = JW();
function JW() {
  let e = [];
  return {
    add(t) {
      const r = e[0];
      t !== r && (r == null || r.pause()), e = IC(e, t), e.unshift(t);
    },
    remove(t) {
      var r;
      e = IC(e, t), (r = e[0]) == null || r.resume();
    }
  };
}
function IC(e, t) {
  const r = [...e], n = r.indexOf(t);
  return n !== -1 && r.splice(n, 1), r;
}
function QW(e) {
  return e.filter((t) => t.tagName !== "A");
}
var eK = "Portal", AI = _.forwardRef((e, t) => {
  var a;
  const { container: r, ...n } = e, [s, i] = _.useState(!1);
  Bu(() => i(!0), []);
  const o = r || s && ((a = globalThis == null ? void 0 : globalThis.document) == null ? void 0 : a.body);
  return o ? qR.createPortal(/* @__PURE__ */ u.jsx(Hr.div, { ...n, ref: t }), o) : null;
});
AI.displayName = eK;
function tK(e, t) {
  return _.useReducer((r, n) => t[r][n] ?? r, e);
}
var ep = (e) => {
  const { present: t, children: r } = e, n = rK(t), s = typeof r == "function" ? r({ present: n.isPresent }) : _.Children.only(r), i = Vn(n.ref, nK(s));
  return typeof r == "function" || n.isPresent ? _.cloneElement(s, { ref: i }) : null;
};
ep.displayName = "Presence";
function rK(e) {
  const [t, r] = _.useState(), n = _.useRef(null), s = _.useRef(e), i = _.useRef("none"), o = e ? "mounted" : "unmounted", [a, l] = tK(o, {
    mounted: {
      UNMOUNT: "unmounted",
      ANIMATION_OUT: "unmountSuspended"
    },
    unmountSuspended: {
      MOUNT: "mounted",
      ANIMATION_END: "unmounted"
    },
    unmounted: {
      MOUNT: "mounted"
    }
  });
  return _.useEffect(() => {
    const c = nm(n.current);
    i.current = a === "mounted" ? c : "none";
  }, [a]), Bu(() => {
    const c = n.current, d = s.current;
    if (d !== e) {
      const h = i.current, p = nm(c);
      e ? l("MOUNT") : p === "none" || (c == null ? void 0 : c.display) === "none" ? l("UNMOUNT") : l(d && h !== p ? "ANIMATION_OUT" : "UNMOUNT"), s.current = e;
    }
  }, [e, l]), Bu(() => {
    if (t) {
      let c;
      const d = t.ownerDocument.defaultView ?? window, f = (p) => {
        const m = nm(n.current).includes(CSS.escape(p.animationName));
        if (p.target === t && m && (l("ANIMATION_END"), !s.current)) {
          const y = t.style.animationFillMode;
          t.style.animationFillMode = "forwards", c = d.setTimeout(() => {
            t.style.animationFillMode === "forwards" && (t.style.animationFillMode = y);
          });
        }
      }, h = (p) => {
        p.target === t && (i.current = nm(n.current));
      };
      return t.addEventListener("animationstart", h), t.addEventListener("animationcancel", f), t.addEventListener("animationend", f), () => {
        d.clearTimeout(c), t.removeEventListener("animationstart", h), t.removeEventListener("animationcancel", f), t.removeEventListener("animationend", f);
      };
    } else
      l("ANIMATION_END");
  }, [t, l]), {
    isPresent: ["mounted", "unmountSuspended"].includes(a),
    ref: _.useCallback((c) => {
      n.current = c ? getComputedStyle(c) : null, r(c);
    }, [])
  };
}
function nm(e) {
  return (e == null ? void 0 : e.animationName) || "none";
}
function nK(e) {
  var n, s;
  let t = (n = Object.getOwnPropertyDescriptor(e.props, "ref")) == null ? void 0 : n.get, r = t && "isReactWarning" in t && t.isReactWarning;
  return r ? e.ref : (t = (s = Object.getOwnPropertyDescriptor(e, "ref")) == null ? void 0 : s.get, r = t && "isReactWarning" in t && t.isReactWarning, r ? e.props.ref : e.props.ref || e.ref);
}
var N0 = 0;
function sK() {
  _.useEffect(() => {
    const e = document.querySelectorAll("[data-radix-focus-guard]");
    return document.body.insertAdjacentElement("afterbegin", e[0] ?? MC()), document.body.insertAdjacentElement("beforeend", e[1] ?? MC()), N0++, () => {
      N0 === 1 && document.querySelectorAll("[data-radix-focus-guard]").forEach((t) => t.remove()), N0--;
    };
  }, []);
}
function MC() {
  const e = document.createElement("span");
  return e.setAttribute("data-radix-focus-guard", ""), e.tabIndex = 0, e.style.outline = "none", e.style.opacity = "0", e.style.position = "fixed", e.style.pointerEvents = "none", e;
}
var hn = function() {
  return hn = Object.assign || function(t) {
    for (var r, n = 1, s = arguments.length; n < s; n++) {
      r = arguments[n];
      for (var i in r) Object.prototype.hasOwnProperty.call(r, i) && (t[i] = r[i]);
    }
    return t;
  }, hn.apply(this, arguments);
};
function CS(e, t) {
  var r = {};
  for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && t.indexOf(n) < 0 && (r[n] = e[n]);
  if (e != null && typeof Object.getOwnPropertySymbols == "function")
    for (var s = 0, n = Object.getOwnPropertySymbols(e); s < n.length; s++)
      t.indexOf(n[s]) < 0 && Object.prototype.propertyIsEnumerable.call(e, n[s]) && (r[n[s]] = e[n[s]]);
  return r;
}
function PI(e, t, r) {
  if (r || arguments.length === 2) for (var n = 0, s = t.length, i; n < s; n++)
    (i || !(n in t)) && (i || (i = Array.prototype.slice.call(t, 0, n)), i[n] = t[n]);
  return e.concat(i || Array.prototype.slice.call(t));
}
var Lf = "right-scroll-bar-position", Ff = "width-before-scroll-bar", iK = "with-scroll-bars-hidden", oK = "--removed-body-scroll-bar-size";
function k0(e, t) {
  return typeof e == "function" ? e(t) : e && (e.current = t), e;
}
function aK(e, t) {
  var r = L(function() {
    return {
      // value
      value: e,
      // last callback
      callback: t,
      // "memoized" public interface
      facade: {
        get current() {
          return r.value;
        },
        set current(n) {
          var s = r.value;
          s !== n && (r.value = n, r.callback(n, s));
        }
      }
    };
  })[0];
  return r.callback = t, r.facade;
}
var lK = typeof window < "u" ? _.useLayoutEffect : _.useEffect, LC = /* @__PURE__ */ new WeakMap();
function OI(e, t) {
  var r = aK(null, function(n) {
    return e.forEach(function(s) {
      return k0(s, n);
    });
  });
  return lK(function() {
    var n = LC.get(r);
    if (n) {
      var s = new Set(n), i = new Set(e), o = r.current;
      s.forEach(function(a) {
        i.has(a) || k0(a, null);
      }), i.forEach(function(a) {
        s.has(a) || k0(a, o);
      });
    }
    LC.set(r, e);
  }, [e]), r;
}
function cK(e) {
  return e;
}
function uK(e, t) {
  t === void 0 && (t = cK);
  var r = [], n = !1, s = {
    read: function() {
      if (n)
        throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");
      return r.length ? r[r.length - 1] : e;
    },
    useMedium: function(i) {
      var o = t(i, n);
      return r.push(o), function() {
        r = r.filter(function(a) {
          return a !== o;
        });
      };
    },
    assignSyncMedium: function(i) {
      for (n = !0; r.length; ) {
        var o = r;
        r = [], o.forEach(i);
      }
      r = {
        push: function(a) {
          return i(a);
        },
        filter: function() {
          return r;
        }
      };
    },
    assignMedium: function(i) {
      n = !0;
      var o = [];
      if (r.length) {
        var a = r;
        r = [], a.forEach(i), o = r;
      }
      var l = function() {
        var d = o;
        o = [], d.forEach(i);
      }, c = function() {
        return Promise.resolve().then(l);
      };
      c(), r = {
        push: function(d) {
          o.push(d), c();
        },
        filter: function(d) {
          return o = o.filter(d), r;
        }
      };
    }
  };
  return s;
}
function DI(e) {
  e === void 0 && (e = {});
  var t = uK(null);
  return t.options = hn({ async: !0, ssr: !1 }, e), t;
}
var $I = function(e) {
  var t = e.sideCar, r = CS(e, ["sideCar"]);
  if (!t)
    throw new Error("Sidecar: please provide `sideCar` property to import the right car");
  var n = t.read();
  if (!n)
    throw new Error("Sidecar medium not found");
  return _.createElement(n, hn({}, r));
};
$I.isSideCarExport = !0;
function RI(e, t) {
  return e.useMedium(t), $I;
}
var II = DI(), C0 = function() {
}, uv = _.forwardRef(function(e, t) {
  var r = _.useRef(null), n = _.useState({
    onScrollCapture: C0,
    onWheelCapture: C0,
    onTouchMoveCapture: C0
  }), s = n[0], i = n[1], o = e.forwardProps, a = e.children, l = e.className, c = e.removeScrollBar, d = e.enabled, f = e.shards, h = e.sideCar, p = e.noRelative, g = e.noIsolation, m = e.inert, y = e.allowPinchZoom, v = e.as, b = v === void 0 ? "div" : v, x = e.gapMode, S = CS(e, ["forwardProps", "children", "className", "removeScrollBar", "enabled", "shards", "sideCar", "noRelative", "noIsolation", "inert", "allowPinchZoom", "as", "gapMode"]), w = h, j = OI([r, t]), N = hn(hn({}, S), s);
  return _.createElement(
    _.Fragment,
    null,
    d && _.createElement(w, { sideCar: II, removeScrollBar: c, shards: f, noRelative: p, noIsolation: g, inert: m, setCallbacks: i, allowPinchZoom: !!y, lockRef: r, gapMode: x }),
    o ? _.cloneElement(_.Children.only(a), hn(hn({}, N), { ref: j })) : _.createElement(b, hn({}, N, { className: l, ref: j }), a)
  );
});
uv.defaultProps = {
  enabled: !0,
  removeScrollBar: !0,
  inert: !1
};
uv.classNames = {
  fullWidth: Ff,
  zeroRight: Lf
};
var dK = function() {
  if (typeof __webpack_nonce__ < "u")
    return __webpack_nonce__;
};
function fK() {
  if (!document)
    return null;
  var e = document.createElement("style");
  e.type = "text/css";
  var t = dK();
  return t && e.setAttribute("nonce", t), e;
}
function hK(e, t) {
  e.styleSheet ? e.styleSheet.cssText = t : e.appendChild(document.createTextNode(t));
}
function pK(e) {
  var t = document.head || document.getElementsByTagName("head")[0];
  t.appendChild(e);
}
var mK = function() {
  var e = 0, t = null;
  return {
    add: function(r) {
      e == 0 && (t = fK()) && (hK(t, r), pK(t)), e++;
    },
    remove: function() {
      e--, !e && t && (t.parentNode && t.parentNode.removeChild(t), t = null);
    }
  };
}, gK = function() {
  var e = mK();
  return function(t, r) {
    _.useEffect(function() {
      return e.add(t), function() {
        e.remove();
      };
    }, [t && r]);
  };
}, TS = function() {
  var e = gK(), t = function(r) {
    var n = r.styles, s = r.dynamic;
    return e(n, s), null;
  };
  return t;
}, yK = {
  left: 0,
  top: 0,
  right: 0,
  gap: 0
}, T0 = function(e) {
  return parseInt(e || "", 10) || 0;
}, vK = function(e) {
  var t = window.getComputedStyle(document.body), r = t[e === "padding" ? "paddingLeft" : "marginLeft"], n = t[e === "padding" ? "paddingTop" : "marginTop"], s = t[e === "padding" ? "paddingRight" : "marginRight"];
  return [T0(r), T0(n), T0(s)];
}, bK = function(e) {
  if (e === void 0 && (e = "margin"), typeof window > "u")
    return yK;
  var t = vK(e), r = document.documentElement.clientWidth, n = window.innerWidth;
  return {
    left: t[0],
    top: t[1],
    right: t[2],
    gap: Math.max(0, n - r + t[2] - t[0])
  };
}, xK = TS(), vu = "data-scroll-locked", wK = function(e, t, r, n) {
  var s = e.left, i = e.top, o = e.right, a = e.gap;
  return r === void 0 && (r = "margin"), `
  .`.concat(iK, ` {
   overflow: hidden `).concat(n, `;
   padding-right: `).concat(a, "px ").concat(n, `;
  }
  body[`).concat(vu, `] {
    overflow: hidden `).concat(n, `;
    overscroll-behavior: contain;
    `).concat([
    t && "position: relative ".concat(n, ";"),
    r === "margin" && `
    padding-left: `.concat(s, `px;
    padding-top: `).concat(i, `px;
    padding-right: `).concat(o, `px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a, "px ").concat(n, `;
    `),
    r === "padding" && "padding-right: ".concat(a, "px ").concat(n, ";")
  ].filter(Boolean).join(""), `
  }
  
  .`).concat(Lf, ` {
    right: `).concat(a, "px ").concat(n, `;
  }
  
  .`).concat(Ff, ` {
    margin-right: `).concat(a, "px ").concat(n, `;
  }
  
  .`).concat(Lf, " .").concat(Lf, ` {
    right: 0 `).concat(n, `;
  }
  
  .`).concat(Ff, " .").concat(Ff, ` {
    margin-right: 0 `).concat(n, `;
  }
  
  body[`).concat(vu, `] {
    `).concat(oK, ": ").concat(a, `px;
  }
`);
}, FC = function() {
  var e = parseInt(document.body.getAttribute(vu) || "0", 10);
  return isFinite(e) ? e : 0;
}, _K = function() {
  _.useEffect(function() {
    return document.body.setAttribute(vu, (FC() + 1).toString()), function() {
      var e = FC() - 1;
      e <= 0 ? document.body.removeAttribute(vu) : document.body.setAttribute(vu, e.toString());
    };
  }, []);
}, MI = function(e) {
  var t = e.noRelative, r = e.noImportant, n = e.gapMode, s = n === void 0 ? "margin" : n;
  _K();
  var i = _.useMemo(function() {
    return bK(s);
  }, [s]);
  return _.createElement(xK, { styles: wK(i, !t, s, r ? "" : "!important") });
}, Tw = !1;
if (typeof window < "u")
  try {
    var sm = Object.defineProperty({}, "passive", {
      get: function() {
        return Tw = !0, !0;
      }
    });
    window.addEventListener("test", sm, sm), window.removeEventListener("test", sm, sm);
  } catch {
    Tw = !1;
  }
var zc = Tw ? { passive: !1 } : !1, SK = function(e) {
  return e.tagName === "TEXTAREA";
}, LI = function(e, t) {
  if (!(e instanceof Element))
    return !1;
  var r = window.getComputedStyle(e);
  return (
    // not-not-scrollable
    r[t] !== "hidden" && // contains scroll inside self
    !(r.overflowY === r.overflowX && !SK(e) && r[t] === "visible")
  );
}, EK = function(e) {
  return LI(e, "overflowY");
}, jK = function(e) {
  return LI(e, "overflowX");
}, BC = function(e, t) {
  var r = t.ownerDocument, n = t;
  do {
    typeof ShadowRoot < "u" && n instanceof ShadowRoot && (n = n.host);
    var s = FI(e, n);
    if (s) {
      var i = BI(e, n), o = i[1], a = i[2];
      if (o > a)
        return !0;
    }
    n = n.parentNode;
  } while (n && n !== r.body);
  return !1;
}, NK = function(e) {
  var t = e.scrollTop, r = e.scrollHeight, n = e.clientHeight;
  return [
    t,
    r,
    n
  ];
}, kK = function(e) {
  var t = e.scrollLeft, r = e.scrollWidth, n = e.clientWidth;
  return [
    t,
    r,
    n
  ];
}, FI = function(e, t) {
  return e === "v" ? EK(t) : jK(t);
}, BI = function(e, t) {
  return e === "v" ? NK(t) : kK(t);
}, CK = function(e, t) {
  return e === "h" && t === "rtl" ? -1 : 1;
}, TK = function(e, t, r, n, s) {
  var i = CK(e, window.getComputedStyle(t).direction), o = i * n, a = r.target, l = t.contains(a), c = !1, d = o > 0, f = 0, h = 0;
  do {
    if (!a)
      break;
    var p = BI(e, a), g = p[0], m = p[1], y = p[2], v = m - y - i * g;
    (g || v) && FI(e, a) && (f += v, h += g);
    var b = a.parentNode;
    a = b && b.nodeType === Node.DOCUMENT_FRAGMENT_NODE ? b.host : b;
  } while (
    // portaled content
    !l && a !== document.body || // self content
    l && (t.contains(a) || t === a)
  );
  return (d && Math.abs(f) < 1 || !d && Math.abs(h) < 1) && (c = !0), c;
}, im = function(e) {
  return "changedTouches" in e ? [e.changedTouches[0].clientX, e.changedTouches[0].clientY] : [0, 0];
}, zC = function(e) {
  return [e.deltaX, e.deltaY];
}, UC = function(e) {
  return e && "current" in e ? e.current : e;
}, AK = function(e, t) {
  return e[0] === t[0] && e[1] === t[1];
}, PK = function(e) {
  return `
  .block-interactivity-`.concat(e, ` {pointer-events: none;}
  .allow-interactivity-`).concat(e, ` {pointer-events: all;}
`);
}, OK = 0, Uc = [];
function DK(e) {
  var t = _.useRef([]), r = _.useRef([0, 0]), n = _.useRef(), s = _.useState(OK++)[0], i = _.useState(TS)[0], o = _.useRef(e);
  _.useEffect(function() {
    o.current = e;
  }, [e]), _.useEffect(function() {
    if (e.inert) {
      document.body.classList.add("block-interactivity-".concat(s));
      var m = PI([e.lockRef.current], (e.shards || []).map(UC), !0).filter(Boolean);
      return m.forEach(function(y) {
        return y.classList.add("allow-interactivity-".concat(s));
      }), function() {
        document.body.classList.remove("block-interactivity-".concat(s)), m.forEach(function(y) {
          return y.classList.remove("allow-interactivity-".concat(s));
        });
      };
    }
  }, [e.inert, e.lockRef.current, e.shards]);
  var a = _.useCallback(function(m, y) {
    if ("touches" in m && m.touches.length === 2 || m.type === "wheel" && m.ctrlKey)
      return !o.current.allowPinchZoom;
    var v = im(m), b = r.current, x = "deltaX" in m ? m.deltaX : b[0] - v[0], S = "deltaY" in m ? m.deltaY : b[1] - v[1], w, j = m.target, N = Math.abs(x) > Math.abs(S) ? "h" : "v";
    if ("touches" in m && N === "h" && j.type === "range")
      return !1;
    var k = BC(N, j);
    if (!k)
      return !0;
    if (k ? w = N : (w = N === "v" ? "h" : "v", k = BC(N, j)), !k)
      return !1;
    if (!n.current && "changedTouches" in m && (x || S) && (n.current = w), !w)
      return !0;
    var C = n.current || w;
    return TK(C, y, m, C === "h" ? x : S);
  }, []), l = _.useCallback(function(m) {
    var y = m;
    if (!(!Uc.length || Uc[Uc.length - 1] !== i)) {
      var v = "deltaY" in y ? zC(y) : im(y), b = t.current.filter(function(w) {
        return w.name === y.type && (w.target === y.target || y.target === w.shadowParent) && AK(w.delta, v);
      })[0];
      if (b && b.should) {
        y.cancelable && y.preventDefault();
        return;
      }
      if (!b) {
        var x = (o.current.shards || []).map(UC).filter(Boolean).filter(function(w) {
          return w.contains(y.target);
        }), S = x.length > 0 ? a(y, x[0]) : !o.current.noIsolation;
        S && y.cancelable && y.preventDefault();
      }
    }
  }, []), c = _.useCallback(function(m, y, v, b) {
    var x = { name: m, delta: y, target: v, should: b, shadowParent: $K(v) };
    t.current.push(x), setTimeout(function() {
      t.current = t.current.filter(function(S) {
        return S !== x;
      });
    }, 1);
  }, []), d = _.useCallback(function(m) {
    r.current = im(m), n.current = void 0;
  }, []), f = _.useCallback(function(m) {
    c(m.type, zC(m), m.target, a(m, e.lockRef.current));
  }, []), h = _.useCallback(function(m) {
    c(m.type, im(m), m.target, a(m, e.lockRef.current));
  }, []);
  _.useEffect(function() {
    return Uc.push(i), e.setCallbacks({
      onScrollCapture: f,
      onWheelCapture: f,
      onTouchMoveCapture: h
    }), document.addEventListener("wheel", l, zc), document.addEventListener("touchmove", l, zc), document.addEventListener("touchstart", d, zc), function() {
      Uc = Uc.filter(function(m) {
        return m !== i;
      }), document.removeEventListener("wheel", l, zc), document.removeEventListener("touchmove", l, zc), document.removeEventListener("touchstart", d, zc);
    };
  }, []);
  var p = e.removeScrollBar, g = e.inert;
  return _.createElement(
    _.Fragment,
    null,
    g ? _.createElement(i, { styles: PK(s) }) : null,
    p ? _.createElement(MI, { noRelative: e.noRelative, gapMode: e.gapMode }) : null
  );
}
function $K(e) {
  for (var t = null; e !== null; )
    e instanceof ShadowRoot && (t = e.host, e = e.host), e = e.parentNode;
  return t;
}
const RK = RI(II, DK);
var zI = _.forwardRef(function(e, t) {
  return _.createElement(uv, hn({}, e, { ref: t, sideCar: RK }));
});
zI.classNames = uv.classNames;
var IK = function(e) {
  if (typeof document > "u")
    return null;
  var t = Array.isArray(e) ? e[0] : e;
  return t.ownerDocument.body;
}, qc = /* @__PURE__ */ new WeakMap(), om = /* @__PURE__ */ new WeakMap(), am = {}, A0 = 0, UI = function(e) {
  return e && (e.host || UI(e.parentNode));
}, MK = function(e, t) {
  return t.map(function(r) {
    if (e.contains(r))
      return r;
    var n = UI(r);
    return n && e.contains(n) ? n : (console.error("aria-hidden", r, "in not contained inside", e, ". Doing nothing"), null);
  }).filter(function(r) {
    return !!r;
  });
}, LK = function(e, t, r, n) {
  var s = MK(t, Array.isArray(e) ? e : [e]);
  am[r] || (am[r] = /* @__PURE__ */ new WeakMap());
  var i = am[r], o = [], a = /* @__PURE__ */ new Set(), l = new Set(s), c = function(f) {
    !f || a.has(f) || (a.add(f), c(f.parentNode));
  };
  s.forEach(c);
  var d = function(f) {
    !f || l.has(f) || Array.prototype.forEach.call(f.children, function(h) {
      if (a.has(h))
        d(h);
      else
        try {
          var p = h.getAttribute(n), g = p !== null && p !== "false", m = (qc.get(h) || 0) + 1, y = (i.get(h) || 0) + 1;
          qc.set(h, m), i.set(h, y), o.push(h), m === 1 && g && om.set(h, !0), y === 1 && h.setAttribute(r, "true"), g || h.setAttribute(n, "true");
        } catch (v) {
          console.error("aria-hidden: cannot operate on ", h, v);
        }
    });
  };
  return d(t), a.clear(), A0++, function() {
    o.forEach(function(f) {
      var h = qc.get(f) - 1, p = i.get(f) - 1;
      qc.set(f, h), i.set(f, p), h || (om.has(f) || f.removeAttribute(n), om.delete(f)), p || f.removeAttribute(r);
    }), A0--, A0 || (qc = /* @__PURE__ */ new WeakMap(), qc = /* @__PURE__ */ new WeakMap(), om = /* @__PURE__ */ new WeakMap(), am = {});
  };
}, qI = function(e, t, r) {
  r === void 0 && (r = "data-aria-hidden");
  var n = Array.from(Array.isArray(e) ? e : [e]), s = IK(e);
  return s ? (n.push.apply(n, Array.from(s.querySelectorAll("[aria-live], script"))), LK(n, s, r, "aria-hidden")) : function() {
    return null;
  };
}, dv = "Dialog", [VI, WI] = pd(dv), [FK, xi] = VI(dv), KI = (e) => {
  const {
    __scopeDialog: t,
    children: r,
    open: n,
    defaultOpen: s,
    onOpenChange: i,
    modal: o = !0
  } = e, a = _.useRef(null), l = _.useRef(null), [c, d] = cv({
    prop: n,
    defaultProp: s ?? !1,
    onChange: i,
    caller: dv
  });
  return /* @__PURE__ */ u.jsx(
    FK,
    {
      scope: t,
      triggerRef: a,
      contentRef: l,
      contentId: Mf(),
      titleId: Mf(),
      descriptionId: Mf(),
      open: c,
      onOpenChange: d,
      onOpenToggle: _.useCallback(() => d((f) => !f), [d]),
      modal: o,
      children: r
    }
  );
};
KI.displayName = dv;
var HI = "DialogTrigger", YI = _.forwardRef(
  (e, t) => {
    const { __scopeDialog: r, ...n } = e, s = xi(HI, r), i = Vn(t, s.triggerRef);
    return /* @__PURE__ */ u.jsx(
      Hr.button,
      {
        type: "button",
        "aria-haspopup": "dialog",
        "aria-expanded": s.open,
        "aria-controls": s.contentId,
        "data-state": OS(s.open),
        ...n,
        ref: i,
        onClick: Rr(e.onClick, s.onOpenToggle)
      }
    );
  }
);
YI.displayName = HI;
var AS = "DialogPortal", [BK, GI] = VI(AS, {
  forceMount: void 0
}), ZI = (e) => {
  const { __scopeDialog: t, forceMount: r, children: n, container: s } = e, i = xi(AS, t);
  return /* @__PURE__ */ u.jsx(BK, { scope: t, forceMount: r, children: _.Children.map(n, (o) => /* @__PURE__ */ u.jsx(ep, { present: r || i.open, children: /* @__PURE__ */ u.jsx(AI, { asChild: !0, container: s, children: o }) })) });
};
ZI.displayName = AS;
var Ng = "DialogOverlay", XI = _.forwardRef(
  (e, t) => {
    const r = GI(Ng, e.__scopeDialog), { forceMount: n = r.forceMount, ...s } = e, i = xi(Ng, e.__scopeDialog);
    return i.modal ? /* @__PURE__ */ u.jsx(ep, { present: n || i.open, children: /* @__PURE__ */ u.jsx(UK, { ...s, ref: t }) }) : null;
  }
);
XI.displayName = Ng;
var zK = /* @__PURE__ */ oh("DialogOverlay.RemoveScroll"), UK = _.forwardRef(
  (e, t) => {
    const { __scopeDialog: r, ...n } = e, s = xi(Ng, r);
    return (
      // Make sure `Content` is scrollable even when it doesn't live inside `RemoveScroll`
      // ie. when `Overlay` and `Content` are siblings
      /* @__PURE__ */ u.jsx(zI, { as: zK, allowPinchZoom: !0, shards: [s.contentRef], children: /* @__PURE__ */ u.jsx(
        Hr.div,
        {
          "data-state": OS(s.open),
          ...n,
          ref: t,
          style: { pointerEvents: "auto", ...n.style }
        }
      ) })
    );
  }
), sc = "DialogContent", JI = _.forwardRef(
  (e, t) => {
    const r = GI(sc, e.__scopeDialog), { forceMount: n = r.forceMount, ...s } = e, i = xi(sc, e.__scopeDialog);
    return /* @__PURE__ */ u.jsx(ep, { present: n || i.open, children: i.modal ? /* @__PURE__ */ u.jsx(qK, { ...s, ref: t }) : /* @__PURE__ */ u.jsx(VK, { ...s, ref: t }) });
  }
);
JI.displayName = sc;
var qK = _.forwardRef(
  (e, t) => {
    const r = xi(sc, e.__scopeDialog), n = _.useRef(null), s = Vn(t, r.contentRef, n);
    return _.useEffect(() => {
      const i = n.current;
      if (i) return qI(i);
    }, []), /* @__PURE__ */ u.jsx(
      QI,
      {
        ...e,
        ref: s,
        trapFocus: r.open,
        disableOutsidePointerEvents: !0,
        onCloseAutoFocus: Rr(e.onCloseAutoFocus, (i) => {
          var o;
          i.preventDefault(), (o = r.triggerRef.current) == null || o.focus();
        }),
        onPointerDownOutside: Rr(e.onPointerDownOutside, (i) => {
          const o = i.detail.originalEvent, a = o.button === 0 && o.ctrlKey === !0;
          (o.button === 2 || a) && i.preventDefault();
        }),
        onFocusOutside: Rr(
          e.onFocusOutside,
          (i) => i.preventDefault()
        )
      }
    );
  }
), VK = _.forwardRef(
  (e, t) => {
    const r = xi(sc, e.__scopeDialog), n = _.useRef(!1), s = _.useRef(!1);
    return /* @__PURE__ */ u.jsx(
      QI,
      {
        ...e,
        ref: t,
        trapFocus: !1,
        disableOutsidePointerEvents: !1,
        onCloseAutoFocus: (i) => {
          var o, a;
          (o = e.onCloseAutoFocus) == null || o.call(e, i), i.defaultPrevented || (n.current || (a = r.triggerRef.current) == null || a.focus(), i.preventDefault()), n.current = !1, s.current = !1;
        },
        onInteractOutside: (i) => {
          var l, c;
          (l = e.onInteractOutside) == null || l.call(e, i), i.defaultPrevented || (n.current = !0, i.detail.originalEvent.type === "pointerdown" && (s.current = !0));
          const o = i.target;
          ((c = r.triggerRef.current) == null ? void 0 : c.contains(o)) && i.preventDefault(), i.detail.originalEvent.type === "focusin" && s.current && i.preventDefault();
        }
      }
    );
  }
), QI = _.forwardRef(
  (e, t) => {
    const { __scopeDialog: r, trapFocus: n, onOpenAutoFocus: s, onCloseAutoFocus: i, ...o } = e, a = xi(sc, r), l = _.useRef(null), c = Vn(t, l);
    return sK(), /* @__PURE__ */ u.jsxs(u.Fragment, { children: [
      /* @__PURE__ */ u.jsx(
        CI,
        {
          asChild: !0,
          loop: !0,
          trapped: n,
          onMountAutoFocus: s,
          onUnmountAutoFocus: i,
          children: /* @__PURE__ */ u.jsx(
            NI,
            {
              role: "dialog",
              id: a.contentId,
              "aria-describedby": a.descriptionId,
              "aria-labelledby": a.titleId,
              "data-state": OS(a.open),
              ...o,
              ref: c,
              onDismiss: () => a.onOpenChange(!1)
            }
          )
        }
      ),
      /* @__PURE__ */ u.jsxs(u.Fragment, { children: [
        /* @__PURE__ */ u.jsx(KK, { titleId: a.titleId }),
        /* @__PURE__ */ u.jsx(YK, { contentRef: l, descriptionId: a.descriptionId })
      ] })
    ] });
  }
), PS = "DialogTitle", eM = _.forwardRef(
  (e, t) => {
    const { __scopeDialog: r, ...n } = e, s = xi(PS, r);
    return /* @__PURE__ */ u.jsx(Hr.h2, { id: s.titleId, ...n, ref: t });
  }
);
eM.displayName = PS;
var tM = "DialogDescription", rM = _.forwardRef(
  (e, t) => {
    const { __scopeDialog: r, ...n } = e, s = xi(tM, r);
    return /* @__PURE__ */ u.jsx(Hr.p, { id: s.descriptionId, ...n, ref: t });
  }
);
rM.displayName = tM;
var nM = "DialogClose", sM = _.forwardRef(
  (e, t) => {
    const { __scopeDialog: r, ...n } = e, s = xi(nM, r);
    return /* @__PURE__ */ u.jsx(
      Hr.button,
      {
        type: "button",
        ...n,
        ref: t,
        onClick: Rr(e.onClick, () => s.onOpenChange(!1))
      }
    );
  }
);
sM.displayName = nM;
function OS(e) {
  return e ? "open" : "closed";
}
var iM = "DialogTitleWarning", [WK, oM] = AW(iM, {
  contentName: sc,
  titleName: PS,
  docsSlug: "dialog"
}), KK = ({ titleId: e }) => {
  const t = oM(iM), r = `\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;
  return _.useEffect(() => {
    e && (document.getElementById(e) || console.error(r));
  }, [r, e]), null;
}, HK = "DialogDescriptionWarning", YK = ({ contentRef: e, descriptionId: t }) => {
  const n = `Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${oM(HK).contentName}}.`;
  return _.useEffect(() => {
    var i;
    const s = (i = e.current) == null ? void 0 : i.getAttribute("aria-describedby");
    t && s && (document.getElementById(t) || console.warn(n));
  }, [n, e, t]), null;
}, aM = KI, lM = YI, cM = ZI, DS = XI, $S = JI, RS = eM, IS = rM, fv = sM, uM = "AlertDialog", [GK, p$e] = pd(uM, [
  WI
]), Qo = WI(), dM = (e) => {
  const { __scopeAlertDialog: t, ...r } = e, n = Qo(t);
  return /* @__PURE__ */ u.jsx(aM, { ...n, ...r, modal: !0 });
};
dM.displayName = uM;
var ZK = "AlertDialogTrigger", fM = _.forwardRef(
  (e, t) => {
    const { __scopeAlertDialog: r, ...n } = e, s = Qo(r);
    return /* @__PURE__ */ u.jsx(lM, { ...s, ...n, ref: t });
  }
);
fM.displayName = ZK;
var XK = "AlertDialogPortal", hM = (e) => {
  const { __scopeAlertDialog: t, ...r } = e, n = Qo(t);
  return /* @__PURE__ */ u.jsx(cM, { ...n, ...r });
};
hM.displayName = XK;
var JK = "AlertDialogOverlay", pM = _.forwardRef(
  (e, t) => {
    const { __scopeAlertDialog: r, ...n } = e, s = Qo(r);
    return /* @__PURE__ */ u.jsx(DS, { ...s, ...n, ref: t });
  }
);
pM.displayName = JK;
var bu = "AlertDialogContent", [QK, eH] = GK(bu), tH = /* @__PURE__ */ D9("AlertDialogContent"), mM = _.forwardRef(
  (e, t) => {
    const { __scopeAlertDialog: r, children: n, ...s } = e, i = Qo(r), o = _.useRef(null), a = Vn(t, o), l = _.useRef(null);
    return /* @__PURE__ */ u.jsx(
      WK,
      {
        contentName: bu,
        titleName: gM,
        docsSlug: "alert-dialog",
        children: /* @__PURE__ */ u.jsx(QK, { scope: r, cancelRef: l, children: /* @__PURE__ */ u.jsxs(
          $S,
          {
            role: "alertdialog",
            ...i,
            ...s,
            ref: a,
            onOpenAutoFocus: Rr(s.onOpenAutoFocus, (c) => {
              var d;
              c.preventDefault(), (d = l.current) == null || d.focus({ preventScroll: !0 });
            }),
            onPointerDownOutside: (c) => c.preventDefault(),
            onInteractOutside: (c) => c.preventDefault(),
            children: [
              /* @__PURE__ */ u.jsx(tH, { children: n }),
              /* @__PURE__ */ u.jsx(nH, { contentRef: o })
            ]
          }
        ) })
      }
    );
  }
);
mM.displayName = bu;
var gM = "AlertDialogTitle", yM = _.forwardRef(
  (e, t) => {
    const { __scopeAlertDialog: r, ...n } = e, s = Qo(r);
    return /* @__PURE__ */ u.jsx(RS, { ...s, ...n, ref: t });
  }
);
yM.displayName = gM;
var vM = "AlertDialogDescription", bM = _.forwardRef((e, t) => {
  const { __scopeAlertDialog: r, ...n } = e, s = Qo(r);
  return /* @__PURE__ */ u.jsx(IS, { ...s, ...n, ref: t });
});
bM.displayName = vM;
var rH = "AlertDialogAction", xM = _.forwardRef(
  (e, t) => {
    const { __scopeAlertDialog: r, ...n } = e, s = Qo(r);
    return /* @__PURE__ */ u.jsx(fv, { ...s, ...n, ref: t });
  }
);
xM.displayName = rH;
var wM = "AlertDialogCancel", _M = _.forwardRef(
  (e, t) => {
    const { __scopeAlertDialog: r, ...n } = e, { cancelRef: s } = eH(wM, r), i = Qo(r), o = Vn(t, s);
    return /* @__PURE__ */ u.jsx(fv, { ...i, ...n, ref: o });
  }
);
_M.displayName = wM;
var nH = ({ contentRef: e }) => {
  const t = `\`${bu}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${bu}\` by passing a \`${vM}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${bu}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;
  return _.useEffect(() => {
    var n;
    document.getElementById(
      (n = e.current) == null ? void 0 : n.getAttribute("aria-describedby")
    ) || console.warn(t);
  }, [t, e]), null;
}, sH = dM, iH = fM, oH = hM, SM = pM, EM = mM, jM = xM, NM = _M, kM = yM, CM = bM;
const aH = sH, m$e = iH, lH = oH, TM = _.forwardRef(({ className: e, ...t }, r) => u.jsx(SM, { className: Ze("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0", e), ...t, ref: r }));
TM.displayName = SM.displayName;
const AM = _.forwardRef(({ className: e, ...t }, r) => u.jsxs(lH, { children: [u.jsx(TM, {}), u.jsx(EM, { ref: r, className: Ze("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg", e), ...t })] }));
AM.displayName = EM.displayName;
const PM = ({ className: e, ...t }) => u.jsx("div", { className: Ze("flex flex-col space-y-2 text-center sm:text-left", e), ...t });
PM.displayName = "AlertDialogHeader";
const OM = ({ className: e, ...t }) => u.jsx("div", { className: Ze("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2", e), ...t });
OM.displayName = "AlertDialogFooter";
const DM = _.forwardRef(({ className: e, ...t }, r) => u.jsx(kM, { ref: r, className: Ze("text-lg font-semibold", e), ...t }));
DM.displayName = kM.displayName;
const $M = _.forwardRef(({ className: e, ...t }, r) => u.jsx(CM, { ref: r, className: Ze("text-sm text-muted-foreground", e), ...t }));
$M.displayName = CM.displayName;
const RM = _.forwardRef(({ className: e, ...t }, r) => u.jsx(jM, { ref: r, className: Ze("inline-flex h-10 items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground ring-offset-background transition-colors hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50", e), ...t }));
RM.displayName = jM.displayName;
const IM = _.forwardRef(({ className: e, ...t }, r) => u.jsx(NM, { ref: r, className: Ze("inline-flex h-10 items-center justify-center rounded-md border border-input bg-background px-4 py-2 text-sm font-medium ring-offset-background transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=open]:bg-slate-100 data-[state=open]:text-slate-500", "sm:mt-0", e), ...t }));
IM.displayName = NM.displayName;
function g$e({ open: e, onOpenChange: t, onConfirm: r, title: n, description: s, confirmText: i = "Confirm", cancelText: o = "Cancel" }) {
  return u.jsx(aH, { open: e, onOpenChange: t, children: u.jsxs(AM, { children: [u.jsxs(PM, { children: [u.jsx(DM, { children: n }), u.jsx($M, { children: s })] }), u.jsxs(OM, { children: [u.jsx(IM, { children: o }), u.jsx(RM, { asChild: !0, children: u.jsx(dt, { variant: "destructive", onClick: r, children: i }) })] })] }) });
}
const cH = "", uH = "";
console.error("Missing Supabase environment variables. Please check your .env file.");
const qC = yI(cH, uH, {
  auth: {
    autoRefreshToken: !0,
    persistSession: !0,
    detectSessionInUrl: !0
  }
}), y$e = ({ folder: e, onUpload: t, onError: r, onStart: n, children: s, accept: i = "image/png, image/jpeg, image/jpg, image/gif, image/webp", maxSizeMB: o = 5 }) => {
  const [a, l] = L(!1), [c, d] = L(!1), f = We(null), h = (b) => {
    b.preventDefault(), b.stopPropagation(), a || l(!0);
  }, p = (b) => {
    b.preventDefault(), b.stopPropagation(), l(!1);
  }, g = (b) => {
    if (b.preventDefault(), b.stopPropagation(), l(!1), b.dataTransfer.files && b.dataTransfer.files.length > 0) {
      const x = b.dataTransfer.files[0];
      v(x);
    }
  }, m = () => {
    var b;
    (b = f.current) == null || b.click();
  }, y = (b) => {
    if (b.target.files && b.target.files.length > 0) {
      const x = b.target.files[0];
      v(x);
    }
  }, v = async (b) => {
    if (!b.type.match("image.*")) {
      r("Only image files are allowed");
      return;
    }
    if (b.size > o * 1024 * 1024) {
      r(`File size must be less than ${o}MB`);
      return;
    }
    try {
      n == null || n(), d(!0);
      const x = b.name.split(".").pop(), S = `${Math.random().toString(36).substring(2)}.${x}`, w = `${e}/${S}`, { error: j } = await qC.storage.from("timeline").upload(w, b, {
        cacheControl: "3600",
        upsert: !1
      });
      if (j)
        throw j;
      const { data: { publicUrl: N } } = qC.storage.from("timeline").getPublicUrl(w);
      t(N);
    } catch (x) {
      console.error("Error uploading file:", x), r(x instanceof Error ? x.message : "Failed to upload image");
    } finally {
      d(!1);
    }
  };
  return ve(() => () => {
    f.current && (f.current.value = "");
  }, []), u.jsxs("div", { onClick: m, onDragOver: h, onDragLeave: p, onDrop: g, className: `relative ${c ? "opacity-50 pointer-events-none" : ""} ${a ? "ring-2 ring-primary ring-offset-2" : ""}`, children: [u.jsx("input", { type: "file", ref: f, onChange: y, className: "hidden", accept: i }), s] });
};
/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
function Kr(e, t) {
  if (e === !1 || e === null || typeof e > "u")
    throw new Error(t);
}
function hi(e, t) {
  if (!e) {
    typeof console < "u" && console.warn(t);
    try {
      throw new Error(t);
    } catch {
    }
  }
}
function Aw({
  pathname: e = "/",
  search: t = "",
  hash: r = ""
}) {
  return t && t !== "?" && (e += t.charAt(0) === "?" ? t : "?" + t), r && r !== "#" && (e += r.charAt(0) === "#" ? r : "#" + r), e;
}
function MS(e) {
  let t = {};
  if (e) {
    let r = e.indexOf("#");
    r >= 0 && (t.hash = e.substring(r), e = e.substring(0, r));
    let n = e.indexOf("?");
    n >= 0 && (t.search = e.substring(n), e = e.substring(0, n)), e && (t.pathname = e);
  }
  return t;
}
function MM(e, t, r = "/") {
  return dH(e, t, r, !1);
}
function dH(e, t, r, n) {
  let s = typeof t == "string" ? MS(t) : t, i = Ha(s.pathname || "/", r);
  if (i == null)
    return null;
  let o = LM(e);
  fH(o);
  let a = null;
  for (let l = 0; a == null && l < o.length; ++l) {
    let c = SH(i);
    a = wH(
      o[l],
      c,
      n
    );
  }
  return a;
}
function LM(e, t = [], r = [], n = "", s = !1) {
  let i = (o, a, l = s, c) => {
    let d = {
      relativePath: c === void 0 ? o.path || "" : c,
      caseSensitive: o.caseSensitive === !0,
      childrenIndex: a,
      route: o
    };
    if (d.relativePath.startsWith("/")) {
      if (!d.relativePath.startsWith(n) && l)
        return;
      Kr(
        d.relativePath.startsWith(n),
        `Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`
      ), d.relativePath = d.relativePath.slice(n.length);
    }
    let f = Oo([n, d.relativePath]), h = r.concat(d);
    o.children && o.children.length > 0 && (Kr(
      // Our types know better, but runtime JS may not!
      // @ts-expect-error
      o.index !== !0,
      `Index routes must not have child routes. Please remove all child routes from route path "${f}".`
    ), LM(
      o.children,
      t,
      h,
      f,
      l
    )), !(o.path == null && !o.index) && t.push({
      path: f,
      score: bH(f, o.index),
      routesMeta: h
    });
  };
  return e.forEach((o, a) => {
    var l;
    if (o.path === "" || !((l = o.path) != null && l.includes("?")))
      i(o, a);
    else
      for (let c of FM(o.path))
        i(o, a, !0, c);
  }), t;
}
function FM(e) {
  let t = e.split("/");
  if (t.length === 0) return [];
  let [r, ...n] = t, s = r.endsWith("?"), i = r.replace(/\?$/, "");
  if (n.length === 0)
    return s ? [i, ""] : [i];
  let o = FM(n.join("/")), a = [];
  return a.push(
    ...o.map(
      (l) => l === "" ? i : [i, l].join("/")
    )
  ), s && a.push(...o), a.map(
    (l) => e.startsWith("/") && l === "" ? "/" : l
  );
}
function fH(e) {
  e.sort(
    (t, r) => t.score !== r.score ? r.score - t.score : xH(
      t.routesMeta.map((n) => n.childrenIndex),
      r.routesMeta.map((n) => n.childrenIndex)
    )
  );
}
var hH = /^:[\w-]+$/, pH = 3, mH = 2, gH = 1, yH = 10, vH = -2, VC = (e) => e === "*";
function bH(e, t) {
  let r = e.split("/"), n = r.length;
  return r.some(VC) && (n += vH), t && (n += mH), r.filter((s) => !VC(s)).reduce(
    (s, i) => s + (hH.test(i) ? pH : i === "" ? gH : yH),
    n
  );
}
function xH(e, t) {
  return e.length === t.length && e.slice(0, -1).every((n, s) => n === t[s]) ? (
    // If two routes are siblings, we should try to match the earlier sibling
    // first. This allows people to have fine-grained control over the matching
    // behavior by simply putting routes with identical paths in the order they
    // want them tried.
    e[e.length - 1] - t[t.length - 1]
  ) : (
    // Otherwise, it doesn't really make sense to rank non-siblings by index,
    // so they sort equally.
    0
  );
}
function wH(e, t, r = !1) {
  let { routesMeta: n } = e, s = {}, i = "/", o = [];
  for (let a = 0; a < n.length; ++a) {
    let l = n[a], c = a === n.length - 1, d = i === "/" ? t : t.slice(i.length) || "/", f = kg(
      { path: l.relativePath, caseSensitive: l.caseSensitive, end: c },
      d
    ), h = l.route;
    if (!f && c && r && !n[n.length - 1].route.index && (f = kg(
      {
        path: l.relativePath,
        caseSensitive: l.caseSensitive,
        end: !1
      },
      d
    )), !f)
      return null;
    Object.assign(s, f.params), o.push({
      // TODO: Can this as be avoided?
      params: s,
      pathname: Oo([i, f.pathname]),
      pathnameBase: kH(
        Oo([i, f.pathnameBase])
      ),
      route: h
    }), f.pathnameBase !== "/" && (i = Oo([i, f.pathnameBase]));
  }
  return o;
}
function kg(e, t) {
  typeof e == "string" && (e = { path: e, caseSensitive: !1, end: !0 });
  let [r, n] = _H(
    e.path,
    e.caseSensitive,
    e.end
  ), s = t.match(r);
  if (!s) return null;
  let i = s[0], o = i.replace(/(.)\/+$/, "$1"), a = s.slice(1);
  return {
    params: n.reduce(
      (c, { paramName: d, isOptional: f }, h) => {
        if (d === "*") {
          let g = a[h] || "";
          o = i.slice(0, i.length - g.length).replace(/(.)\/+$/, "$1");
        }
        const p = a[h];
        return f && !p ? c[d] = void 0 : c[d] = (p || "").replace(/%2F/g, "/"), c;
      },
      {}
    ),
    pathname: i,
    pathnameBase: o,
    pattern: e
  };
}
function _H(e, t = !1, r = !0) {
  hi(
    e === "*" || !e.endsWith("*") || e.endsWith("/*"),
    `Route path "${e}" will be treated as if it were "${e.replace(/\*$/, "/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/, "/*")}".`
  );
  let n = [], s = "^" + e.replace(/\/*\*?$/, "").replace(/^\/*/, "/").replace(/[\\.*+^${}|()[\]]/g, "\\$&").replace(
    /\/:([\w-]+)(\?)?/g,
    (o, a, l) => (n.push({ paramName: a, isOptional: l != null }), l ? "/?([^\\/]+)?" : "/([^\\/]+)")
  ).replace(/\/([\w-]+)\?(\/|$)/g, "(/$1)?$2");
  return e.endsWith("*") ? (n.push({ paramName: "*" }), s += e === "*" || e === "/*" ? "(.*)$" : "(?:\\/(.+)|\\/*)$") : r ? s += "\\/*$" : e !== "" && e !== "/" && (s += "(?:(?=\\/|$))"), [new RegExp(s, t ? void 0 : "i"), n];
}
function SH(e) {
  try {
    return e.split("/").map((t) => decodeURIComponent(t).replace(/\//g, "%2F")).join("/");
  } catch (t) {
    return hi(
      !1,
      `The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`
    ), e;
  }
}
function Ha(e, t) {
  if (t === "/") return e;
  if (!e.toLowerCase().startsWith(t.toLowerCase()))
    return null;
  let r = t.endsWith("/") ? t.length - 1 : t.length, n = e.charAt(r);
  return n && n !== "/" ? null : e.slice(r) || "/";
}
function EH(e, t = "/") {
  let {
    pathname: r,
    search: n = "",
    hash: s = ""
  } = typeof e == "string" ? MS(e) : e;
  return {
    pathname: r ? r.startsWith("/") ? r : jH(r, t) : t,
    search: CH(n),
    hash: TH(s)
  };
}
function jH(e, t) {
  let r = t.replace(/\/+$/, "").split("/");
  return e.split("/").forEach((s) => {
    s === ".." ? r.length > 1 && r.pop() : s !== "." && r.push(s);
  }), r.length > 1 ? r.join("/") : "/";
}
function P0(e, t, r, n) {
  return `Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(
    n
  )}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`;
}
function NH(e) {
  return e.filter(
    (t, r) => r === 0 || t.route.path && t.route.path.length > 0
  );
}
function LS(e) {
  let t = NH(e);
  return t.map(
    (r, n) => n === t.length - 1 ? r.pathname : r.pathnameBase
  );
}
function FS(e, t, r, n = !1) {
  let s;
  typeof e == "string" ? s = MS(e) : (s = { ...e }, Kr(
    !s.pathname || !s.pathname.includes("?"),
    P0("?", "pathname", "search", s)
  ), Kr(
    !s.pathname || !s.pathname.includes("#"),
    P0("#", "pathname", "hash", s)
  ), Kr(
    !s.search || !s.search.includes("#"),
    P0("#", "search", "hash", s)
  ));
  let i = e === "" || s.pathname === "", o = i ? "/" : s.pathname, a;
  if (o == null)
    a = r;
  else {
    let f = t.length - 1;
    if (!n && o.startsWith("..")) {
      let h = o.split("/");
      for (; h[0] === ".."; )
        h.shift(), f -= 1;
      s.pathname = h.join("/");
    }
    a = f >= 0 ? t[f] : "/";
  }
  let l = EH(s, a), c = o && o !== "/" && o.endsWith("/"), d = (i || o === ".") && r.endsWith("/");
  return !l.pathname.endsWith("/") && (c || d) && (l.pathname += "/"), l;
}
var Oo = (e) => e.join("/").replace(/\/\/+/g, "/"), kH = (e) => e.replace(/\/+$/, "").replace(/^\/*/, "/"), CH = (e) => !e || e === "?" ? "" : e.startsWith("?") ? e : "?" + e, TH = (e) => !e || e === "#" ? "" : e.startsWith("#") ? e : "#" + e;
function AH(e) {
  return e != null && typeof e.status == "number" && typeof e.statusText == "string" && typeof e.internal == "boolean" && "data" in e;
}
var BM = [
  "POST",
  "PUT",
  "PATCH",
  "DELETE"
];
new Set(
  BM
);
var PH = [
  "GET",
  ...BM
];
new Set(PH);
var md = _.createContext(null);
md.displayName = "DataRouter";
var hv = _.createContext(null);
hv.displayName = "DataRouterState";
_.createContext(!1);
var zM = _.createContext({
  isTransitioning: !1
});
zM.displayName = "ViewTransition";
var OH = _.createContext(
  /* @__PURE__ */ new Map()
);
OH.displayName = "Fetchers";
var DH = _.createContext(null);
DH.displayName = "Await";
var so = _.createContext(
  null
);
so.displayName = "Navigation";
var BS = _.createContext(
  null
);
BS.displayName = "Location";
var Ls = _.createContext({
  outlet: null,
  matches: [],
  isDataRoute: !1
});
Ls.displayName = "Route";
var zS = _.createContext(null);
zS.displayName = "RouteError";
function $H(e, { relative: t } = {}) {
  Kr(
    tp(),
    // TODO: This error is probably because they somehow have 2 versions of the
    // router loaded. We can help them understand how to avoid that.
    "useHref() may be used only in the context of a <Router> component."
  );
  let { basename: r, navigator: n } = _.useContext(so), { hash: s, pathname: i, search: o } = rp(e, { relative: t }), a = i;
  return r !== "/" && (a = i === "/" ? r : Oo([r, i])), n.createHref({ pathname: a, search: o, hash: s });
}
function tp() {
  return _.useContext(BS) != null;
}
function wi() {
  return Kr(
    tp(),
    // TODO: This error is probably because they somehow have 2 versions of the
    // router loaded. We can help them understand how to avoid that.
    "useLocation() may be used only in the context of a <Router> component."
  ), _.useContext(BS).location;
}
var UM = "You should call navigate() in a React.useEffect(), not when your component is first rendered.";
function qM(e) {
  _.useContext(so).static || _.useLayoutEffect(e);
}
function io() {
  let { isDataRoute: e } = _.useContext(Ls);
  return e ? GH() : RH();
}
function RH() {
  Kr(
    tp(),
    // TODO: This error is probably because they somehow have 2 versions of the
    // router loaded. We can help them understand how to avoid that.
    "useNavigate() may be used only in the context of a <Router> component."
  );
  let e = _.useContext(md), { basename: t, navigator: r } = _.useContext(so), { matches: n } = _.useContext(Ls), { pathname: s } = wi(), i = JSON.stringify(LS(n)), o = _.useRef(!1);
  return qM(() => {
    o.current = !0;
  }), _.useCallback(
    (l, c = {}) => {
      if (hi(o.current, UM), !o.current) return;
      if (typeof l == "number") {
        r.go(l);
        return;
      }
      let d = FS(
        l,
        JSON.parse(i),
        s,
        c.relative === "path"
      );
      e == null && t !== "/" && (d.pathname = d.pathname === "/" ? t : Oo([t, d.pathname])), (c.replace ? r.replace : r.push)(
        d,
        c.state,
        c
      );
    },
    [
      t,
      r,
      i,
      s,
      e
    ]
  );
}
var IH = _.createContext(null);
function MH(e) {
  let t = _.useContext(Ls).outlet;
  return t && /* @__PURE__ */ _.createElement(IH.Provider, { value: e }, t);
}
function pv() {
  let { matches: e } = _.useContext(Ls), t = e[e.length - 1];
  return t ? t.params : {};
}
function rp(e, { relative: t } = {}) {
  let { matches: r } = _.useContext(Ls), { pathname: n } = wi(), s = JSON.stringify(LS(r));
  return _.useMemo(
    () => FS(
      e,
      JSON.parse(s),
      n,
      t === "path"
    ),
    [e, s, n, t]
  );
}
function LH(e, t, r, n, s) {
  Kr(
    tp(),
    // TODO: This error is probably because they somehow have 2 versions of the
    // router loaded. We can help them understand how to avoid that.
    "useRoutes() may be used only in the context of a <Router> component."
  );
  let { navigator: i } = _.useContext(so), { matches: o } = _.useContext(Ls), a = o[o.length - 1], l = a ? a.params : {}, c = a ? a.pathname : "/", d = a ? a.pathnameBase : "/", f = a && a.route;
  {
    let b = f && f.path || "";
    VM(
      c,
      !f || b.endsWith("*") || b.endsWith("*?"),
      `You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b === "/" ? "*" : `${b}/*`}">.`
    );
  }
  let h = wi(), p;
  p = h;
  let g = p.pathname || "/", m = g;
  if (d !== "/") {
    let b = d.replace(/^\//, "").split("/");
    m = "/" + g.replace(/^\//, "").split("/").slice(b.length).join("/");
  }
  let y = MM(e, { pathname: m });
  return hi(
    f || y != null,
    `No routes matched location "${p.pathname}${p.search}${p.hash}" `
  ), hi(
    y == null || y[y.length - 1].route.element !== void 0 || y[y.length - 1].route.Component !== void 0 || y[y.length - 1].route.lazy !== void 0,
    `Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`
  ), qH(
    y && y.map(
      (b) => Object.assign({}, b, {
        params: Object.assign({}, l, b.params),
        pathname: Oo([
          d,
          // Re-encode pathnames that were decoded inside matchRoutes
          i.encodeLocation ? i.encodeLocation(b.pathname).pathname : b.pathname
        ]),
        pathnameBase: b.pathnameBase === "/" ? d : Oo([
          d,
          // Re-encode pathnames that were decoded inside matchRoutes
          i.encodeLocation ? i.encodeLocation(b.pathnameBase).pathname : b.pathnameBase
        ])
      })
    ),
    o,
    r,
    n,
    s
  );
}
function FH() {
  let e = YH(), t = AH(e) ? `${e.status} ${e.statusText}` : e instanceof Error ? e.message : JSON.stringify(e), r = e instanceof Error ? e.stack : null, n = "rgba(200,200,200, 0.5)", s = { padding: "0.5rem", backgroundColor: n }, i = { padding: "2px 4px", backgroundColor: n }, o = null;
  return console.error(
    "Error handled by React Router default ErrorBoundary:",
    e
  ), o = /* @__PURE__ */ _.createElement(_.Fragment, null, /* @__PURE__ */ _.createElement("p", null, " Hey developer "), /* @__PURE__ */ _.createElement("p", null, "You can provide a way better UX than this when your app throws errors by providing your own ", /* @__PURE__ */ _.createElement("code", { style: i }, "ErrorBoundary"), " or", " ", /* @__PURE__ */ _.createElement("code", { style: i }, "errorElement"), " prop on your route.")), /* @__PURE__ */ _.createElement(_.Fragment, null, /* @__PURE__ */ _.createElement("h2", null, "Unexpected Application Error!"), /* @__PURE__ */ _.createElement("h3", { style: { fontStyle: "italic" } }, t), r ? /* @__PURE__ */ _.createElement("pre", { style: s }, r) : null, o);
}
var BH = /* @__PURE__ */ _.createElement(FH, null), zH = class extends _.Component {
  constructor(e) {
    super(e), this.state = {
      location: e.location,
      revalidation: e.revalidation,
      error: e.error
    };
  }
  static getDerivedStateFromError(e) {
    return { error: e };
  }
  static getDerivedStateFromProps(e, t) {
    return t.location !== e.location || t.revalidation !== "idle" && e.revalidation === "idle" ? {
      error: e.error,
      location: e.location,
      revalidation: e.revalidation
    } : {
      error: e.error !== void 0 ? e.error : t.error,
      location: t.location,
      revalidation: e.revalidation || t.revalidation
    };
  }
  componentDidCatch(e, t) {
    this.props.unstable_onError ? this.props.unstable_onError(e, t) : console.error(
      "React Router caught the following error during render",
      e
    );
  }
  render() {
    return this.state.error !== void 0 ? /* @__PURE__ */ _.createElement(Ls.Provider, { value: this.props.routeContext }, /* @__PURE__ */ _.createElement(
      zS.Provider,
      {
        value: this.state.error,
        children: this.props.component
      }
    )) : this.props.children;
  }
};
function UH({ routeContext: e, match: t, children: r }) {
  let n = _.useContext(md);
  return n && n.static && n.staticContext && (t.route.errorElement || t.route.ErrorBoundary) && (n.staticContext._deepestRenderedBoundaryId = t.route.id), /* @__PURE__ */ _.createElement(Ls.Provider, { value: e }, r);
}
function qH(e, t = [], r = null, n = null, s = null) {
  if (e == null) {
    if (!r)
      return null;
    if (r.errors)
      e = r.matches;
    else if (t.length === 0 && !r.initialized && r.matches.length > 0)
      e = r.matches;
    else
      return null;
  }
  let i = e, o = r == null ? void 0 : r.errors;
  if (o != null) {
    let c = i.findIndex(
      (d) => d.route.id && (o == null ? void 0 : o[d.route.id]) !== void 0
    );
    Kr(
      c >= 0,
      `Could not find a matching route for errors on route IDs: ${Object.keys(
        o
      ).join(",")}`
    ), i = i.slice(
      0,
      Math.min(i.length, c + 1)
    );
  }
  let a = !1, l = -1;
  if (r)
    for (let c = 0; c < i.length; c++) {
      let d = i[c];
      if ((d.route.HydrateFallback || d.route.hydrateFallbackElement) && (l = c), d.route.id) {
        let { loaderData: f, errors: h } = r, p = d.route.loader && !f.hasOwnProperty(d.route.id) && (!h || h[d.route.id] === void 0);
        if (d.route.lazy || p) {
          a = !0, l >= 0 ? i = i.slice(0, l + 1) : i = [i[0]];
          break;
        }
      }
    }
  return i.reduceRight(
    (c, d, f) => {
      let h, p = !1, g = null, m = null;
      r && (h = o && d.route.id ? o[d.route.id] : void 0, g = d.route.errorElement || BH, a && (l < 0 && f === 0 ? (VM(
        "route-fallback",
        !1,
        "No `HydrateFallback` element provided to render during initial hydration"
      ), p = !0, m = null) : l === f && (p = !0, m = d.route.hydrateFallbackElement || null)));
      let y = t.concat(i.slice(0, f + 1)), v = () => {
        let b;
        return h ? b = g : p ? b = m : d.route.Component ? b = /* @__PURE__ */ _.createElement(d.route.Component, null) : d.route.element ? b = d.route.element : b = c, /* @__PURE__ */ _.createElement(
          UH,
          {
            match: d,
            routeContext: {
              outlet: c,
              matches: y,
              isDataRoute: r != null
            },
            children: b
          }
        );
      };
      return r && (d.route.ErrorBoundary || d.route.errorElement || f === 0) ? /* @__PURE__ */ _.createElement(
        zH,
        {
          location: r.location,
          revalidation: r.revalidation,
          component: g,
          error: h,
          children: v(),
          routeContext: { outlet: null, matches: y, isDataRoute: !0 },
          unstable_onError: n
        }
      ) : v();
    },
    null
  );
}
function US(e) {
  return `${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`;
}
function VH(e) {
  let t = _.useContext(md);
  return Kr(t, US(e)), t;
}
function WH(e) {
  let t = _.useContext(hv);
  return Kr(t, US(e)), t;
}
function KH(e) {
  let t = _.useContext(Ls);
  return Kr(t, US(e)), t;
}
function qS(e) {
  let t = KH(e), r = t.matches[t.matches.length - 1];
  return Kr(
    r.route.id,
    `${e} can only be used on routes that contain a unique "id"`
  ), r.route.id;
}
function HH() {
  return qS(
    "useRouteId"
    /* UseRouteId */
  );
}
function YH() {
  var n;
  let e = _.useContext(zS), t = WH(
    "useRouteError"
    /* UseRouteError */
  ), r = qS(
    "useRouteError"
    /* UseRouteError */
  );
  return e !== void 0 ? e : (n = t.errors) == null ? void 0 : n[r];
}
function GH() {
  let { router: e } = VH(
    "useNavigate"
    /* UseNavigateStable */
  ), t = qS(
    "useNavigate"
    /* UseNavigateStable */
  ), r = _.useRef(!1);
  return qM(() => {
    r.current = !0;
  }), _.useCallback(
    async (s, i = {}) => {
      hi(r.current, UM), r.current && (typeof s == "number" ? e.navigate(s) : await e.navigate(s, { fromRouteId: t, ...i }));
    },
    [e, t]
  );
}
var WC = {};
function VM(e, t, r) {
  !t && !WC[e] && (WC[e] = !0, hi(!1, r));
}
_.memo(ZH);
function ZH({
  routes: e,
  future: t,
  state: r,
  unstable_onError: n
}) {
  return LH(e, void 0, r, n, t);
}
function XH({
  to: e,
  replace: t,
  state: r,
  relative: n
}) {
  Kr(
    tp(),
    // TODO: This error is probably because they somehow have 2 versions of
    // the router loaded. We can help them understand how to avoid that.
    "<Navigate> may be used only in the context of a <Router> component."
  );
  let { static: s } = _.useContext(so);
  hi(
    !s,
    "<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change."
  );
  let { matches: i } = _.useContext(Ls), { pathname: o } = wi(), a = io(), l = FS(
    e,
    LS(i),
    o,
    n === "path"
  ), c = JSON.stringify(l);
  return _.useEffect(() => {
    a(JSON.parse(c), { replace: t, state: r, relative: n });
  }, [a, c, n, t, r]), null;
}
function WM(e) {
  return MH(e.context);
}
var rg = "get", ng = "application/x-www-form-urlencoded";
function mv(e) {
  return e != null && typeof e.tagName == "string";
}
function JH(e) {
  return mv(e) && e.tagName.toLowerCase() === "button";
}
function QH(e) {
  return mv(e) && e.tagName.toLowerCase() === "form";
}
function eY(e) {
  return mv(e) && e.tagName.toLowerCase() === "input";
}
function tY(e) {
  return !!(e.metaKey || e.altKey || e.ctrlKey || e.shiftKey);
}
function rY(e, t) {
  return e.button === 0 && // Ignore everything but left clicks
  (!t || t === "_self") && // Let browser handle "target=_blank" etc.
  !tY(e);
}
function Pw(e = "") {
  return new URLSearchParams(
    typeof e == "string" || Array.isArray(e) || e instanceof URLSearchParams ? e : Object.keys(e).reduce((t, r) => {
      let n = e[r];
      return t.concat(
        Array.isArray(n) ? n.map((s) => [r, s]) : [[r, n]]
      );
    }, [])
  );
}
function nY(e, t) {
  let r = Pw(e);
  return t && t.forEach((n, s) => {
    r.has(s) || t.getAll(s).forEach((i) => {
      r.append(s, i);
    });
  }), r;
}
var lm = null;
function sY() {
  if (lm === null)
    try {
      new FormData(
        document.createElement("form"),
        // @ts-expect-error if FormData supports the submitter parameter, this will throw
        0
      ), lm = !1;
    } catch {
      lm = !0;
    }
  return lm;
}
var iY = /* @__PURE__ */ new Set([
  "application/x-www-form-urlencoded",
  "multipart/form-data",
  "text/plain"
]);
function O0(e) {
  return e != null && !iY.has(e) ? (hi(
    !1,
    `"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ng}"`
  ), null) : e;
}
function oY(e, t) {
  let r, n, s, i, o;
  if (QH(e)) {
    let a = e.getAttribute("action");
    n = a ? Ha(a, t) : null, r = e.getAttribute("method") || rg, s = O0(e.getAttribute("enctype")) || ng, i = new FormData(e);
  } else if (JH(e) || eY(e) && (e.type === "submit" || e.type === "image")) {
    let a = e.form;
    if (a == null)
      throw new Error(
        'Cannot submit a <button> or <input type="submit"> without a <form>'
      );
    let l = e.getAttribute("formaction") || a.getAttribute("action");
    if (n = l ? Ha(l, t) : null, r = e.getAttribute("formmethod") || a.getAttribute("method") || rg, s = O0(e.getAttribute("formenctype")) || O0(a.getAttribute("enctype")) || ng, i = new FormData(a, e), !sY()) {
      let { name: c, type: d, value: f } = e;
      if (d === "image") {
        let h = c ? `${c}.` : "";
        i.append(`${h}x`, "0"), i.append(`${h}y`, "0");
      } else c && i.append(c, f);
    }
  } else {
    if (mv(e))
      throw new Error(
        'Cannot submit element that is not <form>, <button>, or <input type="submit|image">'
      );
    r = rg, n = null, s = ng, o = e;
  }
  return i && s === "text/plain" && (o = i, i = void 0), { action: n, method: r.toLowerCase(), encType: s, formData: i, body: o };
}
Object.getOwnPropertyNames(Object.prototype).sort().join("\0");
function VS(e, t) {
  if (e === !1 || e === null || typeof e > "u")
    throw new Error(t);
}
function aY(e, t, r) {
  let n = typeof e == "string" ? new URL(
    e,
    // This can be called during the SSR flow via PrefetchPageLinksImpl so
    // don't assume window is available
    typeof window > "u" ? "server://singlefetch/" : window.location.origin
  ) : e;
  return n.pathname === "/" ? n.pathname = `_root.${r}` : t && Ha(n.pathname, t) === "/" ? n.pathname = `${t.replace(/\/$/, "")}/_root.${r}` : n.pathname = `${n.pathname.replace(/\/$/, "")}.${r}`, n;
}
async function lY(e, t) {
  if (e.id in t)
    return t[e.id];
  try {
    let r = await import(
      /* @vite-ignore */
      /* webpackIgnore: true */
      e.module
    );
    return t[e.id] = r, r;
  } catch (r) {
    return console.error(
      `Error loading route module \`${e.module}\`, reloading page...`
    ), console.error(r), window.__reactRouterContext && window.__reactRouterContext.isSpaMode, window.location.reload(), new Promise(() => {
    });
  }
}
function cY(e) {
  return e == null ? !1 : e.href == null ? e.rel === "preload" && typeof e.imageSrcSet == "string" && typeof e.imageSizes == "string" : typeof e.rel == "string" && typeof e.href == "string";
}
async function uY(e, t, r) {
  let n = await Promise.all(
    e.map(async (s) => {
      let i = t.routes[s.route.id];
      if (i) {
        let o = await lY(i, r);
        return o.links ? o.links() : [];
      }
      return [];
    })
  );
  return pY(
    n.flat(1).filter(cY).filter((s) => s.rel === "stylesheet" || s.rel === "preload").map(
      (s) => s.rel === "stylesheet" ? { ...s, rel: "prefetch", as: "style" } : { ...s, rel: "prefetch" }
    )
  );
}
function KC(e, t, r, n, s, i) {
  let o = (l, c) => r[c] ? l.route.id !== r[c].route.id : !0, a = (l, c) => {
    var d;
    return (
      // param change, /users/123 -> /users/456
      r[c].pathname !== l.pathname || // splat param changed, which is not present in match.path
      // e.g. /files/images/avatar.jpg -> files/finances.xls
      ((d = r[c].route.path) == null ? void 0 : d.endsWith("*")) && r[c].params["*"] !== l.params["*"]
    );
  };
  return i === "assets" ? t.filter(
    (l, c) => o(l, c) || a(l, c)
  ) : i === "data" ? t.filter((l, c) => {
    var f;
    let d = n.routes[l.route.id];
    if (!d || !d.hasLoader)
      return !1;
    if (o(l, c) || a(l, c))
      return !0;
    if (l.route.shouldRevalidate) {
      let h = l.route.shouldRevalidate({
        currentUrl: new URL(
          s.pathname + s.search + s.hash,
          window.origin
        ),
        currentParams: ((f = r[0]) == null ? void 0 : f.params) || {},
        nextUrl: new URL(e, window.origin),
        nextParams: l.params,
        defaultShouldRevalidate: !0
      });
      if (typeof h == "boolean")
        return h;
    }
    return !0;
  }) : [];
}
function dY(e, t, { includeHydrateFallback: r } = {}) {
  return fY(
    e.map((n) => {
      let s = t.routes[n.route.id];
      if (!s) return [];
      let i = [s.module];
      return s.clientActionModule && (i = i.concat(s.clientActionModule)), s.clientLoaderModule && (i = i.concat(s.clientLoaderModule)), r && s.hydrateFallbackModule && (i = i.concat(s.hydrateFallbackModule)), s.imports && (i = i.concat(s.imports)), i;
    }).flat(1)
  );
}
function fY(e) {
  return [...new Set(e)];
}
function hY(e) {
  let t = {}, r = Object.keys(e).sort();
  for (let n of r)
    t[n] = e[n];
  return t;
}
function pY(e, t) {
  let r = /* @__PURE__ */ new Set();
  return new Set(t), e.reduce((n, s) => {
    let i = JSON.stringify(hY(s));
    return r.has(i) || (r.add(i), n.push({ key: i, link: s })), n;
  }, []);
}
function KM() {
  let e = _.useContext(md);
  return VS(
    e,
    "You must render this element inside a <DataRouterContext.Provider> element"
  ), e;
}
function mY() {
  let e = _.useContext(hv);
  return VS(
    e,
    "You must render this element inside a <DataRouterStateContext.Provider> element"
  ), e;
}
var WS = _.createContext(void 0);
WS.displayName = "FrameworkContext";
function HM() {
  let e = _.useContext(WS);
  return VS(
    e,
    "You must render this element inside a <HydratedRouter> element"
  ), e;
}
function gY(e, t) {
  let r = _.useContext(WS), [n, s] = _.useState(!1), [i, o] = _.useState(!1), { onFocus: a, onBlur: l, onMouseEnter: c, onMouseLeave: d, onTouchStart: f } = t, h = _.useRef(null);
  _.useEffect(() => {
    if (e === "render" && o(!0), e === "viewport") {
      let m = (v) => {
        v.forEach((b) => {
          o(b.isIntersecting);
        });
      }, y = new IntersectionObserver(m, { threshold: 0.5 });
      return h.current && y.observe(h.current), () => {
        y.disconnect();
      };
    }
  }, [e]), _.useEffect(() => {
    if (n) {
      let m = setTimeout(() => {
        o(!0);
      }, 100);
      return () => {
        clearTimeout(m);
      };
    }
  }, [n]);
  let p = () => {
    s(!0);
  }, g = () => {
    s(!1), o(!1);
  };
  return r ? e !== "intent" ? [i, h, {}] : [
    i,
    h,
    {
      onFocus: Jd(a, p),
      onBlur: Jd(l, g),
      onMouseEnter: Jd(c, p),
      onMouseLeave: Jd(d, g),
      onTouchStart: Jd(f, p)
    }
  ] : [!1, h, {}];
}
function Jd(e, t) {
  return (r) => {
    e && e(r), r.defaultPrevented || t(r);
  };
}
function yY({ page: e, ...t }) {
  let { router: r } = KM(), n = _.useMemo(
    () => MM(r.routes, e, r.basename),
    [r.routes, e, r.basename]
  );
  return n ? /* @__PURE__ */ _.createElement(bY, { page: e, matches: n, ...t }) : null;
}
function vY(e) {
  let { manifest: t, routeModules: r } = HM(), [n, s] = _.useState([]);
  return _.useEffect(() => {
    let i = !1;
    return uY(e, t, r).then(
      (o) => {
        i || s(o);
      }
    ), () => {
      i = !0;
    };
  }, [e, t, r]), n;
}
function bY({
  page: e,
  matches: t,
  ...r
}) {
  let n = wi(), { manifest: s, routeModules: i } = HM(), { basename: o } = KM(), { loaderData: a, matches: l } = mY(), c = _.useMemo(
    () => KC(
      e,
      t,
      l,
      s,
      n,
      "data"
    ),
    [e, t, l, s, n]
  ), d = _.useMemo(
    () => KC(
      e,
      t,
      l,
      s,
      n,
      "assets"
    ),
    [e, t, l, s, n]
  ), f = _.useMemo(() => {
    if (e === n.pathname + n.search + n.hash)
      return [];
    let g = /* @__PURE__ */ new Set(), m = !1;
    if (t.forEach((v) => {
      var x;
      let b = s.routes[v.route.id];
      !b || !b.hasLoader || (!c.some((S) => S.route.id === v.route.id) && v.route.id in a && ((x = i[v.route.id]) != null && x.shouldRevalidate) || b.hasClientLoader ? m = !0 : g.add(v.route.id));
    }), g.size === 0)
      return [];
    let y = aY(e, o, "data");
    return m && g.size > 0 && y.searchParams.set(
      "_routes",
      t.filter((v) => g.has(v.route.id)).map((v) => v.route.id).join(",")
    ), [y.pathname + y.search];
  }, [
    o,
    a,
    n,
    s,
    c,
    t,
    e,
    i
  ]), h = _.useMemo(
    () => dY(d, s),
    [d, s]
  ), p = vY(d);
  return /* @__PURE__ */ _.createElement(_.Fragment, null, f.map((g) => /* @__PURE__ */ _.createElement("link", { key: g, rel: "prefetch", as: "fetch", href: g, ...r })), h.map((g) => /* @__PURE__ */ _.createElement("link", { key: g, rel: "modulepreload", href: g, ...r })), p.map(({ key: g, link: m }) => (
    // these don't spread `linkProps` because they are full link descriptors
    // already with their own props
    /* @__PURE__ */ _.createElement("link", { key: g, nonce: r.nonce, ...m })
  )));
}
function xY(...e) {
  return (t) => {
    e.forEach((r) => {
      typeof r == "function" ? r(t) : r != null && (r.current = t);
    });
  };
}
var YM = typeof window < "u" && typeof window.document < "u" && typeof window.document.createElement < "u";
try {
  YM && (window.__reactRouterVersion = // @ts-expect-error
  "7.8.2");
} catch {
}
var GM = /^(?:[a-z][a-z0-9+.-]*:|\/\/)/i, qr = _.forwardRef(
  function({
    onClick: t,
    discover: r = "render",
    prefetch: n = "none",
    relative: s,
    reloadDocument: i,
    replace: o,
    state: a,
    target: l,
    to: c,
    preventScrollReset: d,
    viewTransition: f,
    ...h
  }, p) {
    let { basename: g } = _.useContext(so), m = typeof c == "string" && GM.test(c), y, v = !1;
    if (typeof c == "string" && m && (y = c, YM))
      try {
        let C = new URL(window.location.href), $ = c.startsWith("//") ? new URL(C.protocol + c) : new URL(c), I = Ha($.pathname, g);
        $.origin === C.origin && I != null ? c = I + $.search + $.hash : v = !0;
      } catch {
        hi(
          !1,
          `<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`
        );
      }
    let b = $H(c, { relative: s }), [x, S, w] = gY(
      n,
      h
    ), j = SY(c, {
      replace: o,
      state: a,
      target: l,
      preventScrollReset: d,
      relative: s,
      viewTransition: f
    });
    function N(C) {
      t && t(C), C.defaultPrevented || j(C);
    }
    let k = (
      // eslint-disable-next-line jsx-a11y/anchor-has-content
      /* @__PURE__ */ _.createElement(
        "a",
        {
          ...h,
          ...w,
          href: y || b,
          onClick: v || i ? t : N,
          ref: xY(p, S),
          target: l,
          "data-discover": !m && r === "render" ? "true" : void 0
        }
      )
    );
    return x && !m ? /* @__PURE__ */ _.createElement(_.Fragment, null, k, /* @__PURE__ */ _.createElement(yY, { page: b })) : k;
  }
);
qr.displayName = "Link";
var Bf = _.forwardRef(
  function({
    "aria-current": t = "page",
    caseSensitive: r = !1,
    className: n = "",
    end: s = !1,
    style: i,
    to: o,
    viewTransition: a,
    children: l,
    ...c
  }, d) {
    let f = rp(o, { relative: c.relative }), h = wi(), p = _.useContext(hv), { navigator: g, basename: m } = _.useContext(so), y = p != null && // Conditional usage is OK here because the usage of a data router is static
    // eslint-disable-next-line react-hooks/rules-of-hooks
    TY(f) && a === !0, v = g.encodeLocation ? g.encodeLocation(f).pathname : f.pathname, b = h.pathname, x = p && p.navigation && p.navigation.location ? p.navigation.location.pathname : null;
    r || (b = b.toLowerCase(), x = x ? x.toLowerCase() : null, v = v.toLowerCase()), x && m && (x = Ha(x, m) || x);
    const S = v !== "/" && v.endsWith("/") ? v.length - 1 : v.length;
    let w = b === v || !s && b.startsWith(v) && b.charAt(S) === "/", j = x != null && (x === v || !s && x.startsWith(v) && x.charAt(v.length) === "/"), N = {
      isActive: w,
      isPending: j,
      isTransitioning: y
    }, k = w ? t : void 0, C;
    typeof n == "function" ? C = n(N) : C = [
      n,
      w ? "active" : null,
      j ? "pending" : null,
      y ? "transitioning" : null
    ].filter(Boolean).join(" ");
    let $ = typeof i == "function" ? i(N) : i;
    return /* @__PURE__ */ _.createElement(
      qr,
      {
        ...c,
        "aria-current": k,
        className: C,
        ref: d,
        style: $,
        to: o,
        viewTransition: a
      },
      typeof l == "function" ? l(N) : l
    );
  }
);
Bf.displayName = "NavLink";
var wY = _.forwardRef(
  ({
    discover: e = "render",
    fetcherKey: t,
    navigate: r,
    reloadDocument: n,
    replace: s,
    state: i,
    method: o = rg,
    action: a,
    onSubmit: l,
    relative: c,
    preventScrollReset: d,
    viewTransition: f,
    ...h
  }, p) => {
    let g = kY(), m = CY(a, { relative: c }), y = o.toLowerCase() === "get" ? "get" : "post", v = typeof a == "string" && GM.test(a), b = (x) => {
      if (l && l(x), x.defaultPrevented) return;
      x.preventDefault();
      let S = x.nativeEvent.submitter, w = (S == null ? void 0 : S.getAttribute("formmethod")) || o;
      g(S || x.currentTarget, {
        fetcherKey: t,
        method: w,
        navigate: r,
        replace: s,
        state: i,
        relative: c,
        preventScrollReset: d,
        viewTransition: f
      });
    };
    return /* @__PURE__ */ _.createElement(
      "form",
      {
        ref: p,
        method: y,
        action: m,
        onSubmit: n ? l : b,
        ...h,
        "data-discover": !v && e === "render" ? "true" : void 0
      }
    );
  }
);
wY.displayName = "Form";
function _Y(e) {
  return `${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`;
}
function ZM(e) {
  let t = _.useContext(md);
  return Kr(t, _Y(e)), t;
}
function SY(e, {
  target: t,
  replace: r,
  state: n,
  preventScrollReset: s,
  relative: i,
  viewTransition: o
} = {}) {
  let a = io(), l = wi(), c = rp(e, { relative: i });
  return _.useCallback(
    (d) => {
      if (rY(d, t)) {
        d.preventDefault();
        let f = r !== void 0 ? r : Aw(l) === Aw(c);
        a(e, {
          replace: f,
          state: n,
          preventScrollReset: s,
          relative: i,
          viewTransition: o
        });
      }
    },
    [
      l,
      a,
      c,
      r,
      n,
      t,
      e,
      s,
      i,
      o
    ]
  );
}
function EY(e) {
  hi(
    typeof URLSearchParams < "u",
    "You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params."
  );
  let t = _.useRef(Pw(e)), r = _.useRef(!1), n = wi(), s = _.useMemo(
    () => (
      // Only merge in the defaults if we haven't yet called setSearchParams.
      // Once we call that we want those to take precedence, otherwise you can't
      // remove a param with setSearchParams({}) if it has an initial value
      nY(
        n.search,
        r.current ? null : t.current
      )
    ),
    [n.search]
  ), i = io(), o = _.useCallback(
    (a, l) => {
      const c = Pw(
        typeof a == "function" ? a(new URLSearchParams(s)) : a
      );
      r.current = !0, i("?" + c, l);
    },
    [i, s]
  );
  return [s, o];
}
var jY = 0, NY = () => `__${String(++jY)}__`;
function kY() {
  let { router: e } = ZM(
    "useSubmit"
    /* UseSubmit */
  ), { basename: t } = _.useContext(so), r = HH();
  return _.useCallback(
    async (n, s = {}) => {
      let { action: i, method: o, encType: a, formData: l, body: c } = oY(
        n,
        t
      );
      if (s.navigate === !1) {
        let d = s.fetcherKey || NY();
        await e.fetch(d, r, s.action || i, {
          preventScrollReset: s.preventScrollReset,
          formData: l,
          body: c,
          formMethod: s.method || o,
          formEncType: s.encType || a,
          flushSync: s.flushSync
        });
      } else
        await e.navigate(s.action || i, {
          preventScrollReset: s.preventScrollReset,
          formData: l,
          body: c,
          formMethod: s.method || o,
          formEncType: s.encType || a,
          replace: s.replace,
          state: s.state,
          fromRouteId: r,
          flushSync: s.flushSync,
          viewTransition: s.viewTransition
        });
    },
    [e, t, r]
  );
}
function CY(e, { relative: t } = {}) {
  let { basename: r } = _.useContext(so), n = _.useContext(Ls);
  Kr(n, "useFormAction must be used inside a RouteContext");
  let [s] = n.matches.slice(-1), i = { ...rp(e || ".", { relative: t }) }, o = wi();
  if (e == null) {
    i.search = o.search;
    let a = new URLSearchParams(i.search), l = a.getAll("index");
    if (l.some((d) => d === "")) {
      a.delete("index"), l.filter((f) => f).forEach((f) => a.append("index", f));
      let d = a.toString();
      i.search = d ? `?${d}` : "";
    }
  }
  return (!e || e === ".") && s.route.index && (i.search = i.search ? i.search.replace(/^\?/, "?index&") : "?index"), r !== "/" && (i.pathname = i.pathname === "/" ? r : Oo([r, i.pathname])), Aw(i);
}
function TY(e, { relative: t } = {}) {
  let r = _.useContext(zM);
  Kr(
    r != null,
    "`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?"
  );
  let { basename: n } = ZM(
    "useViewTransitionState"
    /* useViewTransitionState */
  ), s = rp(e, { relative: t });
  if (!r.isTransitioning)
    return !1;
  let i = Ha(r.currentLocation.pathname, n) || r.currentLocation.pathname, o = Ha(r.nextLocation.pathname, n) || r.nextLocation.pathname;
  return kg(s.pathname, o) != null || kg(s.pathname, i) != null;
}
const v$e = () => {
  const [e, t] = L("login"), [r, n] = L(null), [s, i] = L(!1), [o, a] = L(""), [l, c] = L(""), [d, f] = L(""), [h, p] = L(""), [g, m] = L(""), [y, v] = L(""), [b, x] = L(null), S = io(), w = (C, $ = "info") => {
    n({ text: C, type: $ });
    const I = setTimeout(() => n(null), 6e3);
    return () => clearTimeout(I);
  }, j = async (C) => {
    if (C.preventDefault(), !o || !l) {
      w("Please enter both email and password", "error");
      return;
    }
    i(!0);
    try {
      const { error: $ } = await he.auth.signInWithPassword({
        email: o,
        password: l
      });
      if ($)
        throw $;
      S("/");
    } catch ($) {
      const I = $ instanceof Error ? $.message : "Failed to sign in";
      w(I, "error");
    } finally {
      i(!1);
    }
  }, N = async (C) => {
    if (C.preventDefault(), h !== y) {
      w("Passwords do not match", "error");
      return;
    }
    i(!0);
    try {
      const { error: $ } = await he.auth.signUp({
        email: d,
        password: h,
        options: {
          data: {
            display_name: g
          }
        }
      });
      if ($)
        throw $;
      w("Account created! Please check your email to confirm your account.", "success"), t("login");
    } catch ($) {
      const I = $ instanceof Error ? $.message : "Failed to create account";
      w(I, "error");
    } finally {
      i(!1);
    }
  }, k = (C) => {
    if (!C) {
      x(null);
      return;
    }
    let $ = 0;
    C.length >= 8 && $++, /[A-Z]/.test(C) && $++, /[a-z]/.test(C) && $++, /[0-9]/.test(C) && $++, /[^A-Za-z0-9]/.test(C) && $++, C.length >= 12 && $++;
    const I = [
      { text: "Weak", className: "weak" },
      { text: "Fair", className: "fair" },
      { text: "Good", className: "good" },
      { text: "Strong", className: "strong" },
      { text: "Very Strong", className: "very-strong" }
    ], M = Math.min($, I.length - 1);
    x(I[M]);
  };
  return u.jsx("div", { className: "auth-page", children: u.jsxs("div", { className: "auth-container", children: [u.jsxs("div", { className: "auth-header", children: [u.jsx("h1", { children: e === "login" ? "Welcome Back" : "Create Account" }), u.jsx("p", { children: e === "login" ? "Sign in to access your account" : "Join our community today" })] }), r && u.jsx("div", { className: `message ${r.type}`, children: r.text }), u.jsxs("div", { className: "tabs", children: [u.jsx("button", { className: `tab ${e === "login" ? "active" : ""}`, onClick: () => t("login"), type: "button", children: "Sign In" }), u.jsx("button", { className: `tab ${e === "signup" ? "active" : ""}`, onClick: () => t("signup"), type: "button", children: "Create Account" })] }), e === "login" ? u.jsxs("form", { className: "auth-form", onSubmit: j, children: [u.jsxs("div", { className: "form-group", children: [u.jsx("label", { htmlFor: "loginEmail", children: "Email" }), u.jsx("input", { type: "email", id: "loginEmail", value: o, onChange: (C) => a(C.target.value), placeholder: "Enter your email", required: !0, disabled: s })] }), u.jsxs("div", { className: "form-group", children: [u.jsx("label", { htmlFor: "loginPassword", children: "Password" }), u.jsx("input", { type: "password", id: "loginPassword", value: l, onChange: (C) => c(C.target.value), placeholder: "Enter your password", required: !0, disabled: s })] }), u.jsx("button", { type: "submit", className: "btn primary", disabled: s, children: s ? "Signing in..." : "Sign In" }), u.jsx("div", { className: "form-footer", children: u.jsx(qr, { to: "/forgot-password", children: "Forgot password?" }) })] }) : u.jsxs("form", { className: "auth-form", onSubmit: N, children: [u.jsxs("div", { className: "form-group", children: [u.jsx("label", { htmlFor: "signupDisplayName", children: "Display Name" }), u.jsx("input", { type: "text", id: "signupDisplayName", value: g, onChange: (C) => m(C.target.value), placeholder: "Enter your name", required: !0, disabled: s })] }), u.jsxs("div", { className: "form-group", children: [u.jsx("label", { htmlFor: "signupEmail", children: "Email" }), u.jsx("input", { type: "email", id: "signupEmail", value: d, onChange: (C) => f(C.target.value), placeholder: "your.email@example.com", required: !0, disabled: s })] }), u.jsxs("div", { className: "form-group", children: [u.jsx("label", { htmlFor: "signupPassword", children: "Password" }), u.jsx("input", { type: "password", id: "signupPassword", value: h, onChange: (C) => {
    p(C.target.value), k(C.target.value);
  }, placeholder: "Create a strong password", required: !0, disabled: s }), b && u.jsxs("div", { className: `password-strength ${b.className}`, children: ["Password strength: ", b.text] })] }), u.jsxs("div", { className: "form-group", children: [u.jsx("label", { htmlFor: "confirmPassword", children: "Confirm Password" }), u.jsx("input", { type: "password", id: "confirmPassword", value: y, onChange: (C) => v(C.target.value), placeholder: "Re-enter your password", required: !0, disabled: s })] }), u.jsx("button", { type: "submit", className: "btn primary", disabled: s, children: s ? "Creating account..." : "Create Account" })] }), u.jsx("div", { className: "auth-divider", children: u.jsx("span", { children: "or continue with" }) }), u.jsxs("div", { className: "social-logins", children: [u.jsx("button", { type: "button", className: "btn social google", onClick: () => w("Google login is not yet implemented", "info"), disabled: s, children: "Google" }), u.jsx("button", { type: "button", className: "btn social github", onClick: () => w("GitHub login is not yet implemented", "info"), disabled: s, children: "GitHub" })] }), u.jsx("div", { className: "auth-footer", children: e === "login" ? u.jsxs(u.Fragment, { children: ["Don't have an account?", " ", u.jsx("button", { type: "button", className: "text-link", onClick: () => t("signup"), children: "Sign up" })] }) : u.jsxs(u.Fragment, { children: ["Already have an account?", " ", u.jsx("button", { type: "button", className: "text-link", onClick: () => t("login"), children: "Sign in" })] }) })] }) });
};
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const AY = (e) => e.replace(/([a-z0-9])([A-Z])/g, "$1-$2").toLowerCase(), XM = (...e) => e.filter((t, r, n) => !!t && n.indexOf(t) === r).join(" ");
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
var PY = {
  xmlns: "http://www.w3.org/2000/svg",
  width: 24,
  height: 24,
  viewBox: "0 0 24 24",
  fill: "none",
  stroke: "currentColor",
  strokeWidth: 2,
  strokeLinecap: "round",
  strokeLinejoin: "round"
};
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const OY = rt(
  ({
    color: e = "currentColor",
    size: t = 24,
    strokeWidth: r = 2,
    absoluteStrokeWidth: n,
    className: s = "",
    children: i,
    iconNode: o,
    ...a
  }, l) => $e(
    "svg",
    {
      ref: l,
      ...PY,
      width: t,
      height: t,
      stroke: e,
      strokeWidth: n ? Number(r) * 24 / Number(t) : r,
      className: XM("lucide", s),
      ...a
    },
    [
      ...o.map(([c, d]) => $e(c, d)),
      ...Array.isArray(i) ? i : [i]
    ]
  )
);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Ie = (e, t) => {
  const r = rt(
    ({ className: n, ...s }, i) => $e(OY, {
      ref: i,
      iconNode: t,
      className: XM(`lucide-${AY(e)}`, n),
      ...s
    })
  );
  return r.displayName = `${e}`, r;
};
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const JM = Ie("ArrowLeft", [
  ["path", { d: "m12 19-7-7 7-7", key: "1l729n" }],
  ["path", { d: "M19 12H5", key: "x3x0zl" }]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const zf = Ie("ArrowRight", [
  ["path", { d: "M5 12h14", key: "1ays0h" }],
  ["path", { d: "m12 5 7 7-7 7", key: "xquz4c" }]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const DY = Ie("Award", [
  [
    "path",
    {
      d: "m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",
      key: "1yiouv"
    }
  ],
  ["circle", { cx: "12", cy: "8", r: "6", key: "1vp47v" }]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Uu = Ie("BookOpen", [
  ["path", { d: "M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z", key: "vv98re" }],
  ["path", { d: "M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z", key: "1cyq3y" }]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const $Y = Ie("Book", [
  ["path", { d: "M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20", key: "t4utmx" }]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const RY = Ie("Bookmark", [
  ["path", { d: "m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z", key: "1fy3hk" }]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const QM = Ie("Calendar", [
  ["path", { d: "M8 2v4", key: "1cmpym" }],
  ["path", { d: "M16 2v4", key: "4m81vk" }],
  ["rect", { width: "18", height: "18", x: "3", y: "4", rx: "2", key: "1hopcy" }],
  ["path", { d: "M3 10h18", key: "8toen8" }]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const eL = Ie("ChevronDown", [
  ["path", { d: "m6 9 6 6 6-6", key: "qrunsl" }]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const IY = Ie("ChevronLeft", [
  ["path", { d: "m15 18-6-6 6-6", key: "1wnfg3" }]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const lh = Ie("ChevronRight", [
  ["path", { d: "m9 18 6-6-6-6", key: "mthhwq" }]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Mi = Ie("CircleAlert", [
  ["circle", { cx: "12", cy: "12", r: "10", key: "1mglay" }],
  ["line", { x1: "12", x2: "12", y1: "8", y2: "12", key: "1pkeuh" }],
  ["line", { x1: "12", x2: "12.01", y1: "16", y2: "16", key: "4dfq90" }]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Aa = Ie("CircleCheckBig", [
  ["path", { d: "M22 11.08V12a10 10 0 1 1-5.93-9.14", key: "g774vq" }],
  ["path", { d: "m9 11 3 3L22 4", key: "1pflzl" }]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const MY = Ie("CircleCheck", [
  ["circle", { cx: "12", cy: "12", r: "10", key: "1mglay" }],
  ["path", { d: "m9 12 2 2 4-4", key: "dzmm74" }]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const KS = Ie("CircleX", [
  ["circle", { cx: "12", cy: "12", r: "10", key: "1mglay" }],
  ["path", { d: "m15 9-6 6", key: "1uzhvr" }],
  ["path", { d: "m9 9 6 6", key: "z0biqf" }]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const HS = Ie("Clock", [
  ["circle", { cx: "12", cy: "12", r: "10", key: "1mglay" }],
  ["polyline", { points: "12 6 12 12 16 14", key: "68esgv" }]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const LY = Ie("CloudUpload", [
  ["path", { d: "M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242", key: "1pljnt" }],
  ["path", { d: "M12 12v9", key: "192myk" }],
  ["path", { d: "m16 16-4-4-4 4", key: "119tzi" }]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const FY = Ie("CreditCard", [
  ["rect", { width: "20", height: "14", x: "2", y: "5", rx: "2", key: "ynyp8z" }],
  ["line", { x1: "2", x2: "22", y1: "10", y2: "10", key: "1b3vmo" }]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const ch = Ie("Crown", [
  [
    "path",
    {
      d: "M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",
      key: "1vdc57"
    }
  ],
  ["path", { d: "M5 21h14", key: "11awu3" }]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const BY = Ie("DollarSign", [
  ["line", { x1: "12", x2: "12", y1: "2", y2: "22", key: "7eqyqh" }],
  ["path", { d: "M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6", key: "1b0p4s" }]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const np = Ie("Eye", [
  ["path", { d: "M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z", key: "rwhkz3" }],
  ["circle", { cx: "12", cy: "12", r: "3", key: "1v7zrd" }]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const zY = Ie("FileText", [
  ["path", { d: "M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z", key: "1rqfz7" }],
  ["path", { d: "M14 2v4a2 2 0 0 0 2 2h4", key: "tnqrlb" }],
  ["path", { d: "M10 9H8", key: "b1mrlr" }],
  ["path", { d: "M16 13H8", key: "t4e002" }],
  ["path", { d: "M16 17H8", key: "z1uh3a" }]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Cg = Ie("File", [
  ["path", { d: "M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z", key: "1rqfz7" }],
  ["path", { d: "M14 2v4a2 2 0 0 0 2 2h4", key: "tnqrlb" }]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const UY = Ie("Filter", [
  ["polygon", { points: "22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3", key: "1yg77f" }]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Tg = Ie("Folder", [
  [
    "path",
    {
      d: "M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",
      key: "1kt360"
    }
  ]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const qY = Ie("Heart", [
  [
    "path",
    {
      d: "M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",
      key: "c3ymky"
    }
  ]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const VY = Ie("Inbox", [
  ["polyline", { points: "22 12 16 12 14 15 10 15 8 12 2 12", key: "o97t9d" }],
  [
    "path",
    {
      d: "M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",
      key: "oot6mr"
    }
  ]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const tL = Ie("Info", [
  ["circle", { cx: "12", cy: "12", r: "10", key: "1mglay" }],
  ["path", { d: "M12 16v-4", key: "1dtifu" }],
  ["path", { d: "M12 8h.01", key: "e9boi3" }]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const WY = Ie("Instagram", [
  ["rect", { width: "20", height: "20", x: "2", y: "2", rx: "5", ry: "5", key: "2e1cvw" }],
  ["path", { d: "M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z", key: "9exkf1" }],
  ["line", { x1: "17.5", x2: "17.51", y1: "6.5", y2: "6.5", key: "r4j83e" }]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const KY = Ie("LayoutDashboard", [
  ["rect", { width: "7", height: "9", x: "3", y: "3", rx: "1", key: "10lvy0" }],
  ["rect", { width: "7", height: "5", x: "14", y: "3", rx: "1", key: "16une8" }],
  ["rect", { width: "7", height: "9", x: "14", y: "12", rx: "1", key: "1hutg5" }],
  ["rect", { width: "7", height: "5", x: "3", y: "16", rx: "1", key: "ldoo1y" }]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const HY = Ie("LineChart", [
  ["path", { d: "M3 3v18h18", key: "1s2lah" }],
  ["path", { d: "m19 9-5 5-4-4-3 3", key: "2osh9i" }]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const YY = Ie("List", [
  ["line", { x1: "8", x2: "21", y1: "6", y2: "6", key: "7ey8pc" }],
  ["line", { x1: "8", x2: "21", y1: "12", y2: "12", key: "rjfblc" }],
  ["line", { x1: "8", x2: "21", y1: "18", y2: "18", key: "c3b1m8" }],
  ["line", { x1: "3", x2: "3.01", y1: "6", y2: "6", key: "1g7gq3" }],
  ["line", { x1: "3", x2: "3.01", y1: "12", y2: "12", key: "1pjlvk" }],
  ["line", { x1: "3", x2: "3.01", y1: "18", y2: "18", key: "28t2mc" }]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const qu = Ie("LoaderCircle", [
  ["path", { d: "M21 12a9 9 0 1 1-6.219-8.56", key: "13zald" }]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const rL = Ie("Lock", [
  ["rect", { width: "18", height: "11", x: "3", y: "11", rx: "2", ry: "2", key: "1w4ew1" }],
  ["path", { d: "M7 11V7a5 5 0 0 1 10 0v4", key: "fwvmzm" }]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const nL = Ie("LogOut", [
  ["path", { d: "M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4", key: "1uf3rs" }],
  ["polyline", { points: "16 17 21 12 16 7", key: "1gabdz" }],
  ["line", { x1: "21", x2: "9", y1: "12", y2: "12", key: "1uyos4" }]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const sL = Ie("Mail", [
  ["rect", { width: "20", height: "16", x: "2", y: "4", rx: "2", key: "18n3k1" }],
  ["path", { d: "m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7", key: "1ocrg3" }]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const HC = Ie("Menu", [
  ["line", { x1: "4", x2: "20", y1: "12", y2: "12", key: "1e0a9i" }],
  ["line", { x1: "4", x2: "20", y1: "6", y2: "6", key: "1owob3" }],
  ["line", { x1: "4", x2: "20", y1: "18", y2: "18", key: "yk5zj1" }]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const gv = Ie("PenLine", [
  ["path", { d: "M12 20h9", key: "t2du7b" }],
  [
    "path",
    {
      d: "M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",
      key: "1ykcvy"
    }
  ]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const GY = Ie("Pen", [
  [
    "path",
    {
      d: "M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",
      key: "1a8usu"
    }
  ]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const ZY = Ie("Pencil", [
  [
    "path",
    {
      d: "M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",
      key: "1a8usu"
    }
  ],
  ["path", { d: "m15 5 4 4", key: "1mk7zo" }]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const XY = Ie("PieChart", [
  ["path", { d: "M21.21 15.89A10 10 0 1 1 8 2.83", key: "k2fpak" }],
  ["path", { d: "M22 12A10 10 0 0 0 12 2v10z", key: "1rfc4y" }]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Gi = Ie("Plus", [
  ["path", { d: "M5 12h14", key: "1ays0h" }],
  ["path", { d: "M12 5v14", key: "s699le" }]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const YS = Ie("Save", [
  [
    "path",
    {
      d: "M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",
      key: "1c8476"
    }
  ],
  ["path", { d: "M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7", key: "1ydtos" }],
  ["path", { d: "M7 3v4a1 1 0 0 0 1 1h7", key: "t51u73" }]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const xc = Ie("Search", [
  ["circle", { cx: "11", cy: "11", r: "8", key: "4ej97u" }],
  ["path", { d: "m21 21-4.3-4.3", key: "1qie3q" }]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const iL = Ie("Settings", [
  [
    "path",
    {
      d: "M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",
      key: "1qme2f"
    }
  ],
  ["circle", { cx: "12", cy: "12", r: "3", key: "1v7zrd" }]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const YC = Ie("Shield", [
  [
    "path",
    {
      d: "M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",
      key: "oel41y"
    }
  ]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const oL = Ie("ShoppingCart", [
  ["circle", { cx: "8", cy: "21", r: "1", key: "jimo8o" }],
  ["circle", { cx: "19", cy: "21", r: "1", key: "13723u" }],
  [
    "path",
    {
      d: "M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",
      key: "9zh506"
    }
  ]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const JY = Ie("SquareCheckBig", [
  ["path", { d: "m9 11 3 3L22 4", key: "1pflzl" }],
  ["path", { d: "M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11", key: "1jnkn4" }]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const QY = Ie("SquarePen", [
  ["path", { d: "M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7", key: "1m0v6g" }],
  [
    "path",
    {
      d: "M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",
      key: "ohrbg2"
    }
  ]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const yv = Ie("Star", [
  [
    "polygon",
    {
      points: "12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",
      key: "8f66p6"
    }
  ]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const eG = Ie("Store", [
  ["path", { d: "m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7", key: "ztvudi" }],
  ["path", { d: "M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8", key: "1b2hhj" }],
  ["path", { d: "M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4", key: "2ebpfo" }],
  ["path", { d: "M2 7h20", key: "1fcdvo" }],
  [
    "path",
    {
      d: "M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",
      key: "6c3vgh"
    }
  ]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const wc = Ie("Trash2", [
  ["path", { d: "M3 6h18", key: "d0wm0j" }],
  ["path", { d: "M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6", key: "4alrt4" }],
  ["path", { d: "M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2", key: "v07s0e" }],
  ["line", { x1: "10", x2: "10", y1: "11", y2: "17", key: "1uufr5" }],
  ["line", { x1: "14", x2: "14", y1: "11", y2: "17", key: "xtxkd" }]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const tG = Ie("TriangleAlert", [
  [
    "path",
    {
      d: "m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",
      key: "wmoenq"
    }
  ],
  ["path", { d: "M12 9v4", key: "juzpu7" }],
  ["path", { d: "M12 17h.01", key: "p32p05" }]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const rG = Ie("Twitter", [
  [
    "path",
    {
      d: "M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",
      key: "pff0z6"
    }
  ]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const nG = Ie("Upload", [
  ["path", { d: "M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4", key: "ih7n3h" }],
  ["polyline", { points: "17 8 12 3 7 8", key: "t8dd8p" }],
  ["line", { x1: "12", x2: "12", y1: "3", y2: "15", key: "widbto" }]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const sG = Ie("UserPlus", [
  ["path", { d: "M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2", key: "1yyitq" }],
  ["circle", { cx: "9", cy: "7", r: "4", key: "nufk8" }],
  ["line", { x1: "19", x2: "19", y1: "8", y2: "14", key: "1bvyxn" }],
  ["line", { x1: "22", x2: "16", y1: "11", y2: "11", key: "1shjgl" }]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const xu = Ie("User", [
  ["path", { d: "M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2", key: "975kel" }],
  ["circle", { cx: "12", cy: "7", r: "4", key: "17ys0d" }]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Ag = Ie("Users", [
  ["path", { d: "M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2", key: "1yyitq" }],
  ["circle", { cx: "9", cy: "7", r: "4", key: "nufk8" }],
  ["path", { d: "M22 21v-2a4 4 0 0 0-3-3.87", key: "kshegd" }],
  ["path", { d: "M16 3.13a4 4 0 0 1 0 7.75", key: "1da9ce" }]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Ya = Ie("X", [
  ["path", { d: "M18 6 6 18", key: "1bl5f8" }],
  ["path", { d: "m6 6 12 12", key: "d8bk6v" }]
]);
/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const iG = Ie("Zap", [
  [
    "path",
    {
      d: "M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",
      key: "1xq2db"
    }
  ]
]), oG = ({ userProfile: e }) => u.jsxs("div", { children: [u.jsx("h2", { className: "section-title text-2xl font-semibold text-secondary mb-4 border-b-2 border-primary-dark pb-2", children: "Dashboard Overview" }), u.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8", children: [u.jsxs("div", { className: "bg-primary-dark/20 border border-primary-dark rounded-lg p-4 text-center", children: [u.jsx("span", { className: "block text-3xl font-bold text-secondary", children: e.books_read }), u.jsx("div", { className: "text-sm text-primary-light mt-1", children: "Books Read" })] }), u.jsxs("div", { className: "bg-primary-dark/20 border border-primary-dark rounded-lg p-4 text-center", children: [u.jsx("span", { className: "block text-3xl font-bold text-secondary", children: e.currently_reading }), u.jsx("div", { className: "text-sm text-primary-light mt-1", children: "Currently Reading" })] }), u.jsxs("div", { className: "bg-primary-dark/20 border border-primary-dark rounded-lg p-4 text-center", children: [u.jsx("span", { className: "block text-3xl font-bold text-secondary", children: e.reading_hours }), u.jsx("div", { className: "text-sm text-primary-light mt-1", children: "Reading Hours" })] }), u.jsxs("div", { className: "bg-primary-dark/20 border border-primary-dark rounded-lg p-4 text-center", children: [u.jsx("span", { className: "block text-3xl font-bold text-secondary", children: e.achievements_count }), u.jsx("div", { className: "text-sm text-primary-light mt-1", children: "Achievements" })] })] }), u.jsx("h3", { className: "text-xl font-semibold text-secondary mb-4", children: "Recent Activity" }), u.jsxs("div", { className: "space-y-4", children: [u.jsxs("div", { className: "bg-background-dark/50 border border-background-dark rounded-lg p-4 flex items-center gap-4", children: [u.jsx("div", { className: "w-16 h-20 bg-primary-dark flex items-center justify-center text-lg font-bold rounded-md", children: "V1" }), u.jsxs("div", { children: [u.jsx("div", { className: "font-semibold text-text-light", children: "Volume 1: Foundations of Ruin" }), u.jsx("div", { className: "text-sm text-primary-light", children: "Completed  Read 3 days ago" })] })] }), u.jsxs("div", { className: "bg-background-dark/50 border border-background-dark rounded-lg p-4 flex items-center gap-4", children: [u.jsx("div", { className: "w-16 h-20 bg-primary-dark flex items-center justify-center text-lg font-bold rounded-md", children: "A3" }), u.jsxs("div", { children: [u.jsx("div", { className: "font-semibold text-text-light", children: "Arc 3: The Silent Accord" }), u.jsx("div", { className: "text-sm text-primary-light", children: "Chapter 5 of 8" }), u.jsx("div", { className: "w-full bg-primary-dark/30 rounded-full h-1.5 mt-1", children: u.jsx("div", { className: "bg-secondary h-1.5 rounded-full", style: { width: "62.5%" } }) })] })] })] })] }), aG = ({ userProfile: e, onProfileUpdate: t }) => {
  const [r, n] = L(e.display_name || ""), [s, i] = L(e.bio || ""), [o, a] = L(e.location || ""), [l, c] = L(e.favorite_genre || ""), [d, f] = L(e.reading_goal || 0), [h, p] = L(!1);
  ve(() => {
    n(e.display_name || ""), i(e.bio || ""), a(e.location || ""), c(e.favorite_genre || ""), f(e.reading_goal || 0);
  }, [e]);
  const g = async (m) => {
    m.preventDefault(), p(!0);
    const y = {
      display_name: r,
      bio: s,
      location: o,
      favorite_genre: l,
      reading_goal: d,
      updated_at: (/* @__PURE__ */ new Date()).toISOString()
    }, { error: v } = await he.from("profiles").update(y).eq("id", e.id);
    v ? (console.error("Error updating profile:", v.message), alert("Error updating profile!")) : (alert("Profile updated successfully!"), t({ ...e, ...y })), p(!1);
  };
  return u.jsxs("div", { children: [u.jsx("h2", { className: "section-title text-2xl font-semibold text-secondary mb-4 border-b-2 border-primary-dark pb-2", children: "Edit Profile" }), u.jsxs("form", { onSubmit: g, children: [u.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4 mb-4", children: [u.jsxs("div", { className: "form-group", children: [u.jsx("label", { className: "block text-text-light text-sm font-bold mb-2", children: "Username" }), u.jsx("input", { type: "text", className: "w-full p-2 rounded-md bg-background-dark border border-primary-dark text-text-light", value: e.username, readOnly: !0 })] }), u.jsxs("div", { className: "form-group", children: [u.jsx("label", { className: "block text-text-light text-sm font-bold mb-2", children: "Display Name" }), u.jsx("input", { type: "text", className: "w-full p-2 rounded-md bg-background-dark border border-primary-dark text-text-light", value: r, onChange: (m) => n(m.target.value) })] }), u.jsxs("div", { className: "form-group", children: [u.jsx("label", { className: "block text-text-light text-sm font-bold mb-2", children: "Email" }), u.jsx("input", { type: "email", className: "w-full p-2 rounded-md bg-background-dark border border-primary-dark text-text-light", value: e.email || "N/A", readOnly: !0 })] }), u.jsxs("div", { className: "form-group", children: [u.jsx("label", { className: "block text-text-light text-sm font-bold mb-2", children: "Location" }), u.jsx("input", { type: "text", className: "w-full p-2 rounded-md bg-background-dark border border-primary-dark text-text-light", value: o, onChange: (m) => a(m.target.value) })] })] }), u.jsxs("div", { className: "form-group mb-4", children: [u.jsx("label", { className: "block text-text-light text-sm font-bold mb-2", children: "Bio" }), u.jsx("textarea", { className: "w-full p-2 rounded-md bg-background-dark border border-primary-dark text-text-light h-24 resize-y", value: s, onChange: (m) => i(m.target.value) })] }), u.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4 mb-6", children: [u.jsxs("div", { className: "form-group", children: [u.jsx("label", { className: "block text-text-light text-sm font-bold mb-2", children: "Favorite Genre" }), u.jsx("input", { type: "text", className: "w-full p-2 rounded-md bg-background-dark border border-primary-dark text-text-light", value: l, onChange: (m) => c(m.target.value) })] }), u.jsxs("div", { className: "form-group", children: [u.jsx("label", { className: "block text-text-light text-sm font-bold mb-2", children: "Reading Goal (Books/Year)" }), u.jsx("input", { type: "number", className: "w-full p-2 rounded-md bg-background-dark border border-primary-dark text-text-light", value: d, onChange: (m) => f(parseInt(m.target.value)) })] })] }), u.jsx("button", { type: "submit", className: "bg-secondary hover:bg-secondary-dark text-background-dark font-bold py-2 px-4 rounded-md transition-colors duration-300", disabled: h, children: h ? "Saving..." : "Save Changes" })] })] });
}, lG = ({ userProfile: e }) => {
  const [t, r] = L([]), [n, s] = L(!0), [i, o] = L(null);
  ve(() => {
    (async () => {
      try {
        s(!0);
        const { data: { user: c } } = await he.auth.getUser();
        if (!c) {
          o("User not authenticated."), s(!1);
          return;
        }
        const d = (/* @__PURE__ */ new Date()).toISOString();
        let h = he.from("subscriptions").select("id").eq("user_id", c.id).eq("is_active", !0).lte("start_date", d);
        h = h.or(`current_period_end.gte.${d},current_period_end.is.null`);
        const { data: p, error: g } = await h;
        if (g)
          throw g;
        const m = p;
        if (!m || m.length === 0) {
          o("No active subscriptions found."), s(!1);
          return;
        }
        const { data: y, error: v } = await he.from("entitlements").select("scope").eq("user_id", c.id);
        if (v)
          throw v;
        if (!y || y.length === 0) {
          o("No content entitlements found for your active subscription."), s(!1);
          return;
        }
        const b = y.map((w) => w.scope.split(":")[1]), { data: x, error: S } = await he.from("chapters").select("*").in("work_id", b).eq("is_published", !0).order("chapter_number", { ascending: !0 });
        if (S)
          throw S;
        r(x || []);
      } catch (c) {
        console.error("Error fetching chapters:", c.message), o("Failed to load chapters: " + c.message);
      } finally {
        s(!1);
      }
    })();
  }, []);
  const a = async (l) => {
    var c;
    try {
      const d = await fetch(`/api/chapters/secure/${l}`, {
        headers: {
          Authorization: `Bearer ${(c = (await he.auth.getSession()).data.session) == null ? void 0 : c.access_token}`
        }
      });
      if (!d.ok) {
        const h = await d.json();
        throw new Error(h.error || "Failed to get signed URL.");
      }
      const f = await d.json();
      window.open(f.signedUrl, "_blank");
    } catch (d) {
      console.error("Error reading chapter:", d.message), alert("Error reading chapter: " + d.message);
    }
  };
  return n ? u.jsx("div", { className: "text-center py-4", children: "Loading chapters..." }) : i ? u.jsx("div", { className: "text-center py-4 text-red-500", children: i }) : t.length === 0 ? u.jsx("div", { className: "text-center py-4", children: "No chapters found for your active subscriptions." }) : u.jsxs("div", { className: "p-4", children: [u.jsx("h2", { className: "text-2xl font-semibold mb-4", children: "Your Chapters" }), u.jsx("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4", children: t.map((l) => u.jsxs("div", { className: "bg-background-dark p-4 rounded-lg shadow-md", children: [u.jsx("h3", { className: "text-xl font-medium text-primary", children: l.title }), u.jsxs("p", { className: "text-text-light", children: ["Chapter ", l.chapter_number] }), u.jsxs("p", { className: "text-text-light text-sm", children: ["Work ID: ", l.work_id] }), u.jsx("button", { className: "mt-4 bg-primary hover:bg-primary-dark text-white font-bold py-2 px-4 rounded", onClick: () => a(l.id), children: "Read Chapter" })] }, l.id)) })] });
}, cG = ({ userProfile: e }) => u.jsxs("div", { children: [u.jsx("h2", { className: "section-title text-2xl font-semibold text-secondary mb-4 border-b-2 border-primary-dark pb-2", children: "Achievements" }), u.jsxs("div", { className: "grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4", children: [u.jsxs("div", { className: "bg-primary-dark/20 border border-primary-dark rounded-lg p-4 text-center transition-all duration-300 hover:scale-105", children: [u.jsx("span", { className: "block text-4xl mb-2", children: "" }), u.jsx("div", { className: "font-semibold text-text-light text-sm", children: "First Chapter" })] }), u.jsxs("div", { className: "bg-primary-dark/20 border border-primary-dark rounded-lg p-4 text-center transition-all duration-300 hover:scale-105", children: [u.jsx("span", { className: "block text-4xl mb-2", children: "" }), u.jsx("div", { className: "font-semibold text-text-light text-sm", children: "Book Reviewer" })] }), u.jsxs("div", { className: "bg-primary-dark/20 border border-primary-dark rounded-lg p-4 text-center transition-all duration-300 hover:scale-105", children: [u.jsx("span", { className: "block text-4xl mb-2", children: "" }), u.jsx("div", { className: "font-semibold text-text-light text-sm", children: "Reading Streak" })] }), u.jsxs("div", { className: "bg-primary-dark/20 border border-primary-dark rounded-lg p-4 text-center transition-all duration-300 hover:scale-105", children: [u.jsx("span", { className: "block text-4xl mb-2", children: "" }), u.jsx("div", { className: "font-semibold text-text-light text-sm", children: "Beta Reader" })] }), u.jsxs("div", { className: "bg-background-dark/50 border border-background-dark rounded-lg p-4 text-center transition-all duration-300 hover:scale-105", children: [u.jsx("span", { className: "block text-4xl mb-2", children: "" }), u.jsx("div", { className: "font-semibold text-text-light text-sm", children: "Completionist" })] }), u.jsxs("div", { className: "bg-background-dark/50 border border-background-dark rounded-lg p-4 text-center transition-all duration-300 hover:scale-105", children: [u.jsx("span", { className: "block text-4xl mb-2", children: "" }), u.jsx("div", { className: "font-semibold text-text-light text-sm", children: "Super Fan" })] })] })] }), uG = ({ userProfile: e }) => u.jsxs("div", { children: [u.jsx("h2", { className: "section-title text-2xl font-semibold text-secondary mb-4 border-b-2 border-primary-dark pb-2", children: "Preferences" }), u.jsxs("div", { className: "bg-background-dark/50 rounded-lg p-6 mb-6", children: [u.jsx("h3", { className: "text-xl font-semibold text-secondary mb-4", children: "Reading Preferences" }), u.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [u.jsxs("div", { className: "flex items-center", children: [u.jsx("input", { type: "checkbox", id: "darkMode", className: "form-checkbox h-5 w-5 text-secondary rounded", defaultChecked: !0 }), u.jsx("label", { htmlFor: "darkMode", className: "ml-2 text-text-light", children: "Dark mode" })] }), u.jsxs("div", { className: "flex items-center", children: [u.jsx("input", { type: "checkbox", id: "autoBookmark", className: "form-checkbox h-5 w-5 text-secondary rounded" }), u.jsx("label", { htmlFor: "autoBookmark", className: "ml-2 text-text-light", children: "Auto-bookmark progress" })] }), u.jsxs("div", { className: "flex items-center", children: [u.jsx("input", { type: "checkbox", id: "readingReminders", className: "form-checkbox h-5 w-5 text-secondary rounded", defaultChecked: !0 }), u.jsx("label", { htmlFor: "readingReminders", className: "ml-2 text-text-light", children: "Reading reminders" })] }), u.jsxs("div", { className: "flex items-center", children: [u.jsx("input", { type: "checkbox", id: "spoilerWarnings", className: "form-checkbox h-5 w-5 text-secondary rounded", defaultChecked: !0 }), u.jsx("label", { htmlFor: "spoilerWarnings", className: "ml-2 text-text-light", children: "Spoiler warnings" })] })] })] }), u.jsxs("div", { className: "bg-background-dark/50 rounded-lg p-6 mb-6", children: [u.jsx("h3", { className: "text-xl font-semibold text-secondary mb-4", children: "Notifications" }), u.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [u.jsxs("div", { className: "flex items-center", children: [u.jsx("input", { type: "checkbox", id: "newReleases", className: "form-checkbox h-5 w-5 text-secondary rounded", defaultChecked: !0 }), u.jsx("label", { htmlFor: "newReleases", className: "ml-2 text-text-light", children: "New releases" })] }), u.jsxs("div", { className: "flex items-center", children: [u.jsx("input", { type: "checkbox", id: "blogUpdates", className: "form-checkbox h-5 w-5 text-secondary rounded", defaultChecked: !0 }), u.jsx("label", { htmlFor: "blogUpdates", className: "ml-2 text-text-light", children: "Blog updates" })] }), u.jsxs("div", { className: "flex items-center", children: [u.jsx("input", { type: "checkbox", id: "communityUpdates", className: "form-checkbox h-5 w-5 text-secondary rounded" }), u.jsx("label", { htmlFor: "communityUpdates", className: "ml-2 text-text-light", children: "Community updates" })] }), u.jsxs("div", { className: "flex items-center", children: [u.jsx("input", { type: "checkbox", id: "betaInvites", className: "form-checkbox h-5 w-5 text-secondary rounded", defaultChecked: !0 }), u.jsx("label", { htmlFor: "betaInvites", className: "ml-2 text-text-light", children: "Beta reader invites" })] })] })] }), u.jsx("button", { className: "bg-secondary hover:bg-secondary-dark text-background-dark font-bold py-2 px-4 rounded-md transition-colors duration-300", children: "Save Preferences" })] }), dG = ({ userProfile: e }) => u.jsxs("div", { children: [u.jsx("h2", { className: "section-title text-2xl font-semibold text-secondary mb-4 border-b-2 border-primary-dark pb-2", children: "Security Settings" }), u.jsxs("div", { className: "bg-background-dark/50 rounded-lg p-6 mb-6", children: [u.jsx("h3", { className: "text-xl font-semibold text-secondary mb-4", children: "Change Password" }), u.jsxs("div", { className: "mb-4", children: [u.jsx("label", { className: "block text-text-light text-sm font-bold mb-2", children: "Current Password" }), u.jsx("input", { type: "password", className: "w-full p-2 rounded-md bg-background-dark border border-primary-dark text-text-light" })] }), u.jsxs("div", { className: "mb-4", children: [u.jsx("label", { className: "block text-text-light text-sm font-bold mb-2", children: "New Password" }), u.jsx("input", { type: "password", className: "w-full p-2 rounded-md bg-background-dark border border-primary-dark text-text-light" })] }), u.jsxs("div", { className: "mb-6", children: [u.jsx("label", { className: "block text-text-light text-sm font-bold mb-2", children: "Confirm New Password" }), u.jsx("input", { type: "password", className: "w-full p-2 rounded-md bg-background-dark border border-primary-dark text-text-light" })] }), u.jsx("button", { className: "bg-secondary hover:bg-secondary-dark text-background-dark font-bold py-2 px-4 rounded-md transition-colors duration-300", children: "Update Password" })] }), u.jsxs("div", { className: "bg-background-dark/50 rounded-lg p-6 mb-6", children: [u.jsx("h3", { className: "text-xl font-semibold text-secondary mb-4", children: "Account Settings" }), u.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [u.jsxs("div", { className: "flex items-center", children: [u.jsx("input", { type: "checkbox", id: "twoFactor", className: "form-checkbox h-5 w-5 text-secondary rounded" }), u.jsx("label", { htmlFor: "twoFactor", className: "ml-2 text-text-light", children: "Enable two-factor authentication" })] }), u.jsxs("div", { className: "flex items-center", children: [u.jsx("input", { type: "checkbox", id: "loginNotifications", className: "form-checkbox h-5 w-5 text-secondary rounded", defaultChecked: !0 }), u.jsx("label", { htmlFor: "loginNotifications", className: "ml-2 text-text-light", children: "Login notifications" })] }), u.jsxs("div", { className: "flex items-center", children: [u.jsx("input", { type: "checkbox", id: "profilePublic", className: "form-checkbox h-5 w-5 text-secondary rounded", defaultChecked: !0 }), u.jsx("label", { htmlFor: "profilePublic", className: "ml-2 text-text-light", children: "Public profile" })] })] })] }), u.jsxs("div", { className: "bg-red-900/20 border border-red-700 rounded-lg p-6", children: [u.jsx("h3", { className: "text-xl font-semibold text-red-500 mb-4", children: "Danger Zone" }), u.jsx("button", { className: "bg-red-700 hover:bg-red-800 text-white font-bold py-2 px-4 rounded-md transition-colors duration-300", children: "Delete Account" })] })] }), b$e = () => {
  var m;
  const { user: e, userProfile: t, isLoading: r, isAuthenticated: n } = Qh(), [s, i] = L("overview"), [o, a] = L(null), l = io(), c = t;
  ve(() => {
    !r && !n && l("/login");
  }, [r, n, l]);
  const d = async () => {
    await he.auth.signOut(), l("/login");
  }, f = (y) => {
  };
  if (r)
    return u.jsxs("div", { className: "flex justify-center items-center min-h-screen", children: [u.jsx("div", { className: "animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary" }), u.jsx("span", { className: "ml-4 text-text-light", children: "Loading your profile..." })] });
  if (o)
    return u.jsxs("div", { className: "flex flex-col items-center justify-center min-h-screen p-4", children: [u.jsxs("div", { className: "bg-red-100 border-l-4 border-red-500 text-red-700 p-4 w-full max-w-2xl", role: "alert", children: [u.jsx("p", { className: "font-bold", children: "Error" }), u.jsx("p", { children: o })] }), u.jsx("button", { onClick: () => window.location.reload(), className: "mt-4 px-4 py-2 bg-primary text-white rounded hover:bg-primary-dark transition-colors", children: "Try Again" })] });
  if (!c)
    return u.jsx("div", { className: "flex justify-center items-center min-h-screen", children: u.jsxs("div", { className: "text-center", children: [u.jsx("p", { className: "text-text-light text-lg mb-4", children: "No profile data found." }), u.jsx("button", { onClick: () => l("/login"), className: "px-4 py-2 bg-primary text-white rounded hover:bg-primary-dark transition-colors", children: "Go to Login" })] }) });
  const h = (y) => {
    i(y);
  }, p = [
    {
      id: "overview",
      name: "Overview",
      icon: u.jsx(xu, { size: 18 }),
      component: u.jsx(oG, { userProfile: c })
    },
    {
      id: "profile",
      name: "Profile",
      icon: u.jsx(xu, { size: 18 }),
      component: u.jsx(aG, { userProfile: c, onProfileUpdate: f })
    },
    {
      id: "reading",
      name: "Reading",
      icon: u.jsx(Uu, { size: 18 }),
      component: u.jsx(lG, { userProfile: c })
    },
    {
      id: "achievements",
      name: "Achievements",
      icon: u.jsx(DY, { size: 18 }),
      component: u.jsx(cG, { userProfile: c })
    },
    {
      id: "preferences",
      name: "Preferences",
      icon: u.jsx(iL, { size: 18 }),
      component: u.jsx(uG, { userProfile: c })
    },
    {
      id: "security",
      name: "Security",
      icon: u.jsx(YC, { size: 18 }),
      component: u.jsx(dG, { userProfile: c })
    }
  ], g = [
    { label: "Books Read", value: c.books_read || 0, icon: u.jsx(RY, { size: 16 }) },
    { label: "Reading Goal", value: `${c.reading_goal || 0} books`, icon: u.jsx(yv, { size: 16 }) },
    { label: "Reading Streak", value: `${c.reading_streak || 0} days`, icon: u.jsx(HS, { size: 16 }) },
    { label: "Account Security", value: "Strong", icon: u.jsx(rL, { size: 16 }) }
  ];
  return u.jsxs("div", { className: "min-h-screen bg-gradient-to-b from-background-dark to-background-darker text-text-light", children: [u.jsx("div", { className: "bg-background-darker/50 backdrop-blur-md border-b border-gray-800", children: u.jsx("div", { className: "max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8", children: u.jsxs("div", { className: "flex flex-col md:flex-row md:items-center justify-between", children: [u.jsxs("div", { children: [u.jsx("h1", { className: "text-3xl font-bold text-white", children: "Account Dashboard" }), u.jsx("p", { className: "mt-2 text-gray-400", children: "Manage your profile and preferences" })] }), u.jsxs("button", { onClick: d, className: "mt-4 md:mt-0 inline-flex items-center px-4 py-2 border border-red-600 text-red-400 rounded-md hover:bg-red-600/10 transition-colors duration-200", children: [u.jsx(nL, { size: 16, className: "mr-2" }), "Sign Out"] })] }) }) }), u.jsx("div", { className: "max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8", children: u.jsxs("div", { className: "flex flex-col lg:flex-row gap-8", children: [u.jsxs("aside", { className: "w-full lg:w-64 flex-shrink-0", children: [u.jsxs("div", { className: "bg-background-light/50 backdrop-blur-sm rounded-xl overflow-hidden border border-gray-800", children: [u.jsxs("div", { className: "p-6 text-center border-b border-gray-800", children: [u.jsxs("div", { className: "relative inline-block", children: [u.jsx("div", { className: "w-24 h-24 rounded-full bg-gradient-to-br from-primary to-secondary flex items-center justify-center text-4xl font-bold text-white", children: c.display_name ? c.display_name.charAt(0).toUpperCase() : c.username.charAt(0).toUpperCase() }), u.jsx("button", { className: "absolute -bottom-1 -right-1 bg-primary w-8 h-8 rounded-full flex items-center justify-center text-white hover:bg-primary/90 transition-colors", children: u.jsx(xu, { size: 16 }) })] }), u.jsx("h2", { className: "mt-4 text-xl font-semibold text-white", children: c.display_name || c.username }), u.jsx("p", { className: "text-sm text-gray-400", children: c.role || "Member" })] }), u.jsx("nav", { className: "p-2", children: u.jsxs("ul", { className: "space-y-1", children: [p.map((y) => u.jsx("li", { children: u.jsxs("button", { onClick: () => h(y.id), className: `w-full flex items-center justify-between px-4 py-3 text-sm font-medium rounded-lg transition-colors ${s === y.id ? "bg-primary/10 text-primary" : "text-gray-300 hover:bg-gray-800/50 hover:text-white"}`, children: [u.jsxs("div", { className: "flex items-center", children: [u.jsx("span", { className: "mr-3", children: y.icon }), y.name] }), u.jsx(lh, { size: 16, className: "text-gray-500" })] }) }, y.id)), c.role === "admin" && u.jsx("li", { children: u.jsxs("a", { href: "/admin", className: "w-full flex items-center justify-between px-4 py-3 text-sm font-medium text-amber-400 rounded-lg hover:bg-amber-900/20 transition-colors", children: [u.jsxs("div", { className: "flex items-center", children: [u.jsx(YC, { size: 18, className: "mr-3" }), "Admin Dashboard"] }), u.jsx(lh, { size: 16 })] }) })] }) })] }), s === "overview" && u.jsxs("div", { className: "mt-6 bg-background-light/50 backdrop-blur-sm rounded-xl p-6 border border-gray-800", children: [u.jsx("h3", { className: "text-sm font-medium text-gray-400 mb-4", children: "YOUR STATS" }), u.jsx("div", { className: "space-y-4", children: g.map((y, v) => u.jsxs("div", { className: "flex items-center", children: [u.jsx("div", { className: "flex-shrink-0 w-8 h-8 rounded-lg bg-primary/10 flex items-center justify-center text-primary", children: y.icon }), u.jsxs("div", { className: "ml-3", children: [u.jsx("p", { className: "text-sm font-medium text-gray-300", children: y.label }), u.jsx("p", { className: "text-lg font-semibold text-white", children: y.value })] })] }, v)) })] })] }), u.jsx("main", { className: "flex-1", children: u.jsx("div", { className: "bg-background-light/50 backdrop-blur-sm rounded-xl border border-gray-800 overflow-hidden", children: u.jsx("div", { className: "p-6", children: (m = p.find((y) => y.id === s)) == null ? void 0 : m.component }) }) })] }) })] });
}, fG = [
  { name: "Dashboard", href: "/account/admin", icon: KY },
  { name: "Posts", href: "/account/admin/posts", icon: zY },
  { name: "Media", href: "/account/admin/media", icon: nG },
  { name: "Users", href: "/account/admin/users", icon: Ag },
  { name: "Beta Applications", href: "/account/admin/beta-applications", icon: Ag },
  { name: "Store", href: "/account/admin/store", icon: eG },
  { name: "Works", href: "/account/admin/works", icon: Uu },
  { name: "Timeline", href: "/account/admin/timeline/events", icon: QM },
  { name: "Settings", href: "/account/admin/settings", icon: iL }
], x$e = () => {
  var d, f;
  const [e, t] = L(!1), [r, n] = L(!1), s = wi(), i = io(), { user: o, userProfile: a } = Qh();
  ve(() => {
    n(!1);
  }, [s]);
  const l = () => {
    t(!e);
  }, c = async () => {
    await he.auth.signOut(), i("/login");
  };
  return u.jsxs("div", { className: "min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 transition-colors duration-200 flex", children: [u.jsx("button", { onClick: l, className: Ze(
    "fixed top-4 left-0 z-50 p-2 rounded-r-lg bg-white dark:bg-gray-800 shadow-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-all duration-300",
    e ? "translate-x-0" : "translate-x-64",
    "lg:hidden"
    // Only show on mobile
  ), "aria-label": e ? "Expand sidebar" : "Collapse sidebar", children: e ? u.jsx(lh, { size: 20 }) : u.jsx(IY, { size: 20 }) }), u.jsx("aside", { className: Ze(
    "fixed top-0 left-0 z-40 h-screen bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 transition-all duration-300 ease-in-out",
    e ? "w-0 opacity-0" : "w-64 opacity-100",
    r ? "translate-x-0" : "-translate-x-full lg:translate-x-0",
    "lg:opacity-100"
    // Always show on desktop
  ), children: u.jsxs("div", { className: "h-full flex flex-col", children: [u.jsx("div", { className: "p-4 border-b border-gray-200 dark:border-gray-700", children: u.jsx("h2", { className: "text-xl font-bold", children: "Admin" }) }), u.jsx("nav", { className: "flex-1 overflow-y-auto py-4 px-2", children: u.jsx("ul", { className: "space-y-1", children: fG.map((h) => u.jsx("li", { children: u.jsxs(Bf, { to: h.href, end: h.href === "/account/admin", className: ({ isActive: p }) => Ze("flex items-center p-3 rounded-lg transition-colors", p ? "bg-blue-50 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400" : "hover:bg-gray-100 dark:hover:bg-gray-700", e ? "justify-center" : "space-x-3"), children: [u.jsx(h.icon, { size: 20, className: "flex-shrink-0" }), !e && u.jsx("span", { children: h.name })] }) }, h.name)) }) }), u.jsx("div", { className: "p-4 border-t border-gray-200 dark:border-gray-700", children: u.jsxs("div", { className: Ze("flex items-center", e ? "justify-center" : "justify-between"), children: [!e && u.jsxs("div", { className: "flex items-center space-x-3", children: [u.jsx("div", { className: "w-9 h-9 rounded-full bg-blue-500 flex items-center justify-center text-white font-bold", children: ((d = a == null ? void 0 : a.display_name) == null ? void 0 : d.charAt(0)) || ((f = o == null ? void 0 : o.email) == null ? void 0 : f.charAt(0).toUpperCase()) }), u.jsxs("div", { children: [u.jsx("p", { className: "text-sm font-medium truncate max-w-[140px]", children: (a == null ? void 0 : a.display_name) || "Admin User" }), u.jsx("p", { className: "text-xs text-gray-500 dark:text-gray-400 truncate max-w-[140px]", children: o == null ? void 0 : o.email })] })] }), u.jsx("button", { onClick: c, className: "p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700", title: "Sign out", children: u.jsx(nL, { size: 18 }) })] }) })] }) }), u.jsx("div", { className: Ze("transition-all duration-300 min-h-screen", e ? "lg:ml-0" : "lg:ml-64", "ml-0 w-full"), children: u.jsx("div", { className: "w-full max-w-[2000px] mx-auto px-4 py-6", children: u.jsx("div", { className: "bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4 md:p-6", children: u.jsx(WM, {}) }) }) })] });
}, w$e = ({ children: e }) => {
  var o, a;
  const [t, r] = L(!0), [n, s] = L({ isAuthenticated: !1, isAdmin: !1 }), i = wi();
  return ve(() => {
    (async () => {
      console.log(" [AdminProtectedRoute] Checking session and admin status...");
      const { data: { session: c }, error: d } = await he.auth.getSession();
      if (d || !c) {
        console.log(" [AdminProtectedRoute] No authenticated session found."), s({ isAuthenticated: !1, isAdmin: !1 }), r(!1);
        return;
      }
      console.log(" [AdminProtectedRoute] Session found. User:", c.user.email);
      const { data: f, error: h } = await he.rpc("is_admin");
      h && console.error(" [AdminProtectedRoute] Error calling is_admin RPC:", h);
      const g = {
        isAuthenticated: !0,
        isAdmin: f === !0,
        user: c.user
      };
      console.log(" [AdminProtectedRoute] Final auth state:", g), s(g), r(!1);
    })();
  }, []), t ? u.jsx("div", { className: "min-h-screen flex items-center justify-center bg-gray-900 text-white", children: u.jsxs("div", { className: "text-center", children: [u.jsx("div", { className: "animate-spin rounded-full h-12 w-12 border-b-2 border-blue-400 mx-auto" }), u.jsx("p", { className: "mt-4", children: "Verifying Admin Privileges..." })] }) }) : n.isAuthenticated ? n.isAdmin ? u.jsx(u.Fragment, { children: e }) : (console.log(" [AdminProtectedRoute] Access Denied. User is not an admin."), u.jsx("div", { className: "min-h-screen bg-gray-900 py-12 px-4 sm:px-6 lg:px-8 text-white", children: u.jsx("div", { className: "max-w-4xl mx-auto", children: u.jsxs("div", { className: "bg-gray-800 shadow-lg rounded-lg overflow-hidden", children: [u.jsxs("div", { className: "bg-red-600 p-6", children: [u.jsx("h1", { className: "text-2xl font-bold", children: "Access Denied" }), u.jsx("p", { className: "text-red-100", children: "You do not have the necessary permissions to view this page." })] }), u.jsxs("div", { className: "p-6 space-y-4", children: [u.jsx("p", { children: "The page you are trying to access is restricted to administrators only." }), u.jsxs("div", { children: [u.jsx("h2", { className: "text-lg font-medium text-gray-300 mb-2", children: "Your Account Details" }), u.jsxs("dl", { className: "bg-gray-700/50 rounded-lg p-4 space-y-2 text-sm", children: [u.jsxs("div", { className: "flex justify-between", children: [u.jsx("dt", { className: "text-gray-400", children: "User ID" }), u.jsx("dd", { className: "font-mono", children: ((o = n.user) == null ? void 0 : o.id) || "N/A" })] }), u.jsxs("div", { className: "flex justify-between", children: [u.jsx("dt", { className: "text-gray-400", children: "Email" }), u.jsx("dd", { children: ((a = n.user) == null ? void 0 : a.email) || "N/A" })] }), u.jsxs("div", { className: "flex justify-between", children: [u.jsx("dt", { className: "text-gray-400", children: "Admin Status" }), u.jsx("dd", { className: "font-semibold text-red-400", children: "Not an Admin" })] })] })] }), u.jsx("p", { children: "If you believe this is an error, please contact support." }), u.jsx("div", { className: "pt-4", children: u.jsx("a", { href: "/", className: "px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700", children: "Go to Homepage" }) })] })] }) }) })) : (console.log(" [AdminProtectedRoute] Not authenticated, redirecting to login."), u.jsx(XH, { to: "/login", state: { from: i }, replace: !0 }));
}, hG = "_zoroHeader_6lzsp_2", pG = "_logo_6lzsp_16", mG = "_navbar_6lzsp_23", gG = "_navMenu_6lzsp_27", yG = "_navLink_6lzsp_39", vG = "_dropdownMenu_6lzsp_53", bG = "_dropdownMenuItem_6lzsp_73", xG = "_dropdown_6lzsp_53", wG = "_headerControls_6lzsp_96", _G = "_searchForm_6lzsp_121", SG = "_themeToggle_6lzsp_165", EG = "_icon_6lzsp_186", jG = "_iconSun_6lzsp_197", NG = "_iconMoon_6lzsp_203", cn = {
  zoroHeader: hG,
  logo: pG,
  navbar: mG,
  navMenu: gG,
  navLink: yG,
  dropdownMenu: vG,
  dropdownMenuItem: bG,
  dropdown: xG,
  headerControls: wG,
  searchForm: _G,
  themeToggle: SG,
  icon: EG,
  iconSun: jG,
  iconMoon: NG
}, GC = "zoro-theme", kG = () => {
  const [e, t] = L(() => {
    if (typeof window < "u") {
      const n = localStorage.getItem(GC), s = window.matchMedia("(prefers-color-scheme: dark)").matches;
      return n ?? (s ? "dark" : "light");
    }
    return "dark";
  });
  ve(() => {
    const n = window.document.documentElement;
    n.setAttribute("data-theme", e), localStorage.setItem(GC, e), e === "dark" ? (n.classList.add("dark"), n.classList.remove("light")) : (n.classList.add("light"), n.classList.remove("dark"));
  }, [e]);
  const r = () => {
    t((n) => n === "dark" ? "light" : "dark");
  };
  return u.jsxs("button", { id: "theme-toggle", className: cn.themeToggle, "aria-label": "Toggle dark mode", "aria-pressed": e === "dark" ? "true" : "false", title: e === "dark" ? "Switch to light mode" : "Switch to dark mode", onClick: r, children: [u.jsxs("svg", { className: `${cn.icon} ${cn.iconSun}`, viewBox: "0 0 24 24", width: "22", height: "22", "aria-hidden": "true", children: [u.jsx("circle", { cx: "12", cy: "12", r: "4", fill: "currentColor" }), u.jsxs("g", { stroke: "currentColor", strokeWidth: "2", strokeLinecap: "round", children: [u.jsx("line", { x1: "12", y1: "2", x2: "12", y2: "5" }), u.jsx("line", { x1: "12", y1: "19", x2: "12", y2: "22" }), u.jsx("line", { x1: "2", y1: "12", x2: "5", y2: "12" }), u.jsx("line", { x1: "19", y1: "12", x2: "22", y2: "12" }), u.jsx("line", { x1: "4.2", y1: "4.2", x2: "6.3", y2: "6.3" }), u.jsx("line", { x1: "17.7", y1: "17.7", x2: "19.8", y2: "19.8" }), u.jsx("line", { x1: "4.2", y1: "19.8", x2: "6.3", y2: "17.7" }), u.jsx("line", { x1: "17.7", y1: "6.3", x2: "19.8", y2: "4.2" })] })] }), u.jsx("svg", { className: `${cn.icon} ${cn.iconMoon}`, viewBox: "0 0 24 24", width: "22", height: "22", "aria-hidden": "true", children: u.jsx("path", { d: `M21 14.5a9 9 0 1 1-8.5-12
                 a8 8 0 0 0 8.5 12z`, fill: "currentColor" }) })] });
}, CG = () => {
  const [e, t] = L(!1), [r, n] = L(!1), [s, i] = L("none"), o = io();
  ve(() => {
    (async () => {
      var h, p;
      const { data: { session: f } } = await he.auth.getSession();
      n(!!f), (p = (h = f == null ? void 0 : f.user) == null ? void 0 : h.user_metadata) != null && p.betaApplicationStatus && i(f.user.user_metadata.betaApplicationStatus);
    })();
    const { data: d } = he.auth.onAuthStateChange((f, h) => {
      var p, g;
      n(!!h), (g = (p = h == null ? void 0 : h.user) == null ? void 0 : p.user_metadata) != null && g.betaApplicationStatus && i(h.user.user_metadata.betaApplicationStatus);
    });
    return () => {
      d.subscription.unsubscribe();
    };
  }, []);
  const a = async () => {
    await he.auth.signOut(), o("/");
  }, l = [
    { name: "Home", path: "/" },
    {
      name: "Explore",
      // New parent link
      path: "#",
      // Placeholder path for parent dropdown
      children: [
        // Removed Store and Subscriptions
        { name: "Library", path: "/library" },
        { name: "Wiki", path: "/wiki" },
        { name: "Timelines", path: "/timelines" },
        { name: "Characters", path: "/characters" },
        { name: "Blog", path: "/blog" }
      ]
    },
    { name: "Beta Program", path: "/beta/application" }
    // Top-level
  ];
  if (r) {
    const c = [];
    c.push({ name: "Store", path: "/store" }), c.push({ name: "Subscriptions", path: "/subscriptions" }), s === "accepted" && c.push({ name: "Beta Portal", path: "/beta/portal" }), c.push({ name: "My Account", path: "/account" }), l.push({ name: "Account", path: "#", children: c }), l.push({ name: "Logout", path: "#", onClick: a });
  } else
    l.push({ name: "Login", path: "/login" });
  return u.jsxs("header", { className: cn.zoroHeader, children: [u.jsx("div", { className: cn.logo, children: u.jsx(Bf, { to: "/", children: u.jsx("h1", { children: "Zoroasterverse" }) }) }), u.jsxs("div", { className: cn.headerControls, children: [" ", u.jsxs("form", { className: cn.searchForm, children: [u.jsx("input", { type: "text", placeholder: "Search..." }), u.jsxs("button", { type: "submit", children: [u.jsx(xc, {}), " "] })] }), u.jsx(kG, {}), " "] }), u.jsx("nav", { className: cn.navbar, children: u.jsx("ul", { className: cn.navMenu, children: l.map((c) => u.jsxs("li", { className: c.children ? cn.dropdown : "", children: [c.onClick ? u.jsx("button", { onClick: c.onClick, className: cn.navLink, children: c.name }) : u.jsxs(Bf, { to: c.path, className: cn.navLink, children: [c.name, " ", c.children ? "" : ""] }), c.children && u.jsx("ul", { className: cn.dropdownMenu, children: c.children.map((d) => u.jsx("li", { children: u.jsx(Bf, { to: d.path, className: cn.dropdownMenuItem, children: d.name }) }, d.name)) })] }, c.name)) }) })] });
}, TG = "_zoroFooter_8qpog_1", AG = "_footerContent_8qpog_8", PG = "_footerColumns_8qpog_13", OG = "_column_8qpog_20", DG = "_socialIcons_8qpog_50", $G = "_footerQuote_8qpog_59", ya = {
  zoroFooter: TG,
  footerContent: AG,
  footerColumns: PG,
  column: OG,
  socialIcons: DG,
  footerQuote: $G
}, RG = () => u.jsx("footer", { className: ya.zoroFooter, children: u.jsxs("div", { className: ya.footerContent, children: [u.jsxs("div", { className: ya.footerColumns, children: [u.jsxs("div", { className: ya.column, children: [u.jsx("h4", { children: "Zoroasterverse" }), u.jsx("p", { children: "Truth is the architect of happiness." }), u.jsxs("p", { children: [" ", (/* @__PURE__ */ new Date()).getFullYear(), " Zoroasterverse. All rights reserved."] })] }), u.jsxs("div", { className: ya.column, children: [u.jsx("h4", { children: "Explore" }), u.jsxs("ul", { children: [u.jsx("li", { children: u.jsx("a", { href: "/about", children: "About" }) }), u.jsx("li", { children: u.jsx("a", { href: "/books", children: "Books" }) }), u.jsx("li", { children: u.jsx("a", { href: "/collaborate", children: "Artist Collaboration" }) }), u.jsx("li", { children: u.jsx("a", { href: "/contact", children: "Contact" }) })] })] }), u.jsxs("div", { className: ya.column, children: [u.jsx("h4", { children: "Connect" }), u.jsxs("ul", { className: ya.socialIcons, children: [u.jsx("li", { children: u.jsx("a", { href: "#", children: u.jsx(rG, {}) }) }), u.jsx("li", { children: u.jsx("a", { href: "#", children: u.jsx(WY, {}) }) }), u.jsx("li", { children: u.jsx("a", { href: "#", children: u.jsx(sL, {}) }) })] })] })] }), u.jsx("div", { className: ya.footerQuote, children: u.jsx("em", { children: "Let your conscience be the altar where right intention dwells." }) })] }) }), _$e = () => u.jsxs("div", { className: "zr-root", children: [u.jsx(CG, {}), u.jsx("main", { children: u.jsx(WM, {}) }), u.jsx(RG, {})] });
var vv = class {
  constructor() {
    this.listeners = /* @__PURE__ */ new Set(), this.subscribe = this.subscribe.bind(this);
  }
  subscribe(e) {
    return this.listeners.add(e), this.onSubscribe(), () => {
      this.listeners.delete(e), this.onUnsubscribe();
    };
  }
  hasListeners() {
    return this.listeners.size > 0;
  }
  onSubscribe() {
  }
  onUnsubscribe() {
  }
}, uh = typeof window > "u" || "Deno" in globalThis;
function Pg() {
}
function ZC(e) {
  return typeof e == "number" && e >= 0 && e !== 1 / 0;
}
function IG(e, t) {
  return Math.max(e + (t || 0) - Date.now(), 0);
}
function Uf(e, t) {
  return typeof e == "function" ? e(t) : e;
}
function ti(e, t) {
  return typeof e == "function" ? e(t) : e;
}
function XC(e) {
  return JSON.stringify(
    e,
    (t, r) => Dw(r) ? Object.keys(r).sort().reduce((n, s) => (n[s] = r[s], n), {}) : r
  );
}
function Ow(e, t) {
  if (e === t)
    return e;
  const r = JC(e) && JC(t);
  if (r || Dw(e) && Dw(t)) {
    const n = r ? e : Object.keys(e), s = n.length, i = r ? t : Object.keys(t), o = i.length, a = r ? [] : {}, l = new Set(n);
    let c = 0;
    for (let d = 0; d < o; d++) {
      const f = r ? d : i[d];
      (!r && l.has(f) || r) && e[f] === void 0 && t[f] === void 0 ? (a[f] = void 0, c++) : (a[f] = Ow(e[f], t[f]), a[f] === e[f] && e[f] !== void 0 && c++);
    }
    return s === o && c === s ? e : a;
  }
  return t;
}
function Og(e, t) {
  if (!t || Object.keys(e).length !== Object.keys(t).length)
    return !1;
  for (const r in e)
    if (e[r] !== t[r])
      return !1;
  return !0;
}
function JC(e) {
  return Array.isArray(e) && e.length === Object.keys(e).length;
}
function Dw(e) {
  if (!QC(e))
    return !1;
  const t = e.constructor;
  if (t === void 0)
    return !0;
  const r = t.prototype;
  return !(!QC(r) || !r.hasOwnProperty("isPrototypeOf") || Object.getPrototypeOf(e) !== Object.prototype);
}
function QC(e) {
  return Object.prototype.toString.call(e) === "[object Object]";
}
function eT(e, t, r) {
  if (typeof r.structuralSharing == "function")
    return r.structuralSharing(e, t);
  if (r.structuralSharing !== !1) {
    if (process.env.NODE_ENV !== "production")
      try {
        return Ow(e, t);
      } catch (n) {
        throw console.error(
          `Structural sharing requires data to be JSON serializable. To fix this, turn off structuralSharing or return JSON-serializable data from your queryFn. [${r.queryHash}]: ${n}`
        ), n;
      }
    return Ow(e, t);
  }
  return t;
}
function aL(e, t) {
  return typeof e == "function" ? e(...t) : !!e;
}
var ql, $a, Ou, MR, MG = (MR = class extends vv {
  constructor() {
    super();
    _t(this, ql);
    _t(this, $a);
    _t(this, Ou);
    st(this, Ou, (t) => {
      if (!uh && window.addEventListener) {
        const r = () => t();
        return window.addEventListener("visibilitychange", r, !1), () => {
          window.removeEventListener("visibilitychange", r);
        };
      }
    });
  }
  onSubscribe() {
    ce(this, $a) || this.setEventListener(ce(this, Ou));
  }
  onUnsubscribe() {
    var t;
    this.hasListeners() || ((t = ce(this, $a)) == null || t.call(this), st(this, $a, void 0));
  }
  setEventListener(t) {
    var r;
    st(this, Ou, t), (r = ce(this, $a)) == null || r.call(this), st(this, $a, t((n) => {
      typeof n == "boolean" ? this.setFocused(n) : this.onFocus();
    }));
  }
  setFocused(t) {
    ce(this, ql) !== t && (st(this, ql, t), this.onFocus());
  }
  onFocus() {
    const t = this.isFocused();
    this.listeners.forEach((r) => {
      r(t);
    });
  }
  isFocused() {
    var t;
    return typeof ce(this, ql) == "boolean" ? ce(this, ql) : ((t = globalThis.document) == null ? void 0 : t.visibilityState) !== "hidden";
  }
}, ql = new WeakMap(), $a = new WeakMap(), Ou = new WeakMap(), MR), LG = new MG(), Du, Ra, $u, LR, FG = (LR = class extends vv {
  constructor() {
    super();
    _t(this, Du, !0);
    _t(this, Ra);
    _t(this, $u);
    st(this, $u, (t) => {
      if (!uh && window.addEventListener) {
        const r = () => t(!0), n = () => t(!1);
        return window.addEventListener("online", r, !1), window.addEventListener("offline", n, !1), () => {
          window.removeEventListener("online", r), window.removeEventListener("offline", n);
        };
      }
    });
  }
  onSubscribe() {
    ce(this, Ra) || this.setEventListener(ce(this, $u));
  }
  onUnsubscribe() {
    var t;
    this.hasListeners() || ((t = ce(this, Ra)) == null || t.call(this), st(this, Ra, void 0));
  }
  setEventListener(t) {
    var r;
    st(this, $u, t), (r = ce(this, Ra)) == null || r.call(this), st(this, Ra, t(this.setOnline.bind(this)));
  }
  setOnline(t) {
    ce(this, Du) !== t && (st(this, Du, t), this.listeners.forEach((n) => {
      n(t);
    }));
  }
  isOnline() {
    return ce(this, Du);
  }
}, Du = new WeakMap(), Ra = new WeakMap(), $u = new WeakMap(), LR), BG = new FG();
function tT() {
  let e, t;
  const r = new Promise((s, i) => {
    e = s, t = i;
  });
  r.status = "pending", r.catch(() => {
  });
  function n(s) {
    Object.assign(r, s), delete r.resolve, delete r.reject;
  }
  return r.resolve = (s) => {
    n({
      status: "fulfilled",
      value: s
    }), e(s);
  }, r.reject = (s) => {
    n({
      status: "rejected",
      reason: s
    }), t(s);
  }, r;
}
function zG(e) {
  return (e ?? "online") === "online" ? BG.isOnline() : !0;
}
var UG = (e) => setTimeout(e, 0);
function qG() {
  let e = [], t = 0, r = (a) => {
    a();
  }, n = (a) => {
    a();
  }, s = UG;
  const i = (a) => {
    t ? e.push(a) : s(() => {
      r(a);
    });
  }, o = () => {
    const a = e;
    e = [], a.length && s(() => {
      n(() => {
        a.forEach((l) => {
          r(l);
        });
      });
    });
  };
  return {
    batch: (a) => {
      let l;
      t++;
      try {
        l = a();
      } finally {
        t--, t || o();
      }
      return l;
    },
    /**
     * All calls to the wrapped function will be batched.
     */
    batchCalls: (a) => (...l) => {
      i(() => {
        a(...l);
      });
    },
    schedule: i,
    /**
     * Use this method to set a custom notify function.
     * This can be used to for example wrap notifications with `React.act` while running tests.
     */
    setNotifyFunction: (a) => {
      r = a;
    },
    /**
     * Use this method to set a custom function to batch notifications together into a single tick.
     * By default React Query will use the batch function provided by ReactDOM or React Native.
     */
    setBatchNotifyFunction: (a) => {
      n = a;
    },
    setScheduler: (a) => {
      s = a;
    }
  };
}
var bv = qG();
function VG(e, t) {
  return {
    fetchFailureCount: 0,
    fetchFailureReason: null,
    fetchStatus: zG(t.networkMode) ? "fetching" : "paused",
    ...e === void 0 && {
      error: null,
      status: "pending"
    }
  };
}
function WG() {
  return {
    context: void 0,
    data: void 0,
    error: null,
    failureCount: 0,
    failureReason: null,
    isPaused: !1,
    status: "idle",
    variables: void 0,
    submittedAt: 0
  };
}
var $n, ot, Kh, Sn, Vl, Ru, Eo, Ia, Hh, Iu, Mu, Wl, Kl, Ma, Lu, bt, bf, $w, Rw, Iw, Mw, Lw, Fw, Bw, lL, FR, KG = (FR = class extends vv {
  constructor(t, r) {
    super();
    _t(this, bt);
    _t(this, $n);
    _t(this, ot);
    _t(this, Kh);
    _t(this, Sn);
    _t(this, Vl);
    _t(this, Ru);
    _t(this, Eo);
    _t(this, Ia);
    _t(this, Hh);
    _t(this, Iu);
    // This property keeps track of the last query with defined data.
    // It will be used to pass the previous data and query to the placeholder function between renders.
    _t(this, Mu);
    _t(this, Wl);
    _t(this, Kl);
    _t(this, Ma);
    _t(this, Lu, /* @__PURE__ */ new Set());
    this.options = r, st(this, $n, t), st(this, Ia, null), st(this, Eo, tT()), this.bindMethods(), this.setOptions(r);
  }
  bindMethods() {
    this.refetch = this.refetch.bind(this);
  }
  onSubscribe() {
    this.listeners.size === 1 && (ce(this, ot).addObserver(this), rT(ce(this, ot), this.options) ? Lt(this, bt, bf).call(this) : this.updateResult(), Lt(this, bt, Mw).call(this));
  }
  onUnsubscribe() {
    this.hasListeners() || this.destroy();
  }
  shouldFetchOnReconnect() {
    return zw(
      ce(this, ot),
      this.options,
      this.options.refetchOnReconnect
    );
  }
  shouldFetchOnWindowFocus() {
    return zw(
      ce(this, ot),
      this.options,
      this.options.refetchOnWindowFocus
    );
  }
  destroy() {
    this.listeners = /* @__PURE__ */ new Set(), Lt(this, bt, Lw).call(this), Lt(this, bt, Fw).call(this), ce(this, ot).removeObserver(this);
  }
  setOptions(t) {
    const r = this.options, n = ce(this, ot);
    if (this.options = ce(this, $n).defaultQueryOptions(t), this.options.enabled !== void 0 && typeof this.options.enabled != "boolean" && typeof this.options.enabled != "function" && typeof ti(this.options.enabled, ce(this, ot)) != "boolean")
      throw new Error(
        "Expected enabled to be a boolean or a callback that returns a boolean"
      );
    Lt(this, bt, Bw).call(this), ce(this, ot).setOptions(this.options), r._defaulted && !Og(this.options, r) && ce(this, $n).getQueryCache().notify({
      type: "observerOptionsUpdated",
      query: ce(this, ot),
      observer: this
    });
    const s = this.hasListeners();
    s && nT(
      ce(this, ot),
      n,
      this.options,
      r
    ) && Lt(this, bt, bf).call(this), this.updateResult(), s && (ce(this, ot) !== n || ti(this.options.enabled, ce(this, ot)) !== ti(r.enabled, ce(this, ot)) || Uf(this.options.staleTime, ce(this, ot)) !== Uf(r.staleTime, ce(this, ot))) && Lt(this, bt, $w).call(this);
    const i = Lt(this, bt, Rw).call(this);
    s && (ce(this, ot) !== n || ti(this.options.enabled, ce(this, ot)) !== ti(r.enabled, ce(this, ot)) || i !== ce(this, Ma)) && Lt(this, bt, Iw).call(this, i);
  }
  getOptimisticResult(t) {
    const r = ce(this, $n).getQueryCache().build(ce(this, $n), t), n = this.createResult(r, t);
    return YG(this, n) && (st(this, Sn, n), st(this, Ru, this.options), st(this, Vl, ce(this, ot).state)), n;
  }
  getCurrentResult() {
    return ce(this, Sn);
  }
  trackResult(t, r) {
    return new Proxy(t, {
      get: (n, s) => (this.trackProp(s), r == null || r(s), s === "promise" && !this.options.experimental_prefetchInRender && ce(this, Eo).status === "pending" && ce(this, Eo).reject(
        new Error(
          "experimental_prefetchInRender feature flag is not enabled"
        )
      ), Reflect.get(n, s))
    });
  }
  trackProp(t) {
    ce(this, Lu).add(t);
  }
  getCurrentQuery() {
    return ce(this, ot);
  }
  refetch({ ...t } = {}) {
    return this.fetch({
      ...t
    });
  }
  fetchOptimistic(t) {
    const r = ce(this, $n).defaultQueryOptions(t), n = ce(this, $n).getQueryCache().build(ce(this, $n), r);
    return n.fetch().then(() => this.createResult(n, r));
  }
  fetch(t) {
    return Lt(this, bt, bf).call(this, {
      ...t,
      cancelRefetch: t.cancelRefetch ?? !0
    }).then(() => (this.updateResult(), ce(this, Sn)));
  }
  createResult(t, r) {
    var C;
    const n = ce(this, ot), s = this.options, i = ce(this, Sn), o = ce(this, Vl), a = ce(this, Ru), c = t !== n ? t.state : ce(this, Kh), { state: d } = t;
    let f = { ...d }, h = !1, p;
    if (r._optimisticResults) {
      const $ = this.hasListeners(), I = !$ && rT(t, r), M = $ && nT(t, n, r, s);
      (I || M) && (f = {
        ...f,
        ...VG(d.data, t.options)
      }), r._optimisticResults === "isRestoring" && (f.fetchStatus = "idle");
    }
    let { error: g, errorUpdatedAt: m, status: y } = f;
    p = f.data;
    let v = !1;
    if (r.placeholderData !== void 0 && p === void 0 && y === "pending") {
      let $;
      i != null && i.isPlaceholderData && r.placeholderData === (a == null ? void 0 : a.placeholderData) ? ($ = i.data, v = !0) : $ = typeof r.placeholderData == "function" ? r.placeholderData(
        (C = ce(this, Mu)) == null ? void 0 : C.state.data,
        ce(this, Mu)
      ) : r.placeholderData, $ !== void 0 && (y = "success", p = eT(
        i == null ? void 0 : i.data,
        $,
        r
      ), h = !0);
    }
    if (r.select && p !== void 0 && !v)
      if (i && p === (o == null ? void 0 : o.data) && r.select === ce(this, Hh))
        p = ce(this, Iu);
      else
        try {
          st(this, Hh, r.select), p = r.select(p), p = eT(i == null ? void 0 : i.data, p, r), st(this, Iu, p), st(this, Ia, null);
        } catch ($) {
          st(this, Ia, $);
        }
    ce(this, Ia) && (g = ce(this, Ia), p = ce(this, Iu), m = Date.now(), y = "error");
    const b = f.fetchStatus === "fetching", x = y === "pending", S = y === "error", w = x && b, j = p !== void 0, k = {
      status: y,
      fetchStatus: f.fetchStatus,
      isPending: x,
      isSuccess: y === "success",
      isError: S,
      isInitialLoading: w,
      isLoading: w,
      data: p,
      dataUpdatedAt: f.dataUpdatedAt,
      error: g,
      errorUpdatedAt: m,
      failureCount: f.fetchFailureCount,
      failureReason: f.fetchFailureReason,
      errorUpdateCount: f.errorUpdateCount,
      isFetched: f.dataUpdateCount > 0 || f.errorUpdateCount > 0,
      isFetchedAfterMount: f.dataUpdateCount > c.dataUpdateCount || f.errorUpdateCount > c.errorUpdateCount,
      isFetching: b,
      isRefetching: b && !x,
      isLoadingError: S && !j,
      isPaused: f.fetchStatus === "paused",
      isPlaceholderData: h,
      isRefetchError: S && j,
      isStale: GS(t, r),
      refetch: this.refetch,
      promise: ce(this, Eo),
      isEnabled: ti(r.enabled, t) !== !1
    };
    if (this.options.experimental_prefetchInRender) {
      const $ = (O) => {
        k.status === "error" ? O.reject(k.error) : k.data !== void 0 && O.resolve(k.data);
      }, I = () => {
        const O = st(this, Eo, k.promise = tT());
        $(O);
      }, M = ce(this, Eo);
      switch (M.status) {
        case "pending":
          t.queryHash === n.queryHash && $(M);
          break;
        case "fulfilled":
          (k.status === "error" || k.data !== M.value) && I();
          break;
        case "rejected":
          (k.status !== "error" || k.error !== M.reason) && I();
          break;
      }
    }
    return k;
  }
  updateResult() {
    const t = ce(this, Sn), r = this.createResult(ce(this, ot), this.options);
    if (st(this, Vl, ce(this, ot).state), st(this, Ru, this.options), ce(this, Vl).data !== void 0 && st(this, Mu, ce(this, ot)), Og(r, t))
      return;
    st(this, Sn, r);
    const n = () => {
      if (!t)
        return !0;
      const { notifyOnChangeProps: s } = this.options, i = typeof s == "function" ? s() : s;
      if (i === "all" || !i && !ce(this, Lu).size)
        return !0;
      const o = new Set(
        i ?? ce(this, Lu)
      );
      return this.options.throwOnError && o.add("error"), Object.keys(ce(this, Sn)).some((a) => {
        const l = a;
        return ce(this, Sn)[l] !== t[l] && o.has(l);
      });
    };
    Lt(this, bt, lL).call(this, { listeners: n() });
  }
  onQueryUpdate() {
    this.updateResult(), this.hasListeners() && Lt(this, bt, Mw).call(this);
  }
}, $n = new WeakMap(), ot = new WeakMap(), Kh = new WeakMap(), Sn = new WeakMap(), Vl = new WeakMap(), Ru = new WeakMap(), Eo = new WeakMap(), Ia = new WeakMap(), Hh = new WeakMap(), Iu = new WeakMap(), Mu = new WeakMap(), Wl = new WeakMap(), Kl = new WeakMap(), Ma = new WeakMap(), Lu = new WeakMap(), bt = new WeakSet(), bf = function(t) {
  Lt(this, bt, Bw).call(this);
  let r = ce(this, ot).fetch(
    this.options,
    t
  );
  return t != null && t.throwOnError || (r = r.catch(Pg)), r;
}, $w = function() {
  Lt(this, bt, Lw).call(this);
  const t = Uf(
    this.options.staleTime,
    ce(this, ot)
  );
  if (uh || ce(this, Sn).isStale || !ZC(t))
    return;
  const n = IG(ce(this, Sn).dataUpdatedAt, t) + 1;
  st(this, Wl, setTimeout(() => {
    ce(this, Sn).isStale || this.updateResult();
  }, n));
}, Rw = function() {
  return (typeof this.options.refetchInterval == "function" ? this.options.refetchInterval(ce(this, ot)) : this.options.refetchInterval) ?? !1;
}, Iw = function(t) {
  Lt(this, bt, Fw).call(this), st(this, Ma, t), !(uh || ti(this.options.enabled, ce(this, ot)) === !1 || !ZC(ce(this, Ma)) || ce(this, Ma) === 0) && st(this, Kl, setInterval(() => {
    (this.options.refetchIntervalInBackground || LG.isFocused()) && Lt(this, bt, bf).call(this);
  }, ce(this, Ma)));
}, Mw = function() {
  Lt(this, bt, $w).call(this), Lt(this, bt, Iw).call(this, Lt(this, bt, Rw).call(this));
}, Lw = function() {
  ce(this, Wl) && (clearTimeout(ce(this, Wl)), st(this, Wl, void 0));
}, Fw = function() {
  ce(this, Kl) && (clearInterval(ce(this, Kl)), st(this, Kl, void 0));
}, Bw = function() {
  const t = ce(this, $n).getQueryCache().build(ce(this, $n), this.options);
  if (t === ce(this, ot))
    return;
  const r = ce(this, ot);
  st(this, ot, t), st(this, Kh, t.state), this.hasListeners() && (r == null || r.removeObserver(this), t.addObserver(this));
}, lL = function(t) {
  bv.batch(() => {
    t.listeners && this.listeners.forEach((r) => {
      r(ce(this, Sn));
    }), ce(this, $n).getQueryCache().notify({
      query: ce(this, ot),
      type: "observerResultsUpdated"
    });
  });
}, FR);
function HG(e, t) {
  return ti(t.enabled, e) !== !1 && e.state.data === void 0 && !(e.state.status === "error" && t.retryOnMount === !1);
}
function rT(e, t) {
  return HG(e, t) || e.state.data !== void 0 && zw(e, t, t.refetchOnMount);
}
function zw(e, t, r) {
  if (ti(t.enabled, e) !== !1 && Uf(t.staleTime, e) !== "static") {
    const n = typeof r == "function" ? r(e) : r;
    return n === "always" || n !== !1 && GS(e, t);
  }
  return !1;
}
function nT(e, t, r, n) {
  return (e !== t || ti(n.enabled, e) === !1) && (!r.suspense || e.state.status !== "error") && GS(e, r);
}
function GS(e, t) {
  return ti(t.enabled, e) !== !1 && e.isStaleByTime(Uf(t.staleTime, e));
}
function YG(e, t) {
  return !Og(e.getCurrentResult(), t);
}
var La, Fa, Rn, jo, Ro, sg, Uw, BR, GG = (BR = class extends vv {
  constructor(r, n) {
    super();
    _t(this, Ro);
    _t(this, La);
    _t(this, Fa);
    _t(this, Rn);
    _t(this, jo);
    st(this, La, r), this.setOptions(n), this.bindMethods(), Lt(this, Ro, sg).call(this);
  }
  bindMethods() {
    this.mutate = this.mutate.bind(this), this.reset = this.reset.bind(this);
  }
  setOptions(r) {
    var s;
    const n = this.options;
    this.options = ce(this, La).defaultMutationOptions(r), Og(this.options, n) || ce(this, La).getMutationCache().notify({
      type: "observerOptionsUpdated",
      mutation: ce(this, Rn),
      observer: this
    }), n != null && n.mutationKey && this.options.mutationKey && XC(n.mutationKey) !== XC(this.options.mutationKey) ? this.reset() : ((s = ce(this, Rn)) == null ? void 0 : s.state.status) === "pending" && ce(this, Rn).setOptions(this.options);
  }
  onUnsubscribe() {
    var r;
    this.hasListeners() || (r = ce(this, Rn)) == null || r.removeObserver(this);
  }
  onMutationUpdate(r) {
    Lt(this, Ro, sg).call(this), Lt(this, Ro, Uw).call(this, r);
  }
  getCurrentResult() {
    return ce(this, Fa);
  }
  reset() {
    var r;
    (r = ce(this, Rn)) == null || r.removeObserver(this), st(this, Rn, void 0), Lt(this, Ro, sg).call(this), Lt(this, Ro, Uw).call(this);
  }
  mutate(r, n) {
    var s;
    return st(this, jo, n), (s = ce(this, Rn)) == null || s.removeObserver(this), st(this, Rn, ce(this, La).getMutationCache().build(ce(this, La), this.options)), ce(this, Rn).addObserver(this), ce(this, Rn).execute(r);
  }
}, La = new WeakMap(), Fa = new WeakMap(), Rn = new WeakMap(), jo = new WeakMap(), Ro = new WeakSet(), sg = function() {
  var n;
  const r = ((n = ce(this, Rn)) == null ? void 0 : n.state) ?? WG();
  st(this, Fa, {
    ...r,
    isPending: r.status === "pending",
    isSuccess: r.status === "success",
    isError: r.status === "error",
    isIdle: r.status === "idle",
    mutate: this.mutate,
    reset: this.reset
  });
}, Uw = function(r) {
  bv.batch(() => {
    var n, s, i, o, a, l, c, d;
    if (ce(this, jo) && this.hasListeners()) {
      const f = ce(this, Fa).variables, h = ce(this, Fa).context;
      (r == null ? void 0 : r.type) === "success" ? ((s = (n = ce(this, jo)).onSuccess) == null || s.call(n, r.data, f, h), (o = (i = ce(this, jo)).onSettled) == null || o.call(i, r.data, null, f, h)) : (r == null ? void 0 : r.type) === "error" && ((l = (a = ce(this, jo)).onError) == null || l.call(a, r.error, f, h), (d = (c = ce(this, jo)).onSettled) == null || d.call(
        c,
        void 0,
        r.error,
        f,
        h
      ));
    }
    this.listeners.forEach((f) => {
      f(ce(this, Fa));
    });
  });
}, BR), ZG = _.createContext(
  void 0
), ea = (e) => {
  const t = _.useContext(ZG);
  if (!t)
    throw new Error("No QueryClient set, use QueryClientProvider to set one");
  return t;
}, cL = _.createContext(!1), XG = () => _.useContext(cL);
cL.Provider;
function JG() {
  let e = !1;
  return {
    clearReset: () => {
      e = !1;
    },
    reset: () => {
      e = !0;
    },
    isReset: () => e
  };
}
var QG = _.createContext(JG()), eZ = () => _.useContext(QG), tZ = (e, t) => {
  (e.suspense || e.throwOnError || e.experimental_prefetchInRender) && (t.isReset() || (e.retryOnMount = !1));
}, rZ = (e) => {
  _.useEffect(() => {
    e.clearReset();
  }, [e]);
}, nZ = ({
  result: e,
  errorResetBoundary: t,
  throwOnError: r,
  query: n,
  suspense: s
}) => e.isError && !t.isReset() && !e.isFetching && n && (s && e.data === void 0 || aL(r, [e.error, n])), sZ = (e) => {
  if (e.suspense) {
    const t = (n) => n === "static" ? n : Math.max(n ?? 1e3, 1e3), r = e.staleTime;
    e.staleTime = typeof r == "function" ? (...n) => t(r(...n)) : t(r), typeof e.gcTime == "number" && (e.gcTime = Math.max(e.gcTime, 1e3));
  }
}, iZ = (e, t) => e.isLoading && e.isFetching && !t, oZ = (e, t) => (e == null ? void 0 : e.suspense) && t.isPending, sT = (e, t, r) => t.fetchOptimistic(e).catch(() => {
  r.clearReset();
});
function aZ(e, t, r) {
  var f, h, p, g, m;
  if (process.env.NODE_ENV !== "production" && (typeof e != "object" || Array.isArray(e)))
    throw new Error(
      'Bad argument type. Starting with v5, only the "Object" form is allowed when calling query related functions. Please use the error stack to find the culprit call. More info here: https://tanstack.com/query/latest/docs/react/guides/migrating-to-v5#supports-a-single-signature-one-object'
    );
  const n = XG(), s = eZ(), i = ea(), o = i.defaultQueryOptions(e);
  (h = (f = i.getDefaultOptions().queries) == null ? void 0 : f._experimental_beforeQuery) == null || h.call(
    f,
    o
  ), process.env.NODE_ENV !== "production" && (o.queryFn || console.error(
    `[${o.queryHash}]: No queryFn was passed as an option, and no default queryFn was found. The queryFn parameter is only optional when using a default queryFn. More info here: https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function`
  )), o._optimisticResults = n ? "isRestoring" : "optimistic", sZ(o), tZ(o, s), rZ(s);
  const a = !i.getQueryCache().get(o.queryHash), [l] = _.useState(
    () => new t(
      i,
      o
    )
  ), c = l.getOptimisticResult(o), d = !n && e.subscribed !== !1;
  if (_.useSyncExternalStore(
    _.useCallback(
      (y) => {
        const v = d ? l.subscribe(bv.batchCalls(y)) : Pg;
        return l.updateResult(), v;
      },
      [l, d]
    ),
    () => l.getCurrentResult(),
    () => l.getCurrentResult()
  ), _.useEffect(() => {
    l.setOptions(o);
  }, [o, l]), oZ(o, c))
    throw sT(o, l, s);
  if (nZ({
    result: c,
    errorResetBoundary: s,
    throwOnError: o.throwOnError,
    query: i.getQueryCache().get(o.queryHash),
    suspense: o.suspense
  }))
    throw c.error;
  if ((g = (p = i.getDefaultOptions().queries) == null ? void 0 : p._experimental_afterQuery) == null || g.call(
    p,
    o,
    c
  ), o.experimental_prefetchInRender && !uh && iZ(c, n)) {
    const y = a ? (
      // Fetch immediately on render in order to ensure `.promise` is resolved even if the component is unmounted
      sT(o, l, s)
    ) : (
      // subscribe to the "cache promise" so that we can finalize the currentThenable once data comes in
      (m = i.getQueryCache().get(o.queryHash)) == null ? void 0 : m.promise
    );
    y == null || y.catch(Pg).finally(() => {
      l.updateResult();
    });
  }
  return o.notifyOnChangeProps ? c : l.trackResult(c);
}
function br(e, t) {
  return aZ(e, KG);
}
function ir(e, t) {
  const r = ea(), [n] = _.useState(
    () => new GG(
      r,
      e
    )
  );
  _.useEffect(() => {
    n.setOptions(e);
  }, [n, e]);
  const s = _.useSyncExternalStore(
    _.useCallback(
      (o) => n.subscribe(bv.batchCalls(o)),
      [n]
    ),
    () => n.getCurrentResult(),
    () => n.getCurrentResult()
  ), i = _.useCallback(
    (o, a) => {
      n.mutate(o, a).catch(Pg);
    },
    [n]
  );
  if (s.error && aL(n.options.throwOnError, [s.error]))
    throw s.error;
  return { ...s, mutate: i, mutateAsync: s.mutate };
}
const lZ = "_zrHero_1fsok_1", cZ = "_parchmentCard_1fsok_12", uZ = "_zrHeroContent_1fsok_70", dZ = "_zrTitle_1fsok_74", fZ = "_zrQuote_1fsok_88", hZ = "_zrIntro_1fsok_97", pZ = "_zrCta_1fsok_105", mZ = "_zrHeroArt_1fsok_123", gZ = "_videoFire_1fsok_156", yZ = "_prophecyMask_1fsok_168", vZ = "_prophecyReel_1fsok_183", bZ = "_prophecyReelSpinning_1fsok_189", xZ = "_prophecyItem_1fsok_193", wZ = "_englishText_1fsok_207", _Z = "_zrSection_1fsok_256", SZ = "_zrH2_1fsok_263", EZ = "_srOnly_1fsok_279", jZ = "_spinsIndicator_1fsok_286", NZ = "_spinDot_1fsok_295", kZ = "_spinDotActive_1fsok_322", ut = {
  zrHero: lZ,
  parchmentCard: cZ,
  zrHeroContent: uZ,
  zrTitle: dZ,
  zrQuote: fZ,
  zrIntro: hZ,
  zrCta: pZ,
  zrHeroArt: mZ,
  videoFire: gZ,
  prophecyMask: yZ,
  prophecyReel: vZ,
  prophecyReelSpinning: bZ,
  prophecyItem: xZ,
  englishText: wZ,
  zrSection: _Z,
  zrH2: SZ,
  srOnly: EZ,
  spinsIndicator: jZ,
  spinDot: NZ,
  spinDotActive: kZ
}, CZ = async () => {
  const { data: e, error: t } = await he.from("homepage_content").select("*");
  if (t)
    throw new Error(t.message);
  return e;
}, TZ = async () => {
  const { data: e, error: t } = await he.from("posts").select("id, title, slug, content, created_at").eq("status", "published").order("created_at", { ascending: !1 }).limit(3);
  if (t)
    throw new Error(t.message);
  return e;
}, AZ = async () => {
  const { data: e, error: t } = await he.from("release_items").select("*").order("created_at", { ascending: !1 });
  if (t)
    throw new Error(t.message);
  return e;
}, PZ = ({ spinsLeft: e, setSpinsLeft: t }) => {
  const r = We(null), [n, s] = L(!1), i = 150, o = [
    { english: "Your heart is a compass that always points toward lovetrust it, follow it, honor it." },
    { english: "You are not who you were yesterday unless you choose to beeach day offers the gift of becoming." },
    { english: "The friend of truth shall be the friend of my spirit, O Ahura Mazda. (Yasna 46.2)" },
    { english: "Every moment is sacred when approached with reverence, every task holy when performed with love." },
    { english: "The mind aligned with truth thinks God's thoughts after Him, sees with divine eyes, loves with cosmic heart." },
    { english: "May the beneficent spirit help us to speak truth and act righteously. (Yasna 47.6)" },
    { english: "Hope is the thing with feathers that perches in the soul and sings without words." },
    { english: "Self-knowledge is the beginning of wisdom, self-acceptance the foundation of growth." },
    { english: "Grant me, O Truth, the rewards of good thinking that bring joy and satisfaction. (Yasna 50.4)" },
    { english: "The sacred fire burns brightest in the heart that chooses truth over comfort. Let your conscience be the altar where right intention dwells." },
    { english: "Truth without compassion is cruelty; compassion without truth is sentimentalitybalance both." },
    { english: "I praise You as the greatest and best, as the most beautiful, O Mazda Ahura. (Yasna 43.16)" },
    { english: "Truth is the architect of happiness, the foundation of peace, the cornerstone of wisdom. Build your life upon this rock." },
    { english: "The weight of moral choice is the proof of human dignityangels don't choose, demons can't choose, but you can." },
    { english: "Plant seeds of hope in winter and trust them to bloom when spring returns to your life." },
    { english: "Appreciation is the highest form of prayerseeing the divine in every blessing." },
    { english: "The future is not predetermined but is being written by every choice you make right now." },
    { english: "When shadows of doubt gather, kindle the inner flame of discernment. Fire purifies not by destroying, but by revealing what is true." },
    { english: "Begin each day as if it were your firstwith wonder. End each day as if it were your lastwith gratitude." },
    { english: "Morning brings the gift of choice renewed. Stand at the crossroads of thought and deedwhich path serves the light?" },
    { english: "We invoke good thinking, truth, and the beneficent spirit of Ahura Mazda. (Yasna 37.4)" },
    { english: "Where truth flourishes, freedom follows; where freedom is genuine, truth is honored." },
    { english: "The divine dwells not only in temples but in every heart that welcomes it, every life that serves it." },
    { english: "The sacred fire asks no permission to burn, needs no fuel but truth, casts no shadow but illumination." },
    { english: "May we be instruments of peace, servants of truth, children of light. (Benediction)" },
    { english: "Let the fire within you remember the spark of dawnevery choice a new horizon to the world's unfolding. Walk in watchfulness, and the light of Good Mind will not fail you." },
    { english: "Devotion asks not what you can receive but what you can give, not what you deserve but what you can serve." },
    { english: "Freedom is not the absence of constraints but the presence of meaningful options." },
    { english: "Through the beneficent spirit, may we overcome all obstacles to righteousness. (Prayer)" },
    { english: "The light of understanding grows not by accumulating facts but by illuminating connections." },
    { english: "The peaceful heart creates peaceful surroundings; the harmonious soul attracts harmonious relationships." },
    { english: "I take refuge in good thinking, truth, and Your lordship, Mazda, from whom comes the most beneficent spirit. (Yasna 33.5)" },
    { english: "Rational thought and intuitive wisdom are not opposites but partners in the dance of understanding." },
    { english: "When you have the power to help and choose not to, you become complicit in the suffering you could have prevented." },
    { english: "Like a candle lights a thousand candles without diminishing, share your inner light freely with all." },
    { english: "You are both the author and the main character of your life storywrite it well." },
    { english: "The good mind is not the mind that knows everything but the mind that remains open to learning." },
    { english: "The stranger is just a friend you haven't met yet, a teacher you haven't learned from yet, a gift you haven't unwrapped yet." },
    { english: "Those who seek to destroy my family and clan, Mazda, I put them in Your hands through good thinking and truth. (Yasna 48.8)" },
    { english: "I pray to You with outstretched hands, O Mazda, seeking Your help through the beneficent spirit. (Yasna 50.8)" },
    { english: "Every decision is a seed planted in the soil of time. What kind of forest are you growing?" },
    { english: "Devotion is gratitude in action, love expressing itself through loyal service." },
    { english: "The fire of truth burns away all that is false in you, leaving only what is real and precious." },
    { english: "The unexamined life scatters like leaves in the wind; the examined life grows deep roots in truth." },
    { english: "The arc of justice bends only when people like you choose to bend itbe a force for righteousness." },
    { english: "Choose as if your choice matters to everyone who will ever livebecause it does." },
    { english: "When Good Mind came to me, I first learned to proclaim Your words, O Mazda. (Yasna 43.15)" },
    { english: "To You, the beneficent ones shall come for refuge, Mazda, not to the followers of falsehood. (Yasna 48.4)" },
    { english: "Understanding comes not from standing above others but from standing with them in shared humanity." },
    { english: "The doorway to wisdom opens inwardthe journey begins when you stop looking outside and start looking within." },
    { english: "May we be worthy of Your friendship through righteous actions, O Mazda. (Yasna 46.6)" },
    { english: "This I ask You: tell me truly, Ahurawhat craftsman created light and darkness? (Yasna 44.5)" },
    { english: "Harmony does not require uniformityan orchestra creates beauty through coordinated differences." },
    { english: "May Ahura Mazda be praised! May the beneficent spirit be glorified! (Traditional praise)" },
    { english: "Wisdom whispers while foolishness shoutstrain your ear to hear the quiet voice of truth." },
    { english: "The measure of a society is how it treats those who cannot defend themselves." },
    { english: "What doesn't challenge you doesn't change you; what doesn't stretch you doesn't strengthen you." },
    { english: "Fair is not everyone getting the same thing; fair is everyone getting what they need to thrive." },
    { english: "Through Your fire, show me the rewards that come through truth for both partiesthose who uphold righteousness and those who do not. (Yasna 31.3)" },
    { english: "The world is changed not by those who point out what's wrong but by those who do what's right." },
    { english: "Service is love made visible, compassion made practical, faith made fruitful." },
    { english: "I have recognized You as beneficent through truth and good thinking, O Mazda. (Yasna 49.5)" },
    { english: "The holy is not somewhere else or some time else but here and now, in this place, at this moment." },
    { english: "Let your presence be a sanctuary where others can find rest from the storms of life." },
    { english: "Friendship is truth telling and burden sharing, celebration and consolation, walking together toward the light." },
    { english: "Small daily improvements lead to stunning yearly resultsbe consistent rather than dramatic." },
    { english: "The mind that dwells in truth becomes a sanctuary where peace is always available." },
    { english: "Your life is a sacred text written one choice at a timemake it a beautiful story." },
    { english: "Blessed is he who brings happiness to others through truth and good deeds. (Traditional blessing)" },
    { english: "You are the protector of the righteous, O Mazda, through Your beneficent spirit. (Yasna 47.3)" },
    { english: "This I ask You: tell me truly, Ahurawho established the path of the sun and stars? (Yasna 44.5)" },
    { english: "At the crossroads of decision, remember: you are always choosing not just for yourself but for all who will follow." },
    { english: "I approach You, O Mazda, with good thinking, so that You may grant me both the blessings of this existence and that of the spirit. (Yasna 28.4)" },
    { english: "Your life is your offeringwhat will you place on the altar of existence?" },
    { english: "Learning from others shortens your path to wisdom; teaching others deepens your own understanding." },
    { english: "Pure thoughts birth noble words; noble words inspire righteous deeds; righteous deeds purify thoughts in return." },
    { english: "Every meal is communion when shared with gratitude, every conversation prayer when spoken with love." },
    { english: "The freedom to choose your response to any situation is the last of human freedomsexercise it wisely." },
    { english: "Your conscience is your connection to cosmic justicehonor it by living in alignment with its guidance." },
    { english: "Every sunrise is nature's way of saying, 'Try again'accept the invitation with gratitude." },
    { english: "Truth is patient but not passive, gentle but not weak, humble but not uncertain of its worth." },
    { english: "Action without reflection is blind; reflection without action is empty; but action guided by reflection is transformative." },
    { english: "Righteousness is the best good. Happiness to him who is righteous for the sake of righteousness alone. (Ashem Vohu variation)" },
    { english: "Community is not a place but a relationship, not a location but a connection." },
    { english: "Good thinking leads to good feeling, good feeling leads to good willing, good willing leads to good living." },
    { english: "Every crossroads is a classroom, every decision a teacher, every consequence a lesson." },
    { english: "The present moment is the only moment over which you have powermake it count." },
    { english: "Hope is not naive optimism but courageous commitment to work for what ought to be." },
    { english: "Every mistake is a teacher in disguise, every failure a step toward success, every setback a setup for comeback." },
    { english: "The inner fire burns brightest not when fed by passion but when fueled by principle." },
    { english: "Your privilege is not your fault, but your responsibility. Use whatever advantages you have to lift others." },
    { english: "Through Your radiant fire, assign the destiny of the righteous and the unrighteous, O Mazda, that our teaching may spread among the living. (Yasna 31.19)" },
    { english: "Knowledge builds walls to separate us from ignorance; wisdom builds bridges to connect us with all beings." },
    { english: "As long as I have strength and power, I shall teach people to seek truth. (Yasna 45.4)" },
    { english: "The beneficent spirit manifests wherever love meets action. Be the hands and heart through which goodness enters the world." },
    { english: "The bounteous mentality sees abundance everywherein every sunrise, every breath, every opportunity to serve the good." },
    { english: "The mind illuminated by truth sees possibilities where others see only problems. Think with hope, and hope becomes reality." },
    { english: "Peace begins with each person choosing to be peaceful, harmony starts with each individual choosing to be harmonious." },
    { english: "Let gratitude be your first thought at dawn, your last thought at dusk, your constant companion throughout the day." },
    { english: "I realized You, Mazda, to be beneficent when I was encircled by Good Mind, when he taught me to proclaim: 'Let not men seek to please the followers of falsehood.' (Yasna 43.11)" },
    { english: "Compassion is not feeling sorry for others but feeling with them, sharing their burden until it becomes lighter." },
    { english: "Count your blessings, not your problems; focus on your gains, not your losses; see your progress, not your perfection." },
    { english: "Compassion is not pity from above but solidarity from withinsuffer with, celebrate with, grow with." },
    { english: "At every moment you are choosing who you are becomingchoose the highest version of yourself." },
    { english: "Evening reflection is the mirror of morning intention. End as mindfully as you began." },
    { english: "True knowledge transforms the knower. If you remain unchanged by what you learn, you have learned nothing." },
    { english: "The paradox of freedom: you are most free when you choose to serve something greater than yourself." },
    { english: "The ripple effects of your actions extend far beyond what you can seeact as if the future depends on you." },
    { english: "The fire of wisdom burns without consuming. Feed it with honest reflection, and it will illumine your path forever." },
    { english: "Let your thoughts be seeds of kindness, your words be rain of encouragement, your deeds be sunshine of hope." },
    { english: "For whom did You create this earth and sky? Who made the luminaries and the darkness? (Yasna 29.1)" },
    { english: "Your presence in the world matters more than you knowshow up fully, authentically, lovingly." },
    { english: "When the world seems broken beyond repair, remember that you are part of the repair." },
    { english: "The darkness is never permanent, the light is never extinguished completely. Keep the vigil." },
    { english: "To help the world progress, O Mazda, we have sought You through good thinking. (Yasna 30.6)" },
    { english: "Let your spirit be a fountain, not a drain. Pour out blessing upon blessing, and watch the desert of despair bloom." },
    { english: "Loneliness is the human condition; connection is the human choice. Choose connection." },
    { english: "For a wise Lord I knew You to be, Mazda, when Good Mind came to me and asked: 'Who are you? To whom do you belong?' (Yasna 43.7)" },
    { english: "True strength is not in never falling but in how gracefully you rise each time you fall." },
    { english: "Disorder is not the opposite of truth but its absencefill the void with authentic being." },
    { english: "The path of wisdom begins with a single step: the decision to begin walking." },
    { english: "True justice considers not only what is legal but what is right, not only what is permitted but what is beneficial." },
    { english: "Grant me, O Mazda, through Your most beneficent spirit, through truth, the rewards of good thinking, through which I may bring joy to my supporters. (Yasna 28.11)" },
    { english: "The fire of Ahura Mazda brings light to the righteous and terror to the wicked. (Fire prayer)" },
    { english: "Your choices are your prayersthey reveal what you truly worship, what you genuinely value." },
    { english: "The false teacher leads people astray from the path of good thinking and truth. (Yasna 32.3)" },
    { english: "The phoenix rises not in spite of the ashes but because of themlet your failures fuel your renewal." },
    { english: "Forgiveness is not condoning what was wrong but choosing to be free from the burden of carrying resentment." },
    { english: "I praise good thoughts, good words, good deeds, and the good religion. (Fravarane prayer)" },
    { english: "The greatest among you will be your servantgreatness is measured by how much you give, not how much you get." },
    { english: "The morning star reminds us: even in the darkest hour, light is already on its way." },
    { english: "Where differences divide, find common ground; where similarities unite, celebrate diversity." },
    { english: "You who are Mazda, through Your spirit and fire, through truth and good thinking, grant me integrity and strength. (Yasna 28.7)" },
    { english: "In the garden of the heart, plant seeds of truthful speech. Words watered with wisdom bloom into lasting peace." },
    { english: "Your daily habits are votes for the type of person you wish to becomevote wisely." },
    { english: "May we receive the promised reward, the joy that comes from truth, O Mazda. (Yasna 33.11)" },
    { english: "Hope plants seeds in winter, trusting in the promise of spring." },
    { english: "You are not just in the community; the community is in youyou carry it wherever you go." },
    { english: "Your presence is often more healing than your words, your listening more valuable than your advice." },
    { english: "You are a unique note in the symphony of existenceplay your part beautifully and boldly." },
    { english: "Bridge-builders are more valuable than wall-builders, peacemakers more needed than warriors." },
    { english: "Growth requires leaving your comfort zone regularlycomfort and growth cannot coexist." },
    { english: "But the righteous man chooses truth and good thinking as his allies. (Yasna 32.2)" },
    { english: "The threefold path begins in the silence of right thinking, flows through the beauty of truthful speech, and culminates in the power of loving action." },
    { english: "Truth needs no defense, only expression. Speak it simply and let its power do the rest." },
    { english: "Through good deeds may we come to You, O Mazda, with joy and gladness. (Yasna 50.10)" },
    { english: "I beheld You clearly in my mind's eye as the first one at the birth of life, when You made actions have consequencesevil for the evil, good reward for the good. (Yasna 43.5)" },
    { english: "Inner peace is not a luxury but a necessity, not a retreat from the world but preparation for effective engagement." },
    { english: "The wise heart holds both confidence and humility, certainty and openness, in perfect balance." },
    { english: "Your breath connects you to every living beingbreathe consciously, live connectedly." },
    { english: "Whoever upholds truth most, whether man or woman, O Mazda Ahura, is most dear to You. (Yasna 46.11)" },
    { english: "Yes, there are two fundamental spirits, twins, renowned to be in conflict. In thought and word, in action, they are two: the good and the bad. Between these two, the beneficent have correctly chosen. (Yasna 30.3)" },
    { english: "Transformation happens not when you try to become someone else but when you become more fully yourself." },
    { english: "Where injustice flourishes, it is not enough to be personally righteous. Stand up, speak out, act decisively." },
    { english: "Then spoke Ahura Mazda: We have no pastor here who is both knowing and holy. (Yasna 29.6)" },
    { english: "The practice of gratitude transforms ordinary moments into sacred experiences." },
    { english: "Truth is like the sunyou cannot look directly at it for long, but it lights everything else." },
    { english: "I shall serve You with good thinking, with truth and righteous action, so that You may grant me that which leads to the straight path. (Yasna 28.5)" },
    { english: "May good thinking and truth dwell in our house forever, O Ahura Mazda. (Yasna 60.6)" },
    { english: "Look within with the same honesty you demand from others, the same compassion you show to friends." },
    { english: "The healing the world needs begins with the healing you give yourselfbe gentle, be patient, be kind." },
    { english: "Hope is not a feeling but a decisiondecide to hope and then live as if your hope is justified." },
    { english: "One chooses that rule of good thinking allied with truth in order to serve the beneficent spirit. (Yasna 51.18)" },
    { english: "The good mind is a gift that grows with giving. Share your wisdom freely, and watch understanding multiply among all beings." },
    { english: "When thought, word, and deed align like three rivers meeting, their combined power can move mountains of indifference." },
    { english: "The music of the spheres plays onattune your heart to hear the cosmic symphony of love." },
    { english: "We rise by lifting others, we succeed by serving others, we find ourselves by losing ourselves in love." },
    { english: "The truth you speak has a pastit comes from your experience. Make sure that past is worthy of the truth." },
    { english: "The beneficent spirit breathes in every act of kindness. When you lift another's burden, you lighten the world." },
    { english: "Your talents are gifts to be shared, not treasures to be hoardedinvest them in making the world better." },
    { english: "The grateful heart attracts more to be grateful forappreciation is the magnet for abundance." },
    { english: "The person who knows their weaknesses is stronger than the person who denies them." },
    { english: "May good fortune come through truth to those who proclaim these teachings, O Mazda. (Yasna 51.16)" },
    { english: "Meditation is the art of listening to the still small voice that whispers your deepest truth." },
    { english: "The most important choice you make each day is who you choose to become in that day." },
    { english: "Order emerges not from control but from harmonythe willing cooperation of free beings choosing good." },
    { english: "True intelligence is not the ability to solve problems but to see the connections between all things." },
    { english: "Thus speaks the maiden: 'You are the support of good thinking, of truth, and of the lordship desired by Mazda.' (Yasna 53.3)" },
    { english: "The spiral of growth means you will revisit the same lessons at deeper levelsembrace the journey." },
    { english: "When you choose increase over decrease, healing over harm, you align with the progressive spirit of creation itself." },
    { english: "When someone trusts you with their vulnerability, you hold sacred ground. Tread carefully and gratefully." },
    { english: "Renewal comes not from changing everything at once but from changing one thing completely." },
    { english: "When will the noble warriors come who shall drive out from here the thirst of the wicked? (Yasna 32.1)" },
    { english: "The sacred space is wherever you are when you remember who you really are and why you are here." },
    { english: "Good thinking, good words, and good deedsthese three bring a person to paradise, the best existence, light, and all good things. (Traditional summary)" },
    { english: "The progressive spirit never asks 'Why me?' but always 'How can I help?' Be an answer to someone's prayer today." },
    { english: "Then shall I recognize You as mighty, Mazda, when through good thinking You shall grant the blessings that the truthful and untruthful seek. (Yasna 45.8)" },
    { english: "I know You to be the first and the last, O Ahura MazdaYou are father of good thinking, creator of truth, judge of our actions. (Yasna 31.8)" },
    { english: "Wisdom is not knowing all the answers but asking better questions. Begin with: How can I serve?" },
    { english: "Conscience is the ember of the divine fire planted in every human hearttend it carefully." },
    { english: "By Your beneficent spirit and by fire, O Mazda, show me truth and good thinking, through whose work one goes to Your abode. (Yasna 31.20)" },
    { english: "Come to my help, O Mazda, grant me strength through truth and good thinking. (Yasna 33.6)" },
    { english: "Through good deeds and righteous words, may we please Your spirit, O Mazda. (Yasna 49.10)" },
    { english: "Through truth we serve the Lord of Wisdom with good mind and beneficial action. (Summary verse)" },
    { english: "Service is not about being needed but about being useful, not about being thanked but about being trustworthy." },
    { english: "I who shall serve You with good thinking... may I thus bring solace to the soul of Earth. (Yasna 28.2)" },
    { english: "Holiness is not about being perfect but about being present, not about being pure but about being real." },
    { english: "May we be guides for those who seek the path of truth and righteousness. (Yasna 31.22)" },
    { english: "Wisdom is like waterit takes the shape of whatever vessel contains it, yet never loses its essence." },
    { english: "The enlightened mind is like clear waterit reflects perfectly what is, without adding or subtracting anything." },
    { english: "A thankful heart is a magnet for miracles, drawing goodness from the infinite storehouse of grace." },
    { english: "The pattern that connects all things is love expressing itself as truth, truth expressing itself as justice." },
    { english: "We are all connectedwhat helps one helps all, what harms one harms all." },
    { english: "Both bridegroom and bride, bring your minds into agreement for the practice of the best thoughts. (Yasna 53.4)" },
    { english: "The questions you ask shape the life you liveask better questions, live a better life." },
    { english: "May the light of good thinking shine in our hearts forever. (Prayer verse)" },
    { english: "True self-knowledge includes knowing not just what you are but what you could become." },
    { english: "I know You to be mighty when You help me with good thinking, O Mazda Ahura. (Yasna 31.5)" },
    { english: "Justice is not revenge but restorationmaking right what has been wrong, healing what has been harmed." },
    { english: "The sun rises not because you need it but because it is the nature of the sun to shinebe like the sun." },
    { english: "Justice is love applied to systems, compassion embodied in institutions, kindness made structural." },
    { english: "Grant victory to those who speak truth and live righteously, O Ahura Mazda. (Yasna 48.12)" },
    { english: "The journey inward is the most courageous journeyit requires facing yourself without flinching." },
    { english: "I have realized You as beneficent, Mazda Ahura, when You came to me with good thinking and asked: 'Who are you willing to please?' (Yasna 49.3)" },
    { english: "Each choice carves a channel for future choices to follow. Choose wisely what river you dig for tomorrow." },
    { english: "Therefore may we be among those who make this world fresh and new! (Yasna 30.9)" },
    { english: "Truth is the gravity of the moral universewhat goes up in lies must come down in consequences." },
    { english: "The weight of choice is the price of consciousness. Bear it gladly, for it makes you a partner in creation's unfolding." },
    { english: "This I ask You: Which is the first and which the last? (Yasna 44.6)" },
    { english: "Thank the sunrise for its faithfulness, the earth for its generosity, life for its infinite possibilities." },
    { english: "The sacred is not separate from the ordinary but hidden within it, waiting to be discovered." },
    { english: "Reflect with a clear mindeach person for themselvesbefore the Great Event of Choices. Awaken to this doctrine: there is no compromise between right and wrong. (Yasna 30.2)" },
    { english: "Your choices reveal your values more accurately than your wordschoose as if your character depends on it." },
    { english: "You are not just in the world; the world is in youtake care of both." },
    { english: "Time is the canvas, your choices the paint, your life the masterpiececreate something beautiful." },
    { english: "I entrust my soul to You, O Mazda, seeking Your protection through good thinking. (Yasna 48.9)" },
    { english: "The isolated tree falls in the storm; the forest of trees stands strong together." },
    { english: "Sacred living means recognizing the extraordinary within the ordinary, the eternal within the temporal." },
    { english: "The arc of the moral universe bends toward justice only when conscious beings like you and me choose to bend it." },
    { english: "The cosmic order is written in every sunrise, every heartbeat, every act of genuine kindness." },
    { english: "This I ask You: Who holds up the earth below and keeps the sky from falling? (Yasna 44.4)" },
    { english: "Let the fire within purify your motives, clarify your vision, energize your compassion." },
    { english: "The strength of the individual is the community; the strength of the community is the individual." },
    { english: "The hands that heal are holier than the hands that pray without helping." },
    { english: "The grateful heart sees abundance everywhere; the ungrateful heart finds scarcity in plenty." },
    { english: "This I ask You: tell me truly, Ahurahow shall I drive deceit far from us who seek to promote truth in the world? (Yasna 51.4)" },
    { english: "Every ending contains a beginning; every death, a birth; every loss, an opportunity for growth." },
    { english: "Know yourself not to become self-absorbed but to become self-aware, not to focus inward but to focus clearly." },
    { english: "When these two spirits came together in the beginning, they established life and not-life, and how at the end the worst existence shall be for the followers of falsehood, but the best mind for the truthful. (Yasna 30.4)" },
    { english: "Wisdom is the art of living skillfully, the science of choosing well, the practice of loving wisely." },
    { english: "In the morning, set your mind like a compass toward truth; let all your steps follow this direction." },
    { english: "May Your fire shine forth to help the supporter of truth, O Mazda. (Yasna 34.4)" },
    { english: "The curious mind stays young, the learning heart stays open, the growing soul stays alive." },
    { english: "The bridge between what is and what could be is built with the materials of hope and hard work." },
    { english: "The mirror of self-reflection shows not what you want to see but what you need to see." },
    { english: "Let truth be our guide, good thinking our companion, right action our path. (Summary)" },
    { english: "The universe conspires to help those who help themselves and othersbe part of the conspiracy of good." },
    { english: "Every act of love is a victory over the forces that diminish lifelove boldly, love widely, love deeply." },
    { english: "The paradox of wisdom: the more you truly know, the more you realize how much you don't know." },
    { english: "Each day offers lessons if you are willing to be a student, opportunities if you are willing to try." },
    { english: "Justice is not just a destination but a journeywalk it one step at a time, one choice at a time." },
    { english: "The beginner's mind sees possibilities everywhere; the expert mind sees problems in everything." },
    { english: "Every choice is a prayer, every decision a vote for the kind of world you want to live in." },
    { english: "Justice delayed is often justice denied, but justice rushed is sometimes injustice accomplished. Seek the balanced way." },
    { english: "To what land to flee? Where shall I go to flee? They exclude me from family and clan. (Yasna 46.1)" },
    { english: "You are the one who rewards both the truthful and the untruthful according to their deeds. (Yasna 43.12)" },
    { english: "Who, Mazda, is the faithful friend of Your spirit? Let him teach me the straight paths of good thinking and of truth. (Yasna 47.4)" },
    { english: "With outstretched hands I pray to You, O Mazda, first of all through truth. (Yasna 28.1)" },
    { english: "Self-reflection without self-compassion becomes self-criticism; self-compassion without self-reflection becomes self-deception." },
    { english: "May good thinking reign supreme, may truth be established in the world. (Yasna 45.10)" },
    { english: "True belonging doesn't require you to change who you are; it requires you to be who you are." },
    { english: "When you light the lamp of compassion, you illuminate your own path as well as others'." },
    { english: "The order of existence rewards those who align with it, not to punish those who don't, but to heal what is broken." },
    { english: "The good mind seeks first to understand, then to be understood; first to serve, then to be served." },
    { english: "The trinity of human goodnessthink well, speak well, act wellechoes the divine harmony that sustains all worlds." },
    { english: "Freedom is not the absence of consequences but the power to choose which consequences you will embrace." },
    { english: "Every moment is a fresh beginning, every breath a new chance, every choice a sacred opportunity." },
    { english: "Begin each day by asking: How can I make today better than yesterday? End each day by answering: How did I succeed?" },
    { english: "Through Your most beneficent spirit, O Mazda, I seek to do Your will. (Yasna 47.1)" },
    { english: "The greatest sermon is a life well-lived in service to truth, beauty, and goodness." },
    { english: "The deepest truth is often the most simple: be kind, be honest, be helpful, be present." },
    { english: "Peace is not the absence of conflict but the presence of justice, not the silence of oppression but the harmony of mutual respect." },
    { english: "The darkest night produces the brightest starsyour current darkness may be developing your greatest light." },
    { english: "Connection is the energy that exists between people when they feel seen, heard, and valued." },
    { english: "Like fire transforms wood to light, let your choices transform the world from what it is to what it should be." },
    { english: "Through good thinking, truth, and the spirit's power, they shall overcome the violence of the deceitful. (Yasna 32.16)" },
    { english: "The day unfolds like a scroll waiting to be written. What story will your choices tell?" },
    { english: "The gift of choice is also the burden of choiceembrace both aspects with equal courage." },
    { english: "The scales of justice are balanced not by equal punishment but by proportional restoration." },
    { english: "The seeds of tomorrow are planted in the soil of todayplant wisely." },
    { english: "Good thinking is the bridge between knowing and acting. Cross it with courage, and find yourself in the land of fulfillment." },
    { english: "I approach You, Mazda, with hands outstretched, with good thinking, with truth, hoping to please Your spirit with righteous actions. (Yasna 50.5)" },
    { english: "The heart that has been broken and healed is stronger than one that has never been tested." },
    { english: "Thanksgiving is not just a day but a way of lifelive thankfully and you will have much to be thankful for." },
    { english: "Begin each day by asking: How shall I increase the good in the world through my being here?" },
    { english: "The wise person learns from everyone, teaches everyone, and judges no one harshly." },
    { english: "Each breath is a gift, each heartbeat a blessing, each moment an opportunity for thankfulness." },
    { english: "Like a lighthouse guides ships safely home, let your conscience guide you through moral storms to peaceful harbors." },
    { english: "Your legacy is not what you leave behind but what you build in others while you are here." },
    { english: "The growing edge is always uncomfortablethat's how you know you're growing." },
    { english: "We seek Your blessing through fire, through truth, through good thinking. (Yasna 36.3)" },
    { english: "This I ask You: tell me truly, Ahurawho was the first father of truth by begetting? (Yasna 44.3)" },
    { english: "Morning is creation's invitation to begin again. Accept it with gratitude and intentional presence." },
    { english: "Your conscience is the hearth of heaventend it with thoughts of justice, words of compassion, deeds of righteousness." },
    { english: "Your life may be a drop in the ocean, but without your drop the ocean would be less." },
    { english: "When moral darkness surrounds you, be the flame that others can navigate by." },
    { english: "Grant us, O Mazda, the straight paths of good thinking and truth. (Yasna 33.5)" },
    { english: "Your conscience is the sacred fire that never sleeps, never lies, never abandons you in darkness." },
    { english: "Your work in the world is your worshipdo it with the reverence you would bring to the most sacred task." },
    { english: "True leadership is not about being served but about serving, not about having followers but about creating leaders." },
    { english: "Renewal comes not from changing your circumstances but from changing your relationship to your circumstances." },
    { english: "Speak to me as friend speaks to friend! Show me the supports on which both worlds rest. (Yasna 31.3)" },
    { english: "The light you seek is the light you arestop looking for it and start being it." },
    { english: "Honesty is telling the truth to other people; integrity is telling the truth to yourself." },
    { english: "The wise person is not one who has never erred but one who learns from every mistake." },
    { english: "When the mind is clear like mountain water, right decisions flow naturally. Still the turbulent thoughts and find your center." },
    { english: "Through the beneficent spirit, Mazda, give me strength for good thinking, that I may find the straight paths of life. (Yasna 47.2)" },
    { english: "May we be among those who make this world progress, who are the healers of this world, O Mazda and You, O Truth. (Yasna 30.9)" },
    { english: "The wise Lord rewards those who serve truth with sincerity and devotion. (Teaching verse)" },
    { english: "The divine spark within you knows the difference between right and wrongtrust it, follow it, serve it." },
    { english: "The inner flame burns brightest when fed by deeds of righteousness, words of truth, thoughts of love." },
    { english: "The deepest wisdom is often the simplest truth, lived with complete sincerity." },
    { english: "Every person you meet is fighting a battle you know nothing aboutbe kind, be patient, be present." },
    { english: "The man of good life speaks to him of ill life: 'May your conscience torment you continuously!' (Yasna 46.11)" },
    { english: "The flame that burns for justice never consumes the just, only the injustice they oppose." },
    { english: "We approach You, O Ahura Mazda, with good thinking and truth, seeking Your blessing. (Yasna 34.1)" },
    { english: "Personal evolution is not about perfection but about progression, not about arrival but about journey." },
    { english: "Gratitude is the memory of the heartit never forgets a kindness received or given." },
    { english: "I shall worship You with good thinking, O Mazda Ahura, so that You may teach me truth through Your spirit. (Yasna 45.6)" },
    { english: "Each dawn brings the covenant renewed: to think with clarity, speak with truth, act with love." },
    { english: "Kindness is the universal language that the deaf can hear and the blind can see." },
    { english: "Even in the darkest times, remember: you are here for a reason, at this time, in this place." },
    { english: "The phoenix is not reborn from ashes but through themtransformation requires embracing the fire." },
    { english: "As the first, O Mazda, You gave bodies and breath to the corporeal world through Your thought. (Yasna 31.11)" },
    { english: "Your inner fire is not yours aloneit is borrowed from the eternal flame that lights all worlds." },
    { english: "The river that moves you also moves through youyou are not separate from the flow of life." },
    { english: "The ultimate measure of your life is not what you accomplish but who you become." },
    { english: "The most precious gift you can give another person is your full, undivided, loving attention." },
    { english: "Truth is not a destination but a way of walking. Each step in harmony with what is right brings the world closer to wholeness." },
    { english: "May Ahura Mazda grant us that good which we seek through truth and good thinking. (Yasna 60.12)" },
    { english: "Gratitude turns what we have into enough, transforms ordinary days into thanksgivings, routine jobs into joy." },
    { english: "Love is the recognition that the other person's happiness is as important as your ownmaybe more important." },
    { english: "Every person you meet is your teachersome teach by example, others by cautionary tale." },
    { english: "Through righteousness may we attain that world of good thinking. (Yasna 34.15)" },
    { english: "The deceitful one chose to bring to realization the worst things. But the very beneficent spirit chose truth, and so shall those who satisfy the Wise Lord continuously with true actions. (Yasna 30.5)" },
    { english: "Each breath is a chance to choose life over death, hope over despair, love over fear." },
    { english: "True understanding comes not from accumulating facts but from seeing the patterns that connect all things." },
    { english: "Every act of service is a prayer, every moment of helpfulness a hymn, every gesture of kindness a blessing." },
    { english: "Where truth blooms, falsehood cannot take root. Cultivate the garden of your life with seeds of honesty and integrity." },
    { english: "The future is not fixed because you are still choosingmake your next choice count." },
    { english: "The most powerful force in the universe is a human being living in alignment with their highest truth." },
    { english: "When you see injustice and do nothing, you become part of the injusticespeak up, stand up, act up." },
    { english: "As rivers seek the sea, let your thoughts flow toward truth. In the silence of right action, wisdom speaks without words." },
    { english: "Your daily work is your temple, your loving relationships your prayer, your kind actions your worship." },
    { english: "The true order of existence is good; the most-good existence it is; desire it! Wish it! Happiness, bliss, enlightenment it is for that existence which is the true order of existence. (Ashem Vohu)" },
    { english: "The heart that has known pain is the heart most capable of healing others' pain." },
    { english: "Conflict is often the birth-pain of greater understandingdo not avoid it, but engage it constructively." },
    { english: "Clear thinking leads to clear speaking, which leads to clear acting. Begin each day by clarifying your deepest intentions." },
    { english: "The order of existence reveals itself to those who seek with sincere hearts. Look closelytruth hides in plain sight." },
    { english: "Let the actions of good thinking come to fruition for the man who teaches truth to Zarathustra. (Yasna 28.6)" },
    { english: "The loving man who brings help to the truthful, whether kinsman or fellow-member of the community, is in good accord with truth. (Yasna 46.2)" },
    { english: "When shall I know that You have power over those who cause harm to me, O Mazda? Let fire accompanied by good thinking make this known to me through truth. (Yasna 48.7)" },
    { english: "Clarity comes not from having all the answers but from asking the right questions." },
    { english: "Wisdom is knowing what to do; virtue is doing it; integrity is being consistent in both." },
    { english: "And when punishment comes to the wicked, then shall Your power be revealed to all, O Mazda. (Yasna 30.8)" },
    { english: "Your network is not about who can help you but who you can help, not who you know but who knows they can count on you." },
    { english: "Every ending is a new beginning in disguiselook for the hidden gift in every goodbye." },
    { english: "Through truth I complete my worship and my praise with actions, O Mazda Ahura. (Yasna 50.11)" },
    { english: "Where shall the righteous man find refuge when the wicked overwhelm the land? (Yasna 46.1)" },
    { english: "Like a river finds its course, truth finds its way through every obstacle. Be the clear channel through which it flows." },
    { english: "Every moment offers the great choice: will you add to the world's burden or its blessing? Choose consciously." },
    { english: "The rhythm of sunrise and sunset teaches the sacred pace of effort and rest, engagement and reflection." },
    { english: "Your fire, strong through truth, is a visible help to Your supporter, but visible harm to Your enemy, O Ahura Mazda. (Yasna 34.4)" },
    { english: "The soul of the earth cries out: For whom did You fashion me? Who created me? (Yasna 29.1)" },
    { english: "Service is the rent we pay for living on this planetpay it gladly and generously." }
  ], a = 5, l = o.length, c = [];
  for (let h = 0; h < a; h++)
    c.push(...o);
  const d = [
    ...c.slice(c.length - l),
    ...c,
    ...c.slice(0, l)
    // Append for smooth loop
  ], f = async () => {
    if (n || !r.current || e <= 0) {
      console.log("No spins left or already spinning.");
      return;
    }
    console.log("handleSpin called");
    try {
      new Audio("/gear-click-351962.mp3").play().catch((v) => console.error("Error playing sound:", v));
    } catch (y) {
      console.error("Error creating Audio object:", y);
    }
    s(!0), t((y) => y - 1);
    const { data: { user: h } } = await he.auth.getUser();
    if (h) {
      const y = (/* @__PURE__ */ new Date()).toISOString().slice(0, 10), { error: v } = await he.from("daily_spins").upsert({ user_id: h.id, spin_date: y, spin_count: 3 - e + 1 }, { onConflict: "user_id, spin_date" });
      v && console.error("Error updating daily spin count:", v);
    }
    const p = Math.floor(Math.random() * o.length), m = (l + p + o.length * Math.floor(a / 2)) * i;
    r.current.classList.add(ut.prophecyReelSpinning), r.current.style.transform = `translateY(-${m}px)`, setTimeout(() => {
      if (!r.current)
        return;
      r.current.classList.remove(ut.prophecyReelSpinning), r.current.style.transition = "none";
      const y = p * i;
      r.current.style.transform = `translateY(-${y}px)`, r.current.offsetHeight, r.current.style.transition = "transform 1.5s cubic-bezier(0.25, 1, 0.5, 1)", s(!1);
    }, 1600);
  };
  return u.jsx(u.Fragment, { children: u.jsx("div", { className: `${ut.prophecyMask} ${ut.englishMask}`, onClick: f, children: u.jsx("div", { ref: r, className: ut.prophecyReel, children: d.map((h, p) => u.jsx("div", { className: ut.prophecyItem, children: u.jsx("span", { className: ut.englishText, children: h.english }) }, p)) }) }) });
}, OZ = ({ contentMap: e, spinsLeft: t, setSpinsLeft: r }) => {
  var o, a, l;
  const n = ((o = e.get("hero_title")) == null ? void 0 : o.content) || "Zoroasterverse", s = ((a = e.get("hero_quote")) == null ? void 0 : a.content) || "Happiness comes to them who bring happiness to others.", i = ((l = e.get("hero_description")) == null ? void 0 : l.content) || "Learn about the teachings of the prophet Zarathustra, the history of one of the worlds oldest religions, and the principles of Good Thoughts, Good Words, and Good Deeds.";
  return u.jsxs("section", { id: "home", className: ut.zrHero, children: [u.jsxs("div", { className: ut.zrHeroContent, children: [u.jsx("h1", { className: ut.zrTitle, children: n }), u.jsx("p", { className: ut.zrQuote, children: s }), u.jsx("p", { className: ut.zrIntro, children: i }), u.jsx(qr, { className: ut.zrCta, to: "/blog/about", children: "Learn More" })] }), u.jsxs("figure", { className: ut.zrHeroArt, "aria-labelledby": "art-caption", children: [u.jsx("video", { src: "/200716-913538378.mp4", autoPlay: !0, loop: !0, muted: !0, playsInline: !0, className: ut.videoFire }), u.jsx("div", { className: ut.spinsIndicator, children: [...Array(3)].map((c, d) => u.jsx("div", { className: `${ut.spinDot} ${d < t ? ut.spinDotActive : ""}` }, d)) }), u.jsx(PZ, { spinsLeft: t, setSpinsLeft: r }), u.jsx("figcaption", { id: "art-caption", className: ut.srOnly, children: "A stylized winged figure above a sacred fire." })] })] });
}, DZ = ({ posts: e }) => u.jsxs("section", { className: ut.zrSection, children: [u.jsx("h2", { className: ut.zrH2, children: "Latest News & Updates" }), u.jsx("div", { className: "grid grid-cols-1 md:grid-cols-3 gap-8", children: e.map((t) => {
  const r = t.content.length > 100 ? t.content.substring(0, 100) + "..." : t.content;
  return u.jsxs("div", { className: ut.parchmentCard, children: [u.jsx("h3", { children: t.title }), u.jsx("p", { className: "mt-2", dangerouslySetInnerHTML: { __html: r } }), u.jsx(qr, { to: `/blog/${t.slug}`, className: "mt-4 inline-block", children: "Read More" })] }, t.id);
}) })] }), $Z = ({ releases: e }) => u.jsxs("section", { className: ut.zrSection, children: [u.jsx("h2", { className: ut.zrH2, children: "Latest Releases" }), u.jsx("div", { className: "grid grid-cols-1 md:grid-cols-3 gap-8", children: e.map((t) => u.jsxs("div", { className: ut.parchmentCard, children: [u.jsx("h3", { children: t.title }), u.jsxs("p", { className: "mt-2", children: ["Type: ", t.type] }), u.jsx("a", { href: t.link || "#", className: "mt-4 inline-block", children: "View Details / Purchase" })] }, t.id)) })] }), E$e = () => {
  var y, v, b, x;
  const { data: e, isLoading: t, isError: r } = br({ queryKey: ["homepageContent"], queryFn: CZ }), { data: n, isLoading: s, isError: i } = br({ queryKey: ["latestPosts"], queryFn: TZ }), { data: o, isLoading: a, isError: l } = br({ queryKey: ["releaseItems"], queryFn: AZ }), [c, d] = L(3), [f, h] = L(null);
  ve(() => {
    (async () => {
      const { data: { user: w } } = await he.auth.getUser();
      if (!w) {
        d(0);
        return;
      }
      const j = (/* @__PURE__ */ new Date()).toISOString().slice(0, 10), { data: N, error: k } = await he.from("daily_spins").select("*").eq("user_id", w.id).eq("spin_date", j).single();
      if (k && k.code !== "PGRST116") {
        console.error("Error fetching daily spins:", k), d(0);
        return;
      }
      if (N)
        d(3 - N.spin_count), h(N.spin_date);
      else {
        d(3), h(j);
        const { error: C } = await he.from("daily_spins").insert({ user_id: w.id, spin_date: j, spin_count: 0 });
        C && console.error("Error inserting new daily spin entry:", C);
      }
    })();
  }, []);
  const p = t || s || a, g = r || i || l;
  if (p)
    return u.jsx("div", { className: "text-center py-8", children: "Loading homepage content..." });
  if (g)
    return u.jsx("div", { className: "text-center py-8 text-red-400", children: "Error loading homepage content." });
  const m = new Map(e == null ? void 0 : e.map((S) => [S.section, S]));
  return u.jsxs("div", { children: [u.jsx(OZ, { contentMap: m, spinsLeft: c, setSpinsLeft: d }), u.jsxs("section", { className: ut.zrSection, children: [u.jsx("h2", { className: ut.zrH2, children: "Our Progress" }), u.jsxs("div", { className: "grid grid-cols-2 md:grid-cols-4 gap-8 text-center", children: [u.jsxs("div", { className: ut.parchmentCard, children: [u.jsx("h3", { className: "text-4xl font-bold text-primary", children: ((y = m.get("statistics_words_written")) == null ? void 0 : y.content) || "0" }), u.jsx("p", { className: "text-muted-foreground", children: "Words Written" })] }), u.jsxs("div", { className: ut.parchmentCard, children: [u.jsx("h3", { className: "text-4xl font-bold text-primary", children: ((v = m.get("statistics_beta_readers")) == null ? void 0 : v.content) || "0" }), u.jsx("p", { className: "text-muted-foreground", children: "Beta Readers" })] }), u.jsxs("div", { className: ut.parchmentCard, children: [u.jsx("h3", { className: "text-4xl font-bold text-primary", children: ((b = m.get("statistics_average_rating")) == null ? void 0 : b.content) || "0" }), u.jsx("p", { className: "text-muted-foreground", children: "Average Rating" })] }), u.jsxs("div", { className: ut.parchmentCard, children: [u.jsx("h3", { className: "text-4xl font-bold text-primary", children: ((x = m.get("statistics_books_published")) == null ? void 0 : x.content) || "0" }), u.jsx("p", { className: "text-muted-foreground", children: "Books Published" })] })] })] }), u.jsx(DZ, { posts: n || [] }), u.jsx($Z, { releases: o || [] }), u.jsxs("section", { className: ut.zrSection, children: [u.jsx("h2", { className: ut.zrH2, children: "Artist Collaboration" }), u.jsxs("div", { className: "relative rounded-lg shadow-lg overflow-hidden w-full", children: [u.jsx("img", { src: "/images/invite_to_Colab_card.png", alt: "Artist Collaboration Invitation", className: "w-full h-full object-contain" }), u.jsxs("div", { className: "absolute inset-0 bg-black bg-opacity-50 flex flex-col items-center justify-center p-8", children: [u.jsx("h3", { className: "text-2xl font-bold text-white mb-4 text-shadow-md", children: "Join Our Creative Team!" }), u.jsx("p", { className: "text-white mb-6 text-shadow-sm", children: "We're looking for talented artists to help shape the visual identity of the Zangar/Spandam Series. Explore revenue-share opportunities and bring your vision to life." }), u.jsx(qr, { to: "/artist-collaboration", className: "inline-block bg-primary hover:bg-primary-dark text-white font-bold py-3 px-6 rounded-lg transition duration-300 ease-in-out transform hover:scale-105", children: "Apply Now" })] })] })] })] });
};
function RZ(e) {
  const t = e + "CollectionProvider", [r, n] = pd(t), [s, i] = r(
    t,
    { collectionRef: { current: null }, itemMap: /* @__PURE__ */ new Map() }
  ), o = (m) => {
    const { scope: y, children: v } = m, b = ge.useRef(null), x = ge.useRef(/* @__PURE__ */ new Map()).current;
    return /* @__PURE__ */ u.jsx(s, { scope: y, itemMap: x, collectionRef: b, children: v });
  };
  o.displayName = t;
  const a = e + "CollectionSlot", l = /* @__PURE__ */ oh(a), c = ge.forwardRef(
    (m, y) => {
      const { scope: v, children: b } = m, x = i(a, v), S = Vn(y, x.collectionRef);
      return /* @__PURE__ */ u.jsx(l, { ref: S, children: b });
    }
  );
  c.displayName = a;
  const d = e + "CollectionItemSlot", f = "data-radix-collection-item", h = /* @__PURE__ */ oh(d), p = ge.forwardRef(
    (m, y) => {
      const { scope: v, children: b, ...x } = m, S = ge.useRef(null), w = Vn(y, S), j = i(d, v);
      return ge.useEffect(() => (j.itemMap.set(S, { ref: S, ...x }), () => void j.itemMap.delete(S))), /* @__PURE__ */ u.jsx(h, { [f]: "", ref: w, children: b });
    }
  );
  p.displayName = d;
  function g(m) {
    const y = i(e + "CollectionConsumer", m);
    return ge.useCallback(() => {
      const b = y.collectionRef.current;
      if (!b) return [];
      const x = Array.from(b.querySelectorAll(`[${f}]`));
      return Array.from(y.itemMap.values()).sort(
        (j, N) => x.indexOf(j.ref.current) - x.indexOf(N.ref.current)
      );
    }, [y.collectionRef, y.itemMap]);
  }
  return [
    { Provider: o, Slot: c, ItemSlot: p },
    g,
    n
  ];
}
var IZ = _.createContext(void 0);
function uL(e) {
  const t = _.useContext(IZ);
  return e || t || "ltr";
}
var D0 = "rovingFocusGroup.onEntryFocus", MZ = { bubbles: !1, cancelable: !0 }, sp = "RovingFocusGroup", [qw, dL, LZ] = RZ(sp), [FZ, fL] = pd(
  sp,
  [LZ]
), [BZ, zZ] = FZ(sp), hL = _.forwardRef(
  (e, t) => /* @__PURE__ */ u.jsx(qw.Provider, { scope: e.__scopeRovingFocusGroup, children: /* @__PURE__ */ u.jsx(qw.Slot, { scope: e.__scopeRovingFocusGroup, children: /* @__PURE__ */ u.jsx(UZ, { ...e, ref: t }) }) })
);
hL.displayName = sp;
var UZ = _.forwardRef((e, t) => {
  const {
    __scopeRovingFocusGroup: r,
    orientation: n,
    loop: s = !1,
    dir: i,
    currentTabStopId: o,
    defaultCurrentTabStopId: a,
    onCurrentTabStopIdChange: l,
    onEntryFocus: c,
    preventScrollOnEntryFocus: d = !1,
    ...f
  } = e, h = _.useRef(null), p = Vn(t, h), g = uL(i), [m, y] = cv({
    prop: o,
    defaultProp: a ?? null,
    onChange: l,
    caller: sp
  }), [v, b] = _.useState(!1), x = zu(c), S = dL(r), w = _.useRef(!1), [j, N] = _.useState(0);
  return _.useEffect(() => {
    const k = h.current;
    if (k)
      return k.addEventListener(D0, x), () => k.removeEventListener(D0, x);
  }, [x]), /* @__PURE__ */ u.jsx(
    BZ,
    {
      scope: r,
      orientation: n,
      dir: g,
      loop: s,
      currentTabStopId: m,
      onItemFocus: _.useCallback(
        (k) => y(k),
        [y]
      ),
      onItemShiftTab: _.useCallback(() => b(!0), []),
      onFocusableItemAdd: _.useCallback(
        () => N((k) => k + 1),
        []
      ),
      onFocusableItemRemove: _.useCallback(
        () => N((k) => k - 1),
        []
      ),
      children: /* @__PURE__ */ u.jsx(
        Hr.div,
        {
          tabIndex: v || j === 0 ? -1 : 0,
          "data-orientation": n,
          ...f,
          ref: p,
          style: { outline: "none", ...e.style },
          onMouseDown: Rr(e.onMouseDown, () => {
            w.current = !0;
          }),
          onFocus: Rr(e.onFocus, (k) => {
            const C = !w.current;
            if (k.target === k.currentTarget && C && !v) {
              const $ = new CustomEvent(D0, MZ);
              if (k.currentTarget.dispatchEvent($), !$.defaultPrevented) {
                const I = S().filter((G) => G.focusable), M = I.find((G) => G.active), O = I.find((G) => G.id === m), U = [M, O, ...I].filter(
                  Boolean
                ).map((G) => G.ref.current);
                gL(U, d);
              }
            }
            w.current = !1;
          }),
          onBlur: Rr(e.onBlur, () => b(!1))
        }
      )
    }
  );
}), pL = "RovingFocusGroupItem", mL = _.forwardRef(
  (e, t) => {
    const {
      __scopeRovingFocusGroup: r,
      focusable: n = !0,
      active: s = !1,
      tabStopId: i,
      children: o,
      ...a
    } = e, l = Mf(), c = i || l, d = zZ(pL, r), f = d.currentTabStopId === c, h = dL(r), { onFocusableItemAdd: p, onFocusableItemRemove: g, currentTabStopId: m } = d;
    return _.useEffect(() => {
      if (n)
        return p(), () => g();
    }, [n, p, g]), /* @__PURE__ */ u.jsx(
      qw.ItemSlot,
      {
        scope: r,
        id: c,
        focusable: n,
        active: s,
        children: /* @__PURE__ */ u.jsx(
          Hr.span,
          {
            tabIndex: f ? 0 : -1,
            "data-orientation": d.orientation,
            ...a,
            ref: t,
            onMouseDown: Rr(e.onMouseDown, (y) => {
              n ? d.onItemFocus(c) : y.preventDefault();
            }),
            onFocus: Rr(e.onFocus, () => d.onItemFocus(c)),
            onKeyDown: Rr(e.onKeyDown, (y) => {
              if (y.key === "Tab" && y.shiftKey) {
                d.onItemShiftTab();
                return;
              }
              if (y.target !== y.currentTarget) return;
              const v = WZ(y, d.orientation, d.dir);
              if (v !== void 0) {
                if (y.metaKey || y.ctrlKey || y.altKey || y.shiftKey) return;
                y.preventDefault();
                let x = h().filter((S) => S.focusable).map((S) => S.ref.current);
                if (v === "last") x.reverse();
                else if (v === "prev" || v === "next") {
                  v === "prev" && x.reverse();
                  const S = x.indexOf(y.currentTarget);
                  x = d.loop ? KZ(x, S + 1) : x.slice(S + 1);
                }
                setTimeout(() => gL(x));
              }
            }),
            children: typeof o == "function" ? o({ isCurrentTabStop: f, hasTabStop: m != null }) : o
          }
        )
      }
    );
  }
);
mL.displayName = pL;
var qZ = {
  ArrowLeft: "prev",
  ArrowUp: "prev",
  ArrowRight: "next",
  ArrowDown: "next",
  PageUp: "first",
  Home: "first",
  PageDown: "last",
  End: "last"
};
function VZ(e, t) {
  return t !== "rtl" ? e : e === "ArrowLeft" ? "ArrowRight" : e === "ArrowRight" ? "ArrowLeft" : e;
}
function WZ(e, t, r) {
  const n = VZ(e.key, r);
  if (!(t === "vertical" && ["ArrowLeft", "ArrowRight"].includes(n)) && !(t === "horizontal" && ["ArrowUp", "ArrowDown"].includes(n)))
    return qZ[n];
}
function gL(e, t = !1) {
  const r = document.activeElement;
  for (const n of e)
    if (n === r || (n.focus({ preventScroll: t }), document.activeElement !== r)) return;
}
function KZ(e, t) {
  return e.map((r, n) => e[(t + n) % e.length]);
}
var HZ = hL, YZ = mL, xv = "Tabs", [GZ, j$e] = pd(xv, [
  fL
]), yL = fL(), [ZZ, ZS] = GZ(xv), vL = _.forwardRef(
  (e, t) => {
    const {
      __scopeTabs: r,
      value: n,
      onValueChange: s,
      defaultValue: i,
      orientation: o = "horizontal",
      dir: a,
      activationMode: l = "automatic",
      ...c
    } = e, d = uL(a), [f, h] = cv({
      prop: n,
      onChange: s,
      defaultProp: i ?? "",
      caller: xv
    });
    return /* @__PURE__ */ u.jsx(
      ZZ,
      {
        scope: r,
        baseId: Mf(),
        value: f,
        onValueChange: h,
        orientation: o,
        dir: d,
        activationMode: l,
        children: /* @__PURE__ */ u.jsx(
          Hr.div,
          {
            dir: d,
            "data-orientation": o,
            ...c,
            ref: t
          }
        )
      }
    );
  }
);
vL.displayName = xv;
var bL = "TabsList", xL = _.forwardRef(
  (e, t) => {
    const { __scopeTabs: r, loop: n = !0, ...s } = e, i = ZS(bL, r), o = yL(r);
    return /* @__PURE__ */ u.jsx(
      HZ,
      {
        asChild: !0,
        ...o,
        orientation: i.orientation,
        dir: i.dir,
        loop: n,
        children: /* @__PURE__ */ u.jsx(
          Hr.div,
          {
            role: "tablist",
            "aria-orientation": i.orientation,
            ...s,
            ref: t
          }
        )
      }
    );
  }
);
xL.displayName = bL;
var wL = "TabsTrigger", _L = _.forwardRef(
  (e, t) => {
    const { __scopeTabs: r, value: n, disabled: s = !1, ...i } = e, o = ZS(wL, r), a = yL(r), l = jL(o.baseId, n), c = NL(o.baseId, n), d = n === o.value;
    return /* @__PURE__ */ u.jsx(
      YZ,
      {
        asChild: !0,
        ...a,
        focusable: !s,
        active: d,
        children: /* @__PURE__ */ u.jsx(
          Hr.button,
          {
            type: "button",
            role: "tab",
            "aria-selected": d,
            "aria-controls": c,
            "data-state": d ? "active" : "inactive",
            "data-disabled": s ? "" : void 0,
            disabled: s,
            id: l,
            ...i,
            ref: t,
            onMouseDown: Rr(e.onMouseDown, (f) => {
              !s && f.button === 0 && f.ctrlKey === !1 ? o.onValueChange(n) : f.preventDefault();
            }),
            onKeyDown: Rr(e.onKeyDown, (f) => {
              [" ", "Enter"].includes(f.key) && o.onValueChange(n);
            }),
            onFocus: Rr(e.onFocus, () => {
              const f = o.activationMode !== "manual";
              !d && !s && f && o.onValueChange(n);
            })
          }
        )
      }
    );
  }
);
_L.displayName = wL;
var SL = "TabsContent", EL = _.forwardRef(
  (e, t) => {
    const { __scopeTabs: r, value: n, forceMount: s, children: i, ...o } = e, a = ZS(SL, r), l = jL(a.baseId, n), c = NL(a.baseId, n), d = n === a.value, f = _.useRef(d);
    return _.useEffect(() => {
      const h = requestAnimationFrame(() => f.current = !1);
      return () => cancelAnimationFrame(h);
    }, []), /* @__PURE__ */ u.jsx(ep, { present: s || d, children: ({ present: h }) => /* @__PURE__ */ u.jsx(
      Hr.div,
      {
        "data-state": d ? "active" : "inactive",
        "data-orientation": a.orientation,
        role: "tabpanel",
        "aria-labelledby": l,
        hidden: !h,
        id: c,
        tabIndex: 0,
        ...o,
        ref: t,
        style: {
          ...e.style,
          animationDuration: f.current ? "0s" : void 0
        },
        children: h && i
      }
    ) });
  }
);
EL.displayName = SL;
function jL(e, t) {
  return `${e}-trigger-${t}`;
}
function NL(e, t) {
  return `${e}-content-${t}`;
}
var XZ = vL, kL = xL, CL = _L, TL = EL;
const JZ = XZ, AL = _.forwardRef(({ className: e, ...t }, r) => u.jsx(kL, { ref: r, className: Ze("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground", e), ...t }));
AL.displayName = kL.displayName;
const xf = _.forwardRef(({ className: e, ...t }, r) => u.jsx(CL, { ref: r, className: Ze("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm", e), ...t }));
xf.displayName = CL.displayName;
const wf = _.forwardRef(({ className: e, ...t }, r) => u.jsx(TL, { ref: r, className: Ze("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2", e), ...t }));
wf.displayName = TL.displayName;
var ip = (e) => e.type === "checkbox", $l = (e) => e instanceof Date, En = (e) => e == null;
const PL = (e) => typeof e == "object";
var cr = (e) => !En(e) && !Array.isArray(e) && PL(e) && !$l(e), OL = (e) => cr(e) && e.target ? ip(e.target) ? e.target.checked : e.target.value : e, QZ = (e) => e.substring(0, e.search(/\.\d+(\.|$)/)) || e, DL = (e, t) => e.has(QZ(t)), eX = (e) => {
  const t = e.constructor && e.constructor.prototype;
  return cr(t) && t.hasOwnProperty("isPrototypeOf");
}, XS = typeof window < "u" && typeof window.HTMLElement < "u" && typeof document < "u";
function Pr(e) {
  let t;
  const r = Array.isArray(e), n = typeof FileList < "u" ? e instanceof FileList : !1;
  if (e instanceof Date)
    t = new Date(e);
  else if (!(XS && (e instanceof Blob || n)) && (r || cr(e)))
    if (t = r ? [] : Object.create(Object.getPrototypeOf(e)), !r && !eX(e))
      t = e;
    else
      for (const s in e)
        e.hasOwnProperty(s) && (t[s] = Pr(e[s]));
  else
    return e;
  return t;
}
var wv = (e) => /^\w*$/.test(e), lr = (e) => e === void 0, JS = (e) => Array.isArray(e) ? e.filter(Boolean) : [], QS = (e) => JS(e.replace(/["|']|\]/g, "").split(/\.|\[/)), _e = (e, t, r) => {
  if (!t || !cr(e))
    return r;
  const n = (wv(t) ? [t] : QS(t)).reduce((s, i) => En(s) ? s : s[i], e);
  return lr(n) || n === e ? lr(e[t]) ? r : e[t] : n;
}, es = (e) => typeof e == "boolean", xt = (e, t, r) => {
  let n = -1;
  const s = wv(t) ? [t] : QS(t), i = s.length, o = i - 1;
  for (; ++n < i; ) {
    const a = s[n];
    let l = r;
    if (n !== o) {
      const c = e[a];
      l = cr(c) || Array.isArray(c) ? c : isNaN(+s[n + 1]) ? {} : [];
    }
    if (a === "__proto__" || a === "constructor" || a === "prototype")
      return;
    e[a] = l, e = e[a];
  }
};
const Dg = {
  BLUR: "blur",
  FOCUS_OUT: "focusout",
  CHANGE: "change"
}, ii = {
  onBlur: "onBlur",
  onChange: "onChange",
  onSubmit: "onSubmit",
  onTouched: "onTouched",
  all: "all"
}, go = {
  max: "max",
  min: "min",
  maxLength: "maxLength",
  minLength: "minLength",
  pattern: "pattern",
  required: "required",
  validate: "validate"
}, $L = ge.createContext(null);
$L.displayName = "HookFormContext";
const eE = () => ge.useContext($L);
var RL = (e, t, r, n = !0) => {
  const s = {
    defaultValues: t._defaultValues
  };
  for (const i in e)
    Object.defineProperty(s, i, {
      get: () => {
        const o = i;
        return t._proxyFormState[o] !== ii.all && (t._proxyFormState[o] = !n || ii.all), r && (r[o] = !0), e[o];
      }
    });
  return s;
};
const tE = typeof window < "u" ? ge.useLayoutEffect : ge.useEffect;
function tX(e) {
  const t = eE(), { control: r = t.control, disabled: n, name: s, exact: i } = e || {}, [o, a] = ge.useState(r._formState), l = ge.useRef({
    isDirty: !1,
    isLoading: !1,
    dirtyFields: !1,
    touchedFields: !1,
    validatingFields: !1,
    isValidating: !1,
    isValid: !1,
    errors: !1
  });
  return tE(() => r._subscribe({
    name: s,
    formState: l.current,
    exact: i,
    callback: (c) => {
      !n && a({
        ...r._formState,
        ...c
      });
    }
  }), [s, n, i]), ge.useEffect(() => {
    l.current.isValid && r._setValid(!0);
  }, [r]), ge.useMemo(() => RL(o, r, l.current, !1), [o, r]);
}
var Li = (e) => typeof e == "string", IL = (e, t, r, n, s) => Li(e) ? (n && t.watch.add(e), _e(r, e, s)) : Array.isArray(e) ? e.map((i) => (n && t.watch.add(i), _e(r, i))) : (n && (t.watchAll = !0), r), Vw = (e) => En(e) || !PL(e);
function No(e, t, r = /* @__PURE__ */ new WeakSet()) {
  if (Vw(e) || Vw(t))
    return e === t;
  if ($l(e) && $l(t))
    return e.getTime() === t.getTime();
  const n = Object.keys(e), s = Object.keys(t);
  if (n.length !== s.length)
    return !1;
  if (r.has(e) || r.has(t))
    return !0;
  r.add(e), r.add(t);
  for (const i of n) {
    const o = e[i];
    if (!s.includes(i))
      return !1;
    if (i !== "ref") {
      const a = t[i];
      if ($l(o) && $l(a) || cr(o) && cr(a) || Array.isArray(o) && Array.isArray(a) ? !No(o, a, r) : o !== a)
        return !1;
    }
  }
  return !0;
}
function rX(e) {
  const t = eE(), { control: r = t.control, name: n, defaultValue: s, disabled: i, exact: o, compute: a } = e || {}, l = ge.useRef(s), c = ge.useRef(a), d = ge.useRef(void 0);
  c.current = a;
  const f = ge.useMemo(() => r._getWatch(n, l.current), [r, n]), [h, p] = ge.useState(c.current ? c.current(f) : f);
  return tE(() => r._subscribe({
    name: n,
    formState: {
      values: !0
    },
    exact: o,
    callback: (g) => {
      if (!i) {
        const m = IL(n, r._names, g.values || r._formValues, !1, l.current);
        if (c.current) {
          const y = c.current(m);
          No(y, d.current) || (p(y), d.current = y);
        } else
          p(m);
      }
    }
  }), [r, i, n, o]), ge.useEffect(() => r._removeUnmounted()), h;
}
function nX(e) {
  const t = eE(), { name: r, disabled: n, control: s = t.control, shouldUnregister: i, defaultValue: o } = e, a = DL(s._names.array, r), l = ge.useMemo(() => _e(s._formValues, r, _e(s._defaultValues, r, o)), [s, r, o]), c = rX({
    control: s,
    name: r,
    defaultValue: l,
    exact: !0
  }), d = tX({
    control: s,
    name: r,
    exact: !0
  }), f = ge.useRef(e), h = ge.useRef(s.register(r, {
    ...e.rules,
    value: c,
    ...es(e.disabled) ? { disabled: e.disabled } : {}
  }));
  f.current = e;
  const p = ge.useMemo(() => Object.defineProperties({}, {
    invalid: {
      enumerable: !0,
      get: () => !!_e(d.errors, r)
    },
    isDirty: {
      enumerable: !0,
      get: () => !!_e(d.dirtyFields, r)
    },
    isTouched: {
      enumerable: !0,
      get: () => !!_e(d.touchedFields, r)
    },
    isValidating: {
      enumerable: !0,
      get: () => !!_e(d.validatingFields, r)
    },
    error: {
      enumerable: !0,
      get: () => _e(d.errors, r)
    }
  }), [d, r]), g = ge.useCallback((b) => h.current.onChange({
    target: {
      value: OL(b),
      name: r
    },
    type: Dg.CHANGE
  }), [r]), m = ge.useCallback(() => h.current.onBlur({
    target: {
      value: _e(s._formValues, r),
      name: r
    },
    type: Dg.BLUR
  }), [r, s._formValues]), y = ge.useCallback((b) => {
    const x = _e(s._fields, r);
    x && b && (x._f.ref = {
      focus: () => b.focus && b.focus(),
      select: () => b.select && b.select(),
      setCustomValidity: (S) => b.setCustomValidity(S),
      reportValidity: () => b.reportValidity()
    });
  }, [s._fields, r]), v = ge.useMemo(() => ({
    name: r,
    value: c,
    ...es(n) || d.disabled ? { disabled: d.disabled || n } : {},
    onChange: g,
    onBlur: m,
    ref: y
  }), [r, n, d.disabled, g, m, y, c]);
  return ge.useEffect(() => {
    const b = s._options.shouldUnregister || i;
    s.register(r, {
      ...f.current.rules,
      ...es(f.current.disabled) ? { disabled: f.current.disabled } : {}
    });
    const x = (S, w) => {
      const j = _e(s._fields, S);
      j && j._f && (j._f.mount = w);
    };
    if (x(r, !0), b) {
      const S = Pr(_e(s._options.defaultValues, r));
      xt(s._defaultValues, r, S), lr(_e(s._formValues, r)) && xt(s._formValues, r, S);
    }
    return !a && s.register(r), () => {
      (a ? b && !s._state.action : b) ? s.unregister(r) : x(r, !1);
    };
  }, [r, s, a, i]), ge.useEffect(() => {
    s._setDisabledField({
      disabled: n,
      name: r
    });
  }, [n, r, s]), ge.useMemo(() => ({
    field: v,
    formState: d,
    fieldState: p
  }), [v, d, p]);
}
const $0 = (e) => e.render(nX(e));
var rE = (e, t, r, n, s) => t ? {
  ...r[e],
  types: {
    ...r[e] && r[e].types ? r[e].types : {},
    [n]: s || !0
  }
} : {}, qf = (e) => Array.isArray(e) ? e : [e], iT = () => {
  let e = [];
  return {
    get observers() {
      return e;
    },
    next: (s) => {
      for (const i of e)
        i.next && i.next(s);
    },
    subscribe: (s) => (e.push(s), {
      unsubscribe: () => {
        e = e.filter((i) => i !== s);
      }
    }),
    unsubscribe: () => {
      e = [];
    }
  };
}, In = (e) => cr(e) && !Object.keys(e).length, nE = (e) => e.type === "file", oi = (e) => typeof e == "function", $g = (e) => {
  if (!XS)
    return !1;
  const t = e ? e.ownerDocument : 0;
  return e instanceof (t && t.defaultView ? t.defaultView.HTMLElement : HTMLElement);
}, ML = (e) => e.type === "select-multiple", sE = (e) => e.type === "radio", sX = (e) => sE(e) || ip(e), R0 = (e) => $g(e) && e.isConnected;
function iX(e, t) {
  const r = t.slice(0, -1).length;
  let n = 0;
  for (; n < r; )
    e = lr(e) ? n++ : e[t[n++]];
  return e;
}
function oX(e) {
  for (const t in e)
    if (e.hasOwnProperty(t) && !lr(e[t]))
      return !1;
  return !0;
}
function gr(e, t) {
  const r = Array.isArray(t) ? t : wv(t) ? [t] : QS(t), n = r.length === 1 ? e : iX(e, r), s = r.length - 1, i = r[s];
  return n && delete n[i], s !== 0 && (cr(n) && In(n) || Array.isArray(n) && oX(n)) && gr(e, r.slice(0, -1)), e;
}
var LL = (e) => {
  for (const t in e)
    if (oi(e[t]))
      return !0;
  return !1;
};
function Rg(e, t = {}) {
  const r = Array.isArray(e);
  if (cr(e) || r)
    for (const n in e)
      Array.isArray(e[n]) || cr(e[n]) && !LL(e[n]) ? (t[n] = Array.isArray(e[n]) ? [] : {}, Rg(e[n], t[n])) : En(e[n]) || (t[n] = !0);
  return t;
}
function FL(e, t, r) {
  const n = Array.isArray(e);
  if (cr(e) || n)
    for (const s in e)
      Array.isArray(e[s]) || cr(e[s]) && !LL(e[s]) ? lr(t) || Vw(r[s]) ? r[s] = Array.isArray(e[s]) ? Rg(e[s], []) : { ...Rg(e[s]) } : FL(e[s], En(t) ? {} : t[s], r[s]) : r[s] = !No(e[s], t[s]);
  return r;
}
var Qd = (e, t) => FL(e, t, Rg(t));
const oT = {
  value: !1,
  isValid: !1
}, aT = { value: !0, isValid: !0 };
var BL = (e) => {
  if (Array.isArray(e)) {
    if (e.length > 1) {
      const t = e.filter((r) => r && r.checked && !r.disabled).map((r) => r.value);
      return { value: t, isValid: !!t.length };
    }
    return e[0].checked && !e[0].disabled ? (
      // @ts-expect-error expected to work in the browser
      e[0].attributes && !lr(e[0].attributes.value) ? lr(e[0].value) || e[0].value === "" ? aT : { value: e[0].value, isValid: !0 } : aT
    ) : oT;
  }
  return oT;
}, zL = (e, { valueAsNumber: t, valueAsDate: r, setValueAs: n }) => lr(e) ? e : t ? e === "" ? NaN : e && +e : r && Li(e) ? new Date(e) : n ? n(e) : e;
const lT = {
  isValid: !1,
  value: null
};
var UL = (e) => Array.isArray(e) ? e.reduce((t, r) => r && r.checked && !r.disabled ? {
  isValid: !0,
  value: r.value
} : t, lT) : lT;
function cT(e) {
  const t = e.ref;
  return nE(t) ? t.files : sE(t) ? UL(e.refs).value : ML(t) ? [...t.selectedOptions].map(({ value: r }) => r) : ip(t) ? BL(e.refs).value : zL(lr(t.value) ? e.ref.value : t.value, e);
}
var aX = (e, t, r, n) => {
  const s = {};
  for (const i of e) {
    const o = _e(t, i);
    o && xt(s, i, o._f);
  }
  return {
    criteriaMode: r,
    names: [...e],
    fields: s,
    shouldUseNativeValidation: n
  };
}, Ig = (e) => e instanceof RegExp, ef = (e) => lr(e) ? e : Ig(e) ? e.source : cr(e) ? Ig(e.value) ? e.value.source : e.value : e, uT = (e) => ({
  isOnSubmit: !e || e === ii.onSubmit,
  isOnBlur: e === ii.onBlur,
  isOnChange: e === ii.onChange,
  isOnAll: e === ii.all,
  isOnTouch: e === ii.onTouched
});
const dT = "AsyncFunction";
var lX = (e) => !!e && !!e.validate && !!(oi(e.validate) && e.validate.constructor.name === dT || cr(e.validate) && Object.values(e.validate).find((t) => t.constructor.name === dT)), cX = (e) => e.mount && (e.required || e.min || e.max || e.maxLength || e.minLength || e.pattern || e.validate), fT = (e, t, r) => !r && (t.watchAll || t.watch.has(e) || [...t.watch].some((n) => e.startsWith(n) && /^\.\w+/.test(e.slice(n.length))));
const Vf = (e, t, r, n) => {
  for (const s of r || Object.keys(e)) {
    const i = _e(e, s);
    if (i) {
      const { _f: o, ...a } = i;
      if (o) {
        if (o.refs && o.refs[0] && t(o.refs[0], s) && !n)
          return !0;
        if (o.ref && t(o.ref, o.name) && !n)
          return !0;
        if (Vf(a, t))
          break;
      } else if (cr(a) && Vf(a, t))
        break;
    }
  }
};
function hT(e, t, r) {
  const n = _e(e, r);
  if (n || wv(r))
    return {
      error: n,
      name: r
    };
  const s = r.split(".");
  for (; s.length; ) {
    const i = s.join("."), o = _e(t, i), a = _e(e, i);
    if (o && !Array.isArray(o) && r !== i)
      return { name: r };
    if (a && a.type)
      return {
        name: i,
        error: a
      };
    if (a && a.root && a.root.type)
      return {
        name: `${i}.root`,
        error: a.root
      };
    s.pop();
  }
  return {
    name: r
  };
}
var uX = (e, t, r, n) => {
  r(e);
  const { name: s, ...i } = e;
  return In(i) || Object.keys(i).length >= Object.keys(t).length || Object.keys(i).find((o) => t[o] === (!n || ii.all));
}, dX = (e, t, r) => !e || !t || e === t || qf(e).some((n) => n && (r ? n === t : n.startsWith(t) || t.startsWith(n))), fX = (e, t, r, n, s) => s.isOnAll ? !1 : !r && s.isOnTouch ? !(t || e) : (r ? n.isOnBlur : s.isOnBlur) ? !e : (r ? n.isOnChange : s.isOnChange) ? e : !0, hX = (e, t) => !JS(_e(e, t)).length && gr(e, t), pX = (e, t, r) => {
  const n = qf(_e(e, r));
  return xt(n, "root", t[r]), xt(e, r, n), e;
}, ig = (e) => Li(e);
function pT(e, t, r = "validate") {
  if (ig(e) || Array.isArray(e) && e.every(ig) || es(e) && !e)
    return {
      type: r,
      message: ig(e) ? e : "",
      ref: t
    };
}
var Vc = (e) => cr(e) && !Ig(e) ? e : {
  value: e,
  message: ""
}, mT = async (e, t, r, n, s, i) => {
  const { ref: o, refs: a, required: l, maxLength: c, minLength: d, min: f, max: h, pattern: p, validate: g, name: m, valueAsNumber: y, mount: v } = e._f, b = _e(r, m);
  if (!v || t.has(m))
    return {};
  const x = a ? a[0] : o, S = (M) => {
    s && x.reportValidity && (x.setCustomValidity(es(M) ? "" : M || ""), x.reportValidity());
  }, w = {}, j = sE(o), N = ip(o), k = j || N, C = (y || nE(o)) && lr(o.value) && lr(b) || $g(o) && o.value === "" || b === "" || Array.isArray(b) && !b.length, $ = rE.bind(null, m, n, w), I = (M, O, z, U = go.maxLength, G = go.minLength) => {
    const q = M ? O : z;
    w[m] = {
      type: M ? U : G,
      message: q,
      ref: o,
      ...$(M ? U : G, q)
    };
  };
  if (i ? !Array.isArray(b) || !b.length : l && (!k && (C || En(b)) || es(b) && !b || N && !BL(a).isValid || j && !UL(a).isValid)) {
    const { value: M, message: O } = ig(l) ? { value: !!l, message: l } : Vc(l);
    if (M && (w[m] = {
      type: go.required,
      message: O,
      ref: x,
      ...$(go.required, O)
    }, !n))
      return S(O), w;
  }
  if (!C && (!En(f) || !En(h))) {
    let M, O;
    const z = Vc(h), U = Vc(f);
    if (!En(b) && !isNaN(b)) {
      const G = o.valueAsNumber || b && +b;
      En(z.value) || (M = G > z.value), En(U.value) || (O = G < U.value);
    } else {
      const G = o.valueAsDate || new Date(b), q = (D) => /* @__PURE__ */ new Date((/* @__PURE__ */ new Date()).toDateString() + " " + D), Z = o.type == "time", ie = o.type == "week";
      Li(z.value) && b && (M = Z ? q(b) > q(z.value) : ie ? b > z.value : G > new Date(z.value)), Li(U.value) && b && (O = Z ? q(b) < q(U.value) : ie ? b < U.value : G < new Date(U.value));
    }
    if ((M || O) && (I(!!M, z.message, U.message, go.max, go.min), !n))
      return S(w[m].message), w;
  }
  if ((c || d) && !C && (Li(b) || i && Array.isArray(b))) {
    const M = Vc(c), O = Vc(d), z = !En(M.value) && b.length > +M.value, U = !En(O.value) && b.length < +O.value;
    if ((z || U) && (I(z, M.message, O.message), !n))
      return S(w[m].message), w;
  }
  if (p && !C && Li(b)) {
    const { value: M, message: O } = Vc(p);
    if (Ig(M) && !b.match(M) && (w[m] = {
      type: go.pattern,
      message: O,
      ref: o,
      ...$(go.pattern, O)
    }, !n))
      return S(O), w;
  }
  if (g) {
    if (oi(g)) {
      const M = await g(b, r), O = pT(M, x);
      if (O && (w[m] = {
        ...O,
        ...$(go.validate, O.message)
      }, !n))
        return S(O.message), w;
    } else if (cr(g)) {
      let M = {};
      for (const O in g) {
        if (!In(M) && !n)
          break;
        const z = pT(await g[O](b, r), x, O);
        z && (M = {
          ...z,
          ...$(O, z.message)
        }, S(z.message), n && (w[m] = M));
      }
      if (!In(M) && (w[m] = {
        ref: x,
        ...M
      }, !n))
        return w;
    }
  }
  return S(!0), w;
};
const mX = {
  mode: ii.onSubmit,
  reValidateMode: ii.onChange,
  shouldFocusError: !0
};
function gX(e = {}) {
  let t = {
    ...mX,
    ...e
  }, r = {
    submitCount: 0,
    isDirty: !1,
    isReady: !1,
    isLoading: oi(t.defaultValues),
    isValidating: !1,
    isSubmitted: !1,
    isSubmitting: !1,
    isSubmitSuccessful: !1,
    isValid: !1,
    touchedFields: {},
    dirtyFields: {},
    validatingFields: {},
    errors: t.errors || {},
    disabled: t.disabled || !1
  }, n = {}, s = cr(t.defaultValues) || cr(t.values) ? Pr(t.defaultValues || t.values) || {} : {}, i = t.shouldUnregister ? {} : Pr(s), o = {
    action: !1,
    mount: !1,
    watch: !1
  }, a = {
    mount: /* @__PURE__ */ new Set(),
    disabled: /* @__PURE__ */ new Set(),
    unMount: /* @__PURE__ */ new Set(),
    array: /* @__PURE__ */ new Set(),
    watch: /* @__PURE__ */ new Set()
  }, l, c = 0;
  const d = {
    isDirty: !1,
    dirtyFields: !1,
    validatingFields: !1,
    touchedFields: !1,
    isValidating: !1,
    isValid: !1,
    errors: !1
  };
  let f = {
    ...d
  };
  const h = {
    array: iT(),
    state: iT()
  }, p = t.criteriaMode === ii.all, g = (R) => (Y) => {
    clearTimeout(c), c = setTimeout(R, Y);
  }, m = async (R) => {
    if (!t.disabled && (d.isValid || f.isValid || R)) {
      const Y = t.resolver ? In((await N()).errors) : await C(n, !0);
      Y !== r.isValid && h.state.next({
        isValid: Y
      });
    }
  }, y = (R, Y) => {
    !t.disabled && (d.isValidating || d.validatingFields || f.isValidating || f.validatingFields) && ((R || Array.from(a.mount)).forEach((J) => {
      J && (Y ? xt(r.validatingFields, J, Y) : gr(r.validatingFields, J));
    }), h.state.next({
      validatingFields: r.validatingFields,
      isValidating: !In(r.validatingFields)
    }));
  }, v = (R, Y = [], J, xe, pe = !0, me = !0) => {
    if (xe && J && !t.disabled) {
      if (o.action = !0, me && Array.isArray(_e(n, R))) {
        const je = J(_e(n, R), xe.argA, xe.argB);
        pe && xt(n, R, je);
      }
      if (me && Array.isArray(_e(r.errors, R))) {
        const je = J(_e(r.errors, R), xe.argA, xe.argB);
        pe && xt(r.errors, R, je), hX(r.errors, R);
      }
      if ((d.touchedFields || f.touchedFields) && me && Array.isArray(_e(r.touchedFields, R))) {
        const je = J(_e(r.touchedFields, R), xe.argA, xe.argB);
        pe && xt(r.touchedFields, R, je);
      }
      (d.dirtyFields || f.dirtyFields) && (r.dirtyFields = Qd(s, i)), h.state.next({
        name: R,
        isDirty: I(R, Y),
        dirtyFields: r.dirtyFields,
        errors: r.errors,
        isValid: r.isValid
      });
    } else
      xt(i, R, Y);
  }, b = (R, Y) => {
    xt(r.errors, R, Y), h.state.next({
      errors: r.errors
    });
  }, x = (R) => {
    r.errors = R, h.state.next({
      errors: r.errors,
      isValid: !1
    });
  }, S = (R, Y, J, xe) => {
    const pe = _e(n, R);
    if (pe) {
      const me = _e(i, R, lr(J) ? _e(s, R) : J);
      lr(me) || xe && xe.defaultChecked || Y ? xt(i, R, Y ? me : cT(pe._f)) : z(R, me), o.mount && m();
    }
  }, w = (R, Y, J, xe, pe) => {
    let me = !1, je = !1;
    const Ue = {
      name: R
    };
    if (!t.disabled) {
      if (!J || xe) {
        (d.isDirty || f.isDirty) && (je = r.isDirty, r.isDirty = Ue.isDirty = I(), me = je !== Ue.isDirty);
        const Je = No(_e(s, R), Y);
        je = !!_e(r.dirtyFields, R), Je ? gr(r.dirtyFields, R) : xt(r.dirtyFields, R, !0), Ue.dirtyFields = r.dirtyFields, me = me || (d.dirtyFields || f.dirtyFields) && je !== !Je;
      }
      if (J) {
        const Je = _e(r.touchedFields, R);
        Je || (xt(r.touchedFields, R, J), Ue.touchedFields = r.touchedFields, me = me || (d.touchedFields || f.touchedFields) && Je !== J);
      }
      me && pe && h.state.next(Ue);
    }
    return me ? Ue : {};
  }, j = (R, Y, J, xe) => {
    const pe = _e(r.errors, R), me = (d.isValid || f.isValid) && es(Y) && r.isValid !== Y;
    if (t.delayError && J ? (l = g(() => b(R, J)), l(t.delayError)) : (clearTimeout(c), l = null, J ? xt(r.errors, R, J) : gr(r.errors, R)), (J ? !No(pe, J) : pe) || !In(xe) || me) {
      const je = {
        ...xe,
        ...me && es(Y) ? { isValid: Y } : {},
        errors: r.errors,
        name: R
      };
      r = {
        ...r,
        ...je
      }, h.state.next(je);
    }
  }, N = async (R) => {
    y(R, !0);
    const Y = await t.resolver(i, t.context, aX(R || a.mount, n, t.criteriaMode, t.shouldUseNativeValidation));
    return y(R), Y;
  }, k = async (R) => {
    const { errors: Y } = await N(R);
    if (R)
      for (const J of R) {
        const xe = _e(Y, J);
        xe ? xt(r.errors, J, xe) : gr(r.errors, J);
      }
    else
      r.errors = Y;
    return Y;
  }, C = async (R, Y, J = {
    valid: !0
  }) => {
    for (const xe in R) {
      const pe = R[xe];
      if (pe) {
        const { _f: me, ...je } = pe;
        if (me) {
          const Ue = a.array.has(me.name), Je = pe._f && lX(pe._f);
          Je && d.validatingFields && y([xe], !0);
          const Zt = await mT(pe, a.disabled, i, p, t.shouldUseNativeValidation && !Y, Ue);
          if (Je && d.validatingFields && y([xe]), Zt[me.name] && (J.valid = !1, Y))
            break;
          !Y && (_e(Zt, me.name) ? Ue ? pX(r.errors, Zt, me.name) : xt(r.errors, me.name, Zt[me.name]) : gr(r.errors, me.name));
        }
        !In(je) && await C(je, Y, J);
      }
    }
    return J.valid;
  }, $ = () => {
    for (const R of a.unMount) {
      const Y = _e(n, R);
      Y && (Y._f.refs ? Y._f.refs.every((J) => !R0(J)) : !R0(Y._f.ref)) && te(R);
    }
    a.unMount = /* @__PURE__ */ new Set();
  }, I = (R, Y) => !t.disabled && (R && Y && xt(i, R, Y), !No(D(), s)), M = (R, Y, J) => IL(R, a, {
    ...o.mount ? i : lr(Y) ? s : Li(R) ? { [R]: Y } : Y
  }, J, Y), O = (R) => JS(_e(o.mount ? i : s, R, t.shouldUnregister ? _e(s, R, []) : [])), z = (R, Y, J = {}) => {
    const xe = _e(n, R);
    let pe = Y;
    if (xe) {
      const me = xe._f;
      me && (!me.disabled && xt(i, R, zL(Y, me)), pe = $g(me.ref) && En(Y) ? "" : Y, ML(me.ref) ? [...me.ref.options].forEach((je) => je.selected = pe.includes(je.value)) : me.refs ? ip(me.ref) ? me.refs.forEach((je) => {
        (!je.defaultChecked || !je.disabled) && (Array.isArray(pe) ? je.checked = !!pe.find((Ue) => Ue === je.value) : je.checked = pe === je.value || !!pe);
      }) : me.refs.forEach((je) => je.checked = je.value === pe) : nE(me.ref) ? me.ref.value = "" : (me.ref.value = pe, me.ref.type || h.state.next({
        name: R,
        values: Pr(i)
      })));
    }
    (J.shouldDirty || J.shouldTouch) && w(R, pe, J.shouldTouch, J.shouldDirty, !0), J.shouldValidate && ie(R);
  }, U = (R, Y, J) => {
    for (const xe in Y) {
      if (!Y.hasOwnProperty(xe))
        return;
      const pe = Y[xe], me = R + "." + xe, je = _e(n, me);
      (a.array.has(R) || cr(pe) || je && !je._f) && !$l(pe) ? U(me, pe, J) : z(me, pe, J);
    }
  }, G = (R, Y, J = {}) => {
    const xe = _e(n, R), pe = a.array.has(R), me = Pr(Y);
    xt(i, R, me), pe ? (h.array.next({
      name: R,
      values: Pr(i)
    }), (d.isDirty || d.dirtyFields || f.isDirty || f.dirtyFields) && J.shouldDirty && h.state.next({
      name: R,
      dirtyFields: Qd(s, i),
      isDirty: I(R, me)
    })) : xe && !xe._f && !En(me) ? U(R, me, J) : z(R, me, J), fT(R, a) && h.state.next({ ...r, name: R }), h.state.next({
      name: o.mount ? R : void 0,
      values: Pr(i)
    });
  }, q = async (R) => {
    o.mount = !0;
    const Y = R.target;
    let J = Y.name, xe = !0;
    const pe = _e(n, J), me = (Je) => {
      xe = Number.isNaN(Je) || $l(Je) && isNaN(Je.getTime()) || No(Je, _e(i, J, Je));
    }, je = uT(t.mode), Ue = uT(t.reValidateMode);
    if (pe) {
      let Je, Zt;
      const It = Y.type ? cT(pe._f) : OL(R), Zr = R.type === Dg.BLUR || R.type === Dg.FOCUS_OUT, ki = !cX(pe._f) && !t.resolver && !_e(r.errors, J) && !pe._f.deps || fX(Zr, _e(r.touchedFields, J), r.isSubmitted, Ue, je), fs = fT(J, a, Zr);
      xt(i, J, It), Zr ? (!Y || !Y.readOnly) && (pe._f.onBlur && pe._f.onBlur(R), l && l(0)) : pe._f.onChange && pe._f.onChange(R);
      const hs = w(J, It, Zr), Kn = !In(hs) || fs;
      if (!Zr && h.state.next({
        name: J,
        type: R.type,
        values: Pr(i)
      }), ki)
        return (d.isValid || f.isValid) && (t.mode === "onBlur" ? Zr && m() : Zr || m()), Kn && h.state.next({ name: J, ...fs ? {} : hs });
      if (!Zr && fs && h.state.next({ ...r }), t.resolver) {
        const { errors: sn } = await N([J]);
        if (me(It), xe) {
          const bn = hT(r.errors, n, J), Br = hT(sn, n, bn.name || J);
          Je = Br.error, J = Br.name, Zt = In(sn);
        }
      } else
        y([J], !0), Je = (await mT(pe, a.disabled, i, p, t.shouldUseNativeValidation))[J], y([J]), me(It), xe && (Je ? Zt = !1 : (d.isValid || f.isValid) && (Zt = await C(n, !0)));
      xe && (pe._f.deps && ie(pe._f.deps), j(J, Zt, Je, hs));
    }
  }, Z = (R, Y) => {
    if (_e(r.errors, Y) && R.focus)
      return R.focus(), 1;
  }, ie = async (R, Y = {}) => {
    let J, xe;
    const pe = qf(R);
    if (t.resolver) {
      const me = await k(lr(R) ? R : pe);
      J = In(me), xe = R ? !pe.some((je) => _e(me, je)) : J;
    } else R ? (xe = (await Promise.all(pe.map(async (me) => {
      const je = _e(n, me);
      return await C(je && je._f ? { [me]: je } : je);
    }))).every(Boolean), !(!xe && !r.isValid) && m()) : xe = J = await C(n);
    return h.state.next({
      ...!Li(R) || (d.isValid || f.isValid) && J !== r.isValid ? {} : { name: R },
      ...t.resolver || !R ? { isValid: J } : {},
      errors: r.errors
    }), Y.shouldFocus && !xe && Vf(n, Z, R ? pe : a.mount), xe;
  }, D = (R) => {
    const Y = {
      ...o.mount ? i : s
    };
    return lr(R) ? Y : Li(R) ? _e(Y, R) : R.map((J) => _e(Y, J));
  }, B = (R, Y) => ({
    invalid: !!_e((Y || r).errors, R),
    isDirty: !!_e((Y || r).dirtyFields, R),
    error: _e((Y || r).errors, R),
    isValidating: !!_e(r.validatingFields, R),
    isTouched: !!_e((Y || r).touchedFields, R)
  }), X = (R) => {
    R && qf(R).forEach((Y) => gr(r.errors, Y)), h.state.next({
      errors: R ? r.errors : {}
    });
  }, oe = (R, Y, J) => {
    const xe = (_e(n, R, { _f: {} })._f || {}).ref, pe = _e(r.errors, R) || {}, { ref: me, message: je, type: Ue, ...Je } = pe;
    xt(r.errors, R, {
      ...Je,
      ...Y,
      ref: xe
    }), h.state.next({
      name: R,
      errors: r.errors,
      isValid: !1
    }), J && J.shouldFocus && xe && xe.focus && xe.focus();
  }, W = (R, Y) => oi(R) ? h.state.subscribe({
    next: (J) => "values" in J && R(M(void 0, Y), J)
  }) : M(R, Y, !0), K = (R) => h.state.subscribe({
    next: (Y) => {
      dX(R.name, Y.name, R.exact) && uX(Y, R.formState || d, lt, R.reRenderRoot) && R.callback({
        values: { ...i },
        ...r,
        ...Y,
        defaultValues: s
      });
    }
  }).unsubscribe, ee = (R) => (o.mount = !0, f = {
    ...f,
    ...R.formState
  }, K({
    ...R,
    formState: f
  })), te = (R, Y = {}) => {
    for (const J of R ? qf(R) : a.mount)
      a.mount.delete(J), a.array.delete(J), Y.keepValue || (gr(n, J), gr(i, J)), !Y.keepError && gr(r.errors, J), !Y.keepDirty && gr(r.dirtyFields, J), !Y.keepTouched && gr(r.touchedFields, J), !Y.keepIsValidating && gr(r.validatingFields, J), !t.shouldUnregister && !Y.keepDefaultValue && gr(s, J);
    h.state.next({
      values: Pr(i)
    }), h.state.next({
      ...r,
      ...Y.keepDirty ? { isDirty: I() } : {}
    }), !Y.keepIsValid && m();
  }, ue = ({ disabled: R, name: Y }) => {
    (es(R) && o.mount || R || a.disabled.has(Y)) && (R ? a.disabled.add(Y) : a.disabled.delete(Y));
  }, V = (R, Y = {}) => {
    let J = _e(n, R);
    const xe = es(Y.disabled) || es(t.disabled);
    return xt(n, R, {
      ...J || {},
      _f: {
        ...J && J._f ? J._f : { ref: { name: R } },
        name: R,
        mount: !0,
        ...Y
      }
    }), a.mount.add(R), J ? ue({
      disabled: es(Y.disabled) ? Y.disabled : t.disabled,
      name: R
    }) : S(R, !0, Y.value), {
      ...xe ? { disabled: Y.disabled || t.disabled } : {},
      ...t.progressive ? {
        required: !!Y.required,
        min: ef(Y.min),
        max: ef(Y.max),
        minLength: ef(Y.minLength),
        maxLength: ef(Y.maxLength),
        pattern: ef(Y.pattern)
      } : {},
      name: R,
      onChange: q,
      onBlur: q,
      ref: (pe) => {
        if (pe) {
          V(R, Y), J = _e(n, R);
          const me = lr(pe.value) && pe.querySelectorAll && pe.querySelectorAll("input,select,textarea")[0] || pe, je = sX(me), Ue = J._f.refs || [];
          if (je ? Ue.find((Je) => Je === me) : me === J._f.ref)
            return;
          xt(n, R, {
            _f: {
              ...J._f,
              ...je ? {
                refs: [
                  ...Ue.filter(R0),
                  me,
                  ...Array.isArray(_e(s, R)) ? [{}] : []
                ],
                ref: { type: me.type, name: R }
              } : { ref: me }
            }
          }), S(R, !1, void 0, me);
        } else
          J = _e(n, R, {}), J._f && (J._f.mount = !1), (t.shouldUnregister || Y.shouldUnregister) && !(DL(a.array, R) && o.action) && a.unMount.add(R);
      }
    };
  }, H = () => t.shouldFocusError && Vf(n, Z, a.mount), se = (R) => {
    es(R) && (h.state.next({ disabled: R }), Vf(n, (Y, J) => {
      const xe = _e(n, J);
      xe && (Y.disabled = xe._f.disabled || R, Array.isArray(xe._f.refs) && xe._f.refs.forEach((pe) => {
        pe.disabled = xe._f.disabled || R;
      }));
    }, 0, !1));
  }, P = (R, Y) => async (J) => {
    let xe;
    J && (J.preventDefault && J.preventDefault(), J.persist && J.persist());
    let pe = Pr(i);
    if (h.state.next({
      isSubmitting: !0
    }), t.resolver) {
      const { errors: me, values: je } = await N();
      r.errors = me, pe = Pr(je);
    } else
      await C(n);
    if (a.disabled.size)
      for (const me of a.disabled)
        gr(pe, me);
    if (gr(r.errors, "root"), In(r.errors)) {
      h.state.next({
        errors: {}
      });
      try {
        await R(pe, J);
      } catch (me) {
        xe = me;
      }
    } else
      Y && await Y({ ...r.errors }, J), H(), setTimeout(H);
    if (h.state.next({
      isSubmitted: !0,
      isSubmitting: !1,
      isSubmitSuccessful: In(r.errors) && !xe,
      submitCount: r.submitCount + 1,
      errors: r.errors
    }), xe)
      throw xe;
  }, be = (R, Y = {}) => {
    _e(n, R) && (lr(Y.defaultValue) ? G(R, Pr(_e(s, R))) : (G(R, Y.defaultValue), xt(s, R, Pr(Y.defaultValue))), Y.keepTouched || gr(r.touchedFields, R), Y.keepDirty || (gr(r.dirtyFields, R), r.isDirty = Y.defaultValue ? I(R, Pr(_e(s, R))) : I()), Y.keepError || (gr(r.errors, R), d.isValid && m()), h.state.next({ ...r }));
  }, ke = (R, Y = {}) => {
    const J = R ? Pr(R) : s, xe = Pr(J), pe = In(R), me = pe ? s : xe;
    if (Y.keepDefaultValues || (s = J), !Y.keepValues) {
      if (Y.keepDirtyValues) {
        const je = /* @__PURE__ */ new Set([
          ...a.mount,
          ...Object.keys(Qd(s, i))
        ]);
        for (const Ue of Array.from(je))
          _e(r.dirtyFields, Ue) ? xt(me, Ue, _e(i, Ue)) : G(Ue, _e(me, Ue));
      } else {
        if (XS && lr(R))
          for (const je of a.mount) {
            const Ue = _e(n, je);
            if (Ue && Ue._f) {
              const Je = Array.isArray(Ue._f.refs) ? Ue._f.refs[0] : Ue._f.ref;
              if ($g(Je)) {
                const Zt = Je.closest("form");
                if (Zt) {
                  Zt.reset();
                  break;
                }
              }
            }
          }
        if (Y.keepFieldsRef)
          for (const je of a.mount)
            G(je, _e(me, je));
        else
          n = {};
      }
      i = t.shouldUnregister ? Y.keepDefaultValues ? Pr(s) : {} : Pr(me), h.array.next({
        values: { ...me }
      }), h.state.next({
        values: { ...me }
      });
    }
    a = {
      mount: Y.keepDirtyValues ? a.mount : /* @__PURE__ */ new Set(),
      unMount: /* @__PURE__ */ new Set(),
      array: /* @__PURE__ */ new Set(),
      disabled: /* @__PURE__ */ new Set(),
      watch: /* @__PURE__ */ new Set(),
      watchAll: !1,
      focus: ""
    }, o.mount = !d.isValid || !!Y.keepIsValid || !!Y.keepDirtyValues, o.watch = !!t.shouldUnregister, h.state.next({
      submitCount: Y.keepSubmitCount ? r.submitCount : 0,
      isDirty: pe ? !1 : Y.keepDirty ? r.isDirty : !!(Y.keepDefaultValues && !No(R, s)),
      isSubmitted: Y.keepIsSubmitted ? r.isSubmitted : !1,
      dirtyFields: pe ? {} : Y.keepDirtyValues ? Y.keepDefaultValues && i ? Qd(s, i) : r.dirtyFields : Y.keepDefaultValues && R ? Qd(s, R) : Y.keepDirty ? r.dirtyFields : {},
      touchedFields: Y.keepTouched ? r.touchedFields : {},
      errors: Y.keepErrors ? r.errors : {},
      isSubmitSuccessful: Y.keepIsSubmitSuccessful ? r.isSubmitSuccessful : !1,
      isSubmitting: !1,
      defaultValues: s
    });
  }, Ve = (R, Y) => ke(oi(R) ? R(i) : R, Y), He = (R, Y = {}) => {
    const J = _e(n, R), xe = J && J._f;
    if (xe) {
      const pe = xe.refs ? xe.refs[0] : xe.ref;
      pe.focus && (pe.focus(), Y.shouldSelect && oi(pe.select) && pe.select());
    }
  }, lt = (R) => {
    r = {
      ...r,
      ...R
    };
  }, Rt = {
    control: {
      register: V,
      unregister: te,
      getFieldState: B,
      handleSubmit: P,
      setError: oe,
      _subscribe: K,
      _runSchema: N,
      _focusError: H,
      _getWatch: M,
      _getDirty: I,
      _setValid: m,
      _setFieldArray: v,
      _setDisabledField: ue,
      _setErrors: x,
      _getFieldArray: O,
      _reset: ke,
      _resetDefaultValues: () => oi(t.defaultValues) && t.defaultValues().then((R) => {
        Ve(R, t.resetOptions), h.state.next({
          isLoading: !1
        });
      }),
      _removeUnmounted: $,
      _disableForm: se,
      _subjects: h,
      _proxyFormState: d,
      get _fields() {
        return n;
      },
      get _formValues() {
        return i;
      },
      get _state() {
        return o;
      },
      set _state(R) {
        o = R;
      },
      get _defaultValues() {
        return s;
      },
      get _names() {
        return a;
      },
      set _names(R) {
        a = R;
      },
      get _formState() {
        return r;
      },
      get _options() {
        return t;
      },
      set _options(R) {
        t = {
          ...t,
          ...R
        };
      }
    },
    subscribe: ee,
    trigger: ie,
    register: V,
    handleSubmit: P,
    watch: W,
    setValue: G,
    getValues: D,
    reset: Ve,
    resetField: be,
    clearErrors: X,
    unregister: te,
    setError: oe,
    setFocus: He,
    getFieldState: B
  };
  return {
    ...Rt,
    formControl: Rt
  };
}
function yX(e = {}) {
  const t = ge.useRef(void 0), r = ge.useRef(void 0), [n, s] = ge.useState({
    isDirty: !1,
    isValidating: !1,
    isLoading: oi(e.defaultValues),
    isSubmitted: !1,
    isSubmitting: !1,
    isSubmitSuccessful: !1,
    isValid: !1,
    submitCount: 0,
    dirtyFields: {},
    touchedFields: {},
    validatingFields: {},
    errors: e.errors || {},
    disabled: e.disabled || !1,
    isReady: !1,
    defaultValues: oi(e.defaultValues) ? void 0 : e.defaultValues
  });
  if (!t.current)
    if (e.formControl)
      t.current = {
        ...e.formControl,
        formState: n
      }, e.defaultValues && !oi(e.defaultValues) && e.formControl.reset(e.defaultValues, e.resetOptions);
    else {
      const { formControl: o, ...a } = gX(e);
      t.current = {
        ...a,
        formState: n
      };
    }
  const i = t.current.control;
  return i._options = e, tE(() => {
    const o = i._subscribe({
      formState: i._proxyFormState,
      callback: () => s({ ...i._formState }),
      reRenderRoot: !0
    });
    return s((a) => ({
      ...a,
      isReady: !0
    })), i._formState.isReady = !0, o;
  }, [i]), ge.useEffect(() => i._disableForm(e.disabled), [i, e.disabled]), ge.useEffect(() => {
    e.mode && (i._options.mode = e.mode), e.reValidateMode && (i._options.reValidateMode = e.reValidateMode);
  }, [i, e.mode, e.reValidateMode]), ge.useEffect(() => {
    e.errors && (i._setErrors(e.errors), i._focusError());
  }, [i, e.errors]), ge.useEffect(() => {
    e.shouldUnregister && i._subjects.state.next({
      values: i._getWatch()
    });
  }, [i, e.shouldUnregister]), ge.useEffect(() => {
    if (i._proxyFormState.isDirty) {
      const o = i._getDirty();
      o !== n.isDirty && i._subjects.state.next({
        isDirty: o
      });
    }
  }, [i, n.isDirty]), ge.useEffect(() => {
    e.values && !No(e.values, r.current) ? (i._reset(e.values, {
      keepFieldsRef: !0,
      ...i._options.resetOptions
    }), r.current = e.values, s((o) => ({ ...o }))) : i._resetDefaultValues();
  }, [i, e.values]), ge.useEffect(() => {
    i._state.mount || (i._setValid(), i._state.mount = !0), i._state.watch && (i._state.watch = !1, i._subjects.state.next({ ...i._formState })), i._removeUnmounted();
  }), t.current.formState = RL(n, i), t.current;
}
const gT = (e, t, r) => {
  if (e && "reportValidity" in e) {
    const n = _e(r, t);
    e.setCustomValidity(n && n.message || ""), e.reportValidity();
  }
}, Ww = (e, t) => {
  for (const r in t.fields) {
    const n = t.fields[r];
    n && n.ref && "reportValidity" in n.ref ? gT(n.ref, r, e) : n && n.refs && n.refs.forEach((s) => gT(s, r, e));
  }
}, yT = (e, t) => {
  t.shouldUseNativeValidation && Ww(e, t);
  const r = {};
  for (const n in e) {
    const s = _e(t.fields, n), i = Object.assign(e[n] || {}, { ref: s && s.ref });
    if (vX(t.names || Object.keys(e), n)) {
      const o = Object.assign({}, _e(r, n));
      xt(o, "root", i), xt(r, n, o);
    } else xt(r, n, i);
  }
  return r;
}, vX = (e, t) => {
  const r = vT(t);
  return e.some((n) => vT(n).match(`^${r}\\.\\d+`));
};
function vT(e) {
  return e.replace(/\]|\[/g, "");
}
function fe(e, t, r) {
  function n(a, l) {
    var c;
    Object.defineProperty(a, "_zod", {
      value: a._zod ?? {},
      enumerable: !1
    }), (c = a._zod).traits ?? (c.traits = /* @__PURE__ */ new Set()), a._zod.traits.add(e), t(a, l);
    for (const d in o.prototype)
      d in a || Object.defineProperty(a, d, { value: o.prototype[d].bind(a) });
    a._zod.constr = o, a._zod.def = l;
  }
  const s = (r == null ? void 0 : r.Parent) ?? Object;
  class i extends s {
  }
  Object.defineProperty(i, "name", { value: e });
  function o(a) {
    var l;
    const c = r != null && r.Parent ? new i() : this;
    n(c, a), (l = c._zod).deferred ?? (l.deferred = []);
    for (const d of c._zod.deferred)
      d();
    return c;
  }
  return Object.defineProperty(o, "init", { value: n }), Object.defineProperty(o, Symbol.hasInstance, {
    value: (a) => {
      var l, c;
      return r != null && r.Parent && a instanceof r.Parent ? !0 : (c = (l = a == null ? void 0 : a._zod) == null ? void 0 : l.traits) == null ? void 0 : c.has(e);
    }
  }), Object.defineProperty(o, "name", { value: e }), o;
}
class wu extends Error {
  constructor() {
    super("Encountered Promise during synchronous parse. Use .parseAsync() instead.");
  }
}
class qL extends Error {
  constructor(t) {
    super(`Encountered unidirectional transform during encode: ${t}`), this.name = "ZodEncodeError";
  }
}
const VL = {};
function ic(e) {
  return VL;
}
function bX(e) {
  const t = Object.values(e).filter((n) => typeof n == "number");
  return Object.entries(e).filter(([n, s]) => t.indexOf(+n) === -1).map(([n, s]) => s);
}
function Kw(e, t) {
  return typeof t == "bigint" ? t.toString() : t;
}
function iE(e) {
  return {
    get value() {
      {
        const t = e();
        return Object.defineProperty(this, "value", { value: t }), t;
      }
    }
  };
}
function oE(e) {
  return e == null;
}
function aE(e) {
  const t = e.startsWith("^") ? 1 : 0, r = e.endsWith("$") ? e.length - 1 : e.length;
  return e.slice(t, r);
}
const bT = Symbol("evaluating");
function $t(e, t, r) {
  let n;
  Object.defineProperty(e, t, {
    get() {
      if (n !== bT)
        return n === void 0 && (n = bT, n = r()), n;
    },
    set(s) {
      Object.defineProperty(e, t, {
        value: s
        // configurable: true,
      });
    },
    configurable: !0
  });
}
function xX(e) {
  return Object.create(Object.getPrototypeOf(e), Object.getOwnPropertyDescriptors(e));
}
function sl(e, t, r) {
  Object.defineProperty(e, t, {
    value: r,
    writable: !0,
    enumerable: !0,
    configurable: !0
  });
}
function gd(...e) {
  const t = {};
  for (const r of e) {
    const n = Object.getOwnPropertyDescriptors(r);
    Object.assign(t, n);
  }
  return Object.defineProperties({}, t);
}
function xT(e) {
  return JSON.stringify(e);
}
const WL = "captureStackTrace" in Error ? Error.captureStackTrace : (...e) => {
};
function Mg(e) {
  return typeof e == "object" && e !== null && !Array.isArray(e);
}
const wX = iE(() => {
  var e;
  if (typeof navigator < "u" && ((e = navigator == null ? void 0 : navigator.userAgent) != null && e.includes("Cloudflare")))
    return !1;
  try {
    const t = Function;
    return new t(""), !0;
  } catch {
    return !1;
  }
});
function dh(e) {
  if (Mg(e) === !1)
    return !1;
  const t = e.constructor;
  if (t === void 0)
    return !0;
  const r = t.prototype;
  return !(Mg(r) === !1 || Object.prototype.hasOwnProperty.call(r, "isPrototypeOf") === !1);
}
function KL(e) {
  return dh(e) ? { ...e } : e;
}
const _X = /* @__PURE__ */ new Set(["string", "number", "symbol"]);
function _v(e) {
  return e.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
}
function il(e, t, r) {
  const n = new e._zod.constr(t ?? e._zod.def);
  return (!t || r != null && r.parent) && (n._zod.parent = e), n;
}
function Ke(e) {
  const t = e;
  if (!t)
    return {};
  if (typeof t == "string")
    return { error: () => t };
  if ((t == null ? void 0 : t.message) !== void 0) {
    if ((t == null ? void 0 : t.error) !== void 0)
      throw new Error("Cannot specify both `message` and `error` params");
    t.error = t.message;
  }
  return delete t.message, typeof t.error == "string" ? { ...t, error: () => t.error } : t;
}
function SX(e) {
  return Object.keys(e).filter((t) => e[t]._zod.optin === "optional" && e[t]._zod.optout === "optional");
}
function EX(e, t) {
  const r = e._zod.def, n = gd(e._zod.def, {
    get shape() {
      const s = {};
      for (const i in t) {
        if (!(i in r.shape))
          throw new Error(`Unrecognized key: "${i}"`);
        t[i] && (s[i] = r.shape[i]);
      }
      return sl(this, "shape", s), s;
    },
    checks: []
  });
  return il(e, n);
}
function jX(e, t) {
  const r = e._zod.def, n = gd(e._zod.def, {
    get shape() {
      const s = { ...e._zod.def.shape };
      for (const i in t) {
        if (!(i in r.shape))
          throw new Error(`Unrecognized key: "${i}"`);
        t[i] && delete s[i];
      }
      return sl(this, "shape", s), s;
    },
    checks: []
  });
  return il(e, n);
}
function NX(e, t) {
  if (!dh(t))
    throw new Error("Invalid input to extend: expected a plain object");
  const r = e._zod.def.checks;
  if (r && r.length > 0)
    throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");
  const s = gd(e._zod.def, {
    get shape() {
      const i = { ...e._zod.def.shape, ...t };
      return sl(this, "shape", i), i;
    },
    checks: []
  });
  return il(e, s);
}
function kX(e, t) {
  if (!dh(t))
    throw new Error("Invalid input to safeExtend: expected a plain object");
  const r = {
    ...e._zod.def,
    get shape() {
      const n = { ...e._zod.def.shape, ...t };
      return sl(this, "shape", n), n;
    },
    checks: e._zod.def.checks
  };
  return il(e, r);
}
function CX(e, t) {
  const r = gd(e._zod.def, {
    get shape() {
      const n = { ...e._zod.def.shape, ...t._zod.def.shape };
      return sl(this, "shape", n), n;
    },
    get catchall() {
      return t._zod.def.catchall;
    },
    checks: []
    // delete existing checks
  });
  return il(e, r);
}
function TX(e, t, r) {
  const n = gd(t._zod.def, {
    get shape() {
      const s = t._zod.def.shape, i = { ...s };
      if (r)
        for (const o in r) {
          if (!(o in s))
            throw new Error(`Unrecognized key: "${o}"`);
          r[o] && (i[o] = e ? new e({
            type: "optional",
            innerType: s[o]
          }) : s[o]);
        }
      else
        for (const o in s)
          i[o] = e ? new e({
            type: "optional",
            innerType: s[o]
          }) : s[o];
      return sl(this, "shape", i), i;
    },
    checks: []
  });
  return il(t, n);
}
function AX(e, t, r) {
  const n = gd(t._zod.def, {
    get shape() {
      const s = t._zod.def.shape, i = { ...s };
      if (r)
        for (const o in r) {
          if (!(o in i))
            throw new Error(`Unrecognized key: "${o}"`);
          r[o] && (i[o] = new e({
            type: "nonoptional",
            innerType: s[o]
          }));
        }
      else
        for (const o in s)
          i[o] = new e({
            type: "nonoptional",
            innerType: s[o]
          });
      return sl(this, "shape", i), i;
    },
    checks: []
  });
  return il(t, n);
}
function au(e, t = 0) {
  var r;
  if (e.aborted === !0)
    return !0;
  for (let n = t; n < e.issues.length; n++)
    if (((r = e.issues[n]) == null ? void 0 : r.continue) !== !0)
      return !0;
  return !1;
}
function HL(e, t) {
  return t.map((r) => {
    var n;
    return (n = r).path ?? (n.path = []), r.path.unshift(e), r;
  });
}
function cm(e) {
  return typeof e == "string" ? e : e == null ? void 0 : e.message;
}
function oc(e, t, r) {
  var s, i, o, a, l, c;
  const n = { ...e, path: e.path ?? [] };
  if (!e.message) {
    const d = cm((o = (i = (s = e.inst) == null ? void 0 : s._zod.def) == null ? void 0 : i.error) == null ? void 0 : o.call(i, e)) ?? cm((a = t == null ? void 0 : t.error) == null ? void 0 : a.call(t, e)) ?? cm((l = r.customError) == null ? void 0 : l.call(r, e)) ?? cm((c = r.localeError) == null ? void 0 : c.call(r, e)) ?? "Invalid input";
    n.message = d;
  }
  return delete n.inst, delete n.continue, t != null && t.reportInput || delete n.input, n;
}
function lE(e) {
  return Array.isArray(e) ? "array" : typeof e == "string" ? "string" : "unknown";
}
function fh(...e) {
  const [t, r, n] = e;
  return typeof t == "string" ? {
    message: t,
    code: "custom",
    input: r,
    inst: n
  } : { ...t };
}
const YL = (e, t) => {
  e.name = "$ZodError", Object.defineProperty(e, "_zod", {
    value: e._zod,
    enumerable: !1
  }), Object.defineProperty(e, "issues", {
    value: t,
    enumerable: !1
  }), e.message = JSON.stringify(t, Kw, 2), Object.defineProperty(e, "toString", {
    value: () => e.message,
    enumerable: !1
  });
}, cE = fe("$ZodError", YL), Sv = fe("$ZodError", YL, { Parent: Error });
function PX(e, t = (r) => r.message) {
  const r = {}, n = [];
  for (const s of e.issues)
    s.path.length > 0 ? (r[s.path[0]] = r[s.path[0]] || [], r[s.path[0]].push(t(s))) : n.push(t(s));
  return { formErrors: n, fieldErrors: r };
}
function OX(e, t) {
  const r = t || function(i) {
    return i.message;
  }, n = { _errors: [] }, s = (i) => {
    for (const o of i.issues)
      if (o.code === "invalid_union" && o.errors.length)
        o.errors.map((a) => s({ issues: a }));
      else if (o.code === "invalid_key")
        s({ issues: o.issues });
      else if (o.code === "invalid_element")
        s({ issues: o.issues });
      else if (o.path.length === 0)
        n._errors.push(r(o));
      else {
        let a = n, l = 0;
        for (; l < o.path.length; ) {
          const c = o.path[l];
          l === o.path.length - 1 ? (a[c] = a[c] || { _errors: [] }, a[c]._errors.push(r(o))) : a[c] = a[c] || { _errors: [] }, a = a[c], l++;
        }
      }
  };
  return s(e), n;
}
const Ev = (e) => (t, r, n, s) => {
  const i = n ? Object.assign(n, { async: !1 }) : { async: !1 }, o = t._zod.run({ value: r, issues: [] }, i);
  if (o instanceof Promise)
    throw new wu();
  if (o.issues.length) {
    const a = new ((s == null ? void 0 : s.Err) ?? e)(o.issues.map((l) => oc(l, i, ic())));
    throw WL(a, s == null ? void 0 : s.callee), a;
  }
  return o.value;
}, DX = /* @__PURE__ */ Ev(Sv), jv = (e) => async (t, r, n, s) => {
  const i = n ? Object.assign(n, { async: !0 }) : { async: !0 };
  let o = t._zod.run({ value: r, issues: [] }, i);
  if (o instanceof Promise && (o = await o), o.issues.length) {
    const a = new ((s == null ? void 0 : s.Err) ?? e)(o.issues.map((l) => oc(l, i, ic())));
    throw WL(a, s == null ? void 0 : s.callee), a;
  }
  return o.value;
}, $X = /* @__PURE__ */ jv(Sv), Nv = (e) => (t, r, n) => {
  const s = n ? { ...n, async: !1 } : { async: !1 }, i = t._zod.run({ value: r, issues: [] }, s);
  if (i instanceof Promise)
    throw new wu();
  return i.issues.length ? {
    success: !1,
    error: new (e ?? cE)(i.issues.map((o) => oc(o, s, ic())))
  } : { success: !0, data: i.value };
}, RX = /* @__PURE__ */ Nv(Sv), kv = (e) => async (t, r, n) => {
  const s = n ? Object.assign(n, { async: !0 }) : { async: !0 };
  let i = t._zod.run({ value: r, issues: [] }, s);
  return i instanceof Promise && (i = await i), i.issues.length ? {
    success: !1,
    error: new e(i.issues.map((o) => oc(o, s, ic())))
  } : { success: !0, data: i.value };
}, IX = /* @__PURE__ */ kv(Sv), MX = (e) => (t, r, n) => {
  const s = n ? Object.assign(n, { direction: "backward" }) : { direction: "backward" };
  return Ev(e)(t, r, s);
}, LX = (e) => (t, r, n) => Ev(e)(t, r, n), FX = (e) => async (t, r, n) => {
  const s = n ? Object.assign(n, { direction: "backward" }) : { direction: "backward" };
  return jv(e)(t, r, s);
}, BX = (e) => async (t, r, n) => jv(e)(t, r, n), zX = (e) => (t, r, n) => {
  const s = n ? Object.assign(n, { direction: "backward" }) : { direction: "backward" };
  return Nv(e)(t, r, s);
}, UX = (e) => (t, r, n) => Nv(e)(t, r, n), qX = (e) => async (t, r, n) => {
  const s = n ? Object.assign(n, { direction: "backward" }) : { direction: "backward" };
  return kv(e)(t, r, s);
}, VX = (e) => async (t, r, n) => kv(e)(t, r, n), WX = /^[cC][^\s-]{8,}$/, KX = /^[0-9a-z]+$/, HX = /^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/, YX = /^[0-9a-vA-V]{20}$/, GX = /^[A-Za-z0-9]{27}$/, ZX = /^[a-zA-Z0-9_-]{21}$/, XX = /^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/, JX = /^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/, wT = (e) => e ? new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`) : /^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/, QX = /^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/, eJ = "^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";
function tJ() {
  return new RegExp(eJ, "u");
}
const rJ = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/, nJ = /^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/, sJ = /^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/, iJ = /^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/, oJ = /^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/, GL = /^[A-Za-z0-9_-]*$/, aJ = /^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/, lJ = /^\+(?:[0-9]){6,14}[0-9]$/, ZL = "(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))", cJ = /* @__PURE__ */ new RegExp(`^${ZL}$`);
function XL(e) {
  const t = "(?:[01]\\d|2[0-3]):[0-5]\\d";
  return typeof e.precision == "number" ? e.precision === -1 ? `${t}` : e.precision === 0 ? `${t}:[0-5]\\d` : `${t}:[0-5]\\d\\.\\d{${e.precision}}` : `${t}(?::[0-5]\\d(?:\\.\\d+)?)?`;
}
function uJ(e) {
  return new RegExp(`^${XL(e)}$`);
}
function dJ(e) {
  const t = XL({ precision: e.precision }), r = ["Z"];
  e.local && r.push(""), e.offset && r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");
  const n = `${t}(?:${r.join("|")})`;
  return new RegExp(`^${ZL}T(?:${n})$`);
}
const fJ = (e) => {
  const t = e ? `[\\s\\S]{${(e == null ? void 0 : e.minimum) ?? 0},${(e == null ? void 0 : e.maximum) ?? ""}}` : "[\\s\\S]*";
  return new RegExp(`^${t}$`);
}, hJ = /true|false/i, pJ = /^[^A-Z]*$/, mJ = /^[^a-z]*$/, oo = /* @__PURE__ */ fe("$ZodCheck", (e, t) => {
  var r;
  e._zod ?? (e._zod = {}), e._zod.def = t, (r = e._zod).onattach ?? (r.onattach = []);
}), gJ = /* @__PURE__ */ fe("$ZodCheckMaxLength", (e, t) => {
  var r;
  oo.init(e, t), (r = e._zod.def).when ?? (r.when = (n) => {
    const s = n.value;
    return !oE(s) && s.length !== void 0;
  }), e._zod.onattach.push((n) => {
    const s = n._zod.bag.maximum ?? Number.POSITIVE_INFINITY;
    t.maximum < s && (n._zod.bag.maximum = t.maximum);
  }), e._zod.check = (n) => {
    const s = n.value;
    if (s.length <= t.maximum)
      return;
    const o = lE(s);
    n.issues.push({
      origin: o,
      code: "too_big",
      maximum: t.maximum,
      inclusive: !0,
      input: s,
      inst: e,
      continue: !t.abort
    });
  };
}), yJ = /* @__PURE__ */ fe("$ZodCheckMinLength", (e, t) => {
  var r;
  oo.init(e, t), (r = e._zod.def).when ?? (r.when = (n) => {
    const s = n.value;
    return !oE(s) && s.length !== void 0;
  }), e._zod.onattach.push((n) => {
    const s = n._zod.bag.minimum ?? Number.NEGATIVE_INFINITY;
    t.minimum > s && (n._zod.bag.minimum = t.minimum);
  }), e._zod.check = (n) => {
    const s = n.value;
    if (s.length >= t.minimum)
      return;
    const o = lE(s);
    n.issues.push({
      origin: o,
      code: "too_small",
      minimum: t.minimum,
      inclusive: !0,
      input: s,
      inst: e,
      continue: !t.abort
    });
  };
}), vJ = /* @__PURE__ */ fe("$ZodCheckLengthEquals", (e, t) => {
  var r;
  oo.init(e, t), (r = e._zod.def).when ?? (r.when = (n) => {
    const s = n.value;
    return !oE(s) && s.length !== void 0;
  }), e._zod.onattach.push((n) => {
    const s = n._zod.bag;
    s.minimum = t.length, s.maximum = t.length, s.length = t.length;
  }), e._zod.check = (n) => {
    const s = n.value, i = s.length;
    if (i === t.length)
      return;
    const o = lE(s), a = i > t.length;
    n.issues.push({
      origin: o,
      ...a ? { code: "too_big", maximum: t.length } : { code: "too_small", minimum: t.length },
      inclusive: !0,
      exact: !0,
      input: n.value,
      inst: e,
      continue: !t.abort
    });
  };
}), Cv = /* @__PURE__ */ fe("$ZodCheckStringFormat", (e, t) => {
  var r, n;
  oo.init(e, t), e._zod.onattach.push((s) => {
    const i = s._zod.bag;
    i.format = t.format, t.pattern && (i.patterns ?? (i.patterns = /* @__PURE__ */ new Set()), i.patterns.add(t.pattern));
  }), t.pattern ? (r = e._zod).check ?? (r.check = (s) => {
    t.pattern.lastIndex = 0, !t.pattern.test(s.value) && s.issues.push({
      origin: "string",
      code: "invalid_format",
      format: t.format,
      input: s.value,
      ...t.pattern ? { pattern: t.pattern.toString() } : {},
      inst: e,
      continue: !t.abort
    });
  }) : (n = e._zod).check ?? (n.check = () => {
  });
}), bJ = /* @__PURE__ */ fe("$ZodCheckRegex", (e, t) => {
  Cv.init(e, t), e._zod.check = (r) => {
    t.pattern.lastIndex = 0, !t.pattern.test(r.value) && r.issues.push({
      origin: "string",
      code: "invalid_format",
      format: "regex",
      input: r.value,
      pattern: t.pattern.toString(),
      inst: e,
      continue: !t.abort
    });
  };
}), xJ = /* @__PURE__ */ fe("$ZodCheckLowerCase", (e, t) => {
  t.pattern ?? (t.pattern = pJ), Cv.init(e, t);
}), wJ = /* @__PURE__ */ fe("$ZodCheckUpperCase", (e, t) => {
  t.pattern ?? (t.pattern = mJ), Cv.init(e, t);
}), _J = /* @__PURE__ */ fe("$ZodCheckIncludes", (e, t) => {
  oo.init(e, t);
  const r = _v(t.includes), n = new RegExp(typeof t.position == "number" ? `^.{${t.position}}${r}` : r);
  t.pattern = n, e._zod.onattach.push((s) => {
    const i = s._zod.bag;
    i.patterns ?? (i.patterns = /* @__PURE__ */ new Set()), i.patterns.add(n);
  }), e._zod.check = (s) => {
    s.value.includes(t.includes, t.position) || s.issues.push({
      origin: "string",
      code: "invalid_format",
      format: "includes",
      includes: t.includes,
      input: s.value,
      inst: e,
      continue: !t.abort
    });
  };
}), SJ = /* @__PURE__ */ fe("$ZodCheckStartsWith", (e, t) => {
  oo.init(e, t);
  const r = new RegExp(`^${_v(t.prefix)}.*`);
  t.pattern ?? (t.pattern = r), e._zod.onattach.push((n) => {
    const s = n._zod.bag;
    s.patterns ?? (s.patterns = /* @__PURE__ */ new Set()), s.patterns.add(r);
  }), e._zod.check = (n) => {
    n.value.startsWith(t.prefix) || n.issues.push({
      origin: "string",
      code: "invalid_format",
      format: "starts_with",
      prefix: t.prefix,
      input: n.value,
      inst: e,
      continue: !t.abort
    });
  };
}), EJ = /* @__PURE__ */ fe("$ZodCheckEndsWith", (e, t) => {
  oo.init(e, t);
  const r = new RegExp(`.*${_v(t.suffix)}$`);
  t.pattern ?? (t.pattern = r), e._zod.onattach.push((n) => {
    const s = n._zod.bag;
    s.patterns ?? (s.patterns = /* @__PURE__ */ new Set()), s.patterns.add(r);
  }), e._zod.check = (n) => {
    n.value.endsWith(t.suffix) || n.issues.push({
      origin: "string",
      code: "invalid_format",
      format: "ends_with",
      suffix: t.suffix,
      input: n.value,
      inst: e,
      continue: !t.abort
    });
  };
}), jJ = /* @__PURE__ */ fe("$ZodCheckOverwrite", (e, t) => {
  oo.init(e, t), e._zod.check = (r) => {
    r.value = t.tx(r.value);
  };
});
class NJ {
  constructor(t = []) {
    this.content = [], this.indent = 0, this && (this.args = t);
  }
  indented(t) {
    this.indent += 1, t(this), this.indent -= 1;
  }
  write(t) {
    if (typeof t == "function") {
      t(this, { execution: "sync" }), t(this, { execution: "async" });
      return;
    }
    const n = t.split(`
`).filter((o) => o), s = Math.min(...n.map((o) => o.length - o.trimStart().length)), i = n.map((o) => o.slice(s)).map((o) => " ".repeat(this.indent * 2) + o);
    for (const o of i)
      this.content.push(o);
  }
  compile() {
    const t = Function, r = this == null ? void 0 : this.args, s = [...((this == null ? void 0 : this.content) ?? [""]).map((i) => `  ${i}`)];
    return new t(...r, s.join(`
`));
  }
}
const kJ = {
  major: 4,
  minor: 1,
  patch: 3
}, jr = /* @__PURE__ */ fe("$ZodType", (e, t) => {
  var s;
  var r;
  e ?? (e = {}), e._zod.def = t, e._zod.bag = e._zod.bag || {}, e._zod.version = kJ;
  const n = [...e._zod.def.checks ?? []];
  e._zod.traits.has("$ZodCheck") && n.unshift(e);
  for (const i of n)
    for (const o of i._zod.onattach)
      o(e);
  if (n.length === 0)
    (r = e._zod).deferred ?? (r.deferred = []), (s = e._zod.deferred) == null || s.push(() => {
      e._zod.run = e._zod.parse;
    });
  else {
    const i = (a, l, c) => {
      let d = au(a), f;
      for (const h of l) {
        if (h._zod.def.when) {
          if (!h._zod.def.when(a))
            continue;
        } else if (d)
          continue;
        const p = a.issues.length, g = h._zod.check(a);
        if (g instanceof Promise && (c == null ? void 0 : c.async) === !1)
          throw new wu();
        if (f || g instanceof Promise)
          f = (f ?? Promise.resolve()).then(async () => {
            await g, a.issues.length !== p && (d || (d = au(a, p)));
          });
        else {
          if (a.issues.length === p)
            continue;
          d || (d = au(a, p));
        }
      }
      return f ? f.then(() => a) : a;
    }, o = (a, l, c) => {
      if (au(a))
        return a.aborted = !0, a;
      const d = i(l, n, c);
      if (d instanceof Promise) {
        if (c.async === !1)
          throw new wu();
        return d.then((f) => e._zod.parse(f, c));
      }
      return e._zod.parse(d, c);
    };
    e._zod.run = (a, l) => {
      if (l.skipChecks)
        return e._zod.parse(a, l);
      if (l.direction === "backward") {
        const d = e._zod.parse({ value: a.value, issues: [] }, { ...l, skipChecks: !0 });
        return d instanceof Promise ? d.then((f) => o(f, a, l)) : o(d, a, l);
      }
      const c = e._zod.parse(a, l);
      if (c instanceof Promise) {
        if (l.async === !1)
          throw new wu();
        return c.then((d) => i(d, n, l));
      }
      return i(c, n, l);
    };
  }
  e["~standard"] = {
    validate: (i) => {
      var o;
      try {
        const a = RX(e, i);
        return a.success ? { value: a.data } : { issues: (o = a.error) == null ? void 0 : o.issues };
      } catch {
        return IX(e, i).then((l) => {
          var c;
          return l.success ? { value: l.data } : { issues: (c = l.error) == null ? void 0 : c.issues };
        });
      }
    },
    vendor: "zod",
    version: 1
  };
}), uE = /* @__PURE__ */ fe("$ZodString", (e, t) => {
  var r;
  jr.init(e, t), e._zod.pattern = [...((r = e == null ? void 0 : e._zod.bag) == null ? void 0 : r.patterns) ?? []].pop() ?? fJ(e._zod.bag), e._zod.parse = (n, s) => {
    if (t.coerce)
      try {
        n.value = String(n.value);
      } catch {
      }
    return typeof n.value == "string" || n.issues.push({
      expected: "string",
      code: "invalid_type",
      input: n.value,
      inst: e
    }), n;
  };
}), Yt = /* @__PURE__ */ fe("$ZodStringFormat", (e, t) => {
  Cv.init(e, t), uE.init(e, t);
}), CJ = /* @__PURE__ */ fe("$ZodGUID", (e, t) => {
  t.pattern ?? (t.pattern = JX), Yt.init(e, t);
}), TJ = /* @__PURE__ */ fe("$ZodUUID", (e, t) => {
  if (t.version) {
    const n = {
      v1: 1,
      v2: 2,
      v3: 3,
      v4: 4,
      v5: 5,
      v6: 6,
      v7: 7,
      v8: 8
    }[t.version];
    if (n === void 0)
      throw new Error(`Invalid UUID version: "${t.version}"`);
    t.pattern ?? (t.pattern = wT(n));
  } else
    t.pattern ?? (t.pattern = wT());
  Yt.init(e, t);
}), AJ = /* @__PURE__ */ fe("$ZodEmail", (e, t) => {
  t.pattern ?? (t.pattern = QX), Yt.init(e, t);
}), PJ = /* @__PURE__ */ fe("$ZodURL", (e, t) => {
  Yt.init(e, t), e._zod.check = (r) => {
    try {
      const n = r.value.trim(), s = new URL(n);
      t.hostname && (t.hostname.lastIndex = 0, t.hostname.test(s.hostname) || r.issues.push({
        code: "invalid_format",
        format: "url",
        note: "Invalid hostname",
        pattern: aJ.source,
        input: r.value,
        inst: e,
        continue: !t.abort
      })), t.protocol && (t.protocol.lastIndex = 0, t.protocol.test(s.protocol.endsWith(":") ? s.protocol.slice(0, -1) : s.protocol) || r.issues.push({
        code: "invalid_format",
        format: "url",
        note: "Invalid protocol",
        pattern: t.protocol.source,
        input: r.value,
        inst: e,
        continue: !t.abort
      })), t.normalize ? r.value = s.href : r.value = n;
      return;
    } catch {
      r.issues.push({
        code: "invalid_format",
        format: "url",
        input: r.value,
        inst: e,
        continue: !t.abort
      });
    }
  };
}), OJ = /* @__PURE__ */ fe("$ZodEmoji", (e, t) => {
  t.pattern ?? (t.pattern = tJ()), Yt.init(e, t);
}), DJ = /* @__PURE__ */ fe("$ZodNanoID", (e, t) => {
  t.pattern ?? (t.pattern = ZX), Yt.init(e, t);
}), $J = /* @__PURE__ */ fe("$ZodCUID", (e, t) => {
  t.pattern ?? (t.pattern = WX), Yt.init(e, t);
}), RJ = /* @__PURE__ */ fe("$ZodCUID2", (e, t) => {
  t.pattern ?? (t.pattern = KX), Yt.init(e, t);
}), IJ = /* @__PURE__ */ fe("$ZodULID", (e, t) => {
  t.pattern ?? (t.pattern = HX), Yt.init(e, t);
}), MJ = /* @__PURE__ */ fe("$ZodXID", (e, t) => {
  t.pattern ?? (t.pattern = YX), Yt.init(e, t);
}), LJ = /* @__PURE__ */ fe("$ZodKSUID", (e, t) => {
  t.pattern ?? (t.pattern = GX), Yt.init(e, t);
}), FJ = /* @__PURE__ */ fe("$ZodISODateTime", (e, t) => {
  t.pattern ?? (t.pattern = dJ(t)), Yt.init(e, t);
}), BJ = /* @__PURE__ */ fe("$ZodISODate", (e, t) => {
  t.pattern ?? (t.pattern = cJ), Yt.init(e, t);
}), zJ = /* @__PURE__ */ fe("$ZodISOTime", (e, t) => {
  t.pattern ?? (t.pattern = uJ(t)), Yt.init(e, t);
}), UJ = /* @__PURE__ */ fe("$ZodISODuration", (e, t) => {
  t.pattern ?? (t.pattern = XX), Yt.init(e, t);
}), qJ = /* @__PURE__ */ fe("$ZodIPv4", (e, t) => {
  t.pattern ?? (t.pattern = rJ), Yt.init(e, t), e._zod.onattach.push((r) => {
    const n = r._zod.bag;
    n.format = "ipv4";
  });
}), VJ = /* @__PURE__ */ fe("$ZodIPv6", (e, t) => {
  t.pattern ?? (t.pattern = nJ), Yt.init(e, t), e._zod.onattach.push((r) => {
    const n = r._zod.bag;
    n.format = "ipv6";
  }), e._zod.check = (r) => {
    try {
      new URL(`http://[${r.value}]`);
    } catch {
      r.issues.push({
        code: "invalid_format",
        format: "ipv6",
        input: r.value,
        inst: e,
        continue: !t.abort
      });
    }
  };
}), WJ = /* @__PURE__ */ fe("$ZodCIDRv4", (e, t) => {
  t.pattern ?? (t.pattern = sJ), Yt.init(e, t);
}), KJ = /* @__PURE__ */ fe("$ZodCIDRv6", (e, t) => {
  t.pattern ?? (t.pattern = iJ), Yt.init(e, t), e._zod.check = (r) => {
    const [n, s] = r.value.split("/");
    try {
      if (!s)
        throw new Error();
      const i = Number(s);
      if (`${i}` !== s)
        throw new Error();
      if (i < 0 || i > 128)
        throw new Error();
      new URL(`http://[${n}]`);
    } catch {
      r.issues.push({
        code: "invalid_format",
        format: "cidrv6",
        input: r.value,
        inst: e,
        continue: !t.abort
      });
    }
  };
});
function JL(e) {
  if (e === "")
    return !0;
  if (e.length % 4 !== 0)
    return !1;
  try {
    return atob(e), !0;
  } catch {
    return !1;
  }
}
const HJ = /* @__PURE__ */ fe("$ZodBase64", (e, t) => {
  t.pattern ?? (t.pattern = oJ), Yt.init(e, t), e._zod.onattach.push((r) => {
    r._zod.bag.contentEncoding = "base64";
  }), e._zod.check = (r) => {
    JL(r.value) || r.issues.push({
      code: "invalid_format",
      format: "base64",
      input: r.value,
      inst: e,
      continue: !t.abort
    });
  };
});
function YJ(e) {
  if (!GL.test(e))
    return !1;
  const t = e.replace(/[-_]/g, (n) => n === "-" ? "+" : "/"), r = t.padEnd(Math.ceil(t.length / 4) * 4, "=");
  return JL(r);
}
const GJ = /* @__PURE__ */ fe("$ZodBase64URL", (e, t) => {
  t.pattern ?? (t.pattern = GL), Yt.init(e, t), e._zod.onattach.push((r) => {
    r._zod.bag.contentEncoding = "base64url";
  }), e._zod.check = (r) => {
    YJ(r.value) || r.issues.push({
      code: "invalid_format",
      format: "base64url",
      input: r.value,
      inst: e,
      continue: !t.abort
    });
  };
}), ZJ = /* @__PURE__ */ fe("$ZodE164", (e, t) => {
  t.pattern ?? (t.pattern = lJ), Yt.init(e, t);
});
function XJ(e, t = null) {
  try {
    const r = e.split(".");
    if (r.length !== 3)
      return !1;
    const [n] = r;
    if (!n)
      return !1;
    const s = JSON.parse(atob(n));
    return !("typ" in s && (s == null ? void 0 : s.typ) !== "JWT" || !s.alg || t && (!("alg" in s) || s.alg !== t));
  } catch {
    return !1;
  }
}
const JJ = /* @__PURE__ */ fe("$ZodJWT", (e, t) => {
  Yt.init(e, t), e._zod.check = (r) => {
    XJ(r.value, t.alg) || r.issues.push({
      code: "invalid_format",
      format: "jwt",
      input: r.value,
      inst: e,
      continue: !t.abort
    });
  };
}), QJ = /* @__PURE__ */ fe("$ZodBoolean", (e, t) => {
  jr.init(e, t), e._zod.pattern = hJ, e._zod.parse = (r, n) => {
    if (t.coerce)
      try {
        r.value = !!r.value;
      } catch {
      }
    const s = r.value;
    return typeof s == "boolean" || r.issues.push({
      expected: "boolean",
      code: "invalid_type",
      input: s,
      inst: e
    }), r;
  };
}), eQ = /* @__PURE__ */ fe("$ZodUnknown", (e, t) => {
  jr.init(e, t), e._zod.parse = (r) => r;
}), tQ = /* @__PURE__ */ fe("$ZodNever", (e, t) => {
  jr.init(e, t), e._zod.parse = (r, n) => (r.issues.push({
    expected: "never",
    code: "invalid_type",
    input: r.value,
    inst: e
  }), r);
});
function _T(e, t, r) {
  e.issues.length && t.issues.push(...HL(r, e.issues)), t.value[r] = e.value;
}
const rQ = /* @__PURE__ */ fe("$ZodArray", (e, t) => {
  jr.init(e, t), e._zod.parse = (r, n) => {
    const s = r.value;
    if (!Array.isArray(s))
      return r.issues.push({
        expected: "array",
        code: "invalid_type",
        input: s,
        inst: e
      }), r;
    r.value = Array(s.length);
    const i = [];
    for (let o = 0; o < s.length; o++) {
      const a = s[o], l = t.element._zod.run({
        value: a,
        issues: []
      }, n);
      l instanceof Promise ? i.push(l.then((c) => _T(c, r, o))) : _T(l, r, o);
    }
    return i.length ? Promise.all(i).then(() => r) : r;
  };
});
function Lg(e, t, r, n) {
  e.issues.length && t.issues.push(...HL(r, e.issues)), e.value === void 0 ? r in n && (t.value[r] = void 0) : t.value[r] = e.value;
}
function QL(e) {
  const t = Object.keys(e.shape);
  for (const n of t)
    if (!e.shape[n]._zod.traits.has("$ZodType"))
      throw new Error(`Invalid element at key "${n}": expected a Zod schema`);
  const r = SX(e.shape);
  return {
    ...e,
    keys: t,
    keySet: new Set(t),
    numKeys: t.length,
    optionalKeys: new Set(r)
  };
}
function e4(e, t, r, n, s, i) {
  const o = [], a = s.keySet, l = s.catchall._zod, c = l.def.type;
  for (const d of Object.keys(t)) {
    if (a.has(d))
      continue;
    if (c === "never") {
      o.push(d);
      continue;
    }
    const f = l.run({ value: t[d], issues: [] }, n);
    f instanceof Promise ? e.push(f.then((h) => Lg(h, r, d, t))) : Lg(f, r, d, t);
  }
  return o.length && r.issues.push({
    code: "unrecognized_keys",
    keys: o,
    input: t,
    inst: i
  }), e.length ? Promise.all(e).then(() => r) : r;
}
const nQ = /* @__PURE__ */ fe("$ZodObject", (e, t) => {
  jr.init(e, t);
  const r = iE(() => QL(t));
  $t(e._zod, "propValues", () => {
    const o = t.shape, a = {};
    for (const l in o) {
      const c = o[l]._zod;
      if (c.values) {
        a[l] ?? (a[l] = /* @__PURE__ */ new Set());
        for (const d of c.values)
          a[l].add(d);
      }
    }
    return a;
  });
  const n = Mg, s = t.catchall;
  let i;
  e._zod.parse = (o, a) => {
    i ?? (i = r.value);
    const l = o.value;
    if (!n(l))
      return o.issues.push({
        expected: "object",
        code: "invalid_type",
        input: l,
        inst: e
      }), o;
    o.value = {};
    const c = [], d = i.shape;
    for (const f of i.keys) {
      const p = d[f]._zod.run({ value: l[f], issues: [] }, a);
      p instanceof Promise ? c.push(p.then((g) => Lg(g, o, f, l))) : Lg(p, o, f, l);
    }
    return s ? e4(c, l, o, a, r.value, e) : c.length ? Promise.all(c).then(() => o) : o;
  };
}), sQ = /* @__PURE__ */ fe("$ZodObjectJIT", (e, t) => {
  nQ.init(e, t);
  const r = e._zod.parse, n = iE(() => QL(t)), s = (h) => {
    const p = new NJ(["shape", "payload", "ctx"]), g = n.value, m = (x) => {
      const S = xT(x);
      return `shape[${S}]._zod.run({ value: input[${S}], issues: [] }, ctx)`;
    };
    p.write("const input = payload.value;");
    const y = /* @__PURE__ */ Object.create(null);
    let v = 0;
    for (const x of g.keys)
      y[x] = `key_${v++}`;
    p.write("const newResult = {}");
    for (const x of g.keys) {
      const S = y[x], w = xT(x);
      p.write(`const ${S} = ${m(x)};`), p.write(`
        if (${S}.issues.length) {
          payload.issues = payload.issues.concat(${S}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${w}, ...iss.path] : [${w}]
          })));
        }
        
        if (${S}.value === undefined) {
          if (${w} in input) {
            newResult[${w}] = undefined;
          }
        } else {
          newResult[${w}] = ${S}.value;
        }
      `);
    }
    p.write("payload.value = newResult;"), p.write("return payload;");
    const b = p.compile();
    return (x, S) => b(h, x, S);
  };
  let i;
  const o = Mg, a = !VL.jitless, c = a && wX.value, d = t.catchall;
  let f;
  e._zod.parse = (h, p) => {
    f ?? (f = n.value);
    const g = h.value;
    return o(g) ? a && c && (p == null ? void 0 : p.async) === !1 && p.jitless !== !0 ? (i || (i = s(t.shape)), h = i(h, p), d ? e4([], g, h, p, f, e) : h) : r(h, p) : (h.issues.push({
      expected: "object",
      code: "invalid_type",
      input: g,
      inst: e
    }), h);
  };
});
function ST(e, t, r, n) {
  for (const i of e)
    if (i.issues.length === 0)
      return t.value = i.value, t;
  const s = e.filter((i) => !au(i));
  return s.length === 1 ? (t.value = s[0].value, s[0]) : (t.issues.push({
    code: "invalid_union",
    input: t.value,
    inst: r,
    errors: e.map((i) => i.issues.map((o) => oc(o, n, ic())))
  }), t);
}
const iQ = /* @__PURE__ */ fe("$ZodUnion", (e, t) => {
  jr.init(e, t), $t(e._zod, "optin", () => t.options.some((s) => s._zod.optin === "optional") ? "optional" : void 0), $t(e._zod, "optout", () => t.options.some((s) => s._zod.optout === "optional") ? "optional" : void 0), $t(e._zod, "values", () => {
    if (t.options.every((s) => s._zod.values))
      return new Set(t.options.flatMap((s) => Array.from(s._zod.values)));
  }), $t(e._zod, "pattern", () => {
    if (t.options.every((s) => s._zod.pattern)) {
      const s = t.options.map((i) => i._zod.pattern);
      return new RegExp(`^(${s.map((i) => aE(i.source)).join("|")})$`);
    }
  });
  const r = t.options.length === 1, n = t.options[0]._zod.run;
  e._zod.parse = (s, i) => {
    if (r)
      return n(s, i);
    let o = !1;
    const a = [];
    for (const l of t.options) {
      const c = l._zod.run({
        value: s.value,
        issues: []
      }, i);
      if (c instanceof Promise)
        a.push(c), o = !0;
      else {
        if (c.issues.length === 0)
          return c;
        a.push(c);
      }
    }
    return o ? Promise.all(a).then((l) => ST(l, s, e, i)) : ST(a, s, e, i);
  };
}), oQ = /* @__PURE__ */ fe("$ZodIntersection", (e, t) => {
  jr.init(e, t), e._zod.parse = (r, n) => {
    const s = r.value, i = t.left._zod.run({ value: s, issues: [] }, n), o = t.right._zod.run({ value: s, issues: [] }, n);
    return i instanceof Promise || o instanceof Promise ? Promise.all([i, o]).then(([l, c]) => ET(r, l, c)) : ET(r, i, o);
  };
});
function Hw(e, t) {
  if (e === t)
    return { valid: !0, data: e };
  if (e instanceof Date && t instanceof Date && +e == +t)
    return { valid: !0, data: e };
  if (dh(e) && dh(t)) {
    const r = Object.keys(t), n = Object.keys(e).filter((i) => r.indexOf(i) !== -1), s = { ...e, ...t };
    for (const i of n) {
      const o = Hw(e[i], t[i]);
      if (!o.valid)
        return {
          valid: !1,
          mergeErrorPath: [i, ...o.mergeErrorPath]
        };
      s[i] = o.data;
    }
    return { valid: !0, data: s };
  }
  if (Array.isArray(e) && Array.isArray(t)) {
    if (e.length !== t.length)
      return { valid: !1, mergeErrorPath: [] };
    const r = [];
    for (let n = 0; n < e.length; n++) {
      const s = e[n], i = t[n], o = Hw(s, i);
      if (!o.valid)
        return {
          valid: !1,
          mergeErrorPath: [n, ...o.mergeErrorPath]
        };
      r.push(o.data);
    }
    return { valid: !0, data: r };
  }
  return { valid: !1, mergeErrorPath: [] };
}
function ET(e, t, r) {
  if (t.issues.length && e.issues.push(...t.issues), r.issues.length && e.issues.push(...r.issues), au(e))
    return e;
  const n = Hw(t.value, r.value);
  if (!n.valid)
    throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);
  return e.value = n.data, e;
}
const aQ = /* @__PURE__ */ fe("$ZodEnum", (e, t) => {
  jr.init(e, t);
  const r = bX(t.entries), n = new Set(r);
  e._zod.values = n, e._zod.pattern = new RegExp(`^(${r.filter((s) => _X.has(typeof s)).map((s) => typeof s == "string" ? _v(s) : s.toString()).join("|")})$`), e._zod.parse = (s, i) => {
    const o = s.value;
    return n.has(o) || s.issues.push({
      code: "invalid_value",
      values: r,
      input: o,
      inst: e
    }), s;
  };
}), lQ = /* @__PURE__ */ fe("$ZodTransform", (e, t) => {
  jr.init(e, t), e._zod.parse = (r, n) => {
    if (n.direction === "backward")
      throw new qL(e.constructor.name);
    const s = t.transform(r.value, r);
    if (n.async)
      return (s instanceof Promise ? s : Promise.resolve(s)).then((o) => (r.value = o, r));
    if (s instanceof Promise)
      throw new wu();
    return r.value = s, r;
  };
});
function jT(e, t) {
  return e.issues.length && t === void 0 ? { issues: [], value: void 0 } : e;
}
const cQ = /* @__PURE__ */ fe("$ZodOptional", (e, t) => {
  jr.init(e, t), e._zod.optin = "optional", e._zod.optout = "optional", $t(e._zod, "values", () => t.innerType._zod.values ? /* @__PURE__ */ new Set([...t.innerType._zod.values, void 0]) : void 0), $t(e._zod, "pattern", () => {
    const r = t.innerType._zod.pattern;
    return r ? new RegExp(`^(${aE(r.source)})?$`) : void 0;
  }), e._zod.parse = (r, n) => {
    if (t.innerType._zod.optin === "optional") {
      const s = t.innerType._zod.run(r, n);
      return s instanceof Promise ? s.then((i) => jT(i, r.value)) : jT(s, r.value);
    }
    return r.value === void 0 ? r : t.innerType._zod.run(r, n);
  };
}), uQ = /* @__PURE__ */ fe("$ZodNullable", (e, t) => {
  jr.init(e, t), $t(e._zod, "optin", () => t.innerType._zod.optin), $t(e._zod, "optout", () => t.innerType._zod.optout), $t(e._zod, "pattern", () => {
    const r = t.innerType._zod.pattern;
    return r ? new RegExp(`^(${aE(r.source)}|null)$`) : void 0;
  }), $t(e._zod, "values", () => t.innerType._zod.values ? /* @__PURE__ */ new Set([...t.innerType._zod.values, null]) : void 0), e._zod.parse = (r, n) => r.value === null ? r : t.innerType._zod.run(r, n);
}), dQ = /* @__PURE__ */ fe("$ZodDefault", (e, t) => {
  jr.init(e, t), e._zod.optin = "optional", $t(e._zod, "values", () => t.innerType._zod.values), e._zod.parse = (r, n) => {
    if (n.direction === "backward")
      return t.innerType._zod.run(r, n);
    if (r.value === void 0)
      return r.value = t.defaultValue, r;
    const s = t.innerType._zod.run(r, n);
    return s instanceof Promise ? s.then((i) => NT(i, t)) : NT(s, t);
  };
});
function NT(e, t) {
  return e.value === void 0 && (e.value = t.defaultValue), e;
}
const fQ = /* @__PURE__ */ fe("$ZodPrefault", (e, t) => {
  jr.init(e, t), e._zod.optin = "optional", $t(e._zod, "values", () => t.innerType._zod.values), e._zod.parse = (r, n) => (n.direction === "backward" || r.value === void 0 && (r.value = t.defaultValue), t.innerType._zod.run(r, n));
}), hQ = /* @__PURE__ */ fe("$ZodNonOptional", (e, t) => {
  jr.init(e, t), $t(e._zod, "values", () => {
    const r = t.innerType._zod.values;
    return r ? new Set([...r].filter((n) => n !== void 0)) : void 0;
  }), e._zod.parse = (r, n) => {
    const s = t.innerType._zod.run(r, n);
    return s instanceof Promise ? s.then((i) => kT(i, e)) : kT(s, e);
  };
});
function kT(e, t) {
  return !e.issues.length && e.value === void 0 && e.issues.push({
    code: "invalid_type",
    expected: "nonoptional",
    input: e.value,
    inst: t
  }), e;
}
const pQ = /* @__PURE__ */ fe("$ZodCatch", (e, t) => {
  jr.init(e, t), $t(e._zod, "optin", () => t.innerType._zod.optin), $t(e._zod, "optout", () => t.innerType._zod.optout), $t(e._zod, "values", () => t.innerType._zod.values), e._zod.parse = (r, n) => {
    if (n.direction === "backward")
      return t.innerType._zod.run(r, n);
    const s = t.innerType._zod.run(r, n);
    return s instanceof Promise ? s.then((i) => (r.value = i.value, i.issues.length && (r.value = t.catchValue({
      ...r,
      error: {
        issues: i.issues.map((o) => oc(o, n, ic()))
      },
      input: r.value
    }), r.issues = []), r)) : (r.value = s.value, s.issues.length && (r.value = t.catchValue({
      ...r,
      error: {
        issues: s.issues.map((i) => oc(i, n, ic()))
      },
      input: r.value
    }), r.issues = []), r);
  };
}), mQ = /* @__PURE__ */ fe("$ZodPipe", (e, t) => {
  jr.init(e, t), $t(e._zod, "values", () => t.in._zod.values), $t(e._zod, "optin", () => t.in._zod.optin), $t(e._zod, "optout", () => t.out._zod.optout), $t(e._zod, "propValues", () => t.in._zod.propValues), e._zod.parse = (r, n) => {
    if (n.direction === "backward") {
      const i = t.out._zod.run(r, n);
      return i instanceof Promise ? i.then((o) => um(o, t.in, n)) : um(i, t.in, n);
    }
    const s = t.in._zod.run(r, n);
    return s instanceof Promise ? s.then((i) => um(i, t.out, n)) : um(s, t.out, n);
  };
});
function um(e, t, r) {
  return e.issues.length ? (e.aborted = !0, e) : t._zod.run({ value: e.value, issues: e.issues }, r);
}
const gQ = /* @__PURE__ */ fe("$ZodReadonly", (e, t) => {
  jr.init(e, t), $t(e._zod, "propValues", () => t.innerType._zod.propValues), $t(e._zod, "values", () => t.innerType._zod.values), $t(e._zod, "optin", () => t.innerType._zod.optin), $t(e._zod, "optout", () => t.innerType._zod.optout), e._zod.parse = (r, n) => {
    if (n.direction === "backward")
      return t.innerType._zod.run(r, n);
    const s = t.innerType._zod.run(r, n);
    return s instanceof Promise ? s.then(CT) : CT(s);
  };
});
function CT(e) {
  return e.value = Object.freeze(e.value), e;
}
const yQ = /* @__PURE__ */ fe("$ZodCustom", (e, t) => {
  oo.init(e, t), jr.init(e, t), e._zod.parse = (r, n) => r, e._zod.check = (r) => {
    const n = r.value, s = t.fn(n);
    if (s instanceof Promise)
      return s.then((i) => TT(i, r, n, e));
    TT(s, r, n, e);
  };
});
function TT(e, t, r, n) {
  if (!e) {
    const s = {
      code: "custom",
      input: r,
      inst: n,
      // incorporates params.error into issue reporting
      path: [...n._zod.def.path ?? []],
      // incorporates params.error into issue reporting
      continue: !n._zod.def.abort
      // params: inst._zod.def.params,
    };
    n._zod.def.params && (s.params = n._zod.def.params), t.issues.push(fh(s));
  }
}
class vQ {
  constructor() {
    this._map = /* @__PURE__ */ new Map(), this._idmap = /* @__PURE__ */ new Map();
  }
  add(t, ...r) {
    const n = r[0];
    if (this._map.set(t, n), n && typeof n == "object" && "id" in n) {
      if (this._idmap.has(n.id))
        throw new Error(`ID ${n.id} already exists in the registry`);
      this._idmap.set(n.id, t);
    }
    return this;
  }
  clear() {
    return this._map = /* @__PURE__ */ new Map(), this._idmap = /* @__PURE__ */ new Map(), this;
  }
  remove(t) {
    const r = this._map.get(t);
    return r && typeof r == "object" && "id" in r && this._idmap.delete(r.id), this._map.delete(t), this;
  }
  get(t) {
    const r = t._zod.parent;
    if (r) {
      const n = { ...this.get(r) ?? {} };
      delete n.id;
      const s = { ...n, ...this._map.get(t) };
      return Object.keys(s).length ? s : void 0;
    }
    return this._map.get(t);
  }
  has(t) {
    return this._map.has(t);
  }
}
function bQ() {
  return new vQ();
}
const dm = /* @__PURE__ */ bQ();
function xQ(e, t) {
  return new e({
    type: "string",
    ...Ke(t)
  });
}
function wQ(e, t) {
  return new e({
    type: "string",
    format: "email",
    check: "string_format",
    abort: !1,
    ...Ke(t)
  });
}
function AT(e, t) {
  return new e({
    type: "string",
    format: "guid",
    check: "string_format",
    abort: !1,
    ...Ke(t)
  });
}
function _Q(e, t) {
  return new e({
    type: "string",
    format: "uuid",
    check: "string_format",
    abort: !1,
    ...Ke(t)
  });
}
function SQ(e, t) {
  return new e({
    type: "string",
    format: "uuid",
    check: "string_format",
    abort: !1,
    version: "v4",
    ...Ke(t)
  });
}
function EQ(e, t) {
  return new e({
    type: "string",
    format: "uuid",
    check: "string_format",
    abort: !1,
    version: "v6",
    ...Ke(t)
  });
}
function jQ(e, t) {
  return new e({
    type: "string",
    format: "uuid",
    check: "string_format",
    abort: !1,
    version: "v7",
    ...Ke(t)
  });
}
function NQ(e, t) {
  return new e({
    type: "string",
    format: "url",
    check: "string_format",
    abort: !1,
    ...Ke(t)
  });
}
function kQ(e, t) {
  return new e({
    type: "string",
    format: "emoji",
    check: "string_format",
    abort: !1,
    ...Ke(t)
  });
}
function CQ(e, t) {
  return new e({
    type: "string",
    format: "nanoid",
    check: "string_format",
    abort: !1,
    ...Ke(t)
  });
}
function TQ(e, t) {
  return new e({
    type: "string",
    format: "cuid",
    check: "string_format",
    abort: !1,
    ...Ke(t)
  });
}
function AQ(e, t) {
  return new e({
    type: "string",
    format: "cuid2",
    check: "string_format",
    abort: !1,
    ...Ke(t)
  });
}
function PQ(e, t) {
  return new e({
    type: "string",
    format: "ulid",
    check: "string_format",
    abort: !1,
    ...Ke(t)
  });
}
function OQ(e, t) {
  return new e({
    type: "string",
    format: "xid",
    check: "string_format",
    abort: !1,
    ...Ke(t)
  });
}
function DQ(e, t) {
  return new e({
    type: "string",
    format: "ksuid",
    check: "string_format",
    abort: !1,
    ...Ke(t)
  });
}
function $Q(e, t) {
  return new e({
    type: "string",
    format: "ipv4",
    check: "string_format",
    abort: !1,
    ...Ke(t)
  });
}
function RQ(e, t) {
  return new e({
    type: "string",
    format: "ipv6",
    check: "string_format",
    abort: !1,
    ...Ke(t)
  });
}
function IQ(e, t) {
  return new e({
    type: "string",
    format: "cidrv4",
    check: "string_format",
    abort: !1,
    ...Ke(t)
  });
}
function MQ(e, t) {
  return new e({
    type: "string",
    format: "cidrv6",
    check: "string_format",
    abort: !1,
    ...Ke(t)
  });
}
function LQ(e, t) {
  return new e({
    type: "string",
    format: "base64",
    check: "string_format",
    abort: !1,
    ...Ke(t)
  });
}
function FQ(e, t) {
  return new e({
    type: "string",
    format: "base64url",
    check: "string_format",
    abort: !1,
    ...Ke(t)
  });
}
function BQ(e, t) {
  return new e({
    type: "string",
    format: "e164",
    check: "string_format",
    abort: !1,
    ...Ke(t)
  });
}
function zQ(e, t) {
  return new e({
    type: "string",
    format: "jwt",
    check: "string_format",
    abort: !1,
    ...Ke(t)
  });
}
function UQ(e, t) {
  return new e({
    type: "string",
    format: "datetime",
    check: "string_format",
    offset: !1,
    local: !1,
    precision: null,
    ...Ke(t)
  });
}
function qQ(e, t) {
  return new e({
    type: "string",
    format: "date",
    check: "string_format",
    ...Ke(t)
  });
}
function VQ(e, t) {
  return new e({
    type: "string",
    format: "time",
    check: "string_format",
    precision: null,
    ...Ke(t)
  });
}
function WQ(e, t) {
  return new e({
    type: "string",
    format: "duration",
    check: "string_format",
    ...Ke(t)
  });
}
function KQ(e, t) {
  return new e({
    type: "boolean",
    ...Ke(t)
  });
}
function HQ(e) {
  return new e({
    type: "unknown"
  });
}
function YQ(e, t) {
  return new e({
    type: "never",
    ...Ke(t)
  });
}
function t4(e, t) {
  return new gJ({
    check: "max_length",
    ...Ke(t),
    maximum: e
  });
}
function Fg(e, t) {
  return new yJ({
    check: "min_length",
    ...Ke(t),
    minimum: e
  });
}
function r4(e, t) {
  return new vJ({
    check: "length_equals",
    ...Ke(t),
    length: e
  });
}
function GQ(e, t) {
  return new bJ({
    check: "string_format",
    format: "regex",
    ...Ke(t),
    pattern: e
  });
}
function ZQ(e) {
  return new xJ({
    check: "string_format",
    format: "lowercase",
    ...Ke(e)
  });
}
function XQ(e) {
  return new wJ({
    check: "string_format",
    format: "uppercase",
    ...Ke(e)
  });
}
function JQ(e, t) {
  return new _J({
    check: "string_format",
    format: "includes",
    ...Ke(t),
    includes: e
  });
}
function QQ(e, t) {
  return new SJ({
    check: "string_format",
    format: "starts_with",
    ...Ke(t),
    prefix: e
  });
}
function eee(e, t) {
  return new EJ({
    check: "string_format",
    format: "ends_with",
    ...Ke(t),
    suffix: e
  });
}
function op(e) {
  return new jJ({
    check: "overwrite",
    tx: e
  });
}
function tee(e) {
  return op((t) => t.normalize(e));
}
function ree() {
  return op((e) => e.trim());
}
function nee() {
  return op((e) => e.toLowerCase());
}
function see() {
  return op((e) => e.toUpperCase());
}
function iee(e, t, r) {
  return new e({
    type: "array",
    element: t,
    // get element() {
    //   return element;
    // },
    ...Ke(r)
  });
}
function oee(e, t, r) {
  return new e({
    type: "custom",
    check: "custom",
    fn: t,
    ...Ke(r)
  });
}
function aee(e) {
  const t = lee((r) => (r.addIssue = (n) => {
    if (typeof n == "string")
      r.issues.push(fh(n, r.value, t._zod.def));
    else {
      const s = n;
      s.fatal && (s.continue = !1), s.code ?? (s.code = "custom"), s.input ?? (s.input = r.value), s.inst ?? (s.inst = t), s.continue ?? (s.continue = !t._zod.def.abort), r.issues.push(fh(s));
    }
  }, e(r.value, r)));
  return t;
}
function lee(e, t) {
  const r = new oo({
    check: "custom",
    ...Ke(t)
  });
  return r._zod.check = e, r;
}
function PT(e, t) {
  try {
    var r = e();
  } catch (n) {
    return t(n);
  }
  return r && r.then ? r.then(void 0, t) : r;
}
function cee(e, t) {
  for (var r = {}; e.length; ) {
    var n = e[0], s = n.code, i = n.message, o = n.path.join(".");
    if (!r[o]) if ("unionErrors" in n) {
      var a = n.unionErrors[0].errors[0];
      r[o] = { message: a.message, type: a.code };
    } else r[o] = { message: i, type: s };
    if ("unionErrors" in n && n.unionErrors.forEach(function(d) {
      return d.errors.forEach(function(f) {
        return e.push(f);
      });
    }), t) {
      var l = r[o].types, c = l && l[n.code];
      r[o] = rE(o, t, r, s, c ? [].concat(c, n.message) : n.message);
    }
    e.shift();
  }
  return r;
}
function uee(e, t) {
  for (var r = {}; e.length; ) {
    var n = e[0], s = n.code, i = n.message, o = n.path.join(".");
    if (!r[o]) if (n.code === "invalid_union" && n.errors.length > 0) {
      var a = n.errors[0][0];
      r[o] = { message: a.message, type: a.code };
    } else r[o] = { message: i, type: s };
    if (n.code === "invalid_union" && n.errors.forEach(function(d) {
      return d.forEach(function(f) {
        return e.push(f);
      });
    }), t) {
      var l = r[o].types, c = l && l[n.code];
      r[o] = rE(o, t, r, s, c ? [].concat(c, n.message) : n.message);
    }
    e.shift();
  }
  return r;
}
function dee(e, t, r) {
  if (r === void 0 && (r = {}), function(n) {
    return "_def" in n && typeof n._def == "object" && "typeName" in n._def;
  }(e)) return function(n, s, i) {
    try {
      return Promise.resolve(PT(function() {
        return Promise.resolve(e[r.mode === "sync" ? "parse" : "parseAsync"](n, t)).then(function(o) {
          return i.shouldUseNativeValidation && Ww({}, i), { errors: {}, values: r.raw ? Object.assign({}, n) : o };
        });
      }, function(o) {
        if (function(a) {
          return Array.isArray(a == null ? void 0 : a.issues);
        }(o)) return { values: {}, errors: yT(cee(o.errors, !i.shouldUseNativeValidation && i.criteriaMode === "all"), i) };
        throw o;
      }));
    } catch (o) {
      return Promise.reject(o);
    }
  };
  if (function(n) {
    return "_zod" in n && typeof n._zod == "object";
  }(e)) return function(n, s, i) {
    try {
      return Promise.resolve(PT(function() {
        return Promise.resolve((r.mode === "sync" ? DX : $X)(e, n, t)).then(function(o) {
          return i.shouldUseNativeValidation && Ww({}, i), { errors: {}, values: r.raw ? Object.assign({}, n) : o };
        });
      }, function(o) {
        if (function(a) {
          return a instanceof cE;
        }(o)) return { values: {}, errors: yT(uee(o.issues, !i.shouldUseNativeValidation && i.criteriaMode === "all"), i) };
        throw o;
      }));
    } catch (o) {
      return Promise.reject(o);
    }
  };
  throw new Error("Invalid input: not a Zod schema");
}
const fee = /* @__PURE__ */ fe("ZodISODateTime", (e, t) => {
  FJ.init(e, t), rr.init(e, t);
});
function hee(e) {
  return UQ(fee, e);
}
const pee = /* @__PURE__ */ fe("ZodISODate", (e, t) => {
  BJ.init(e, t), rr.init(e, t);
});
function mee(e) {
  return qQ(pee, e);
}
const gee = /* @__PURE__ */ fe("ZodISOTime", (e, t) => {
  zJ.init(e, t), rr.init(e, t);
});
function yee(e) {
  return VQ(gee, e);
}
const vee = /* @__PURE__ */ fe("ZodISODuration", (e, t) => {
  UJ.init(e, t), rr.init(e, t);
});
function bee(e) {
  return WQ(vee, e);
}
const xee = (e, t) => {
  cE.init(e, t), e.name = "ZodError", Object.defineProperties(e, {
    format: {
      value: (r) => OX(e, r)
      // enumerable: false,
    },
    flatten: {
      value: (r) => PX(e, r)
      // enumerable: false,
    },
    addIssue: {
      value: (r) => {
        e.issues.push(r), e.message = JSON.stringify(e.issues, Kw, 2);
      }
      // enumerable: false,
    },
    addIssues: {
      value: (r) => {
        e.issues.push(...r), e.message = JSON.stringify(e.issues, Kw, 2);
      }
      // enumerable: false,
    },
    isEmpty: {
      get() {
        return e.issues.length === 0;
      }
      // enumerable: false,
    }
  });
}, Fs = fe("ZodError", xee, {
  Parent: Error
}), wee = /* @__PURE__ */ Ev(Fs), _ee = /* @__PURE__ */ jv(Fs), See = /* @__PURE__ */ Nv(Fs), Eee = /* @__PURE__ */ kv(Fs), jee = /* @__PURE__ */ MX(Fs), Nee = /* @__PURE__ */ LX(Fs), kee = /* @__PURE__ */ FX(Fs), Cee = /* @__PURE__ */ BX(Fs), Tee = /* @__PURE__ */ zX(Fs), Aee = /* @__PURE__ */ UX(Fs), Pee = /* @__PURE__ */ qX(Fs), Oee = /* @__PURE__ */ VX(Fs), Ir = /* @__PURE__ */ fe("ZodType", (e, t) => (jr.init(e, t), e.def = t, e.type = t.type, Object.defineProperty(e, "_def", { value: t }), e.check = (...r) => e.clone(
  {
    ...t,
    checks: [
      ...t.checks ?? [],
      ...r.map((n) => typeof n == "function" ? { _zod: { check: n, def: { check: "custom" }, onattach: [] } } : n)
    ]
  }
  // { parent: true }
), e.clone = (r, n) => il(e, r, n), e.brand = () => e, e.register = (r, n) => (r.add(e, n), e), e.parse = (r, n) => wee(e, r, n, { callee: e.parse }), e.safeParse = (r, n) => See(e, r, n), e.parseAsync = async (r, n) => _ee(e, r, n, { callee: e.parseAsync }), e.safeParseAsync = async (r, n) => Eee(e, r, n), e.spa = e.safeParseAsync, e.encode = (r, n) => jee(e, r, n), e.decode = (r, n) => Nee(e, r, n), e.encodeAsync = async (r, n) => kee(e, r, n), e.decodeAsync = async (r, n) => Cee(e, r, n), e.safeEncode = (r, n) => Tee(e, r, n), e.safeDecode = (r, n) => Aee(e, r, n), e.safeEncodeAsync = async (r, n) => Pee(e, r, n), e.safeDecodeAsync = async (r, n) => Oee(e, r, n), e.refine = (r, n) => e.check(_te(r, n)), e.superRefine = (r) => e.check(Ste(r)), e.overwrite = (r) => e.check(op(r)), e.optional = () => RT(e), e.nullable = () => IT(e), e.nullish = () => RT(IT(e)), e.nonoptional = (r) => mte(e, r), e.array = () => s4(e), e.or = (r) => ite([e, r]), e.and = (r) => ate(e, r), e.transform = (r) => MT(e, cte(r)), e.default = (r) => fte(e, r), e.prefault = (r) => pte(e, r), e.catch = (r) => yte(e, r), e.pipe = (r) => MT(e, r), e.readonly = () => xte(e), e.describe = (r) => {
  const n = e.clone();
  return dm.add(n, { description: r }), n;
}, Object.defineProperty(e, "description", {
  get() {
    var r;
    return (r = dm.get(e)) == null ? void 0 : r.description;
  },
  configurable: !0
}), e.meta = (...r) => {
  if (r.length === 0)
    return dm.get(e);
  const n = e.clone();
  return dm.add(n, r[0]), n;
}, e.isOptional = () => e.safeParse(void 0).success, e.isNullable = () => e.safeParse(null).success, e)), n4 = /* @__PURE__ */ fe("_ZodString", (e, t) => {
  uE.init(e, t), Ir.init(e, t);
  const r = e._zod.bag;
  e.format = r.format ?? null, e.minLength = r.minimum ?? null, e.maxLength = r.maximum ?? null, e.regex = (...n) => e.check(GQ(...n)), e.includes = (...n) => e.check(JQ(...n)), e.startsWith = (...n) => e.check(QQ(...n)), e.endsWith = (...n) => e.check(eee(...n)), e.min = (...n) => e.check(Fg(...n)), e.max = (...n) => e.check(t4(...n)), e.length = (...n) => e.check(r4(...n)), e.nonempty = (...n) => e.check(Fg(1, ...n)), e.lowercase = (n) => e.check(ZQ(n)), e.uppercase = (n) => e.check(XQ(n)), e.trim = () => e.check(ree()), e.normalize = (...n) => e.check(tee(...n)), e.toLowerCase = () => e.check(nee()), e.toUpperCase = () => e.check(see());
}), Dee = /* @__PURE__ */ fe("ZodString", (e, t) => {
  uE.init(e, t), n4.init(e, t), e.email = (r) => e.check(wQ($ee, r)), e.url = (r) => e.check(NQ(Ree, r)), e.jwt = (r) => e.check(zQ(Zee, r)), e.emoji = (r) => e.check(kQ(Iee, r)), e.guid = (r) => e.check(AT(OT, r)), e.uuid = (r) => e.check(_Q(hm, r)), e.uuidv4 = (r) => e.check(SQ(hm, r)), e.uuidv6 = (r) => e.check(EQ(hm, r)), e.uuidv7 = (r) => e.check(jQ(hm, r)), e.nanoid = (r) => e.check(CQ(Mee, r)), e.guid = (r) => e.check(AT(OT, r)), e.cuid = (r) => e.check(TQ(Lee, r)), e.cuid2 = (r) => e.check(AQ(Fee, r)), e.ulid = (r) => e.check(PQ(Bee, r)), e.base64 = (r) => e.check(LQ(Hee, r)), e.base64url = (r) => e.check(FQ(Yee, r)), e.xid = (r) => e.check(OQ(zee, r)), e.ksuid = (r) => e.check(DQ(Uee, r)), e.ipv4 = (r) => e.check($Q(qee, r)), e.ipv6 = (r) => e.check(RQ(Vee, r)), e.cidrv4 = (r) => e.check(IQ(Wee, r)), e.cidrv6 = (r) => e.check(MQ(Kee, r)), e.e164 = (r) => e.check(BQ(Gee, r)), e.datetime = (r) => e.check(hee(r)), e.date = (r) => e.check(mee(r)), e.time = (r) => e.check(yee(r)), e.duration = (r) => e.check(bee(r));
});
function fm(e) {
  return xQ(Dee, e);
}
const rr = /* @__PURE__ */ fe("ZodStringFormat", (e, t) => {
  Yt.init(e, t), n4.init(e, t);
}), $ee = /* @__PURE__ */ fe("ZodEmail", (e, t) => {
  AJ.init(e, t), rr.init(e, t);
}), OT = /* @__PURE__ */ fe("ZodGUID", (e, t) => {
  CJ.init(e, t), rr.init(e, t);
}), hm = /* @__PURE__ */ fe("ZodUUID", (e, t) => {
  TJ.init(e, t), rr.init(e, t);
}), Ree = /* @__PURE__ */ fe("ZodURL", (e, t) => {
  PJ.init(e, t), rr.init(e, t);
}), Iee = /* @__PURE__ */ fe("ZodEmoji", (e, t) => {
  OJ.init(e, t), rr.init(e, t);
}), Mee = /* @__PURE__ */ fe("ZodNanoID", (e, t) => {
  DJ.init(e, t), rr.init(e, t);
}), Lee = /* @__PURE__ */ fe("ZodCUID", (e, t) => {
  $J.init(e, t), rr.init(e, t);
}), Fee = /* @__PURE__ */ fe("ZodCUID2", (e, t) => {
  RJ.init(e, t), rr.init(e, t);
}), Bee = /* @__PURE__ */ fe("ZodULID", (e, t) => {
  IJ.init(e, t), rr.init(e, t);
}), zee = /* @__PURE__ */ fe("ZodXID", (e, t) => {
  MJ.init(e, t), rr.init(e, t);
}), Uee = /* @__PURE__ */ fe("ZodKSUID", (e, t) => {
  LJ.init(e, t), rr.init(e, t);
}), qee = /* @__PURE__ */ fe("ZodIPv4", (e, t) => {
  qJ.init(e, t), rr.init(e, t);
}), Vee = /* @__PURE__ */ fe("ZodIPv6", (e, t) => {
  VJ.init(e, t), rr.init(e, t);
}), Wee = /* @__PURE__ */ fe("ZodCIDRv4", (e, t) => {
  WJ.init(e, t), rr.init(e, t);
}), Kee = /* @__PURE__ */ fe("ZodCIDRv6", (e, t) => {
  KJ.init(e, t), rr.init(e, t);
}), Hee = /* @__PURE__ */ fe("ZodBase64", (e, t) => {
  HJ.init(e, t), rr.init(e, t);
}), Yee = /* @__PURE__ */ fe("ZodBase64URL", (e, t) => {
  GJ.init(e, t), rr.init(e, t);
}), Gee = /* @__PURE__ */ fe("ZodE164", (e, t) => {
  ZJ.init(e, t), rr.init(e, t);
}), Zee = /* @__PURE__ */ fe("ZodJWT", (e, t) => {
  JJ.init(e, t), rr.init(e, t);
}), Xee = /* @__PURE__ */ fe("ZodBoolean", (e, t) => {
  QJ.init(e, t), Ir.init(e, t);
});
function Jee(e) {
  return KQ(Xee, e);
}
const Qee = /* @__PURE__ */ fe("ZodUnknown", (e, t) => {
  eQ.init(e, t), Ir.init(e, t);
});
function DT() {
  return HQ(Qee);
}
const ete = /* @__PURE__ */ fe("ZodNever", (e, t) => {
  tQ.init(e, t), Ir.init(e, t);
});
function tte(e) {
  return YQ(ete, e);
}
const rte = /* @__PURE__ */ fe("ZodArray", (e, t) => {
  rQ.init(e, t), Ir.init(e, t), e.element = t.element, e.min = (r, n) => e.check(Fg(r, n)), e.nonempty = (r) => e.check(Fg(1, r)), e.max = (r, n) => e.check(t4(r, n)), e.length = (r, n) => e.check(r4(r, n)), e.unwrap = () => e.element;
});
function s4(e, t) {
  return iee(rte, e, t);
}
const nte = /* @__PURE__ */ fe("ZodObject", (e, t) => {
  sQ.init(e, t), Ir.init(e, t), $t(e, "shape", () => t.shape), e.keyof = () => Gw(Object.keys(e._zod.def.shape)), e.catchall = (r) => e.clone({ ...e._zod.def, catchall: r }), e.passthrough = () => e.clone({ ...e._zod.def, catchall: DT() }), e.loose = () => e.clone({ ...e._zod.def, catchall: DT() }), e.strict = () => e.clone({ ...e._zod.def, catchall: tte() }), e.strip = () => e.clone({ ...e._zod.def, catchall: void 0 }), e.extend = (r) => NX(e, r), e.safeExtend = (r) => kX(e, r), e.merge = (r) => CX(e, r), e.pick = (r) => EX(e, r), e.omit = (r) => jX(e, r), e.partial = (...r) => TX(i4, e, r[0]), e.required = (...r) => AX(o4, e, r[0]);
});
function $T(e, t) {
  const r = {
    type: "object",
    get shape() {
      return sl(this, "shape", e ? xX(e) : {}), this.shape;
    },
    ...Ke(t)
  };
  return new nte(r);
}
const ste = /* @__PURE__ */ fe("ZodUnion", (e, t) => {
  iQ.init(e, t), Ir.init(e, t), e.options = t.options;
});
function ite(e, t) {
  return new ste({
    type: "union",
    options: e,
    ...Ke(t)
  });
}
const ote = /* @__PURE__ */ fe("ZodIntersection", (e, t) => {
  oQ.init(e, t), Ir.init(e, t);
});
function ate(e, t) {
  return new ote({
    type: "intersection",
    left: e,
    right: t
  });
}
const Yw = /* @__PURE__ */ fe("ZodEnum", (e, t) => {
  aQ.init(e, t), Ir.init(e, t), e.enum = t.entries, e.options = Object.values(t.entries);
  const r = new Set(Object.keys(t.entries));
  e.extract = (n, s) => {
    const i = {};
    for (const o of n)
      if (r.has(o))
        i[o] = t.entries[o];
      else
        throw new Error(`Key ${o} not found in enum`);
    return new Yw({
      ...t,
      checks: [],
      ...Ke(s),
      entries: i
    });
  }, e.exclude = (n, s) => {
    const i = { ...t.entries };
    for (const o of n)
      if (r.has(o))
        delete i[o];
      else
        throw new Error(`Key ${o} not found in enum`);
    return new Yw({
      ...t,
      checks: [],
      ...Ke(s),
      entries: i
    });
  };
});
function Gw(e, t) {
  const r = Array.isArray(e) ? Object.fromEntries(e.map((n) => [n, n])) : e;
  return new Yw({
    type: "enum",
    entries: r,
    ...Ke(t)
  });
}
const lte = /* @__PURE__ */ fe("ZodTransform", (e, t) => {
  lQ.init(e, t), Ir.init(e, t), e._zod.parse = (r, n) => {
    if (n.direction === "backward")
      throw new qL(e.constructor.name);
    r.addIssue = (i) => {
      if (typeof i == "string")
        r.issues.push(fh(i, r.value, t));
      else {
        const o = i;
        o.fatal && (o.continue = !1), o.code ?? (o.code = "custom"), o.input ?? (o.input = r.value), o.inst ?? (o.inst = e), r.issues.push(fh(o));
      }
    };
    const s = t.transform(r.value, r);
    return s instanceof Promise ? s.then((i) => (r.value = i, r)) : (r.value = s, r);
  };
});
function cte(e) {
  return new lte({
    type: "transform",
    transform: e
  });
}
const i4 = /* @__PURE__ */ fe("ZodOptional", (e, t) => {
  cQ.init(e, t), Ir.init(e, t), e.unwrap = () => e._zod.def.innerType;
});
function RT(e) {
  return new i4({
    type: "optional",
    innerType: e
  });
}
const ute = /* @__PURE__ */ fe("ZodNullable", (e, t) => {
  uQ.init(e, t), Ir.init(e, t), e.unwrap = () => e._zod.def.innerType;
});
function IT(e) {
  return new ute({
    type: "nullable",
    innerType: e
  });
}
const dte = /* @__PURE__ */ fe("ZodDefault", (e, t) => {
  dQ.init(e, t), Ir.init(e, t), e.unwrap = () => e._zod.def.innerType, e.removeDefault = e.unwrap;
});
function fte(e, t) {
  return new dte({
    type: "default",
    innerType: e,
    get defaultValue() {
      return typeof t == "function" ? t() : KL(t);
    }
  });
}
const hte = /* @__PURE__ */ fe("ZodPrefault", (e, t) => {
  fQ.init(e, t), Ir.init(e, t), e.unwrap = () => e._zod.def.innerType;
});
function pte(e, t) {
  return new hte({
    type: "prefault",
    innerType: e,
    get defaultValue() {
      return typeof t == "function" ? t() : KL(t);
    }
  });
}
const o4 = /* @__PURE__ */ fe("ZodNonOptional", (e, t) => {
  hQ.init(e, t), Ir.init(e, t), e.unwrap = () => e._zod.def.innerType;
});
function mte(e, t) {
  return new o4({
    type: "nonoptional",
    innerType: e,
    ...Ke(t)
  });
}
const gte = /* @__PURE__ */ fe("ZodCatch", (e, t) => {
  pQ.init(e, t), Ir.init(e, t), e.unwrap = () => e._zod.def.innerType, e.removeCatch = e.unwrap;
});
function yte(e, t) {
  return new gte({
    type: "catch",
    innerType: e,
    catchValue: typeof t == "function" ? t : () => t
  });
}
const vte = /* @__PURE__ */ fe("ZodPipe", (e, t) => {
  mQ.init(e, t), Ir.init(e, t), e.in = t.in, e.out = t.out;
});
function MT(e, t) {
  return new vte({
    type: "pipe",
    in: e,
    out: t
    // ...util.normalizeParams(params),
  });
}
const bte = /* @__PURE__ */ fe("ZodReadonly", (e, t) => {
  gQ.init(e, t), Ir.init(e, t), e.unwrap = () => e._zod.def.innerType;
});
function xte(e) {
  return new bte({
    type: "readonly",
    innerType: e
  });
}
const wte = /* @__PURE__ */ fe("ZodCustom", (e, t) => {
  yQ.init(e, t), Ir.init(e, t);
});
function _te(e, t = {}) {
  return oee(wte, e, t);
}
function Ste(e) {
  return aee(e);
}
const ai = _.forwardRef(({ className: e, type: t, ...r }, n) => u.jsx("input", { type: t, className: Ze("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50", e), ref: n, ...r }));
ai.displayName = "Input";
var Ete = "Label", a4 = _.forwardRef((e, t) => /* @__PURE__ */ u.jsx(
  Hr.label,
  {
    ...e,
    ref: t,
    onMouseDown: (r) => {
      var s;
      r.target.closest("button, input, select, textarea") || ((s = e.onMouseDown) == null || s.call(e, r), !r.defaultPrevented && r.detail > 1 && r.preventDefault());
    }
  }
));
a4.displayName = Ete;
var l4 = a4;
const jte = nv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"), js = _.forwardRef(({ className: e, ...t }, r) => u.jsx(l4, { ref: r, className: Ze(jte(), e), ...t }));
js.displayName = l4.displayName;
const dE = _.forwardRef(({ className: e, ...t }, r) => u.jsx("textarea", { className: Ze("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50", e), ref: r, ...t }));
dE.displayName = "Textarea";
function jt() {
  return jt = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var r = arguments[t];
      for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]);
    }
    return e;
  }, jt.apply(null, arguments);
}
function LT(e, [t, r]) {
  return Math.min(r, Math.max(t, e));
}
function jn(e, t, { checkForDefaultPrevented: r = !0 } = {}) {
  return function(s) {
    if (e == null || e(s), r === !1 || !s.defaultPrevented) return t == null ? void 0 : t(s);
  };
}
function fE(e, t = []) {
  let r = [];
  function n(i, o) {
    const a = /* @__PURE__ */ dr(o), l = r.length;
    r = [
      ...r,
      o
    ];
    function c(f) {
      const { scope: h, children: p, ...g } = f, m = (h == null ? void 0 : h[e][l]) || a, y = Ht(
        () => g,
        Object.values(g)
      );
      return /* @__PURE__ */ $e(m.Provider, {
        value: y
      }, p);
    }
    function d(f, h) {
      const p = (h == null ? void 0 : h[e][l]) || a, g = Dt(p);
      if (g) return g;
      if (o !== void 0) return o;
      throw new Error(`\`${f}\` must be used within \`${i}\``);
    }
    return c.displayName = i + "Provider", [
      c,
      d
    ];
  }
  const s = () => {
    const i = r.map((o) => /* @__PURE__ */ dr(o));
    return function(a) {
      const l = (a == null ? void 0 : a[e]) || i;
      return Ht(
        () => ({
          [`__scope${e}`]: {
            ...a,
            [e]: l
          }
        }),
        [
          a,
          l
        ]
      );
    };
  };
  return s.scopeName = e, [
    n,
    Nte(s, ...t)
  ];
}
function Nte(...e) {
  const t = e[0];
  if (e.length === 1) return t;
  const r = () => {
    const n = e.map(
      (s) => ({
        useScope: s(),
        scopeName: s.scopeName
      })
    );
    return function(i) {
      const o = n.reduce((a, { useScope: l, scopeName: c }) => {
        const f = l(i)[`__scope${c}`];
        return {
          ...a,
          ...f
        };
      }, {});
      return Ht(
        () => ({
          [`__scope${t.scopeName}`]: o
        }),
        [
          o
        ]
      );
    };
  };
  return r.scopeName = t.scopeName, r;
}
function kte(e, t) {
  typeof e == "function" ? e(t) : e != null && (e.current = t);
}
function c4(...e) {
  return (t) => e.forEach(
    (r) => kte(r, t)
  );
}
function Wn(...e) {
  return ze(c4(...e), e);
}
const hh = /* @__PURE__ */ rt((e, t) => {
  const { children: r, ...n } = e, s = Po.toArray(r), i = s.find(Tte);
  if (i) {
    const o = i.props.children, a = s.map((l) => l === i ? Po.count(o) > 1 ? Po.only(null) : /* @__PURE__ */ Pn(o) ? o.props.children : null : l);
    return /* @__PURE__ */ $e(Zw, jt({}, n, {
      ref: t
    }), /* @__PURE__ */ Pn(o) ? /* @__PURE__ */ vi(o, void 0, a) : null);
  }
  return /* @__PURE__ */ $e(Zw, jt({}, n, {
    ref: t
  }), r);
});
hh.displayName = "Slot";
const Zw = /* @__PURE__ */ rt((e, t) => {
  const { children: r, ...n } = e;
  return /* @__PURE__ */ Pn(r) ? /* @__PURE__ */ vi(r, {
    ...Ate(n, r.props),
    ref: t ? c4(t, r.ref) : r.ref
  }) : Po.count(r) > 1 ? Po.only(null) : null;
});
Zw.displayName = "SlotClone";
const Cte = ({ children: e }) => /* @__PURE__ */ $e(Yh, null, e);
function Tte(e) {
  return /* @__PURE__ */ Pn(e) && e.type === Cte;
}
function Ate(e, t) {
  const r = {
    ...t
  };
  for (const n in t) {
    const s = e[n], i = t[n];
    /^on[A-Z]/.test(n) ? s && i ? r[n] = (...a) => {
      i(...a), s(...a);
    } : s && (r[n] = s) : n === "style" ? r[n] = {
      ...s,
      ...i
    } : n === "className" && (r[n] = [
      s,
      i
    ].filter(Boolean).join(" "));
  }
  return {
    ...e,
    ...r
  };
}
function Pte(e) {
  const t = e + "CollectionProvider", [r, n] = fE(t), [s, i] = r(t, {
    collectionRef: {
      current: null
    },
    itemMap: /* @__PURE__ */ new Map()
  }), o = (p) => {
    const { scope: g, children: m } = p, y = ge.useRef(null), v = ge.useRef(/* @__PURE__ */ new Map()).current;
    return /* @__PURE__ */ ge.createElement(s, {
      scope: g,
      itemMap: v,
      collectionRef: y
    }, m);
  }, a = e + "CollectionSlot", l = /* @__PURE__ */ ge.forwardRef((p, g) => {
    const { scope: m, children: y } = p, v = i(a, m), b = Wn(g, v.collectionRef);
    return /* @__PURE__ */ ge.createElement(hh, {
      ref: b
    }, y);
  }), c = e + "CollectionItemSlot", d = "data-radix-collection-item", f = /* @__PURE__ */ ge.forwardRef((p, g) => {
    const { scope: m, children: y, ...v } = p, b = ge.useRef(null), x = Wn(g, b), S = i(c, m);
    return ge.useEffect(() => (S.itemMap.set(b, {
      ref: b,
      ...v
    }), () => void S.itemMap.delete(b))), /* @__PURE__ */ ge.createElement(hh, {
      [d]: "",
      ref: x
    }, y);
  });
  function h(p) {
    const g = i(e + "CollectionConsumer", p);
    return ge.useCallback(() => {
      const y = g.collectionRef.current;
      if (!y) return [];
      const v = Array.from(y.querySelectorAll(`[${d}]`));
      return Array.from(g.itemMap.values()).sort(
        (S, w) => v.indexOf(S.ref.current) - v.indexOf(w.ref.current)
      );
    }, [
      g.collectionRef,
      g.itemMap
    ]);
  }
  return [
    {
      Provider: o,
      Slot: l,
      ItemSlot: f
    },
    h,
    n
  ];
}
const Ote = /* @__PURE__ */ dr(void 0);
function Dte(e) {
  const t = Dt(Ote);
  return e || t || "ltr";
}
const $te = [
  "a",
  "button",
  "div",
  "form",
  "h2",
  "h3",
  "img",
  "input",
  "label",
  "li",
  "nav",
  "ol",
  "p",
  "span",
  "svg",
  "ul"
], nn = $te.reduce((e, t) => {
  const r = /* @__PURE__ */ rt((n, s) => {
    const { asChild: i, ...o } = n, a = i ? hh : t;
    return ve(() => {
      window[Symbol.for("radix-ui")] = !0;
    }, []), /* @__PURE__ */ $e(a, jt({}, o, {
      ref: s
    }));
  });
  return r.displayName = `Primitive.${t}`, {
    ...e,
    [t]: r
  };
}, {});
function Rte(e, t) {
  e && VR(
    () => e.dispatchEvent(t)
  );
}
function Io(e) {
  const t = We(e);
  return ve(() => {
    t.current = e;
  }), Ht(
    () => (...r) => {
      var n;
      return (n = t.current) === null || n === void 0 ? void 0 : n.call(t, ...r);
    },
    []
  );
}
function Ite(e, t = globalThis == null ? void 0 : globalThis.document) {
  const r = Io(e);
  ve(() => {
    const n = (s) => {
      s.key === "Escape" && r(s);
    };
    return t.addEventListener("keydown", n), () => t.removeEventListener("keydown", n);
  }, [
    r,
    t
  ]);
}
const Xw = "dismissableLayer.update", Mte = "dismissableLayer.pointerDownOutside", Lte = "dismissableLayer.focusOutside";
let FT;
const Fte = /* @__PURE__ */ dr({
  layers: /* @__PURE__ */ new Set(),
  layersWithOutsidePointerEventsDisabled: /* @__PURE__ */ new Set(),
  branches: /* @__PURE__ */ new Set()
}), Bte = /* @__PURE__ */ rt((e, t) => {
  var r;
  const { disableOutsidePointerEvents: n = !1, onEscapeKeyDown: s, onPointerDownOutside: i, onFocusOutside: o, onInteractOutside: a, onDismiss: l, ...c } = e, d = Dt(Fte), [f, h] = L(null), p = (r = f == null ? void 0 : f.ownerDocument) !== null && r !== void 0 ? r : globalThis == null ? void 0 : globalThis.document, [, g] = L({}), m = Wn(
    t,
    (k) => h(k)
  ), y = Array.from(d.layers), [v] = [
    ...d.layersWithOutsidePointerEventsDisabled
  ].slice(-1), b = y.indexOf(v), x = f ? y.indexOf(f) : -1, S = d.layersWithOutsidePointerEventsDisabled.size > 0, w = x >= b, j = zte((k) => {
    const C = k.target, $ = [
      ...d.branches
    ].some(
      (I) => I.contains(C)
    );
    !w || $ || (i == null || i(k), a == null || a(k), k.defaultPrevented || l == null || l());
  }, p), N = Ute((k) => {
    const C = k.target;
    [
      ...d.branches
    ].some(
      (I) => I.contains(C)
    ) || (o == null || o(k), a == null || a(k), k.defaultPrevented || l == null || l());
  }, p);
  return Ite((k) => {
    x === d.layers.size - 1 && (s == null || s(k), !k.defaultPrevented && l && (k.preventDefault(), l()));
  }, p), ve(() => {
    if (f)
      return n && (d.layersWithOutsidePointerEventsDisabled.size === 0 && (FT = p.body.style.pointerEvents, p.body.style.pointerEvents = "none"), d.layersWithOutsidePointerEventsDisabled.add(f)), d.layers.add(f), BT(), () => {
        n && d.layersWithOutsidePointerEventsDisabled.size === 1 && (p.body.style.pointerEvents = FT);
      };
  }, [
    f,
    p,
    n,
    d
  ]), ve(() => () => {
    f && (d.layers.delete(f), d.layersWithOutsidePointerEventsDisabled.delete(f), BT());
  }, [
    f,
    d
  ]), ve(() => {
    const k = () => g({});
    return document.addEventListener(Xw, k), () => document.removeEventListener(Xw, k);
  }, []), /* @__PURE__ */ $e(nn.div, jt({}, c, {
    ref: m,
    style: {
      pointerEvents: S ? w ? "auto" : "none" : void 0,
      ...e.style
    },
    onFocusCapture: jn(e.onFocusCapture, N.onFocusCapture),
    onBlurCapture: jn(e.onBlurCapture, N.onBlurCapture),
    onPointerDownCapture: jn(e.onPointerDownCapture, j.onPointerDownCapture)
  }));
});
function zte(e, t = globalThis == null ? void 0 : globalThis.document) {
  const r = Io(e), n = We(!1), s = We(() => {
  });
  return ve(() => {
    const i = (a) => {
      if (a.target && !n.current) {
        let c = function() {
          u4(Mte, r, l, {
            discrete: !0
          });
        };
        const l = {
          originalEvent: a
        };
        a.pointerType === "touch" ? (t.removeEventListener("click", s.current), s.current = c, t.addEventListener("click", s.current, {
          once: !0
        })) : c();
      }
      n.current = !1;
    }, o = window.setTimeout(() => {
      t.addEventListener("pointerdown", i);
    }, 0);
    return () => {
      window.clearTimeout(o), t.removeEventListener("pointerdown", i), t.removeEventListener("click", s.current);
    };
  }, [
    t,
    r
  ]), {
    // ensures we check React component tree (not just DOM tree)
    onPointerDownCapture: () => n.current = !0
  };
}
function Ute(e, t = globalThis == null ? void 0 : globalThis.document) {
  const r = Io(e), n = We(!1);
  return ve(() => {
    const s = (i) => {
      i.target && !n.current && u4(Lte, r, {
        originalEvent: i
      }, {
        discrete: !1
      });
    };
    return t.addEventListener("focusin", s), () => t.removeEventListener("focusin", s);
  }, [
    t,
    r
  ]), {
    onFocusCapture: () => n.current = !0,
    onBlurCapture: () => n.current = !1
  };
}
function BT() {
  const e = new CustomEvent(Xw);
  document.dispatchEvent(e);
}
function u4(e, t, r, { discrete: n }) {
  const s = r.originalEvent.target, i = new CustomEvent(e, {
    bubbles: !1,
    cancelable: !0,
    detail: r
  });
  t && s.addEventListener(e, t, {
    once: !0
  }), n ? Rte(s, i) : s.dispatchEvent(i);
}
let I0 = 0;
function qte() {
  ve(() => {
    var e, t;
    const r = document.querySelectorAll("[data-radix-focus-guard]");
    return document.body.insertAdjacentElement("afterbegin", (e = r[0]) !== null && e !== void 0 ? e : zT()), document.body.insertAdjacentElement("beforeend", (t = r[1]) !== null && t !== void 0 ? t : zT()), I0++, () => {
      I0 === 1 && document.querySelectorAll("[data-radix-focus-guard]").forEach(
        (n) => n.remove()
      ), I0--;
    };
  }, []);
}
function zT() {
  const e = document.createElement("span");
  return e.setAttribute("data-radix-focus-guard", ""), e.tabIndex = 0, e.style.cssText = "outline: none; opacity: 0; position: fixed; pointer-events: none", e;
}
const M0 = "focusScope.autoFocusOnMount", L0 = "focusScope.autoFocusOnUnmount", UT = {
  bubbles: !1,
  cancelable: !0
}, Vte = /* @__PURE__ */ rt((e, t) => {
  const { loop: r = !1, trapped: n = !1, onMountAutoFocus: s, onUnmountAutoFocus: i, ...o } = e, [a, l] = L(null), c = Io(s), d = Io(i), f = We(null), h = Wn(
    t,
    (m) => l(m)
  ), p = We({
    paused: !1,
    pause() {
      this.paused = !0;
    },
    resume() {
      this.paused = !1;
    }
  }).current;
  ve(() => {
    if (n) {
      let m = function(x) {
        if (p.paused || !a) return;
        const S = x.target;
        a.contains(S) ? f.current = S : Sa(f.current, {
          select: !0
        });
      }, y = function(x) {
        if (p.paused || !a) return;
        const S = x.relatedTarget;
        S !== null && (a.contains(S) || Sa(f.current, {
          select: !0
        }));
      }, v = function(x) {
        const S = document.activeElement;
        for (const w of x)
          w.removedNodes.length > 0 && (a != null && a.contains(S) || Sa(a));
      };
      document.addEventListener("focusin", m), document.addEventListener("focusout", y);
      const b = new MutationObserver(v);
      return a && b.observe(a, {
        childList: !0,
        subtree: !0
      }), () => {
        document.removeEventListener("focusin", m), document.removeEventListener("focusout", y), b.disconnect();
      };
    }
  }, [
    n,
    a,
    p.paused
  ]), ve(() => {
    if (a) {
      VT.add(p);
      const m = document.activeElement;
      if (!a.contains(m)) {
        const v = new CustomEvent(M0, UT);
        a.addEventListener(M0, c), a.dispatchEvent(v), v.defaultPrevented || (Wte(Zte(d4(a)), {
          select: !0
        }), document.activeElement === m && Sa(a));
      }
      return () => {
        a.removeEventListener(M0, c), setTimeout(() => {
          const v = new CustomEvent(L0, UT);
          a.addEventListener(L0, d), a.dispatchEvent(v), v.defaultPrevented || Sa(m ?? document.body, {
            select: !0
          }), a.removeEventListener(L0, d), VT.remove(p);
        }, 0);
      };
    }
  }, [
    a,
    c,
    d,
    p
  ]);
  const g = ze((m) => {
    if (!r && !n || p.paused) return;
    const y = m.key === "Tab" && !m.altKey && !m.ctrlKey && !m.metaKey, v = document.activeElement;
    if (y && v) {
      const b = m.currentTarget, [x, S] = Kte(b);
      x && S ? !m.shiftKey && v === S ? (m.preventDefault(), r && Sa(x, {
        select: !0
      })) : m.shiftKey && v === x && (m.preventDefault(), r && Sa(S, {
        select: !0
      })) : v === b && m.preventDefault();
    }
  }, [
    r,
    n,
    p.paused
  ]);
  return /* @__PURE__ */ $e(nn.div, jt({
    tabIndex: -1
  }, o, {
    ref: h,
    onKeyDown: g
  }));
});
function Wte(e, { select: t = !1 } = {}) {
  const r = document.activeElement;
  for (const n of e)
    if (Sa(n, {
      select: t
    }), document.activeElement !== r) return;
}
function Kte(e) {
  const t = d4(e), r = qT(t, e), n = qT(t.reverse(), e);
  return [
    r,
    n
  ];
}
function d4(e) {
  const t = [], r = document.createTreeWalker(e, NodeFilter.SHOW_ELEMENT, {
    acceptNode: (n) => {
      const s = n.tagName === "INPUT" && n.type === "hidden";
      return n.disabled || n.hidden || s ? NodeFilter.FILTER_SKIP : n.tabIndex >= 0 ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP;
    }
  });
  for (; r.nextNode(); ) t.push(r.currentNode);
  return t;
}
function qT(e, t) {
  for (const r of e)
    if (!Hte(r, {
      upTo: t
    })) return r;
}
function Hte(e, { upTo: t }) {
  if (getComputedStyle(e).visibility === "hidden") return !0;
  for (; e; ) {
    if (t !== void 0 && e === t) return !1;
    if (getComputedStyle(e).display === "none") return !0;
    e = e.parentElement;
  }
  return !1;
}
function Yte(e) {
  return e instanceof HTMLInputElement && "select" in e;
}
function Sa(e, { select: t = !1 } = {}) {
  if (e && e.focus) {
    const r = document.activeElement;
    e.focus({
      preventScroll: !0
    }), e !== r && Yte(e) && t && e.select();
  }
}
const VT = Gte();
function Gte() {
  let e = [];
  return {
    add(t) {
      const r = e[0];
      t !== r && (r == null || r.pause()), e = WT(e, t), e.unshift(t);
    },
    remove(t) {
      var r;
      e = WT(e, t), (r = e[0]) === null || r === void 0 || r.resume();
    }
  };
}
function WT(e, t) {
  const r = [
    ...e
  ], n = r.indexOf(t);
  return n !== -1 && r.splice(n, 1), r;
}
function Zte(e) {
  return e.filter(
    (t) => t.tagName !== "A"
  );
}
const Mo = globalThis != null && globalThis.document ? rl : () => {
}, Xte = _.useId || (() => {
});
let Jte = 0;
function hE(e) {
  const [t, r] = _.useState(Xte());
  return Mo(() => {
    r(
      (n) => n ?? String(Jte++)
    );
  }, [
    e
  ]), t ? `radix-${t}` : "";
}
const Qte = ["top", "right", "bottom", "left"], Ga = Math.min, rs = Math.max, Bg = Math.round, pm = Math.floor, Ui = (e) => ({
  x: e,
  y: e
}), ere = {
  left: "right",
  right: "left",
  bottom: "top",
  top: "bottom"
}, tre = {
  start: "end",
  end: "start"
};
function Jw(e, t, r) {
  return rs(e, Ga(t, r));
}
function Lo(e, t) {
  return typeof e == "function" ? e(t) : e;
}
function Fo(e) {
  return e.split("-")[0];
}
function yd(e) {
  return e.split("-")[1];
}
function pE(e) {
  return e === "x" ? "y" : "x";
}
function mE(e) {
  return e === "y" ? "height" : "width";
}
const rre = /* @__PURE__ */ new Set(["top", "bottom"]);
function Fi(e) {
  return rre.has(Fo(e)) ? "y" : "x";
}
function gE(e) {
  return pE(Fi(e));
}
function nre(e, t, r) {
  r === void 0 && (r = !1);
  const n = yd(e), s = gE(e), i = mE(s);
  let o = s === "x" ? n === (r ? "end" : "start") ? "right" : "left" : n === "start" ? "bottom" : "top";
  return t.reference[i] > t.floating[i] && (o = zg(o)), [o, zg(o)];
}
function sre(e) {
  const t = zg(e);
  return [Qw(e), t, Qw(t)];
}
function Qw(e) {
  return e.replace(/start|end/g, (t) => tre[t]);
}
const KT = ["left", "right"], HT = ["right", "left"], ire = ["top", "bottom"], ore = ["bottom", "top"];
function are(e, t, r) {
  switch (e) {
    case "top":
    case "bottom":
      return r ? t ? HT : KT : t ? KT : HT;
    case "left":
    case "right":
      return t ? ire : ore;
    default:
      return [];
  }
}
function lre(e, t, r, n) {
  const s = yd(e);
  let i = are(Fo(e), r === "start", n);
  return s && (i = i.map((o) => o + "-" + s), t && (i = i.concat(i.map(Qw)))), i;
}
function zg(e) {
  return e.replace(/left|right|bottom|top/g, (t) => ere[t]);
}
function cre(e) {
  return {
    top: 0,
    right: 0,
    bottom: 0,
    left: 0,
    ...e
  };
}
function f4(e) {
  return typeof e != "number" ? cre(e) : {
    top: e,
    right: e,
    bottom: e,
    left: e
  };
}
function Ug(e) {
  const {
    x: t,
    y: r,
    width: n,
    height: s
  } = e;
  return {
    width: n,
    height: s,
    top: r,
    left: t,
    right: t + n,
    bottom: r + s,
    x: t,
    y: r
  };
}
function YT(e, t, r) {
  let {
    reference: n,
    floating: s
  } = e;
  const i = Fi(t), o = gE(t), a = mE(o), l = Fo(t), c = i === "y", d = n.x + n.width / 2 - s.width / 2, f = n.y + n.height / 2 - s.height / 2, h = n[a] / 2 - s[a] / 2;
  let p;
  switch (l) {
    case "top":
      p = {
        x: d,
        y: n.y - s.height
      };
      break;
    case "bottom":
      p = {
        x: d,
        y: n.y + n.height
      };
      break;
    case "right":
      p = {
        x: n.x + n.width,
        y: f
      };
      break;
    case "left":
      p = {
        x: n.x - s.width,
        y: f
      };
      break;
    default:
      p = {
        x: n.x,
        y: n.y
      };
  }
  switch (yd(t)) {
    case "start":
      p[o] -= h * (r && c ? -1 : 1);
      break;
    case "end":
      p[o] += h * (r && c ? -1 : 1);
      break;
  }
  return p;
}
const ure = async (e, t, r) => {
  const {
    placement: n = "bottom",
    strategy: s = "absolute",
    middleware: i = [],
    platform: o
  } = r, a = i.filter(Boolean), l = await (o.isRTL == null ? void 0 : o.isRTL(t));
  let c = await o.getElementRects({
    reference: e,
    floating: t,
    strategy: s
  }), {
    x: d,
    y: f
  } = YT(c, n, l), h = n, p = {}, g = 0;
  for (let m = 0; m < a.length; m++) {
    const {
      name: y,
      fn: v
    } = a[m], {
      x: b,
      y: x,
      data: S,
      reset: w
    } = await v({
      x: d,
      y: f,
      initialPlacement: n,
      placement: h,
      strategy: s,
      middlewareData: p,
      rects: c,
      platform: o,
      elements: {
        reference: e,
        floating: t
      }
    });
    d = b ?? d, f = x ?? f, p = {
      ...p,
      [y]: {
        ...p[y],
        ...S
      }
    }, w && g <= 50 && (g++, typeof w == "object" && (w.placement && (h = w.placement), w.rects && (c = w.rects === !0 ? await o.getElementRects({
      reference: e,
      floating: t,
      strategy: s
    }) : w.rects), {
      x: d,
      y: f
    } = YT(c, h, l)), m = -1);
  }
  return {
    x: d,
    y: f,
    placement: h,
    strategy: s,
    middlewareData: p
  };
};
async function ph(e, t) {
  var r;
  t === void 0 && (t = {});
  const {
    x: n,
    y: s,
    platform: i,
    rects: o,
    elements: a,
    strategy: l
  } = e, {
    boundary: c = "clippingAncestors",
    rootBoundary: d = "viewport",
    elementContext: f = "floating",
    altBoundary: h = !1,
    padding: p = 0
  } = Lo(t, e), g = f4(p), y = a[h ? f === "floating" ? "reference" : "floating" : f], v = Ug(await i.getClippingRect({
    element: (r = await (i.isElement == null ? void 0 : i.isElement(y))) == null || r ? y : y.contextElement || await (i.getDocumentElement == null ? void 0 : i.getDocumentElement(a.floating)),
    boundary: c,
    rootBoundary: d,
    strategy: l
  })), b = f === "floating" ? {
    x: n,
    y: s,
    width: o.floating.width,
    height: o.floating.height
  } : o.reference, x = await (i.getOffsetParent == null ? void 0 : i.getOffsetParent(a.floating)), S = await (i.isElement == null ? void 0 : i.isElement(x)) ? await (i.getScale == null ? void 0 : i.getScale(x)) || {
    x: 1,
    y: 1
  } : {
    x: 1,
    y: 1
  }, w = Ug(i.convertOffsetParentRelativeRectToViewportRelativeRect ? await i.convertOffsetParentRelativeRectToViewportRelativeRect({
    elements: a,
    rect: b,
    offsetParent: x,
    strategy: l
  }) : b);
  return {
    top: (v.top - w.top + g.top) / S.y,
    bottom: (w.bottom - v.bottom + g.bottom) / S.y,
    left: (v.left - w.left + g.left) / S.x,
    right: (w.right - v.right + g.right) / S.x
  };
}
const dre = (e) => ({
  name: "arrow",
  options: e,
  async fn(t) {
    const {
      x: r,
      y: n,
      placement: s,
      rects: i,
      platform: o,
      elements: a,
      middlewareData: l
    } = t, {
      element: c,
      padding: d = 0
    } = Lo(e, t) || {};
    if (c == null)
      return {};
    const f = f4(d), h = {
      x: r,
      y: n
    }, p = gE(s), g = mE(p), m = await o.getDimensions(c), y = p === "y", v = y ? "top" : "left", b = y ? "bottom" : "right", x = y ? "clientHeight" : "clientWidth", S = i.reference[g] + i.reference[p] - h[p] - i.floating[g], w = h[p] - i.reference[p], j = await (o.getOffsetParent == null ? void 0 : o.getOffsetParent(c));
    let N = j ? j[x] : 0;
    (!N || !await (o.isElement == null ? void 0 : o.isElement(j))) && (N = a.floating[x] || i.floating[g]);
    const k = S / 2 - w / 2, C = N / 2 - m[g] / 2 - 1, $ = Ga(f[v], C), I = Ga(f[b], C), M = $, O = N - m[g] - I, z = N / 2 - m[g] / 2 + k, U = Jw(M, z, O), G = !l.arrow && yd(s) != null && z !== U && i.reference[g] / 2 - (z < M ? $ : I) - m[g] / 2 < 0, q = G ? z < M ? z - M : z - O : 0;
    return {
      [p]: h[p] + q,
      data: {
        [p]: U,
        centerOffset: z - U - q,
        ...G && {
          alignmentOffset: q
        }
      },
      reset: G
    };
  }
}), fre = function(e) {
  return e === void 0 && (e = {}), {
    name: "flip",
    options: e,
    async fn(t) {
      var r, n;
      const {
        placement: s,
        middlewareData: i,
        rects: o,
        initialPlacement: a,
        platform: l,
        elements: c
      } = t, {
        mainAxis: d = !0,
        crossAxis: f = !0,
        fallbackPlacements: h,
        fallbackStrategy: p = "bestFit",
        fallbackAxisSideDirection: g = "none",
        flipAlignment: m = !0,
        ...y
      } = Lo(e, t);
      if ((r = i.arrow) != null && r.alignmentOffset)
        return {};
      const v = Fo(s), b = Fi(a), x = Fo(a) === a, S = await (l.isRTL == null ? void 0 : l.isRTL(c.floating)), w = h || (x || !m ? [zg(a)] : sre(a)), j = g !== "none";
      !h && j && w.push(...lre(a, m, g, S));
      const N = [a, ...w], k = await ph(t, y), C = [];
      let $ = ((n = i.flip) == null ? void 0 : n.overflows) || [];
      if (d && C.push(k[v]), f) {
        const z = nre(s, o, S);
        C.push(k[z[0]], k[z[1]]);
      }
      if ($ = [...$, {
        placement: s,
        overflows: C
      }], !C.every((z) => z <= 0)) {
        var I, M;
        const z = (((I = i.flip) == null ? void 0 : I.index) || 0) + 1, U = N[z];
        if (U && (!(f === "alignment" ? b !== Fi(U) : !1) || // We leave the current main axis only if every placement on that axis
        // overflows the main axis.
        $.every((Z) => Fi(Z.placement) === b ? Z.overflows[0] > 0 : !0)))
          return {
            data: {
              index: z,
              overflows: $
            },
            reset: {
              placement: U
            }
          };
        let G = (M = $.filter((q) => q.overflows[0] <= 0).sort((q, Z) => q.overflows[1] - Z.overflows[1])[0]) == null ? void 0 : M.placement;
        if (!G)
          switch (p) {
            case "bestFit": {
              var O;
              const q = (O = $.filter((Z) => {
                if (j) {
                  const ie = Fi(Z.placement);
                  return ie === b || // Create a bias to the `y` side axis due to horizontal
                  // reading directions favoring greater width.
                  ie === "y";
                }
                return !0;
              }).map((Z) => [Z.placement, Z.overflows.filter((ie) => ie > 0).reduce((ie, D) => ie + D, 0)]).sort((Z, ie) => Z[1] - ie[1])[0]) == null ? void 0 : O[0];
              q && (G = q);
              break;
            }
            case "initialPlacement":
              G = a;
              break;
          }
        if (s !== G)
          return {
            reset: {
              placement: G
            }
          };
      }
      return {};
    }
  };
};
function GT(e, t) {
  return {
    top: e.top - t.height,
    right: e.right - t.width,
    bottom: e.bottom - t.height,
    left: e.left - t.width
  };
}
function ZT(e) {
  return Qte.some((t) => e[t] >= 0);
}
const hre = function(e) {
  return e === void 0 && (e = {}), {
    name: "hide",
    options: e,
    async fn(t) {
      const {
        rects: r
      } = t, {
        strategy: n = "referenceHidden",
        ...s
      } = Lo(e, t);
      switch (n) {
        case "referenceHidden": {
          const i = await ph(t, {
            ...s,
            elementContext: "reference"
          }), o = GT(i, r.reference);
          return {
            data: {
              referenceHiddenOffsets: o,
              referenceHidden: ZT(o)
            }
          };
        }
        case "escaped": {
          const i = await ph(t, {
            ...s,
            altBoundary: !0
          }), o = GT(i, r.floating);
          return {
            data: {
              escapedOffsets: o,
              escaped: ZT(o)
            }
          };
        }
        default:
          return {};
      }
    }
  };
}, h4 = /* @__PURE__ */ new Set(["left", "top"]);
async function pre(e, t) {
  const {
    placement: r,
    platform: n,
    elements: s
  } = e, i = await (n.isRTL == null ? void 0 : n.isRTL(s.floating)), o = Fo(r), a = yd(r), l = Fi(r) === "y", c = h4.has(o) ? -1 : 1, d = i && l ? -1 : 1, f = Lo(t, e);
  let {
    mainAxis: h,
    crossAxis: p,
    alignmentAxis: g
  } = typeof f == "number" ? {
    mainAxis: f,
    crossAxis: 0,
    alignmentAxis: null
  } : {
    mainAxis: f.mainAxis || 0,
    crossAxis: f.crossAxis || 0,
    alignmentAxis: f.alignmentAxis
  };
  return a && typeof g == "number" && (p = a === "end" ? g * -1 : g), l ? {
    x: p * d,
    y: h * c
  } : {
    x: h * c,
    y: p * d
  };
}
const mre = function(e) {
  return e === void 0 && (e = 0), {
    name: "offset",
    options: e,
    async fn(t) {
      var r, n;
      const {
        x: s,
        y: i,
        placement: o,
        middlewareData: a
      } = t, l = await pre(t, e);
      return o === ((r = a.offset) == null ? void 0 : r.placement) && (n = a.arrow) != null && n.alignmentOffset ? {} : {
        x: s + l.x,
        y: i + l.y,
        data: {
          ...l,
          placement: o
        }
      };
    }
  };
}, gre = function(e) {
  return e === void 0 && (e = {}), {
    name: "shift",
    options: e,
    async fn(t) {
      const {
        x: r,
        y: n,
        placement: s
      } = t, {
        mainAxis: i = !0,
        crossAxis: o = !1,
        limiter: a = {
          fn: (y) => {
            let {
              x: v,
              y: b
            } = y;
            return {
              x: v,
              y: b
            };
          }
        },
        ...l
      } = Lo(e, t), c = {
        x: r,
        y: n
      }, d = await ph(t, l), f = Fi(Fo(s)), h = pE(f);
      let p = c[h], g = c[f];
      if (i) {
        const y = h === "y" ? "top" : "left", v = h === "y" ? "bottom" : "right", b = p + d[y], x = p - d[v];
        p = Jw(b, p, x);
      }
      if (o) {
        const y = f === "y" ? "top" : "left", v = f === "y" ? "bottom" : "right", b = g + d[y], x = g - d[v];
        g = Jw(b, g, x);
      }
      const m = a.fn({
        ...t,
        [h]: p,
        [f]: g
      });
      return {
        ...m,
        data: {
          x: m.x - r,
          y: m.y - n,
          enabled: {
            [h]: i,
            [f]: o
          }
        }
      };
    }
  };
}, yre = function(e) {
  return e === void 0 && (e = {}), {
    options: e,
    fn(t) {
      const {
        x: r,
        y: n,
        placement: s,
        rects: i,
        middlewareData: o
      } = t, {
        offset: a = 0,
        mainAxis: l = !0,
        crossAxis: c = !0
      } = Lo(e, t), d = {
        x: r,
        y: n
      }, f = Fi(s), h = pE(f);
      let p = d[h], g = d[f];
      const m = Lo(a, t), y = typeof m == "number" ? {
        mainAxis: m,
        crossAxis: 0
      } : {
        mainAxis: 0,
        crossAxis: 0,
        ...m
      };
      if (l) {
        const x = h === "y" ? "height" : "width", S = i.reference[h] - i.floating[x] + y.mainAxis, w = i.reference[h] + i.reference[x] - y.mainAxis;
        p < S ? p = S : p > w && (p = w);
      }
      if (c) {
        var v, b;
        const x = h === "y" ? "width" : "height", S = h4.has(Fo(s)), w = i.reference[f] - i.floating[x] + (S && ((v = o.offset) == null ? void 0 : v[f]) || 0) + (S ? 0 : y.crossAxis), j = i.reference[f] + i.reference[x] + (S ? 0 : ((b = o.offset) == null ? void 0 : b[f]) || 0) - (S ? y.crossAxis : 0);
        g < w ? g = w : g > j && (g = j);
      }
      return {
        [h]: p,
        [f]: g
      };
    }
  };
}, vre = function(e) {
  return e === void 0 && (e = {}), {
    name: "size",
    options: e,
    async fn(t) {
      var r, n;
      const {
        placement: s,
        rects: i,
        platform: o,
        elements: a
      } = t, {
        apply: l = () => {
        },
        ...c
      } = Lo(e, t), d = await ph(t, c), f = Fo(s), h = yd(s), p = Fi(s) === "y", {
        width: g,
        height: m
      } = i.floating;
      let y, v;
      f === "top" || f === "bottom" ? (y = f, v = h === (await (o.isRTL == null ? void 0 : o.isRTL(a.floating)) ? "start" : "end") ? "left" : "right") : (v = f, y = h === "end" ? "top" : "bottom");
      const b = m - d.top - d.bottom, x = g - d.left - d.right, S = Ga(m - d[y], b), w = Ga(g - d[v], x), j = !t.middlewareData.shift;
      let N = S, k = w;
      if ((r = t.middlewareData.shift) != null && r.enabled.x && (k = x), (n = t.middlewareData.shift) != null && n.enabled.y && (N = b), j && !h) {
        const $ = rs(d.left, 0), I = rs(d.right, 0), M = rs(d.top, 0), O = rs(d.bottom, 0);
        p ? k = g - 2 * ($ !== 0 || I !== 0 ? $ + I : rs(d.left, d.right)) : N = m - 2 * (M !== 0 || O !== 0 ? M + O : rs(d.top, d.bottom));
      }
      await l({
        ...t,
        availableWidth: k,
        availableHeight: N
      });
      const C = await o.getDimensions(a.floating);
      return g !== C.width || m !== C.height ? {
        reset: {
          rects: !0
        }
      } : {};
    }
  };
};
function Tv() {
  return typeof window < "u";
}
function vd(e) {
  return p4(e) ? (e.nodeName || "").toLowerCase() : "#document";
}
function as(e) {
  var t;
  return (e == null || (t = e.ownerDocument) == null ? void 0 : t.defaultView) || window;
}
function ao(e) {
  var t;
  return (t = (p4(e) ? e.ownerDocument : e.document) || window.document) == null ? void 0 : t.documentElement;
}
function p4(e) {
  return Tv() ? e instanceof Node || e instanceof as(e).Node : !1;
}
function pi(e) {
  return Tv() ? e instanceof Element || e instanceof as(e).Element : !1;
}
function Zi(e) {
  return Tv() ? e instanceof HTMLElement || e instanceof as(e).HTMLElement : !1;
}
function XT(e) {
  return !Tv() || typeof ShadowRoot > "u" ? !1 : e instanceof ShadowRoot || e instanceof as(e).ShadowRoot;
}
const bre = /* @__PURE__ */ new Set(["inline", "contents"]);
function ap(e) {
  const {
    overflow: t,
    overflowX: r,
    overflowY: n,
    display: s
  } = mi(e);
  return /auto|scroll|overlay|hidden|clip/.test(t + n + r) && !bre.has(s);
}
const xre = /* @__PURE__ */ new Set(["table", "td", "th"]);
function wre(e) {
  return xre.has(vd(e));
}
const _re = [":popover-open", ":modal"];
function Av(e) {
  return _re.some((t) => {
    try {
      return e.matches(t);
    } catch {
      return !1;
    }
  });
}
const Sre = ["transform", "translate", "scale", "rotate", "perspective"], Ere = ["transform", "translate", "scale", "rotate", "perspective", "filter"], jre = ["paint", "layout", "strict", "content"];
function yE(e) {
  const t = vE(), r = pi(e) ? mi(e) : e;
  return Sre.some((n) => r[n] ? r[n] !== "none" : !1) || (r.containerType ? r.containerType !== "normal" : !1) || !t && (r.backdropFilter ? r.backdropFilter !== "none" : !1) || !t && (r.filter ? r.filter !== "none" : !1) || Ere.some((n) => (r.willChange || "").includes(n)) || jre.some((n) => (r.contain || "").includes(n));
}
function Nre(e) {
  let t = Za(e);
  for (; Zi(t) && !Vu(t); ) {
    if (yE(t))
      return t;
    if (Av(t))
      return null;
    t = Za(t);
  }
  return null;
}
function vE() {
  return typeof CSS > "u" || !CSS.supports ? !1 : CSS.supports("-webkit-backdrop-filter", "none");
}
const kre = /* @__PURE__ */ new Set(["html", "body", "#document"]);
function Vu(e) {
  return kre.has(vd(e));
}
function mi(e) {
  return as(e).getComputedStyle(e);
}
function Pv(e) {
  return pi(e) ? {
    scrollLeft: e.scrollLeft,
    scrollTop: e.scrollTop
  } : {
    scrollLeft: e.scrollX,
    scrollTop: e.scrollY
  };
}
function Za(e) {
  if (vd(e) === "html")
    return e;
  const t = (
    // Step into the shadow DOM of the parent of a slotted node.
    e.assignedSlot || // DOM Element detected.
    e.parentNode || // ShadowRoot detected.
    XT(e) && e.host || // Fallback.
    ao(e)
  );
  return XT(t) ? t.host : t;
}
function m4(e) {
  const t = Za(e);
  return Vu(t) ? e.ownerDocument ? e.ownerDocument.body : e.body : Zi(t) && ap(t) ? t : m4(t);
}
function mh(e, t, r) {
  var n;
  t === void 0 && (t = []), r === void 0 && (r = !0);
  const s = m4(e), i = s === ((n = e.ownerDocument) == null ? void 0 : n.body), o = as(s);
  if (i) {
    const a = e1(o);
    return t.concat(o, o.visualViewport || [], ap(s) ? s : [], a && r ? mh(a) : []);
  }
  return t.concat(s, mh(s, [], r));
}
function e1(e) {
  return e.parent && Object.getPrototypeOf(e.parent) ? e.frameElement : null;
}
function g4(e) {
  const t = mi(e);
  let r = parseFloat(t.width) || 0, n = parseFloat(t.height) || 0;
  const s = Zi(e), i = s ? e.offsetWidth : r, o = s ? e.offsetHeight : n, a = Bg(r) !== i || Bg(n) !== o;
  return a && (r = i, n = o), {
    width: r,
    height: n,
    $: a
  };
}
function bE(e) {
  return pi(e) ? e : e.contextElement;
}
function _u(e) {
  const t = bE(e);
  if (!Zi(t))
    return Ui(1);
  const r = t.getBoundingClientRect(), {
    width: n,
    height: s,
    $: i
  } = g4(t);
  let o = (i ? Bg(r.width) : r.width) / n, a = (i ? Bg(r.height) : r.height) / s;
  return (!o || !Number.isFinite(o)) && (o = 1), (!a || !Number.isFinite(a)) && (a = 1), {
    x: o,
    y: a
  };
}
const Cre = /* @__PURE__ */ Ui(0);
function y4(e) {
  const t = as(e);
  return !vE() || !t.visualViewport ? Cre : {
    x: t.visualViewport.offsetLeft,
    y: t.visualViewport.offsetTop
  };
}
function Tre(e, t, r) {
  return t === void 0 && (t = !1), !r || t && r !== as(e) ? !1 : t;
}
function ac(e, t, r, n) {
  t === void 0 && (t = !1), r === void 0 && (r = !1);
  const s = e.getBoundingClientRect(), i = bE(e);
  let o = Ui(1);
  t && (n ? pi(n) && (o = _u(n)) : o = _u(e));
  const a = Tre(i, r, n) ? y4(i) : Ui(0);
  let l = (s.left + a.x) / o.x, c = (s.top + a.y) / o.y, d = s.width / o.x, f = s.height / o.y;
  if (i) {
    const h = as(i), p = n && pi(n) ? as(n) : n;
    let g = h, m = e1(g);
    for (; m && n && p !== g; ) {
      const y = _u(m), v = m.getBoundingClientRect(), b = mi(m), x = v.left + (m.clientLeft + parseFloat(b.paddingLeft)) * y.x, S = v.top + (m.clientTop + parseFloat(b.paddingTop)) * y.y;
      l *= y.x, c *= y.y, d *= y.x, f *= y.y, l += x, c += S, g = as(m), m = e1(g);
    }
  }
  return Ug({
    width: d,
    height: f,
    x: l,
    y: c
  });
}
function Ov(e, t) {
  const r = Pv(e).scrollLeft;
  return t ? t.left + r : ac(ao(e)).left + r;
}
function v4(e, t) {
  const r = e.getBoundingClientRect(), n = r.left + t.scrollLeft - Ov(e, r), s = r.top + t.scrollTop;
  return {
    x: n,
    y: s
  };
}
function Are(e) {
  let {
    elements: t,
    rect: r,
    offsetParent: n,
    strategy: s
  } = e;
  const i = s === "fixed", o = ao(n), a = t ? Av(t.floating) : !1;
  if (n === o || a && i)
    return r;
  let l = {
    scrollLeft: 0,
    scrollTop: 0
  }, c = Ui(1);
  const d = Ui(0), f = Zi(n);
  if ((f || !f && !i) && ((vd(n) !== "body" || ap(o)) && (l = Pv(n)), Zi(n))) {
    const p = ac(n);
    c = _u(n), d.x = p.x + n.clientLeft, d.y = p.y + n.clientTop;
  }
  const h = o && !f && !i ? v4(o, l) : Ui(0);
  return {
    width: r.width * c.x,
    height: r.height * c.y,
    x: r.x * c.x - l.scrollLeft * c.x + d.x + h.x,
    y: r.y * c.y - l.scrollTop * c.y + d.y + h.y
  };
}
function Pre(e) {
  return Array.from(e.getClientRects());
}
function Ore(e) {
  const t = ao(e), r = Pv(e), n = e.ownerDocument.body, s = rs(t.scrollWidth, t.clientWidth, n.scrollWidth, n.clientWidth), i = rs(t.scrollHeight, t.clientHeight, n.scrollHeight, n.clientHeight);
  let o = -r.scrollLeft + Ov(e);
  const a = -r.scrollTop;
  return mi(n).direction === "rtl" && (o += rs(t.clientWidth, n.clientWidth) - s), {
    width: s,
    height: i,
    x: o,
    y: a
  };
}
const JT = 25;
function Dre(e, t) {
  const r = as(e), n = ao(e), s = r.visualViewport;
  let i = n.clientWidth, o = n.clientHeight, a = 0, l = 0;
  if (s) {
    i = s.width, o = s.height;
    const d = vE();
    (!d || d && t === "fixed") && (a = s.offsetLeft, l = s.offsetTop);
  }
  const c = Ov(n);
  if (c <= 0) {
    const d = n.ownerDocument, f = d.body, h = getComputedStyle(f), p = d.compatMode === "CSS1Compat" && parseFloat(h.marginLeft) + parseFloat(h.marginRight) || 0, g = Math.abs(n.clientWidth - f.clientWidth - p);
    g <= JT && (i -= g);
  } else c <= JT && (i += c);
  return {
    width: i,
    height: o,
    x: a,
    y: l
  };
}
const $re = /* @__PURE__ */ new Set(["absolute", "fixed"]);
function Rre(e, t) {
  const r = ac(e, !0, t === "fixed"), n = r.top + e.clientTop, s = r.left + e.clientLeft, i = Zi(e) ? _u(e) : Ui(1), o = e.clientWidth * i.x, a = e.clientHeight * i.y, l = s * i.x, c = n * i.y;
  return {
    width: o,
    height: a,
    x: l,
    y: c
  };
}
function QT(e, t, r) {
  let n;
  if (t === "viewport")
    n = Dre(e, r);
  else if (t === "document")
    n = Ore(ao(e));
  else if (pi(t))
    n = Rre(t, r);
  else {
    const s = y4(e);
    n = {
      x: t.x - s.x,
      y: t.y - s.y,
      width: t.width,
      height: t.height
    };
  }
  return Ug(n);
}
function b4(e, t) {
  const r = Za(e);
  return r === t || !pi(r) || Vu(r) ? !1 : mi(r).position === "fixed" || b4(r, t);
}
function Ire(e, t) {
  const r = t.get(e);
  if (r)
    return r;
  let n = mh(e, [], !1).filter((a) => pi(a) && vd(a) !== "body"), s = null;
  const i = mi(e).position === "fixed";
  let o = i ? Za(e) : e;
  for (; pi(o) && !Vu(o); ) {
    const a = mi(o), l = yE(o);
    !l && a.position === "fixed" && (s = null), (i ? !l && !s : !l && a.position === "static" && !!s && $re.has(s.position) || ap(o) && !l && b4(e, o)) ? n = n.filter((d) => d !== o) : s = a, o = Za(o);
  }
  return t.set(e, n), n;
}
function Mre(e) {
  let {
    element: t,
    boundary: r,
    rootBoundary: n,
    strategy: s
  } = e;
  const o = [...r === "clippingAncestors" ? Av(t) ? [] : Ire(t, this._c) : [].concat(r), n], a = o[0], l = o.reduce((c, d) => {
    const f = QT(t, d, s);
    return c.top = rs(f.top, c.top), c.right = Ga(f.right, c.right), c.bottom = Ga(f.bottom, c.bottom), c.left = rs(f.left, c.left), c;
  }, QT(t, a, s));
  return {
    width: l.right - l.left,
    height: l.bottom - l.top,
    x: l.left,
    y: l.top
  };
}
function Lre(e) {
  const {
    width: t,
    height: r
  } = g4(e);
  return {
    width: t,
    height: r
  };
}
function Fre(e, t, r) {
  const n = Zi(t), s = ao(t), i = r === "fixed", o = ac(e, !0, i, t);
  let a = {
    scrollLeft: 0,
    scrollTop: 0
  };
  const l = Ui(0);
  function c() {
    l.x = Ov(s);
  }
  if (n || !n && !i)
    if ((vd(t) !== "body" || ap(s)) && (a = Pv(t)), n) {
      const p = ac(t, !0, i, t);
      l.x = p.x + t.clientLeft, l.y = p.y + t.clientTop;
    } else s && c();
  i && !n && s && c();
  const d = s && !n && !i ? v4(s, a) : Ui(0), f = o.left + a.scrollLeft - l.x - d.x, h = o.top + a.scrollTop - l.y - d.y;
  return {
    x: f,
    y: h,
    width: o.width,
    height: o.height
  };
}
function F0(e) {
  return mi(e).position === "static";
}
function eA(e, t) {
  if (!Zi(e) || mi(e).position === "fixed")
    return null;
  if (t)
    return t(e);
  let r = e.offsetParent;
  return ao(e) === r && (r = r.ownerDocument.body), r;
}
function x4(e, t) {
  const r = as(e);
  if (Av(e))
    return r;
  if (!Zi(e)) {
    let s = Za(e);
    for (; s && !Vu(s); ) {
      if (pi(s) && !F0(s))
        return s;
      s = Za(s);
    }
    return r;
  }
  let n = eA(e, t);
  for (; n && wre(n) && F0(n); )
    n = eA(n, t);
  return n && Vu(n) && F0(n) && !yE(n) ? r : n || Nre(e) || r;
}
const Bre = async function(e) {
  const t = this.getOffsetParent || x4, r = this.getDimensions, n = await r(e.floating);
  return {
    reference: Fre(e.reference, await t(e.floating), e.strategy),
    floating: {
      x: 0,
      y: 0,
      width: n.width,
      height: n.height
    }
  };
};
function zre(e) {
  return mi(e).direction === "rtl";
}
const Ure = {
  convertOffsetParentRelativeRectToViewportRelativeRect: Are,
  getDocumentElement: ao,
  getClippingRect: Mre,
  getOffsetParent: x4,
  getElementRects: Bre,
  getClientRects: Pre,
  getDimensions: Lre,
  getScale: _u,
  isElement: pi,
  isRTL: zre
};
function w4(e, t) {
  return e.x === t.x && e.y === t.y && e.width === t.width && e.height === t.height;
}
function qre(e, t) {
  let r = null, n;
  const s = ao(e);
  function i() {
    var a;
    clearTimeout(n), (a = r) == null || a.disconnect(), r = null;
  }
  function o(a, l) {
    a === void 0 && (a = !1), l === void 0 && (l = 1), i();
    const c = e.getBoundingClientRect(), {
      left: d,
      top: f,
      width: h,
      height: p
    } = c;
    if (a || t(), !h || !p)
      return;
    const g = pm(f), m = pm(s.clientWidth - (d + h)), y = pm(s.clientHeight - (f + p)), v = pm(d), x = {
      rootMargin: -g + "px " + -m + "px " + -y + "px " + -v + "px",
      threshold: rs(0, Ga(1, l)) || 1
    };
    let S = !0;
    function w(j) {
      const N = j[0].intersectionRatio;
      if (N !== l) {
        if (!S)
          return o();
        N ? o(!1, N) : n = setTimeout(() => {
          o(!1, 1e-7);
        }, 1e3);
      }
      N === 1 && !w4(c, e.getBoundingClientRect()) && o(), S = !1;
    }
    try {
      r = new IntersectionObserver(w, {
        ...x,
        // Handle <iframe>s
        root: s.ownerDocument
      });
    } catch {
      r = new IntersectionObserver(w, x);
    }
    r.observe(e);
  }
  return o(!0), i;
}
function Vre(e, t, r, n) {
  n === void 0 && (n = {});
  const {
    ancestorScroll: s = !0,
    ancestorResize: i = !0,
    elementResize: o = typeof ResizeObserver == "function",
    layoutShift: a = typeof IntersectionObserver == "function",
    animationFrame: l = !1
  } = n, c = bE(e), d = s || i ? [...c ? mh(c) : [], ...mh(t)] : [];
  d.forEach((v) => {
    s && v.addEventListener("scroll", r, {
      passive: !0
    }), i && v.addEventListener("resize", r);
  });
  const f = c && a ? qre(c, r) : null;
  let h = -1, p = null;
  o && (p = new ResizeObserver((v) => {
    let [b] = v;
    b && b.target === c && p && (p.unobserve(t), cancelAnimationFrame(h), h = requestAnimationFrame(() => {
      var x;
      (x = p) == null || x.observe(t);
    })), r();
  }), c && !l && p.observe(c), p.observe(t));
  let g, m = l ? ac(e) : null;
  l && y();
  function y() {
    const v = ac(e);
    m && !w4(m, v) && r(), m = v, g = requestAnimationFrame(y);
  }
  return r(), () => {
    var v;
    d.forEach((b) => {
      s && b.removeEventListener("scroll", r), i && b.removeEventListener("resize", r);
    }), f == null || f(), (v = p) == null || v.disconnect(), p = null, l && cancelAnimationFrame(g);
  };
}
const Wre = mre, Kre = gre, Hre = fre, Yre = vre, Gre = hre, tA = dre, Zre = yre, Xre = (e, t, r) => {
  const n = /* @__PURE__ */ new Map(), s = {
    platform: Ure,
    ...r
  }, i = {
    ...s.platform,
    _c: n
  };
  return ure(e, t, {
    ...s,
    platform: i
  });
};
var Jre = typeof document < "u", Qre = function() {
}, og = Jre ? rl : Qre;
function qg(e, t) {
  if (e === t)
    return !0;
  if (typeof e != typeof t)
    return !1;
  if (typeof e == "function" && e.toString() === t.toString())
    return !0;
  let r, n, s;
  if (e && t && typeof e == "object") {
    if (Array.isArray(e)) {
      if (r = e.length, r !== t.length) return !1;
      for (n = r; n-- !== 0; )
        if (!qg(e[n], t[n]))
          return !1;
      return !0;
    }
    if (s = Object.keys(e), r = s.length, r !== Object.keys(t).length)
      return !1;
    for (n = r; n-- !== 0; )
      if (!{}.hasOwnProperty.call(t, s[n]))
        return !1;
    for (n = r; n-- !== 0; ) {
      const i = s[n];
      if (!(i === "_owner" && e.$$typeof) && !qg(e[i], t[i]))
        return !1;
    }
    return !0;
  }
  return e !== e && t !== t;
}
function _4(e) {
  return typeof window > "u" ? 1 : (e.ownerDocument.defaultView || window).devicePixelRatio || 1;
}
function rA(e, t) {
  const r = _4(e);
  return Math.round(t * r) / r;
}
function B0(e) {
  const t = _.useRef(e);
  return og(() => {
    t.current = e;
  }), t;
}
function ene(e) {
  e === void 0 && (e = {});
  const {
    placement: t = "bottom",
    strategy: r = "absolute",
    middleware: n = [],
    platform: s,
    elements: {
      reference: i,
      floating: o
    } = {},
    transform: a = !0,
    whileElementsMounted: l,
    open: c
  } = e, [d, f] = _.useState({
    x: 0,
    y: 0,
    strategy: r,
    placement: t,
    middlewareData: {},
    isPositioned: !1
  }), [h, p] = _.useState(n);
  qg(h, n) || p(n);
  const [g, m] = _.useState(null), [y, v] = _.useState(null), b = _.useCallback((Z) => {
    Z !== j.current && (j.current = Z, m(Z));
  }, []), x = _.useCallback((Z) => {
    Z !== N.current && (N.current = Z, v(Z));
  }, []), S = i || g, w = o || y, j = _.useRef(null), N = _.useRef(null), k = _.useRef(d), C = l != null, $ = B0(l), I = B0(s), M = B0(c), O = _.useCallback(() => {
    if (!j.current || !N.current)
      return;
    const Z = {
      placement: t,
      strategy: r,
      middleware: h
    };
    I.current && (Z.platform = I.current), Xre(j.current, N.current, Z).then((ie) => {
      const D = {
        ...ie,
        // The floating element's position may be recomputed while it's closed
        // but still mounted (such as when transitioning out). To ensure
        // `isPositioned` will be `false` initially on the next open, avoid
        // setting it to `true` when `open === false` (must be specified).
        isPositioned: M.current !== !1
      };
      z.current && !qg(k.current, D) && (k.current = D, UR.flushSync(() => {
        f(D);
      }));
    });
  }, [h, t, r, I, M]);
  og(() => {
    c === !1 && k.current.isPositioned && (k.current.isPositioned = !1, f((Z) => ({
      ...Z,
      isPositioned: !1
    })));
  }, [c]);
  const z = _.useRef(!1);
  og(() => (z.current = !0, () => {
    z.current = !1;
  }), []), og(() => {
    if (S && (j.current = S), w && (N.current = w), S && w) {
      if ($.current)
        return $.current(S, w, O);
      O();
    }
  }, [S, w, O, $, C]);
  const U = _.useMemo(() => ({
    reference: j,
    floating: N,
    setReference: b,
    setFloating: x
  }), [b, x]), G = _.useMemo(() => ({
    reference: S,
    floating: w
  }), [S, w]), q = _.useMemo(() => {
    const Z = {
      position: r,
      left: 0,
      top: 0
    };
    if (!G.floating)
      return Z;
    const ie = rA(G.floating, d.x), D = rA(G.floating, d.y);
    return a ? {
      ...Z,
      transform: "translate(" + ie + "px, " + D + "px)",
      ..._4(G.floating) >= 1.5 && {
        willChange: "transform"
      }
    } : {
      position: r,
      left: ie,
      top: D
    };
  }, [r, a, G.floating, d.x, d.y]);
  return _.useMemo(() => ({
    ...d,
    update: O,
    refs: U,
    elements: G,
    floatingStyles: q
  }), [d, O, U, G, q]);
}
const tne = (e) => {
  function t(r) {
    return {}.hasOwnProperty.call(r, "current");
  }
  return {
    name: "arrow",
    options: e,
    fn(r) {
      const {
        element: n,
        padding: s
      } = typeof e == "function" ? e(r) : e;
      return n && t(n) ? n.current != null ? tA({
        element: n.current,
        padding: s
      }).fn(r) : {} : n ? tA({
        element: n,
        padding: s
      }).fn(r) : {};
    }
  };
}, rne = (e, t) => ({
  ...Wre(e),
  options: [e, t]
}), nne = (e, t) => ({
  ...Kre(e),
  options: [e, t]
}), sne = (e, t) => ({
  ...Zre(e),
  options: [e, t]
}), ine = (e, t) => ({
  ...Hre(e),
  options: [e, t]
}), one = (e, t) => ({
  ...Yre(e),
  options: [e, t]
}), ane = (e, t) => ({
  ...Gre(e),
  options: [e, t]
}), lne = (e, t) => ({
  ...tne(e),
  options: [e, t]
});
function cne(e) {
  const [t, r] = L(void 0);
  return Mo(() => {
    if (e) {
      r({
        width: e.offsetWidth,
        height: e.offsetHeight
      });
      const n = new ResizeObserver((s) => {
        if (!Array.isArray(s) || !s.length) return;
        const i = s[0];
        let o, a;
        if ("borderBoxSize" in i) {
          const l = i.borderBoxSize, c = Array.isArray(l) ? l[0] : l;
          o = c.inlineSize, a = c.blockSize;
        } else
          o = e.offsetWidth, a = e.offsetHeight;
        r({
          width: o,
          height: a
        });
      });
      return n.observe(e, {
        box: "border-box"
      }), () => n.unobserve(e);
    } else
      r(void 0);
  }, [
    e
  ]), t;
}
const S4 = "Popper", [E4, j4] = fE(S4), [une, N4] = E4(S4), dne = (e) => {
  const { __scopePopper: t, children: r } = e, [n, s] = L(null);
  return /* @__PURE__ */ $e(une, {
    scope: t,
    anchor: n,
    onAnchorChange: s
  }, r);
}, fne = "PopperAnchor", hne = /* @__PURE__ */ rt((e, t) => {
  const { __scopePopper: r, virtualRef: n, ...s } = e, i = N4(fne, r), o = We(null), a = Wn(t, o);
  return ve(() => {
    i.onAnchorChange((n == null ? void 0 : n.current) || o.current);
  }), n ? null : /* @__PURE__ */ $e(nn.div, jt({}, s, {
    ref: a
  }));
}), k4 = "PopperContent", [pne, N$e] = E4(k4), mne = /* @__PURE__ */ rt((e, t) => {
  var r, n, s, i, o, a, l, c;
  const { __scopePopper: d, side: f = "bottom", sideOffset: h = 0, align: p = "center", alignOffset: g = 0, arrowPadding: m = 0, collisionBoundary: y = [], collisionPadding: v = 0, sticky: b = "partial", hideWhenDetached: x = !1, avoidCollisions: S = !0, onPlaced: w, ...j } = e, N = N4(k4, d), [k, C] = L(null), $ = Wn(
    t,
    (ke) => C(ke)
  ), [I, M] = L(null), O = cne(I), z = (r = O == null ? void 0 : O.width) !== null && r !== void 0 ? r : 0, U = (n = O == null ? void 0 : O.height) !== null && n !== void 0 ? n : 0, G = f + (p !== "center" ? "-" + p : ""), q = typeof v == "number" ? v : {
    top: 0,
    right: 0,
    bottom: 0,
    left: 0,
    ...v
  }, Z = Array.isArray(y) ? y : [
    y
  ], ie = Z.length > 0, D = {
    padding: q,
    boundary: Z.filter(gne),
    // with `strategy: 'fixed'`, this is the only way to get it to respect boundaries
    altBoundary: ie
  }, { refs: B, floatingStyles: X, placement: oe, isPositioned: W, middlewareData: K } = ene({
    // default to `fixed` strategy so users don't have to pick and we also avoid focus scroll issues
    strategy: "fixed",
    placement: G,
    whileElementsMounted: Vre,
    elements: {
      reference: N.anchor
    },
    middleware: [
      rne({
        mainAxis: h + U,
        alignmentAxis: g
      }),
      S && nne({
        mainAxis: !0,
        crossAxis: !1,
        limiter: b === "partial" ? sne() : void 0,
        ...D
      }),
      S && ine({
        ...D
      }),
      one({
        ...D,
        apply: ({ elements: ke, rects: Ve, availableWidth: He, availableHeight: lt }) => {
          const { width: Tt, height: Rt } = Ve.reference, R = ke.floating.style;
          R.setProperty("--radix-popper-available-width", `${He}px`), R.setProperty("--radix-popper-available-height", `${lt}px`), R.setProperty("--radix-popper-anchor-width", `${Tt}px`), R.setProperty("--radix-popper-anchor-height", `${Rt}px`);
        }
      }),
      I && lne({
        element: I,
        padding: m
      }),
      yne({
        arrowWidth: z,
        arrowHeight: U
      }),
      x && ane({
        strategy: "referenceHidden"
      })
    ]
  }), [ee, te] = C4(oe), ue = Io(w);
  Mo(() => {
    W && (ue == null || ue());
  }, [
    W,
    ue
  ]);
  const V = (s = K.arrow) === null || s === void 0 ? void 0 : s.x, H = (i = K.arrow) === null || i === void 0 ? void 0 : i.y, se = ((o = K.arrow) === null || o === void 0 ? void 0 : o.centerOffset) !== 0, [P, be] = L();
  return Mo(() => {
    k && be(window.getComputedStyle(k).zIndex);
  }, [
    k
  ]), /* @__PURE__ */ $e("div", {
    ref: B.setFloating,
    "data-radix-popper-content-wrapper": "",
    style: {
      ...X,
      transform: W ? X.transform : "translate(0, -200%)",
      // keep off the page when measuring
      minWidth: "max-content",
      zIndex: P,
      "--radix-popper-transform-origin": [
        (a = K.transformOrigin) === null || a === void 0 ? void 0 : a.x,
        (l = K.transformOrigin) === null || l === void 0 ? void 0 : l.y
      ].join(" ")
    },
    dir: e.dir
  }, /* @__PURE__ */ $e(pne, {
    scope: d,
    placedSide: ee,
    onArrowChange: M,
    arrowX: V,
    arrowY: H,
    shouldHideArrow: se
  }, /* @__PURE__ */ $e(nn.div, jt({
    "data-side": ee,
    "data-align": te
  }, j, {
    ref: $,
    style: {
      ...j.style,
      // if the PopperContent hasn't been placed yet (not all measurements done)
      // we prevent animations so that users's animation don't kick in too early referring wrong sides
      animation: W ? void 0 : "none",
      // hide the content if using the hide middleware and should be hidden
      opacity: (c = K.hide) !== null && c !== void 0 && c.referenceHidden ? 0 : void 0
    }
  }))));
});
function gne(e) {
  return e !== null;
}
const yne = (e) => ({
  name: "transformOrigin",
  options: e,
  fn(t) {
    var r, n, s, i, o;
    const { placement: a, rects: l, middlewareData: c } = t, f = ((r = c.arrow) === null || r === void 0 ? void 0 : r.centerOffset) !== 0, h = f ? 0 : e.arrowWidth, p = f ? 0 : e.arrowHeight, [g, m] = C4(a), y = {
      start: "0%",
      center: "50%",
      end: "100%"
    }[m], v = ((n = (s = c.arrow) === null || s === void 0 ? void 0 : s.x) !== null && n !== void 0 ? n : 0) + h / 2, b = ((i = (o = c.arrow) === null || o === void 0 ? void 0 : o.y) !== null && i !== void 0 ? i : 0) + p / 2;
    let x = "", S = "";
    return g === "bottom" ? (x = f ? y : `${v}px`, S = `${-p}px`) : g === "top" ? (x = f ? y : `${v}px`, S = `${l.floating.height + p}px`) : g === "right" ? (x = `${-p}px`, S = f ? y : `${b}px`) : g === "left" && (x = `${l.floating.width + p}px`, S = f ? y : `${b}px`), {
      data: {
        x,
        y: S
      }
    };
  }
});
function C4(e) {
  const [t, r = "center"] = e.split("-");
  return [
    t,
    r
  ];
}
const vne = dne, bne = hne, xne = mne, wne = /* @__PURE__ */ rt((e, t) => {
  var r;
  const { container: n = globalThis == null || (r = globalThis.document) === null || r === void 0 ? void 0 : r.body, ...s } = e;
  return n ? /* @__PURE__ */ qR.createPortal(/* @__PURE__ */ $e(nn.div, jt({}, s, {
    ref: t
  })), n) : null;
});
function nA({ prop: e, defaultProp: t, onChange: r = () => {
} }) {
  const [n, s] = _ne({
    defaultProp: t,
    onChange: r
  }), i = e !== void 0, o = i ? e : n, a = Io(r), l = ze((c) => {
    if (i) {
      const f = typeof c == "function" ? c(e) : c;
      f !== e && a(f);
    } else s(c);
  }, [
    i,
    e,
    s,
    a
  ]);
  return [
    o,
    l
  ];
}
function _ne({ defaultProp: e, onChange: t }) {
  const r = L(e), [n] = r, s = We(n), i = Io(t);
  return ve(() => {
    s.current !== n && (i(n), s.current = n);
  }, [
    n,
    s,
    i
  ]), r;
}
function Sne(e) {
  const t = We({
    value: e,
    previous: e
  });
  return Ht(() => (t.current.value !== e && (t.current.previous = t.current.value, t.current.value = e), t.current.previous), [
    e
  ]);
}
const Ene = /* @__PURE__ */ rt((e, t) => /* @__PURE__ */ $e(nn.span, jt({}, e, {
  ref: t,
  style: {
    // See: https://github.com/twbs/bootstrap/blob/master/scss/mixins/_screen-reader.scss
    position: "absolute",
    border: 0,
    width: 1,
    height: 1,
    padding: 0,
    margin: -1,
    overflow: "hidden",
    clip: "rect(0, 0, 0, 0)",
    whiteSpace: "nowrap",
    wordWrap: "normal",
    ...e.style
  }
})));
var T4 = DI(), z0 = function() {
}, Dv = _.forwardRef(function(e, t) {
  var r = _.useRef(null), n = _.useState({
    onScrollCapture: z0,
    onWheelCapture: z0,
    onTouchMoveCapture: z0
  }), s = n[0], i = n[1], o = e.forwardProps, a = e.children, l = e.className, c = e.removeScrollBar, d = e.enabled, f = e.shards, h = e.sideCar, p = e.noIsolation, g = e.inert, m = e.allowPinchZoom, y = e.as, v = y === void 0 ? "div" : y, b = CS(e, ["forwardProps", "children", "className", "removeScrollBar", "enabled", "shards", "sideCar", "noIsolation", "inert", "allowPinchZoom", "as"]), x = h, S = OI([r, t]), w = hn(hn({}, b), s);
  return _.createElement(
    _.Fragment,
    null,
    d && _.createElement(x, { sideCar: T4, removeScrollBar: c, shards: f, noIsolation: p, inert: g, setCallbacks: i, allowPinchZoom: !!m, lockRef: r }),
    o ? _.cloneElement(_.Children.only(a), hn(hn({}, w), { ref: S })) : _.createElement(v, hn({}, w, { className: l, ref: S }), a)
  );
});
Dv.defaultProps = {
  enabled: !0,
  removeScrollBar: !0,
  inert: !1
};
Dv.classNames = {
  fullWidth: Ff,
  zeroRight: Lf
};
var t1 = !1;
if (typeof window < "u")
  try {
    var mm = Object.defineProperty({}, "passive", {
      get: function() {
        return t1 = !0, !0;
      }
    });
    window.addEventListener("test", mm, mm), window.removeEventListener("test", mm, mm);
  } catch {
    t1 = !1;
  }
var Wc = t1 ? { passive: !1 } : !1, jne = function(e) {
  return e.tagName === "TEXTAREA";
}, A4 = function(e, t) {
  var r = window.getComputedStyle(e);
  return (
    // not-not-scrollable
    r[t] !== "hidden" && // contains scroll inside self
    !(r.overflowY === r.overflowX && !jne(e) && r[t] === "visible")
  );
}, Nne = function(e) {
  return A4(e, "overflowY");
}, kne = function(e) {
  return A4(e, "overflowX");
}, sA = function(e, t) {
  var r = t;
  do {
    typeof ShadowRoot < "u" && r instanceof ShadowRoot && (r = r.host);
    var n = P4(e, r);
    if (n) {
      var s = O4(e, r), i = s[1], o = s[2];
      if (i > o)
        return !0;
    }
    r = r.parentNode;
  } while (r && r !== document.body);
  return !1;
}, Cne = function(e) {
  var t = e.scrollTop, r = e.scrollHeight, n = e.clientHeight;
  return [
    t,
    r,
    n
  ];
}, Tne = function(e) {
  var t = e.scrollLeft, r = e.scrollWidth, n = e.clientWidth;
  return [
    t,
    r,
    n
  ];
}, P4 = function(e, t) {
  return e === "v" ? Nne(t) : kne(t);
}, O4 = function(e, t) {
  return e === "v" ? Cne(t) : Tne(t);
}, Ane = function(e, t) {
  return e === "h" && t === "rtl" ? -1 : 1;
}, Pne = function(e, t, r, n, s) {
  var i = Ane(e, window.getComputedStyle(t).direction), o = i * n, a = r.target, l = t.contains(a), c = !1, d = o > 0, f = 0, h = 0;
  do {
    var p = O4(e, a), g = p[0], m = p[1], y = p[2], v = m - y - i * g;
    (g || v) && P4(e, a) && (f += v, h += g), a = a.parentNode;
  } while (
    // portaled content
    !l && a !== document.body || // self content
    l && (t.contains(a) || t === a)
  );
  return (d && f === 0 || !d && h === 0) && (c = !0), c;
}, gm = function(e) {
  return "changedTouches" in e ? [e.changedTouches[0].clientX, e.changedTouches[0].clientY] : [0, 0];
}, iA = function(e) {
  return [e.deltaX, e.deltaY];
}, oA = function(e) {
  return e && "current" in e ? e.current : e;
}, One = function(e, t) {
  return e[0] === t[0] && e[1] === t[1];
}, Dne = function(e) {
  return `
  .block-interactivity-`.concat(e, ` {pointer-events: none;}
  .allow-interactivity-`).concat(e, ` {pointer-events: all;}
`);
}, $ne = 0, Kc = [];
function Rne(e) {
  var t = _.useRef([]), r = _.useRef([0, 0]), n = _.useRef(), s = _.useState($ne++)[0], i = _.useState(function() {
    return TS();
  })[0], o = _.useRef(e);
  _.useEffect(function() {
    o.current = e;
  }, [e]), _.useEffect(function() {
    if (e.inert) {
      document.body.classList.add("block-interactivity-".concat(s));
      var m = PI([e.lockRef.current], (e.shards || []).map(oA), !0).filter(Boolean);
      return m.forEach(function(y) {
        return y.classList.add("allow-interactivity-".concat(s));
      }), function() {
        document.body.classList.remove("block-interactivity-".concat(s)), m.forEach(function(y) {
          return y.classList.remove("allow-interactivity-".concat(s));
        });
      };
    }
  }, [e.inert, e.lockRef.current, e.shards]);
  var a = _.useCallback(function(m, y) {
    if ("touches" in m && m.touches.length === 2)
      return !o.current.allowPinchZoom;
    var v = gm(m), b = r.current, x = "deltaX" in m ? m.deltaX : b[0] - v[0], S = "deltaY" in m ? m.deltaY : b[1] - v[1], w, j = m.target, N = Math.abs(x) > Math.abs(S) ? "h" : "v";
    if ("touches" in m && N === "h" && j.type === "range")
      return !1;
    var k = sA(N, j);
    if (!k)
      return !0;
    if (k ? w = N : (w = N === "v" ? "h" : "v", k = sA(N, j)), !k)
      return !1;
    if (!n.current && "changedTouches" in m && (x || S) && (n.current = w), !w)
      return !0;
    var C = n.current || w;
    return Pne(C, y, m, C === "h" ? x : S);
  }, []), l = _.useCallback(function(m) {
    var y = m;
    if (!(!Kc.length || Kc[Kc.length - 1] !== i)) {
      var v = "deltaY" in y ? iA(y) : gm(y), b = t.current.filter(function(w) {
        return w.name === y.type && w.target === y.target && One(w.delta, v);
      })[0];
      if (b && b.should) {
        y.cancelable && y.preventDefault();
        return;
      }
      if (!b) {
        var x = (o.current.shards || []).map(oA).filter(Boolean).filter(function(w) {
          return w.contains(y.target);
        }), S = x.length > 0 ? a(y, x[0]) : !o.current.noIsolation;
        S && y.cancelable && y.preventDefault();
      }
    }
  }, []), c = _.useCallback(function(m, y, v, b) {
    var x = { name: m, delta: y, target: v, should: b };
    t.current.push(x), setTimeout(function() {
      t.current = t.current.filter(function(S) {
        return S !== x;
      });
    }, 1);
  }, []), d = _.useCallback(function(m) {
    r.current = gm(m), n.current = void 0;
  }, []), f = _.useCallback(function(m) {
    c(m.type, iA(m), m.target, a(m, e.lockRef.current));
  }, []), h = _.useCallback(function(m) {
    c(m.type, gm(m), m.target, a(m, e.lockRef.current));
  }, []);
  _.useEffect(function() {
    return Kc.push(i), e.setCallbacks({
      onScrollCapture: f,
      onWheelCapture: f,
      onTouchMoveCapture: h
    }), document.addEventListener("wheel", l, Wc), document.addEventListener("touchmove", l, Wc), document.addEventListener("touchstart", d, Wc), function() {
      Kc = Kc.filter(function(m) {
        return m !== i;
      }), document.removeEventListener("wheel", l, Wc), document.removeEventListener("touchmove", l, Wc), document.removeEventListener("touchstart", d, Wc);
    };
  }, []);
  var p = e.removeScrollBar, g = e.inert;
  return _.createElement(
    _.Fragment,
    null,
    g ? _.createElement(i, { styles: Dne(s) }) : null,
    p ? _.createElement(MI, { gapMode: "margin" }) : null
  );
}
const Ine = RI(T4, Rne);
var D4 = _.forwardRef(function(e, t) {
  return _.createElement(Dv, hn({}, e, { ref: t, sideCar: Ine }));
});
D4.classNames = Dv.classNames;
const Mne = [
  " ",
  "Enter",
  "ArrowUp",
  "ArrowDown"
], Lne = [
  " ",
  "Enter"
], $v = "Select", [Rv, xE, Fne] = Pte($v), [bd, k$e] = fE($v, [
  Fne,
  j4
]), wE = j4(), [Bne, _c] = bd($v), [zne, Une] = bd($v), qne = (e) => {
  const { __scopeSelect: t, children: r, open: n, defaultOpen: s, onOpenChange: i, value: o, defaultValue: a, onValueChange: l, dir: c, name: d, autoComplete: f, disabled: h, required: p } = e, g = wE(t), [m, y] = L(null), [v, b] = L(null), [x, S] = L(!1), w = Dte(c), [j = !1, N] = nA({
    prop: n,
    defaultProp: s,
    onChange: i
  }), [k, C] = nA({
    prop: o,
    defaultProp: a,
    onChange: l
  }), $ = We(null), I = m ? !!m.closest("form") : !0, [M, O] = L(/* @__PURE__ */ new Set()), z = Array.from(M).map(
    (U) => U.props.value
  ).join(";");
  return /* @__PURE__ */ $e(vne, g, /* @__PURE__ */ $e(Bne, {
    required: p,
    scope: t,
    trigger: m,
    onTriggerChange: y,
    valueNode: v,
    onValueNodeChange: b,
    valueNodeHasChildren: x,
    onValueNodeHasChildrenChange: S,
    contentId: hE(),
    value: k,
    onValueChange: C,
    open: j,
    onOpenChange: N,
    dir: w,
    triggerPointerDownPosRef: $,
    disabled: h
  }, /* @__PURE__ */ $e(Rv.Provider, {
    scope: t
  }, /* @__PURE__ */ $e(zne, {
    scope: e.__scopeSelect,
    onNativeOptionAdd: ze((U) => {
      O(
        (G) => new Set(G).add(U)
      );
    }, []),
    onNativeOptionRemove: ze((U) => {
      O((G) => {
        const q = new Set(G);
        return q.delete(U), q;
      });
    }, [])
  }, r)), I ? /* @__PURE__ */ $e(I4, {
    key: z,
    "aria-hidden": !0,
    required: p,
    tabIndex: -1,
    name: d,
    autoComplete: f,
    value: k,
    onChange: (U) => C(U.target.value),
    disabled: h
  }, k === void 0 ? /* @__PURE__ */ $e("option", {
    value: ""
  }) : null, Array.from(M)) : null));
}, Vne = "SelectTrigger", Wne = /* @__PURE__ */ rt((e, t) => {
  const { __scopeSelect: r, disabled: n = !1, ...s } = e, i = wE(r), o = _c(Vne, r), a = o.disabled || n, l = Wn(t, o.onTriggerChange), c = xE(r), [d, f, h] = M4((g) => {
    const m = c().filter(
      (b) => !b.disabled
    ), y = m.find(
      (b) => b.value === o.value
    ), v = L4(m, g, y);
    v !== void 0 && o.onValueChange(v.value);
  }), p = () => {
    a || (o.onOpenChange(!0), h());
  };
  return /* @__PURE__ */ $e(bne, jt({
    asChild: !0
  }, i), /* @__PURE__ */ $e(nn.button, jt({
    type: "button",
    role: "combobox",
    "aria-controls": o.contentId,
    "aria-expanded": o.open,
    "aria-required": o.required,
    "aria-autocomplete": "none",
    dir: o.dir,
    "data-state": o.open ? "open" : "closed",
    disabled: a,
    "data-disabled": a ? "" : void 0,
    "data-placeholder": o.value === void 0 ? "" : void 0
  }, s, {
    ref: l,
    onClick: jn(s.onClick, (g) => {
      g.currentTarget.focus();
    }),
    onPointerDown: jn(s.onPointerDown, (g) => {
      const m = g.target;
      m.hasPointerCapture(g.pointerId) && m.releasePointerCapture(g.pointerId), g.button === 0 && g.ctrlKey === !1 && (p(), o.triggerPointerDownPosRef.current = {
        x: Math.round(g.pageX),
        y: Math.round(g.pageY)
      }, g.preventDefault());
    }),
    onKeyDown: jn(s.onKeyDown, (g) => {
      const m = d.current !== "";
      !(g.ctrlKey || g.altKey || g.metaKey) && g.key.length === 1 && f(g.key), !(m && g.key === " ") && Mne.includes(g.key) && (p(), g.preventDefault());
    })
  })));
}), Kne = "SelectValue", Hne = /* @__PURE__ */ rt((e, t) => {
  const { __scopeSelect: r, className: n, style: s, children: i, placeholder: o, ...a } = e, l = _c(Kne, r), { onValueNodeHasChildrenChange: c } = l, d = i !== void 0, f = Wn(t, l.onValueNodeChange);
  return Mo(() => {
    c(d);
  }, [
    c,
    d
  ]), /* @__PURE__ */ $e(nn.span, jt({}, a, {
    ref: f,
    style: {
      pointerEvents: "none"
    }
  }), l.value === void 0 && o !== void 0 ? o : i);
}), Yne = /* @__PURE__ */ rt((e, t) => {
  const { __scopeSelect: r, children: n, ...s } = e;
  return /* @__PURE__ */ $e(nn.span, jt({
    "aria-hidden": !0
  }, s, {
    ref: t
  }), n || "");
}), Gne = (e) => /* @__PURE__ */ $e(wne, jt({
  asChild: !0
}, e)), Wu = "SelectContent", Zne = /* @__PURE__ */ rt((e, t) => {
  const r = _c(Wu, e.__scopeSelect), [n, s] = L();
  if (Mo(() => {
    s(new DocumentFragment());
  }, []), !r.open) {
    const i = n;
    return i ? /* @__PURE__ */ Zh(/* @__PURE__ */ $e($4, {
      scope: e.__scopeSelect
    }, /* @__PURE__ */ $e(Rv.Slot, {
      scope: e.__scopeSelect
    }, /* @__PURE__ */ $e("div", null, e.children))), i) : null;
  }
  return /* @__PURE__ */ $e(Xne, jt({}, e, {
    ref: t
  }));
}), _o = 10, [$4, Iv] = bd(Wu), Xne = /* @__PURE__ */ rt((e, t) => {
  const {
    __scopeSelect: r,
    position: n = "item-aligned",
    onCloseAutoFocus: s,
    onEscapeKeyDown: i,
    onPointerDownOutside: o,
    side: a,
    sideOffset: l,
    align: c,
    alignOffset: d,
    arrowPadding: f,
    collisionBoundary: h,
    collisionPadding: p,
    sticky: g,
    hideWhenDetached: m,
    avoidCollisions: y,
    //
    ...v
  } = e, b = _c(Wu, r), [x, S] = L(null), [w, j] = L(null), N = Wn(
    t,
    (te) => S(te)
  ), [k, C] = L(null), [$, I] = L(null), M = xE(r), [O, z] = L(!1), U = We(!1);
  ve(() => {
    if (x) return qI(x);
  }, [
    x
  ]), qte();
  const G = ze((te) => {
    const [ue, ...V] = M().map(
      (P) => P.ref.current
    ), [H] = V.slice(-1), se = document.activeElement;
    for (const P of te)
      if (P === se || (P == null || P.scrollIntoView({
        block: "nearest"
      }), P === ue && w && (w.scrollTop = 0), P === H && w && (w.scrollTop = w.scrollHeight), P == null || P.focus(), document.activeElement !== se)) return;
  }, [
    M,
    w
  ]), q = ze(
    () => G([
      k,
      x
    ]),
    [
      G,
      k,
      x
    ]
  );
  ve(() => {
    O && q();
  }, [
    O,
    q
  ]);
  const { onOpenChange: Z, triggerPointerDownPosRef: ie } = b;
  ve(() => {
    if (x) {
      let te = {
        x: 0,
        y: 0
      };
      const ue = (H) => {
        var se, P, be, ke;
        te = {
          x: Math.abs(Math.round(H.pageX) - ((se = (P = ie.current) === null || P === void 0 ? void 0 : P.x) !== null && se !== void 0 ? se : 0)),
          y: Math.abs(Math.round(H.pageY) - ((be = (ke = ie.current) === null || ke === void 0 ? void 0 : ke.y) !== null && be !== void 0 ? be : 0))
        };
      }, V = (H) => {
        te.x <= 10 && te.y <= 10 ? H.preventDefault() : x.contains(H.target) || Z(!1), document.removeEventListener("pointermove", ue), ie.current = null;
      };
      return ie.current !== null && (document.addEventListener("pointermove", ue), document.addEventListener("pointerup", V, {
        capture: !0,
        once: !0
      })), () => {
        document.removeEventListener("pointermove", ue), document.removeEventListener("pointerup", V, {
          capture: !0
        });
      };
    }
  }, [
    x,
    Z,
    ie
  ]), ve(() => {
    const te = () => Z(!1);
    return window.addEventListener("blur", te), window.addEventListener("resize", te), () => {
      window.removeEventListener("blur", te), window.removeEventListener("resize", te);
    };
  }, [
    Z
  ]);
  const [D, B] = M4((te) => {
    const ue = M().filter(
      (se) => !se.disabled
    ), V = ue.find(
      (se) => se.ref.current === document.activeElement
    ), H = L4(ue, te, V);
    H && setTimeout(
      () => H.ref.current.focus()
    );
  }), X = ze((te, ue, V) => {
    const H = !U.current && !V;
    (b.value !== void 0 && b.value === ue || H) && (C(te), H && (U.current = !0));
  }, [
    b.value
  ]), oe = ze(
    () => x == null ? void 0 : x.focus(),
    [
      x
    ]
  ), W = ze((te, ue, V) => {
    const H = !U.current && !V;
    (b.value !== void 0 && b.value === ue || H) && I(te);
  }, [
    b.value
  ]), K = n === "popper" ? aA : Jne, ee = K === aA ? {
    side: a,
    sideOffset: l,
    align: c,
    alignOffset: d,
    arrowPadding: f,
    collisionBoundary: h,
    collisionPadding: p,
    sticky: g,
    hideWhenDetached: m,
    avoidCollisions: y
  } : {};
  return /* @__PURE__ */ $e($4, {
    scope: r,
    content: x,
    viewport: w,
    onViewportChange: j,
    itemRefCallback: X,
    selectedItem: k,
    onItemLeave: oe,
    itemTextRefCallback: W,
    focusSelectedItem: q,
    selectedItemText: $,
    position: n,
    isPositioned: O,
    searchRef: D
  }, /* @__PURE__ */ $e(D4, {
    as: hh,
    allowPinchZoom: !0
  }, /* @__PURE__ */ $e(Vte, {
    asChild: !0,
    trapped: b.open,
    onMountAutoFocus: (te) => {
      te.preventDefault();
    },
    onUnmountAutoFocus: jn(s, (te) => {
      var ue;
      (ue = b.trigger) === null || ue === void 0 || ue.focus({
        preventScroll: !0
      }), te.preventDefault();
    })
  }, /* @__PURE__ */ $e(Bte, {
    asChild: !0,
    disableOutsidePointerEvents: !0,
    onEscapeKeyDown: i,
    onPointerDownOutside: o,
    onFocusOutside: (te) => te.preventDefault(),
    onDismiss: () => b.onOpenChange(!1)
  }, /* @__PURE__ */ $e(K, jt({
    role: "listbox",
    id: b.contentId,
    "data-state": b.open ? "open" : "closed",
    dir: b.dir,
    onContextMenu: (te) => te.preventDefault()
  }, v, ee, {
    onPlaced: () => z(!0),
    ref: N,
    style: {
      // flex layout so we can place the scroll buttons properly
      display: "flex",
      flexDirection: "column",
      // reset the outline by default as the content MAY get focused
      outline: "none",
      ...v.style
    },
    onKeyDown: jn(v.onKeyDown, (te) => {
      const ue = te.ctrlKey || te.altKey || te.metaKey;
      if (te.key === "Tab" && te.preventDefault(), !ue && te.key.length === 1 && B(te.key), [
        "ArrowUp",
        "ArrowDown",
        "Home",
        "End"
      ].includes(te.key)) {
        let H = M().filter(
          (se) => !se.disabled
        ).map(
          (se) => se.ref.current
        );
        if ([
          "ArrowUp",
          "End"
        ].includes(te.key) && (H = H.slice().reverse()), [
          "ArrowUp",
          "ArrowDown"
        ].includes(te.key)) {
          const se = te.target, P = H.indexOf(se);
          H = H.slice(P + 1);
        }
        setTimeout(
          () => G(H)
        ), te.preventDefault();
      }
    })
  }))))));
}), Jne = /* @__PURE__ */ rt((e, t) => {
  const { __scopeSelect: r, onPlaced: n, ...s } = e, i = _c(Wu, r), o = Iv(Wu, r), [a, l] = L(null), [c, d] = L(null), f = Wn(
    t,
    (N) => d(N)
  ), h = xE(r), p = We(!1), g = We(!0), { viewport: m, selectedItem: y, selectedItemText: v, focusSelectedItem: b } = o, x = ze(() => {
    if (i.trigger && i.valueNode && a && c && m && y && v) {
      const N = i.trigger.getBoundingClientRect(), k = c.getBoundingClientRect(), C = i.valueNode.getBoundingClientRect(), $ = v.getBoundingClientRect();
      if (i.dir !== "rtl") {
        const se = $.left - k.left, P = C.left - se, be = N.left - P, ke = N.width + be, Ve = Math.max(ke, k.width), He = window.innerWidth - _o, lt = LT(P, [
          _o,
          He - Ve
        ]);
        a.style.minWidth = ke + "px", a.style.left = lt + "px";
      } else {
        const se = k.right - $.right, P = window.innerWidth - C.right - se, be = window.innerWidth - N.right - P, ke = N.width + be, Ve = Math.max(ke, k.width), He = window.innerWidth - _o, lt = LT(P, [
          _o,
          He - Ve
        ]);
        a.style.minWidth = ke + "px", a.style.right = lt + "px";
      }
      const I = h(), M = window.innerHeight - _o * 2, O = m.scrollHeight, z = window.getComputedStyle(c), U = parseInt(z.borderTopWidth, 10), G = parseInt(z.paddingTop, 10), q = parseInt(z.borderBottomWidth, 10), Z = parseInt(z.paddingBottom, 10), ie = U + G + O + Z + q, D = Math.min(y.offsetHeight * 5, ie), B = window.getComputedStyle(m), X = parseInt(B.paddingTop, 10), oe = parseInt(B.paddingBottom, 10), W = N.top + N.height / 2 - _o, K = M - W, ee = y.offsetHeight / 2, te = y.offsetTop + ee, ue = U + G + te, V = ie - ue;
      if (ue <= W) {
        const se = y === I[I.length - 1].ref.current;
        a.style.bottom = "0px";
        const P = c.clientHeight - m.offsetTop - m.offsetHeight, be = Math.max(K, ee + (se ? oe : 0) + P + q), ke = ue + be;
        a.style.height = ke + "px";
      } else {
        const se = y === I[0].ref.current;
        a.style.top = "0px";
        const be = Math.max(W, U + m.offsetTop + (se ? X : 0) + ee) + V;
        a.style.height = be + "px", m.scrollTop = ue - W + m.offsetTop;
      }
      a.style.margin = `${_o}px 0`, a.style.minHeight = D + "px", a.style.maxHeight = M + "px", n == null || n(), requestAnimationFrame(
        () => p.current = !0
      );
    }
  }, [
    h,
    i.trigger,
    i.valueNode,
    a,
    c,
    m,
    y,
    v,
    i.dir,
    n
  ]);
  Mo(
    () => x(),
    [
      x
    ]
  );
  const [S, w] = L();
  Mo(() => {
    c && w(window.getComputedStyle(c).zIndex);
  }, [
    c
  ]);
  const j = ze((N) => {
    N && g.current === !0 && (x(), b == null || b(), g.current = !1);
  }, [
    x,
    b
  ]);
  return /* @__PURE__ */ $e(Qne, {
    scope: r,
    contentWrapper: a,
    shouldExpandOnScrollRef: p,
    onScrollButtonChange: j
  }, /* @__PURE__ */ $e("div", {
    ref: l,
    style: {
      display: "flex",
      flexDirection: "column",
      position: "fixed",
      zIndex: S
    }
  }, /* @__PURE__ */ $e(nn.div, jt({}, s, {
    ref: f,
    style: {
      // When we get the height of the content, it includes borders. If we were to set
      // the height without having `boxSizing: 'border-box'` it would be too big.
      boxSizing: "border-box",
      // We need to ensure the content doesn't get taller than the wrapper
      maxHeight: "100%",
      ...s.style
    }
  }))));
}), aA = /* @__PURE__ */ rt((e, t) => {
  const { __scopeSelect: r, align: n = "start", collisionPadding: s = _o, ...i } = e, o = wE(r);
  return /* @__PURE__ */ $e(xne, jt({}, o, i, {
    ref: t,
    align: n,
    collisionPadding: s,
    style: {
      // Ensure border-box for floating-ui calculations
      boxSizing: "border-box",
      ...i.style,
      "--radix-select-content-transform-origin": "var(--radix-popper-transform-origin)",
      "--radix-select-content-available-width": "var(--radix-popper-available-width)",
      "--radix-select-content-available-height": "var(--radix-popper-available-height)",
      "--radix-select-trigger-width": "var(--radix-popper-anchor-width)",
      "--radix-select-trigger-height": "var(--radix-popper-anchor-height)"
    }
  }));
}), [Qne, ese] = bd(Wu, {}), lA = "SelectViewport", tse = /* @__PURE__ */ rt((e, t) => {
  const { __scopeSelect: r, ...n } = e, s = Iv(lA, r), i = ese(lA, r), o = Wn(t, s.onViewportChange), a = We(0);
  return /* @__PURE__ */ $e(Yh, null, /* @__PURE__ */ $e("style", {
    dangerouslySetInnerHTML: {
      __html: "[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"
    }
  }), /* @__PURE__ */ $e(Rv.Slot, {
    scope: r
  }, /* @__PURE__ */ $e(nn.div, jt({
    "data-radix-select-viewport": "",
    role: "presentation"
  }, n, {
    ref: o,
    style: {
      // we use position: 'relative' here on the `viewport` so that when we call
      // `selectedItem.offsetTop` in calculations, the offset is relative to the viewport
      // (independent of the scrollUpButton).
      position: "relative",
      flex: 1,
      overflow: "auto",
      ...n.style
    },
    onScroll: jn(n.onScroll, (l) => {
      const c = l.currentTarget, { contentWrapper: d, shouldExpandOnScrollRef: f } = i;
      if (f != null && f.current && d) {
        const h = Math.abs(a.current - c.scrollTop);
        if (h > 0) {
          const p = window.innerHeight - _o * 2, g = parseFloat(d.style.minHeight), m = parseFloat(d.style.height), y = Math.max(g, m);
          if (y < p) {
            const v = y + h, b = Math.min(p, v), x = v - b;
            d.style.height = b + "px", d.style.bottom === "0px" && (c.scrollTop = x > 0 ? x : 0, d.style.justifyContent = "flex-end");
          }
        }
      }
      a.current = c.scrollTop;
    })
  }))));
}), rse = "SelectGroup", [nse, sse] = bd(rse), ise = /* @__PURE__ */ rt((e, t) => {
  const { __scopeSelect: r, ...n } = e, s = hE();
  return /* @__PURE__ */ $e(nse, {
    scope: r,
    id: s
  }, /* @__PURE__ */ $e(nn.div, jt({
    role: "group",
    "aria-labelledby": s
  }, n, {
    ref: t
  })));
}), ose = "SelectLabel", ase = /* @__PURE__ */ rt((e, t) => {
  const { __scopeSelect: r, ...n } = e, s = sse(ose, r);
  return /* @__PURE__ */ $e(nn.div, jt({
    id: s.id
  }, n, {
    ref: t
  }));
}), r1 = "SelectItem", [lse, R4] = bd(r1), cse = /* @__PURE__ */ rt((e, t) => {
  const { __scopeSelect: r, value: n, disabled: s = !1, textValue: i, ...o } = e, a = _c(r1, r), l = Iv(r1, r), c = a.value === n, [d, f] = L(i ?? ""), [h, p] = L(!1), g = Wn(t, (v) => {
    var b;
    return (b = l.itemRefCallback) === null || b === void 0 ? void 0 : b.call(l, v, n, s);
  }), m = hE(), y = () => {
    s || (a.onValueChange(n), a.onOpenChange(!1));
  };
  return /* @__PURE__ */ $e(lse, {
    scope: r,
    value: n,
    disabled: s,
    textId: m,
    isSelected: c,
    onItemTextChange: ze((v) => {
      f((b) => {
        var x;
        return b || ((x = v == null ? void 0 : v.textContent) !== null && x !== void 0 ? x : "").trim();
      });
    }, [])
  }, /* @__PURE__ */ $e(Rv.ItemSlot, {
    scope: r,
    value: n,
    disabled: s,
    textValue: d
  }, /* @__PURE__ */ $e(nn.div, jt({
    role: "option",
    "aria-labelledby": m,
    "data-highlighted": h ? "" : void 0,
    "aria-selected": c && h,
    "data-state": c ? "checked" : "unchecked",
    "aria-disabled": s || void 0,
    "data-disabled": s ? "" : void 0,
    tabIndex: s ? void 0 : -1
  }, o, {
    ref: g,
    onFocus: jn(
      o.onFocus,
      () => p(!0)
    ),
    onBlur: jn(
      o.onBlur,
      () => p(!1)
    ),
    onPointerUp: jn(o.onPointerUp, y),
    onPointerMove: jn(o.onPointerMove, (v) => {
      if (s) {
        var b;
        (b = l.onItemLeave) === null || b === void 0 || b.call(l);
      } else
        v.currentTarget.focus({
          preventScroll: !0
        });
    }),
    onPointerLeave: jn(o.onPointerLeave, (v) => {
      if (v.currentTarget === document.activeElement) {
        var b;
        (b = l.onItemLeave) === null || b === void 0 || b.call(l);
      }
    }),
    onKeyDown: jn(o.onKeyDown, (v) => {
      var b;
      ((b = l.searchRef) === null || b === void 0 ? void 0 : b.current) !== "" && v.key === " " || (Lne.includes(v.key) && y(), v.key === " " && v.preventDefault());
    })
  }))));
}), ym = "SelectItemText", use = /* @__PURE__ */ rt((e, t) => {
  const { __scopeSelect: r, className: n, style: s, ...i } = e, o = _c(ym, r), a = Iv(ym, r), l = R4(ym, r), c = Une(ym, r), [d, f] = L(null), h = Wn(
    t,
    (v) => f(v),
    l.onItemTextChange,
    (v) => {
      var b;
      return (b = a.itemTextRefCallback) === null || b === void 0 ? void 0 : b.call(a, v, l.value, l.disabled);
    }
  ), p = d == null ? void 0 : d.textContent, g = Ht(
    () => /* @__PURE__ */ $e("option", {
      key: l.value,
      value: l.value,
      disabled: l.disabled
    }, p),
    [
      l.disabled,
      l.value,
      p
    ]
  ), { onNativeOptionAdd: m, onNativeOptionRemove: y } = c;
  return Mo(() => (m(g), () => y(g)), [
    m,
    y,
    g
  ]), /* @__PURE__ */ $e(Yh, null, /* @__PURE__ */ $e(nn.span, jt({
    id: l.textId
  }, i, {
    ref: h
  })), l.isSelected && o.valueNode && !o.valueNodeHasChildren ? /* @__PURE__ */ Zh(i.children, o.valueNode) : null);
}), dse = "SelectItemIndicator", fse = /* @__PURE__ */ rt((e, t) => {
  const { __scopeSelect: r, ...n } = e;
  return R4(dse, r).isSelected ? /* @__PURE__ */ $e(nn.span, jt({
    "aria-hidden": !0
  }, n, {
    ref: t
  })) : null;
}), hse = /* @__PURE__ */ rt((e, t) => {
  const { __scopeSelect: r, ...n } = e;
  return /* @__PURE__ */ $e(nn.div, jt({
    "aria-hidden": !0
  }, n, {
    ref: t
  }));
}), I4 = /* @__PURE__ */ rt((e, t) => {
  const { value: r, ...n } = e, s = We(null), i = Wn(t, s), o = Sne(r);
  return ve(() => {
    const a = s.current, l = window.HTMLSelectElement.prototype, d = Object.getOwnPropertyDescriptor(l, "value").set;
    if (o !== r && d) {
      const f = new Event("change", {
        bubbles: !0
      });
      d.call(a, r), a.dispatchEvent(f);
    }
  }, [
    o,
    r
  ]), /* @__PURE__ */ $e(Ene, {
    asChild: !0
  }, /* @__PURE__ */ $e("select", jt({}, n, {
    ref: i,
    defaultValue: r
  })));
});
I4.displayName = "BubbleSelect";
function M4(e) {
  const t = Io(e), r = We(""), n = We(0), s = ze((o) => {
    const a = r.current + o;
    t(a), function l(c) {
      r.current = c, window.clearTimeout(n.current), c !== "" && (n.current = window.setTimeout(
        () => l(""),
        1e3
      ));
    }(a);
  }, [
    t
  ]), i = ze(() => {
    r.current = "", window.clearTimeout(n.current);
  }, []);
  return ve(() => () => window.clearTimeout(n.current), []), [
    r,
    s,
    i
  ];
}
function L4(e, t, r) {
  const s = t.length > 1 && Array.from(t).every(
    (c) => c === t[0]
  ) ? t[0] : t, i = r ? e.indexOf(r) : -1;
  let o = pse(e, Math.max(i, 0));
  s.length === 1 && (o = o.filter(
    (c) => c !== r
  ));
  const l = o.find(
    (c) => c.textValue.toLowerCase().startsWith(s.toLowerCase())
  );
  return l !== r ? l : void 0;
}
function pse(e, t) {
  return e.map(
    (r, n) => e[(t + n) % e.length]
  );
}
const mse = qne, F4 = Wne, gse = Hne, yse = Yne, vse = Gne, B4 = Zne, bse = tse, xse = ise, z4 = ase, U4 = cse, wse = use, _se = fse, q4 = hse;
function Sr(...e) {
  return EI(at(e));
}
const vm = mse, C$e = xse, bm = gse, _f = _.forwardRef(({ className: e, children: t, ...r }, n) => u.jsxs(F4, { ref: n, className: Sr("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1", e), ...r, children: [t, u.jsx(yse, { asChild: !0, children: u.jsx(eL, { className: "h-4 w-4 opacity-50" }) })] }));
_f.displayName = F4.displayName;
const Sf = _.forwardRef(({ className: e, children: t, position: r = "popper", ...n }, s) => u.jsx(vse, { children: u.jsx(B4, { ref: s, className: Sr("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:duration-75", r === "popper" && "data-[state=open]:slide-in-from-top-[60%] data-[state=closed]:slide-out-to-top-[60%] data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1", e), position: r, ...n, children: u.jsx(bse, { className: Sr("p-1", r === "popper" && "h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"), children: t }) }) }));
Sf.displayName = B4.displayName;
const Sse = _.forwardRef(({ className: e, ...t }, r) => u.jsx(z4, { ref: r, className: Sr("py-1.5 pl-8 pr-2 text-sm font-semibold", e), ...t }));
Sse.displayName = z4.displayName;
const Di = _.forwardRef(({ className: e, children: t, ...r }, n) => u.jsxs(U4, { ref: n, className: Sr("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50", e), ...r, children: [u.jsx("span", { className: "absolute left-2 flex h-3.5 w-3.5 items-center justify-center", children: u.jsx(_se, { children: u.jsx(eL, { className: "h-4 w-4" }) }) }), u.jsx(wse, { children: t })] }));
Di.displayName = U4.displayName;
const Ese = _.forwardRef(({ className: e, ...t }, r) => u.jsx(q4, { ref: r, className: Sr("-mx-1 my-1 h-px bg-muted", e), ...t }));
Ese.displayName = q4.displayName;
function jse(e) {
  const t = _.useRef({ value: e, previous: e });
  return _.useMemo(() => (t.current.value !== e && (t.current.previous = t.current.value, t.current.value = e), t.current.previous), [e]);
}
function Nse(e) {
  const [t, r] = _.useState(void 0);
  return Bu(() => {
    if (e) {
      r({ width: e.offsetWidth, height: e.offsetHeight });
      const n = new ResizeObserver((s) => {
        if (!Array.isArray(s) || !s.length)
          return;
        const i = s[0];
        let o, a;
        if ("borderBoxSize" in i) {
          const l = i.borderBoxSize, c = Array.isArray(l) ? l[0] : l;
          o = c.inlineSize, a = c.blockSize;
        } else
          o = e.offsetWidth, a = e.offsetHeight;
        r({ width: o, height: a });
      });
      return n.observe(e, { box: "border-box" }), () => n.unobserve(e);
    } else
      r(void 0);
  }, [e]), t;
}
var Mv = "Switch", [kse, T$e] = pd(Mv), [Cse, Tse] = kse(Mv), V4 = _.forwardRef(
  (e, t) => {
    const {
      __scopeSwitch: r,
      name: n,
      checked: s,
      defaultChecked: i,
      required: o,
      disabled: a,
      value: l = "on",
      onCheckedChange: c,
      form: d,
      ...f
    } = e, [h, p] = _.useState(null), g = Vn(t, (x) => p(x)), m = _.useRef(!1), y = h ? d || !!h.closest("form") : !0, [v, b] = cv({
      prop: s,
      defaultProp: i ?? !1,
      onChange: c,
      caller: Mv
    });
    return /* @__PURE__ */ u.jsxs(Cse, { scope: r, checked: v, disabled: a, children: [
      /* @__PURE__ */ u.jsx(
        Hr.button,
        {
          type: "button",
          role: "switch",
          "aria-checked": v,
          "aria-required": o,
          "data-state": Y4(v),
          "data-disabled": a ? "" : void 0,
          disabled: a,
          value: l,
          ...f,
          ref: g,
          onClick: Rr(e.onClick, (x) => {
            b((S) => !S), y && (m.current = x.isPropagationStopped(), m.current || x.stopPropagation());
          })
        }
      ),
      y && /* @__PURE__ */ u.jsx(
        H4,
        {
          control: h,
          bubbles: !m.current,
          name: n,
          value: l,
          checked: v,
          required: o,
          disabled: a,
          form: d,
          style: { transform: "translateX(-100%)" }
        }
      )
    ] });
  }
);
V4.displayName = Mv;
var W4 = "SwitchThumb", K4 = _.forwardRef(
  (e, t) => {
    const { __scopeSwitch: r, ...n } = e, s = Tse(W4, r);
    return /* @__PURE__ */ u.jsx(
      Hr.span,
      {
        "data-state": Y4(s.checked),
        "data-disabled": s.disabled ? "" : void 0,
        ...n,
        ref: t
      }
    );
  }
);
K4.displayName = W4;
var Ase = "SwitchBubbleInput", H4 = _.forwardRef(
  ({
    __scopeSwitch: e,
    control: t,
    checked: r,
    bubbles: n = !0,
    ...s
  }, i) => {
    const o = _.useRef(null), a = Vn(o, i), l = jse(r), c = Nse(t);
    return _.useEffect(() => {
      const d = o.current;
      if (!d) return;
      const f = window.HTMLInputElement.prototype, p = Object.getOwnPropertyDescriptor(
        f,
        "checked"
      ).set;
      if (l !== r && p) {
        const g = new Event("click", { bubbles: n });
        p.call(d, r), d.dispatchEvent(g);
      }
    }, [l, r, n]), /* @__PURE__ */ u.jsx(
      "input",
      {
        type: "checkbox",
        "aria-hidden": !0,
        defaultChecked: r,
        ...s,
        tabIndex: -1,
        ref: a,
        style: {
          ...s.style,
          ...c,
          position: "absolute",
          pointerEvents: "none",
          opacity: 0,
          margin: 0
        }
      }
    );
  }
);
H4.displayName = Ase;
function Y4(e) {
  return e ? "checked" : "unchecked";
}
var G4 = V4, Pse = K4;
const Vg = _.forwardRef(({ className: e, ...t }, r) => u.jsx(G4, { className: Ze("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input", e), ...t, ref: r, children: u.jsx(Pse, { className: Ze("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0") }) }));
Vg.displayName = G4.displayName;
const Ose = nv("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:h-4 [&>svg]:w-4", {
  variants: {
    variant: {
      default: "bg-background text-foreground",
      destructive: "border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",
      success: "border-emerald-500/50 text-emerald-600 dark:text-emerald-400 [&>svg]:text-emerald-600 dark:[&>svg]:text-emerald-400"
    }
  },
  defaultVariants: {
    variant: "default"
  }
}), _E = _.forwardRef(({ className: e, variant: t, ...r }, n) => u.jsx("div", { ref: n, role: "alert", className: Sr(Ose({ variant: t }), e), ...r }));
_E.displayName = "Alert";
const SE = _.forwardRef(({ className: e, ...t }, r) => u.jsx("h5", { ref: r, className: Sr("mb-1 font-medium leading-none tracking-tight", e), ...t }));
SE.displayName = "AlertTitle";
const Wg = _.forwardRef(({ className: e, ...t }, r) => u.jsx("div", { ref: r, className: Sr("text-sm [&_p]:leading-relaxed", e), ...t }));
Wg.displayName = "AlertDescription";
const Dse = _.forwardRef(({ className: e, variant: t = "default", children: r, icon: n, ...s }, i) => {
  const o = {
    default: tL,
    destructive: KS,
    success: MY
  }[t] || Mi;
  return u.jsxs(_E, { ref: i, variant: t, className: Sr("flex items-start gap-3", e), ...s, children: [n || u.jsx(o, { className: "h-4 w-4 flex-shrink-0 mt-0.5" }), u.jsx("div", { children: _.Children.map(r, (a) => _.isValidElement(a) && (a.type === SE || a.type === Wg) ? a : u.jsx(Wg, { children: a })) })] });
});
Dse.displayName = "AlertWithIcon";
const $se = $T({
  name: fm().min(1, "Name is required").max(100, "Name is too long"),
  description: fm().max(500, "Description is too long").optional(),
  product_type: Gw(["single_issue", "bundle", "chapter_pass", "arc_pass"]),
  active: Jee(),
  work_id: fm().nullable().optional(),
  content_grants: s4($T({
    type: Gw(["work", "chapter"]),
    id: fm().min(1, "Content ID is required")
  }))
}), Rse = ({ product: e, onSave: t, onCancel: r, isSubmitting: n = !1 }) => {
  var j, N;
  const [s, i] = L([]), [o, a] = L(!0), [l, c] = L(null), { control: d, register: f, handleSubmit: h, reset: p, watch: g, setValue: m, formState: { errors: y } } = yX({
    resolver: dee($se),
    defaultValues: {
      name: (e == null ? void 0 : e.name) || "",
      description: (e == null ? void 0 : e.description) || "",
      product_type: (e == null ? void 0 : e.product_type) || "single_issue",
      active: (e == null ? void 0 : e.active) ?? !0,
      work_id: (e == null ? void 0 : e.work_id) || null,
      content_grants: Array.isArray(e == null ? void 0 : e.content_grants) ? e.content_grants : []
    }
  }), v = g("product_type");
  ve(() => {
    (async () => {
      a(!0), c(null);
      try {
        const C = await fetch("/api/content/works");
        if (!C.ok)
          throw new Error(`Failed to fetch works: ${C.statusText}`);
        const $ = await C.json();
        i($.works || []);
      } catch (C) {
        console.error("Error fetching works:", C), c("Failed to load content. Please try again later.");
      } finally {
        a(!1);
      }
    })();
  }, []);
  const b = (k) => {
    const C = {
      ...k,
      // Ensure work_id is null if empty string
      work_id: k.work_id || null
    };
    t(C);
  }, x = () => {
    const k = g("content_grants") || [];
    m("content_grants", [...k, { type: "work", id: "" }], { shouldValidate: !0 });
  }, S = (k) => {
    const $ = (g("content_grants") || []).filter((I, M) => M !== k);
    m("content_grants", $, { shouldValidate: !0 });
  }, w = (k, C, $) => {
    const M = [...g("content_grants") || []];
    M[k] = {
      ...M[k],
      [C]: $
    }, m("content_grants", M, { shouldValidate: !0 });
  };
  return o ? u.jsxs("div", { className: "flex items-center justify-center p-8", children: [u.jsx(qu, { className: "h-6 w-6 animate-spin text-primary mr-2" }), u.jsx("span", { children: "Loading form..." })] }) : u.jsxs("form", { onSubmit: h(b), className: "space-y-6", children: [l && u.jsxs(_E, { variant: "destructive", children: [u.jsx(Mi, { className: "h-4 w-4" }), u.jsx(SE, { children: "Error" }), u.jsx(Wg, { children: l })] }), u.jsxs("div", { className: "space-y-2", children: [u.jsx(js, { htmlFor: "name", children: "Product Name *" }), u.jsx(ai, { id: "name", placeholder: "e.g., Issue #1, Premium Bundle", ...f("name"), className: y.name ? "border-destructive" : "" }), y.name && u.jsx("p", { className: "text-sm font-medium text-destructive", children: y.name.message })] }), u.jsxs("div", { className: "space-y-2", children: [u.jsx(js, { htmlFor: "description", children: "Description" }), u.jsx(dE, { id: "description", placeholder: "A brief description of the product...", rows: 3, ...f("description"), className: y.description ? "border-destructive" : "" }), y.description && u.jsx("p", { className: "text-sm font-medium text-destructive", children: y.description.message })] }), u.jsxs("div", { className: "space-y-2", children: [u.jsx(js, { htmlFor: "product_type", children: "Product Type *" }), u.jsx($0, { name: "product_type", control: d, render: ({ field: k }) => u.jsxs(vm, { onValueChange: k.onChange, value: k.value, children: [u.jsx(_f, { className: "w-full", children: u.jsx(bm, { placeholder: "Select a product type" }) }), u.jsxs(Sf, { children: [u.jsx(Di, { value: "single_issue", children: "Single Issue" }), u.jsx(Di, { value: "bundle", children: "Bundle" }), u.jsx(Di, { value: "chapter_pass", children: "Chapter Pass" }), u.jsx(Di, { value: "arc_pass", children: "Arc Pass" })] })] }) }), y.product_type && u.jsx("p", { className: "text-sm font-medium text-destructive", children: y.product_type.message })] }), u.jsxs("div", { className: "flex items-center space-x-2", children: [u.jsx($0, { name: "active", control: d, render: ({ field: k }) => u.jsx(Vg, { id: "active", checked: k.value, onCheckedChange: k.onChange }) }), u.jsx(js, { htmlFor: "active", children: "Active" })] }), v === "single_issue" && u.jsxs("div", { className: "space-y-2", children: [u.jsx(js, { htmlFor: "work_id", children: "Associated Work (Issue/Book)" }), u.jsx($0, { name: "work_id", control: d, render: ({ field: k }) => u.jsxs(vm, { onValueChange: k.onChange, value: k.value || "", children: [u.jsx(_f, { children: u.jsx(bm, { placeholder: "Select an associated work" }) }), u.jsxs(Sf, { children: [u.jsx(Di, { value: "", children: "None" }), s.map((C) => u.jsxs(Di, { value: C.id, children: [C.title, " (", C.type, ")"] }, C.id))] })] }) }), y.work_id && u.jsx("p", { className: "text-sm font-medium text-destructive", children: y.work_id.message })] }), (v === "bundle" || v === "chapter_pass" || v === "arc_pass") && u.jsxs("div", { className: "space-y-3", children: [u.jsxs("div", { className: "flex items-center justify-between", children: [u.jsx(js, { children: "Content Grants" }), u.jsxs(dt, { type: "button", variant: "outline", size: "sm", onClick: x, className: "text-sm", children: [u.jsx(Gi, { className: "h-3.5 w-3.5 mr-1.5" }), "Add Grant"] })] }), u.jsxs("div", { className: "space-y-3", children: [(j = g("content_grants")) == null ? void 0 : j.map((k, C) => u.jsxs("div", { className: "flex items-start gap-2", children: [u.jsxs("div", { className: "grid grid-cols-2 gap-2 flex-1", children: [u.jsx("div", { className: "space-y-1", children: u.jsxs(vm, { value: k.type, onValueChange: ($) => w(C, "type", $), children: [u.jsx(_f, { children: u.jsx(bm, {}) }), u.jsxs(Sf, { children: [u.jsx(Di, { value: "work", children: "Work" }), u.jsx(Di, { value: "chapter", children: "Chapter" })] })] }) }), u.jsx("div", { className: "space-y-1", children: u.jsxs(vm, { value: k.id, onValueChange: ($) => w(C, "id", $), children: [u.jsx(_f, { children: u.jsx(bm, { placeholder: `Select ${k.type}...` }) }), u.jsxs(Sf, { children: [s.filter(($) => k.type === "work" || $.type === k.type).map(($) => u.jsxs(Di, { value: $.id, children: [$.title, " (", $.type, ")"] }, $.id)), s.length === 0 && u.jsxs("div", { className: "p-2 text-sm text-muted-foreground", children: ["No ", k.type, "s found"] })] })] }) })] }), u.jsxs(dt, { type: "button", variant: "ghost", size: "icon", className: "h-10 w-10 text-destructive hover:bg-destructive/10", onClick: () => S(C), children: [u.jsx(Ya, { className: "h-4 w-4" }), u.jsx("span", { className: "sr-only", children: "Remove" })] })] }, C)), ((N = g("content_grants")) == null ? void 0 : N.length) === 0 && u.jsx("div", { className: "rounded-md border border-dashed p-4 text-center", children: u.jsx("p", { className: "text-sm text-muted-foreground", children: 'No content grants added yet. Click "Add Grant" to get started.' }) })] }), y.content_grants && u.jsx("p", { className: "text-sm font-medium text-destructive", children: y.content_grants.message || "Please check the content grants" })] }), u.jsxs("div", { className: "flex justify-end space-x-3 pt-4 border-t", children: [u.jsx(dt, { type: "button", variant: "outline", onClick: r, disabled: n, children: "Cancel" }), u.jsx(dt, { type: "submit", disabled: n, children: n ? u.jsxs(u.Fragment, { children: [u.jsx(qu, { className: "mr-2 h-4 w-4 animate-spin" }), e ? "Updating..." : "Creating..."] }) : u.jsx(u.Fragment, { children: e ? "Update Product" : "Create Product" }) })] })] });
}, Z4 = _.forwardRef(({ className: e, ...t }, r) => u.jsx("div", { className: "w-full overflow-auto", children: u.jsx("table", { ref: r, className: Ze("w-full caption-bottom text-sm", e), ...t }) }));
Z4.displayName = "Table";
const X4 = _.forwardRef(({ className: e, ...t }, r) => u.jsx("thead", { ref: r, className: Ze("[&_tr]:border-b", e), ...t }));
X4.displayName = "TableHeader";
const J4 = _.forwardRef(({ className: e, ...t }, r) => u.jsx("tbody", { ref: r, className: Ze("[&_tr:last-child]:border-0", e), ...t }));
J4.displayName = "TableBody";
const Ise = _.forwardRef(({ className: e, ...t }, r) => u.jsx("tfoot", { ref: r, className: Ze("bg-primary font-medium text-primary-foreground", e), ...t }));
Ise.displayName = "TableFooter";
const ag = _.forwardRef(({ className: e, ...t }, r) => u.jsx("tr", { ref: r, className: Ze("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted", e), ...t }));
ag.displayName = "TableRow";
const Xc = _.forwardRef(({ className: e, ...t }, r) => u.jsx("th", { ref: r, className: Ze("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0", e), ...t }));
Xc.displayName = "TableHead";
const Cl = _.forwardRef(({ className: e, ...t }, r) => u.jsx("td", { ref: r, className: Ze("p-4 align-middle [&:has([role=checkbox])]:pr-0", e), ...t }));
Cl.displayName = "TableCell";
const Mse = _.forwardRef(({ className: e, ...t }, r) => u.jsx("caption", { ref: r, className: Ze("mt-4 text-sm text-muted-foreground", e), ...t }));
Mse.displayName = "TableCaption";
const Lse = aM, Fse = lM, Bse = cM, A$e = fv, Q4 = _.forwardRef(({ className: e, ...t }, r) => u.jsx(DS, { ref: r, className: Ze("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0", e), ...t }));
Q4.displayName = DS.displayName;
const e5 = _.forwardRef(({ className: e, children: t, ...r }, n) => u.jsxs(Bse, { children: [u.jsx(Q4, {}), u.jsxs($S, { ref: n, className: Ze("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg", e), ...r, children: [t, u.jsxs(fv, { className: "absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground", children: [u.jsx(Ya, { className: "h-4 w-4" }), u.jsx("span", { className: "sr-only", children: "Close" })] })] })] }));
e5.displayName = $S.displayName;
const t5 = ({ className: e, ...t }) => u.jsx("div", { className: Ze("flex flex-col space-y-1.5 text-center sm:text-left", e), ...t });
t5.displayName = "DialogHeader";
const zse = ({ className: e, ...t }) => u.jsx("div", { className: Ze("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2", e), ...t });
zse.displayName = "DialogFooter";
const r5 = _.forwardRef(({ className: e, ...t }, r) => u.jsx(RS, { ref: r, className: Ze("text-lg font-semibold leading-none tracking-tight", e), ...t }));
r5.displayName = RS.displayName;
const Use = _.forwardRef(({ className: e, ...t }, r) => u.jsx(IS, { ref: r, className: Ze("text-sm text-muted-foreground", e), ...t }));
Use.displayName = IS.displayName;
function qse(e) {
  if (typeof document > "u") return;
  let t = document.head || document.getElementsByTagName("head")[0], r = document.createElement("style");
  r.type = "text/css", t.appendChild(r), r.styleSheet ? r.styleSheet.cssText = e : r.appendChild(document.createTextNode(e));
}
Array(12).fill(0);
let n1 = 1;
class Vse {
  constructor() {
    this.subscribe = (t) => (this.subscribers.push(t), () => {
      const r = this.subscribers.indexOf(t);
      this.subscribers.splice(r, 1);
    }), this.publish = (t) => {
      this.subscribers.forEach((r) => r(t));
    }, this.addToast = (t) => {
      this.publish(t), this.toasts = [
        ...this.toasts,
        t
      ];
    }, this.create = (t) => {
      var r;
      const { message: n, ...s } = t, i = typeof (t == null ? void 0 : t.id) == "number" || ((r = t.id) == null ? void 0 : r.length) > 0 ? t.id : n1++, o = this.toasts.find((l) => l.id === i), a = t.dismissible === void 0 ? !0 : t.dismissible;
      return this.dismissedToasts.has(i) && this.dismissedToasts.delete(i), o ? this.toasts = this.toasts.map((l) => l.id === i ? (this.publish({
        ...l,
        ...t,
        id: i,
        title: n
      }), {
        ...l,
        ...t,
        id: i,
        dismissible: a,
        title: n
      }) : l) : this.addToast({
        title: n,
        ...s,
        dismissible: a,
        id: i
      }), i;
    }, this.dismiss = (t) => (t ? (this.dismissedToasts.add(t), requestAnimationFrame(() => this.subscribers.forEach((r) => r({
      id: t,
      dismiss: !0
    })))) : this.toasts.forEach((r) => {
      this.subscribers.forEach((n) => n({
        id: r.id,
        dismiss: !0
      }));
    }), t), this.message = (t, r) => this.create({
      ...r,
      message: t
    }), this.error = (t, r) => this.create({
      ...r,
      message: t,
      type: "error"
    }), this.success = (t, r) => this.create({
      ...r,
      type: "success",
      message: t
    }), this.info = (t, r) => this.create({
      ...r,
      type: "info",
      message: t
    }), this.warning = (t, r) => this.create({
      ...r,
      type: "warning",
      message: t
    }), this.loading = (t, r) => this.create({
      ...r,
      type: "loading",
      message: t
    }), this.promise = (t, r) => {
      if (!r)
        return;
      let n;
      r.loading !== void 0 && (n = this.create({
        ...r,
        promise: t,
        type: "loading",
        message: r.loading,
        description: typeof r.description != "function" ? r.description : void 0
      }));
      const s = Promise.resolve(t instanceof Function ? t() : t);
      let i = n !== void 0, o;
      const a = s.then(async (c) => {
        if (o = [
          "resolve",
          c
        ], ge.isValidElement(c))
          i = !1, this.create({
            id: n,
            type: "default",
            message: c
          });
        else if (Kse(c) && !c.ok) {
          i = !1;
          const f = typeof r.error == "function" ? await r.error(`HTTP error! status: ${c.status}`) : r.error, h = typeof r.description == "function" ? await r.description(`HTTP error! status: ${c.status}`) : r.description, g = typeof f == "object" && !ge.isValidElement(f) ? f : {
            message: f
          };
          this.create({
            id: n,
            type: "error",
            description: h,
            ...g
          });
        } else if (c instanceof Error) {
          i = !1;
          const f = typeof r.error == "function" ? await r.error(c) : r.error, h = typeof r.description == "function" ? await r.description(c) : r.description, g = typeof f == "object" && !ge.isValidElement(f) ? f : {
            message: f
          };
          this.create({
            id: n,
            type: "error",
            description: h,
            ...g
          });
        } else if (r.success !== void 0) {
          i = !1;
          const f = typeof r.success == "function" ? await r.success(c) : r.success, h = typeof r.description == "function" ? await r.description(c) : r.description, g = typeof f == "object" && !ge.isValidElement(f) ? f : {
            message: f
          };
          this.create({
            id: n,
            type: "success",
            description: h,
            ...g
          });
        }
      }).catch(async (c) => {
        if (o = [
          "reject",
          c
        ], r.error !== void 0) {
          i = !1;
          const d = typeof r.error == "function" ? await r.error(c) : r.error, f = typeof r.description == "function" ? await r.description(c) : r.description, p = typeof d == "object" && !ge.isValidElement(d) ? d : {
            message: d
          };
          this.create({
            id: n,
            type: "error",
            description: f,
            ...p
          });
        }
      }).finally(() => {
        i && (this.dismiss(n), n = void 0), r.finally == null || r.finally.call(r);
      }), l = () => new Promise((c, d) => a.then(() => o[0] === "reject" ? d(o[1]) : c(o[1])).catch(d));
      return typeof n != "string" && typeof n != "number" ? {
        unwrap: l
      } : Object.assign(n, {
        unwrap: l
      });
    }, this.custom = (t, r) => {
      const n = (r == null ? void 0 : r.id) || n1++;
      return this.create({
        jsx: t(n),
        id: n,
        ...r
      }), n;
    }, this.getActiveToasts = () => this.toasts.filter((t) => !this.dismissedToasts.has(t.id)), this.subscribers = [], this.toasts = [], this.dismissedToasts = /* @__PURE__ */ new Set();
  }
}
const Es = new Vse(), Wse = (e, t) => {
  const r = (t == null ? void 0 : t.id) || n1++;
  return Es.addToast({
    title: e,
    ...t,
    id: r
  }), r;
}, Kse = (e) => e && typeof e == "object" && "ok" in e && typeof e.ok == "boolean" && "status" in e && typeof e.status == "number", Hse = Wse, Yse = () => Es.toasts, Gse = () => Es.getActiveToasts(), Ye = Object.assign(Hse, {
  success: Es.success,
  info: Es.info,
  warning: Es.warning,
  error: Es.error,
  custom: Es.custom,
  message: Es.message,
  promise: Es.promise,
  dismiss: Es.dismiss,
  loading: Es.loading
}, {
  getHistory: Yse,
  getToasts: Gse
});
qse("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");
const Zse = () => {
  const [e, t] = L([]), [r, n] = L(!1), [s, i] = L(!0), [o, a] = L(!1), [l, c] = L(null), d = async () => {
    i(!0);
    try {
      const m = await fetch("/api/products");
      if (!m.ok)
        throw new Error(`HTTP error! status: ${m.status}`);
      const y = await m.json();
      t(y.products), Ye.success("Products loaded successfully");
    } catch (m) {
      console.error("Error fetching products:", m), Ye.error("Failed to load products");
    } finally {
      i(!1);
    }
  };
  ve(() => {
    d();
  }, []);
  const f = async (m) => {
    a(!0);
    try {
      let y;
      if (l ? y = await fetch(`/api/products/${l.id}`, {
        method: "PUT",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          ...m,
          active: m.active ?? !0
        })
      }) : y = await fetch("/api/products", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          ...m,
          active: m.active ?? !0
        })
      }), !y.ok) {
        const b = await y.json();
        throw new Error(b.message || "Failed to save product");
      }
      const v = await y.json();
      Ye.success(l ? "Product updated successfully" : "Product created successfully"), n(!1), c(null), await d();
    } catch (y) {
      console.error("Error saving product:", y), Ye.error((y instanceof Error ? y.message : String(y)) || "Failed to save product");
    } finally {
      a(!1);
    }
  }, h = async (m) => {
    if (window.confirm("Are you sure you want to archive this product?"))
      try {
        const y = await fetch(`/api/products/${m}`, {
          method: "DELETE"
        });
        if (!y.ok) {
          const v = await y.json();
          throw new Error(v.message || "Failed to delete product");
        }
        Ye.success("Product archived successfully"), await d();
      } catch (y) {
        console.error("Error deleting product:", y), Ye.error((y instanceof Error ? y.message : String(y)) || "Failed to archive product");
      }
  }, p = (m) => {
    c(m), n(!0);
  }, g = () => {
    n(!1), c(null);
  };
  return s ? u.jsxs("div", { className: "flex items-center justify-center p-8", children: [u.jsx(qu, { className: "h-8 w-8 animate-spin text-primary" }), u.jsx("span", { className: "ml-2", children: "Loading products..." })] }) : u.jsxs("div", { className: "p-6", children: [u.jsxs("div", { className: "flex justify-between items-center mb-6", children: [u.jsxs("div", { children: [u.jsx("h2", { className: "text-2xl font-bold tracking-tight", children: "Products" }), u.jsxs("p", { className: "text-muted-foreground", children: [e.length, " product", e.length !== 1 ? "s" : "", " in your store"] })] }), u.jsxs(Lse, { open: r, onOpenChange: g, children: [u.jsx(Fse, { asChild: !0, children: u.jsxs(dt, { onClick: () => n(!0), children: [u.jsx(Gi, { className: "mr-2 h-4 w-4" }), "Add Product"] }) }), u.jsxs(e5, { className: "sm:max-w-[700px]", children: [u.jsx(t5, { children: u.jsx(r5, { children: l ? "Edit Product" : "Create New Product" }) }), u.jsx(Rse, { product: l, onSave: f, onCancel: g, isSubmitting: o })] })] })] }), u.jsx("div", { className: "rounded-md border", children: u.jsxs(Z4, { children: [u.jsx(X4, { children: u.jsxs(ag, { children: [u.jsx(Xc, { className: "w-[300px]", children: "Name" }), u.jsx(Xc, { children: "Type" }), u.jsx(Xc, { children: "Status" }), u.jsx(Xc, { children: "Created" }), u.jsx(Xc, { className: "text-right", children: "Actions" })] }) }), u.jsx(J4, { children: e.length === 0 ? u.jsx(ag, { children: u.jsx(Cl, { colSpan: 5, className: "h-24 text-center", children: "No products found." }) }) : e.map((m) => {
    var y;
    return u.jsxs(ag, { children: [u.jsxs(Cl, { className: "font-medium", children: [u.jsx("div", { className: "font-medium", children: m.name }), u.jsx("div", { className: "text-sm text-muted-foreground line-clamp-2", children: m.description || "No description" })] }), u.jsx(Cl, { children: u.jsx("span", { className: "inline-flex items-center rounded-full bg-secondary px-2.5 py-0.5 text-xs font-medium text-secondary-foreground capitalize", children: (y = m.product_type) == null ? void 0 : y.replace("_", " ") }) }), u.jsx(Cl, { children: u.jsxs("div", { className: "flex items-center", children: [u.jsx("div", { className: `h-2.5 w-2.5 rounded-full mr-2 ${m.active ? "bg-green-500" : "bg-gray-300"}` }), m.active ? "Active" : "Inactive"] }) }), u.jsx(Cl, { children: new Date(m.created_at).toLocaleDateString() }), u.jsx(Cl, { className: "text-right", children: u.jsxs("div", { className: "flex justify-end space-x-2", children: [u.jsxs(dt, { variant: "outline", size: "sm", onClick: () => p(m), children: [u.jsx(ZY, { className: "h-4 w-4 mr-1" }), "Edit"] }), u.jsxs(dt, { variant: "outline", size: "sm", onClick: () => h(m.id), className: "text-destructive hover:bg-destructive/10 hover:text-destructive", children: [u.jsx(wc, { className: "h-4 w-4 mr-1" }), "Archive"] })] }) })] }, m.id);
  }) })] }) })] });
};
function U0({ className: e, ...t }) {
  return u.jsx("div", { className: `animate-pulse bg-gray-200 dark:bg-gray-700 rounded-md ${e || ""}`, ...t });
}
const Ef = _.forwardRef(({ className: e, ...t }, r) => u.jsx("div", { ref: r, className: Ze("rounded-lg border bg-card text-card-foreground shadow-sm", e), ...t }));
Ef.displayName = "Card";
const jf = _.forwardRef(({ className: e, ...t }, r) => u.jsx("div", { ref: r, className: Ze("flex flex-col space-y-1.5 p-6", e), ...t }));
jf.displayName = "CardHeader";
const Nf = _.forwardRef(({ className: e, ...t }, r) => u.jsx("h3", { ref: r, className: Ze("text-2xl font-semibold leading-none tracking-tight", e), ...t }));
Nf.displayName = "CardTitle";
const Xse = _.forwardRef(({ className: e, ...t }, r) => u.jsx("p", { ref: r, className: Ze("text-sm text-muted-foreground", e), ...t }));
Xse.displayName = "CardDescription";
const kf = _.forwardRef(({ className: e, ...t }, r) => u.jsx("div", { ref: r, className: Ze("p-6 pt-0", e), ...t }));
kf.displayName = "CardContent";
const Jse = _.forwardRef(({ className: e, ...t }, r) => u.jsx("div", { ref: r, className: Ze("flex items-center p-6 pt-0", e), ...t }));
Jse.displayName = "CardFooter";
const Qse = ge.lazy(() => import("./PriceManager-DsbB1g1r.js")), eie = () => u.jsxs("div", { className: "space-y-4", children: [u.jsxs("div", { className: "flex items-center justify-between", children: [u.jsx(U0, { className: "h-9 w-32" }), u.jsx(U0, { className: "h-9 w-24" })] }), u.jsx("div", { className: "space-y-2", children: [...Array(5)].map((e, t) => u.jsx(U0, { className: "h-12 w-full" }, t)) })] }), P$e = () => u.jsxs("div", { className: "container mx-auto p-4 space-y-6", children: [u.jsxs("div", { className: "space-y-2", children: [u.jsx("h1", { className: "text-3xl font-bold tracking-tight", children: "Store Management" }), u.jsx("p", { className: "text-muted-foreground", children: "Manage your store's products, pricing, and customer purchases" })] }), u.jsxs(JZ, { defaultValue: "products", className: "w-full space-y-6", children: [u.jsxs(AL, { className: "grid w-full md:w-[400px] grid-cols-2", children: [u.jsx(xf, { value: "products", children: "Products" }), u.jsx(xf, { value: "prices", children: "Pricing" }), u.jsx(xf, { value: "purchases", children: "Purchases" }), u.jsx(xf, { value: "analytics", children: "Analytics" })] }), u.jsx(wf, { value: "products", className: "space-y-4", children: u.jsxs(Ef, { children: [u.jsx(jf, { children: u.jsx(Nf, { children: "Product Catalog" }) }), u.jsx(kf, { children: u.jsx(Zse, {}) })] }) }), u.jsx(wf, { value: "prices", className: "space-y-4", children: u.jsxs(Ef, { children: [u.jsx(jf, { children: u.jsx(Nf, { children: "Pricing & Plans" }) }), u.jsx(kf, { children: u.jsx(zR, { fallback: u.jsx(eie, {}), children: u.jsx(Qse, {}) }) })] }) }), u.jsx(wf, { value: "purchases", className: "space-y-4", children: u.jsxs(Ef, { children: [u.jsx(jf, { children: u.jsx(Nf, { children: "Purchase History" }) }), u.jsx(kf, { children: u.jsxs("div", { className: "flex flex-col items-center justify-center py-12 text-center", children: [u.jsx("div", { className: "w-16 h-16 rounded-full bg-muted flex items-center justify-center mb-4", children: u.jsxs("svg", { xmlns: "http://www.w3.org/2000/svg", width: "24", height: "24", viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: "2", strokeLinecap: "round", strokeLinejoin: "round", className: "h-8 w-8 text-muted-foreground", children: [u.jsx("path", { d: "M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z" }), u.jsx("path", { d: "M3 6h18" }), u.jsx("path", { d: "M16 10a4 4 0 0 1-8 0" })] }) }), u.jsx("h3", { className: "text-lg font-medium mb-2", children: "Purchase History" }), u.jsx("p", { className: "text-sm text-muted-foreground max-w-md", children: "View and manage customer purchases, refunds, and order history." })] }) })] }) }), u.jsx(wf, { value: "analytics", className: "space-y-4", children: u.jsxs(Ef, { children: [u.jsx(jf, { children: u.jsx(Nf, { children: "Store Analytics" }) }), u.jsx(kf, { children: u.jsxs("div", { className: "flex flex-col items-center justify-center py-12 text-center", children: [u.jsx("div", { className: "w-16 h-16 rounded-full bg-muted flex items-center justify-center mb-4", children: u.jsxs("svg", { xmlns: "http://www.w3.org/2000/svg", width: "24", height: "24", viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: "2", strokeLinecap: "round", strokeLinejoin: "round", className: "h-8 w-8 text-muted-foreground", children: [u.jsx("path", { d: "M3 3v18h18" }), u.jsx("path", { d: "m19 9-5 5-4-4-3 3" })] }) }), u.jsx("h3", { className: "text-lg font-medium mb-2", children: "Sales Analytics" }), u.jsx("p", { className: "text-sm text-muted-foreground max-w-md mb-4", children: "View detailed analytics and reports about your store's performance." }), u.jsx(dt, { disabled: !0, children: "Coming Soon" })] }) })] }) })] })] }), tie = async () => {
  const { data: e, error: t } = await he.from("works").select("*").order("order_in_parent", { ascending: !0 });
  if (t)
    throw new Error(t.message);
  return e;
}, rie = async (e) => {
  if (!e)
    return [];
  const { data: t, error: r } = await he.from("purchases").select(`
      id,
      user_id,
      product_id,
      purchased_at,
      status,
      products (
        name,
        description,
        product_type,
        work_id
      )
    `).eq("user_id", e);
  if (r)
    throw new Error(r.message);
  return t.map((n) => {
    var s, i, o, a;
    return {
      id: n.id,
      user_id: n.user_id,
      product_id: n.product_id,
      purchased_at: n.purchased_at,
      status: n.status,
      product_title: ((s = n.products) == null ? void 0 : s.name) || "Unknown Product",
      product_description: (i = n.products) == null ? void 0 : i.description,
      product_type: ((o = n.products) == null ? void 0 : o.product_type) || "single_issue",
      work_id: (a = n.products) == null ? void 0 : a.work_id
    };
  });
}, nie = async (e, t) => {
  if (!e || !t)
    return null;
  const { data: r, error: n } = await he.from("user_ratings").select("rating").eq("user_id", e).eq("work_id", t).single();
  if (n && n.code !== "PGRST116")
    throw new Error(n.message);
  return r ? r.rating : null;
}, sie = async (e, t, r) => {
  const { data: n, error: s } = await he.from("user_ratings").upsert({ user_id: e, work_id: t, rating: r }, { onConflict: "user_id,work_id" }).select();
  if (s)
    throw new Error(s.message);
  return n[0];
}, iie = ({ work: e, userLibraryItem: t, queryClient: r }) => {
  var m, y;
  const { user: n } = Qh(), [s, i] = L(null), [o, a] = L(!1), [l, c] = L(!1), { data: d } = br({
    queryKey: ["userRating", n == null ? void 0 : n.id, e.id],
    queryFn: () => nie((n == null ? void 0 : n.id) || "", e.id),
    enabled: !!(n != null && n.id)
    // Only run if user is logged in
  });
  ve(() => {
    d !== void 0 && i(d);
  }, [d]);
  const f = ir({
    mutationFn: ({ userId: v, workId: b, rating: x }) => sie(v, b, x),
    onSuccess: () => {
      r.invalidateQueries({ queryKey: ["userRating", n == null ? void 0 : n.id, e.id] }), r.invalidateQueries({ queryKey: ["allWorks"] });
    },
    onError: (v) => {
      alert(`Error submitting rating: ${v.message}`);
    }
  }), h = (v) => {
    if (!n) {
      alert("Please log in to submit a rating.");
      return;
    }
    n.id && f.mutate({ userId: n.id, workId: e.id, rating: v });
  }, p = e.word_count && e.target_word_count ? Math.min(100, Math.round(e.word_count / e.target_word_count * 100)) : e.progress_percentage || 0, g = "S. Azar";
  return u.jsxs("article", { className: "book-card", "data-book-id": e.id, "aria-label": `Book card: ${e.title} by ${g}`, children: [u.jsxs("div", { className: "book-main", children: [u.jsx("div", { className: "cover", role: "img", "aria-label": `Book cover: ${e.title} by ${g}`, style: { background: e.cover_image_url ? `url(${e.cover_image_url}) center center / cover` : "var(--teal)" }, children: !e.cover_image_url && u.jsxs("div", { className: "cover-content", children: [u.jsx("div", { className: "cover-title", children: e.title }), u.jsx("div", { className: "cover-author", children: g })] }) }), u.jsxs("div", { className: "details", children: [u.jsxs("div", { className: "book-header", children: [u.jsx("h3", { className: "book-title", children: e.title }), u.jsx("div", { className: "author", children: g })] }), (e.release_date || e.estimated_release) && u.jsx("div", { className: "release-info text-sm text-muted mt-1", children: e.release_date ? u.jsxs("span", { children: ["Released: ", new Date(e.release_date).toLocaleDateString()] }) : u.jsxs("span", { children: ["Estimated Release: ", e.estimated_release] }) }), (e.status === "planning" || e.status === "writing" || e.status === "editing") && u.jsxs("div", { className: "progress", "aria-label": "Author writing progress", children: [u.jsxs("div", { className: "progress-head", children: [u.jsxs("span", { children: [p, "% written"] }), u.jsxs("span", { "aria-live": "polite", children: [p, "%"] })] }), u.jsx("div", { className: "bar", role: "progressbar", "aria-valuemin": 0, "aria-valuemax": 100, "aria-valuenow": p, "aria-label": "Author writing progress", children: u.jsx("span", { style: { width: `${p}%` } }) })] }), u.jsx("p", { className: "desc", children: e.description || "No description available." }), u.jsxs("div", { className: "rating", "aria-label": `Rating ${((m = e.rating) == null ? void 0 : m.toFixed(1)) || "0.0"} out of 5 based on ${e.reviews_count || 0} reviews`, children: [u.jsx("span", { className: "stars", "aria-hidden": "true", children: [...Array(5)].map((v, b) => u.jsx(yv, { className: `star ${b < (s !== null ? s : Math.floor(e.rating || 0)) ? "filled" : ""}`, onClick: () => h(b + 1), onMouseEnter: () => n && i(b + 1), onMouseLeave: () => n && i(d !== null ? d : null), style: { cursor: n ? "pointer" : "default" } }, b)) }), u.jsx("span", { children: ((y = e.rating) == null ? void 0 : y.toFixed(1)) || "0.0" }), u.jsxs("small", { children: [" ", e.reviews_count || 0, " reviews"] })] }), u.jsx("div", { className: "actions", children: t ? u.jsx(u.Fragment, { children: u.jsx("button", { className: "btn primary", children: "Open" }) }) : u.jsx("button", { className: "btn primary", children: "Buy now" }) }), e.sample_content && u.jsxs("button", { className: "sample-toggle-btn", onClick: () => a(!o), "aria-expanded": o, children: [u.jsx("span", { children: "Read Sample" }), u.jsx("svg", { className: `toggle-arrow ${o ? "expanded" : ""}`, width: "16", height: "16", viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: "2", children: u.jsx("polyline", { points: "6,9 12,15 18,9" }) })] })] })] }), o && e.sample_content && u.jsxs("div", { className: "sample-card expanded", children: [u.jsx("div", { className: "sample-header", children: u.jsxs("h4", { children: ['Sample from "', e.title, '"'] }) }), u.jsx("div", { className: "sample-excerpt", children: u.jsx("p", { children: e.sample_content }) }), u.jsx("div", { className: "sample-actions", children: t ? u.jsx("button", { className: "continue-btn", children: "Continue reading" }) : u.jsx("button", { className: "buy-btn", children: "Buy now" }) })] })] });
}, O$e = () => {
  const { user: e } = Qh(), t = ea(), { data: r, isLoading: n, isError: s, error: i } = br({
    queryKey: ["allWorks"],
    queryFn: tie
  }), { data: o, isLoading: a, isError: l, error: c } = br({
    queryKey: ["userLibraryItems", e == null ? void 0 : e.id],
    queryFn: () => rie((e == null ? void 0 : e.id) || ""),
    enabled: !!(e != null && e.id)
    // Only run query if user is logged in
  }), [d, f] = L(!0), [h, p] = L("All"), [g, m] = L("All"), y = (r == null ? void 0 : r.filter((v) => {
    const b = h === "All" || v.type === h.toLowerCase(), x = g === "All" || v.status === g.toLowerCase();
    return b && x;
  })) || [];
  return n || a ? u.jsx("div", { className: "text-center py-8 text-text-light", children: "Loading library..." }) : s ? u.jsxs("div", { className: "text-center py-8 text-red-400", children: ["Error loading works: ", i == null ? void 0 : i.message] }) : l ? u.jsxs("div", { className: "text-center py-8 text-red-400", children: ["Error loading user library: ", c == null ? void 0 : c.message] }) : u.jsxs("div", { className: "container mx-auto px-4 py-8 bg-background-dark text-text-light min-h-screen", children: [u.jsx("h1", { className: "text-4xl font-bold text-text-light mb-6", children: "Your Library" }), d && u.jsxs("div", { className: "bg-blue-900 bg-opacity-30 border border-blue-700 text-blue-200 p-4 rounded-md mb-6 flex items-center justify-between", children: [u.jsxs("div", { className: "flex items-center gap-3", children: [u.jsx(tL, { size: 20 }), u.jsx("p", { className: "text-sm", children: "Files may include a purchaser-specific watermark. Download limits: 5 per format." })] }), u.jsx("button", { onClick: () => f(!1), className: "text-blue-200 hover:text-white", children: u.jsx(KS, { size: 20 }) })] }), u.jsxs("div", { className: "flex flex-wrap gap-2 mb-6", children: [u.jsx("button", { onClick: () => p("All"), className: `px-4 py-2 rounded-full text-sm font-semibold ${h === "All" ? "bg-primary-DEFAULT text-white" : "bg-gray-700 text-gray-300 hover:bg-gray-600"}`, children: "All" }), u.jsx("button", { onClick: () => p("Book"), className: `px-4 py-2 rounded-full text-sm font-semibold ${h === "Book" ? "bg-primary-DEFAULT text-white" : "bg-gray-700 text-gray-300 hover:bg-gray-600"}`, children: "Books" }), u.jsx("button", { onClick: () => p("Volume"), className: `px-4 py-2 rounded-full text-sm font-semibold ${h === "Volume" ? "bg-primary-DEFAULT text-white" : "bg-gray-700 text-gray-300 hover:bg-gray-600"}`, children: "Volumes" }), u.jsx("button", { onClick: () => p("Saga"), className: `px-4 py-2 rounded-full text-sm font-semibold ${h === "Saga" ? "bg-primary-DEFAULT text-white" : "bg-gray-700 text-gray-300 hover:bg-gray-600"}`, children: "Sagas" }), u.jsx("button", { onClick: () => p("Arc"), className: `px-4 py-2 rounded-full text-sm font-semibold ${h === "Arc" ? "bg-primary-DEFAULT text-white" : "bg-gray-700 text-gray-300 hover:bg-gray-600"}`, children: "Arcs" }), u.jsx("button", { onClick: () => p("Issue"), className: `px-4 py-2 rounded-full text-sm font-semibold ${h === "Issue" ? "bg-primary-DEFAULT text-white" : "bg-gray-700 text-gray-300 hover:bg-gray-600"}`, children: "Issues" }), u.jsxs("select", { value: g, onChange: (v) => m(v.target.value), className: "px-3 py-2 rounded-full text-sm font-semibold bg-gray-700 text-gray-300 hover:bg-gray-600", children: [u.jsx("option", { value: "All", children: "All Status" }), u.jsx("option", { value: "Published", children: "Published" }), u.jsx("option", { value: "Planning", children: "Planning" }), u.jsx("option", { value: "Writing", children: "Writing" }), u.jsx("option", { value: "Editing", children: "Editing" }), u.jsx("option", { value: "On_hold", children: "On Hold" })] })] }), u.jsx("div", { className: "grid grid-cols-1 lg:grid-cols-4 gap-8", children: u.jsx("div", { className: "lg:col-span-3", children: u.jsx("div", { className: "grid grid-cols-1 gap-6 mb-8", children: y.map((v) => {
    const b = o == null ? void 0 : o.find((x) => x.work_id === v.id);
    return u.jsx(iie, { work: v, userLibraryItem: b, queryClient: t }, v.id);
  }) }) }) })] });
};
var n5 = "basil", oie = function(t) {
  return t === 3 ? "v3" : t;
}, s5 = "https://js.stripe.com", aie = "".concat(s5, "/").concat(n5, "/stripe.js"), lie = /^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/, cie = /^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;
var uie = function(t) {
  return lie.test(t) || cie.test(t);
}, die = function() {
  for (var t = document.querySelectorAll('script[src^="'.concat(s5, '"]')), r = 0; r < t.length; r++) {
    var n = t[r];
    if (uie(n.src))
      return n;
  }
  return null;
}, cA = function(t) {
  var r = "", n = document.createElement("script");
  n.src = "".concat(aie).concat(r);
  var s = document.head || document.body;
  if (!s)
    throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");
  return s.appendChild(n), n;
}, fie = function(t, r) {
  !t || !t._registerWrapper || t._registerWrapper({
    name: "stripe-js",
    version: "7.9.0",
    startTime: r
  });
}, tf = null, xm = null, wm = null, hie = function(t) {
  return function(r) {
    t(new Error("Failed to load Stripe.js", {
      cause: r
    }));
  };
}, pie = function(t, r) {
  return function() {
    window.Stripe ? t(window.Stripe) : r(new Error("Stripe.js not available"));
  };
}, mie = function(t) {
  return tf !== null ? tf : (tf = new Promise(function(r, n) {
    if (typeof window > "u" || typeof document > "u") {
      r(null);
      return;
    }
    if (window.Stripe) {
      r(window.Stripe);
      return;
    }
    try {
      var s = die();
      if (!(s && t)) {
        if (!s)
          s = cA(t);
        else if (s && wm !== null && xm !== null) {
          var i;
          s.removeEventListener("load", wm), s.removeEventListener("error", xm), (i = s.parentNode) === null || i === void 0 || i.removeChild(s), s = cA(t);
        }
      }
      wm = pie(r, n), xm = hie(n), s.addEventListener("load", wm), s.addEventListener("error", xm);
    } catch (o) {
      n(o);
      return;
    }
  }), tf.catch(function(r) {
    return tf = null, Promise.reject(r);
  }));
}, gie = function(t, r, n) {
  if (t === null)
    return null;
  var s = r[0], i = s.match(/^pk_test/), o = oie(t.version), a = n5;
  i && o !== a && console.warn("Stripe.js@".concat(o, " was loaded on the page, but @stripe/stripe-js@").concat("7.9.0", " expected Stripe.js@").concat(a, ". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));
  var l = t.apply(void 0, r);
  return fie(l, n), l;
}, rf, i5 = !1, o5 = function() {
  return rf || (rf = mie(null).catch(function(t) {
    return rf = null, Promise.reject(t);
  }), rf);
};
Promise.resolve().then(function() {
  return o5();
}).catch(function(e) {
  i5 || console.warn(e);
});
var yie = function() {
  for (var t = arguments.length, r = new Array(t), n = 0; n < t; n++)
    r[n] = arguments[n];
  i5 = !0;
  var s = Date.now();
  return o5().then(function(i) {
    return gie(i, r, s);
  });
}, s1 = { exports: {} }, _m = { exports: {} }, gt = {};
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var uA;
function vie() {
  if (uA) return gt;
  uA = 1;
  var e = typeof Symbol == "function" && Symbol.for, t = e ? Symbol.for("react.element") : 60103, r = e ? Symbol.for("react.portal") : 60106, n = e ? Symbol.for("react.fragment") : 60107, s = e ? Symbol.for("react.strict_mode") : 60108, i = e ? Symbol.for("react.profiler") : 60114, o = e ? Symbol.for("react.provider") : 60109, a = e ? Symbol.for("react.context") : 60110, l = e ? Symbol.for("react.async_mode") : 60111, c = e ? Symbol.for("react.concurrent_mode") : 60111, d = e ? Symbol.for("react.forward_ref") : 60112, f = e ? Symbol.for("react.suspense") : 60113, h = e ? Symbol.for("react.suspense_list") : 60120, p = e ? Symbol.for("react.memo") : 60115, g = e ? Symbol.for("react.lazy") : 60116, m = e ? Symbol.for("react.block") : 60121, y = e ? Symbol.for("react.fundamental") : 60117, v = e ? Symbol.for("react.responder") : 60118, b = e ? Symbol.for("react.scope") : 60119;
  function x(w) {
    if (typeof w == "object" && w !== null) {
      var j = w.$$typeof;
      switch (j) {
        case t:
          switch (w = w.type, w) {
            case l:
            case c:
            case n:
            case i:
            case s:
            case f:
              return w;
            default:
              switch (w = w && w.$$typeof, w) {
                case a:
                case d:
                case g:
                case p:
                case o:
                  return w;
                default:
                  return j;
              }
          }
        case r:
          return j;
      }
    }
  }
  function S(w) {
    return x(w) === c;
  }
  return gt.AsyncMode = l, gt.ConcurrentMode = c, gt.ContextConsumer = a, gt.ContextProvider = o, gt.Element = t, gt.ForwardRef = d, gt.Fragment = n, gt.Lazy = g, gt.Memo = p, gt.Portal = r, gt.Profiler = i, gt.StrictMode = s, gt.Suspense = f, gt.isAsyncMode = function(w) {
    return S(w) || x(w) === l;
  }, gt.isConcurrentMode = S, gt.isContextConsumer = function(w) {
    return x(w) === a;
  }, gt.isContextProvider = function(w) {
    return x(w) === o;
  }, gt.isElement = function(w) {
    return typeof w == "object" && w !== null && w.$$typeof === t;
  }, gt.isForwardRef = function(w) {
    return x(w) === d;
  }, gt.isFragment = function(w) {
    return x(w) === n;
  }, gt.isLazy = function(w) {
    return x(w) === g;
  }, gt.isMemo = function(w) {
    return x(w) === p;
  }, gt.isPortal = function(w) {
    return x(w) === r;
  }, gt.isProfiler = function(w) {
    return x(w) === i;
  }, gt.isStrictMode = function(w) {
    return x(w) === s;
  }, gt.isSuspense = function(w) {
    return x(w) === f;
  }, gt.isValidElementType = function(w) {
    return typeof w == "string" || typeof w == "function" || w === n || w === c || w === i || w === s || w === f || w === h || typeof w == "object" && w !== null && (w.$$typeof === g || w.$$typeof === p || w.$$typeof === o || w.$$typeof === a || w.$$typeof === d || w.$$typeof === y || w.$$typeof === v || w.$$typeof === b || w.$$typeof === m);
  }, gt.typeOf = x, gt;
}
var yt = {};
/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var dA;
function bie() {
  return dA || (dA = 1, process.env.NODE_ENV !== "production" && function() {
    var e = typeof Symbol == "function" && Symbol.for, t = e ? Symbol.for("react.element") : 60103, r = e ? Symbol.for("react.portal") : 60106, n = e ? Symbol.for("react.fragment") : 60107, s = e ? Symbol.for("react.strict_mode") : 60108, i = e ? Symbol.for("react.profiler") : 60114, o = e ? Symbol.for("react.provider") : 60109, a = e ? Symbol.for("react.context") : 60110, l = e ? Symbol.for("react.async_mode") : 60111, c = e ? Symbol.for("react.concurrent_mode") : 60111, d = e ? Symbol.for("react.forward_ref") : 60112, f = e ? Symbol.for("react.suspense") : 60113, h = e ? Symbol.for("react.suspense_list") : 60120, p = e ? Symbol.for("react.memo") : 60115, g = e ? Symbol.for("react.lazy") : 60116, m = e ? Symbol.for("react.block") : 60121, y = e ? Symbol.for("react.fundamental") : 60117, v = e ? Symbol.for("react.responder") : 60118, b = e ? Symbol.for("react.scope") : 60119;
    function x(P) {
      return typeof P == "string" || typeof P == "function" || // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.
      P === n || P === c || P === i || P === s || P === f || P === h || typeof P == "object" && P !== null && (P.$$typeof === g || P.$$typeof === p || P.$$typeof === o || P.$$typeof === a || P.$$typeof === d || P.$$typeof === y || P.$$typeof === v || P.$$typeof === b || P.$$typeof === m);
    }
    function S(P) {
      if (typeof P == "object" && P !== null) {
        var be = P.$$typeof;
        switch (be) {
          case t:
            var ke = P.type;
            switch (ke) {
              case l:
              case c:
              case n:
              case i:
              case s:
              case f:
                return ke;
              default:
                var Ve = ke && ke.$$typeof;
                switch (Ve) {
                  case a:
                  case d:
                  case g:
                  case p:
                  case o:
                    return Ve;
                  default:
                    return be;
                }
            }
          case r:
            return be;
        }
      }
    }
    var w = l, j = c, N = a, k = o, C = t, $ = d, I = n, M = g, O = p, z = r, U = i, G = s, q = f, Z = !1;
    function ie(P) {
      return Z || (Z = !0, console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")), D(P) || S(P) === l;
    }
    function D(P) {
      return S(P) === c;
    }
    function B(P) {
      return S(P) === a;
    }
    function X(P) {
      return S(P) === o;
    }
    function oe(P) {
      return typeof P == "object" && P !== null && P.$$typeof === t;
    }
    function W(P) {
      return S(P) === d;
    }
    function K(P) {
      return S(P) === n;
    }
    function ee(P) {
      return S(P) === g;
    }
    function te(P) {
      return S(P) === p;
    }
    function ue(P) {
      return S(P) === r;
    }
    function V(P) {
      return S(P) === i;
    }
    function H(P) {
      return S(P) === s;
    }
    function se(P) {
      return S(P) === f;
    }
    yt.AsyncMode = w, yt.ConcurrentMode = j, yt.ContextConsumer = N, yt.ContextProvider = k, yt.Element = C, yt.ForwardRef = $, yt.Fragment = I, yt.Lazy = M, yt.Memo = O, yt.Portal = z, yt.Profiler = U, yt.StrictMode = G, yt.Suspense = q, yt.isAsyncMode = ie, yt.isConcurrentMode = D, yt.isContextConsumer = B, yt.isContextProvider = X, yt.isElement = oe, yt.isForwardRef = W, yt.isFragment = K, yt.isLazy = ee, yt.isMemo = te, yt.isPortal = ue, yt.isProfiler = V, yt.isStrictMode = H, yt.isSuspense = se, yt.isValidElementType = x, yt.typeOf = S;
  }()), yt;
}
var fA;
function a5() {
  return fA || (fA = 1, process.env.NODE_ENV === "production" ? _m.exports = vie() : _m.exports = bie()), _m.exports;
}
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
var q0, hA;
function xie() {
  if (hA) return q0;
  hA = 1;
  var e = Object.getOwnPropertySymbols, t = Object.prototype.hasOwnProperty, r = Object.prototype.propertyIsEnumerable;
  function n(i) {
    if (i == null)
      throw new TypeError("Object.assign cannot be called with null or undefined");
    return Object(i);
  }
  function s() {
    try {
      if (!Object.assign)
        return !1;
      var i = new String("abc");
      if (i[5] = "de", Object.getOwnPropertyNames(i)[0] === "5")
        return !1;
      for (var o = {}, a = 0; a < 10; a++)
        o["_" + String.fromCharCode(a)] = a;
      var l = Object.getOwnPropertyNames(o).map(function(d) {
        return o[d];
      });
      if (l.join("") !== "0123456789")
        return !1;
      var c = {};
      return "abcdefghijklmnopqrst".split("").forEach(function(d) {
        c[d] = d;
      }), Object.keys(Object.assign({}, c)).join("") === "abcdefghijklmnopqrst";
    } catch {
      return !1;
    }
  }
  return q0 = s() ? Object.assign : function(i, o) {
    for (var a, l = n(i), c, d = 1; d < arguments.length; d++) {
      a = Object(arguments[d]);
      for (var f in a)
        t.call(a, f) && (l[f] = a[f]);
      if (e) {
        c = e(a);
        for (var h = 0; h < c.length; h++)
          r.call(a, c[h]) && (l[c[h]] = a[c[h]]);
      }
    }
    return l;
  }, q0;
}
var V0, pA;
function EE() {
  if (pA) return V0;
  pA = 1;
  var e = "SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";
  return V0 = e, V0;
}
var W0, mA;
function l5() {
  return mA || (mA = 1, W0 = Function.call.bind(Object.prototype.hasOwnProperty)), W0;
}
var K0, gA;
function wie() {
  if (gA) return K0;
  gA = 1;
  var e = function() {
  };
  if (process.env.NODE_ENV !== "production") {
    var t = EE(), r = {}, n = l5();
    e = function(i) {
      var o = "Warning: " + i;
      typeof console < "u" && console.error(o);
      try {
        throw new Error(o);
      } catch {
      }
    };
  }
  function s(i, o, a, l, c) {
    if (process.env.NODE_ENV !== "production") {
      for (var d in i)
        if (n(i, d)) {
          var f;
          try {
            if (typeof i[d] != "function") {
              var h = Error(
                (l || "React class") + ": " + a + " type `" + d + "` is invalid; it must be a function, usually from the `prop-types` package, but received `" + typeof i[d] + "`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`."
              );
              throw h.name = "Invariant Violation", h;
            }
            f = i[d](o, d, l, a, null, t);
          } catch (g) {
            f = g;
          }
          if (f && !(f instanceof Error) && e(
            (l || "React class") + ": type specification of " + a + " `" + d + "` is invalid; the type checker function must return `null` or an `Error` but returned a " + typeof f + ". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."
          ), f instanceof Error && !(f.message in r)) {
            r[f.message] = !0;
            var p = c ? c() : "";
            e(
              "Failed " + a + " type: " + f.message + (p ?? "")
            );
          }
        }
    }
  }
  return s.resetWarningCache = function() {
    process.env.NODE_ENV !== "production" && (r = {});
  }, K0 = s, K0;
}
var H0, yA;
function _ie() {
  if (yA) return H0;
  yA = 1;
  var e = a5(), t = xie(), r = EE(), n = l5(), s = wie(), i = function() {
  };
  process.env.NODE_ENV !== "production" && (i = function(a) {
    var l = "Warning: " + a;
    typeof console < "u" && console.error(l);
    try {
      throw new Error(l);
    } catch {
    }
  });
  function o() {
    return null;
  }
  return H0 = function(a, l) {
    var c = typeof Symbol == "function" && Symbol.iterator, d = "@@iterator";
    function f(D) {
      var B = D && (c && D[c] || D[d]);
      if (typeof B == "function")
        return B;
    }
    var h = "<<anonymous>>", p = {
      array: v("array"),
      bigint: v("bigint"),
      bool: v("boolean"),
      func: v("function"),
      number: v("number"),
      object: v("object"),
      string: v("string"),
      symbol: v("symbol"),
      any: b(),
      arrayOf: x,
      element: S(),
      elementType: w(),
      instanceOf: j,
      node: $(),
      objectOf: k,
      oneOf: N,
      oneOfType: C,
      shape: M,
      exact: O
    };
    function g(D, B) {
      return D === B ? D !== 0 || 1 / D === 1 / B : D !== D && B !== B;
    }
    function m(D, B) {
      this.message = D, this.data = B && typeof B == "object" ? B : {}, this.stack = "";
    }
    m.prototype = Error.prototype;
    function y(D) {
      if (process.env.NODE_ENV !== "production")
        var B = {}, X = 0;
      function oe(K, ee, te, ue, V, H, se) {
        if (ue = ue || h, H = H || te, se !== r) {
          if (l) {
            var P = new Error(
              "Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types"
            );
            throw P.name = "Invariant Violation", P;
          } else if (process.env.NODE_ENV !== "production" && typeof console < "u") {
            var be = ue + ":" + te;
            !B[be] && // Avoid spamming the console because they are often not actionable except for lib authors
            X < 3 && (i(
              "You are manually calling a React.PropTypes validation function for the `" + H + "` prop on `" + ue + "`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."
            ), B[be] = !0, X++);
          }
        }
        return ee[te] == null ? K ? ee[te] === null ? new m("The " + V + " `" + H + "` is marked as required " + ("in `" + ue + "`, but its value is `null`.")) : new m("The " + V + " `" + H + "` is marked as required in " + ("`" + ue + "`, but its value is `undefined`.")) : null : D(ee, te, ue, V, H);
      }
      var W = oe.bind(null, !1);
      return W.isRequired = oe.bind(null, !0), W;
    }
    function v(D) {
      function B(X, oe, W, K, ee, te) {
        var ue = X[oe], V = G(ue);
        if (V !== D) {
          var H = q(ue);
          return new m(
            "Invalid " + K + " `" + ee + "` of type " + ("`" + H + "` supplied to `" + W + "`, expected ") + ("`" + D + "`."),
            { expectedType: D }
          );
        }
        return null;
      }
      return y(B);
    }
    function b() {
      return y(o);
    }
    function x(D) {
      function B(X, oe, W, K, ee) {
        if (typeof D != "function")
          return new m("Property `" + ee + "` of component `" + W + "` has invalid PropType notation inside arrayOf.");
        var te = X[oe];
        if (!Array.isArray(te)) {
          var ue = G(te);
          return new m("Invalid " + K + " `" + ee + "` of type " + ("`" + ue + "` supplied to `" + W + "`, expected an array."));
        }
        for (var V = 0; V < te.length; V++) {
          var H = D(te, V, W, K, ee + "[" + V + "]", r);
          if (H instanceof Error)
            return H;
        }
        return null;
      }
      return y(B);
    }
    function S() {
      function D(B, X, oe, W, K) {
        var ee = B[X];
        if (!a(ee)) {
          var te = G(ee);
          return new m("Invalid " + W + " `" + K + "` of type " + ("`" + te + "` supplied to `" + oe + "`, expected a single ReactElement."));
        }
        return null;
      }
      return y(D);
    }
    function w() {
      function D(B, X, oe, W, K) {
        var ee = B[X];
        if (!e.isValidElementType(ee)) {
          var te = G(ee);
          return new m("Invalid " + W + " `" + K + "` of type " + ("`" + te + "` supplied to `" + oe + "`, expected a single ReactElement type."));
        }
        return null;
      }
      return y(D);
    }
    function j(D) {
      function B(X, oe, W, K, ee) {
        if (!(X[oe] instanceof D)) {
          var te = D.name || h, ue = ie(X[oe]);
          return new m("Invalid " + K + " `" + ee + "` of type " + ("`" + ue + "` supplied to `" + W + "`, expected ") + ("instance of `" + te + "`."));
        }
        return null;
      }
      return y(B);
    }
    function N(D) {
      if (!Array.isArray(D))
        return process.env.NODE_ENV !== "production" && (arguments.length > 1 ? i(
          "Invalid arguments supplied to oneOf, expected an array, got " + arguments.length + " arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."
        ) : i("Invalid argument supplied to oneOf, expected an array.")), o;
      function B(X, oe, W, K, ee) {
        for (var te = X[oe], ue = 0; ue < D.length; ue++)
          if (g(te, D[ue]))
            return null;
        var V = JSON.stringify(D, function(se, P) {
          var be = q(P);
          return be === "symbol" ? String(P) : P;
        });
        return new m("Invalid " + K + " `" + ee + "` of value `" + String(te) + "` " + ("supplied to `" + W + "`, expected one of " + V + "."));
      }
      return y(B);
    }
    function k(D) {
      function B(X, oe, W, K, ee) {
        if (typeof D != "function")
          return new m("Property `" + ee + "` of component `" + W + "` has invalid PropType notation inside objectOf.");
        var te = X[oe], ue = G(te);
        if (ue !== "object")
          return new m("Invalid " + K + " `" + ee + "` of type " + ("`" + ue + "` supplied to `" + W + "`, expected an object."));
        for (var V in te)
          if (n(te, V)) {
            var H = D(te, V, W, K, ee + "." + V, r);
            if (H instanceof Error)
              return H;
          }
        return null;
      }
      return y(B);
    }
    function C(D) {
      if (!Array.isArray(D))
        return process.env.NODE_ENV !== "production" && i("Invalid argument supplied to oneOfType, expected an instance of array."), o;
      for (var B = 0; B < D.length; B++) {
        var X = D[B];
        if (typeof X != "function")
          return i(
            "Invalid argument supplied to oneOfType. Expected an array of check functions, but received " + Z(X) + " at index " + B + "."
          ), o;
      }
      function oe(W, K, ee, te, ue) {
        for (var V = [], H = 0; H < D.length; H++) {
          var se = D[H], P = se(W, K, ee, te, ue, r);
          if (P == null)
            return null;
          P.data && n(P.data, "expectedType") && V.push(P.data.expectedType);
        }
        var be = V.length > 0 ? ", expected one of type [" + V.join(", ") + "]" : "";
        return new m("Invalid " + te + " `" + ue + "` supplied to " + ("`" + ee + "`" + be + "."));
      }
      return y(oe);
    }
    function $() {
      function D(B, X, oe, W, K) {
        return z(B[X]) ? null : new m("Invalid " + W + " `" + K + "` supplied to " + ("`" + oe + "`, expected a ReactNode."));
      }
      return y(D);
    }
    function I(D, B, X, oe, W) {
      return new m(
        (D || "React class") + ": " + B + " type `" + X + "." + oe + "` is invalid; it must be a function, usually from the `prop-types` package, but received `" + W + "`."
      );
    }
    function M(D) {
      function B(X, oe, W, K, ee) {
        var te = X[oe], ue = G(te);
        if (ue !== "object")
          return new m("Invalid " + K + " `" + ee + "` of type `" + ue + "` " + ("supplied to `" + W + "`, expected `object`."));
        for (var V in D) {
          var H = D[V];
          if (typeof H != "function")
            return I(W, K, ee, V, q(H));
          var se = H(te, V, W, K, ee + "." + V, r);
          if (se)
            return se;
        }
        return null;
      }
      return y(B);
    }
    function O(D) {
      function B(X, oe, W, K, ee) {
        var te = X[oe], ue = G(te);
        if (ue !== "object")
          return new m("Invalid " + K + " `" + ee + "` of type `" + ue + "` " + ("supplied to `" + W + "`, expected `object`."));
        var V = t({}, X[oe], D);
        for (var H in V) {
          var se = D[H];
          if (n(D, H) && typeof se != "function")
            return I(W, K, ee, H, q(se));
          if (!se)
            return new m(
              "Invalid " + K + " `" + ee + "` key `" + H + "` supplied to `" + W + "`.\nBad object: " + JSON.stringify(X[oe], null, "  ") + `
Valid keys: ` + JSON.stringify(Object.keys(D), null, "  ")
            );
          var P = se(te, H, W, K, ee + "." + H, r);
          if (P)
            return P;
        }
        return null;
      }
      return y(B);
    }
    function z(D) {
      switch (typeof D) {
        case "number":
        case "string":
        case "undefined":
          return !0;
        case "boolean":
          return !D;
        case "object":
          if (Array.isArray(D))
            return D.every(z);
          if (D === null || a(D))
            return !0;
          var B = f(D);
          if (B) {
            var X = B.call(D), oe;
            if (B !== D.entries) {
              for (; !(oe = X.next()).done; )
                if (!z(oe.value))
                  return !1;
            } else
              for (; !(oe = X.next()).done; ) {
                var W = oe.value;
                if (W && !z(W[1]))
                  return !1;
              }
          } else
            return !1;
          return !0;
        default:
          return !1;
      }
    }
    function U(D, B) {
      return D === "symbol" ? !0 : B ? B["@@toStringTag"] === "Symbol" || typeof Symbol == "function" && B instanceof Symbol : !1;
    }
    function G(D) {
      var B = typeof D;
      return Array.isArray(D) ? "array" : D instanceof RegExp ? "object" : U(B, D) ? "symbol" : B;
    }
    function q(D) {
      if (typeof D > "u" || D === null)
        return "" + D;
      var B = G(D);
      if (B === "object") {
        if (D instanceof Date)
          return "date";
        if (D instanceof RegExp)
          return "regexp";
      }
      return B;
    }
    function Z(D) {
      var B = q(D);
      switch (B) {
        case "array":
        case "object":
          return "an " + B;
        case "boolean":
        case "date":
        case "regexp":
          return "a " + B;
        default:
          return B;
      }
    }
    function ie(D) {
      return !D.constructor || !D.constructor.name ? h : D.constructor.name;
    }
    return p.checkPropTypes = s, p.resetWarningCache = s.resetWarningCache, p.PropTypes = p, p;
  }, H0;
}
var Y0, vA;
function Sie() {
  if (vA) return Y0;
  vA = 1;
  var e = EE();
  function t() {
  }
  function r() {
  }
  return r.resetWarningCache = t, Y0 = function() {
    function n(o, a, l, c, d, f) {
      if (f !== e) {
        var h = new Error(
          "Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types"
        );
        throw h.name = "Invariant Violation", h;
      }
    }
    n.isRequired = n;
    function s() {
      return n;
    }
    var i = {
      array: n,
      bigint: n,
      bool: n,
      func: n,
      number: n,
      object: n,
      string: n,
      symbol: n,
      any: n,
      arrayOf: s,
      element: n,
      elementType: n,
      instanceOf: s,
      node: n,
      objectOf: s,
      oneOf: s,
      oneOfType: s,
      shape: s,
      exact: s,
      checkPropTypes: r,
      resetWarningCache: t
    };
    return i.PropTypes = i, i;
  }, Y0;
}
if (process.env.NODE_ENV !== "production") {
  var Eie = a5(), jie = !0;
  s1.exports = _ie()(Eie.isElement, jie);
} else
  s1.exports = Sie()();
var Nie = s1.exports;
const Xt = /* @__PURE__ */ bi(Nie);
function bA(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    t && (n = n.filter(function(s) {
      return Object.getOwnPropertyDescriptor(e, s).enumerable;
    })), r.push.apply(r, n);
  }
  return r;
}
function xA(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2 ? bA(Object(r), !0).forEach(function(n) {
      c5(e, n, r[n]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : bA(Object(r)).forEach(function(n) {
      Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
    });
  }
  return e;
}
function lg(e) {
  "@babel/helpers - typeof";
  return typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? lg = function(t) {
    return typeof t;
  } : lg = function(t) {
    return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t;
  }, lg(e);
}
function c5(e, t, r) {
  return t in e ? Object.defineProperty(e, t, {
    value: r,
    enumerable: !0,
    configurable: !0,
    writable: !0
  }) : e[t] = r, e;
}
function kie(e, t) {
  if (e == null) return {};
  var r = {}, n = Object.keys(e), s, i;
  for (i = 0; i < n.length; i++)
    s = n[i], !(t.indexOf(s) >= 0) && (r[s] = e[s]);
  return r;
}
function Cie(e, t) {
  if (e == null) return {};
  var r = kie(e, t), n, s;
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    for (s = 0; s < i.length; s++)
      n = i[s], !(t.indexOf(n) >= 0) && Object.prototype.propertyIsEnumerable.call(e, n) && (r[n] = e[n]);
  }
  return r;
}
function Tie(e, t) {
  return Aie(e) || Pie(e, t) || Oie(e, t) || Die();
}
function Aie(e) {
  if (Array.isArray(e)) return e;
}
function Pie(e, t) {
  var r = e && (typeof Symbol < "u" && e[Symbol.iterator] || e["@@iterator"]);
  if (r != null) {
    var n = [], s = !0, i = !1, o, a;
    try {
      for (r = r.call(e); !(s = (o = r.next()).done) && (n.push(o.value), !(t && n.length === t)); s = !0)
        ;
    } catch (l) {
      i = !0, a = l;
    } finally {
      try {
        !s && r.return != null && r.return();
      } finally {
        if (i) throw a;
      }
    }
    return n;
  }
}
function Oie(e, t) {
  if (e) {
    if (typeof e == "string") return wA(e, t);
    var r = Object.prototype.toString.call(e).slice(8, -1);
    if (r === "Object" && e.constructor && (r = e.constructor.name), r === "Map" || r === "Set") return Array.from(e);
    if (r === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return wA(e, t);
  }
}
function wA(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
  return n;
}
function Die() {
  throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
var Xn = function(t, r, n) {
  var s = !!n, i = ge.useRef(n);
  ge.useEffect(function() {
    i.current = n;
  }, [n]), ge.useEffect(function() {
    if (!s || !t)
      return function() {
      };
    var o = function() {
      i.current && i.current.apply(i, arguments);
    };
    return t.on(r, o), function() {
      t.off(r, o);
    };
  }, [s, r, t, i]);
}, $ie = function(t) {
  var r = ge.useRef(t);
  return ge.useEffect(function() {
    r.current = t;
  }, [t]), r.current;
}, Kg = function(t) {
  return t !== null && lg(t) === "object";
}, _A = "[object Object]", Rie = function e(t, r) {
  if (!Kg(t) || !Kg(r))
    return t === r;
  var n = Array.isArray(t), s = Array.isArray(r);
  if (n !== s) return !1;
  var i = Object.prototype.toString.call(t) === _A, o = Object.prototype.toString.call(r) === _A;
  if (i !== o) return !1;
  if (!i && !n) return t === r;
  var a = Object.keys(t), l = Object.keys(r);
  if (a.length !== l.length) return !1;
  for (var c = {}, d = 0; d < a.length; d += 1)
    c[a[d]] = !0;
  for (var f = 0; f < l.length; f += 1)
    c[l[f]] = !0;
  var h = Object.keys(c);
  if (h.length !== a.length)
    return !1;
  var p = t, g = r, m = function(v) {
    return e(p[v], g[v]);
  };
  return h.every(m);
}, Iie = function(t, r, n) {
  return Kg(t) ? Object.keys(t).reduce(function(s, i) {
    var o = !Kg(r) || !Rie(t[i], r[i]);
    return n.includes(i) ? (o && console.warn("Unsupported prop change: options.".concat(i, " is not a mutable property.")), s) : o ? xA(xA({}, s || {}), {}, c5({}, i, t[i])) : s;
  }, null) : null;
}, u5 = /* @__PURE__ */ ge.createContext(null);
u5.displayName = "ElementsContext";
var Mie = function(t, r) {
  if (!t)
    throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(r, " in an <Elements> provider."));
  return t;
};
Xt.any, Xt.object;
Xt.func.isRequired;
var d5 = /* @__PURE__ */ ge.createContext(null);
d5.displayName = "CheckoutSdkContext";
var Lie = function(t, r) {
  if (!t)
    throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(r, " in an <CheckoutProvider> provider."));
  return t;
}, Fie = /* @__PURE__ */ ge.createContext(null);
Fie.displayName = "CheckoutContext";
Xt.any, Xt.shape({
  fetchClientSecret: Xt.func.isRequired,
  elementsOptions: Xt.object
}).isRequired;
var SA = function(t) {
  var r = ge.useContext(d5), n = ge.useContext(u5);
  if (r && n)
    throw new Error("You cannot wrap the part of your app that ".concat(t, " in both <CheckoutProvider> and <Elements> providers."));
  return r ? Lie(r, t) : Mie(n, t);
}, Bie = ["mode"], zie = function(t) {
  return t.charAt(0).toUpperCase() + t.slice(1);
}, fr = function(t, r) {
  var n = "".concat(zie(t), "Element"), s = function(l) {
    var c = l.id, d = l.className, f = l.options, h = f === void 0 ? {} : f, p = l.onBlur, g = l.onFocus, m = l.onReady, y = l.onChange, v = l.onEscape, b = l.onClick, x = l.onLoadError, S = l.onLoaderStart, w = l.onNetworksChange, j = l.onConfirm, N = l.onCancel, k = l.onShippingAddressChange, C = l.onShippingRateChange, $ = SA("mounts <".concat(n, ">")), I = "elements" in $ ? $.elements : null, M = "checkoutSdk" in $ ? $.checkoutSdk : null, O = ge.useState(null), z = Tie(O, 2), U = z[0], G = z[1], q = ge.useRef(null), Z = ge.useRef(null);
    Xn(U, "blur", p), Xn(U, "focus", g), Xn(U, "escape", v), Xn(U, "click", b), Xn(U, "loaderror", x), Xn(U, "loaderstart", S), Xn(U, "networkschange", w), Xn(U, "confirm", j), Xn(U, "cancel", N), Xn(U, "shippingaddresschange", k), Xn(U, "shippingratechange", C), Xn(U, "change", y);
    var ie;
    m && (t === "expressCheckout" ? ie = m : ie = function() {
      m(U);
    }), Xn(U, "ready", ie), ge.useLayoutEffect(function() {
      if (q.current === null && Z.current !== null && (I || M)) {
        var B = null;
        if (M)
          switch (t) {
            case "payment":
              B = M.createPaymentElement(h);
              break;
            case "address":
              if ("mode" in h) {
                var X = h.mode, oe = Cie(h, Bie);
                if (X === "shipping")
                  B = M.createShippingAddressElement(oe);
                else if (X === "billing")
                  B = M.createBillingAddressElement(oe);
                else
                  throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.");
              } else
                throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");
              break;
            case "expressCheckout":
              B = M.createExpressCheckoutElement(h);
              break;
            case "currencySelector":
              B = M.createCurrencySelectorElement();
              break;
            case "taxId":
              B = M.createTaxIdElement(h);
              break;
            default:
              throw new Error("Invalid Element type ".concat(n, ". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."));
          }
        else I && (B = I.create(t, h));
        q.current = B, G(B), B && B.mount(Z.current);
      }
    }, [I, M, h]);
    var D = $ie(h);
    return ge.useEffect(function() {
      if (q.current) {
        var B = Iie(h, D, ["paymentRequest"]);
        B && "update" in q.current && q.current.update(B);
      }
    }, [h, D]), ge.useLayoutEffect(function() {
      return function() {
        if (q.current && typeof q.current.destroy == "function")
          try {
            q.current.destroy(), q.current = null;
          } catch {
          }
      };
    }, []), /* @__PURE__ */ ge.createElement("div", {
      id: c,
      className: d,
      ref: Z
    });
  }, i = function(l) {
    SA("mounts <".concat(n, ">"));
    var c = l.id, d = l.className;
    return /* @__PURE__ */ ge.createElement("div", {
      id: c,
      className: d
    });
  }, o = r ? i : s;
  return o.propTypes = {
    id: Xt.string,
    className: Xt.string,
    onChange: Xt.func,
    onBlur: Xt.func,
    onFocus: Xt.func,
    onReady: Xt.func,
    onEscape: Xt.func,
    onClick: Xt.func,
    onLoadError: Xt.func,
    onLoaderStart: Xt.func,
    onNetworksChange: Xt.func,
    onConfirm: Xt.func,
    onCancel: Xt.func,
    onShippingAddressChange: Xt.func,
    onShippingRateChange: Xt.func,
    options: Xt.object
  }, o.displayName = n, o.__elementType = t, o;
}, hr = typeof window > "u", Uie = /* @__PURE__ */ ge.createContext(null);
Uie.displayName = "EmbeddedCheckoutProviderContext";
fr("auBankAccount", hr);
fr("card", hr);
fr("cardNumber", hr);
fr("cardExpiry", hr);
fr("cardCvc", hr);
fr("fpxBank", hr);
fr("iban", hr);
fr("idealBank", hr);
fr("p24Bank", hr);
fr("epsBank", hr);
fr("payment", hr);
fr("expressCheckout", hr);
fr("currencySelector", hr);
fr("paymentRequestButton", hr);
fr("linkAuthentication", hr);
fr("address", hr);
fr("shippingAddress", hr);
fr("paymentMethodMessaging", hr);
fr("affirmMessage", hr);
fr("afterpayClearpayMessage", hr);
fr("taxId", hr);
yie("pk_test_your_key_here");
const f5 = (e) => u.jsx("div", { className: "max-w-md mx-auto bg-background-light rounded-2xl p-6 border border-border/30", children: u.jsxs("div", { className: "text-center", children: [u.jsx(tG, { className: "w-16 h-16 text-warning mx-auto mb-4" }), u.jsx("h3", { className: "text-xl font-bold text-text-light mb-2", children: "Stripe Not Configured" }), u.jsx("p", { className: "text-text-dark mb-4", children: "Please configure your Stripe publishable key in the environment variables to enable checkout functionality." }), u.jsx("div", { className: "bg-background/30 p-4 rounded-xl border border-border/30", children: u.jsx("p", { className: "text-sm text-text-dark font-mono", children: "VITE_STRIPE_PUBLISHABLE_KEY=pk_test_your_actual_key_here" }) }), u.jsx("button", { onClick: e.onCancel, className: "mt-4 px-6 py-2 bg-secondary text-background rounded-xl hover:bg-secondary-dark transition-colors", children: "Close" })] }) }), h5 = dr({});
function qie(e) {
  const t = We(null);
  return t.current === null && (t.current = e()), t.current;
}
const jE = typeof window < "u", Vie = jE ? rl : ve, NE = /* @__PURE__ */ dr(null);
function kE(e, t) {
  e.indexOf(t) === -1 && e.push(t);
}
function CE(e, t) {
  const r = e.indexOf(t);
  r > -1 && e.splice(r, 1);
}
const Bo = (e, t, r) => r > t ? t : r < e ? e : r;
function i1(e, t) {
  return t ? `${e}. For more information and steps for solving, visit https://motion.dev/troubleshooting/${t}` : e;
}
let xd = () => {
}, zo = () => {
};
process.env.NODE_ENV !== "production" && (xd = (e, t, r) => {
  !e && typeof console < "u" && console.warn(i1(t, r));
}, zo = (e, t, r) => {
  if (!e)
    throw new Error(i1(t, r));
});
const Uo = {}, p5 = (e) => /^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);
function m5(e) {
  return typeof e == "object" && e !== null;
}
const g5 = (e) => /^0[^.\s]+$/u.test(e);
// @__NO_SIDE_EFFECTS__
function TE(e) {
  let t;
  return () => (t === void 0 && (t = e()), t);
}
const Os = /* @__NO_SIDE_EFFECTS__ */ (e) => e, Wie = (e, t) => (r) => t(e(r)), lp = (...e) => e.reduce(Wie), gh = /* @__NO_SIDE_EFFECTS__ */ (e, t, r) => {
  const n = t - e;
  return n === 0 ? 1 : (r - e) / n;
};
class AE {
  constructor() {
    this.subscriptions = [];
  }
  add(t) {
    return kE(this.subscriptions, t), () => CE(this.subscriptions, t);
  }
  notify(t, r, n) {
    const s = this.subscriptions.length;
    if (s)
      if (s === 1)
        this.subscriptions[0](t, r, n);
      else
        for (let i = 0; i < s; i++) {
          const o = this.subscriptions[i];
          o && o(t, r, n);
        }
  }
  getSize() {
    return this.subscriptions.length;
  }
  clear() {
    this.subscriptions.length = 0;
  }
}
const ui = /* @__NO_SIDE_EFFECTS__ */ (e) => e * 1e3, qi = /* @__NO_SIDE_EFFECTS__ */ (e) => e / 1e3;
function y5(e, t) {
  return t ? e * (1e3 / t) : 0;
}
const EA = /* @__PURE__ */ new Set();
function PE(e, t, r) {
  e || EA.has(t) || (console.warn(i1(t, r)), EA.add(t));
}
const v5 = (e, t, r) => (((1 - 3 * r + 3 * t) * e + (3 * r - 6 * t)) * e + 3 * t) * e, Kie = 1e-7, Hie = 12;
function Yie(e, t, r, n, s) {
  let i, o, a = 0;
  do
    o = t + (r - t) / 2, i = v5(o, n, s) - e, i > 0 ? r = o : t = o;
  while (Math.abs(i) > Kie && ++a < Hie);
  return o;
}
function cp(e, t, r, n) {
  if (e === t && r === n)
    return Os;
  const s = (i) => Yie(i, 0, 1, e, r);
  return (i) => i === 0 || i === 1 ? i : v5(s(i), t, n);
}
const b5 = (e) => (t) => t <= 0.5 ? e(2 * t) / 2 : (2 - e(2 * (1 - t))) / 2, x5 = (e) => (t) => 1 - e(1 - t), w5 = /* @__PURE__ */ cp(0.33, 1.53, 0.69, 0.99), OE = /* @__PURE__ */ x5(w5), _5 = /* @__PURE__ */ b5(OE), S5 = (e) => (e *= 2) < 1 ? 0.5 * OE(e) : 0.5 * (2 - Math.pow(2, -10 * (e - 1))), DE = (e) => 1 - Math.sin(Math.acos(e)), E5 = x5(DE), j5 = b5(DE), Gie = /* @__PURE__ */ cp(0.42, 0, 1, 1), Zie = /* @__PURE__ */ cp(0, 0, 0.58, 1), N5 = /* @__PURE__ */ cp(0.42, 0, 0.58, 1), Xie = (e) => Array.isArray(e) && typeof e[0] != "number", k5 = (e) => Array.isArray(e) && typeof e[0] == "number", jA = {
  linear: Os,
  easeIn: Gie,
  easeInOut: N5,
  easeOut: Zie,
  circIn: DE,
  circInOut: j5,
  circOut: E5,
  backIn: OE,
  backInOut: _5,
  backOut: w5,
  anticipate: S5
}, Jie = (e) => typeof e == "string", NA = (e) => {
  if (k5(e)) {
    zo(e.length === 4, "Cubic bezier arrays must contain four numerical values.", "cubic-bezier-length");
    const [t, r, n, s] = e;
    return cp(t, r, n, s);
  } else if (Jie(e))
    return zo(jA[e] !== void 0, `Invalid easing type '${e}'`, "invalid-easing-type"), jA[e];
  return e;
}, Sm = [
  "setup",
  // Compute
  "read",
  // Read
  "resolveKeyframes",
  // Write/Read/Write/Read
  "preUpdate",
  // Compute
  "update",
  // Compute
  "preRender",
  // Compute
  "render",
  // Write
  "postRender"
  // Compute
];
function Qie(e, t) {
  let r = /* @__PURE__ */ new Set(), n = /* @__PURE__ */ new Set(), s = !1, i = !1;
  const o = /* @__PURE__ */ new WeakSet();
  let a = {
    delta: 0,
    timestamp: 0,
    isProcessing: !1
  };
  function l(d) {
    o.has(d) && (c.schedule(d), e()), d(a);
  }
  const c = {
    /**
     * Schedule a process to run on the next frame.
     */
    schedule: (d, f = !1, h = !1) => {
      const g = h && s ? r : n;
      return f && o.add(d), g.has(d) || g.add(d), d;
    },
    /**
     * Cancel the provided callback from running on the next frame.
     */
    cancel: (d) => {
      n.delete(d), o.delete(d);
    },
    /**
     * Execute all schedule callbacks.
     */
    process: (d) => {
      if (a = d, s) {
        i = !0;
        return;
      }
      s = !0, [r, n] = [n, r], r.forEach(l), r.clear(), s = !1, i && (i = !1, c.process(d));
    }
  };
  return c;
}
const eoe = 40;
function C5(e, t) {
  let r = !1, n = !0;
  const s = {
    delta: 0,
    timestamp: 0,
    isProcessing: !1
  }, i = () => r = !0, o = Sm.reduce((x, S) => (x[S] = Qie(i), x), {}), { setup: a, read: l, resolveKeyframes: c, preUpdate: d, update: f, preRender: h, render: p, postRender: g } = o, m = () => {
    const x = Uo.useManualTiming ? s.timestamp : performance.now();
    r = !1, Uo.useManualTiming || (s.delta = n ? 1e3 / 60 : Math.max(Math.min(x - s.timestamp, eoe), 1)), s.timestamp = x, s.isProcessing = !0, a.process(s), l.process(s), c.process(s), d.process(s), f.process(s), h.process(s), p.process(s), g.process(s), s.isProcessing = !1, r && t && (n = !1, e(m));
  }, y = () => {
    r = !0, n = !0, s.isProcessing || e(m);
  };
  return { schedule: Sm.reduce((x, S) => {
    const w = o[S];
    return x[S] = (j, N = !1, k = !1) => (r || y(), w.schedule(j, N, k)), x;
  }, {}), cancel: (x) => {
    for (let S = 0; S < Sm.length; S++)
      o[Sm[S]].cancel(x);
  }, state: s, steps: o };
}
const { schedule: Wt, cancel: Xa, state: Qr, steps: G0 } = /* @__PURE__ */ C5(typeof requestAnimationFrame < "u" ? requestAnimationFrame : Os, !0);
let cg;
function toe() {
  cg = void 0;
}
const zn = {
  now: () => (cg === void 0 && zn.set(Qr.isProcessing || Uo.useManualTiming ? Qr.timestamp : performance.now()), cg),
  set: (e) => {
    cg = e, queueMicrotask(toe);
  }
}, T5 = (e) => (t) => typeof t == "string" && t.startsWith(e), $E = /* @__PURE__ */ T5("--"), roe = /* @__PURE__ */ T5("var(--"), RE = (e) => roe(e) ? noe.test(e.split("/*")[0].trim()) : !1, noe = /var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu, wd = {
  test: (e) => typeof e == "number",
  parse: parseFloat,
  transform: (e) => e
}, yh = {
  ...wd,
  transform: (e) => Bo(0, 1, e)
}, Em = {
  ...wd,
  default: 1
}, Wf = (e) => Math.round(e * 1e5) / 1e5, IE = /-?(?:\d+(?:\.\d+)?|\.\d+)/gu;
function soe(e) {
  return e == null;
}
const ioe = /^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu, ME = (e, t) => (r) => !!(typeof r == "string" && ioe.test(r) && r.startsWith(e) || t && !soe(r) && Object.prototype.hasOwnProperty.call(r, t)), A5 = (e, t, r) => (n) => {
  if (typeof n != "string")
    return n;
  const [s, i, o, a] = n.match(IE);
  return {
    [e]: parseFloat(s),
    [t]: parseFloat(i),
    [r]: parseFloat(o),
    alpha: a !== void 0 ? parseFloat(a) : 1
  };
}, ooe = (e) => Bo(0, 255, e), Z0 = {
  ...wd,
  transform: (e) => Math.round(ooe(e))
}, Rl = {
  test: /* @__PURE__ */ ME("rgb", "red"),
  parse: /* @__PURE__ */ A5("red", "green", "blue"),
  transform: ({ red: e, green: t, blue: r, alpha: n = 1 }) => "rgba(" + Z0.transform(e) + ", " + Z0.transform(t) + ", " + Z0.transform(r) + ", " + Wf(yh.transform(n)) + ")"
};
function aoe(e) {
  let t = "", r = "", n = "", s = "";
  return e.length > 5 ? (t = e.substring(1, 3), r = e.substring(3, 5), n = e.substring(5, 7), s = e.substring(7, 9)) : (t = e.substring(1, 2), r = e.substring(2, 3), n = e.substring(3, 4), s = e.substring(4, 5), t += t, r += r, n += n, s += s), {
    red: parseInt(t, 16),
    green: parseInt(r, 16),
    blue: parseInt(n, 16),
    alpha: s ? parseInt(s, 16) / 255 : 1
  };
}
const o1 = {
  test: /* @__PURE__ */ ME("#"),
  parse: aoe,
  transform: Rl.transform
}, up = /* @__NO_SIDE_EFFECTS__ */ (e) => ({
  test: (t) => typeof t == "string" && t.endsWith(e) && t.split(" ").length === 1,
  parse: parseFloat,
  transform: (t) => `${t}${e}`
}), Ea = /* @__PURE__ */ up("deg"), Vi = /* @__PURE__ */ up("%"), qe = /* @__PURE__ */ up("px"), loe = /* @__PURE__ */ up("vh"), coe = /* @__PURE__ */ up("vw"), kA = {
  ...Vi,
  parse: (e) => Vi.parse(e) / 100,
  transform: (e) => Vi.transform(e * 100)
}, lu = {
  test: /* @__PURE__ */ ME("hsl", "hue"),
  parse: /* @__PURE__ */ A5("hue", "saturation", "lightness"),
  transform: ({ hue: e, saturation: t, lightness: r, alpha: n = 1 }) => "hsla(" + Math.round(e) + ", " + Vi.transform(Wf(t)) + ", " + Vi.transform(Wf(r)) + ", " + Wf(yh.transform(n)) + ")"
}, yr = {
  test: (e) => Rl.test(e) || o1.test(e) || lu.test(e),
  parse: (e) => Rl.test(e) ? Rl.parse(e) : lu.test(e) ? lu.parse(e) : o1.parse(e),
  transform: (e) => typeof e == "string" ? e : e.hasOwnProperty("red") ? Rl.transform(e) : lu.transform(e),
  getAnimatableNone: (e) => {
    const t = yr.parse(e);
    return t.alpha = 0, yr.transform(t);
  }
}, uoe = /(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;
function doe(e) {
  var t, r;
  return isNaN(e) && typeof e == "string" && (((t = e.match(IE)) == null ? void 0 : t.length) || 0) + (((r = e.match(uoe)) == null ? void 0 : r.length) || 0) > 0;
}
const P5 = "number", O5 = "color", foe = "var", hoe = "var(", CA = "${}", poe = /var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;
function vh(e) {
  const t = e.toString(), r = [], n = {
    color: [],
    number: [],
    var: []
  }, s = [];
  let i = 0;
  const a = t.replace(poe, (l) => (yr.test(l) ? (n.color.push(i), s.push(O5), r.push(yr.parse(l))) : l.startsWith(hoe) ? (n.var.push(i), s.push(foe), r.push(l)) : (n.number.push(i), s.push(P5), r.push(parseFloat(l))), ++i, CA)).split(CA);
  return { values: r, split: a, indexes: n, types: s };
}
function D5(e) {
  return vh(e).values;
}
function $5(e) {
  const { split: t, types: r } = vh(e), n = t.length;
  return (s) => {
    let i = "";
    for (let o = 0; o < n; o++)
      if (i += t[o], s[o] !== void 0) {
        const a = r[o];
        a === P5 ? i += Wf(s[o]) : a === O5 ? i += yr.transform(s[o]) : i += s[o];
      }
    return i;
  };
}
const moe = (e) => typeof e == "number" ? 0 : yr.test(e) ? yr.getAnimatableNone(e) : e;
function goe(e) {
  const t = D5(e);
  return $5(e)(t.map(moe));
}
const Ja = {
  test: doe,
  parse: D5,
  createTransformer: $5,
  getAnimatableNone: goe
};
function X0(e, t, r) {
  return r < 0 && (r += 1), r > 1 && (r -= 1), r < 1 / 6 ? e + (t - e) * 6 * r : r < 1 / 2 ? t : r < 2 / 3 ? e + (t - e) * (2 / 3 - r) * 6 : e;
}
function yoe({ hue: e, saturation: t, lightness: r, alpha: n }) {
  e /= 360, t /= 100, r /= 100;
  let s = 0, i = 0, o = 0;
  if (!t)
    s = i = o = r;
  else {
    const a = r < 0.5 ? r * (1 + t) : r + t - r * t, l = 2 * r - a;
    s = X0(l, a, e + 1 / 3), i = X0(l, a, e), o = X0(l, a, e - 1 / 3);
  }
  return {
    red: Math.round(s * 255),
    green: Math.round(i * 255),
    blue: Math.round(o * 255),
    alpha: n
  };
}
function Hg(e, t) {
  return (r) => r > 0 ? t : e;
}
const er = (e, t, r) => e + (t - e) * r, J0 = (e, t, r) => {
  const n = e * e, s = r * (t * t - n) + n;
  return s < 0 ? 0 : Math.sqrt(s);
}, voe = [o1, Rl, lu], boe = (e) => voe.find((t) => t.test(e));
function TA(e) {
  const t = boe(e);
  if (xd(!!t, `'${e}' is not an animatable color. Use the equivalent color code instead.`, "color-not-animatable"), !t)
    return !1;
  let r = t.parse(e);
  return t === lu && (r = yoe(r)), r;
}
const AA = (e, t) => {
  const r = TA(e), n = TA(t);
  if (!r || !n)
    return Hg(e, t);
  const s = { ...r };
  return (i) => (s.red = J0(r.red, n.red, i), s.green = J0(r.green, n.green, i), s.blue = J0(r.blue, n.blue, i), s.alpha = er(r.alpha, n.alpha, i), Rl.transform(s));
}, a1 = /* @__PURE__ */ new Set(["none", "hidden"]);
function xoe(e, t) {
  return a1.has(e) ? (r) => r <= 0 ? e : t : (r) => r >= 1 ? t : e;
}
function woe(e, t) {
  return (r) => er(e, t, r);
}
function LE(e) {
  return typeof e == "number" ? woe : typeof e == "string" ? RE(e) ? Hg : yr.test(e) ? AA : Eoe : Array.isArray(e) ? R5 : typeof e == "object" ? yr.test(e) ? AA : _oe : Hg;
}
function R5(e, t) {
  const r = [...e], n = r.length, s = e.map((i, o) => LE(i)(i, t[o]));
  return (i) => {
    for (let o = 0; o < n; o++)
      r[o] = s[o](i);
    return r;
  };
}
function _oe(e, t) {
  const r = { ...e, ...t }, n = {};
  for (const s in r)
    e[s] !== void 0 && t[s] !== void 0 && (n[s] = LE(e[s])(e[s], t[s]));
  return (s) => {
    for (const i in n)
      r[i] = n[i](s);
    return r;
  };
}
function Soe(e, t) {
  const r = [], n = { color: 0, var: 0, number: 0 };
  for (let s = 0; s < t.values.length; s++) {
    const i = t.types[s], o = e.indexes[i][n[i]], a = e.values[o] ?? 0;
    r[s] = a, n[i]++;
  }
  return r;
}
const Eoe = (e, t) => {
  const r = Ja.createTransformer(t), n = vh(e), s = vh(t);
  return n.indexes.var.length === s.indexes.var.length && n.indexes.color.length === s.indexes.color.length && n.indexes.number.length >= s.indexes.number.length ? a1.has(e) && !s.values.length || a1.has(t) && !n.values.length ? xoe(e, t) : lp(R5(Soe(n, s), s.values), r) : (xd(!0, `Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`, "complex-values-different"), Hg(e, t));
};
function I5(e, t, r) {
  return typeof e == "number" && typeof t == "number" && typeof r == "number" ? er(e, t, r) : LE(e)(e, t);
}
const joe = (e) => {
  const t = ({ timestamp: r }) => e(r);
  return {
    start: (r = !0) => Wt.update(t, r),
    stop: () => Xa(t),
    /**
     * If we're processing this frame we can use the
     * framelocked timestamp to keep things in sync.
     */
    now: () => Qr.isProcessing ? Qr.timestamp : zn.now()
  };
}, M5 = (e, t, r = 10) => {
  let n = "";
  const s = Math.max(Math.round(t / r), 2);
  for (let i = 0; i < s; i++)
    n += Math.round(e(i / (s - 1)) * 1e4) / 1e4 + ", ";
  return `linear(${n.substring(0, n.length - 2)})`;
}, Yg = 2e4;
function FE(e) {
  let t = 0;
  const r = 50;
  let n = e.next(t);
  for (; !n.done && t < Yg; )
    t += r, n = e.next(t);
  return t >= Yg ? 1 / 0 : t;
}
function Noe(e, t = 100, r) {
  const n = r({ ...e, keyframes: [0, t] }), s = Math.min(FE(n), Yg);
  return {
    type: "keyframes",
    ease: (i) => n.next(s * i).value / t,
    duration: /* @__PURE__ */ qi(s)
  };
}
const koe = 5;
function L5(e, t, r) {
  const n = Math.max(t - koe, 0);
  return y5(r - e(n), t - n);
}
const Jt = {
  // Default spring physics
  stiffness: 100,
  damping: 10,
  mass: 1,
  velocity: 0,
  // Default duration/bounce-based options
  duration: 800,
  // in ms
  bounce: 0.3,
  visualDuration: 0.3,
  // in seconds
  // Rest thresholds
  restSpeed: {
    granular: 0.01,
    default: 2
  },
  restDelta: {
    granular: 5e-3,
    default: 0.5
  },
  // Limits
  minDuration: 0.01,
  // in seconds
  maxDuration: 10,
  // in seconds
  minDamping: 0.05,
  maxDamping: 1
}, Q0 = 1e-3;
function Coe({ duration: e = Jt.duration, bounce: t = Jt.bounce, velocity: r = Jt.velocity, mass: n = Jt.mass }) {
  let s, i;
  xd(e <= /* @__PURE__ */ ui(Jt.maxDuration), "Spring duration must be 10 seconds or less", "spring-duration-limit");
  let o = 1 - t;
  o = Bo(Jt.minDamping, Jt.maxDamping, o), e = Bo(Jt.minDuration, Jt.maxDuration, /* @__PURE__ */ qi(e)), o < 1 ? (s = (c) => {
    const d = c * o, f = d * e, h = d - r, p = l1(c, o), g = Math.exp(-f);
    return Q0 - h / p * g;
  }, i = (c) => {
    const f = c * o * e, h = f * r + r, p = Math.pow(o, 2) * Math.pow(c, 2) * e, g = Math.exp(-f), m = l1(Math.pow(c, 2), o);
    return (-s(c) + Q0 > 0 ? -1 : 1) * ((h - p) * g) / m;
  }) : (s = (c) => {
    const d = Math.exp(-c * e), f = (c - r) * e + 1;
    return -Q0 + d * f;
  }, i = (c) => {
    const d = Math.exp(-c * e), f = (r - c) * (e * e);
    return d * f;
  });
  const a = 5 / e, l = Aoe(s, i, a);
  if (e = /* @__PURE__ */ ui(e), isNaN(l))
    return {
      stiffness: Jt.stiffness,
      damping: Jt.damping,
      duration: e
    };
  {
    const c = Math.pow(l, 2) * n;
    return {
      stiffness: c,
      damping: o * 2 * Math.sqrt(n * c),
      duration: e
    };
  }
}
const Toe = 12;
function Aoe(e, t, r) {
  let n = r;
  for (let s = 1; s < Toe; s++)
    n = n - e(n) / t(n);
  return n;
}
function l1(e, t) {
  return e * Math.sqrt(1 - t * t);
}
const Poe = ["duration", "bounce"], Ooe = ["stiffness", "damping", "mass"];
function PA(e, t) {
  return t.some((r) => e[r] !== void 0);
}
function Doe(e) {
  let t = {
    velocity: Jt.velocity,
    stiffness: Jt.stiffness,
    damping: Jt.damping,
    mass: Jt.mass,
    isResolvedFromDuration: !1,
    ...e
  };
  if (!PA(e, Ooe) && PA(e, Poe))
    if (e.visualDuration) {
      const r = e.visualDuration, n = 2 * Math.PI / (r * 1.2), s = n * n, i = 2 * Bo(0.05, 1, 1 - (e.bounce || 0)) * Math.sqrt(s);
      t = {
        ...t,
        mass: Jt.mass,
        stiffness: s,
        damping: i
      };
    } else {
      const r = Coe(e);
      t = {
        ...t,
        ...r,
        mass: Jt.mass
      }, t.isResolvedFromDuration = !0;
    }
  return t;
}
function Gg(e = Jt.visualDuration, t = Jt.bounce) {
  const r = typeof e != "object" ? {
    visualDuration: e,
    keyframes: [0, 1],
    bounce: t
  } : e;
  let { restSpeed: n, restDelta: s } = r;
  const i = r.keyframes[0], o = r.keyframes[r.keyframes.length - 1], a = { done: !1, value: i }, { stiffness: l, damping: c, mass: d, duration: f, velocity: h, isResolvedFromDuration: p } = Doe({
    ...r,
    velocity: -/* @__PURE__ */ qi(r.velocity || 0)
  }), g = h || 0, m = c / (2 * Math.sqrt(l * d)), y = o - i, v = /* @__PURE__ */ qi(Math.sqrt(l / d)), b = Math.abs(y) < 5;
  n || (n = b ? Jt.restSpeed.granular : Jt.restSpeed.default), s || (s = b ? Jt.restDelta.granular : Jt.restDelta.default);
  let x;
  if (m < 1) {
    const w = l1(v, m);
    x = (j) => {
      const N = Math.exp(-m * v * j);
      return o - N * ((g + m * v * y) / w * Math.sin(w * j) + y * Math.cos(w * j));
    };
  } else if (m === 1)
    x = (w) => o - Math.exp(-v * w) * (y + (g + v * y) * w);
  else {
    const w = v * Math.sqrt(m * m - 1);
    x = (j) => {
      const N = Math.exp(-m * v * j), k = Math.min(w * j, 300);
      return o - N * ((g + m * v * y) * Math.sinh(k) + w * y * Math.cosh(k)) / w;
    };
  }
  const S = {
    calculatedDuration: p && f || null,
    next: (w) => {
      const j = x(w);
      if (p)
        a.done = w >= f;
      else {
        let N = w === 0 ? g : 0;
        m < 1 && (N = w === 0 ? /* @__PURE__ */ ui(g) : L5(x, w, j));
        const k = Math.abs(N) <= n, C = Math.abs(o - j) <= s;
        a.done = k && C;
      }
      return a.value = a.done ? o : j, a;
    },
    toString: () => {
      const w = Math.min(FE(S), Yg), j = M5((N) => S.next(w * N).value, w, 30);
      return w + "ms " + j;
    },
    toTransition: () => {
    }
  };
  return S;
}
Gg.applyToOptions = (e) => {
  const t = Noe(e, 100, Gg);
  return e.ease = t.ease, e.duration = /* @__PURE__ */ ui(t.duration), e.type = "keyframes", e;
};
function c1({ keyframes: e, velocity: t = 0, power: r = 0.8, timeConstant: n = 325, bounceDamping: s = 10, bounceStiffness: i = 500, modifyTarget: o, min: a, max: l, restDelta: c = 0.5, restSpeed: d }) {
  const f = e[0], h = {
    done: !1,
    value: f
  }, p = (k) => a !== void 0 && k < a || l !== void 0 && k > l, g = (k) => a === void 0 ? l : l === void 0 || Math.abs(a - k) < Math.abs(l - k) ? a : l;
  let m = r * t;
  const y = f + m, v = o === void 0 ? y : o(y);
  v !== y && (m = v - f);
  const b = (k) => -m * Math.exp(-k / n), x = (k) => v + b(k), S = (k) => {
    const C = b(k), $ = x(k);
    h.done = Math.abs(C) <= c, h.value = h.done ? v : $;
  };
  let w, j;
  const N = (k) => {
    p(h.value) && (w = k, j = Gg({
      keyframes: [h.value, g(h.value)],
      velocity: L5(x, k, h.value),
      // TODO: This should be passing * 1000
      damping: s,
      stiffness: i,
      restDelta: c,
      restSpeed: d
    }));
  };
  return N(0), {
    calculatedDuration: null,
    next: (k) => {
      let C = !1;
      return !j && w === void 0 && (C = !0, S(k), N(k)), w !== void 0 && k >= w ? j.next(k - w) : (!C && S(k), h);
    }
  };
}
function $oe(e, t, r) {
  const n = [], s = r || Uo.mix || I5, i = e.length - 1;
  for (let o = 0; o < i; o++) {
    let a = s(e[o], e[o + 1]);
    if (t) {
      const l = Array.isArray(t) ? t[o] || Os : t;
      a = lp(l, a);
    }
    n.push(a);
  }
  return n;
}
function Roe(e, t, { clamp: r = !0, ease: n, mixer: s } = {}) {
  const i = e.length;
  if (zo(i === t.length, "Both input and output ranges must be the same length", "range-length"), i === 1)
    return () => t[0];
  if (i === 2 && t[0] === t[1])
    return () => t[1];
  const o = e[0] === e[1];
  e[0] > e[i - 1] && (e = [...e].reverse(), t = [...t].reverse());
  const a = $oe(t, n, s), l = a.length, c = (d) => {
    if (o && d < e[0])
      return t[0];
    let f = 0;
    if (l > 1)
      for (; f < e.length - 2 && !(d < e[f + 1]); f++)
        ;
    const h = /* @__PURE__ */ gh(e[f], e[f + 1], d);
    return a[f](h);
  };
  return r ? (d) => c(Bo(e[0], e[i - 1], d)) : c;
}
function Ioe(e, t) {
  const r = e[e.length - 1];
  for (let n = 1; n <= t; n++) {
    const s = /* @__PURE__ */ gh(0, t, n);
    e.push(er(r, 1, s));
  }
}
function Moe(e) {
  const t = [0];
  return Ioe(t, e.length - 1), t;
}
function Loe(e, t) {
  return e.map((r) => r * t);
}
function Foe(e, t) {
  return e.map(() => t || N5).splice(0, e.length - 1);
}
function cu({ duration: e = 300, keyframes: t, times: r, ease: n = "easeInOut" }) {
  const s = Xie(n) ? n.map(NA) : NA(n), i = {
    done: !1,
    value: t[0]
  }, o = Loe(
    // Only use the provided offsets if they're the correct length
    // TODO Maybe we should warn here if there's a length mismatch
    r && r.length === t.length ? r : Moe(t),
    e
  ), a = Roe(o, t, {
    ease: Array.isArray(s) ? s : Foe(t, s)
  });
  return {
    calculatedDuration: e,
    next: (l) => (i.value = a(l), i.done = l >= e, i)
  };
}
const Boe = (e) => e !== null;
function BE(e, { repeat: t, repeatType: r = "loop" }, n, s = 1) {
  const i = e.filter(Boe), a = s < 0 || t && r !== "loop" && t % 2 === 1 ? 0 : i.length - 1;
  return !a || n === void 0 ? i[a] : n;
}
const zoe = {
  decay: c1,
  inertia: c1,
  tween: cu,
  keyframes: cu,
  spring: Gg
};
function F5(e) {
  typeof e.type == "string" && (e.type = zoe[e.type]);
}
class zE {
  constructor() {
    this.updateFinished();
  }
  get finished() {
    return this._finished;
  }
  updateFinished() {
    this._finished = new Promise((t) => {
      this.resolve = t;
    });
  }
  notifyFinished() {
    this.resolve();
  }
  /**
   * Allows the animation to be awaited.
   *
   * @deprecated Use `finished` instead.
   */
  then(t, r) {
    return this.finished.then(t, r);
  }
}
const Uoe = (e) => e / 100;
class UE extends zE {
  constructor(t) {
    super(), this.state = "idle", this.startTime = null, this.isStopped = !1, this.currentTime = 0, this.holdTime = null, this.playbackSpeed = 1, this.stop = () => {
      var n, s;
      const { motionValue: r } = this.options;
      r && r.updatedAt !== zn.now() && this.tick(zn.now()), this.isStopped = !0, this.state !== "idle" && (this.teardown(), (s = (n = this.options).onStop) == null || s.call(n));
    }, this.options = t, this.initAnimation(), this.play(), t.autoplay === !1 && this.pause();
  }
  initAnimation() {
    const { options: t } = this;
    F5(t);
    const { type: r = cu, repeat: n = 0, repeatDelay: s = 0, repeatType: i, velocity: o = 0 } = t;
    let { keyframes: a } = t;
    const l = r || cu;
    process.env.NODE_ENV !== "production" && l !== cu && zo(a.length <= 2, `Only two keyframes currently supported with spring and inertia animations. Trying to animate ${a}`, "spring-two-frames"), l !== cu && typeof a[0] != "number" && (this.mixKeyframes = lp(Uoe, I5(a[0], a[1])), a = [0, 100]);
    const c = l({ ...t, keyframes: a });
    i === "mirror" && (this.mirroredGenerator = l({
      ...t,
      keyframes: [...a].reverse(),
      velocity: -o
    })), c.calculatedDuration === null && (c.calculatedDuration = FE(c));
    const { calculatedDuration: d } = c;
    this.calculatedDuration = d, this.resolvedDuration = d + s, this.totalDuration = this.resolvedDuration * (n + 1) - s, this.generator = c;
  }
  updateTime(t) {
    const r = Math.round(t - this.startTime) * this.playbackSpeed;
    this.holdTime !== null ? this.currentTime = this.holdTime : this.currentTime = r;
  }
  tick(t, r = !1) {
    const { generator: n, totalDuration: s, mixKeyframes: i, mirroredGenerator: o, resolvedDuration: a, calculatedDuration: l } = this;
    if (this.startTime === null)
      return n.next(0);
    const { delay: c = 0, keyframes: d, repeat: f, repeatType: h, repeatDelay: p, type: g, onUpdate: m, finalKeyframe: y } = this.options;
    this.speed > 0 ? this.startTime = Math.min(this.startTime, t) : this.speed < 0 && (this.startTime = Math.min(t - s / this.speed, this.startTime)), r ? this.currentTime = t : this.updateTime(t);
    const v = this.currentTime - c * (this.playbackSpeed >= 0 ? 1 : -1), b = this.playbackSpeed >= 0 ? v < 0 : v > s;
    this.currentTime = Math.max(v, 0), this.state === "finished" && this.holdTime === null && (this.currentTime = s);
    let x = this.currentTime, S = n;
    if (f) {
      const k = Math.min(this.currentTime, s) / a;
      let C = Math.floor(k), $ = k % 1;
      !$ && k >= 1 && ($ = 1), $ === 1 && C--, C = Math.min(C, f + 1), !!(C % 2) && (h === "reverse" ? ($ = 1 - $, p && ($ -= p / a)) : h === "mirror" && (S = o)), x = Bo(0, 1, $) * a;
    }
    const w = b ? { done: !1, value: d[0] } : S.next(x);
    i && (w.value = i(w.value));
    let { done: j } = w;
    !b && l !== null && (j = this.playbackSpeed >= 0 ? this.currentTime >= s : this.currentTime <= 0);
    const N = this.holdTime === null && (this.state === "finished" || this.state === "running" && j);
    return N && g !== c1 && (w.value = BE(d, this.options, y, this.speed)), m && m(w.value), N && this.finish(), w;
  }
  /**
   * Allows the returned animation to be awaited or promise-chained. Currently
   * resolves when the animation finishes at all but in a future update could/should
   * reject if its cancels.
   */
  then(t, r) {
    return this.finished.then(t, r);
  }
  get duration() {
    return /* @__PURE__ */ qi(this.calculatedDuration);
  }
  get time() {
    return /* @__PURE__ */ qi(this.currentTime);
  }
  set time(t) {
    var r;
    t = /* @__PURE__ */ ui(t), this.currentTime = t, this.startTime === null || this.holdTime !== null || this.playbackSpeed === 0 ? this.holdTime = t : this.driver && (this.startTime = this.driver.now() - t / this.playbackSpeed), (r = this.driver) == null || r.start(!1);
  }
  get speed() {
    return this.playbackSpeed;
  }
  set speed(t) {
    this.updateTime(zn.now());
    const r = this.playbackSpeed !== t;
    this.playbackSpeed = t, r && (this.time = /* @__PURE__ */ qi(this.currentTime));
  }
  play() {
    var s, i;
    if (this.isStopped)
      return;
    const { driver: t = joe, startTime: r } = this.options;
    this.driver || (this.driver = t((o) => this.tick(o))), (i = (s = this.options).onPlay) == null || i.call(s);
    const n = this.driver.now();
    this.state === "finished" ? (this.updateFinished(), this.startTime = n) : this.holdTime !== null ? this.startTime = n - this.holdTime : this.startTime || (this.startTime = r ?? n), this.state === "finished" && this.speed < 0 && (this.startTime += this.calculatedDuration), this.holdTime = null, this.state = "running", this.driver.start();
  }
  pause() {
    this.state = "paused", this.updateTime(zn.now()), this.holdTime = this.currentTime;
  }
  complete() {
    this.state !== "running" && this.play(), this.state = "finished", this.holdTime = null;
  }
  finish() {
    var t, r;
    this.notifyFinished(), this.teardown(), this.state = "finished", (r = (t = this.options).onComplete) == null || r.call(t);
  }
  cancel() {
    var t, r;
    this.holdTime = null, this.startTime = 0, this.tick(0), this.teardown(), (r = (t = this.options).onCancel) == null || r.call(t);
  }
  teardown() {
    this.state = "idle", this.stopDriver(), this.startTime = this.holdTime = null;
  }
  stopDriver() {
    this.driver && (this.driver.stop(), this.driver = void 0);
  }
  sample(t) {
    return this.startTime = 0, this.tick(t, !0);
  }
  attachTimeline(t) {
    var r;
    return this.options.allowFlatten && (this.options.type = "keyframes", this.options.ease = "linear", this.initAnimation()), (r = this.driver) == null || r.stop(), t.observe(this);
  }
}
function qoe(e) {
  for (let t = 1; t < e.length; t++)
    e[t] ?? (e[t] = e[t - 1]);
}
const Il = (e) => e * 180 / Math.PI, u1 = (e) => {
  const t = Il(Math.atan2(e[1], e[0]));
  return d1(t);
}, Voe = {
  x: 4,
  y: 5,
  translateX: 4,
  translateY: 5,
  scaleX: 0,
  scaleY: 3,
  scale: (e) => (Math.abs(e[0]) + Math.abs(e[3])) / 2,
  rotate: u1,
  rotateZ: u1,
  skewX: (e) => Il(Math.atan(e[1])),
  skewY: (e) => Il(Math.atan(e[2])),
  skew: (e) => (Math.abs(e[1]) + Math.abs(e[2])) / 2
}, d1 = (e) => (e = e % 360, e < 0 && (e += 360), e), OA = u1, DA = (e) => Math.sqrt(e[0] * e[0] + e[1] * e[1]), $A = (e) => Math.sqrt(e[4] * e[4] + e[5] * e[5]), Woe = {
  x: 12,
  y: 13,
  z: 14,
  translateX: 12,
  translateY: 13,
  translateZ: 14,
  scaleX: DA,
  scaleY: $A,
  scale: (e) => (DA(e) + $A(e)) / 2,
  rotateX: (e) => d1(Il(Math.atan2(e[6], e[5]))),
  rotateY: (e) => d1(Il(Math.atan2(-e[2], e[0]))),
  rotateZ: OA,
  rotate: OA,
  skewX: (e) => Il(Math.atan(e[4])),
  skewY: (e) => Il(Math.atan(e[1])),
  skew: (e) => (Math.abs(e[1]) + Math.abs(e[4])) / 2
};
function f1(e) {
  return e.includes("scale") ? 1 : 0;
}
function h1(e, t) {
  if (!e || e === "none")
    return f1(t);
  const r = e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);
  let n, s;
  if (r)
    n = Woe, s = r;
  else {
    const a = e.match(/^matrix\(([-\d.e\s,]+)\)$/u);
    n = Voe, s = a;
  }
  if (!s)
    return f1(t);
  const i = n[t], o = s[1].split(",").map(Hoe);
  return typeof i == "function" ? i(o) : o[i];
}
const Koe = (e, t) => {
  const { transform: r = "none" } = getComputedStyle(e);
  return h1(r, t);
};
function Hoe(e) {
  return parseFloat(e.trim());
}
const _d = [
  "transformPerspective",
  "x",
  "y",
  "z",
  "translateX",
  "translateY",
  "translateZ",
  "scale",
  "scaleX",
  "scaleY",
  "rotate",
  "rotateX",
  "rotateY",
  "rotateZ",
  "skew",
  "skewX",
  "skewY"
], Sd = new Set(_d), RA = (e) => e === wd || e === qe, Yoe = /* @__PURE__ */ new Set(["x", "y", "z"]), Goe = _d.filter((e) => !Yoe.has(e));
function Zoe(e) {
  const t = [];
  return Goe.forEach((r) => {
    const n = e.getValue(r);
    n !== void 0 && (t.push([r, n.get()]), n.set(r.startsWith("scale") ? 1 : 0));
  }), t;
}
const Hl = {
  // Dimensions
  width: ({ x: e }, { paddingLeft: t = "0", paddingRight: r = "0" }) => e.max - e.min - parseFloat(t) - parseFloat(r),
  height: ({ y: e }, { paddingTop: t = "0", paddingBottom: r = "0" }) => e.max - e.min - parseFloat(t) - parseFloat(r),
  top: (e, { top: t }) => parseFloat(t),
  left: (e, { left: t }) => parseFloat(t),
  bottom: ({ y: e }, { top: t }) => parseFloat(t) + (e.max - e.min),
  right: ({ x: e }, { left: t }) => parseFloat(t) + (e.max - e.min),
  // Transform
  x: (e, { transform: t }) => h1(t, "x"),
  y: (e, { transform: t }) => h1(t, "y")
};
Hl.translateX = Hl.x;
Hl.translateY = Hl.y;
const Yl = /* @__PURE__ */ new Set();
let p1 = !1, m1 = !1, g1 = !1;
function B5() {
  if (m1) {
    const e = Array.from(Yl).filter((n) => n.needsMeasurement), t = new Set(e.map((n) => n.element)), r = /* @__PURE__ */ new Map();
    t.forEach((n) => {
      const s = Zoe(n);
      s.length && (r.set(n, s), n.render());
    }), e.forEach((n) => n.measureInitialState()), t.forEach((n) => {
      n.render();
      const s = r.get(n);
      s && s.forEach(([i, o]) => {
        var a;
        (a = n.getValue(i)) == null || a.set(o);
      });
    }), e.forEach((n) => n.measureEndState()), e.forEach((n) => {
      n.suspendedScrollY !== void 0 && window.scrollTo(0, n.suspendedScrollY);
    });
  }
  m1 = !1, p1 = !1, Yl.forEach((e) => e.complete(g1)), Yl.clear();
}
function z5() {
  Yl.forEach((e) => {
    e.readKeyframes(), e.needsMeasurement && (m1 = !0);
  });
}
function Xoe() {
  g1 = !0, z5(), B5(), g1 = !1;
}
class qE {
  constructor(t, r, n, s, i, o = !1) {
    this.state = "pending", this.isAsync = !1, this.needsMeasurement = !1, this.unresolvedKeyframes = [...t], this.onComplete = r, this.name = n, this.motionValue = s, this.element = i, this.isAsync = o;
  }
  scheduleResolve() {
    this.state = "scheduled", this.isAsync ? (Yl.add(this), p1 || (p1 = !0, Wt.read(z5), Wt.resolveKeyframes(B5))) : (this.readKeyframes(), this.complete());
  }
  readKeyframes() {
    const { unresolvedKeyframes: t, name: r, element: n, motionValue: s } = this;
    if (t[0] === null) {
      const i = s == null ? void 0 : s.get(), o = t[t.length - 1];
      if (i !== void 0)
        t[0] = i;
      else if (n && r) {
        const a = n.readValue(r, o);
        a != null && (t[0] = a);
      }
      t[0] === void 0 && (t[0] = o), s && i === void 0 && s.set(t[0]);
    }
    qoe(t);
  }
  setFinalKeyframe() {
  }
  measureInitialState() {
  }
  renderEndStyles() {
  }
  measureEndState() {
  }
  complete(t = !1) {
    this.state = "complete", this.onComplete(this.unresolvedKeyframes, this.finalKeyframe, t), Yl.delete(this);
  }
  cancel() {
    this.state === "scheduled" && (Yl.delete(this), this.state = "pending");
  }
  resume() {
    this.state === "pending" && this.scheduleResolve();
  }
}
const Joe = (e) => e.startsWith("--");
function Qoe(e, t, r) {
  Joe(t) ? e.style.setProperty(t, r) : e.style[t] = r;
}
const eae = /* @__PURE__ */ TE(() => window.ScrollTimeline !== void 0), tae = {};
function rae(e, t) {
  const r = /* @__PURE__ */ TE(e);
  return () => tae[t] ?? r();
}
const U5 = /* @__PURE__ */ rae(() => {
  try {
    document.createElement("div").animate({ opacity: 0 }, { easing: "linear(0, 1)" });
  } catch {
    return !1;
  }
  return !0;
}, "linearEasing"), Cf = ([e, t, r, n]) => `cubic-bezier(${e}, ${t}, ${r}, ${n})`, IA = {
  linear: "linear",
  ease: "ease",
  easeIn: "ease-in",
  easeOut: "ease-out",
  easeInOut: "ease-in-out",
  circIn: /* @__PURE__ */ Cf([0, 0.65, 0.55, 1]),
  circOut: /* @__PURE__ */ Cf([0.55, 0, 1, 0.45]),
  backIn: /* @__PURE__ */ Cf([0.31, 0.01, 0.66, -0.59]),
  backOut: /* @__PURE__ */ Cf([0.33, 1.53, 0.69, 0.99])
};
function q5(e, t) {
  if (e)
    return typeof e == "function" ? U5() ? M5(e, t) : "ease-out" : k5(e) ? Cf(e) : Array.isArray(e) ? e.map((r) => q5(r, t) || IA.easeOut) : IA[e];
}
function nae(e, t, r, { delay: n = 0, duration: s = 300, repeat: i = 0, repeatType: o = "loop", ease: a = "easeOut", times: l } = {}, c = void 0) {
  const d = {
    [t]: r
  };
  l && (d.offset = l);
  const f = q5(a, s);
  Array.isArray(f) && (d.easing = f);
  const h = {
    delay: n,
    duration: s,
    easing: Array.isArray(f) ? "linear" : f,
    fill: "both",
    iterations: i + 1,
    direction: o === "reverse" ? "alternate" : "normal"
  };
  return c && (h.pseudoElement = c), e.animate(d, h);
}
function V5(e) {
  return typeof e == "function" && "applyToOptions" in e;
}
function sae({ type: e, ...t }) {
  return V5(e) && U5() ? e.applyToOptions(t) : (t.duration ?? (t.duration = 300), t.ease ?? (t.ease = "easeOut"), t);
}
class iae extends zE {
  constructor(t) {
    if (super(), this.finishedTime = null, this.isStopped = !1, !t)
      return;
    const { element: r, name: n, keyframes: s, pseudoElement: i, allowFlatten: o = !1, finalKeyframe: a, onComplete: l } = t;
    this.isPseudoElement = !!i, this.allowFlatten = o, this.options = t, zo(typeof t.type != "string", `Mini animate() doesn't support "type" as a string.`, "mini-spring");
    const c = sae(t);
    this.animation = nae(r, n, s, c, i), c.autoplay === !1 && this.animation.pause(), this.animation.onfinish = () => {
      if (this.finishedTime = this.time, !i) {
        const d = BE(s, this.options, a, this.speed);
        this.updateMotionValue ? this.updateMotionValue(d) : Qoe(r, n, d), this.animation.cancel();
      }
      l == null || l(), this.notifyFinished();
    };
  }
  play() {
    this.isStopped || (this.animation.play(), this.state === "finished" && this.updateFinished());
  }
  pause() {
    this.animation.pause();
  }
  complete() {
    var t, r;
    (r = (t = this.animation).finish) == null || r.call(t);
  }
  cancel() {
    try {
      this.animation.cancel();
    } catch {
    }
  }
  stop() {
    if (this.isStopped)
      return;
    this.isStopped = !0;
    const { state: t } = this;
    t === "idle" || t === "finished" || (this.updateMotionValue ? this.updateMotionValue() : this.commitStyles(), this.isPseudoElement || this.cancel());
  }
  /**
   * WAAPI doesn't natively have any interruption capabilities.
   *
   * In this method, we commit styles back to the DOM before cancelling
   * the animation.
   *
   * This is designed to be overridden by NativeAnimationExtended, which
   * will create a renderless JS animation and sample it twice to calculate
   * its current value, "previous" value, and therefore allow
   * Motion to also correctly calculate velocity for any subsequent animation
   * while deferring the commit until the next animation frame.
   */
  commitStyles() {
    var t, r;
    this.isPseudoElement || (r = (t = this.animation).commitStyles) == null || r.call(t);
  }
  get duration() {
    var r, n;
    const t = ((n = (r = this.animation.effect) == null ? void 0 : r.getComputedTiming) == null ? void 0 : n.call(r).duration) || 0;
    return /* @__PURE__ */ qi(Number(t));
  }
  get time() {
    return /* @__PURE__ */ qi(Number(this.animation.currentTime) || 0);
  }
  set time(t) {
    this.finishedTime = null, this.animation.currentTime = /* @__PURE__ */ ui(t);
  }
  /**
   * The playback speed of the animation.
   * 1 = normal speed, 2 = double speed, 0.5 = half speed.
   */
  get speed() {
    return this.animation.playbackRate;
  }
  set speed(t) {
    t < 0 && (this.finishedTime = null), this.animation.playbackRate = t;
  }
  get state() {
    return this.finishedTime !== null ? "finished" : this.animation.playState;
  }
  get startTime() {
    return Number(this.animation.startTime);
  }
  set startTime(t) {
    this.animation.startTime = t;
  }
  /**
   * Attaches a timeline to the animation, for instance the `ScrollTimeline`.
   */
  attachTimeline({ timeline: t, observe: r }) {
    var n;
    return this.allowFlatten && ((n = this.animation.effect) == null || n.updateTiming({ easing: "linear" })), this.animation.onfinish = null, t && eae() ? (this.animation.timeline = t, Os) : r(this);
  }
}
const W5 = {
  anticipate: S5,
  backInOut: _5,
  circInOut: j5
};
function oae(e) {
  return e in W5;
}
function aae(e) {
  typeof e.ease == "string" && oae(e.ease) && (e.ease = W5[e.ease]);
}
const MA = 10;
class lae extends iae {
  constructor(t) {
    aae(t), F5(t), super(t), t.startTime && (this.startTime = t.startTime), this.options = t;
  }
  /**
   * WAAPI doesn't natively have any interruption capabilities.
   *
   * Rather than read commited styles back out of the DOM, we can
   * create a renderless JS animation and sample it twice to calculate
   * its current value, "previous" value, and therefore allow
   * Motion to calculate velocity for any subsequent animation.
   */
  updateMotionValue(t) {
    const { motionValue: r, onUpdate: n, onComplete: s, element: i, ...o } = this.options;
    if (!r)
      return;
    if (t !== void 0) {
      r.set(t);
      return;
    }
    const a = new UE({
      ...o,
      autoplay: !1
    }), l = /* @__PURE__ */ ui(this.finishedTime ?? this.time);
    r.setWithVelocity(a.sample(l - MA).value, a.sample(l).value, MA), a.stop();
  }
}
const LA = (e, t) => t === "zIndex" ? !1 : !!(typeof e == "number" || Array.isArray(e) || typeof e == "string" && // It's animatable if we have a string
(Ja.test(e) || e === "0") && // And it contains numbers and/or colors
!e.startsWith("url("));
function cae(e) {
  const t = e[0];
  if (e.length === 1)
    return !0;
  for (let r = 0; r < e.length; r++)
    if (e[r] !== t)
      return !0;
}
function uae(e, t, r, n) {
  const s = e[0];
  if (s === null)
    return !1;
  if (t === "display" || t === "visibility")
    return !0;
  const i = e[e.length - 1], o = LA(s, t), a = LA(i, t);
  return xd(o === a, `You are trying to animate ${t} from "${s}" to "${i}". "${o ? i : s}" is not an animatable value.`, "value-not-animatable"), !o || !a ? !1 : cae(e) || (r === "spring" || V5(r)) && n;
}
function y1(e) {
  e.duration = 0, e.type;
}
const dae = /* @__PURE__ */ new Set([
  "opacity",
  "clipPath",
  "filter",
  "transform"
  // TODO: Could be re-enabled now we have support for linear() easing
  // "background-color"
]), fae = /* @__PURE__ */ TE(() => Object.hasOwnProperty.call(Element.prototype, "animate"));
function hae(e) {
  var d;
  const { motionValue: t, name: r, repeatDelay: n, repeatType: s, damping: i, type: o } = e;
  if (!(((d = t == null ? void 0 : t.owner) == null ? void 0 : d.current) instanceof HTMLElement))
    return !1;
  const { onUpdate: l, transformTemplate: c } = t.owner.getProps();
  return fae() && r && dae.has(r) && (r !== "transform" || !c) && /**
   * If we're outputting values to onUpdate then we can't use WAAPI as there's
   * no way to read the value from WAAPI every frame.
   */
  !l && !n && s !== "mirror" && i !== 0 && o !== "inertia";
}
const pae = 40;
class mae extends zE {
  constructor({ autoplay: t = !0, delay: r = 0, type: n = "keyframes", repeat: s = 0, repeatDelay: i = 0, repeatType: o = "loop", keyframes: a, name: l, motionValue: c, element: d, ...f }) {
    var g;
    super(), this.stop = () => {
      var m, y;
      this._animation && (this._animation.stop(), (m = this.stopTimeline) == null || m.call(this)), (y = this.keyframeResolver) == null || y.cancel();
    }, this.createdAt = zn.now();
    const h = {
      autoplay: t,
      delay: r,
      type: n,
      repeat: s,
      repeatDelay: i,
      repeatType: o,
      name: l,
      motionValue: c,
      element: d,
      ...f
    }, p = (d == null ? void 0 : d.KeyframeResolver) || qE;
    this.keyframeResolver = new p(a, (m, y, v) => this.onKeyframesResolved(m, y, h, !v), l, c, d), (g = this.keyframeResolver) == null || g.scheduleResolve();
  }
  onKeyframesResolved(t, r, n, s) {
    this.keyframeResolver = void 0;
    const { name: i, type: o, velocity: a, delay: l, isHandoff: c, onUpdate: d } = n;
    this.resolvedAt = zn.now(), uae(t, i, o, a) || ((Uo.instantAnimations || !l) && (d == null || d(BE(t, n, r))), t[0] = t[t.length - 1], y1(n), n.repeat = 0);
    const h = {
      startTime: s ? this.resolvedAt ? this.resolvedAt - this.createdAt > pae ? this.resolvedAt : this.createdAt : this.createdAt : void 0,
      finalKeyframe: r,
      ...n,
      keyframes: t
    }, p = !c && hae(h) ? new lae({
      ...h,
      element: h.motionValue.owner.current
    }) : new UE(h);
    p.finished.then(() => this.notifyFinished()).catch(Os), this.pendingTimeline && (this.stopTimeline = p.attachTimeline(this.pendingTimeline), this.pendingTimeline = void 0), this._animation = p;
  }
  get finished() {
    return this._animation ? this.animation.finished : this._finished;
  }
  then(t, r) {
    return this.finished.finally(t).then(() => {
    });
  }
  get animation() {
    var t;
    return this._animation || ((t = this.keyframeResolver) == null || t.resume(), Xoe()), this._animation;
  }
  get duration() {
    return this.animation.duration;
  }
  get time() {
    return this.animation.time;
  }
  set time(t) {
    this.animation.time = t;
  }
  get speed() {
    return this.animation.speed;
  }
  get state() {
    return this.animation.state;
  }
  set speed(t) {
    this.animation.speed = t;
  }
  get startTime() {
    return this.animation.startTime;
  }
  attachTimeline(t) {
    return this._animation ? this.stopTimeline = this.animation.attachTimeline(t) : this.pendingTimeline = t, () => this.stop();
  }
  play() {
    this.animation.play();
  }
  pause() {
    this.animation.pause();
  }
  complete() {
    this.animation.complete();
  }
  cancel() {
    var t;
    this._animation && this.animation.cancel(), (t = this.keyframeResolver) == null || t.cancel();
  }
}
const gae = (
  // eslint-disable-next-line redos-detector/no-unsafe-regex -- false positive, as it can match a lot of words
  /^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u
);
function yae(e) {
  const t = gae.exec(e);
  if (!t)
    return [,];
  const [, r, n, s] = t;
  return [`--${r ?? n}`, s];
}
const vae = 4;
function K5(e, t, r = 1) {
  zo(r <= vae, `Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`, "max-css-var-depth");
  const [n, s] = yae(e);
  if (!n)
    return;
  const i = window.getComputedStyle(t).getPropertyValue(n);
  if (i) {
    const o = i.trim();
    return p5(o) ? parseFloat(o) : o;
  }
  return RE(s) ? K5(s, t, r + 1) : s;
}
function VE(e, t) {
  return (e == null ? void 0 : e[t]) ?? (e == null ? void 0 : e.default) ?? e;
}
const H5 = /* @__PURE__ */ new Set([
  "width",
  "height",
  "top",
  "left",
  "right",
  "bottom",
  ..._d
]), bae = {
  test: (e) => e === "auto",
  parse: (e) => e
}, Y5 = (e) => (t) => t.test(e), G5 = [wd, qe, Vi, Ea, coe, loe, bae], FA = (e) => G5.find(Y5(e));
function xae(e) {
  return typeof e == "number" ? e === 0 : e !== null ? e === "none" || e === "0" || g5(e) : !0;
}
const wae = /* @__PURE__ */ new Set(["brightness", "contrast", "saturate", "opacity"]);
function _ae(e) {
  const [t, r] = e.slice(0, -1).split("(");
  if (t === "drop-shadow")
    return e;
  const [n] = r.match(IE) || [];
  if (!n)
    return e;
  const s = r.replace(n, "");
  let i = wae.has(t) ? 1 : 0;
  return n !== r && (i *= 100), t + "(" + i + s + ")";
}
const Sae = /\b([a-z-]*)\(.*?\)/gu, v1 = {
  ...Ja,
  getAnimatableNone: (e) => {
    const t = e.match(Sae);
    return t ? t.map(_ae).join(" ") : e;
  }
}, BA = {
  ...wd,
  transform: Math.round
}, Eae = {
  rotate: Ea,
  rotateX: Ea,
  rotateY: Ea,
  rotateZ: Ea,
  scale: Em,
  scaleX: Em,
  scaleY: Em,
  scaleZ: Em,
  skew: Ea,
  skewX: Ea,
  skewY: Ea,
  distance: qe,
  translateX: qe,
  translateY: qe,
  translateZ: qe,
  x: qe,
  y: qe,
  z: qe,
  perspective: qe,
  transformPerspective: qe,
  opacity: yh,
  originX: kA,
  originY: kA,
  originZ: qe
}, WE = {
  // Border props
  borderWidth: qe,
  borderTopWidth: qe,
  borderRightWidth: qe,
  borderBottomWidth: qe,
  borderLeftWidth: qe,
  borderRadius: qe,
  radius: qe,
  borderTopLeftRadius: qe,
  borderTopRightRadius: qe,
  borderBottomRightRadius: qe,
  borderBottomLeftRadius: qe,
  // Positioning props
  width: qe,
  maxWidth: qe,
  height: qe,
  maxHeight: qe,
  top: qe,
  right: qe,
  bottom: qe,
  left: qe,
  // Spacing props
  padding: qe,
  paddingTop: qe,
  paddingRight: qe,
  paddingBottom: qe,
  paddingLeft: qe,
  margin: qe,
  marginTop: qe,
  marginRight: qe,
  marginBottom: qe,
  marginLeft: qe,
  // Misc
  backgroundPositionX: qe,
  backgroundPositionY: qe,
  ...Eae,
  zIndex: BA,
  // SVG
  fillOpacity: yh,
  strokeOpacity: yh,
  numOctaves: BA
}, jae = {
  ...WE,
  // Color props
  color: yr,
  backgroundColor: yr,
  outlineColor: yr,
  fill: yr,
  stroke: yr,
  // Border props
  borderColor: yr,
  borderTopColor: yr,
  borderRightColor: yr,
  borderBottomColor: yr,
  borderLeftColor: yr,
  filter: v1,
  WebkitFilter: v1
}, Z5 = (e) => jae[e];
function X5(e, t) {
  let r = Z5(e);
  return r !== v1 && (r = Ja), r.getAnimatableNone ? r.getAnimatableNone(t) : void 0;
}
const Nae = /* @__PURE__ */ new Set(["auto", "none", "0"]);
function kae(e, t, r) {
  let n = 0, s;
  for (; n < e.length && !s; ) {
    const i = e[n];
    typeof i == "string" && !Nae.has(i) && vh(i).values.length && (s = e[n]), n++;
  }
  if (s && r)
    for (const i of t)
      e[i] = X5(r, s);
}
class Cae extends qE {
  constructor(t, r, n, s, i) {
    super(t, r, n, s, i, !0);
  }
  readKeyframes() {
    const { unresolvedKeyframes: t, element: r, name: n } = this;
    if (!r || !r.current)
      return;
    super.readKeyframes();
    for (let l = 0; l < t.length; l++) {
      let c = t[l];
      if (typeof c == "string" && (c = c.trim(), RE(c))) {
        const d = K5(c, r.current);
        d !== void 0 && (t[l] = d), l === t.length - 1 && (this.finalKeyframe = c);
      }
    }
    if (this.resolveNoneKeyframes(), !H5.has(n) || t.length !== 2)
      return;
    const [s, i] = t, o = FA(s), a = FA(i);
    if (o !== a)
      if (RA(o) && RA(a))
        for (let l = 0; l < t.length; l++) {
          const c = t[l];
          typeof c == "string" && (t[l] = parseFloat(c));
        }
      else Hl[n] && (this.needsMeasurement = !0);
  }
  resolveNoneKeyframes() {
    const { unresolvedKeyframes: t, name: r } = this, n = [];
    for (let s = 0; s < t.length; s++)
      (t[s] === null || xae(t[s])) && n.push(s);
    n.length && kae(t, n, r);
  }
  measureInitialState() {
    const { element: t, unresolvedKeyframes: r, name: n } = this;
    if (!t || !t.current)
      return;
    n === "height" && (this.suspendedScrollY = window.pageYOffset), this.measuredOrigin = Hl[n](t.measureViewportBox(), window.getComputedStyle(t.current)), r[0] = this.measuredOrigin;
    const s = r[r.length - 1];
    s !== void 0 && t.getValue(n, s).jump(s, !1);
  }
  measureEndState() {
    var a;
    const { element: t, name: r, unresolvedKeyframes: n } = this;
    if (!t || !t.current)
      return;
    const s = t.getValue(r);
    s && s.jump(this.measuredOrigin, !1);
    const i = n.length - 1, o = n[i];
    n[i] = Hl[r](t.measureViewportBox(), window.getComputedStyle(t.current)), o !== null && this.finalKeyframe === void 0 && (this.finalKeyframe = o), (a = this.removedTransforms) != null && a.length && this.removedTransforms.forEach(([l, c]) => {
      t.getValue(l).set(c);
    }), this.resolveNoneKeyframes();
  }
}
function Tae(e, t, r) {
  if (e instanceof EventTarget)
    return [e];
  if (typeof e == "string") {
    let n = document;
    const s = (r == null ? void 0 : r[e]) ?? n.querySelectorAll(e);
    return s ? Array.from(s) : [];
  }
  return Array.from(e);
}
const J5 = (e, t) => t && typeof e == "number" ? t.transform(e) : e;
function Aae(e) {
  return m5(e) && "offsetHeight" in e;
}
const zA = 30, Pae = (e) => !isNaN(parseFloat(e));
class Oae {
  /**
   * @param init - The initiating value
   * @param config - Optional configuration options
   *
   * -  `transformer`: A function to transform incoming values with.
   */
  constructor(t, r = {}) {
    this.canTrackVelocity = null, this.events = {}, this.updateAndNotify = (n) => {
      var i;
      const s = zn.now();
      if (this.updatedAt !== s && this.setPrevFrameValue(), this.prev = this.current, this.setCurrent(n), this.current !== this.prev && ((i = this.events.change) == null || i.notify(this.current), this.dependents))
        for (const o of this.dependents)
          o.dirty();
    }, this.hasAnimated = !1, this.setCurrent(t), this.owner = r.owner;
  }
  setCurrent(t) {
    this.current = t, this.updatedAt = zn.now(), this.canTrackVelocity === null && t !== void 0 && (this.canTrackVelocity = Pae(this.current));
  }
  setPrevFrameValue(t = this.current) {
    this.prevFrameValue = t, this.prevUpdatedAt = this.updatedAt;
  }
  /**
   * Adds a function that will be notified when the `MotionValue` is updated.
   *
   * It returns a function that, when called, will cancel the subscription.
   *
   * When calling `onChange` inside a React component, it should be wrapped with the
   * `useEffect` hook. As it returns an unsubscribe function, this should be returned
   * from the `useEffect` function to ensure you don't add duplicate subscribers..
   *
   * ```jsx
   * export const MyComponent = () => {
   *   const x = useMotionValue(0)
   *   const y = useMotionValue(0)
   *   const opacity = useMotionValue(1)
   *
   *   useEffect(() => {
   *     function updateOpacity() {
   *       const maxXY = Math.max(x.get(), y.get())
   *       const newOpacity = transform(maxXY, [0, 100], [1, 0])
   *       opacity.set(newOpacity)
   *     }
   *
   *     const unsubscribeX = x.on("change", updateOpacity)
   *     const unsubscribeY = y.on("change", updateOpacity)
   *
   *     return () => {
   *       unsubscribeX()
   *       unsubscribeY()
   *     }
   *   }, [])
   *
   *   return <motion.div style={{ x }} />
   * }
   * ```
   *
   * @param subscriber - A function that receives the latest value.
   * @returns A function that, when called, will cancel this subscription.
   *
   * @deprecated
   */
  onChange(t) {
    return process.env.NODE_ENV !== "production" && PE(!1, 'value.onChange(callback) is deprecated. Switch to value.on("change", callback).'), this.on("change", t);
  }
  on(t, r) {
    this.events[t] || (this.events[t] = new AE());
    const n = this.events[t].add(r);
    return t === "change" ? () => {
      n(), Wt.read(() => {
        this.events.change.getSize() || this.stop();
      });
    } : n;
  }
  clearListeners() {
    for (const t in this.events)
      this.events[t].clear();
  }
  /**
   * Attaches a passive effect to the `MotionValue`.
   */
  attach(t, r) {
    this.passiveEffect = t, this.stopPassiveEffect = r;
  }
  /**
   * Sets the state of the `MotionValue`.
   *
   * @remarks
   *
   * ```jsx
   * const x = useMotionValue(0)
   * x.set(10)
   * ```
   *
   * @param latest - Latest value to set.
   * @param render - Whether to notify render subscribers. Defaults to `true`
   *
   * @public
   */
  set(t) {
    this.passiveEffect ? this.passiveEffect(t, this.updateAndNotify) : this.updateAndNotify(t);
  }
  setWithVelocity(t, r, n) {
    this.set(r), this.prev = void 0, this.prevFrameValue = t, this.prevUpdatedAt = this.updatedAt - n;
  }
  /**
   * Set the state of the `MotionValue`, stopping any active animations,
   * effects, and resets velocity to `0`.
   */
  jump(t, r = !0) {
    this.updateAndNotify(t), this.prev = t, this.prevUpdatedAt = this.prevFrameValue = void 0, r && this.stop(), this.stopPassiveEffect && this.stopPassiveEffect();
  }
  dirty() {
    var t;
    (t = this.events.change) == null || t.notify(this.current);
  }
  addDependent(t) {
    this.dependents || (this.dependents = /* @__PURE__ */ new Set()), this.dependents.add(t);
  }
  removeDependent(t) {
    this.dependents && this.dependents.delete(t);
  }
  /**
   * Returns the latest state of `MotionValue`
   *
   * @returns - The latest state of `MotionValue`
   *
   * @public
   */
  get() {
    return this.current;
  }
  /**
   * @public
   */
  getPrevious() {
    return this.prev;
  }
  /**
   * Returns the latest velocity of `MotionValue`
   *
   * @returns - The latest velocity of `MotionValue`. Returns `0` if the state is non-numerical.
   *
   * @public
   */
  getVelocity() {
    const t = zn.now();
    if (!this.canTrackVelocity || this.prevFrameValue === void 0 || t - this.updatedAt > zA)
      return 0;
    const r = Math.min(this.updatedAt - this.prevUpdatedAt, zA);
    return y5(parseFloat(this.current) - parseFloat(this.prevFrameValue), r);
  }
  /**
   * Registers a new animation to control this `MotionValue`. Only one
   * animation can drive a `MotionValue` at one time.
   *
   * ```jsx
   * value.start()
   * ```
   *
   * @param animation - A function that starts the provided animation
   */
  start(t) {
    return this.stop(), new Promise((r) => {
      this.hasAnimated = !0, this.animation = t(r), this.events.animationStart && this.events.animationStart.notify();
    }).then(() => {
      this.events.animationComplete && this.events.animationComplete.notify(), this.clearAnimation();
    });
  }
  /**
   * Stop the currently active animation.
   *
   * @public
   */
  stop() {
    this.animation && (this.animation.stop(), this.events.animationCancel && this.events.animationCancel.notify()), this.clearAnimation();
  }
  /**
   * Returns `true` if this value is currently animating.
   *
   * @public
   */
  isAnimating() {
    return !!this.animation;
  }
  clearAnimation() {
    delete this.animation;
  }
  /**
   * Destroy and clean up subscribers to this `MotionValue`.
   *
   * The `MotionValue` hooks like `useMotionValue` and `useTransform` automatically
   * handle the lifecycle of the returned `MotionValue`, so this method is only necessary if you've manually
   * created a `MotionValue` via the `motionValue` function.
   *
   * @public
   */
  destroy() {
    var t, r;
    (t = this.dependents) == null || t.clear(), (r = this.events.destroy) == null || r.notify(), this.clearListeners(), this.stop(), this.stopPassiveEffect && this.stopPassiveEffect();
  }
}
function Ku(e, t) {
  return new Oae(e, t);
}
const { schedule: KE } = /* @__PURE__ */ C5(queueMicrotask, !1), Zs = {
  x: !1,
  y: !1
};
function Q5() {
  return Zs.x || Zs.y;
}
function Dae(e) {
  return e === "x" || e === "y" ? Zs[e] ? null : (Zs[e] = !0, () => {
    Zs[e] = !1;
  }) : Zs.x || Zs.y ? null : (Zs.x = Zs.y = !0, () => {
    Zs.x = Zs.y = !1;
  });
}
function e3(e, t) {
  const r = Tae(e), n = new AbortController(), s = {
    passive: !0,
    ...t,
    signal: n.signal
  };
  return [r, s, () => n.abort()];
}
function UA(e) {
  return !(e.pointerType === "touch" || Q5());
}
function $ae(e, t, r = {}) {
  const [n, s, i] = e3(e, r), o = (a) => {
    if (!UA(a))
      return;
    const { target: l } = a, c = t(l, a);
    if (typeof c != "function" || !l)
      return;
    const d = (f) => {
      UA(f) && (c(f), l.removeEventListener("pointerleave", d));
    };
    l.addEventListener("pointerleave", d, s);
  };
  return n.forEach((a) => {
    a.addEventListener("pointerenter", o, s);
  }), i;
}
const t3 = (e, t) => t ? e === t ? !0 : t3(e, t.parentElement) : !1, HE = (e) => e.pointerType === "mouse" ? typeof e.button != "number" || e.button <= 0 : e.isPrimary !== !1, Rae = /* @__PURE__ */ new Set([
  "BUTTON",
  "INPUT",
  "SELECT",
  "TEXTAREA",
  "A"
]);
function Iae(e) {
  return Rae.has(e.tagName) || e.tabIndex !== -1;
}
const ug = /* @__PURE__ */ new WeakSet();
function qA(e) {
  return (t) => {
    t.key === "Enter" && e(t);
  };
}
function ex(e, t) {
  e.dispatchEvent(new PointerEvent("pointer" + t, { isPrimary: !0, bubbles: !0 }));
}
const Mae = (e, t) => {
  const r = e.currentTarget;
  if (!r)
    return;
  const n = qA(() => {
    if (ug.has(r))
      return;
    ex(r, "down");
    const s = qA(() => {
      ex(r, "up");
    }), i = () => ex(r, "cancel");
    r.addEventListener("keyup", s, t), r.addEventListener("blur", i, t);
  });
  r.addEventListener("keydown", n, t), r.addEventListener("blur", () => r.removeEventListener("keydown", n), t);
};
function VA(e) {
  return HE(e) && !Q5();
}
function Lae(e, t, r = {}) {
  const [n, s, i] = e3(e, r), o = (a) => {
    const l = a.currentTarget;
    if (!VA(a))
      return;
    ug.add(l);
    const c = t(l, a), d = (p, g) => {
      window.removeEventListener("pointerup", f), window.removeEventListener("pointercancel", h), ug.has(l) && ug.delete(l), VA(p) && typeof c == "function" && c(p, { success: g });
    }, f = (p) => {
      d(p, l === window || l === document || r.useGlobalTarget || t3(l, p.target));
    }, h = (p) => {
      d(p, !1);
    };
    window.addEventListener("pointerup", f, s), window.addEventListener("pointercancel", h, s);
  };
  return n.forEach((a) => {
    (r.useGlobalTarget ? window : a).addEventListener("pointerdown", o, s), Aae(a) && (a.addEventListener("focus", (c) => Mae(c, s)), !Iae(a) && !a.hasAttribute("tabindex") && (a.tabIndex = 0));
  }), i;
}
function r3(e) {
  return m5(e) && "ownerSVGElement" in e;
}
function Fae(e) {
  return r3(e) && e.tagName === "svg";
}
const mn = (e) => !!(e && e.getVelocity), Bae = [...G5, yr, Ja], zae = (e) => Bae.find(Y5(e)), n3 = dr({
  transformPagePoint: (e) => e,
  isStatic: !1,
  reducedMotion: "never"
});
function Uae(e = !0) {
  const t = Dt(NE);
  if (t === null)
    return [!0, null];
  const { isPresent: r, onExitComplete: n, register: s } = t, i = j9();
  ve(() => {
    if (e)
      return s(i);
  }, [e]);
  const o = ze(() => e && n && n(i), [i, n, e]);
  return !r && n ? [!1, o] : [!0];
}
const s3 = dr({ strict: !1 }), WA = {
  animation: [
    "animate",
    "variants",
    "whileHover",
    "whileTap",
    "exit",
    "whileInView",
    "whileFocus",
    "whileDrag"
  ],
  exit: ["exit"],
  drag: ["drag", "dragControls"],
  focus: ["whileFocus"],
  hover: ["whileHover", "onHoverStart", "onHoverEnd"],
  tap: ["whileTap", "onTap", "onTapStart", "onTapCancel"],
  pan: ["onPan", "onPanStart", "onPanSessionStart", "onPanEnd"],
  inView: ["whileInView", "onViewportEnter", "onViewportLeave"],
  layout: ["layout", "layoutId"]
}, Hu = {};
for (const e in WA)
  Hu[e] = {
    isEnabled: (t) => WA[e].some((r) => !!t[r])
  };
function qae(e) {
  for (const t in e)
    Hu[t] = {
      ...Hu[t],
      ...e[t]
    };
}
const Vae = /* @__PURE__ */ new Set([
  "animate",
  "exit",
  "variants",
  "initial",
  "style",
  "values",
  "variants",
  "transition",
  "transformTemplate",
  "custom",
  "inherit",
  "onBeforeLayoutMeasure",
  "onAnimationStart",
  "onAnimationComplete",
  "onUpdate",
  "onDragStart",
  "onDrag",
  "onDragEnd",
  "onMeasureDragConstraints",
  "onDirectionLock",
  "onDragTransitionEnd",
  "_dragX",
  "_dragY",
  "onHoverStart",
  "onHoverEnd",
  "onViewportEnter",
  "onViewportLeave",
  "globalTapTarget",
  "ignoreStrict",
  "viewport"
]);
function Zg(e) {
  return e.startsWith("while") || e.startsWith("drag") && e !== "draggable" || e.startsWith("layout") || e.startsWith("onTap") || e.startsWith("onPan") || e.startsWith("onLayout") || Vae.has(e);
}
let i3 = (e) => !Zg(e);
function Wae(e) {
  typeof e == "function" && (i3 = (t) => t.startsWith("on") ? !Zg(t) : e(t));
}
try {
  Wae(require("@emotion/is-prop-valid").default);
} catch {
}
function Kae(e, t, r) {
  const n = {};
  for (const s in e)
    s === "values" && typeof e.values == "object" || (i3(s) || r === !0 && Zg(s) || !t && !Zg(s) || // If trying to use native HTML drag events, forward drag listeners
    e.draggable && s.startsWith("onDrag")) && (n[s] = e[s]);
  return n;
}
const Lv = /* @__PURE__ */ dr({});
function Fv(e) {
  return e !== null && typeof e == "object" && typeof e.start == "function";
}
function bh(e) {
  return typeof e == "string" || Array.isArray(e);
}
const YE = [
  "animate",
  "whileInView",
  "whileFocus",
  "whileHover",
  "whileTap",
  "whileDrag",
  "exit"
], GE = ["initial", ...YE];
function Bv(e) {
  return Fv(e.animate) || GE.some((t) => bh(e[t]));
}
function o3(e) {
  return !!(Bv(e) || e.variants);
}
function Hae(e, t) {
  if (Bv(e)) {
    const { initial: r, animate: n } = e;
    return {
      initial: r === !1 || bh(r) ? r : void 0,
      animate: bh(n) ? n : void 0
    };
  }
  return e.inherit !== !1 ? t : {};
}
function Yae(e) {
  const { initial: t, animate: r } = Hae(e, Dt(Lv));
  return Ht(() => ({ initial: t, animate: r }), [KA(t), KA(r)]);
}
function KA(e) {
  return Array.isArray(e) ? e.join(" ") : e;
}
const xh = {};
function Gae(e) {
  for (const t in e)
    xh[t] = e[t], $E(t) && (xh[t].isCSSVariable = !0);
}
function a3(e, { layout: t, layoutId: r }) {
  return Sd.has(e) || e.startsWith("origin") || (t || r !== void 0) && (!!xh[e] || e === "opacity");
}
const Zae = {
  x: "translateX",
  y: "translateY",
  z: "translateZ",
  transformPerspective: "perspective"
}, Xae = _d.length;
function Jae(e, t, r) {
  let n = "", s = !0;
  for (let i = 0; i < Xae; i++) {
    const o = _d[i], a = e[o];
    if (a === void 0)
      continue;
    let l = !0;
    if (typeof a == "number" ? l = a === (o.startsWith("scale") ? 1 : 0) : l = parseFloat(a) === 0, !l || r) {
      const c = J5(a, WE[o]);
      if (!l) {
        s = !1;
        const d = Zae[o] || o;
        n += `${d}(${c}) `;
      }
      r && (t[o] = c);
    }
  }
  return n = n.trim(), r ? n = r(t, s ? "" : n) : s && (n = "none"), n;
}
function ZE(e, t, r) {
  const { style: n, vars: s, transformOrigin: i } = e;
  let o = !1, a = !1;
  for (const l in t) {
    const c = t[l];
    if (Sd.has(l)) {
      o = !0;
      continue;
    } else if ($E(l)) {
      s[l] = c;
      continue;
    } else {
      const d = J5(c, WE[l]);
      l.startsWith("origin") ? (a = !0, i[l] = d) : n[l] = d;
    }
  }
  if (t.transform || (o || r ? n.transform = Jae(t, e.transform, r) : n.transform && (n.transform = "none")), a) {
    const { originX: l = "50%", originY: c = "50%", originZ: d = 0 } = i;
    n.transformOrigin = `${l} ${c} ${d}`;
  }
}
const XE = () => ({
  style: {},
  transform: {},
  transformOrigin: {},
  vars: {}
});
function l3(e, t, r) {
  for (const n in t)
    !mn(t[n]) && !a3(n, r) && (e[n] = t[n]);
}
function Qae({ transformTemplate: e }, t) {
  return Ht(() => {
    const r = XE();
    return ZE(r, t, e), Object.assign({}, r.vars, r.style);
  }, [t]);
}
function ele(e, t) {
  const r = e.style || {}, n = {};
  return l3(n, r, e), Object.assign(n, Qae(e, t)), n;
}
function tle(e, t) {
  const r = {}, n = ele(e, t);
  return e.drag && e.dragListener !== !1 && (r.draggable = !1, n.userSelect = n.WebkitUserSelect = n.WebkitTouchCallout = "none", n.touchAction = e.drag === !0 ? "none" : `pan-${e.drag === "x" ? "y" : "x"}`), e.tabIndex === void 0 && (e.onTap || e.onTapStart || e.whileTap) && (r.tabIndex = 0), r.style = n, r;
}
const rle = {
  offset: "stroke-dashoffset",
  array: "stroke-dasharray"
}, nle = {
  offset: "strokeDashoffset",
  array: "strokeDasharray"
};
function sle(e, t, r = 1, n = 0, s = !0) {
  e.pathLength = 1;
  const i = s ? rle : nle;
  e[i.offset] = qe.transform(-n);
  const o = qe.transform(t), a = qe.transform(r);
  e[i.array] = `${o} ${a}`;
}
function c3(e, {
  attrX: t,
  attrY: r,
  attrScale: n,
  pathLength: s,
  pathSpacing: i = 1,
  pathOffset: o = 0,
  // This is object creation, which we try to avoid per-frame.
  ...a
}, l, c, d) {
  if (ZE(e, a, c), l) {
    e.style.viewBox && (e.attrs.viewBox = e.style.viewBox);
    return;
  }
  e.attrs = e.style, e.style = {};
  const { attrs: f, style: h } = e;
  f.transform && (h.transform = f.transform, delete f.transform), (h.transform || f.transformOrigin) && (h.transformOrigin = f.transformOrigin ?? "50% 50%", delete f.transformOrigin), h.transform && (h.transformBox = (d == null ? void 0 : d.transformBox) ?? "fill-box", delete f.transformBox), t !== void 0 && (f.x = t), r !== void 0 && (f.y = r), n !== void 0 && (f.scale = n), s !== void 0 && sle(f, s, i, o, !1);
}
const u3 = () => ({
  ...XE(),
  attrs: {}
}), d3 = (e) => typeof e == "string" && e.toLowerCase() === "svg";
function ile(e, t, r, n) {
  const s = Ht(() => {
    const i = u3();
    return c3(i, t, d3(n), e.transformTemplate, e.style), {
      ...i.attrs,
      style: { ...i.style }
    };
  }, [t]);
  if (e.style) {
    const i = {};
    l3(i, e.style, e), s.style = { ...i, ...s.style };
  }
  return s;
}
const ole = [
  "animate",
  "circle",
  "defs",
  "desc",
  "ellipse",
  "g",
  "image",
  "line",
  "filter",
  "marker",
  "mask",
  "metadata",
  "path",
  "pattern",
  "polygon",
  "polyline",
  "rect",
  "stop",
  "switch",
  "symbol",
  "svg",
  "text",
  "tspan",
  "use",
  "view"
];
function JE(e) {
  return (
    /**
     * If it's not a string, it's a custom React component. Currently we only support
     * HTML custom React components.
     */
    typeof e != "string" || /**
     * If it contains a dash, the element is a custom HTML webcomponent.
     */
    e.includes("-") ? !1 : (
      /**
       * If it's in our list of lowercase SVG tags, it's an SVG component
       */
      !!(ole.indexOf(e) > -1 || /**
       * If it contains a capital letter, it's an SVG component
       */
      /[A-Z]/u.test(e))
    )
  );
}
function ale(e, t, r, { latestValues: n }, s, i = !1) {
  const a = (JE(e) ? ile : tle)(t, n, s, e), l = Kae(t, typeof e == "string", i), c = e !== Yh ? { ...l, ...a, ref: r } : {}, { children: d } = t, f = Ht(() => mn(d) ? d.get() : d, [d]);
  return $e(e, {
    ...c,
    children: f
  });
}
function HA(e) {
  const t = [{}, {}];
  return e == null || e.values.forEach((r, n) => {
    t[0][n] = r.get(), t[1][n] = r.getVelocity();
  }), t;
}
function QE(e, t, r, n) {
  if (typeof t == "function") {
    const [s, i] = HA(n);
    t = t(r !== void 0 ? r : e.custom, s, i);
  }
  if (typeof t == "string" && (t = e.variants && e.variants[t]), typeof t == "function") {
    const [s, i] = HA(n);
    t = t(r !== void 0 ? r : e.custom, s, i);
  }
  return t;
}
function dg(e) {
  return mn(e) ? e.get() : e;
}
function lle({ scrapeMotionValuesFromProps: e, createRenderState: t }, r, n, s) {
  return {
    latestValues: cle(r, n, s, e),
    renderState: t()
  };
}
function cle(e, t, r, n) {
  const s = {}, i = n(e, {});
  for (const h in i)
    s[h] = dg(i[h]);
  let { initial: o, animate: a } = e;
  const l = Bv(e), c = o3(e);
  t && c && !l && e.inherit !== !1 && (o === void 0 && (o = t.initial), a === void 0 && (a = t.animate));
  let d = r ? r.initial === !1 : !1;
  d = d || o === !1;
  const f = d ? a : o;
  if (f && typeof f != "boolean" && !Fv(f)) {
    const h = Array.isArray(f) ? f : [f];
    for (let p = 0; p < h.length; p++) {
      const g = QE(e, h[p]);
      if (g) {
        const { transitionEnd: m, transition: y, ...v } = g;
        for (const b in v) {
          let x = v[b];
          if (Array.isArray(x)) {
            const S = d ? x.length - 1 : 0;
            x = x[S];
          }
          x !== null && (s[b] = x);
        }
        for (const b in m)
          s[b] = m[b];
      }
    }
  }
  return s;
}
const f3 = (e) => (t, r) => {
  const n = Dt(Lv), s = Dt(NE), i = () => lle(e, t, n, s);
  return r ? i() : qie(i);
};
function ej(e, t, r) {
  var i;
  const { style: n } = e, s = {};
  for (const o in n)
    (mn(n[o]) || t.style && mn(t.style[o]) || a3(o, e) || ((i = r == null ? void 0 : r.getValue(o)) == null ? void 0 : i.liveStyle) !== void 0) && (s[o] = n[o]);
  return s;
}
const ule = /* @__PURE__ */ f3({
  scrapeMotionValuesFromProps: ej,
  createRenderState: XE
});
function h3(e, t, r) {
  const n = ej(e, t, r);
  for (const s in e)
    if (mn(e[s]) || mn(t[s])) {
      const i = _d.indexOf(s) !== -1 ? "attr" + s.charAt(0).toUpperCase() + s.substring(1) : s;
      n[i] = e[s];
    }
  return n;
}
const dle = /* @__PURE__ */ f3({
  scrapeMotionValuesFromProps: h3,
  createRenderState: u3
}), fle = Symbol.for("motionComponentSymbol");
function uu(e) {
  return e && typeof e == "object" && Object.prototype.hasOwnProperty.call(e, "current");
}
function hle(e, t, r) {
  return ze(
    (n) => {
      n && e.onMount && e.onMount(n), t && (n ? t.mount(n) : t.unmount()), r && (typeof r == "function" ? r(n) : uu(r) && (r.current = n));
    },
    /**
     * Only pass a new ref callback to React if we've received a visual element
     * factory. Otherwise we'll be mounting/remounting every time externalRef
     * or other dependencies change.
     */
    [t]
  );
}
const tj = (e) => e.replace(/([a-z])([A-Z])/gu, "$1-$2").toLowerCase(), ple = "framerAppearId", p3 = "data-" + tj(ple), m3 = dr({});
function mle(e, t, r, n, s) {
  var m, y;
  const { visualElement: i } = Dt(Lv), o = Dt(s3), a = Dt(NE), l = Dt(n3).reducedMotion, c = We(null);
  n = n || o.renderer, !c.current && n && (c.current = n(e, {
    visualState: t,
    parent: i,
    props: r,
    presenceContext: a,
    blockInitialAnimation: a ? a.initial === !1 : !1,
    reducedMotionConfig: l
  }));
  const d = c.current, f = Dt(m3);
  d && !d.projection && s && (d.type === "html" || d.type === "svg") && gle(c.current, r, s, f);
  const h = We(!1);
  N9(() => {
    d && h.current && d.update(r, a);
  });
  const p = r[p3], g = We(!!p && !((m = window.MotionHandoffIsComplete) != null && m.call(window, p)) && ((y = window.MotionHasOptimisedAnimation) == null ? void 0 : y.call(window, p)));
  return Vie(() => {
    d && (h.current = !0, window.MotionIsMounted = !0, d.updateFeatures(), d.scheduleRenderMicrotask(), g.current && d.animationState && d.animationState.animateChanges());
  }), ve(() => {
    d && (!g.current && d.animationState && d.animationState.animateChanges(), g.current && (queueMicrotask(() => {
      var v;
      (v = window.MotionHandoffMarkAsComplete) == null || v.call(window, p);
    }), g.current = !1), d.enteringChildren = void 0);
  }), d;
}
function gle(e, t, r, n) {
  const { layoutId: s, layout: i, drag: o, dragConstraints: a, layoutScroll: l, layoutRoot: c, layoutCrossfade: d } = t;
  e.projection = new r(e.latestValues, t["data-framer-portal-id"] ? void 0 : g3(e.parent)), e.projection.setOptions({
    layoutId: s,
    layout: i,
    alwaysMeasureLayout: !!o || a && uu(a),
    visualElement: e,
    /**
     * TODO: Update options in an effect. This could be tricky as it'll be too late
     * to update by the time layout animations run.
     * We also need to fix this safeToRemove by linking it up to the one returned by usePresence,
     * ensuring it gets called if there's no potential layout animations.
     *
     */
    animationType: typeof i == "string" ? i : "both",
    initialPromotionConfig: n,
    crossfade: d,
    layoutScroll: l,
    layoutRoot: c
  });
}
function g3(e) {
  if (e)
    return e.options.allowProjection !== !1 ? e.projection : g3(e.parent);
}
function tx(e, { forwardMotionProps: t = !1 } = {}, r, n) {
  r && qae(r);
  const s = JE(e) ? dle : ule;
  function i(a, l) {
    let c;
    const d = {
      ...Dt(n3),
      ...a,
      layoutId: yle(a)
    }, { isStatic: f } = d, h = Yae(a), p = s(a, f);
    if (!f && jE) {
      vle(d, r);
      const g = ble(d);
      c = g.MeasureLayout, h.visualElement = mle(e, p, d, n, g.ProjectionNode);
    }
    return u.jsxs(Lv.Provider, { value: h, children: [c && h.visualElement ? u.jsx(c, { visualElement: h.visualElement, ...d }) : null, ale(e, a, hle(p, h.visualElement, l), p, f, t)] });
  }
  i.displayName = `motion.${typeof e == "string" ? e : `create(${e.displayName ?? e.name ?? ""})`}`;
  const o = rt(i);
  return o[fle] = e, o;
}
function yle({ layoutId: e }) {
  const t = Dt(h5).id;
  return t && e !== void 0 ? t + "-" + e : e;
}
function vle(e, t) {
  const r = Dt(s3).strict;
  if (process.env.NODE_ENV !== "production" && t && r) {
    const n = "You have rendered a `motion` component within a `LazyMotion` component. This will break tree shaking. Import and render a `m` component instead.";
    e.ignoreStrict ? xd(!1, n, "lazy-strict-mode") : zo(!1, n, "lazy-strict-mode");
  }
}
function ble(e) {
  const { drag: t, layout: r } = Hu;
  if (!t && !r)
    return {};
  const n = { ...t, ...r };
  return {
    MeasureLayout: t != null && t.isEnabled(e) || r != null && r.isEnabled(e) ? n.MeasureLayout : void 0,
    ProjectionNode: n.ProjectionNode
  };
}
function xle(e, t) {
  if (typeof Proxy > "u")
    return tx;
  const r = /* @__PURE__ */ new Map(), n = (i, o) => tx(i, o, e, t), s = (i, o) => (process.env.NODE_ENV !== "production" && PE(!1, "motion() is deprecated. Use motion.create() instead."), n(i, o));
  return new Proxy(s, {
    /**
     * Called when `motion` is referenced with a prop: `motion.div`, `motion.input` etc.
     * The prop name is passed through as `key` and we can use that to generate a `motion`
     * DOM component with that name.
     */
    get: (i, o) => o === "create" ? n : (r.has(o) || r.set(o, tx(o, void 0, e, t)), r.get(o))
  });
}
function y3({ top: e, left: t, right: r, bottom: n }) {
  return {
    x: { min: t, max: r },
    y: { min: e, max: n }
  };
}
function wle({ x: e, y: t }) {
  return { top: t.min, right: e.max, bottom: t.max, left: e.min };
}
function _le(e, t) {
  if (!t)
    return e;
  const r = t({ x: e.left, y: e.top }), n = t({ x: e.right, y: e.bottom });
  return {
    top: r.y,
    left: r.x,
    bottom: n.y,
    right: n.x
  };
}
function rx(e) {
  return e === void 0 || e === 1;
}
function b1({ scale: e, scaleX: t, scaleY: r }) {
  return !rx(e) || !rx(t) || !rx(r);
}
function Tl(e) {
  return b1(e) || v3(e) || e.z || e.rotate || e.rotateX || e.rotateY || e.skewX || e.skewY;
}
function v3(e) {
  return YA(e.x) || YA(e.y);
}
function YA(e) {
  return e && e !== "0%";
}
function Xg(e, t, r) {
  const n = e - r, s = t * n;
  return r + s;
}
function GA(e, t, r, n, s) {
  return s !== void 0 && (e = Xg(e, s, n)), Xg(e, r, n) + t;
}
function x1(e, t = 0, r = 1, n, s) {
  e.min = GA(e.min, t, r, n, s), e.max = GA(e.max, t, r, n, s);
}
function b3(e, { x: t, y: r }) {
  x1(e.x, t.translate, t.scale, t.originPoint), x1(e.y, r.translate, r.scale, r.originPoint);
}
const ZA = 0.999999999999, XA = 1.0000000000001;
function Sle(e, t, r, n = !1) {
  const s = r.length;
  if (!s)
    return;
  t.x = t.y = 1;
  let i, o;
  for (let a = 0; a < s; a++) {
    i = r[a], o = i.projectionDelta;
    const { visualElement: l } = i.options;
    l && l.props.style && l.props.style.display === "contents" || (n && i.options.layoutScroll && i.scroll && i !== i.root && fu(e, {
      x: -i.scroll.offset.x,
      y: -i.scroll.offset.y
    }), o && (t.x *= o.x.scale, t.y *= o.y.scale, b3(e, o)), n && Tl(i.latestValues) && fu(e, i.latestValues));
  }
  t.x < XA && t.x > ZA && (t.x = 1), t.y < XA && t.y > ZA && (t.y = 1);
}
function du(e, t) {
  e.min = e.min + t, e.max = e.max + t;
}
function JA(e, t, r, n, s = 0.5) {
  const i = er(e.min, e.max, s);
  x1(e, t, r, i, n);
}
function fu(e, t) {
  JA(e.x, t.x, t.scaleX, t.scale, t.originX), JA(e.y, t.y, t.scaleY, t.scale, t.originY);
}
function x3(e, t) {
  return y3(_le(e.getBoundingClientRect(), t));
}
function Ele(e, t, r) {
  const n = x3(e, r), { scroll: s } = t;
  return s && (du(n.x, s.offset.x), du(n.y, s.offset.y)), n;
}
const QA = () => ({
  translate: 0,
  scale: 1,
  origin: 0,
  originPoint: 0
}), hu = () => ({
  x: QA(),
  y: QA()
}), eP = () => ({ min: 0, max: 0 }), ar = () => ({
  x: eP(),
  y: eP()
}), w1 = { current: null }, w3 = { current: !1 };
function jle() {
  if (w3.current = !0, !!jE)
    if (window.matchMedia) {
      const e = window.matchMedia("(prefers-reduced-motion)"), t = () => w1.current = e.matches;
      e.addEventListener("change", t), t();
    } else
      w1.current = !1;
}
const Nle = /* @__PURE__ */ new WeakMap();
function kle(e, t, r) {
  for (const n in t) {
    const s = t[n], i = r[n];
    if (mn(s))
      e.addValue(n, s);
    else if (mn(i))
      e.addValue(n, Ku(s, { owner: e }));
    else if (i !== s)
      if (e.hasValue(n)) {
        const o = e.getValue(n);
        o.liveStyle === !0 ? o.jump(s) : o.hasAnimated || o.set(s);
      } else {
        const o = e.getStaticValue(n);
        e.addValue(n, Ku(o !== void 0 ? o : s, { owner: e }));
      }
  }
  for (const n in r)
    t[n] === void 0 && e.removeValue(n);
  return t;
}
const tP = [
  "AnimationStart",
  "AnimationComplete",
  "Update",
  "BeforeLayoutMeasure",
  "LayoutMeasure",
  "LayoutAnimationStart",
  "LayoutAnimationComplete"
];
class Cle {
  /**
   * This method takes React props and returns found MotionValues. For example, HTML
   * MotionValues will be found within the style prop, whereas for Three.js within attribute arrays.
   *
   * This isn't an abstract method as it needs calling in the constructor, but it is
   * intended to be one.
   */
  scrapeMotionValuesFromProps(t, r, n) {
    return {};
  }
  constructor({ parent: t, props: r, presenceContext: n, reducedMotionConfig: s, blockInitialAnimation: i, visualState: o }, a = {}) {
    this.current = null, this.children = /* @__PURE__ */ new Set(), this.isVariantNode = !1, this.isControllingVariants = !1, this.shouldReduceMotion = null, this.values = /* @__PURE__ */ new Map(), this.KeyframeResolver = qE, this.features = {}, this.valueSubscriptions = /* @__PURE__ */ new Map(), this.prevMotionValues = {}, this.events = {}, this.propEventSubscriptions = {}, this.notifyUpdate = () => this.notify("Update", this.latestValues), this.render = () => {
      this.current && (this.triggerBuild(), this.renderInstance(this.current, this.renderState, this.props.style, this.projection));
    }, this.renderScheduledAt = 0, this.scheduleRender = () => {
      const h = zn.now();
      this.renderScheduledAt < h && (this.renderScheduledAt = h, Wt.render(this.render, !1, !0));
    };
    const { latestValues: l, renderState: c } = o;
    this.latestValues = l, this.baseTarget = { ...l }, this.initialValues = r.initial ? { ...l } : {}, this.renderState = c, this.parent = t, this.props = r, this.presenceContext = n, this.depth = t ? t.depth + 1 : 0, this.reducedMotionConfig = s, this.options = a, this.blockInitialAnimation = !!i, this.isControllingVariants = Bv(r), this.isVariantNode = o3(r), this.isVariantNode && (this.variantChildren = /* @__PURE__ */ new Set()), this.manuallyAnimateOnMount = !!(t && t.current);
    const { willChange: d, ...f } = this.scrapeMotionValuesFromProps(r, {}, this);
    for (const h in f) {
      const p = f[h];
      l[h] !== void 0 && mn(p) && p.set(l[h]);
    }
  }
  mount(t) {
    var r;
    this.current = t, Nle.set(t, this), this.projection && !this.projection.instance && this.projection.mount(t), this.parent && this.isVariantNode && !this.isControllingVariants && (this.removeFromVariantTree = this.parent.addVariantChild(this)), this.values.forEach((n, s) => this.bindToMotionValue(s, n)), w3.current || jle(), this.shouldReduceMotion = this.reducedMotionConfig === "never" ? !1 : this.reducedMotionConfig === "always" ? !0 : w1.current, process.env.NODE_ENV !== "production" && PE(this.shouldReduceMotion !== !0, "You have Reduced Motion enabled on your device. Animations may not appear as expected.", "reduced-motion-disabled"), (r = this.parent) == null || r.addChild(this), this.update(this.props, this.presenceContext);
  }
  unmount() {
    var t;
    this.projection && this.projection.unmount(), Xa(this.notifyUpdate), Xa(this.render), this.valueSubscriptions.forEach((r) => r()), this.valueSubscriptions.clear(), this.removeFromVariantTree && this.removeFromVariantTree(), (t = this.parent) == null || t.removeChild(this);
    for (const r in this.events)
      this.events[r].clear();
    for (const r in this.features) {
      const n = this.features[r];
      n && (n.unmount(), n.isMounted = !1);
    }
    this.current = null;
  }
  addChild(t) {
    this.children.add(t), this.enteringChildren ?? (this.enteringChildren = /* @__PURE__ */ new Set()), this.enteringChildren.add(t);
  }
  removeChild(t) {
    this.children.delete(t), this.enteringChildren && this.enteringChildren.delete(t);
  }
  bindToMotionValue(t, r) {
    this.valueSubscriptions.has(t) && this.valueSubscriptions.get(t)();
    const n = Sd.has(t);
    n && this.onBindTransform && this.onBindTransform();
    const s = r.on("change", (o) => {
      this.latestValues[t] = o, this.props.onUpdate && Wt.preRender(this.notifyUpdate), n && this.projection && (this.projection.isTransformDirty = !0), this.scheduleRender();
    });
    let i;
    window.MotionCheckAppearSync && (i = window.MotionCheckAppearSync(this, t, r)), this.valueSubscriptions.set(t, () => {
      s(), i && i(), r.owner && r.stop();
    });
  }
  sortNodePosition(t) {
    return !this.current || !this.sortInstanceNodePosition || this.type !== t.type ? 0 : this.sortInstanceNodePosition(this.current, t.current);
  }
  updateFeatures() {
    let t = "animation";
    for (t in Hu) {
      const r = Hu[t];
      if (!r)
        continue;
      const { isEnabled: n, Feature: s } = r;
      if (!this.features[t] && s && n(this.props) && (this.features[t] = new s(this)), this.features[t]) {
        const i = this.features[t];
        i.isMounted ? i.update() : (i.mount(), i.isMounted = !0);
      }
    }
  }
  triggerBuild() {
    this.build(this.renderState, this.latestValues, this.props);
  }
  /**
   * Measure the current viewport box with or without transforms.
   * Only measures axis-aligned boxes, rotate and skew must be manually
   * removed with a re-render to work.
   */
  measureViewportBox() {
    return this.current ? this.measureInstanceViewportBox(this.current, this.props) : ar();
  }
  getStaticValue(t) {
    return this.latestValues[t];
  }
  setStaticValue(t, r) {
    this.latestValues[t] = r;
  }
  /**
   * Update the provided props. Ensure any newly-added motion values are
   * added to our map, old ones removed, and listeners updated.
   */
  update(t, r) {
    (t.transformTemplate || this.props.transformTemplate) && this.scheduleRender(), this.prevProps = this.props, this.props = t, this.prevPresenceContext = this.presenceContext, this.presenceContext = r;
    for (let n = 0; n < tP.length; n++) {
      const s = tP[n];
      this.propEventSubscriptions[s] && (this.propEventSubscriptions[s](), delete this.propEventSubscriptions[s]);
      const i = "on" + s, o = t[i];
      o && (this.propEventSubscriptions[s] = this.on(s, o));
    }
    this.prevMotionValues = kle(this, this.scrapeMotionValuesFromProps(t, this.prevProps, this), this.prevMotionValues), this.handleChildMotionValue && this.handleChildMotionValue();
  }
  getProps() {
    return this.props;
  }
  /**
   * Returns the variant definition with a given name.
   */
  getVariant(t) {
    return this.props.variants ? this.props.variants[t] : void 0;
  }
  /**
   * Returns the defined default transition on this component.
   */
  getDefaultTransition() {
    return this.props.transition;
  }
  getTransformPagePoint() {
    return this.props.transformPagePoint;
  }
  getClosestVariantNode() {
    return this.isVariantNode ? this : this.parent ? this.parent.getClosestVariantNode() : void 0;
  }
  /**
   * Add a child visual element to our set of children.
   */
  addVariantChild(t) {
    const r = this.getClosestVariantNode();
    if (r)
      return r.variantChildren && r.variantChildren.add(t), () => r.variantChildren.delete(t);
  }
  /**
   * Add a motion value and bind it to this visual element.
   */
  addValue(t, r) {
    const n = this.values.get(t);
    r !== n && (n && this.removeValue(t), this.bindToMotionValue(t, r), this.values.set(t, r), this.latestValues[t] = r.get());
  }
  /**
   * Remove a motion value and unbind any active subscriptions.
   */
  removeValue(t) {
    this.values.delete(t);
    const r = this.valueSubscriptions.get(t);
    r && (r(), this.valueSubscriptions.delete(t)), delete this.latestValues[t], this.removeValueFromRenderState(t, this.renderState);
  }
  /**
   * Check whether we have a motion value for this key
   */
  hasValue(t) {
    return this.values.has(t);
  }
  getValue(t, r) {
    if (this.props.values && this.props.values[t])
      return this.props.values[t];
    let n = this.values.get(t);
    return n === void 0 && r !== void 0 && (n = Ku(r === null ? void 0 : r, { owner: this }), this.addValue(t, n)), n;
  }
  /**
   * If we're trying to animate to a previously unencountered value,
   * we need to check for it in our state and as a last resort read it
   * directly from the instance (which might have performance implications).
   */
  readValue(t, r) {
    let n = this.latestValues[t] !== void 0 || !this.current ? this.latestValues[t] : this.getBaseTargetFromProps(this.props, t) ?? this.readValueFromInstance(this.current, t, this.options);
    return n != null && (typeof n == "string" && (p5(n) || g5(n)) ? n = parseFloat(n) : !zae(n) && Ja.test(r) && (n = X5(t, r)), this.setBaseTarget(t, mn(n) ? n.get() : n)), mn(n) ? n.get() : n;
  }
  /**
   * Set the base target to later animate back to. This is currently
   * only hydrated on creation and when we first read a value.
   */
  setBaseTarget(t, r) {
    this.baseTarget[t] = r;
  }
  /**
   * Find the base target for a value thats been removed from all animation
   * props.
   */
  getBaseTarget(t) {
    var i;
    const { initial: r } = this.props;
    let n;
    if (typeof r == "string" || typeof r == "object") {
      const o = QE(this.props, r, (i = this.presenceContext) == null ? void 0 : i.custom);
      o && (n = o[t]);
    }
    if (r && n !== void 0)
      return n;
    const s = this.getBaseTargetFromProps(this.props, t);
    return s !== void 0 && !mn(s) ? s : this.initialValues[t] !== void 0 && n === void 0 ? void 0 : this.baseTarget[t];
  }
  on(t, r) {
    return this.events[t] || (this.events[t] = new AE()), this.events[t].add(r);
  }
  notify(t, ...r) {
    this.events[t] && this.events[t].notify(...r);
  }
  scheduleRenderMicrotask() {
    KE.render(this.render);
  }
}
class _3 extends Cle {
  constructor() {
    super(...arguments), this.KeyframeResolver = Cae;
  }
  sortInstanceNodePosition(t, r) {
    return t.compareDocumentPosition(r) & 2 ? 1 : -1;
  }
  getBaseTargetFromProps(t, r) {
    return t.style ? t.style[r] : void 0;
  }
  removeValueFromRenderState(t, { vars: r, style: n }) {
    delete r[t], delete n[t];
  }
  handleChildMotionValue() {
    this.childSubscription && (this.childSubscription(), delete this.childSubscription);
    const { children: t } = this.props;
    mn(t) && (this.childSubscription = t.on("change", (r) => {
      this.current && (this.current.textContent = `${r}`);
    }));
  }
}
function S3(e, { style: t, vars: r }, n, s) {
  const i = e.style;
  let o;
  for (o in t)
    i[o] = t[o];
  s == null || s.applyProjectionStyles(i, n);
  for (o in r)
    i.setProperty(o, r[o]);
}
function Tle(e) {
  return window.getComputedStyle(e);
}
class Ale extends _3 {
  constructor() {
    super(...arguments), this.type = "html", this.renderInstance = S3;
  }
  readValueFromInstance(t, r) {
    var n;
    if (Sd.has(r))
      return (n = this.projection) != null && n.isProjecting ? f1(r) : Koe(t, r);
    {
      const s = Tle(t), i = ($E(r) ? s.getPropertyValue(r) : s[r]) || 0;
      return typeof i == "string" ? i.trim() : i;
    }
  }
  measureInstanceViewportBox(t, { transformPagePoint: r }) {
    return x3(t, r);
  }
  build(t, r, n) {
    ZE(t, r, n.transformTemplate);
  }
  scrapeMotionValuesFromProps(t, r, n) {
    return ej(t, r, n);
  }
}
const E3 = /* @__PURE__ */ new Set([
  "baseFrequency",
  "diffuseConstant",
  "kernelMatrix",
  "kernelUnitLength",
  "keySplines",
  "keyTimes",
  "limitingConeAngle",
  "markerHeight",
  "markerWidth",
  "numOctaves",
  "targetX",
  "targetY",
  "surfaceScale",
  "specularConstant",
  "specularExponent",
  "stdDeviation",
  "tableValues",
  "viewBox",
  "gradientTransform",
  "pathLength",
  "startOffset",
  "textLength",
  "lengthAdjust"
]);
function Ple(e, t, r, n) {
  S3(e, t, void 0, n);
  for (const s in t.attrs)
    e.setAttribute(E3.has(s) ? s : tj(s), t.attrs[s]);
}
class Ole extends _3 {
  constructor() {
    super(...arguments), this.type = "svg", this.isSVGTag = !1, this.measureInstanceViewportBox = ar;
  }
  getBaseTargetFromProps(t, r) {
    return t[r];
  }
  readValueFromInstance(t, r) {
    if (Sd.has(r)) {
      const n = Z5(r);
      return n && n.default || 0;
    }
    return r = E3.has(r) ? r : tj(r), t.getAttribute(r);
  }
  scrapeMotionValuesFromProps(t, r, n) {
    return h3(t, r, n);
  }
  build(t, r, n) {
    c3(t, r, this.isSVGTag, n.transformTemplate, n.style);
  }
  renderInstance(t, r, n, s) {
    Ple(t, r, n, s);
  }
  mount(t) {
    this.isSVGTag = d3(t.tagName), super.mount(t);
  }
}
const Dle = (e, t) => JE(e) ? new Ole(t) : new Ale(t, {
  allowProjection: e !== Yh
});
function Su(e, t, r) {
  const n = e.getProps();
  return QE(n, t, r !== void 0 ? r : n.custom, e);
}
const _1 = (e) => Array.isArray(e);
function $le(e, t, r) {
  e.hasValue(t) ? e.getValue(t).set(r) : e.addValue(t, Ku(r));
}
function Rle(e) {
  return _1(e) ? e[e.length - 1] || 0 : e;
}
function Ile(e, t) {
  const r = Su(e, t);
  let { transitionEnd: n = {}, transition: s = {}, ...i } = r || {};
  i = { ...i, ...n };
  for (const o in i) {
    const a = Rle(i[o]);
    $le(e, o, a);
  }
}
function Mle(e) {
  return !!(mn(e) && e.add);
}
function S1(e, t) {
  const r = e.getValue("willChange");
  if (Mle(r))
    return r.add(t);
  if (!r && Uo.WillChange) {
    const n = new Uo.WillChange("auto");
    e.addValue("willChange", n), n.add(t);
  }
}
function j3(e) {
  return e.props[p3];
}
const Lle = (e) => e !== null;
function Fle(e, { repeat: t, repeatType: r = "loop" }, n) {
  const s = e.filter(Lle), i = t && r !== "loop" && t % 2 === 1 ? 0 : s.length - 1;
  return s[i];
}
const Ble = {
  type: "spring",
  stiffness: 500,
  damping: 25,
  restSpeed: 10
}, zle = (e) => ({
  type: "spring",
  stiffness: 550,
  damping: e === 0 ? 2 * Math.sqrt(550) : 30,
  restSpeed: 10
}), Ule = {
  type: "keyframes",
  duration: 0.8
}, qle = {
  type: "keyframes",
  ease: [0.25, 0.1, 0.35, 1],
  duration: 0.3
}, Vle = (e, { keyframes: t }) => t.length > 2 ? Ule : Sd.has(e) ? e.startsWith("scale") ? zle(t[1]) : Ble : qle;
function Wle({ when: e, delay: t, delayChildren: r, staggerChildren: n, staggerDirection: s, repeat: i, repeatType: o, repeatDelay: a, from: l, elapsed: c, ...d }) {
  return !!Object.keys(d).length;
}
const rj = (e, t, r, n = {}, s, i) => (o) => {
  const a = VE(n, e) || {}, l = a.delay || n.delay || 0;
  let { elapsed: c = 0 } = n;
  c = c - /* @__PURE__ */ ui(l);
  const d = {
    keyframes: Array.isArray(r) ? r : [null, r],
    ease: "easeOut",
    velocity: t.getVelocity(),
    ...a,
    delay: -c,
    onUpdate: (h) => {
      t.set(h), a.onUpdate && a.onUpdate(h);
    },
    onComplete: () => {
      o(), a.onComplete && a.onComplete();
    },
    name: e,
    motionValue: t,
    element: i ? void 0 : s
  };
  Wle(a) || Object.assign(d, Vle(e, d)), d.duration && (d.duration = /* @__PURE__ */ ui(d.duration)), d.repeatDelay && (d.repeatDelay = /* @__PURE__ */ ui(d.repeatDelay)), d.from !== void 0 && (d.keyframes[0] = d.from);
  let f = !1;
  if ((d.type === !1 || d.duration === 0 && !d.repeatDelay) && (y1(d), d.delay === 0 && (f = !0)), (Uo.instantAnimations || Uo.skipAnimations) && (f = !0, y1(d), d.delay = 0), d.allowFlatten = !a.type && !a.ease, f && !i && t.get() !== void 0) {
    const h = Fle(d.keyframes, a);
    if (h !== void 0) {
      Wt.update(() => {
        d.onUpdate(h), d.onComplete();
      });
      return;
    }
  }
  return a.isSync ? new UE(d) : new mae(d);
};
function Kle({ protectedKeys: e, needsAnimating: t }, r) {
  const n = e.hasOwnProperty(r) && t[r] !== !0;
  return t[r] = !1, n;
}
function N3(e, t, { delay: r = 0, transitionOverride: n, type: s } = {}) {
  let { transition: i = e.getDefaultTransition(), transitionEnd: o, ...a } = t;
  n && (i = n);
  const l = [], c = s && e.animationState && e.animationState.getState()[s];
  for (const d in a) {
    const f = e.getValue(d, e.latestValues[d] ?? null), h = a[d];
    if (h === void 0 || c && Kle(c, d))
      continue;
    const p = {
      delay: r,
      ...VE(i || {}, d)
    }, g = f.get();
    if (g !== void 0 && !f.isAnimating && !Array.isArray(h) && h === g && !p.velocity)
      continue;
    let m = !1;
    if (window.MotionHandoffAnimation) {
      const v = j3(e);
      if (v) {
        const b = window.MotionHandoffAnimation(v, d, Wt);
        b !== null && (p.startTime = b, m = !0);
      }
    }
    S1(e, d), f.start(rj(d, f, h, e.shouldReduceMotion && H5.has(d) ? { type: !1 } : p, e, m));
    const y = f.animation;
    y && l.push(y);
  }
  return o && Promise.all(l).then(() => {
    Wt.update(() => {
      o && Ile(e, o);
    });
  }), l;
}
function k3(e, t, r, n = 0, s = 1) {
  const i = Array.from(e).sort((c, d) => c.sortNodePosition(d)).indexOf(t), o = e.size, a = (o - 1) * n;
  return typeof r == "function" ? r(i, o) : s === 1 ? i * n : a - i * n;
}
function E1(e, t, r = {}) {
  var l;
  const n = Su(e, t, r.type === "exit" ? (l = e.presenceContext) == null ? void 0 : l.custom : void 0);
  let { transition: s = e.getDefaultTransition() || {} } = n || {};
  r.transitionOverride && (s = r.transitionOverride);
  const i = n ? () => Promise.all(N3(e, n, r)) : () => Promise.resolve(), o = e.variantChildren && e.variantChildren.size ? (c = 0) => {
    const { delayChildren: d = 0, staggerChildren: f, staggerDirection: h } = s;
    return Hle(e, t, c, d, f, h, r);
  } : () => Promise.resolve(), { when: a } = s;
  if (a) {
    const [c, d] = a === "beforeChildren" ? [i, o] : [o, i];
    return c().then(() => d());
  } else
    return Promise.all([i(), o(r.delay)]);
}
function Hle(e, t, r = 0, n = 0, s = 0, i = 1, o) {
  const a = [];
  for (const l of e.variantChildren)
    l.notify("AnimationStart", t), a.push(E1(l, t, {
      ...o,
      delay: r + (typeof n == "function" ? 0 : n) + k3(e.variantChildren, l, n, s, i)
    }).then(() => l.notify("AnimationComplete", t)));
  return Promise.all(a);
}
function Yle(e, t, r = {}) {
  e.notify("AnimationStart", t);
  let n;
  if (Array.isArray(t)) {
    const s = t.map((i) => E1(e, i, r));
    n = Promise.all(s);
  } else if (typeof t == "string")
    n = E1(e, t, r);
  else {
    const s = typeof t == "function" ? Su(e, t, r.custom) : t;
    n = Promise.all(N3(e, s, r));
  }
  return n.then(() => {
    e.notify("AnimationComplete", t);
  });
}
function C3(e, t) {
  if (!Array.isArray(t))
    return !1;
  const r = t.length;
  if (r !== e.length)
    return !1;
  for (let n = 0; n < r; n++)
    if (t[n] !== e[n])
      return !1;
  return !0;
}
const Gle = GE.length;
function T3(e) {
  if (!e)
    return;
  if (!e.isControllingVariants) {
    const r = e.parent ? T3(e.parent) || {} : {};
    return e.props.initial !== void 0 && (r.initial = e.props.initial), r;
  }
  const t = {};
  for (let r = 0; r < Gle; r++) {
    const n = GE[r], s = e.props[n];
    (bh(s) || s === !1) && (t[n] = s);
  }
  return t;
}
const Zle = [...YE].reverse(), Xle = YE.length;
function Jle(e) {
  return (t) => Promise.all(t.map(({ animation: r, options: n }) => Yle(e, r, n)));
}
function Qle(e) {
  let t = Jle(e), r = rP(), n = !0;
  const s = (l) => (c, d) => {
    var h;
    const f = Su(e, d, l === "exit" ? (h = e.presenceContext) == null ? void 0 : h.custom : void 0);
    if (f) {
      const { transition: p, transitionEnd: g, ...m } = f;
      c = { ...c, ...m, ...g };
    }
    return c;
  };
  function i(l) {
    t = l(e);
  }
  function o(l) {
    const { props: c } = e, d = T3(e.parent) || {}, f = [], h = /* @__PURE__ */ new Set();
    let p = {}, g = 1 / 0;
    for (let y = 0; y < Xle; y++) {
      const v = Zle[y], b = r[v], x = c[v] !== void 0 ? c[v] : d[v], S = bh(x), w = v === l ? b.isActive : null;
      w === !1 && (g = y);
      let j = x === d[v] && x !== c[v] && S;
      if (j && n && e.manuallyAnimateOnMount && (j = !1), b.protectedKeys = { ...p }, // If it isn't active and hasn't *just* been set as inactive
      !b.isActive && w === null || // If we didn't and don't have any defined prop for this animation type
      !x && !b.prevProp || // Or if the prop doesn't define an animation
      Fv(x) || typeof x == "boolean")
        continue;
      const N = ece(b.prevProp, x);
      let k = N || // If we're making this variant active, we want to always make it active
      v === l && b.isActive && !j && S || // If we removed a higher-priority variant (i is in reverse order)
      y > g && S, C = !1;
      const $ = Array.isArray(x) ? x : [x];
      let I = $.reduce(s(v), {});
      w === !1 && (I = {});
      const { prevResolvedValues: M = {} } = b, O = {
        ...M,
        ...I
      }, z = (q) => {
        k = !0, h.has(q) && (C = !0, h.delete(q)), b.needsAnimating[q] = !0;
        const Z = e.getValue(q);
        Z && (Z.liveStyle = !1);
      };
      for (const q in O) {
        const Z = I[q], ie = M[q];
        if (p.hasOwnProperty(q))
          continue;
        let D = !1;
        _1(Z) && _1(ie) ? D = !C3(Z, ie) : D = Z !== ie, D ? Z != null ? z(q) : h.add(q) : Z !== void 0 && h.has(q) ? z(q) : b.protectedKeys[q] = !0;
      }
      b.prevProp = x, b.prevResolvedValues = I, b.isActive && (p = { ...p, ...I }), n && e.blockInitialAnimation && (k = !1);
      const U = j && N;
      k && (!U || C) && f.push(...$.map((q) => {
        const Z = { type: v };
        if (typeof q == "string" && n && !U && e.manuallyAnimateOnMount && e.parent) {
          const { parent: ie } = e, D = Su(ie, q);
          if (ie.enteringChildren && D) {
            const { delayChildren: B } = D.transition || {};
            Z.delay = k3(ie.enteringChildren, e, B);
          }
        }
        return {
          animation: q,
          options: Z
        };
      }));
    }
    if (h.size) {
      const y = {};
      if (typeof c.initial != "boolean") {
        const v = Su(e, Array.isArray(c.initial) ? c.initial[0] : c.initial);
        v && v.transition && (y.transition = v.transition);
      }
      h.forEach((v) => {
        const b = e.getBaseTarget(v), x = e.getValue(v);
        x && (x.liveStyle = !0), y[v] = b ?? null;
      }), f.push({ animation: y });
    }
    let m = !!f.length;
    return n && (c.initial === !1 || c.initial === c.animate) && !e.manuallyAnimateOnMount && (m = !1), n = !1, m ? t(f) : Promise.resolve();
  }
  function a(l, c) {
    var f;
    if (r[l].isActive === c)
      return Promise.resolve();
    (f = e.variantChildren) == null || f.forEach((h) => {
      var p;
      return (p = h.animationState) == null ? void 0 : p.setActive(l, c);
    }), r[l].isActive = c;
    const d = o(l);
    for (const h in r)
      r[h].protectedKeys = {};
    return d;
  }
  return {
    animateChanges: o,
    setActive: a,
    setAnimateFunction: i,
    getState: () => r,
    reset: () => {
      r = rP(), n = !0;
    }
  };
}
function ece(e, t) {
  return typeof t == "string" ? t !== e : Array.isArray(t) ? !C3(t, e) : !1;
}
function jl(e = !1) {
  return {
    isActive: e,
    protectedKeys: {},
    needsAnimating: {},
    prevResolvedValues: {}
  };
}
function rP() {
  return {
    animate: jl(!0),
    whileInView: jl(),
    whileHover: jl(),
    whileTap: jl(),
    whileDrag: jl(),
    whileFocus: jl(),
    exit: jl()
  };
}
class ol {
  constructor(t) {
    this.isMounted = !1, this.node = t;
  }
  update() {
  }
}
class tce extends ol {
  /**
   * We dynamically generate the AnimationState manager as it contains a reference
   * to the underlying animation library. We only want to load that if we load this,
   * so people can optionally code split it out using the `m` component.
   */
  constructor(t) {
    super(t), t.animationState || (t.animationState = Qle(t));
  }
  updateAnimationControlsSubscription() {
    const { animate: t } = this.node.getProps();
    Fv(t) && (this.unmountControls = t.subscribe(this.node));
  }
  /**
   * Subscribe any provided AnimationControls to the component's VisualElement
   */
  mount() {
    this.updateAnimationControlsSubscription();
  }
  update() {
    const { animate: t } = this.node.getProps(), { animate: r } = this.node.prevProps || {};
    t !== r && this.updateAnimationControlsSubscription();
  }
  unmount() {
    var t;
    this.node.animationState.reset(), (t = this.unmountControls) == null || t.call(this);
  }
}
let rce = 0;
class nce extends ol {
  constructor() {
    super(...arguments), this.id = rce++;
  }
  update() {
    if (!this.node.presenceContext)
      return;
    const { isPresent: t, onExitComplete: r } = this.node.presenceContext, { isPresent: n } = this.node.prevPresenceContext || {};
    if (!this.node.animationState || t === n)
      return;
    const s = this.node.animationState.setActive("exit", !t);
    r && !t && s.then(() => {
      r(this.id);
    });
  }
  mount() {
    const { register: t, onExitComplete: r } = this.node.presenceContext || {};
    r && r(this.id), t && (this.unmount = t(this.id));
  }
  unmount() {
  }
}
const sce = {
  animation: {
    Feature: tce
  },
  exit: {
    Feature: nce
  }
};
function wh(e, t, r, n = { passive: !0 }) {
  return e.addEventListener(t, r, n), () => e.removeEventListener(t, r);
}
function dp(e) {
  return {
    point: {
      x: e.pageX,
      y: e.pageY
    }
  };
}
const ice = (e) => (t) => HE(t) && e(t, dp(t));
function Kf(e, t, r, n) {
  return wh(e, t, ice(r), n);
}
const A3 = 1e-4, oce = 1 - A3, ace = 1 + A3, P3 = 0.01, lce = 0 - P3, cce = 0 + P3;
function kn(e) {
  return e.max - e.min;
}
function uce(e, t, r) {
  return Math.abs(e - t) <= r;
}
function nP(e, t, r, n = 0.5) {
  e.origin = n, e.originPoint = er(t.min, t.max, e.origin), e.scale = kn(r) / kn(t), e.translate = er(r.min, r.max, e.origin) - e.originPoint, (e.scale >= oce && e.scale <= ace || isNaN(e.scale)) && (e.scale = 1), (e.translate >= lce && e.translate <= cce || isNaN(e.translate)) && (e.translate = 0);
}
function Hf(e, t, r, n) {
  nP(e.x, t.x, r.x, n ? n.originX : void 0), nP(e.y, t.y, r.y, n ? n.originY : void 0);
}
function sP(e, t, r) {
  e.min = r.min + t.min, e.max = e.min + kn(t);
}
function dce(e, t, r) {
  sP(e.x, t.x, r.x), sP(e.y, t.y, r.y);
}
function iP(e, t, r) {
  e.min = t.min - r.min, e.max = e.min + kn(t);
}
function Yf(e, t, r) {
  iP(e.x, t.x, r.x), iP(e.y, t.y, r.y);
}
function _s(e) {
  return [e("x"), e("y")];
}
const O3 = ({ current: e }) => e ? e.ownerDocument.defaultView : null, oP = (e, t) => Math.abs(e - t);
function fce(e, t) {
  const r = oP(e.x, t.x), n = oP(e.y, t.y);
  return Math.sqrt(r ** 2 + n ** 2);
}
class D3 {
  constructor(t, r, { transformPagePoint: n, contextWindow: s = window, dragSnapToOrigin: i = !1, distanceThreshold: o = 3 } = {}) {
    if (this.startEvent = null, this.lastMoveEvent = null, this.lastMoveEventInfo = null, this.handlers = {}, this.contextWindow = window, this.updatePoint = () => {
      if (!(this.lastMoveEvent && this.lastMoveEventInfo))
        return;
      const h = sx(this.lastMoveEventInfo, this.history), p = this.startEvent !== null, g = fce(h.offset, { x: 0, y: 0 }) >= this.distanceThreshold;
      if (!p && !g)
        return;
      const { point: m } = h, { timestamp: y } = Qr;
      this.history.push({ ...m, timestamp: y });
      const { onStart: v, onMove: b } = this.handlers;
      p || (v && v(this.lastMoveEvent, h), this.startEvent = this.lastMoveEvent), b && b(this.lastMoveEvent, h);
    }, this.handlePointerMove = (h, p) => {
      this.lastMoveEvent = h, this.lastMoveEventInfo = nx(p, this.transformPagePoint), Wt.update(this.updatePoint, !0);
    }, this.handlePointerUp = (h, p) => {
      this.end();
      const { onEnd: g, onSessionEnd: m, resumeAnimation: y } = this.handlers;
      if (this.dragSnapToOrigin && y && y(), !(this.lastMoveEvent && this.lastMoveEventInfo))
        return;
      const v = sx(h.type === "pointercancel" ? this.lastMoveEventInfo : nx(p, this.transformPagePoint), this.history);
      this.startEvent && g && g(h, v), m && m(h, v);
    }, !HE(t))
      return;
    this.dragSnapToOrigin = i, this.handlers = r, this.transformPagePoint = n, this.distanceThreshold = o, this.contextWindow = s || window;
    const a = dp(t), l = nx(a, this.transformPagePoint), { point: c } = l, { timestamp: d } = Qr;
    this.history = [{ ...c, timestamp: d }];
    const { onSessionStart: f } = r;
    f && f(t, sx(l, this.history)), this.removeListeners = lp(Kf(this.contextWindow, "pointermove", this.handlePointerMove), Kf(this.contextWindow, "pointerup", this.handlePointerUp), Kf(this.contextWindow, "pointercancel", this.handlePointerUp));
  }
  updateHandlers(t) {
    this.handlers = t;
  }
  end() {
    this.removeListeners && this.removeListeners(), Xa(this.updatePoint);
  }
}
function nx(e, t) {
  return t ? { point: t(e.point) } : e;
}
function aP(e, t) {
  return { x: e.x - t.x, y: e.y - t.y };
}
function sx({ point: e }, t) {
  return {
    point: e,
    delta: aP(e, $3(t)),
    offset: aP(e, hce(t)),
    velocity: pce(t, 0.1)
  };
}
function hce(e) {
  return e[0];
}
function $3(e) {
  return e[e.length - 1];
}
function pce(e, t) {
  if (e.length < 2)
    return { x: 0, y: 0 };
  let r = e.length - 1, n = null;
  const s = $3(e);
  for (; r >= 0 && (n = e[r], !(s.timestamp - n.timestamp > /* @__PURE__ */ ui(t))); )
    r--;
  if (!n)
    return { x: 0, y: 0 };
  const i = /* @__PURE__ */ qi(s.timestamp - n.timestamp);
  if (i === 0)
    return { x: 0, y: 0 };
  const o = {
    x: (s.x - n.x) / i,
    y: (s.y - n.y) / i
  };
  return o.x === 1 / 0 && (o.x = 0), o.y === 1 / 0 && (o.y = 0), o;
}
function mce(e, { min: t, max: r }, n) {
  return t !== void 0 && e < t ? e = n ? er(t, e, n.min) : Math.max(e, t) : r !== void 0 && e > r && (e = n ? er(r, e, n.max) : Math.min(e, r)), e;
}
function lP(e, t, r) {
  return {
    min: t !== void 0 ? e.min + t : void 0,
    max: r !== void 0 ? e.max + r - (e.max - e.min) : void 0
  };
}
function gce(e, { top: t, left: r, bottom: n, right: s }) {
  return {
    x: lP(e.x, r, s),
    y: lP(e.y, t, n)
  };
}
function cP(e, t) {
  let r = t.min - e.min, n = t.max - e.max;
  return t.max - t.min < e.max - e.min && ([r, n] = [n, r]), { min: r, max: n };
}
function yce(e, t) {
  return {
    x: cP(e.x, t.x),
    y: cP(e.y, t.y)
  };
}
function vce(e, t) {
  let r = 0.5;
  const n = kn(e), s = kn(t);
  return s > n ? r = /* @__PURE__ */ gh(t.min, t.max - n, e.min) : n > s && (r = /* @__PURE__ */ gh(e.min, e.max - s, t.min)), Bo(0, 1, r);
}
function bce(e, t) {
  const r = {};
  return t.min !== void 0 && (r.min = t.min - e.min), t.max !== void 0 && (r.max = t.max - e.min), r;
}
const j1 = 0.35;
function xce(e = j1) {
  return e === !1 ? e = 0 : e === !0 && (e = j1), {
    x: uP(e, "left", "right"),
    y: uP(e, "top", "bottom")
  };
}
function uP(e, t, r) {
  return {
    min: dP(e, t),
    max: dP(e, r)
  };
}
function dP(e, t) {
  return typeof e == "number" ? e : e[t] || 0;
}
const wce = /* @__PURE__ */ new WeakMap();
class _ce {
  constructor(t) {
    this.openDragLock = null, this.isDragging = !1, this.currentDirection = null, this.originPoint = { x: 0, y: 0 }, this.constraints = !1, this.hasMutatedConstraints = !1, this.elastic = ar(), this.latestPointerEvent = null, this.latestPanInfo = null, this.visualElement = t;
  }
  start(t, { snapToCursor: r = !1, distanceThreshold: n } = {}) {
    const { presenceContext: s } = this.visualElement;
    if (s && s.isPresent === !1)
      return;
    const i = (f) => {
      const { dragSnapToOrigin: h } = this.getProps();
      h ? this.pauseAnimation() : this.stopAnimation(), r && this.snapToCursor(dp(f).point);
    }, o = (f, h) => {
      const { drag: p, dragPropagation: g, onDragStart: m } = this.getProps();
      if (p && !g && (this.openDragLock && this.openDragLock(), this.openDragLock = Dae(p), !this.openDragLock))
        return;
      this.latestPointerEvent = f, this.latestPanInfo = h, this.isDragging = !0, this.currentDirection = null, this.resolveConstraints(), this.visualElement.projection && (this.visualElement.projection.isAnimationBlocked = !0, this.visualElement.projection.target = void 0), _s((v) => {
        let b = this.getAxisMotionValue(v).get() || 0;
        if (Vi.test(b)) {
          const { projection: x } = this.visualElement;
          if (x && x.layout) {
            const S = x.layout.layoutBox[v];
            S && (b = kn(S) * (parseFloat(b) / 100));
          }
        }
        this.originPoint[v] = b;
      }), m && Wt.postRender(() => m(f, h)), S1(this.visualElement, "transform");
      const { animationState: y } = this.visualElement;
      y && y.setActive("whileDrag", !0);
    }, a = (f, h) => {
      this.latestPointerEvent = f, this.latestPanInfo = h;
      const { dragPropagation: p, dragDirectionLock: g, onDirectionLock: m, onDrag: y } = this.getProps();
      if (!p && !this.openDragLock)
        return;
      const { offset: v } = h;
      if (g && this.currentDirection === null) {
        this.currentDirection = Sce(v), this.currentDirection !== null && m && m(this.currentDirection);
        return;
      }
      this.updateAxis("x", h.point, v), this.updateAxis("y", h.point, v), this.visualElement.render(), y && y(f, h);
    }, l = (f, h) => {
      this.latestPointerEvent = f, this.latestPanInfo = h, this.stop(f, h), this.latestPointerEvent = null, this.latestPanInfo = null;
    }, c = () => _s((f) => {
      var h;
      return this.getAnimationState(f) === "paused" && ((h = this.getAxisMotionValue(f).animation) == null ? void 0 : h.play());
    }), { dragSnapToOrigin: d } = this.getProps();
    this.panSession = new D3(t, {
      onSessionStart: i,
      onStart: o,
      onMove: a,
      onSessionEnd: l,
      resumeAnimation: c
    }, {
      transformPagePoint: this.visualElement.getTransformPagePoint(),
      dragSnapToOrigin: d,
      distanceThreshold: n,
      contextWindow: O3(this.visualElement)
    });
  }
  /**
   * @internal
   */
  stop(t, r) {
    const n = t || this.latestPointerEvent, s = r || this.latestPanInfo, i = this.isDragging;
    if (this.cancel(), !i || !s || !n)
      return;
    const { velocity: o } = s;
    this.startAnimation(o);
    const { onDragEnd: a } = this.getProps();
    a && Wt.postRender(() => a(n, s));
  }
  /**
   * @internal
   */
  cancel() {
    this.isDragging = !1;
    const { projection: t, animationState: r } = this.visualElement;
    t && (t.isAnimationBlocked = !1), this.panSession && this.panSession.end(), this.panSession = void 0;
    const { dragPropagation: n } = this.getProps();
    !n && this.openDragLock && (this.openDragLock(), this.openDragLock = null), r && r.setActive("whileDrag", !1);
  }
  updateAxis(t, r, n) {
    const { drag: s } = this.getProps();
    if (!n || !jm(t, s, this.currentDirection))
      return;
    const i = this.getAxisMotionValue(t);
    let o = this.originPoint[t] + n[t];
    this.constraints && this.constraints[t] && (o = mce(o, this.constraints[t], this.elastic[t])), i.set(o);
  }
  resolveConstraints() {
    var i;
    const { dragConstraints: t, dragElastic: r } = this.getProps(), n = this.visualElement.projection && !this.visualElement.projection.layout ? this.visualElement.projection.measure(!1) : (i = this.visualElement.projection) == null ? void 0 : i.layout, s = this.constraints;
    t && uu(t) ? this.constraints || (this.constraints = this.resolveRefConstraints()) : t && n ? this.constraints = gce(n.layoutBox, t) : this.constraints = !1, this.elastic = xce(r), s !== this.constraints && n && this.constraints && !this.hasMutatedConstraints && _s((o) => {
      this.constraints !== !1 && this.getAxisMotionValue(o) && (this.constraints[o] = bce(n.layoutBox[o], this.constraints[o]));
    });
  }
  resolveRefConstraints() {
    const { dragConstraints: t, onMeasureDragConstraints: r } = this.getProps();
    if (!t || !uu(t))
      return !1;
    const n = t.current;
    zo(n !== null, "If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.", "drag-constraints-ref");
    const { projection: s } = this.visualElement;
    if (!s || !s.layout)
      return !1;
    const i = Ele(n, s.root, this.visualElement.getTransformPagePoint());
    let o = yce(s.layout.layoutBox, i);
    if (r) {
      const a = r(wle(o));
      this.hasMutatedConstraints = !!a, a && (o = y3(a));
    }
    return o;
  }
  startAnimation(t) {
    const { drag: r, dragMomentum: n, dragElastic: s, dragTransition: i, dragSnapToOrigin: o, onDragTransitionEnd: a } = this.getProps(), l = this.constraints || {}, c = _s((d) => {
      if (!jm(d, r, this.currentDirection))
        return;
      let f = l && l[d] || {};
      o && (f = { min: 0, max: 0 });
      const h = s ? 200 : 1e6, p = s ? 40 : 1e7, g = {
        type: "inertia",
        velocity: n ? t[d] : 0,
        bounceStiffness: h,
        bounceDamping: p,
        timeConstant: 750,
        restDelta: 1,
        restSpeed: 10,
        ...i,
        ...f
      };
      return this.startAxisValueAnimation(d, g);
    });
    return Promise.all(c).then(a);
  }
  startAxisValueAnimation(t, r) {
    const n = this.getAxisMotionValue(t);
    return S1(this.visualElement, t), n.start(rj(t, n, 0, r, this.visualElement, !1));
  }
  stopAnimation() {
    _s((t) => this.getAxisMotionValue(t).stop());
  }
  pauseAnimation() {
    _s((t) => {
      var r;
      return (r = this.getAxisMotionValue(t).animation) == null ? void 0 : r.pause();
    });
  }
  getAnimationState(t) {
    var r;
    return (r = this.getAxisMotionValue(t).animation) == null ? void 0 : r.state;
  }
  /**
   * Drag works differently depending on which props are provided.
   *
   * - If _dragX and _dragY are provided, we output the gesture delta directly to those motion values.
   * - Otherwise, we apply the delta to the x/y motion values.
   */
  getAxisMotionValue(t) {
    const r = `_drag${t.toUpperCase()}`, n = this.visualElement.getProps(), s = n[r];
    return s || this.visualElement.getValue(t, (n.initial ? n.initial[t] : void 0) || 0);
  }
  snapToCursor(t) {
    _s((r) => {
      const { drag: n } = this.getProps();
      if (!jm(r, n, this.currentDirection))
        return;
      const { projection: s } = this.visualElement, i = this.getAxisMotionValue(r);
      if (s && s.layout) {
        const { min: o, max: a } = s.layout.layoutBox[r];
        i.set(t[r] - er(o, a, 0.5));
      }
    });
  }
  /**
   * When the viewport resizes we want to check if the measured constraints
   * have changed and, if so, reposition the element within those new constraints
   * relative to where it was before the resize.
   */
  scalePositionWithinConstraints() {
    if (!this.visualElement.current)
      return;
    const { drag: t, dragConstraints: r } = this.getProps(), { projection: n } = this.visualElement;
    if (!uu(r) || !n || !this.constraints)
      return;
    this.stopAnimation();
    const s = { x: 0, y: 0 };
    _s((o) => {
      const a = this.getAxisMotionValue(o);
      if (a && this.constraints !== !1) {
        const l = a.get();
        s[o] = vce({ min: l, max: l }, this.constraints[o]);
      }
    });
    const { transformTemplate: i } = this.visualElement.getProps();
    this.visualElement.current.style.transform = i ? i({}, "") : "none", n.root && n.root.updateScroll(), n.updateLayout(), this.resolveConstraints(), _s((o) => {
      if (!jm(o, t, null))
        return;
      const a = this.getAxisMotionValue(o), { min: l, max: c } = this.constraints[o];
      a.set(er(l, c, s[o]));
    });
  }
  addListeners() {
    if (!this.visualElement.current)
      return;
    wce.set(this.visualElement, this);
    const t = this.visualElement.current, r = Kf(t, "pointerdown", (l) => {
      const { drag: c, dragListener: d = !0 } = this.getProps();
      c && d && this.start(l);
    }), n = () => {
      const { dragConstraints: l } = this.getProps();
      uu(l) && l.current && (this.constraints = this.resolveRefConstraints());
    }, { projection: s } = this.visualElement, i = s.addEventListener("measure", n);
    s && !s.layout && (s.root && s.root.updateScroll(), s.updateLayout()), Wt.read(n);
    const o = wh(window, "resize", () => this.scalePositionWithinConstraints()), a = s.addEventListener("didUpdate", ({ delta: l, hasLayoutChanged: c }) => {
      this.isDragging && c && (_s((d) => {
        const f = this.getAxisMotionValue(d);
        f && (this.originPoint[d] += l[d].translate, f.set(f.get() + l[d].translate));
      }), this.visualElement.render());
    });
    return () => {
      o(), r(), i(), a && a();
    };
  }
  getProps() {
    const t = this.visualElement.getProps(), { drag: r = !1, dragDirectionLock: n = !1, dragPropagation: s = !1, dragConstraints: i = !1, dragElastic: o = j1, dragMomentum: a = !0 } = t;
    return {
      ...t,
      drag: r,
      dragDirectionLock: n,
      dragPropagation: s,
      dragConstraints: i,
      dragElastic: o,
      dragMomentum: a
    };
  }
}
function jm(e, t, r) {
  return (t === !0 || t === e) && (r === null || r === e);
}
function Sce(e, t = 10) {
  let r = null;
  return Math.abs(e.y) > t ? r = "y" : Math.abs(e.x) > t && (r = "x"), r;
}
class Ece extends ol {
  constructor(t) {
    super(t), this.removeGroupControls = Os, this.removeListeners = Os, this.controls = new _ce(t);
  }
  mount() {
    const { dragControls: t } = this.node.getProps();
    t && (this.removeGroupControls = t.subscribe(this.controls)), this.removeListeners = this.controls.addListeners() || Os;
  }
  unmount() {
    this.removeGroupControls(), this.removeListeners();
  }
}
const fP = (e) => (t, r) => {
  e && Wt.postRender(() => e(t, r));
};
class jce extends ol {
  constructor() {
    super(...arguments), this.removePointerDownListener = Os;
  }
  onPointerDown(t) {
    this.session = new D3(t, this.createPanHandlers(), {
      transformPagePoint: this.node.getTransformPagePoint(),
      contextWindow: O3(this.node)
    });
  }
  createPanHandlers() {
    const { onPanSessionStart: t, onPanStart: r, onPan: n, onPanEnd: s } = this.node.getProps();
    return {
      onSessionStart: fP(t),
      onStart: fP(r),
      onMove: n,
      onEnd: (i, o) => {
        delete this.session, s && Wt.postRender(() => s(i, o));
      }
    };
  }
  mount() {
    this.removePointerDownListener = Kf(this.node.current, "pointerdown", (t) => this.onPointerDown(t));
  }
  update() {
    this.session && this.session.updateHandlers(this.createPanHandlers());
  }
  unmount() {
    this.removePointerDownListener(), this.session && this.session.end();
  }
}
const fg = {
  /**
   * Global flag as to whether the tree has animated since the last time
   * we resized the window
   */
  hasAnimatedSinceResize: !0,
  /**
   * We set this to true once, on the first update. Any nodes added to the tree beyond that
   * update will be given a `data-projection-id` attribute.
   */
  hasEverUpdated: !1
};
function hP(e, t) {
  return t.max === t.min ? 0 : e / (t.max - t.min) * 100;
}
const nf = {
  correct: (e, t) => {
    if (!t.target)
      return e;
    if (typeof e == "string")
      if (qe.test(e))
        e = parseFloat(e);
      else
        return e;
    const r = hP(e, t.target.x), n = hP(e, t.target.y);
    return `${r}% ${n}%`;
  }
}, Nce = {
  correct: (e, { treeScale: t, projectionDelta: r }) => {
    const n = e, s = Ja.parse(e);
    if (s.length > 5)
      return n;
    const i = Ja.createTransformer(e), o = typeof s[0] != "number" ? 1 : 0, a = r.x.scale * t.x, l = r.y.scale * t.y;
    s[0 + o] /= a, s[1 + o] /= l;
    const c = er(a, l, 0.5);
    return typeof s[2 + o] == "number" && (s[2 + o] /= c), typeof s[3 + o] == "number" && (s[3 + o] /= c), i(s);
  }
};
let ix = !1;
class kce extends Gh {
  /**
   * This only mounts projection nodes for components that
   * need measuring, we might want to do it for all components
   * in order to incorporate transforms
   */
  componentDidMount() {
    const { visualElement: t, layoutGroup: r, switchLayoutGroup: n, layoutId: s } = this.props, { projection: i } = t;
    Gae(Cce), i && (r.group && r.group.add(i), n && n.register && s && n.register(i), ix && i.root.didUpdate(), i.addEventListener("animationComplete", () => {
      this.safeToRemove();
    }), i.setOptions({
      ...i.options,
      onExitComplete: () => this.safeToRemove()
    })), fg.hasEverUpdated = !0;
  }
  getSnapshotBeforeUpdate(t) {
    const { layoutDependency: r, visualElement: n, drag: s, isPresent: i } = this.props, { projection: o } = n;
    return o && (o.isPresent = i, ix = !0, s || t.layoutDependency !== r || r === void 0 || t.isPresent !== i ? o.willUpdate() : this.safeToRemove(), t.isPresent !== i && (i ? o.promote() : o.relegate() || Wt.postRender(() => {
      const a = o.getStack();
      (!a || !a.members.length) && this.safeToRemove();
    }))), null;
  }
  componentDidUpdate() {
    const { projection: t } = this.props.visualElement;
    t && (t.root.didUpdate(), KE.postRender(() => {
      !t.currentAnimation && t.isLead() && this.safeToRemove();
    }));
  }
  componentWillUnmount() {
    const { visualElement: t, layoutGroup: r, switchLayoutGroup: n } = this.props, { projection: s } = t;
    ix = !0, s && (s.scheduleCheckAfterUnmount(), r && r.group && r.group.remove(s), n && n.deregister && n.deregister(s));
  }
  safeToRemove() {
    const { safeToRemove: t } = this.props;
    t && t();
  }
  render() {
    return null;
  }
}
function R3(e) {
  const [t, r] = Uae(), n = Dt(h5);
  return u.jsx(kce, { ...e, layoutGroup: n, switchLayoutGroup: Dt(m3), isPresent: t, safeToRemove: r });
}
const Cce = {
  borderRadius: {
    ...nf,
    applyTo: [
      "borderTopLeftRadius",
      "borderTopRightRadius",
      "borderBottomLeftRadius",
      "borderBottomRightRadius"
    ]
  },
  borderTopLeftRadius: nf,
  borderTopRightRadius: nf,
  borderBottomLeftRadius: nf,
  borderBottomRightRadius: nf,
  boxShadow: Nce
};
function Tce(e, t, r) {
  const n = mn(e) ? e : Ku(e);
  return n.start(rj("", n, t, r)), n.animation;
}
const Ace = (e, t) => e.depth - t.depth;
class Pce {
  constructor() {
    this.children = [], this.isDirty = !1;
  }
  add(t) {
    kE(this.children, t), this.isDirty = !0;
  }
  remove(t) {
    CE(this.children, t), this.isDirty = !0;
  }
  forEach(t) {
    this.isDirty && this.children.sort(Ace), this.isDirty = !1, this.children.forEach(t);
  }
}
function Oce(e, t) {
  const r = zn.now(), n = ({ timestamp: s }) => {
    const i = s - r;
    i >= t && (Xa(n), e(i - t));
  };
  return Wt.setup(n, !0), () => Xa(n);
}
const I3 = ["TopLeft", "TopRight", "BottomLeft", "BottomRight"], Dce = I3.length, pP = (e) => typeof e == "string" ? parseFloat(e) : e, mP = (e) => typeof e == "number" || qe.test(e);
function $ce(e, t, r, n, s, i) {
  s ? (e.opacity = er(0, r.opacity ?? 1, Rce(n)), e.opacityExit = er(t.opacity ?? 1, 0, Ice(n))) : i && (e.opacity = er(t.opacity ?? 1, r.opacity ?? 1, n));
  for (let o = 0; o < Dce; o++) {
    const a = `border${I3[o]}Radius`;
    let l = gP(t, a), c = gP(r, a);
    if (l === void 0 && c === void 0)
      continue;
    l || (l = 0), c || (c = 0), l === 0 || c === 0 || mP(l) === mP(c) ? (e[a] = Math.max(er(pP(l), pP(c), n), 0), (Vi.test(c) || Vi.test(l)) && (e[a] += "%")) : e[a] = c;
  }
  (t.rotate || r.rotate) && (e.rotate = er(t.rotate || 0, r.rotate || 0, n));
}
function gP(e, t) {
  return e[t] !== void 0 ? e[t] : e.borderRadius;
}
const Rce = /* @__PURE__ */ M3(0, 0.5, E5), Ice = /* @__PURE__ */ M3(0.5, 0.95, Os);
function M3(e, t, r) {
  return (n) => n < e ? 0 : n > t ? 1 : r(/* @__PURE__ */ gh(e, t, n));
}
function yP(e, t) {
  e.min = t.min, e.max = t.max;
}
function ys(e, t) {
  yP(e.x, t.x), yP(e.y, t.y);
}
function vP(e, t) {
  e.translate = t.translate, e.scale = t.scale, e.originPoint = t.originPoint, e.origin = t.origin;
}
function bP(e, t, r, n, s) {
  return e -= t, e = Xg(e, 1 / r, n), s !== void 0 && (e = Xg(e, 1 / s, n)), e;
}
function Mce(e, t = 0, r = 1, n = 0.5, s, i = e, o = e) {
  if (Vi.test(t) && (t = parseFloat(t), t = er(o.min, o.max, t / 100) - o.min), typeof t != "number")
    return;
  let a = er(i.min, i.max, n);
  e === i && (a -= t), e.min = bP(e.min, t, r, a, s), e.max = bP(e.max, t, r, a, s);
}
function xP(e, t, [r, n, s], i, o) {
  Mce(e, t[r], t[n], t[s], t.scale, i, o);
}
const Lce = ["x", "scaleX", "originX"], Fce = ["y", "scaleY", "originY"];
function wP(e, t, r, n) {
  xP(e.x, t, Lce, r ? r.x : void 0, n ? n.x : void 0), xP(e.y, t, Fce, r ? r.y : void 0, n ? n.y : void 0);
}
function _P(e) {
  return e.translate === 0 && e.scale === 1;
}
function L3(e) {
  return _P(e.x) && _P(e.y);
}
function SP(e, t) {
  return e.min === t.min && e.max === t.max;
}
function Bce(e, t) {
  return SP(e.x, t.x) && SP(e.y, t.y);
}
function EP(e, t) {
  return Math.round(e.min) === Math.round(t.min) && Math.round(e.max) === Math.round(t.max);
}
function F3(e, t) {
  return EP(e.x, t.x) && EP(e.y, t.y);
}
function jP(e) {
  return kn(e.x) / kn(e.y);
}
function NP(e, t) {
  return e.translate === t.translate && e.scale === t.scale && e.originPoint === t.originPoint;
}
class zce {
  constructor() {
    this.members = [];
  }
  add(t) {
    kE(this.members, t), t.scheduleRender();
  }
  remove(t) {
    if (CE(this.members, t), t === this.prevLead && (this.prevLead = void 0), t === this.lead) {
      const r = this.members[this.members.length - 1];
      r && this.promote(r);
    }
  }
  relegate(t) {
    const r = this.members.findIndex((s) => t === s);
    if (r === 0)
      return !1;
    let n;
    for (let s = r; s >= 0; s--) {
      const i = this.members[s];
      if (i.isPresent !== !1) {
        n = i;
        break;
      }
    }
    return n ? (this.promote(n), !0) : !1;
  }
  promote(t, r) {
    const n = this.lead;
    if (t !== n && (this.prevLead = n, this.lead = t, t.show(), n)) {
      n.instance && n.scheduleRender(), t.scheduleRender(), t.resumeFrom = n, r && (t.resumeFrom.preserveOpacity = !0), n.snapshot && (t.snapshot = n.snapshot, t.snapshot.latestValues = n.animationValues || n.latestValues), t.root && t.root.isUpdating && (t.isLayoutDirty = !0);
      const { crossfade: s } = t.options;
      s === !1 && n.hide();
    }
  }
  exitAnimationComplete() {
    this.members.forEach((t) => {
      const { options: r, resumingFrom: n } = t;
      r.onExitComplete && r.onExitComplete(), n && n.options.onExitComplete && n.options.onExitComplete();
    });
  }
  scheduleRender() {
    this.members.forEach((t) => {
      t.instance && t.scheduleRender(!1);
    });
  }
  /**
   * Clear any leads that have been removed this render to prevent them from being
   * used in future animations and to prevent memory leaks
   */
  removeLeadSnapshot() {
    this.lead && this.lead.snapshot && (this.lead.snapshot = void 0);
  }
}
function Uce(e, t, r) {
  let n = "";
  const s = e.x.translate / t.x, i = e.y.translate / t.y, o = (r == null ? void 0 : r.z) || 0;
  if ((s || i || o) && (n = `translate3d(${s}px, ${i}px, ${o}px) `), (t.x !== 1 || t.y !== 1) && (n += `scale(${1 / t.x}, ${1 / t.y}) `), r) {
    const { transformPerspective: c, rotate: d, rotateX: f, rotateY: h, skewX: p, skewY: g } = r;
    c && (n = `perspective(${c}px) ${n}`), d && (n += `rotate(${d}deg) `), f && (n += `rotateX(${f}deg) `), h && (n += `rotateY(${h}deg) `), p && (n += `skewX(${p}deg) `), g && (n += `skewY(${g}deg) `);
  }
  const a = e.x.scale * t.x, l = e.y.scale * t.y;
  return (a !== 1 || l !== 1) && (n += `scale(${a}, ${l})`), n || "none";
}
const ox = ["", "X", "Y", "Z"], qce = 1e3;
let Vce = 0;
function ax(e, t, r, n) {
  const { latestValues: s } = t;
  s[e] && (r[e] = s[e], t.setStaticValue(e, 0), n && (n[e] = 0));
}
function B3(e) {
  if (e.hasCheckedOptimisedAppear = !0, e.root === e)
    return;
  const { visualElement: t } = e.options;
  if (!t)
    return;
  const r = j3(t);
  if (window.MotionHasOptimisedAnimation(r, "transform")) {
    const { layout: s, layoutId: i } = e.options;
    window.MotionCancelOptimisedAnimation(r, "transform", Wt, !(s || i));
  }
  const { parent: n } = e;
  n && !n.hasCheckedOptimisedAppear && B3(n);
}
function z3({ attachResizeListener: e, defaultParent: t, measureScroll: r, checkIsScrollRoot: n, resetTransform: s }) {
  return class {
    constructor(o = {}, a = t == null ? void 0 : t()) {
      this.id = Vce++, this.animationId = 0, this.animationCommitId = 0, this.children = /* @__PURE__ */ new Set(), this.options = {}, this.isTreeAnimating = !1, this.isAnimationBlocked = !1, this.isLayoutDirty = !1, this.isProjectionDirty = !1, this.isSharedProjectionDirty = !1, this.isTransformDirty = !1, this.updateManuallyBlocked = !1, this.updateBlockedByResize = !1, this.isUpdating = !1, this.isSVG = !1, this.needsReset = !1, this.shouldResetTransform = !1, this.hasCheckedOptimisedAppear = !1, this.treeScale = { x: 1, y: 1 }, this.eventHandlers = /* @__PURE__ */ new Map(), this.hasTreeAnimated = !1, this.updateScheduled = !1, this.scheduleUpdate = () => this.update(), this.projectionUpdateScheduled = !1, this.checkUpdateFailed = () => {
        this.isUpdating && (this.isUpdating = !1, this.clearAllSnapshots());
      }, this.updateProjection = () => {
        this.projectionUpdateScheduled = !1, this.nodes.forEach(Hce), this.nodes.forEach(Xce), this.nodes.forEach(Jce), this.nodes.forEach(Yce);
      }, this.resolvedRelativeTargetAt = 0, this.hasProjected = !1, this.isVisible = !0, this.animationProgress = 0, this.sharedNodes = /* @__PURE__ */ new Map(), this.latestValues = o, this.root = a ? a.root || a : this, this.path = a ? [...a.path, a] : [], this.parent = a, this.depth = a ? a.depth + 1 : 0;
      for (let l = 0; l < this.path.length; l++)
        this.path[l].shouldResetTransform = !0;
      this.root === this && (this.nodes = new Pce());
    }
    addEventListener(o, a) {
      return this.eventHandlers.has(o) || this.eventHandlers.set(o, new AE()), this.eventHandlers.get(o).add(a);
    }
    notifyListeners(o, ...a) {
      const l = this.eventHandlers.get(o);
      l && l.notify(...a);
    }
    hasListeners(o) {
      return this.eventHandlers.has(o);
    }
    /**
     * Lifecycles
     */
    mount(o) {
      if (this.instance)
        return;
      this.isSVG = r3(o) && !Fae(o), this.instance = o;
      const { layoutId: a, layout: l, visualElement: c } = this.options;
      if (c && !c.current && c.mount(o), this.root.nodes.add(this), this.parent && this.parent.children.add(this), this.root.hasTreeAnimated && (l || a) && (this.isLayoutDirty = !0), e) {
        let d, f = 0;
        const h = () => this.root.updateBlockedByResize = !1;
        Wt.read(() => {
          f = window.innerWidth;
        }), e(o, () => {
          const p = window.innerWidth;
          p !== f && (f = p, this.root.updateBlockedByResize = !0, d && d(), d = Oce(h, 250), fg.hasAnimatedSinceResize && (fg.hasAnimatedSinceResize = !1, this.nodes.forEach(TP)));
        });
      }
      a && this.root.registerSharedNode(a, this), this.options.animate !== !1 && c && (a || l) && this.addEventListener("didUpdate", ({ delta: d, hasLayoutChanged: f, hasRelativeLayoutChanged: h, layout: p }) => {
        if (this.isTreeAnimationBlocked()) {
          this.target = void 0, this.relativeTarget = void 0;
          return;
        }
        const g = this.options.transition || c.getDefaultTransition() || nue, { onLayoutAnimationStart: m, onLayoutAnimationComplete: y } = c.getProps(), v = !this.targetLayout || !F3(this.targetLayout, p), b = !f && h;
        if (this.options.layoutRoot || this.resumeFrom || b || f && (v || !this.currentAnimation)) {
          this.resumeFrom && (this.resumingFrom = this.resumeFrom, this.resumingFrom.resumingFrom = void 0);
          const x = {
            ...VE(g, "layout"),
            onPlay: m,
            onComplete: y
          };
          (c.shouldReduceMotion || this.options.layoutRoot) && (x.delay = 0, x.type = !1), this.startAnimation(x), this.setAnimationOrigin(d, b);
        } else
          f || TP(this), this.isLead() && this.options.onExitComplete && this.options.onExitComplete();
        this.targetLayout = p;
      });
    }
    unmount() {
      this.options.layoutId && this.willUpdate(), this.root.nodes.remove(this);
      const o = this.getStack();
      o && o.remove(this), this.parent && this.parent.children.delete(this), this.instance = void 0, this.eventHandlers.clear(), Xa(this.updateProjection);
    }
    // only on the root
    blockUpdate() {
      this.updateManuallyBlocked = !0;
    }
    unblockUpdate() {
      this.updateManuallyBlocked = !1;
    }
    isUpdateBlocked() {
      return this.updateManuallyBlocked || this.updateBlockedByResize;
    }
    isTreeAnimationBlocked() {
      return this.isAnimationBlocked || this.parent && this.parent.isTreeAnimationBlocked() || !1;
    }
    // Note: currently only running on root node
    startUpdate() {
      this.isUpdateBlocked() || (this.isUpdating = !0, this.nodes && this.nodes.forEach(Qce), this.animationId++);
    }
    getTransformTemplate() {
      const { visualElement: o } = this.options;
      return o && o.getProps().transformTemplate;
    }
    willUpdate(o = !0) {
      if (this.root.hasTreeAnimated = !0, this.root.isUpdateBlocked()) {
        this.options.onExitComplete && this.options.onExitComplete();
        return;
      }
      if (window.MotionCancelOptimisedAnimation && !this.hasCheckedOptimisedAppear && B3(this), !this.root.isUpdating && this.root.startUpdate(), this.isLayoutDirty)
        return;
      this.isLayoutDirty = !0;
      for (let d = 0; d < this.path.length; d++) {
        const f = this.path[d];
        f.shouldResetTransform = !0, f.updateScroll("snapshot"), f.options.layoutRoot && f.willUpdate(!1);
      }
      const { layoutId: a, layout: l } = this.options;
      if (a === void 0 && !l)
        return;
      const c = this.getTransformTemplate();
      this.prevTransformTemplateValue = c ? c(this.latestValues, "") : void 0, this.updateSnapshot(), o && this.notifyListeners("willUpdate");
    }
    update() {
      if (this.updateScheduled = !1, this.isUpdateBlocked()) {
        this.unblockUpdate(), this.clearAllSnapshots(), this.nodes.forEach(kP);
        return;
      }
      if (this.animationId <= this.animationCommitId) {
        this.nodes.forEach(CP);
        return;
      }
      this.animationCommitId = this.animationId, this.isUpdating ? (this.isUpdating = !1, this.nodes.forEach(Zce), this.nodes.forEach(Wce), this.nodes.forEach(Kce)) : this.nodes.forEach(CP), this.clearAllSnapshots();
      const a = zn.now();
      Qr.delta = Bo(0, 1e3 / 60, a - Qr.timestamp), Qr.timestamp = a, Qr.isProcessing = !0, G0.update.process(Qr), G0.preRender.process(Qr), G0.render.process(Qr), Qr.isProcessing = !1;
    }
    didUpdate() {
      this.updateScheduled || (this.updateScheduled = !0, KE.read(this.scheduleUpdate));
    }
    clearAllSnapshots() {
      this.nodes.forEach(Gce), this.sharedNodes.forEach(eue);
    }
    scheduleUpdateProjection() {
      this.projectionUpdateScheduled || (this.projectionUpdateScheduled = !0, Wt.preRender(this.updateProjection, !1, !0));
    }
    scheduleCheckAfterUnmount() {
      Wt.postRender(() => {
        this.isLayoutDirty ? this.root.didUpdate() : this.root.checkUpdateFailed();
      });
    }
    /**
     * Update measurements
     */
    updateSnapshot() {
      this.snapshot || !this.instance || (this.snapshot = this.measure(), this.snapshot && !kn(this.snapshot.measuredBox.x) && !kn(this.snapshot.measuredBox.y) && (this.snapshot = void 0));
    }
    updateLayout() {
      if (!this.instance || (this.updateScroll(), !(this.options.alwaysMeasureLayout && this.isLead()) && !this.isLayoutDirty))
        return;
      if (this.resumeFrom && !this.resumeFrom.instance)
        for (let l = 0; l < this.path.length; l++)
          this.path[l].updateScroll();
      const o = this.layout;
      this.layout = this.measure(!1), this.layoutCorrected = ar(), this.isLayoutDirty = !1, this.projectionDelta = void 0, this.notifyListeners("measure", this.layout.layoutBox);
      const { visualElement: a } = this.options;
      a && a.notify("LayoutMeasure", this.layout.layoutBox, o ? o.layoutBox : void 0);
    }
    updateScroll(o = "measure") {
      let a = !!(this.options.layoutScroll && this.instance);
      if (this.scroll && this.scroll.animationId === this.root.animationId && this.scroll.phase === o && (a = !1), a && this.instance) {
        const l = n(this.instance);
        this.scroll = {
          animationId: this.root.animationId,
          phase: o,
          isRoot: l,
          offset: r(this.instance),
          wasRoot: this.scroll ? this.scroll.isRoot : l
        };
      }
    }
    resetTransform() {
      if (!s)
        return;
      const o = this.isLayoutDirty || this.shouldResetTransform || this.options.alwaysMeasureLayout, a = this.projectionDelta && !L3(this.projectionDelta), l = this.getTransformTemplate(), c = l ? l(this.latestValues, "") : void 0, d = c !== this.prevTransformTemplateValue;
      o && this.instance && (a || Tl(this.latestValues) || d) && (s(this.instance, c), this.shouldResetTransform = !1, this.scheduleRender());
    }
    measure(o = !0) {
      const a = this.measurePageBox();
      let l = this.removeElementScroll(a);
      return o && (l = this.removeTransform(l)), sue(l), {
        animationId: this.root.animationId,
        measuredBox: a,
        layoutBox: l,
        latestValues: {},
        source: this.id
      };
    }
    measurePageBox() {
      var c;
      const { visualElement: o } = this.options;
      if (!o)
        return ar();
      const a = o.measureViewportBox();
      if (!(((c = this.scroll) == null ? void 0 : c.wasRoot) || this.path.some(iue))) {
        const { scroll: d } = this.root;
        d && (du(a.x, d.offset.x), du(a.y, d.offset.y));
      }
      return a;
    }
    removeElementScroll(o) {
      var l;
      const a = ar();
      if (ys(a, o), (l = this.scroll) != null && l.wasRoot)
        return a;
      for (let c = 0; c < this.path.length; c++) {
        const d = this.path[c], { scroll: f, options: h } = d;
        d !== this.root && f && h.layoutScroll && (f.wasRoot && ys(a, o), du(a.x, f.offset.x), du(a.y, f.offset.y));
      }
      return a;
    }
    applyTransform(o, a = !1) {
      const l = ar();
      ys(l, o);
      for (let c = 0; c < this.path.length; c++) {
        const d = this.path[c];
        !a && d.options.layoutScroll && d.scroll && d !== d.root && fu(l, {
          x: -d.scroll.offset.x,
          y: -d.scroll.offset.y
        }), Tl(d.latestValues) && fu(l, d.latestValues);
      }
      return Tl(this.latestValues) && fu(l, this.latestValues), l;
    }
    removeTransform(o) {
      const a = ar();
      ys(a, o);
      for (let l = 0; l < this.path.length; l++) {
        const c = this.path[l];
        if (!c.instance || !Tl(c.latestValues))
          continue;
        b1(c.latestValues) && c.updateSnapshot();
        const d = ar(), f = c.measurePageBox();
        ys(d, f), wP(a, c.latestValues, c.snapshot ? c.snapshot.layoutBox : void 0, d);
      }
      return Tl(this.latestValues) && wP(a, this.latestValues), a;
    }
    setTargetDelta(o) {
      this.targetDelta = o, this.root.scheduleUpdateProjection(), this.isProjectionDirty = !0;
    }
    setOptions(o) {
      this.options = {
        ...this.options,
        ...o,
        crossfade: o.crossfade !== void 0 ? o.crossfade : !0
      };
    }
    clearMeasurements() {
      this.scroll = void 0, this.layout = void 0, this.snapshot = void 0, this.prevTransformTemplateValue = void 0, this.targetDelta = void 0, this.target = void 0, this.isLayoutDirty = !1;
    }
    forceRelativeParentToResolveTarget() {
      this.relativeParent && this.relativeParent.resolvedRelativeTargetAt !== Qr.timestamp && this.relativeParent.resolveTargetDelta(!0);
    }
    resolveTargetDelta(o = !1) {
      var h;
      const a = this.getLead();
      this.isProjectionDirty || (this.isProjectionDirty = a.isProjectionDirty), this.isTransformDirty || (this.isTransformDirty = a.isTransformDirty), this.isSharedProjectionDirty || (this.isSharedProjectionDirty = a.isSharedProjectionDirty);
      const l = !!this.resumingFrom || this !== a;
      if (!(o || l && this.isSharedProjectionDirty || this.isProjectionDirty || (h = this.parent) != null && h.isProjectionDirty || this.attemptToResolveRelativeTarget || this.root.updateBlockedByResize))
        return;
      const { layout: d, layoutId: f } = this.options;
      if (!(!this.layout || !(d || f))) {
        if (this.resolvedRelativeTargetAt = Qr.timestamp, !this.targetDelta && !this.relativeTarget) {
          const p = this.getClosestProjectingParent();
          p && p.layout && this.animationProgress !== 1 ? (this.relativeParent = p, this.forceRelativeParentToResolveTarget(), this.relativeTarget = ar(), this.relativeTargetOrigin = ar(), Yf(this.relativeTargetOrigin, this.layout.layoutBox, p.layout.layoutBox), ys(this.relativeTarget, this.relativeTargetOrigin)) : this.relativeParent = this.relativeTarget = void 0;
        }
        if (!(!this.relativeTarget && !this.targetDelta) && (this.target || (this.target = ar(), this.targetWithTransforms = ar()), this.relativeTarget && this.relativeTargetOrigin && this.relativeParent && this.relativeParent.target ? (this.forceRelativeParentToResolveTarget(), dce(this.target, this.relativeTarget, this.relativeParent.target)) : this.targetDelta ? (this.resumingFrom ? this.target = this.applyTransform(this.layout.layoutBox) : ys(this.target, this.layout.layoutBox), b3(this.target, this.targetDelta)) : ys(this.target, this.layout.layoutBox), this.attemptToResolveRelativeTarget)) {
          this.attemptToResolveRelativeTarget = !1;
          const p = this.getClosestProjectingParent();
          p && !!p.resumingFrom == !!this.resumingFrom && !p.options.layoutScroll && p.target && this.animationProgress !== 1 ? (this.relativeParent = p, this.forceRelativeParentToResolveTarget(), this.relativeTarget = ar(), this.relativeTargetOrigin = ar(), Yf(this.relativeTargetOrigin, this.target, p.target), ys(this.relativeTarget, this.relativeTargetOrigin)) : this.relativeParent = this.relativeTarget = void 0;
        }
      }
    }
    getClosestProjectingParent() {
      if (!(!this.parent || b1(this.parent.latestValues) || v3(this.parent.latestValues)))
        return this.parent.isProjecting() ? this.parent : this.parent.getClosestProjectingParent();
    }
    isProjecting() {
      return !!((this.relativeTarget || this.targetDelta || this.options.layoutRoot) && this.layout);
    }
    calcProjection() {
      var g;
      const o = this.getLead(), a = !!this.resumingFrom || this !== o;
      let l = !0;
      if ((this.isProjectionDirty || (g = this.parent) != null && g.isProjectionDirty) && (l = !1), a && (this.isSharedProjectionDirty || this.isTransformDirty) && (l = !1), this.resolvedRelativeTargetAt === Qr.timestamp && (l = !1), l)
        return;
      const { layout: c, layoutId: d } = this.options;
      if (this.isTreeAnimating = !!(this.parent && this.parent.isTreeAnimating || this.currentAnimation || this.pendingAnimation), this.isTreeAnimating || (this.targetDelta = this.relativeTarget = void 0), !this.layout || !(c || d))
        return;
      ys(this.layoutCorrected, this.layout.layoutBox);
      const f = this.treeScale.x, h = this.treeScale.y;
      Sle(this.layoutCorrected, this.treeScale, this.path, a), o.layout && !o.target && (this.treeScale.x !== 1 || this.treeScale.y !== 1) && (o.target = o.layout.layoutBox, o.targetWithTransforms = ar());
      const { target: p } = o;
      if (!p) {
        this.prevProjectionDelta && (this.createProjectionDeltas(), this.scheduleRender());
        return;
      }
      !this.projectionDelta || !this.prevProjectionDelta ? this.createProjectionDeltas() : (vP(this.prevProjectionDelta.x, this.projectionDelta.x), vP(this.prevProjectionDelta.y, this.projectionDelta.y)), Hf(this.projectionDelta, this.layoutCorrected, p, this.latestValues), (this.treeScale.x !== f || this.treeScale.y !== h || !NP(this.projectionDelta.x, this.prevProjectionDelta.x) || !NP(this.projectionDelta.y, this.prevProjectionDelta.y)) && (this.hasProjected = !0, this.scheduleRender(), this.notifyListeners("projectionUpdate", p));
    }
    hide() {
      this.isVisible = !1;
    }
    show() {
      this.isVisible = !0;
    }
    scheduleRender(o = !0) {
      var a;
      if ((a = this.options.visualElement) == null || a.scheduleRender(), o) {
        const l = this.getStack();
        l && l.scheduleRender();
      }
      this.resumingFrom && !this.resumingFrom.instance && (this.resumingFrom = void 0);
    }
    createProjectionDeltas() {
      this.prevProjectionDelta = hu(), this.projectionDelta = hu(), this.projectionDeltaWithTransform = hu();
    }
    setAnimationOrigin(o, a = !1) {
      const l = this.snapshot, c = l ? l.latestValues : {}, d = { ...this.latestValues }, f = hu();
      (!this.relativeParent || !this.relativeParent.options.layoutRoot) && (this.relativeTarget = this.relativeTargetOrigin = void 0), this.attemptToResolveRelativeTarget = !a;
      const h = ar(), p = l ? l.source : void 0, g = this.layout ? this.layout.source : void 0, m = p !== g, y = this.getStack(), v = !y || y.members.length <= 1, b = !!(m && !v && this.options.crossfade === !0 && !this.path.some(rue));
      this.animationProgress = 0;
      let x;
      this.mixTargetDelta = (S) => {
        const w = S / 1e3;
        AP(f.x, o.x, w), AP(f.y, o.y, w), this.setTargetDelta(f), this.relativeTarget && this.relativeTargetOrigin && this.layout && this.relativeParent && this.relativeParent.layout && (Yf(h, this.layout.layoutBox, this.relativeParent.layout.layoutBox), tue(this.relativeTarget, this.relativeTargetOrigin, h, w), x && Bce(this.relativeTarget, x) && (this.isProjectionDirty = !1), x || (x = ar()), ys(x, this.relativeTarget)), m && (this.animationValues = d, $ce(d, c, this.latestValues, w, b, v)), this.root.scheduleUpdateProjection(), this.scheduleRender(), this.animationProgress = w;
      }, this.mixTargetDelta(this.options.layoutRoot ? 1e3 : 0);
    }
    startAnimation(o) {
      var a, l, c;
      this.notifyListeners("animationStart"), (a = this.currentAnimation) == null || a.stop(), (c = (l = this.resumingFrom) == null ? void 0 : l.currentAnimation) == null || c.stop(), this.pendingAnimation && (Xa(this.pendingAnimation), this.pendingAnimation = void 0), this.pendingAnimation = Wt.update(() => {
        fg.hasAnimatedSinceResize = !0, this.motionValue || (this.motionValue = Ku(0)), this.currentAnimation = Tce(this.motionValue, [0, 1e3], {
          ...o,
          velocity: 0,
          isSync: !0,
          onUpdate: (d) => {
            this.mixTargetDelta(d), o.onUpdate && o.onUpdate(d);
          },
          onStop: () => {
          },
          onComplete: () => {
            o.onComplete && o.onComplete(), this.completeAnimation();
          }
        }), this.resumingFrom && (this.resumingFrom.currentAnimation = this.currentAnimation), this.pendingAnimation = void 0;
      });
    }
    completeAnimation() {
      this.resumingFrom && (this.resumingFrom.currentAnimation = void 0, this.resumingFrom.preserveOpacity = void 0);
      const o = this.getStack();
      o && o.exitAnimationComplete(), this.resumingFrom = this.currentAnimation = this.animationValues = void 0, this.notifyListeners("animationComplete");
    }
    finishAnimation() {
      this.currentAnimation && (this.mixTargetDelta && this.mixTargetDelta(qce), this.currentAnimation.stop()), this.completeAnimation();
    }
    applyTransformsToTarget() {
      const o = this.getLead();
      let { targetWithTransforms: a, target: l, layout: c, latestValues: d } = o;
      if (!(!a || !l || !c)) {
        if (this !== o && this.layout && c && U3(this.options.animationType, this.layout.layoutBox, c.layoutBox)) {
          l = this.target || ar();
          const f = kn(this.layout.layoutBox.x);
          l.x.min = o.target.x.min, l.x.max = l.x.min + f;
          const h = kn(this.layout.layoutBox.y);
          l.y.min = o.target.y.min, l.y.max = l.y.min + h;
        }
        ys(a, l), fu(a, d), Hf(this.projectionDeltaWithTransform, this.layoutCorrected, a, d);
      }
    }
    registerSharedNode(o, a) {
      this.sharedNodes.has(o) || this.sharedNodes.set(o, new zce()), this.sharedNodes.get(o).add(a);
      const c = a.options.initialPromotionConfig;
      a.promote({
        transition: c ? c.transition : void 0,
        preserveFollowOpacity: c && c.shouldPreserveFollowOpacity ? c.shouldPreserveFollowOpacity(a) : void 0
      });
    }
    isLead() {
      const o = this.getStack();
      return o ? o.lead === this : !0;
    }
    getLead() {
      var a;
      const { layoutId: o } = this.options;
      return o ? ((a = this.getStack()) == null ? void 0 : a.lead) || this : this;
    }
    getPrevLead() {
      var a;
      const { layoutId: o } = this.options;
      return o ? (a = this.getStack()) == null ? void 0 : a.prevLead : void 0;
    }
    getStack() {
      const { layoutId: o } = this.options;
      if (o)
        return this.root.sharedNodes.get(o);
    }
    promote({ needsReset: o, transition: a, preserveFollowOpacity: l } = {}) {
      const c = this.getStack();
      c && c.promote(this, l), o && (this.projectionDelta = void 0, this.needsReset = !0), a && this.setOptions({ transition: a });
    }
    relegate() {
      const o = this.getStack();
      return o ? o.relegate(this) : !1;
    }
    resetSkewAndRotation() {
      const { visualElement: o } = this.options;
      if (!o)
        return;
      let a = !1;
      const { latestValues: l } = o;
      if ((l.z || l.rotate || l.rotateX || l.rotateY || l.rotateZ || l.skewX || l.skewY) && (a = !0), !a)
        return;
      const c = {};
      l.z && ax("z", o, c, this.animationValues);
      for (let d = 0; d < ox.length; d++)
        ax(`rotate${ox[d]}`, o, c, this.animationValues), ax(`skew${ox[d]}`, o, c, this.animationValues);
      o.render();
      for (const d in c)
        o.setStaticValue(d, c[d]), this.animationValues && (this.animationValues[d] = c[d]);
      o.scheduleRender();
    }
    applyProjectionStyles(o, a) {
      if (!this.instance || this.isSVG)
        return;
      if (!this.isVisible) {
        o.visibility = "hidden";
        return;
      }
      const l = this.getTransformTemplate();
      if (this.needsReset) {
        this.needsReset = !1, o.visibility = "", o.opacity = "", o.pointerEvents = dg(a == null ? void 0 : a.pointerEvents) || "", o.transform = l ? l(this.latestValues, "") : "none";
        return;
      }
      const c = this.getLead();
      if (!this.projectionDelta || !this.layout || !c.target) {
        this.options.layoutId && (o.opacity = this.latestValues.opacity !== void 0 ? this.latestValues.opacity : 1, o.pointerEvents = dg(a == null ? void 0 : a.pointerEvents) || ""), this.hasProjected && !Tl(this.latestValues) && (o.transform = l ? l({}, "") : "none", this.hasProjected = !1);
        return;
      }
      o.visibility = "";
      const d = c.animationValues || c.latestValues;
      this.applyTransformsToTarget();
      let f = Uce(this.projectionDeltaWithTransform, this.treeScale, d);
      l && (f = l(d, f)), o.transform = f;
      const { x: h, y: p } = this.projectionDelta;
      o.transformOrigin = `${h.origin * 100}% ${p.origin * 100}% 0`, c.animationValues ? o.opacity = c === this ? d.opacity ?? this.latestValues.opacity ?? 1 : this.preserveOpacity ? this.latestValues.opacity : d.opacityExit : o.opacity = c === this ? d.opacity !== void 0 ? d.opacity : "" : d.opacityExit !== void 0 ? d.opacityExit : 0;
      for (const g in xh) {
        if (d[g] === void 0)
          continue;
        const { correct: m, applyTo: y, isCSSVariable: v } = xh[g], b = f === "none" ? d[g] : m(d[g], c);
        if (y) {
          const x = y.length;
          for (let S = 0; S < x; S++)
            o[y[S]] = b;
        } else
          v ? this.options.visualElement.renderState.vars[g] = b : o[g] = b;
      }
      this.options.layoutId && (o.pointerEvents = c === this ? dg(a == null ? void 0 : a.pointerEvents) || "" : "none");
    }
    clearSnapshot() {
      this.resumeFrom = this.snapshot = void 0;
    }
    // Only run on root
    resetTree() {
      this.root.nodes.forEach((o) => {
        var a;
        return (a = o.currentAnimation) == null ? void 0 : a.stop();
      }), this.root.nodes.forEach(kP), this.root.sharedNodes.clear();
    }
  };
}
function Wce(e) {
  e.updateLayout();
}
function Kce(e) {
  var r;
  const t = ((r = e.resumeFrom) == null ? void 0 : r.snapshot) || e.snapshot;
  if (e.isLead() && e.layout && t && e.hasListeners("didUpdate")) {
    const { layoutBox: n, measuredBox: s } = e.layout, { animationType: i } = e.options, o = t.source !== e.layout.source;
    i === "size" ? _s((f) => {
      const h = o ? t.measuredBox[f] : t.layoutBox[f], p = kn(h);
      h.min = n[f].min, h.max = h.min + p;
    }) : U3(i, t.layoutBox, n) && _s((f) => {
      const h = o ? t.measuredBox[f] : t.layoutBox[f], p = kn(n[f]);
      h.max = h.min + p, e.relativeTarget && !e.currentAnimation && (e.isProjectionDirty = !0, e.relativeTarget[f].max = e.relativeTarget[f].min + p);
    });
    const a = hu();
    Hf(a, n, t.layoutBox);
    const l = hu();
    o ? Hf(l, e.applyTransform(s, !0), t.measuredBox) : Hf(l, n, t.layoutBox);
    const c = !L3(a);
    let d = !1;
    if (!e.resumeFrom) {
      const f = e.getClosestProjectingParent();
      if (f && !f.resumeFrom) {
        const { snapshot: h, layout: p } = f;
        if (h && p) {
          const g = ar();
          Yf(g, t.layoutBox, h.layoutBox);
          const m = ar();
          Yf(m, n, p.layoutBox), F3(g, m) || (d = !0), f.options.layoutRoot && (e.relativeTarget = m, e.relativeTargetOrigin = g, e.relativeParent = f);
        }
      }
    }
    e.notifyListeners("didUpdate", {
      layout: n,
      snapshot: t,
      delta: l,
      layoutDelta: a,
      hasLayoutChanged: c,
      hasRelativeLayoutChanged: d
    });
  } else if (e.isLead()) {
    const { onExitComplete: n } = e.options;
    n && n();
  }
  e.options.transition = void 0;
}
function Hce(e) {
  e.parent && (e.isProjecting() || (e.isProjectionDirty = e.parent.isProjectionDirty), e.isSharedProjectionDirty || (e.isSharedProjectionDirty = !!(e.isProjectionDirty || e.parent.isProjectionDirty || e.parent.isSharedProjectionDirty)), e.isTransformDirty || (e.isTransformDirty = e.parent.isTransformDirty));
}
function Yce(e) {
  e.isProjectionDirty = e.isSharedProjectionDirty = e.isTransformDirty = !1;
}
function Gce(e) {
  e.clearSnapshot();
}
function kP(e) {
  e.clearMeasurements();
}
function CP(e) {
  e.isLayoutDirty = !1;
}
function Zce(e) {
  const { visualElement: t } = e.options;
  t && t.getProps().onBeforeLayoutMeasure && t.notify("BeforeLayoutMeasure"), e.resetTransform();
}
function TP(e) {
  e.finishAnimation(), e.targetDelta = e.relativeTarget = e.target = void 0, e.isProjectionDirty = !0;
}
function Xce(e) {
  e.resolveTargetDelta();
}
function Jce(e) {
  e.calcProjection();
}
function Qce(e) {
  e.resetSkewAndRotation();
}
function eue(e) {
  e.removeLeadSnapshot();
}
function AP(e, t, r) {
  e.translate = er(t.translate, 0, r), e.scale = er(t.scale, 1, r), e.origin = t.origin, e.originPoint = t.originPoint;
}
function PP(e, t, r, n) {
  e.min = er(t.min, r.min, n), e.max = er(t.max, r.max, n);
}
function tue(e, t, r, n) {
  PP(e.x, t.x, r.x, n), PP(e.y, t.y, r.y, n);
}
function rue(e) {
  return e.animationValues && e.animationValues.opacityExit !== void 0;
}
const nue = {
  duration: 0.45,
  ease: [0.4, 0, 0.1, 1]
}, OP = (e) => typeof navigator < "u" && navigator.userAgent && navigator.userAgent.toLowerCase().includes(e), DP = OP("applewebkit/") && !OP("chrome/") ? Math.round : Os;
function $P(e) {
  e.min = DP(e.min), e.max = DP(e.max);
}
function sue(e) {
  $P(e.x), $P(e.y);
}
function U3(e, t, r) {
  return e === "position" || e === "preserve-aspect" && !uce(jP(t), jP(r), 0.2);
}
function iue(e) {
  var t;
  return e !== e.root && ((t = e.scroll) == null ? void 0 : t.wasRoot);
}
const oue = z3({
  attachResizeListener: (e, t) => wh(e, "resize", t),
  measureScroll: () => ({
    x: document.documentElement.scrollLeft || document.body.scrollLeft,
    y: document.documentElement.scrollTop || document.body.scrollTop
  }),
  checkIsScrollRoot: () => !0
}), lx = {
  current: void 0
}, q3 = z3({
  measureScroll: (e) => ({
    x: e.scrollLeft,
    y: e.scrollTop
  }),
  defaultParent: () => {
    if (!lx.current) {
      const e = new oue({});
      e.mount(window), e.setOptions({ layoutScroll: !0 }), lx.current = e;
    }
    return lx.current;
  },
  resetTransform: (e, t) => {
    e.style.transform = t !== void 0 ? t : "none";
  },
  checkIsScrollRoot: (e) => window.getComputedStyle(e).position === "fixed"
}), aue = {
  pan: {
    Feature: jce
  },
  drag: {
    Feature: Ece,
    ProjectionNode: q3,
    MeasureLayout: R3
  }
};
function RP(e, t, r) {
  const { props: n } = e;
  e.animationState && n.whileHover && e.animationState.setActive("whileHover", r === "Start");
  const s = "onHover" + r, i = n[s];
  i && Wt.postRender(() => i(t, dp(t)));
}
class lue extends ol {
  mount() {
    const { current: t } = this.node;
    t && (this.unmount = $ae(t, (r, n) => (RP(this.node, n, "Start"), (s) => RP(this.node, s, "End"))));
  }
  unmount() {
  }
}
class cue extends ol {
  constructor() {
    super(...arguments), this.isActive = !1;
  }
  onFocus() {
    let t = !1;
    try {
      t = this.node.current.matches(":focus-visible");
    } catch {
      t = !0;
    }
    !t || !this.node.animationState || (this.node.animationState.setActive("whileFocus", !0), this.isActive = !0);
  }
  onBlur() {
    !this.isActive || !this.node.animationState || (this.node.animationState.setActive("whileFocus", !1), this.isActive = !1);
  }
  mount() {
    this.unmount = lp(wh(this.node.current, "focus", () => this.onFocus()), wh(this.node.current, "blur", () => this.onBlur()));
  }
  unmount() {
  }
}
function IP(e, t, r) {
  const { props: n } = e;
  if (e.current instanceof HTMLButtonElement && e.current.disabled)
    return;
  e.animationState && n.whileTap && e.animationState.setActive("whileTap", r === "Start");
  const s = "onTap" + (r === "End" ? "" : r), i = n[s];
  i && Wt.postRender(() => i(t, dp(t)));
}
class uue extends ol {
  mount() {
    const { current: t } = this.node;
    t && (this.unmount = Lae(t, (r, n) => (IP(this.node, n, "Start"), (s, { success: i }) => IP(this.node, s, i ? "End" : "Cancel")), { useGlobalTarget: this.node.props.globalTapTarget }));
  }
  unmount() {
  }
}
const N1 = /* @__PURE__ */ new WeakMap(), cx = /* @__PURE__ */ new WeakMap(), due = (e) => {
  const t = N1.get(e.target);
  t && t(e);
}, fue = (e) => {
  e.forEach(due);
};
function hue({ root: e, ...t }) {
  const r = e || document;
  cx.has(r) || cx.set(r, {});
  const n = cx.get(r), s = JSON.stringify(t);
  return n[s] || (n[s] = new IntersectionObserver(fue, { root: e, ...t })), n[s];
}
function pue(e, t, r) {
  const n = hue(t);
  return N1.set(e, r), n.observe(e), () => {
    N1.delete(e), n.unobserve(e);
  };
}
const mue = {
  some: 0,
  all: 1
};
class gue extends ol {
  constructor() {
    super(...arguments), this.hasEnteredView = !1, this.isInView = !1;
  }
  startObserver() {
    this.unmount();
    const { viewport: t = {} } = this.node.getProps(), { root: r, margin: n, amount: s = "some", once: i } = t, o = {
      root: r ? r.current : void 0,
      rootMargin: n,
      threshold: typeof s == "number" ? s : mue[s]
    }, a = (l) => {
      const { isIntersecting: c } = l;
      if (this.isInView === c || (this.isInView = c, i && !c && this.hasEnteredView))
        return;
      c && (this.hasEnteredView = !0), this.node.animationState && this.node.animationState.setActive("whileInView", c);
      const { onViewportEnter: d, onViewportLeave: f } = this.node.getProps(), h = c ? d : f;
      h && h(l);
    };
    return pue(this.node.current, o, a);
  }
  mount() {
    this.startObserver();
  }
  update() {
    if (typeof IntersectionObserver > "u")
      return;
    const { props: t, prevProps: r } = this.node;
    ["amount", "margin", "root"].some(yue(t, r)) && this.startObserver();
  }
  unmount() {
  }
}
function yue({ viewport: e = {} }, { viewport: t = {} } = {}) {
  return (r) => e[r] !== t[r];
}
const vue = {
  inView: {
    Feature: gue
  },
  tap: {
    Feature: uue
  },
  focus: {
    Feature: cue
  },
  hover: {
    Feature: lue
  }
}, bue = {
  layout: {
    ProjectionNode: q3,
    MeasureLayout: R3
  }
}, xue = {
  ...sce,
  ...vue,
  ...aue,
  ...bue
}, ux = /* @__PURE__ */ xle(xue, Dle), $$e = () => {
  const { isAuthenticated: e } = Qh(), [t, r] = L(null), [n, s] = L(!1), i = [
    {
      id: "monthly",
      name: "Monthly Membership",
      price: 9.99,
      interval: "month",
      features: [
        "Access to all released content",
        "New chapters as they release",
        "Exclusive behind-the-scenes",
        "Early character reveals",
        "Community discussions",
        "Author notes and insights"
      ],
      paypalPlanId: "monthly_plan_id",
      highlight: "Perfect for new readers"
    },
    {
      id: "yearly",
      name: "Annual Membership",
      price: 99.99,
      interval: "year",
      features: [
        "Everything in Monthly plan",
        "2 months free (17% savings)",
        "Priority content access",
        "Exclusive annual content",
        "Direct Q&A with author",
        "Member-only events"
      ],
      popular: !0,
      paypalPlanId: "yearly_plan_id",
      highlight: "Best value - Save $19.89"
    }
  ], o = (c) => {
    if (!e) {
      window.location.href = "/login?returnTo=/subscribe";
      return;
    }
    r(i.find((d) => d.id === c) || null), s(!0);
  }, a = () => s(!1), l = () => s(!1);
  return u.jsxs("div", { className: "min-h-screen bg-background", children: [u.jsx("section", { className: "relative bg-gradient-to-br from-primary/10 to-background", children: u.jsx("div", { className: "container mx-auto px-4 py-24 md:py-32", children: u.jsxs("div", { className: "max-w-4xl mx-auto text-center", children: [u.jsxs(ux.div, { initial: { opacity: 0, y: 20 }, animate: { opacity: 1, y: 0 }, transition: { duration: 0.6 }, children: [u.jsx("h1", { className: "text-4xl md:text-5xl lg:text-6xl font-bold text-foreground mb-6 leading-tight", children: "Unlock the Full Zoroasterverse Experience" }), u.jsx("p", { className: "text-xl md:text-2xl text-muted-foreground mb-8 max-w-3xl mx-auto", children: "Join our community of readers and get exclusive access to the complete story as it unfolds." })] }), u.jsx("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-8 mt-10 w-full max-w-6xl mx-auto", children: i.map((c, d) => u.jsxs(ux.div, { initial: { opacity: 0, y: 30 }, animate: { opacity: 1, y: 0 }, transition: { delay: d * 0.1 + 0.3, duration: 0.5 }, className: `relative w-full ${c.popular ? "z-10 transform md:-translate-y-4" : ""}`, children: [c.popular && u.jsx("div", { className: "absolute -top-3 left-1/2 transform -translate-x-1/2 z-20", children: u.jsxs("div", { className: "bg-gradient-to-r from-amber-400 to-amber-600 text-amber-900 px-4 py-1.5 rounded-full text-xs font-bold flex items-center gap-1.5 shadow-lg shadow-amber-500/20", children: [u.jsx(ch, { className: "w-3.5 h-3.5" }), u.jsx("span", { children: "MOST POPULAR" })] }) }), u.jsxs("div", { className: `bg-card border rounded-xl p-6 transition-all duration-300 ${c.popular ? "border-amber-500/30 shadow-xl shadow-amber-500/10" : "border-border hover:border-primary/50 hover:shadow-lg"}`, children: [u.jsxs("div", { className: "text-center mb-6", children: [u.jsx("h3", { className: "text-2xl font-bold text-foreground mb-2", children: c.name }), c.highlight && u.jsx("p", { className: "text-sm text-primary font-medium mb-3", children: c.highlight }), u.jsxs("div", { className: "mb-2", children: [u.jsxs("span", { className: "text-4xl font-bold bg-gradient-to-r from-primary to-primary/80 bg-clip-text text-transparent", children: ["$", c.price] }), u.jsxs("span", { className: "text-muted-foreground text-lg", children: ["/", c.interval] })] }), c.interval === "year" && u.jsxs("p", { className: "text-sm text-muted-foreground", children: ["Only $", (c.price / 12).toFixed(2), " per month"] })] }), u.jsx("ul", { className: "space-y-3 mb-8", children: c.features.map((f, h) => u.jsxs("li", { className: "flex items-start gap-3", children: [u.jsx(Aa, { className: `flex-shrink-0 mt-0.5 ${c.popular ? "text-amber-500" : "text-primary"}`, size: 18 }), u.jsx("span", { className: "text-muted-foreground text-sm", children: f })] }, h)) }), u.jsxs("button", { onClick: () => o(c.id), className: `w-full py-3 px-6 rounded-lg font-medium transition-all duration-300 flex items-center justify-center gap-2 ${c.popular ? "bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-white shadow-lg shadow-amber-500/20" : "bg-primary/10 hover:bg-primary/20 text-primary border border-primary/20"}`, children: ["Get Started", u.jsx(zf, { className: "w-4 h-4" })] })] })] }, c.id)) })] }) }) }), u.jsx("section", { className: "py-16 md:py-24 bg-card/30", children: u.jsxs("div", { className: "container mx-auto px-4", children: [u.jsx("h2", { className: "text-3xl md:text-4xl font-bold text-center mb-16", children: "What You'll Get" }), u.jsx("div", { className: "grid md:grid-cols-3 gap-8 max-w-6xl mx-auto", children: [
    {
      icon: u.jsx(Uu, { className: "w-8 h-8 text-primary" }),
      title: "Exclusive Content",
      description: "Access to all chapters, including early releases and subscriber-only content."
    },
    {
      icon: u.jsx(HS, { className: "w-8 h-8 text-primary" }),
      title: "Regular Updates",
      description: "New chapters delivered on a consistent schedule. No waiting for complete books!"
    },
    {
      icon: u.jsx(iG, { className: "w-8 h-8 text-primary" }),
      title: "Early Access",
      description: "Be the first to experience new chapters and special releases."
    },
    {
      icon: u.jsx(qY, { className: "w-8 h-8 text-primary" }),
      title: "Community",
      description: "Join discussions, share theories, and connect with other readers."
    },
    {
      icon: u.jsx(yv, { className: "w-8 h-8 text-primary" }),
      title: "Behind the Scenes",
      description: "Exclusive insights into the creative process and world-building."
    },
    {
      icon: u.jsx(Aa, { className: "w-8 h-8 text-primary" }),
      title: "Ad-Free Experience",
      description: "Enjoy your reading without any distractions or interruptions."
    }
  ].map((c, d) => u.jsxs(ux.div, { initial: { opacity: 0, y: 20 }, whileInView: { opacity: 1, y: 0 }, viewport: { once: !0 }, transition: { delay: d * 0.1, duration: 0.5 }, className: "bg-background/50 backdrop-blur-sm p-6 rounded-xl border border-border hover:border-primary/30 transition-colors", children: [u.jsx("div", { className: "w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center mb-4", children: c.icon }), u.jsx("h3", { className: "text-xl font-semibold mb-2", children: c.title }), u.jsx("p", { className: "text-muted-foreground text-sm", children: c.description })] }, d)) })] }) }), u.jsx("section", { className: "py-16 bg-gradient-to-r from-primary/5 to-primary/10", children: u.jsxs("div", { className: "container mx-auto px-4 text-center", children: [u.jsx("h2", { className: "text-3xl md:text-4xl font-bold mb-6", children: "Ready to Begin Your Journey?" }), u.jsx("p", { className: "text-xl text-muted-foreground max-w-2xl mx-auto mb-8", children: "Join thousands of readers who are already exploring the Zoroasterverse." }), u.jsxs("div", { className: "flex flex-wrap justify-center gap-4", children: [u.jsxs("button", { onClick: () => o("yearly"), className: "px-8 py-3 bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-white font-medium rounded-lg shadow-lg shadow-amber-500/20 transition-all flex items-center gap-2", children: ["Start Reading Now", u.jsx(zf, { className: "w-4 h-4" })] }), u.jsx("button", { className: "px-6 py-3 border border-border hover:border-primary/50 hover:bg-background/50 text-foreground font-medium rounded-lg transition-all", children: "Learn More" })] })] }) }), n && t && u.jsx(f5, { product: {
    id: t.id,
    name: t.name,
    price: t.price * 100,
    // Use 'price' instead of 'amount_cents'
    currency: "usd",
    // Assuming USD, needs to be dynamic if multiple currencies
    interval: t.interval,
    is_subscription: !0,
    trial_period_days: void 0
    // Add if selectedPlan has this property
  }, onCancel: a, onSuccess: l })] });
}, R$e = () => {
  const [e] = EY(), [t, r] = L(null), [n, s] = L(!0);
  return ve(() => {
    const i = e.get("session_id");
    r(i), s(!1);
  }, [e]), n ? u.jsx("div", { className: "min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-gray-900 flex items-center justify-center", children: u.jsx("div", { className: "text-white text-xl", children: "Loading..." }) }) : u.jsxs("div", { className: "min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-gray-900", children: [u.jsxs("div", { className: "relative overflow-hidden", children: [u.jsx("div", { className: "absolute inset-0 bg-black opacity-50" }), u.jsx("div", { className: "relative z-10 container mx-auto px-4 py-20 text-center", children: u.jsxs("div", { className: "max-w-4xl mx-auto", children: [u.jsx("div", { className: "w-24 h-24 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-8", children: u.jsx(Aa, { className: "w-12 h-12 text-white" }) }), u.jsx("h1", { className: "text-5xl md:text-6xl font-bold text-white mb-6", children: "Welcome to the Zoroasterverse!" }), u.jsx("p", { className: "text-xl md:text-2xl text-gray-300 mb-8 leading-relaxed", children: "Your subscription is now active. You're ready to dive into the world of episodic storytelling and join our community of readers." }), t && u.jsx("div", { className: "bg-gray-800 bg-opacity-50 rounded-lg p-4 mb-8 inline-block", children: u.jsxs("p", { className: "text-gray-300 text-sm", children: ["Session ID: ", u.jsx("span", { className: "font-mono text-green-400", children: t })] }) })] }) })] }), u.jsx("div", { className: "py-20 bg-gray-800", children: u.jsxs("div", { className: "container mx-auto px-4", children: [u.jsx("h2", { className: "text-4xl font-bold text-white text-center mb-16", children: "What Happens Next?" }), u.jsxs("div", { className: "grid md:grid-cols-3 gap-8 max-w-5xl mx-auto", children: [u.jsxs("div", { className: "text-center", children: [u.jsx("div", { className: "w-20 h-20 bg-purple-600 rounded-full flex items-center justify-center mx-auto mb-6", children: u.jsx(Uu, { className: "w-10 h-10 text-white" }) }), u.jsx("h3", { className: "text-2xl font-bold text-white mb-4", children: "Access Your Library" }), u.jsx("p", { className: "text-gray-300", children: "Visit your library to read all available chapters and exclusive content." })] }), u.jsxs("div", { className: "text-center", children: [u.jsx("div", { className: "w-20 h-20 bg-purple-600 rounded-full flex items-center justify-center mx-auto mb-6", children: u.jsx(yv, { className: "w-10 h-10 text-white" }) }), u.jsx("h3", { className: "text-2xl font-bold text-white mb-4", children: "Stay Updated" }), u.jsx("p", { className: "text-gray-300", children: "You'll receive notifications when new chapters are ready to read." })] }), u.jsxs("div", { className: "text-center", children: [u.jsx("div", { className: "w-20 h-20 bg-purple-600 rounded-full flex items-center justify-center mx-auto mb-6", children: u.jsx(Ag, { className: "w-10 h-10 text-white" }) }), u.jsx("h3", { className: "text-2xl font-bold text-white mb-4", children: "Join the Community" }), u.jsx("p", { className: "text-gray-300", children: "Connect with fellow readers and discuss theories in our community." })] })] })] }) }), u.jsx("div", { className: "py-20 bg-gray-900", children: u.jsxs("div", { className: "container mx-auto px-4", children: [u.jsx("h2", { className: "text-4xl font-bold text-white text-center mb-16", children: "Get Started Right Away" }), u.jsxs("div", { className: "grid md:grid-cols-2 gap-8 max-w-4xl mx-auto", children: [u.jsx(qr, { to: "/library", className: "bg-purple-600 hover:bg-purple-700 text-white p-8 rounded-2xl transition-all duration-300 hover:scale-105 group", children: u.jsxs("div", { className: "flex items-center justify-between", children: [u.jsxs("div", { children: [u.jsx("h3", { className: "text-2xl font-bold mb-4", children: "Visit Your Library" }), u.jsx("p", { className: "text-purple-100 mb-6", children: "Access all available chapters and start reading immediately." })] }), u.jsx(zf, { className: "w-8 h-8 group-hover:translate-x-2 transition-transform" })] }) }), u.jsx(qr, { to: "/account", className: "bg-gray-700 hover:bg-gray-600 text-white p-8 rounded-2xl transition-all duration-300 hover:scale-105 group", children: u.jsxs("div", { className: "flex items-center justify-between", children: [u.jsxs("div", { children: [u.jsx("h3", { className: "text-2xl font-bold mb-4", children: "Manage Subscription" }), u.jsx("p", { className: "text-gray-300 mb-6", children: "View your subscription details and manage your account." })] }), u.jsx(zf, { className: "w-8 h-8 group-hover:translate-x-2 transition-transform" })] }) })] })] }) }), u.jsx("div", { className: "py-20 bg-gradient-to-r from-purple-900 to-blue-900", children: u.jsx("div", { className: "container mx-auto px-4 text-center", children: u.jsxs("div", { className: "max-w-3xl mx-auto", children: [u.jsx("div", { className: "w-20 h-20 bg-yellow-500 rounded-full flex items-center justify-center mx-auto mb-6", children: u.jsx(ch, { className: "w-10 h-10 text-white" }) }), u.jsx("h2", { className: "text-4xl font-bold text-white mb-6", children: "Welcome Bonus Unlocked!" }), u.jsx("p", { className: "text-xl text-gray-300 mb-8", children: "As a new subscriber, you now have access to exclusive content including:" }), u.jsxs("div", { className: "grid md:grid-cols-2 gap-6 text-left mb-8", children: [u.jsxs("div", { className: "bg-white bg-opacity-10 rounded-lg p-4", children: [u.jsx("h3", { className: "text-lg font-semibold text-white mb-2", children: "Behind the Scenes" }), u.jsx("p", { className: "text-gray-300", children: "Author notes, character development insights, and world-building details." })] }), u.jsxs("div", { className: "bg-white bg-opacity-10 rounded-lg p-4", children: [u.jsx("h3", { className: "text-lg font-semibold text-white mb-2", children: "Community Access" }), u.jsx("p", { className: "text-gray-300", children: "Join discussions, share theories, and connect with fellow readers." })] })] }), u.jsxs(qr, { to: "/library", className: "bg-yellow-500 hover:bg-yellow-600 text-gray-900 px-8 py-4 rounded-xl text-xl font-bold transition-all duration-300 hover:scale-105 shadow-lg inline-flex items-center gap-2", children: ["Explore Your Library", u.jsx(zf, { className: "w-6 h-6" })] })] }) }) }), u.jsx("div", { className: "py-16 bg-gray-800", children: u.jsxs("div", { className: "container mx-auto px-4 text-center", children: [u.jsx("h3", { className: "text-2xl font-bold text-white mb-4", children: "Questions or Need Help?" }), u.jsx("p", { className: "text-gray-300 mb-6", children: "Our support team is here to help you get the most out of your subscription." }), u.jsxs("div", { className: "flex flex-wrap justify-center gap-4", children: [u.jsx(qr, { to: "/account", className: "bg-gray-700 hover:bg-gray-600 text-white px-6 py-3 rounded-lg transition-colors", children: "Contact Support" }), u.jsx(qr, { to: "/", className: "bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg transition-colors", children: "Return Home" })] })] }) })] });
}, wue = (e) => e.resultType === "page", _ue = (e) => e.resultType === "folder";
function I$e({ page: e, onEdit: t }) {
  var z, U, G;
  const { folderSlug: r, pageSlug: n } = pv(), [s, i] = L([]), [o, a] = L([]), [l, c] = L(null), [d, f] = L(""), [h, p] = L([]), [g, m] = L(!1), [y, v] = L(!0), [b, x] = L(!1), [S, w] = L(!0), [j, N] = L([]), k = We(null), C = We(null);
  e.excerpt;
  const $ = async (q) => {
    if (!q.trim()) {
      p([]);
      return;
    }
    try {
      m(!0);
      const { data: Z, error: ie } = await he.from("wiki_pages").select(`
          *,
          content, seo_title, seo_description, seo_keywords, sections,
          category:wiki_categories(*),
          user:profiles(*)
        `).or(`title.ilike.%${q}%,excerpt.ilike.%${q}%`);
      if (ie)
        throw ie;
      const D = (Z || []).map((B) => {
        let X = null;
        B.user && typeof B.user == "object" && !("error" in B.user) && (X = B.user);
        let oe = null;
        return B.category && typeof B.category == "object" && !("error" in B.category) && (oe = B.category), {
          ...B,
          resultType: "page",
          sections: B.sections || [],
          content: B.content || "",
          excerpt: B.excerpt || "",
          is_published: B.is_published ?? !0,
          category_id: B.category_id ?? null,
          folder_id: B.folder_id ?? null,
          created_at: B.created_at || (/* @__PURE__ */ new Date()).toISOString(),
          updated_at: (/* @__PURE__ */ new Date()).toISOString(),
          created_by: B.created_by || "",
          view_count: B.view_count || 0,
          slug: B.slug || "",
          seo_title: B.seo_title || null,
          seo_description: B.seo_description || null,
          seo_keywords: B.seo_keywords || [],
          category: oe,
          // Assign the correctly typed category
          user: X
          // Assign the correctly typed user
        };
      });
      p(D);
    } catch (Z) {
      console.error("Search error:", Z), Ye.error("Failed to perform search");
    } finally {
      m(!1);
    }
  };
  ve(() => {
    (async () => {
      try {
        w(!0);
        const { data: Z, error: ie } = await he.from("wiki_pages").select("*, content, seo_title, seo_description, seo_keywords, sections, category:wiki_categories(*), user:profiles(*)").order("title");
        if (ie)
          throw ie;
        const D = (Z || []).map((B) => {
          let X = null;
          B.user && typeof B.user == "object" && !("error" in B.user) && (X = B.user);
          let oe = null;
          return B.category && typeof B.category == "object" && !("error" in B.category) && (oe = B.category), {
            ...B,
            sections: B.sections || [],
            content: B.content || "",
            seo_title: B.seo_title || "",
            seo_description: B.seo_description || "",
            seo_keywords: B.seo_keywords || [],
            category: oe,
            user: X,
            resultType: "page"
            // Add resultType here
          };
        });
        i(D);
      } catch (Z) {
        console.error("Error fetching data:", Z), Ye.error("Failed to load wiki pages");
      } finally {
        w(!1);
      }
    })();
  }, [n]);
  const I = (q) => {
    const Z = /* @__PURE__ */ new Map(), ie = [];
    return q.forEach((D) => {
      Z.set(D.id, { ...D, children: [] });
    }), Z.forEach((D) => {
      if (D.parent_id && Z.has(D.parent_id)) {
        const B = Z.get(D.parent_id);
        B && (B.children = [...B.children || [], D]);
      } else
        ie.push(D);
    }), ie;
  }, M = (q) => {
    var Z, ie, D, B, X, oe, W, K, ee, te, ue;
    if (!q)
      return null;
    switch (q.type) {
      case "heading_1":
      case "heading_2":
      case "heading_3":
        const H = `h${parseInt(q.type.split("_")[1])}`;
        return u.jsx(H, { id: `heading-${q.id}`, className: "mt-6 mb-4 font-semibold", children: (Z = q.content) == null ? void 0 : Z.text });
      case "paragraph":
        return u.jsx("p", { className: "mb-4 leading-relaxed", children: (ie = q.content) == null ? void 0 : ie.text });
      case "bullet_list":
        return u.jsx("ul", { className: "list-disc pl-6 mb-4 space-y-1", children: (B = (D = q.content) == null ? void 0 : D.items) == null ? void 0 : B.map((se, P) => u.jsx("li", { children: se }, P)) });
      case "ordered_list":
        return u.jsx("ol", { className: "list-decimal pl-6 mb-4 space-y-1", children: (oe = (X = q.content) == null ? void 0 : X.items) == null ? void 0 : oe.map((se, P) => u.jsx("li", { children: se }, P)) });
      case "quote":
        return u.jsx("blockquote", { className: "border-l-4 border-gray-300 pl-4 py-1 my-4 text-gray-600 italic", children: (W = q.content) == null ? void 0 : W.text });
      case "code":
        return u.jsx("pre", { className: "bg-gray-100 p-4 rounded-md my-4 overflow-x-auto", children: u.jsx("code", { children: (K = q.content) == null ? void 0 : K.code }) });
      case "image":
        return u.jsxs("div", { className: "my-6", children: [u.jsx("img", { src: (ee = q.content) == null ? void 0 : ee.url, alt: ((te = q.content) == null ? void 0 : te.alt) || "", className: "max-w-full h-auto rounded-md" }), ((ue = q.content) == null ? void 0 : ue.caption) && u.jsx("p", { className: "text-sm text-gray-500 text-center mt-2", children: q.content.caption })] });
      default:
        return null;
    }
  }, O = (q, Z = 0) => q.map((ie) => u.jsxs("div", { className: "pl-2", children: [u.jsxs("div", { className: "flex items-center py-1 px-2 rounded hover:bg-accent cursor-pointer", children: [u.jsx(lh, { size: 16, className: "mr-1 text-muted-foreground" }), u.jsx(Tg, { size: 14, className: "mr-2 text-blue-500" }), u.jsx("span", { className: "text-sm", children: ie.name })] }), ie.children && ie.children.length > 0 && u.jsx("div", { className: "pl-4 border-l border-border ml-1", children: O(ie.children, Z + 1) }), u.jsx("div", { className: "pl-6", children: s.filter((D) => D.folder_id === ie.id).map((D) => u.jsxs(qr, { to: `/wiki/${ie.slug}/${D.slug}`, className: `flex items-center py-1 px-2 rounded text-sm ${n === D.slug ? "bg-accent font-medium" : "text-muted-foreground hover:bg-accent"}`, children: [u.jsx(Cg, { size: 12, className: "mr-2 text-gray-500" }), u.jsx("span", { className: "truncate", children: D.title })] }, D.id)) })] }, ie.id));
  return ve(() => {
    const q = async () => {
      if (!d.trim()) {
        p([]);
        return;
      }
      m(!0);
      try {
        await $(d);
      } catch (ie) {
        console.error("Search error:", ie), Ye.error("Failed to perform search");
      } finally {
        m(!1);
      }
    };
    k.current !== null && (window.clearTimeout(k.current), k.current = null);
    const Z = window.setTimeout(q, 500);
    return k.current = Z, () => {
      k.current !== null && (window.clearTimeout(k.current), k.current = null);
    };
  }, [d]), ve(() => {
    f(""), p([]);
  }, [r, n]), e ? u.jsxs("div", { className: "flex h-screen bg-background", children: [y && u.jsxs("div", { className: "w-64 bg-card border-r border-border flex flex-col", children: [u.jsxs("div", { className: "p-4 border-b border-border", children: [u.jsxs("div", { className: "flex items-center justify-between mb-4", children: [u.jsxs("h2", { className: "font-semibold flex items-center", children: [u.jsx(Uu, { size: 16, className: "mr-2" }), "Wiki"] }), u.jsx(dt, { variant: "ghost", size: "icon", className: "h-6 w-6", onClick: () => v(!1), children: u.jsx(Ya, { size: 16 }) })] }), u.jsxs("div", { className: "relative", children: [u.jsx(xc, { size: 16, className: "absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground" }), u.jsx(ai, { type: "search", placeholder: "Search wiki...", className: "w-full pl-8 h-8 text-sm", value: d, onChange: (q) => f(q.target.value) })] })] }), u.jsx("div", { className: "flex-1 overflow-y-auto p-2", children: S ? u.jsx("div", { className: "text-center py-8 text-muted-foreground", children: "Loading..." }) : O(I(o)) }), d && u.jsxs("div", { className: "mt-2 border-t border-border pt-2", children: [u.jsx("div", { className: "text-xs font-medium text-muted-foreground mb-2 px-2", children: g ? "Searching..." : `Found ${h.length} results` }), !g && h.length === 0 ? u.jsxs("div", { className: "text-xs text-muted-foreground px-2 py-1", children: ['No results found for "', d, '"'] }) : u.jsx("div", { className: "space-y-1 max-h-60 overflow-y-auto", children: h.map((q) => u.jsx(qr, { to: q.resultType === "page" ? `/wiki/${q.folder_id ? `${q.folder_id}/` : ""}${q.slug}` : `/wiki/folder/${q.id}`, className: "flex items-center px-2 py-1.5 text-sm rounded hover:bg-accent", onClick: () => f(""), children: wue(q) ? u.jsxs("div", { className: "flex items-center", children: [u.jsx(Cg, { className: "h-4 w-4 mr-2 text-gray-500" }), u.jsx("span", { children: q.title })] }) : _ue(q) ? u.jsxs("div", { className: "flex items-center", children: [u.jsx(Tg, { className: "h-4 w-4 mr-2 text-yellow-500" }), u.jsx("span", { children: q.name })] }) : null }, `${q.resultType}-${q.id}`)) })] })] }), u.jsxs("div", { className: "flex-1 flex flex-col overflow-hidden", children: [u.jsxs("header", { className: "h-14 border-b border-border flex items-center px-4", children: [!y && u.jsx(dt, { variant: "ghost", size: "icon", className: "mr-2", onClick: () => v(!0), children: u.jsx(HC, { size: 18 }) }), u.jsx("div", { className: "flex-1", children: u.jsx("h1", { className: "font-semibold", children: (l == null ? void 0 : l.title) || "Welcome to the Wiki" }) }), u.jsx(dt, { variant: "ghost", size: "icon", onClick: () => x(!b), children: u.jsx(HC, { size: 18 }) })] }), u.jsx("main", { ref: C, className: "flex-1 overflow-y-auto p-6 max-w-4xl mx-auto w-full", children: l ? u.jsxs("article", { className: "prose max-w-none", children: [(z = l.sections) == null ? void 0 : z.map((q) => u.jsx("div", { children: M(q) }, q.id)), u.jsxs("div", { className: "mt-12 pt-6 border-t border-border text-sm text-muted-foreground", children: ["Last updated: ", new Date(l.updated_at).toLocaleDateString()] })] }) : u.jsxs("div", { className: "flex flex-col items-center justify-center h-full text-center text-muted-foreground", children: [u.jsx(Uu, { size: 48, className: "mb-4 text-muted-foreground/50" }), u.jsx("h2", { className: "text-xl font-medium mb-2", children: "Welcome to the Wiki" }), u.jsx("p", { className: "max-w-md", children: "Select a page from the sidebar or create a new one to get started." })] }) })] }), b && u.jsxs("div", { className: "w-64 border-l border-border bg-card overflow-y-auto", children: [u.jsx("div", { className: "p-4 border-b border-border", children: u.jsxs("div", { className: "flex items-center justify-between", children: [u.jsx("h3", { className: "font-medium", children: "Table of Contents" }), u.jsx(dt, { variant: "ghost", size: "icon", className: "h-6 w-6", onClick: () => x(!1), children: u.jsx(Ya, { size: 16 }) })] }) }), u.jsx("div", { className: "p-4", children: j.length > 0 ? u.jsx("nav", { className: "space-y-1", children: j.map((q, Z) => u.jsx("a", { href: `#${q.id}`, className: `block py-1 text-sm ${q.level === 1 ? "font-medium" : "text-muted-foreground"} hover:text-foreground`, style: { marginLeft: `${(q.level - 1) * 8}px` }, children: q.text }, Z)) }) : u.jsx("p", { className: "text-sm text-muted-foreground", children: "No headings found" }) })] }), u.jsxs("div", { className: "prose dark:prose-invert max-w-none", children: [u.jsx("h1", { children: e.title }), (U = e.sections) != null && U.length ? u.jsx("div", { className: "space-y-6", children: (G = e.sections) == null ? void 0 : G.sort((q, Z) => (q.order_index ?? 0) - (Z.order_index ?? 0)).map((q) => u.jsxs("div", { className: "section", children: [q.title && u.jsx("h2", { className: "text-2xl font-semibold mb-2", children: q.title }), u.jsx("div", { className: "prose dark:prose-invert max-w-none", dangerouslySetInnerHTML: { __html: q.content || "" } })] }, q.id)) }) : u.jsx("div", { className: "prose dark:prose-invert max-w-none", dangerouslySetInnerHTML: { __html: e.excerpt || "" } })] })] }) : u.jsx("div", { children: "Loading..." });
}
const Sue = async () => {
  const { data: e, error: t } = await he.from("characters").select("*").order("created_at", { ascending: !0 });
  if (t)
    throw new Error(t.message);
  return e;
}, M$e = () => {
  const { data: e, isLoading: t, isError: r, error: n } = br({ queryKey: ["characters"], queryFn: Sue }), s = We(null);
  We({});
  const i = We([]);
  return ve(() => {
    if (s.current) {
      const o = s.current;
      for (let a = 0; a < 20; a++) {
        const l = document.createElement("div");
        l.className = "floating-dot", l.style.left = Math.random() * 100 + "%", l.style.top = Math.random() * 100 + "%", l.style.animationDelay = Math.random() * 6 + "s", l.style.animationDuration = 4 + Math.random() * 4 + "s", o.appendChild(l);
      }
    }
  }, []), ve(() => {
    const o = new IntersectionObserver((a) => {
      a.forEach((l) => {
        l.isIntersecting && l.target.classList.add("visible");
      });
    }, {
      threshold: 0.2,
      rootMargin: "-50px"
    });
    return i.current.forEach((a) => {
      a && o.observe(a);
    }), () => {
      i.current.forEach((a) => {
        a && o.unobserve(a);
      });
    };
  }, [e]), ve(() => {
    const o = () => {
      var c;
      const a = window.pageYOffset, l = (c = s.current) == null ? void 0 : c.querySelectorAll(".floating-dot");
      l == null || l.forEach((d, f) => {
        const h = 0.5 + f % 3 * 0.2;
        d.style.transform = `translateY(${a * h}px) rotate(${a * 0.1}deg)`;
      });
    };
    return window.addEventListener("scroll", o), () => window.removeEventListener("scroll", o);
  }, []), t ? u.jsx("div", { className: "text-center py-8 text-text-light", children: "Loading characters..." }) : r ? u.jsxs("div", { className: "text-center py-8 text-red-400", children: ["Error loading characters: ", n == null ? void 0 : n.message] }) : u.jsxs(u.Fragment, { children: [u.jsx("div", { ref: s, className: "floating-elements" }), u.jsx("section", { className: "hero-section", children: u.jsxs("div", { children: [u.jsx("h1", { className: "hero-title", children: "Meet the Characters" }), u.jsx("p", { className: "hero-subtitle", children: "Journey into the world of extraordinary souls" }), u.jsx("div", { className: "scroll-indicator", children: u.jsx("svg", { width: "24", height: "24", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: u.jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: "2", d: "M19 14l-7 7m0 0l-7-7m7 7V3" }) }) })] }) }), e == null ? void 0 : e.map((o, a) => {
    var l;
    return u.jsxs("section", { ref: (c) => {
      i.current[a] = c;
    }, className: `character-section ${a % 2 === 0, ""}`, children: [u.jsx("div", { className: "character-silhouette", children: u.jsx("div", { className: "silhouette-container", children: o.image_url ? u.jsxs(u.Fragment, { children: [u.jsx("img", { src: o.image_url, alt: o.name, className: "character-image" }), u.jsx("div", { className: "silhouette-overlay", style: { "--mask-image": `url(${o.silhouette_url || o.image_url})` } })] }) : u.jsxs("div", { className: "upload-placeholder", children: [u.jsx("div", { className: "upload-icon", children: "" }), u.jsx("div", { children: "No Image" })] }) }) }), u.jsxs("div", { className: "character-info", children: [u.jsx("h2", { className: "character-name", children: o.name }), u.jsx("p", { className: "character-title", children: o.title }), u.jsx("p", { className: "character-description", children: o.description }), u.jsx("div", { className: "character-traits", children: (l = o.traits) == null ? void 0 : l.map((c, d) => u.jsx("span", { className: "trait", children: c }, d)) })] })] }, o.id);
  })] });
}, L$e = () => u.jsx("div", { children: u.jsx("h1", { className: "text-3xl font-bold", children: "Locations & Factions" }) }), F$e = () => u.jsx("div", { children: u.jsx("h1", { className: "text-3xl font-bold", children: "Glossary" }) }), B$e = () => u.jsx("div", { children: u.jsx("h1", { className: "text-3xl font-bold", children: "Reviews" }) }), Eue = async () => {
  const { data: e, error: t } = await he.from("posts").select("*").eq("status", "published").order("created_at", { ascending: !1 });
  if (t)
    throw new Error(t.message);
  return e;
}, z$e = () => {
  const { data: e, isLoading: t, isError: r, error: n } = br({
    queryKey: ["blogPosts"],
    queryFn: Eue
  });
  return t ? u.jsx("div", { className: "text-center py-8", children: "Loading blog posts..." }) : r ? u.jsxs("div", { className: "text-center py-8 text-red-500", children: ["Error loading posts: ", n == null ? void 0 : n.message] }) : u.jsxs("div", { className: "container mx-auto px-4 py-8", children: [u.jsx("h1", { className: "text-4xl font-bold text-gray-900 mb-8", children: "Blog & News" }), e && e.length > 0 ? u.jsx("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8", children: e.map((s) => u.jsx("div", { className: "bg-white rounded-lg shadow-md overflow-hidden", children: u.jsxs("div", { className: "p-6", children: [u.jsx("h2", { className: "text-2xl font-semibold text-gray-800 mb-2", children: s.title }), u.jsxs("p", { className: "text-sm text-gray-500 mb-4", children: ["Published on ", new Date(s.created_at).toLocaleDateString()] }), u.jsx("div", { className: "text-gray-700 leading-relaxed line-clamp-3", dangerouslySetInnerHTML: { __html: s.content } }), u.jsx(qr, { to: `/blog/${s.slug}`, className: "mt-4 inline-block text-blue-600 hover:text-blue-800 font-medium", children: "Read More " })] }) }, s.id)) }) : u.jsxs("div", { className: "text-center py-12 text-gray-600", children: [u.jsx("p", { className: "text-xl mb-4", children: "No blog posts published yet." }), u.jsx("p", { children: "Check back soon for new content!" })] })] });
}, U$e = () => u.jsxs("div", { className: "text-center", children: [u.jsx("h1", { className: "text-4xl font-bold", children: "404 - Not Found" }), u.jsx("p", { className: "mt-4", children: "Sorry, the page you are looking for does not exist." }), u.jsx(qr, { to: "/", className: "mt-6 inline-block bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600", children: "Go to Home" })] }), q$e = () => {
  const e = () => {
    localStorage.removeItem("isAuthenticated"), localStorage.removeItem("betaApplicationStatus"), window.location.href = "/login";
  }, t = {
    title: "The Obsidian Gate - Issue 7",
    chaptersRead: 5,
    totalChapters: 10,
    readingWindowEnd: "August 30, 2025",
    feedbackWindowEnd: "September 7, 2025",
    launchDay: "September 15, 2025",
    downloadLink: "#"
    // Placeholder
  }, r = [
    { id: 1, description: "Read the Material", completed: !1 },
    { id: 2, description: "Submit Structured Feedback", completed: !1 },
    { id: 3, description: "Convert to Public Review", completed: !1 }
  ], n = [
    { name: "Beta Alumni", description: "Completed 1+ beta cycles" }
    // { name: "Veteran Reader", description: "Completed 3+ beta cycles" },
  ], s = [
    { id: 1, title: "New Feedback Form Available!", date: "August 20, 2025", content: "The feedback form for Issue 7 is now live. Please submit your thoughts by the deadline." },
    { id: 2, title: "Reminder: Reading Window Ends Soon", date: "August 25, 2025", content: "Just a friendly reminder that the reading window for Issue 7 closes on August 30th." }
  ];
  return u.jsxs("div", { className: "p-4", children: [u.jsx("h1", { className: "text-3xl font-bold mb-6", children: "Welcome to the Beta Reader Portal!" }), u.jsx("p", { className: "mb-4", children: "This is your central hub for all active beta reading projects and resources." }), u.jsxs("div", { className: "bg-card shadow-md rounded-lg p-6 mb-6", children: [u.jsxs("h2", { className: "text-2xl font-semibold mb-4", children: ["Current Beta Cycle: ", t.title] }), u.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [u.jsxs("div", { children: [u.jsxs("p", { children: [u.jsx("strong", { children: "Reading Window Ends:" }), " ", t.readingWindowEnd] }), u.jsxs("p", { children: [u.jsx("strong", { children: "Feedback Window Ends:" }), " ", t.feedbackWindowEnd] }), u.jsxs("p", { children: [u.jsx("strong", { children: "Launch Day:" }), " ", t.launchDay] }), u.jsxs("p", { className: "mt-2", children: [u.jsx("strong", { children: "Your Progress:" }), " Chapters Read ", t.chaptersRead, "/", t.totalChapters] }), u.jsx("a", { href: t.downloadLink, className: "mt-4 inline-block bg-primary hover:bg-primary-dark text-white font-bold py-2 px-4 rounded", children: "Download Material" })] }), u.jsxs("div", { children: [u.jsx("h3", { className: "text-xl font-semibold mb-2", children: "Mandatory Tasks" }), u.jsx("ul", { className: "list-none", children: r.map((i) => u.jsxs("li", { className: "flex items-center mb-1", children: [u.jsx("input", { type: "checkbox", checked: i.completed, readOnly: !0, className: "mr-2" }), i.description] }, i.id)) }), u.jsx("a", { href: "/beta/feedback", className: "mt-4 inline-block bg-primary hover:bg-primary-dark text-white font-bold py-2 px-4 rounded", children: "Submit Feedback" })] })] })] }), u.jsxs("div", { className: "bg-card shadow-md rounded-lg p-6 mb-6", children: [u.jsx("h2", { className: "text-2xl font-semibold mb-4", children: "Announcements" }), s.length > 0 ? u.jsx("ul", { children: s.map((i) => u.jsxs("li", { className: "mb-4 pb-4 border-b last:border-b-0", children: [u.jsx("h3", { className: "font-bold text-lg", children: i.title }), u.jsx("p", { className: "text-sm text-muted-foreground", children: i.date }), u.jsx("p", { className: "mt-1", children: i.content })] }, i.id)) }) : u.jsx("p", { className: "text-muted-foreground", children: "No new announcements at this time." })] }), u.jsxs("div", { className: "bg-card shadow-md rounded-lg p-6 mb-6", children: [u.jsx("h2", { className: "text-2xl font-semibold mb-4", children: "Your Rewards & Recognition" }), n.length > 0 ? u.jsx("div", { className: "flex flex-wrap gap-4", children: n.map((i) => u.jsxs("span", { className: "bg-muted text-muted-foreground text-sm font-medium px-3 py-1 rounded-full", children: [i.name, " - ", i.description] }, i.name)) }) : u.jsx("p", { className: "text-muted-foreground", children: "Complete your first beta cycle to earn your first badge!" }), u.jsx("p", { className: "mt-4 text-muted-foreground", children: "Upon successful completion of a beta cycle, you will receive a store discount coupon." })] }), u.jsxs("div", { className: "bg-card shadow-md rounded-lg p-6 mb-6", children: [u.jsx("h2", { className: "text-2xl font-semibold mb-4", children: "Important Links" }), u.jsxs("ul", { className: "list-disc list-inside text-primary", children: [u.jsx("li", { children: u.jsx("a", { href: "/beta/handbook", className: "hover:underline", children: "Beta Reader Handbook" }) }), u.jsx("li", { children: u.jsx("a", { href: "/beta/timeline", className: "hover:underline", children: "Operational Timeline" }) }), u.jsx("li", { children: u.jsx("a", { href: "#", className: "hover:underline", children: "Community Forum (Discord/Private Channel)" }) }), u.jsx("li", { children: u.jsx("a", { href: "/beta/nda", className: "hover:underline", children: "View NDA" }) })] })] }), u.jsx("button", { onClick: e, className: "mt-8 bg-destructive hover:bg-destructive-dark text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline", children: "Logout" })] });
}, V$e = () => {
  const e = localStorage.getItem("betaApplicationStatus") || "none";
  let t = "", r = "text-gray-800", n = null;
  switch (e) {
    case "none":
      t = "You have not yet submitted a beta reader application.", r = "text-blue-700", n = u.jsx(qr, { to: "/beta/application", className: "text-blue-500 hover:underline", children: "Apply now" });
      break;
    case "pending":
      t = "Your beta reader application is currently under review. We will notify you of our decision soon.", r = "text-yellow-700";
      break;
    case "accepted":
      t = "Congratulations! Your beta reader application has been accepted. Welcome to the program!", r = "text-green-700", n = u.jsx(qr, { to: "/beta/portal", className: "text-green-500 hover:underline", children: "Go to Beta Portal" });
      break;
    case "rejected":
      t = "We regret to inform you that your beta reader application was not successful at this time.", r = "text-red-700";
      break;
    default:
      t = "Unknown application status.", r = "text-gray-800";
  }
  return u.jsxs("div", { className: "p-4 text-center", children: [u.jsx("h1", { className: "text-3xl font-bold mb-4", children: "Beta Application Status" }), u.jsxs("div", { className: `p-6 rounded-lg shadow-md ${r} bg-white`, children: [u.jsx("p", { className: "text-lg font-semibold mb-4", children: t }), n && u.jsx("p", { className: "mt-4", children: n })] })] });
}, W$e = () => {
  const { workId: e } = pv(), [t, r] = L(null), [n, s] = L(!0), [i, o] = L(null), [a, l] = L(null);
  ve(() => {
    (async () => {
      const { data: { user: f } } = await he.auth.getUser();
      f ? l(f.id) : (o("User not authenticated."), s(!1));
    })();
  }, []), ve(() => {
    a && e && (async () => {
      if (!(!a || !e))
        try {
          o(null);
          const f = await fetch(`http://localhost:3001/api/content/${e}`, {
            headers: {
              "x-user-id": a
              // Pass user ID for authorization
              // Add Authorization header if using JWT
            }
          }), h = await f.json();
          f.ok ? r(h) : o(h.message || "Failed to fetch content.");
        } catch (f) {
          console.error("Error fetching work content:", f), o("An error occurred while fetching the work content.");
        } finally {
          s(!1);
        }
    })();
  }, [a, e]);
  const c = async () => {
    if (!(!a || !e))
      try {
        const d = await fetch(`http://localhost:3001/api/library/${a}/library/${e}/progress`, {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            "x-user-id": a
          },
          body: JSON.stringify({ is_finished: !0 })
        });
        if (d.ok)
          alert("Work marked as finished!");
        else {
          const f = await d.json();
          alert(`Failed to mark as finished: ${f.message}`);
        }
      } catch (d) {
        console.error("Error marking as finished:", d), alert("An error occurred while marking as finished.");
      }
  };
  return n ? u.jsx("div", { className: "text-text-light", children: "Loading content..." }) : i ? u.jsxs("div", { className: "text-red-400", children: ["Error: ", i] }) : t ? u.jsxs("div", { style: { padding: "20px", maxWidth: "800px", margin: "auto", fontFamily: "Arial, sans-serif" }, children: [u.jsx("h2", { style: { fontSize: "2.5em", marginBottom: "10px", color: "#E0BBE4" }, children: t.title }), u.jsx("p", { style: { fontSize: "1.1em", color: "#957DAD", marginBottom: "20px" }, children: t.description }), u.jsxs("div", { style: { marginBottom: "20px" }, children: [u.jsx("h3", { style: { fontSize: "1.5em", marginBottom: "10px", color: "#FFC72C" }, children: "Download Options:" }), t.content_urls.epub && u.jsx("a", { href: t.content_urls.epub, target: "_blank", rel: "noopener noreferrer", style: {
    display: "inline-block",
    padding: "10px 15px",
    backgroundColor: "#4CAF50",
    color: "white",
    textDecoration: "none",
    borderRadius: "5px",
    marginRight: "10px",
    marginBottom: "10px"
  }, children: "Download EPUB" }), t.content_urls.pdf && u.jsx("a", { href: t.content_urls.pdf, target: "_blank", rel: "noopener noreferrer", style: {
    display: "inline-block",
    padding: "10px 15px",
    backgroundColor: "#F44336",
    color: "white",
    textDecoration: "none",
    borderRadius: "5px",
    marginRight: "10px",
    marginBottom: "10px"
  }, children: "Download PDF" }), t.content_urls.mobi && u.jsx("a", { href: t.content_urls.mobi, target: "_blank", rel: "noopener noreferrer", style: {
    display: "inline-block",
    padding: "10px 15px",
    backgroundColor: "#2196F3",
    color: "white",
    textDecoration: "none",
    borderRadius: "5px",
    marginRight: "10px",
    marginBottom: "10px"
  }, children: "Download MOBI" }), !t.content_urls.epub && !t.content_urls.pdf && !t.content_urls.mobi && u.jsx("p", { style: { color: "#957DAD" }, children: "No downloadable content available for this work." })] }), u.jsx("button", { onClick: c, style: {
    padding: "10px 20px",
    backgroundColor: "#8860D0",
    color: "white",
    border: "none",
    borderRadius: "5px",
    cursor: "pointer",
    fontSize: "16px",
    marginTop: "20px"
  }, children: "Mark as Finished" })] }) : u.jsx("div", { className: "text-text-light", children: "Content not found or not accessible." });
}, K$e = () => {
  const { state: e, clearCart: t } = vI(), r = io(), [n, s] = L(!1), i = (l, c) => new Intl.NumberFormat("en-US", {
    style: "currency",
    currency: c.toUpperCase()
  }).format(l), o = async () => {
    s(!0), setTimeout(() => {
      s(!1), t(), r("/store?checkout=success");
    }, 2e3);
  }, a = () => {
    r("/store");
  };
  return e.items.length === 0 ? u.jsx("div", { className: "min-h-screen bg-gradient-to-br from-background via-background-light to-background flex items-center justify-center", children: u.jsxs("div", { className: "text-center", children: [u.jsx(oL, { className: "w-16 h-16 text-text-dark mx-auto mb-4" }), u.jsx("h2", { className: "text-2xl font-heading text-text-light mb-2", children: "Your cart is empty" }), u.jsx("p", { className: "text-text-dark mb-6", children: "Add some products to your cart before checking out." }), u.jsx("button", { onClick: a, className: "px-6 py-3 bg-secondary text-background rounded-xl hover:bg-secondary-dark transition-colors", children: "Continue Shopping" })] }) }) : u.jsx("div", { className: "min-h-screen bg-gradient-to-br from-background via-background-light to-background", children: u.jsxs("div", { className: "container mx-auto px-4 py-8", children: [u.jsxs("div", { className: "mb-8", children: [u.jsxs("button", { onClick: a, className: "flex items-center space-x-2 text-text-light hover:text-secondary transition-colors mb-4", children: [u.jsx(JM, { className: "w-5 h-5" }), u.jsx("span", { children: "Back to Store" })] }), u.jsx("h1", { className: "text-4xl font-heading text-text-light mb-2", children: "Checkout" }), u.jsx("p", { className: "text-text-light/70", children: "Complete your purchase" })] }), u.jsxs("div", { className: "grid grid-cols-1 lg:grid-cols-2 gap-8", children: [u.jsxs("div", { className: "bg-background-light/30 backdrop-blur-sm rounded-2xl p-6 border border-border/30", children: [u.jsx("h2", { className: "text-2xl font-heading text-text-light mb-6", children: "Order Summary" }), u.jsx("div", { className: "space-y-4 mb-6", children: e.items.map((l) => u.jsxs("div", { className: "flex items-center justify-between p-4 bg-background/30 rounded-xl", children: [u.jsxs("div", { className: "flex-1", children: [u.jsx("h3", { className: "font-medium text-text-light", children: l.title }), u.jsx("p", { className: "text-sm text-text-dark", children: l.format.toUpperCase() })] }), u.jsxs("div", { className: "text-right", children: [u.jsx("p", { className: "text-secondary font-medium", children: i(l.price, l.currency) }), u.jsxs("p", { className: "text-sm text-text-dark", children: ["Qty: ", l.quantity] })] })] }, l.id)) }), u.jsxs("div", { className: "border-t border-border/30 pt-4", children: [u.jsxs("div", { className: "flex justify-between items-center text-lg font-medium text-text-light mb-2", children: [u.jsx("span", { children: "Subtotal:" }), u.jsx("span", { children: i(e.total, "USD") })] }), u.jsxs("div", { className: "flex justify-between items-center text-sm text-text-dark mb-4", children: [u.jsx("span", { children: "Tax:" }), u.jsx("span", { children: "Calculated at checkout" })] }), u.jsxs("div", { className: "flex justify-between items-center text-xl font-bold text-secondary", children: [u.jsx("span", { children: "Total:" }), u.jsx("span", { children: i(e.total, "USD") })] })] })] }), u.jsxs("div", { className: "bg-background-light/30 backdrop-blur-sm rounded-2xl p-6 border border-border/30", children: [u.jsx("h2", { className: "text-2xl font-heading text-text-light mb-6", children: "Payment Information" }), u.jsxs("form", { className: "space-y-6", children: [u.jsxs("div", { children: [u.jsx("h3", { className: "text-lg font-medium text-text-light mb-4", children: "Customer Information" }), u.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [u.jsxs("div", { children: [u.jsx("label", { className: "block text-sm font-medium text-text-light mb-2", children: "First Name" }), u.jsx("input", { type: "text", className: "w-full px-4 py-3 bg-background/50 border border-border/30 rounded-xl text-text-light placeholder-text-dark/50 focus:outline-none focus:ring-2 focus:ring-secondary/50 focus:border-secondary transition-all", placeholder: "Enter first name" })] }), u.jsxs("div", { children: [u.jsx("label", { className: "block text-sm font-medium text-text-light mb-2", children: "Last Name" }), u.jsx("input", { type: "text", className: "w-full px-4 py-3 bg-background/50 border border-border/30 rounded-xl text-text-light placeholder-text-dark/50 focus:outline-none focus:ring-2 focus:ring-secondary/50 focus:border-secondary transition-all", placeholder: "Enter last name" })] })] }), u.jsxs("div", { className: "mt-4", children: [u.jsx("label", { className: "block text-sm font-medium text-text-light mb-2", children: "Email" }), u.jsx("input", { type: "email", className: "w-full px-4 py-3 bg-background/50 border border-border/30 rounded-xl text-text-light placeholder-text-dark/50 focus:outline-none focus:ring-2 focus:ring-secondary/50 focus:border-secondary transition-all", placeholder: "Enter email address" })] })] }), u.jsxs("div", { children: [u.jsx("h3", { className: "text-lg font-medium text-text-light mb-4", children: "Payment Method" }), u.jsx("div", { className: "space-y-4", children: u.jsxs("div", { className: "flex items-center space-x-3 p-4 bg-background/30 rounded-xl border border-border/30", children: [u.jsx("input", { type: "radio", name: "payment", id: "card", defaultChecked: !0, className: "text-secondary focus:ring-secondary" }), u.jsxs("label", { htmlFor: "card", className: "flex items-center space-x-2 cursor-pointer", children: [u.jsx(FY, { className: "w-5 h-5 text-secondary" }), u.jsx("span", { className: "text-text-light", children: "Credit/Debit Card" })] })] }) })] }), u.jsxs("div", { className: "p-4 bg-accent/10 border border-accent/30 rounded-xl", children: [u.jsxs("div", { className: "flex items-center space-x-2 text-accent mb-2", children: [u.jsx(rL, { className: "w-5 h-5" }), u.jsx("span", { className: "font-medium", children: "Secure Checkout" })] }), u.jsx("p", { className: "text-sm text-text-light/70", children: "Your payment information is encrypted and secure. We never store your credit card details." })] }), u.jsx("button", { type: "button", onClick: o, disabled: n, className: "w-full bg-secondary text-background py-4 px-6 rounded-xl font-medium hover:bg-secondary-dark focus:outline-none focus:ring-2 focus:ring-secondary/50 focus:ring-offset-2 focus:ring-offset-background-light transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed text-lg", children: n ? u.jsxs("div", { className: "flex items-center justify-center space-x-2", children: [u.jsx("div", { className: "w-5 h-5 border-2 border-background border-t-transparent rounded-full animate-spin" }), u.jsx("span", { children: "Processing..." })] }) : `Complete Purchase - ${i(e.total, "USD")}` })] })] })] })] }) });
};
var zv = {}, V3 = {};
(function(e) {
  Object.defineProperty(e, Symbol.toStringTag, { value: "Module" });
  function t(r) {
    return r === "__proto__";
  }
  e.isUnsafeProperty = t;
})(V3);
var nj = {};
(function(e) {
  Object.defineProperty(e, Symbol.toStringTag, { value: "Module" });
  function t(r) {
    switch (typeof r) {
      case "number":
      case "symbol":
        return !1;
      case "string":
        return r.includes(".") || r.includes("[") || r.includes("]");
    }
  }
  e.isDeepKey = t;
})(nj);
var sj = {};
(function(e) {
  Object.defineProperty(e, Symbol.toStringTag, { value: "Module" });
  function t(r) {
    var n;
    return typeof r == "string" || typeof r == "symbol" ? r : Object.is((n = r == null ? void 0 : r.valueOf) == null ? void 0 : n.call(r), -0) ? "-0" : String(r);
  }
  e.toKey = t;
})(sj);
var Uv = {};
(function(e) {
  Object.defineProperty(e, Symbol.toStringTag, { value: "Module" });
  function t(r) {
    const n = [], s = r.length;
    if (s === 0)
      return n;
    let i = 0, o = "", a = "", l = !1;
    for (r.charCodeAt(0) === 46 && (n.push(""), i++); i < s; ) {
      const c = r[i];
      a ? c === "\\" && i + 1 < s ? (i++, o += r[i]) : c === a ? a = "" : o += c : l ? c === '"' || c === "'" ? a = c : c === "]" ? (l = !1, n.push(o), o = "") : o += c : c === "[" ? (l = !0, o && (n.push(o), o = "")) : c === "." ? o && (n.push(o), o = "") : o += c, i++;
    }
    return o && n.push(o), n;
  }
  e.toPath = t;
})(Uv);
(function(e) {
  Object.defineProperty(e, Symbol.toStringTag, { value: "Module" });
  const t = V3, r = nj, n = sj, s = Uv;
  function i(a, l, c) {
    if (a == null)
      return c;
    switch (typeof l) {
      case "string": {
        if (t.isUnsafeProperty(l))
          return c;
        const d = a[l];
        return d === void 0 ? r.isDeepKey(l) ? i(a, s.toPath(l), c) : c : d;
      }
      case "number":
      case "symbol": {
        typeof l == "number" && (l = n.toKey(l));
        const d = a[l];
        return d === void 0 ? c : d;
      }
      default: {
        if (Array.isArray(l))
          return o(a, l, c);
        if (Object.is(l == null ? void 0 : l.valueOf(), -0) ? l = "-0" : l = String(l), t.isUnsafeProperty(l))
          return c;
        const d = a[l];
        return d === void 0 ? c : d;
      }
    }
  }
  function o(a, l, c) {
    if (l.length === 0)
      return c;
    let d = a;
    for (let f = 0; f < l.length; f++) {
      if (d == null || t.isUnsafeProperty(l[f]))
        return c;
      d = d[l[f]];
    }
    return d === void 0 ? c : d;
  }
  e.get = i;
})(zv);
var jue = zv.get;
const Qa = /* @__PURE__ */ bi(jue);
var k1 = { exports: {} }, St = {};
/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var MP;
function Nue() {
  if (MP) return St;
  MP = 1;
  var e = Symbol.for("react.transitional.element"), t = Symbol.for("react.portal"), r = Symbol.for("react.fragment"), n = Symbol.for("react.strict_mode"), s = Symbol.for("react.profiler"), i = Symbol.for("react.consumer"), o = Symbol.for("react.context"), a = Symbol.for("react.forward_ref"), l = Symbol.for("react.suspense"), c = Symbol.for("react.suspense_list"), d = Symbol.for("react.memo"), f = Symbol.for("react.lazy"), h = Symbol.for("react.view_transition"), p = Symbol.for("react.client.reference");
  function g(m) {
    if (typeof m == "object" && m !== null) {
      var y = m.$$typeof;
      switch (y) {
        case e:
          switch (m = m.type, m) {
            case r:
            case s:
            case n:
            case l:
            case c:
            case h:
              return m;
            default:
              switch (m = m && m.$$typeof, m) {
                case o:
                case a:
                case f:
                case d:
                  return m;
                case i:
                  return m;
                default:
                  return y;
              }
          }
        case t:
          return y;
      }
    }
  }
  return St.ContextConsumer = i, St.ContextProvider = o, St.Element = e, St.ForwardRef = a, St.Fragment = r, St.Lazy = f, St.Memo = d, St.Portal = t, St.Profiler = s, St.StrictMode = n, St.Suspense = l, St.SuspenseList = c, St.isContextConsumer = function(m) {
    return g(m) === i;
  }, St.isContextProvider = function(m) {
    return g(m) === o;
  }, St.isElement = function(m) {
    return typeof m == "object" && m !== null && m.$$typeof === e;
  }, St.isForwardRef = function(m) {
    return g(m) === a;
  }, St.isFragment = function(m) {
    return g(m) === r;
  }, St.isLazy = function(m) {
    return g(m) === f;
  }, St.isMemo = function(m) {
    return g(m) === d;
  }, St.isPortal = function(m) {
    return g(m) === t;
  }, St.isProfiler = function(m) {
    return g(m) === s;
  }, St.isStrictMode = function(m) {
    return g(m) === n;
  }, St.isSuspense = function(m) {
    return g(m) === l;
  }, St.isSuspenseList = function(m) {
    return g(m) === c;
  }, St.isValidElementType = function(m) {
    return typeof m == "string" || typeof m == "function" || m === r || m === s || m === n || m === l || m === c || typeof m == "object" && m !== null && (m.$$typeof === f || m.$$typeof === d || m.$$typeof === o || m.$$typeof === i || m.$$typeof === a || m.$$typeof === p || m.getModuleId !== void 0);
  }, St.typeOf = g, St;
}
var Et = {};
/**
 * @license React
 * react-is.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var LP;
function kue() {
  return LP || (LP = 1, process.env.NODE_ENV !== "production" && function() {
    function e(m) {
      if (typeof m == "object" && m !== null) {
        var y = m.$$typeof;
        switch (y) {
          case t:
            switch (m = m.type, m) {
              case n:
              case i:
              case s:
              case c:
              case d:
              case p:
                return m;
              default:
                switch (m = m && m.$$typeof, m) {
                  case a:
                  case l:
                  case h:
                  case f:
                    return m;
                  case o:
                    return m;
                  default:
                    return y;
                }
            }
          case r:
            return y;
        }
      }
    }
    var t = Symbol.for("react.transitional.element"), r = Symbol.for("react.portal"), n = Symbol.for("react.fragment"), s = Symbol.for("react.strict_mode"), i = Symbol.for("react.profiler"), o = Symbol.for("react.consumer"), a = Symbol.for("react.context"), l = Symbol.for("react.forward_ref"), c = Symbol.for("react.suspense"), d = Symbol.for("react.suspense_list"), f = Symbol.for("react.memo"), h = Symbol.for("react.lazy"), p = Symbol.for("react.view_transition"), g = Symbol.for("react.client.reference");
    Et.ContextConsumer = o, Et.ContextProvider = a, Et.Element = t, Et.ForwardRef = l, Et.Fragment = n, Et.Lazy = h, Et.Memo = f, Et.Portal = r, Et.Profiler = i, Et.StrictMode = s, Et.Suspense = c, Et.SuspenseList = d, Et.isContextConsumer = function(m) {
      return e(m) === o;
    }, Et.isContextProvider = function(m) {
      return e(m) === a;
    }, Et.isElement = function(m) {
      return typeof m == "object" && m !== null && m.$$typeof === t;
    }, Et.isForwardRef = function(m) {
      return e(m) === l;
    }, Et.isFragment = function(m) {
      return e(m) === n;
    }, Et.isLazy = function(m) {
      return e(m) === h;
    }, Et.isMemo = function(m) {
      return e(m) === f;
    }, Et.isPortal = function(m) {
      return e(m) === r;
    }, Et.isProfiler = function(m) {
      return e(m) === i;
    }, Et.isStrictMode = function(m) {
      return e(m) === s;
    }, Et.isSuspense = function(m) {
      return e(m) === c;
    }, Et.isSuspenseList = function(m) {
      return e(m) === d;
    }, Et.isValidElementType = function(m) {
      return typeof m == "string" || typeof m == "function" || m === n || m === i || m === s || m === c || m === d || typeof m == "object" && m !== null && (m.$$typeof === h || m.$$typeof === f || m.$$typeof === a || m.$$typeof === o || m.$$typeof === l || m.$$typeof === g || m.getModuleId !== void 0);
    }, Et.typeOf = e;
  }()), Et;
}
process.env.NODE_ENV === "production" ? k1.exports = Nue() : k1.exports = kue();
var Cue = k1.exports, gn = (e) => e === 0 ? 0 : e > 0 ? 1 : -1, $s = (e) => typeof e == "number" && e != +e, Ml = (e) => typeof e == "string" && e.indexOf("%") === e.length - 1, Oe = (e) => (typeof e == "number" || e instanceof Number) && !$s(e), Xi = (e) => Oe(e) || typeof e == "string", Tue = 0, _h = (e) => {
  var t = ++Tue;
  return "".concat(e || "").concat(t);
}, Ds = function(t, r) {
  var n = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0, s = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : !1;
  if (!Oe(t) && typeof t != "string")
    return n;
  var i;
  if (Ml(t)) {
    if (r == null)
      return n;
    var o = t.indexOf("%");
    i = r * parseFloat(t.slice(0, o)) / 100;
  } else
    i = +t;
  return $s(i) && (i = n), s && r != null && i > r && (i = r), i;
}, W3 = (e) => {
  if (!Array.isArray(e))
    return !1;
  for (var t = e.length, r = {}, n = 0; n < t; n++)
    if (!r[e[n]])
      r[e[n]] = !0;
    else
      return !0;
  return !1;
}, FP = (e, t) => Oe(e) && Oe(t) ? (r) => e + r * (t - e) : () => t;
function sf(e, t, r) {
  return Oe(e) && Oe(t) ? e + r * (t - e) : t;
}
function K3(e, t, r) {
  if (!(!e || !e.length))
    return e.find((n) => n && (typeof t == "function" ? t(n) : Qa(n, t)) === r);
}
var wr = (e) => e === null || typeof e > "u", fp = (e) => wr(e) ? e : "".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)), Aue = ["dangerouslySetInnerHTML", "onCopy", "onCopyCapture", "onCut", "onCutCapture", "onPaste", "onPasteCapture", "onCompositionEnd", "onCompositionEndCapture", "onCompositionStart", "onCompositionStartCapture", "onCompositionUpdate", "onCompositionUpdateCapture", "onFocus", "onFocusCapture", "onBlur", "onBlurCapture", "onChange", "onChangeCapture", "onBeforeInput", "onBeforeInputCapture", "onInput", "onInputCapture", "onReset", "onResetCapture", "onSubmit", "onSubmitCapture", "onInvalid", "onInvalidCapture", "onLoad", "onLoadCapture", "onError", "onErrorCapture", "onKeyDown", "onKeyDownCapture", "onKeyPress", "onKeyPressCapture", "onKeyUp", "onKeyUpCapture", "onAbort", "onAbortCapture", "onCanPlay", "onCanPlayCapture", "onCanPlayThrough", "onCanPlayThroughCapture", "onDurationChange", "onDurationChangeCapture", "onEmptied", "onEmptiedCapture", "onEncrypted", "onEncryptedCapture", "onEnded", "onEndedCapture", "onLoadedData", "onLoadedDataCapture", "onLoadedMetadata", "onLoadedMetadataCapture", "onLoadStart", "onLoadStartCapture", "onPause", "onPauseCapture", "onPlay", "onPlayCapture", "onPlaying", "onPlayingCapture", "onProgress", "onProgressCapture", "onRateChange", "onRateChangeCapture", "onSeeked", "onSeekedCapture", "onSeeking", "onSeekingCapture", "onStalled", "onStalledCapture", "onSuspend", "onSuspendCapture", "onTimeUpdate", "onTimeUpdateCapture", "onVolumeChange", "onVolumeChangeCapture", "onWaiting", "onWaitingCapture", "onAuxClick", "onAuxClickCapture", "onClick", "onClickCapture", "onContextMenu", "onContextMenuCapture", "onDoubleClick", "onDoubleClickCapture", "onDrag", "onDragCapture", "onDragEnd", "onDragEndCapture", "onDragEnter", "onDragEnterCapture", "onDragExit", "onDragExitCapture", "onDragLeave", "onDragLeaveCapture", "onDragOver", "onDragOverCapture", "onDragStart", "onDragStartCapture", "onDrop", "onDropCapture", "onMouseDown", "onMouseDownCapture", "onMouseEnter", "onMouseLeave", "onMouseMove", "onMouseMoveCapture", "onMouseOut", "onMouseOutCapture", "onMouseOver", "onMouseOverCapture", "onMouseUp", "onMouseUpCapture", "onSelect", "onSelectCapture", "onTouchCancel", "onTouchCancelCapture", "onTouchEnd", "onTouchEndCapture", "onTouchMove", "onTouchMoveCapture", "onTouchStart", "onTouchStartCapture", "onPointerDown", "onPointerDownCapture", "onPointerMove", "onPointerMoveCapture", "onPointerUp", "onPointerUpCapture", "onPointerCancel", "onPointerCancelCapture", "onPointerEnter", "onPointerEnterCapture", "onPointerLeave", "onPointerLeaveCapture", "onPointerOver", "onPointerOverCapture", "onPointerOut", "onPointerOutCapture", "onGotPointerCapture", "onGotPointerCaptureCapture", "onLostPointerCapture", "onLostPointerCaptureCapture", "onScroll", "onScrollCapture", "onWheel", "onWheelCapture", "onAnimationStart", "onAnimationStartCapture", "onAnimationEnd", "onAnimationEndCapture", "onAnimationIteration", "onAnimationIterationCapture", "onTransitionEnd", "onTransitionEndCapture"];
function ij(e) {
  if (typeof e != "string")
    return !1;
  var t = Aue;
  return t.includes(e);
}
var Pue = ["viewBox", "children"], BP = ["points", "pathLength"], dx = {
  svg: Pue,
  polygon: BP,
  polyline: BP
}, oj = (e, t) => {
  if (!e || typeof e == "function" || typeof e == "boolean")
    return null;
  var r = e;
  if (/* @__PURE__ */ Pn(e) && (r = e.props), typeof r != "object" && typeof r != "function")
    return null;
  var n = {};
  return Object.keys(r).forEach((s) => {
    ij(s) && (n[s] = (i) => r[s](r, i));
  }), n;
}, Oue = (e, t, r) => (n) => (e(t, r, n), null), aj = (e, t, r) => {
  if (e === null || typeof e != "object" && typeof e != "function")
    return null;
  var n = null;
  return Object.keys(e).forEach((s) => {
    var i = e[s];
    ij(s) && typeof i == "function" && (n || (n = {}), n[s] = Oue(i, t, r));
  }), n;
}, Due = [
  "aria-activedescendant",
  "aria-atomic",
  "aria-autocomplete",
  "aria-busy",
  "aria-checked",
  "aria-colcount",
  "aria-colindex",
  "aria-colspan",
  "aria-controls",
  "aria-current",
  "aria-describedby",
  "aria-details",
  "aria-disabled",
  "aria-errormessage",
  "aria-expanded",
  "aria-flowto",
  "aria-haspopup",
  "aria-hidden",
  "aria-invalid",
  "aria-keyshortcuts",
  "aria-label",
  "aria-labelledby",
  "aria-level",
  "aria-live",
  "aria-modal",
  "aria-multiline",
  "aria-multiselectable",
  "aria-orientation",
  "aria-owns",
  "aria-placeholder",
  "aria-posinset",
  "aria-pressed",
  "aria-readonly",
  "aria-relevant",
  "aria-required",
  "aria-roledescription",
  "aria-rowcount",
  "aria-rowindex",
  "aria-rowspan",
  "aria-selected",
  "aria-setsize",
  "aria-sort",
  "aria-valuemax",
  "aria-valuemin",
  "aria-valuenow",
  "aria-valuetext",
  "className",
  "color",
  "height",
  "id",
  "lang",
  "max",
  "media",
  "method",
  "min",
  "name",
  "style",
  /*
   * removed 'type' SVGElementPropKey because we do not currently use any SVG elements
   * that can use it, and it conflicts with the recharts prop 'type'
   * https://github.com/recharts/recharts/pull/3327
   * https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/type
   */
  // 'type',
  "target",
  "width",
  "role",
  "tabIndex",
  "accentHeight",
  "accumulate",
  "additive",
  "alignmentBaseline",
  "allowReorder",
  "alphabetic",
  "amplitude",
  "arabicForm",
  "ascent",
  "attributeName",
  "attributeType",
  "autoReverse",
  "azimuth",
  "baseFrequency",
  "baselineShift",
  "baseProfile",
  "bbox",
  "begin",
  "bias",
  "by",
  "calcMode",
  "capHeight",
  "clip",
  "clipPath",
  "clipPathUnits",
  "clipRule",
  "colorInterpolation",
  "colorInterpolationFilters",
  "colorProfile",
  "colorRendering",
  "contentScriptType",
  "contentStyleType",
  "cursor",
  "cx",
  "cy",
  "d",
  "decelerate",
  "descent",
  "diffuseConstant",
  "direction",
  "display",
  "divisor",
  "dominantBaseline",
  "dur",
  "dx",
  "dy",
  "edgeMode",
  "elevation",
  "enableBackground",
  "end",
  "exponent",
  "externalResourcesRequired",
  "fill",
  "fillOpacity",
  "fillRule",
  "filter",
  "filterRes",
  "filterUnits",
  "floodColor",
  "floodOpacity",
  "focusable",
  "fontFamily",
  "fontSize",
  "fontSizeAdjust",
  "fontStretch",
  "fontStyle",
  "fontVariant",
  "fontWeight",
  "format",
  "from",
  "fx",
  "fy",
  "g1",
  "g2",
  "glyphName",
  "glyphOrientationHorizontal",
  "glyphOrientationVertical",
  "glyphRef",
  "gradientTransform",
  "gradientUnits",
  "hanging",
  "horizAdvX",
  "horizOriginX",
  "href",
  "ideographic",
  "imageRendering",
  "in2",
  "in",
  "intercept",
  "k1",
  "k2",
  "k3",
  "k4",
  "k",
  "kernelMatrix",
  "kernelUnitLength",
  "kerning",
  "keyPoints",
  "keySplines",
  "keyTimes",
  "lengthAdjust",
  "letterSpacing",
  "lightingColor",
  "limitingConeAngle",
  "local",
  "markerEnd",
  "markerHeight",
  "markerMid",
  "markerStart",
  "markerUnits",
  "markerWidth",
  "mask",
  "maskContentUnits",
  "maskUnits",
  "mathematical",
  "mode",
  "numOctaves",
  "offset",
  "opacity",
  "operator",
  "order",
  "orient",
  "orientation",
  "origin",
  "overflow",
  "overlinePosition",
  "overlineThickness",
  "paintOrder",
  "panose1",
  "pathLength",
  "patternContentUnits",
  "patternTransform",
  "patternUnits",
  "pointerEvents",
  "pointsAtX",
  "pointsAtY",
  "pointsAtZ",
  "preserveAlpha",
  "preserveAspectRatio",
  "primitiveUnits",
  "r",
  "radius",
  "refX",
  "refY",
  "renderingIntent",
  "repeatCount",
  "repeatDur",
  "requiredExtensions",
  "requiredFeatures",
  "restart",
  "result",
  "rotate",
  "rx",
  "ry",
  "seed",
  "shapeRendering",
  "slope",
  "spacing",
  "specularConstant",
  "specularExponent",
  "speed",
  "spreadMethod",
  "startOffset",
  "stdDeviation",
  "stemh",
  "stemv",
  "stitchTiles",
  "stopColor",
  "stopOpacity",
  "strikethroughPosition",
  "strikethroughThickness",
  "string",
  "stroke",
  "strokeDasharray",
  "strokeDashoffset",
  "strokeLinecap",
  "strokeLinejoin",
  "strokeMiterlimit",
  "strokeOpacity",
  "strokeWidth",
  "surfaceScale",
  "systemLanguage",
  "tableValues",
  "targetX",
  "targetY",
  "textAnchor",
  "textDecoration",
  "textLength",
  "textRendering",
  "to",
  "transform",
  "u1",
  "u2",
  "underlinePosition",
  "underlineThickness",
  "unicode",
  "unicodeBidi",
  "unicodeRange",
  "unitsPerEm",
  "vAlphabetic",
  "values",
  "vectorEffect",
  "version",
  "vertAdvY",
  "vertOriginX",
  "vertOriginY",
  "vHanging",
  "vIdeographic",
  "viewTarget",
  "visibility",
  "vMathematical",
  "widths",
  "wordSpacing",
  "writingMode",
  "x1",
  "x2",
  "x",
  "xChannelSelector",
  "xHeight",
  "xlinkActuate",
  "xlinkArcrole",
  "xlinkHref",
  "xlinkRole",
  "xlinkShow",
  "xlinkTitle",
  "xlinkType",
  "xmlBase",
  "xmlLang",
  "xmlns",
  "xmlnsXlink",
  "xmlSpace",
  "y1",
  "y2",
  "y",
  "yChannelSelector",
  "z",
  "zoomAndPan",
  "ref",
  "key",
  "angle"
];
function H3(e) {
  if (typeof e != "string")
    return !1;
  var t = Due;
  return t.includes(e);
}
function al(e) {
  var t = Object.entries(e).filter((r) => {
    var [n] = r;
    return H3(n);
  });
  return Object.fromEntries(t);
}
var zP = (e) => typeof e == "string" ? e : e ? e.displayName || e.name || "Component" : "", UP = null, fx = null, Y3 = (e) => {
  if (e === UP && Array.isArray(fx))
    return fx;
  var t = [];
  return Po.forEach(e, (r) => {
    wr(r) || (Cue.isFragment(r) ? t = t.concat(Y3(r.props.children)) : t.push(r));
  }), fx = t, UP = e, t;
};
function qv(e, t) {
  var r = [], n = [];
  return Array.isArray(t) ? n = t.map((s) => zP(s)) : n = [zP(t)], Y3(e).forEach((s) => {
    var i = Qa(s, "type.displayName") || Qa(s, "type.name");
    n.indexOf(i) !== -1 && r.push(s);
  }), r;
}
var G3 = (e) => e && typeof e == "object" && "clipDot" in e ? !!e.clipDot : !0, $ue = (e, t, r, n) => {
  var s;
  if (typeof t == "symbol" || typeof t == "number")
    return !0;
  var i = (s = n && (dx == null ? void 0 : dx[n])) !== null && s !== void 0 ? s : [], o = t.startsWith("data-"), a = typeof e != "function" && (!!n && i.includes(t) || H3(t)), l = !!r && ij(t);
  return o || a || l;
}, tr = (e, t, r) => {
  if (!e || typeof e == "function" || typeof e == "boolean")
    return null;
  var n = e;
  if (/* @__PURE__ */ Pn(e) && (n = e.props), typeof n != "object" && typeof n != "function")
    return null;
  var s = {};
  return Object.keys(n).forEach((i) => {
    var o;
    $ue((o = n) === null || o === void 0 ? void 0 : o[i], i, t, r) && (s[i] = n[i]);
  }), s;
}, Rue = ["children", "width", "height", "viewBox", "className", "style", "title", "desc"];
function C1() {
  return C1 = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var r = arguments[t];
      for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]);
    }
    return e;
  }, C1.apply(null, arguments);
}
function Iue(e, t) {
  if (e == null) return {};
  var r, n, s = Mue(e, t);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    for (n = 0; n < i.length; n++) r = i[n], t.indexOf(r) === -1 && {}.propertyIsEnumerable.call(e, r) && (s[r] = e[r]);
  }
  return s;
}
function Mue(e, t) {
  if (e == null) return {};
  var r = {};
  for (var n in e) if ({}.hasOwnProperty.call(e, n)) {
    if (t.indexOf(n) !== -1) continue;
    r[n] = e[n];
  }
  return r;
}
var lj = /* @__PURE__ */ rt((e, t) => {
  var {
    children: r,
    width: n,
    height: s,
    viewBox: i,
    className: o,
    style: a,
    title: l,
    desc: c
  } = e, d = Iue(e, Rue), f = i || {
    width: n,
    height: s,
    x: 0,
    y: 0
  }, h = at("recharts-surface", o);
  return /* @__PURE__ */ _.createElement("svg", C1({}, tr(d, !0, "svg"), {
    className: h,
    width: n,
    height: s,
    style: a,
    viewBox: "".concat(f.x, " ").concat(f.y, " ").concat(f.width, " ").concat(f.height),
    ref: t
  }), /* @__PURE__ */ _.createElement("title", null, l), /* @__PURE__ */ _.createElement("desc", null, c), r);
}), Lue = ["children", "className"];
function T1() {
  return T1 = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var r = arguments[t];
      for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]);
    }
    return e;
  }, T1.apply(null, arguments);
}
function Fue(e, t) {
  if (e == null) return {};
  var r, n, s = Bue(e, t);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    for (n = 0; n < i.length; n++) r = i[n], t.indexOf(r) === -1 && {}.propertyIsEnumerable.call(e, r) && (s[r] = e[r]);
  }
  return s;
}
function Bue(e, t) {
  if (e == null) return {};
  var r = {};
  for (var n in e) if ({}.hasOwnProperty.call(e, n)) {
    if (t.indexOf(n) !== -1) continue;
    r[n] = e[n];
  }
  return r;
}
var Rs = /* @__PURE__ */ _.forwardRef((e, t) => {
  var {
    children: r,
    className: n
  } = e, s = Fue(e, Lue), i = at("recharts-layer", n);
  return /* @__PURE__ */ _.createElement("g", T1({
    className: i
  }, tr(s, !0), {
    ref: t
  }), r);
}), Z3 = /* @__PURE__ */ dr(null), zue = () => Dt(Z3);
function Ot(e) {
  return function() {
    return e;
  };
}
const X3 = Math.cos, Jg = Math.sin, _i = Math.sqrt, Qg = Math.PI, Vv = 2 * Qg, A1 = Math.PI, P1 = 2 * A1, Al = 1e-6, Uue = P1 - Al;
function J3(e) {
  this._ += e[0];
  for (let t = 1, r = e.length; t < r; ++t)
    this._ += arguments[t] + e[t];
}
function que(e) {
  let t = Math.floor(e);
  if (!(t >= 0)) throw new Error(`invalid digits: ${e}`);
  if (t > 15) return J3;
  const r = 10 ** t;
  return function(n) {
    this._ += n[0];
    for (let s = 1, i = n.length; s < i; ++s)
      this._ += Math.round(arguments[s] * r) / r + n[s];
  };
}
class Vue {
  constructor(t) {
    this._x0 = this._y0 = // start of current subpath
    this._x1 = this._y1 = null, this._ = "", this._append = t == null ? J3 : que(t);
  }
  moveTo(t, r) {
    this._append`M${this._x0 = this._x1 = +t},${this._y0 = this._y1 = +r}`;
  }
  closePath() {
    this._x1 !== null && (this._x1 = this._x0, this._y1 = this._y0, this._append`Z`);
  }
  lineTo(t, r) {
    this._append`L${this._x1 = +t},${this._y1 = +r}`;
  }
  quadraticCurveTo(t, r, n, s) {
    this._append`Q${+t},${+r},${this._x1 = +n},${this._y1 = +s}`;
  }
  bezierCurveTo(t, r, n, s, i, o) {
    this._append`C${+t},${+r},${+n},${+s},${this._x1 = +i},${this._y1 = +o}`;
  }
  arcTo(t, r, n, s, i) {
    if (t = +t, r = +r, n = +n, s = +s, i = +i, i < 0) throw new Error(`negative radius: ${i}`);
    let o = this._x1, a = this._y1, l = n - t, c = s - r, d = o - t, f = a - r, h = d * d + f * f;
    if (this._x1 === null)
      this._append`M${this._x1 = t},${this._y1 = r}`;
    else if (h > Al) if (!(Math.abs(f * l - c * d) > Al) || !i)
      this._append`L${this._x1 = t},${this._y1 = r}`;
    else {
      let p = n - o, g = s - a, m = l * l + c * c, y = p * p + g * g, v = Math.sqrt(m), b = Math.sqrt(h), x = i * Math.tan((A1 - Math.acos((m + h - y) / (2 * v * b))) / 2), S = x / b, w = x / v;
      Math.abs(S - 1) > Al && this._append`L${t + S * d},${r + S * f}`, this._append`A${i},${i},0,0,${+(f * p > d * g)},${this._x1 = t + w * l},${this._y1 = r + w * c}`;
    }
  }
  arc(t, r, n, s, i, o) {
    if (t = +t, r = +r, n = +n, o = !!o, n < 0) throw new Error(`negative radius: ${n}`);
    let a = n * Math.cos(s), l = n * Math.sin(s), c = t + a, d = r + l, f = 1 ^ o, h = o ? s - i : i - s;
    this._x1 === null ? this._append`M${c},${d}` : (Math.abs(this._x1 - c) > Al || Math.abs(this._y1 - d) > Al) && this._append`L${c},${d}`, n && (h < 0 && (h = h % P1 + P1), h > Uue ? this._append`A${n},${n},0,1,${f},${t - a},${r - l}A${n},${n},0,1,${f},${this._x1 = c},${this._y1 = d}` : h > Al && this._append`A${n},${n},0,${+(h >= A1)},${f},${this._x1 = t + n * Math.cos(i)},${this._y1 = r + n * Math.sin(i)}`);
  }
  rect(t, r, n, s) {
    this._append`M${this._x0 = this._x1 = +t},${this._y0 = this._y1 = +r}h${n = +n}v${+s}h${-n}Z`;
  }
  toString() {
    return this._;
  }
}
function cj(e) {
  let t = 3;
  return e.digits = function(r) {
    if (!arguments.length) return t;
    if (r == null)
      t = null;
    else {
      const n = Math.floor(r);
      if (!(n >= 0)) throw new RangeError(`invalid digits: ${r}`);
      t = n;
    }
    return e;
  }, () => new Vue(t);
}
function uj(e) {
  return typeof e == "object" && "length" in e ? e : Array.from(e);
}
function Q3(e) {
  this._context = e;
}
Q3.prototype = {
  areaStart: function() {
    this._line = 0;
  },
  areaEnd: function() {
    this._line = NaN;
  },
  lineStart: function() {
    this._point = 0;
  },
  lineEnd: function() {
    (this._line || this._line !== 0 && this._point === 1) && this._context.closePath(), this._line = 1 - this._line;
  },
  point: function(e, t) {
    switch (e = +e, t = +t, this._point) {
      case 0:
        this._point = 1, this._line ? this._context.lineTo(e, t) : this._context.moveTo(e, t);
        break;
      case 1:
        this._point = 2;
      default:
        this._context.lineTo(e, t);
        break;
    }
  }
};
function Wv(e) {
  return new Q3(e);
}
function eF(e) {
  return e[0];
}
function tF(e) {
  return e[1];
}
function rF(e, t) {
  var r = Ot(!0), n = null, s = Wv, i = null, o = cj(a);
  e = typeof e == "function" ? e : e === void 0 ? eF : Ot(e), t = typeof t == "function" ? t : t === void 0 ? tF : Ot(t);
  function a(l) {
    var c, d = (l = uj(l)).length, f, h = !1, p;
    for (n == null && (i = s(p = o())), c = 0; c <= d; ++c)
      !(c < d && r(f = l[c], c, l)) === h && ((h = !h) ? i.lineStart() : i.lineEnd()), h && i.point(+e(f, c, l), +t(f, c, l));
    if (p) return i = null, p + "" || null;
  }
  return a.x = function(l) {
    return arguments.length ? (e = typeof l == "function" ? l : Ot(+l), a) : e;
  }, a.y = function(l) {
    return arguments.length ? (t = typeof l == "function" ? l : Ot(+l), a) : t;
  }, a.defined = function(l) {
    return arguments.length ? (r = typeof l == "function" ? l : Ot(!!l), a) : r;
  }, a.curve = function(l) {
    return arguments.length ? (s = l, n != null && (i = s(n)), a) : s;
  }, a.context = function(l) {
    return arguments.length ? (l == null ? n = i = null : i = s(n = l), a) : n;
  }, a;
}
function Nm(e, t, r) {
  var n = null, s = Ot(!0), i = null, o = Wv, a = null, l = cj(c);
  e = typeof e == "function" ? e : e === void 0 ? eF : Ot(+e), t = typeof t == "function" ? t : Ot(t === void 0 ? 0 : +t), r = typeof r == "function" ? r : r === void 0 ? tF : Ot(+r);
  function c(f) {
    var h, p, g, m = (f = uj(f)).length, y, v = !1, b, x = new Array(m), S = new Array(m);
    for (i == null && (a = o(b = l())), h = 0; h <= m; ++h) {
      if (!(h < m && s(y = f[h], h, f)) === v)
        if (v = !v)
          p = h, a.areaStart(), a.lineStart();
        else {
          for (a.lineEnd(), a.lineStart(), g = h - 1; g >= p; --g)
            a.point(x[g], S[g]);
          a.lineEnd(), a.areaEnd();
        }
      v && (x[h] = +e(y, h, f), S[h] = +t(y, h, f), a.point(n ? +n(y, h, f) : x[h], r ? +r(y, h, f) : S[h]));
    }
    if (b) return a = null, b + "" || null;
  }
  function d() {
    return rF().defined(s).curve(o).context(i);
  }
  return c.x = function(f) {
    return arguments.length ? (e = typeof f == "function" ? f : Ot(+f), n = null, c) : e;
  }, c.x0 = function(f) {
    return arguments.length ? (e = typeof f == "function" ? f : Ot(+f), c) : e;
  }, c.x1 = function(f) {
    return arguments.length ? (n = f == null ? null : typeof f == "function" ? f : Ot(+f), c) : n;
  }, c.y = function(f) {
    return arguments.length ? (t = typeof f == "function" ? f : Ot(+f), r = null, c) : t;
  }, c.y0 = function(f) {
    return arguments.length ? (t = typeof f == "function" ? f : Ot(+f), c) : t;
  }, c.y1 = function(f) {
    return arguments.length ? (r = f == null ? null : typeof f == "function" ? f : Ot(+f), c) : r;
  }, c.lineX0 = c.lineY0 = function() {
    return d().x(e).y(t);
  }, c.lineY1 = function() {
    return d().x(e).y(r);
  }, c.lineX1 = function() {
    return d().x(n).y(t);
  }, c.defined = function(f) {
    return arguments.length ? (s = typeof f == "function" ? f : Ot(!!f), c) : s;
  }, c.curve = function(f) {
    return arguments.length ? (o = f, i != null && (a = o(i)), c) : o;
  }, c.context = function(f) {
    return arguments.length ? (f == null ? i = a = null : a = o(i = f), c) : i;
  }, c;
}
class nF {
  constructor(t, r) {
    this._context = t, this._x = r;
  }
  areaStart() {
    this._line = 0;
  }
  areaEnd() {
    this._line = NaN;
  }
  lineStart() {
    this._point = 0;
  }
  lineEnd() {
    (this._line || this._line !== 0 && this._point === 1) && this._context.closePath(), this._line = 1 - this._line;
  }
  point(t, r) {
    switch (t = +t, r = +r, this._point) {
      case 0: {
        this._point = 1, this._line ? this._context.lineTo(t, r) : this._context.moveTo(t, r);
        break;
      }
      case 1:
        this._point = 2;
      default: {
        this._x ? this._context.bezierCurveTo(this._x0 = (this._x0 + t) / 2, this._y0, this._x0, r, t, r) : this._context.bezierCurveTo(this._x0, this._y0 = (this._y0 + r) / 2, t, this._y0, t, r);
        break;
      }
    }
    this._x0 = t, this._y0 = r;
  }
}
function Wue(e) {
  return new nF(e, !0);
}
function Kue(e) {
  return new nF(e, !1);
}
const dj = {
  draw(e, t) {
    const r = _i(t / Qg);
    e.moveTo(r, 0), e.arc(0, 0, r, 0, Vv);
  }
}, Hue = {
  draw(e, t) {
    const r = _i(t / 5) / 2;
    e.moveTo(-3 * r, -r), e.lineTo(-r, -r), e.lineTo(-r, -3 * r), e.lineTo(r, -3 * r), e.lineTo(r, -r), e.lineTo(3 * r, -r), e.lineTo(3 * r, r), e.lineTo(r, r), e.lineTo(r, 3 * r), e.lineTo(-r, 3 * r), e.lineTo(-r, r), e.lineTo(-3 * r, r), e.closePath();
  }
}, sF = _i(1 / 3), Yue = sF * 2, Gue = {
  draw(e, t) {
    const r = _i(t / Yue), n = r * sF;
    e.moveTo(0, -r), e.lineTo(n, 0), e.lineTo(0, r), e.lineTo(-n, 0), e.closePath();
  }
}, Zue = {
  draw(e, t) {
    const r = _i(t), n = -r / 2;
    e.rect(n, n, r, r);
  }
}, Xue = 0.8908130915292852, iF = Jg(Qg / 10) / Jg(7 * Qg / 10), Jue = Jg(Vv / 10) * iF, Que = -X3(Vv / 10) * iF, ede = {
  draw(e, t) {
    const r = _i(t * Xue), n = Jue * r, s = Que * r;
    e.moveTo(0, -r), e.lineTo(n, s);
    for (let i = 1; i < 5; ++i) {
      const o = Vv * i / 5, a = X3(o), l = Jg(o);
      e.lineTo(l * r, -a * r), e.lineTo(a * n - l * s, l * n + a * s);
    }
    e.closePath();
  }
}, hx = _i(3), tde = {
  draw(e, t) {
    const r = -_i(t / (hx * 3));
    e.moveTo(0, r * 2), e.lineTo(-hx * r, -r), e.lineTo(hx * r, -r), e.closePath();
  }
}, vs = -0.5, bs = _i(3) / 2, O1 = 1 / _i(12), rde = (O1 / 2 + 1) * 3, nde = {
  draw(e, t) {
    const r = _i(t / rde), n = r / 2, s = r * O1, i = n, o = r * O1 + r, a = -i, l = o;
    e.moveTo(n, s), e.lineTo(i, o), e.lineTo(a, l), e.lineTo(vs * n - bs * s, bs * n + vs * s), e.lineTo(vs * i - bs * o, bs * i + vs * o), e.lineTo(vs * a - bs * l, bs * a + vs * l), e.lineTo(vs * n + bs * s, vs * s - bs * n), e.lineTo(vs * i + bs * o, vs * o - bs * i), e.lineTo(vs * a + bs * l, vs * l - bs * a), e.closePath();
  }
};
function sde(e, t) {
  let r = null, n = cj(s);
  e = typeof e == "function" ? e : Ot(e || dj), t = typeof t == "function" ? t : Ot(t === void 0 ? 64 : +t);
  function s() {
    let i;
    if (r || (r = i = n()), e.apply(this, arguments).draw(r, +t.apply(this, arguments)), i) return r = null, i + "" || null;
  }
  return s.type = function(i) {
    return arguments.length ? (e = typeof i == "function" ? i : Ot(i), s) : e;
  }, s.size = function(i) {
    return arguments.length ? (t = typeof i == "function" ? i : Ot(+i), s) : t;
  }, s.context = function(i) {
    return arguments.length ? (r = i ?? null, s) : r;
  }, s;
}
function ey() {
}
function ty(e, t, r) {
  e._context.bezierCurveTo(
    (2 * e._x0 + e._x1) / 3,
    (2 * e._y0 + e._y1) / 3,
    (e._x0 + 2 * e._x1) / 3,
    (e._y0 + 2 * e._y1) / 3,
    (e._x0 + 4 * e._x1 + t) / 6,
    (e._y0 + 4 * e._y1 + r) / 6
  );
}
function oF(e) {
  this._context = e;
}
oF.prototype = {
  areaStart: function() {
    this._line = 0;
  },
  areaEnd: function() {
    this._line = NaN;
  },
  lineStart: function() {
    this._x0 = this._x1 = this._y0 = this._y1 = NaN, this._point = 0;
  },
  lineEnd: function() {
    switch (this._point) {
      case 3:
        ty(this, this._x1, this._y1);
      case 2:
        this._context.lineTo(this._x1, this._y1);
        break;
    }
    (this._line || this._line !== 0 && this._point === 1) && this._context.closePath(), this._line = 1 - this._line;
  },
  point: function(e, t) {
    switch (e = +e, t = +t, this._point) {
      case 0:
        this._point = 1, this._line ? this._context.lineTo(e, t) : this._context.moveTo(e, t);
        break;
      case 1:
        this._point = 2;
        break;
      case 2:
        this._point = 3, this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6);
      default:
        ty(this, e, t);
        break;
    }
    this._x0 = this._x1, this._x1 = e, this._y0 = this._y1, this._y1 = t;
  }
};
function ide(e) {
  return new oF(e);
}
function aF(e) {
  this._context = e;
}
aF.prototype = {
  areaStart: ey,
  areaEnd: ey,
  lineStart: function() {
    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN, this._point = 0;
  },
  lineEnd: function() {
    switch (this._point) {
      case 1: {
        this._context.moveTo(this._x2, this._y2), this._context.closePath();
        break;
      }
      case 2: {
        this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3), this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3), this._context.closePath();
        break;
      }
      case 3: {
        this.point(this._x2, this._y2), this.point(this._x3, this._y3), this.point(this._x4, this._y4);
        break;
      }
    }
  },
  point: function(e, t) {
    switch (e = +e, t = +t, this._point) {
      case 0:
        this._point = 1, this._x2 = e, this._y2 = t;
        break;
      case 1:
        this._point = 2, this._x3 = e, this._y3 = t;
        break;
      case 2:
        this._point = 3, this._x4 = e, this._y4 = t, this._context.moveTo((this._x0 + 4 * this._x1 + e) / 6, (this._y0 + 4 * this._y1 + t) / 6);
        break;
      default:
        ty(this, e, t);
        break;
    }
    this._x0 = this._x1, this._x1 = e, this._y0 = this._y1, this._y1 = t;
  }
};
function ode(e) {
  return new aF(e);
}
function lF(e) {
  this._context = e;
}
lF.prototype = {
  areaStart: function() {
    this._line = 0;
  },
  areaEnd: function() {
    this._line = NaN;
  },
  lineStart: function() {
    this._x0 = this._x1 = this._y0 = this._y1 = NaN, this._point = 0;
  },
  lineEnd: function() {
    (this._line || this._line !== 0 && this._point === 3) && this._context.closePath(), this._line = 1 - this._line;
  },
  point: function(e, t) {
    switch (e = +e, t = +t, this._point) {
      case 0:
        this._point = 1;
        break;
      case 1:
        this._point = 2;
        break;
      case 2:
        this._point = 3;
        var r = (this._x0 + 4 * this._x1 + e) / 6, n = (this._y0 + 4 * this._y1 + t) / 6;
        this._line ? this._context.lineTo(r, n) : this._context.moveTo(r, n);
        break;
      case 3:
        this._point = 4;
      default:
        ty(this, e, t);
        break;
    }
    this._x0 = this._x1, this._x1 = e, this._y0 = this._y1, this._y1 = t;
  }
};
function ade(e) {
  return new lF(e);
}
function cF(e) {
  this._context = e;
}
cF.prototype = {
  areaStart: ey,
  areaEnd: ey,
  lineStart: function() {
    this._point = 0;
  },
  lineEnd: function() {
    this._point && this._context.closePath();
  },
  point: function(e, t) {
    e = +e, t = +t, this._point ? this._context.lineTo(e, t) : (this._point = 1, this._context.moveTo(e, t));
  }
};
function lde(e) {
  return new cF(e);
}
function qP(e) {
  return e < 0 ? -1 : 1;
}
function VP(e, t, r) {
  var n = e._x1 - e._x0, s = t - e._x1, i = (e._y1 - e._y0) / (n || s < 0 && -0), o = (r - e._y1) / (s || n < 0 && -0), a = (i * s + o * n) / (n + s);
  return (qP(i) + qP(o)) * Math.min(Math.abs(i), Math.abs(o), 0.5 * Math.abs(a)) || 0;
}
function WP(e, t) {
  var r = e._x1 - e._x0;
  return r ? (3 * (e._y1 - e._y0) / r - t) / 2 : t;
}
function px(e, t, r) {
  var n = e._x0, s = e._y0, i = e._x1, o = e._y1, a = (i - n) / 3;
  e._context.bezierCurveTo(n + a, s + a * t, i - a, o - a * r, i, o);
}
function ry(e) {
  this._context = e;
}
ry.prototype = {
  areaStart: function() {
    this._line = 0;
  },
  areaEnd: function() {
    this._line = NaN;
  },
  lineStart: function() {
    this._x0 = this._x1 = this._y0 = this._y1 = this._t0 = NaN, this._point = 0;
  },
  lineEnd: function() {
    switch (this._point) {
      case 2:
        this._context.lineTo(this._x1, this._y1);
        break;
      case 3:
        px(this, this._t0, WP(this, this._t0));
        break;
    }
    (this._line || this._line !== 0 && this._point === 1) && this._context.closePath(), this._line = 1 - this._line;
  },
  point: function(e, t) {
    var r = NaN;
    if (e = +e, t = +t, !(e === this._x1 && t === this._y1)) {
      switch (this._point) {
        case 0:
          this._point = 1, this._line ? this._context.lineTo(e, t) : this._context.moveTo(e, t);
          break;
        case 1:
          this._point = 2;
          break;
        case 2:
          this._point = 3, px(this, WP(this, r = VP(this, e, t)), r);
          break;
        default:
          px(this, this._t0, r = VP(this, e, t));
          break;
      }
      this._x0 = this._x1, this._x1 = e, this._y0 = this._y1, this._y1 = t, this._t0 = r;
    }
  }
};
function uF(e) {
  this._context = new dF(e);
}
(uF.prototype = Object.create(ry.prototype)).point = function(e, t) {
  ry.prototype.point.call(this, t, e);
};
function dF(e) {
  this._context = e;
}
dF.prototype = {
  moveTo: function(e, t) {
    this._context.moveTo(t, e);
  },
  closePath: function() {
    this._context.closePath();
  },
  lineTo: function(e, t) {
    this._context.lineTo(t, e);
  },
  bezierCurveTo: function(e, t, r, n, s, i) {
    this._context.bezierCurveTo(t, e, n, r, i, s);
  }
};
function cde(e) {
  return new ry(e);
}
function ude(e) {
  return new uF(e);
}
function fF(e) {
  this._context = e;
}
fF.prototype = {
  areaStart: function() {
    this._line = 0;
  },
  areaEnd: function() {
    this._line = NaN;
  },
  lineStart: function() {
    this._x = [], this._y = [];
  },
  lineEnd: function() {
    var e = this._x, t = this._y, r = e.length;
    if (r)
      if (this._line ? this._context.lineTo(e[0], t[0]) : this._context.moveTo(e[0], t[0]), r === 2)
        this._context.lineTo(e[1], t[1]);
      else
        for (var n = KP(e), s = KP(t), i = 0, o = 1; o < r; ++i, ++o)
          this._context.bezierCurveTo(n[0][i], s[0][i], n[1][i], s[1][i], e[o], t[o]);
    (this._line || this._line !== 0 && r === 1) && this._context.closePath(), this._line = 1 - this._line, this._x = this._y = null;
  },
  point: function(e, t) {
    this._x.push(+e), this._y.push(+t);
  }
};
function KP(e) {
  var t, r = e.length - 1, n, s = new Array(r), i = new Array(r), o = new Array(r);
  for (s[0] = 0, i[0] = 2, o[0] = e[0] + 2 * e[1], t = 1; t < r - 1; ++t) s[t] = 1, i[t] = 4, o[t] = 4 * e[t] + 2 * e[t + 1];
  for (s[r - 1] = 2, i[r - 1] = 7, o[r - 1] = 8 * e[r - 1] + e[r], t = 1; t < r; ++t) n = s[t] / i[t - 1], i[t] -= n, o[t] -= n * o[t - 1];
  for (s[r - 1] = o[r - 1] / i[r - 1], t = r - 2; t >= 0; --t) s[t] = (o[t] - s[t + 1]) / i[t];
  for (i[r - 1] = (e[r] + s[r - 1]) / 2, t = 0; t < r - 1; ++t) i[t] = 2 * e[t + 1] - s[t + 1];
  return [s, i];
}
function dde(e) {
  return new fF(e);
}
function Kv(e, t) {
  this._context = e, this._t = t;
}
Kv.prototype = {
  areaStart: function() {
    this._line = 0;
  },
  areaEnd: function() {
    this._line = NaN;
  },
  lineStart: function() {
    this._x = this._y = NaN, this._point = 0;
  },
  lineEnd: function() {
    0 < this._t && this._t < 1 && this._point === 2 && this._context.lineTo(this._x, this._y), (this._line || this._line !== 0 && this._point === 1) && this._context.closePath(), this._line >= 0 && (this._t = 1 - this._t, this._line = 1 - this._line);
  },
  point: function(e, t) {
    switch (e = +e, t = +t, this._point) {
      case 0:
        this._point = 1, this._line ? this._context.lineTo(e, t) : this._context.moveTo(e, t);
        break;
      case 1:
        this._point = 2;
      default: {
        if (this._t <= 0)
          this._context.lineTo(this._x, t), this._context.lineTo(e, t);
        else {
          var r = this._x * (1 - this._t) + e * this._t;
          this._context.lineTo(r, this._y), this._context.lineTo(r, t);
        }
        break;
      }
    }
    this._x = e, this._y = t;
  }
};
function fde(e) {
  return new Kv(e, 0.5);
}
function hde(e) {
  return new Kv(e, 0);
}
function pde(e) {
  return new Kv(e, 1);
}
function Yu(e, t) {
  if ((o = e.length) > 1)
    for (var r = 1, n, s, i = e[t[0]], o, a = i.length; r < o; ++r)
      for (s = i, i = e[t[r]], n = 0; n < a; ++n)
        i[n][1] += i[n][0] = isNaN(s[n][1]) ? s[n][0] : s[n][1];
}
function D1(e) {
  for (var t = e.length, r = new Array(t); --t >= 0; ) r[t] = t;
  return r;
}
function mde(e, t) {
  return e[t];
}
function gde(e) {
  const t = [];
  return t.key = e, t;
}
function yde() {
  var e = Ot([]), t = D1, r = Yu, n = mde;
  function s(i) {
    var o = Array.from(e.apply(this, arguments), gde), a, l = o.length, c = -1, d;
    for (const f of i)
      for (a = 0, ++c; a < l; ++a)
        (o[a][c] = [0, +n(f, o[a].key, c, i)]).data = f;
    for (a = 0, d = uj(t(o)); a < l; ++a)
      o[d[a]].index = a;
    return r(o, d), o;
  }
  return s.keys = function(i) {
    return arguments.length ? (e = typeof i == "function" ? i : Ot(Array.from(i)), s) : e;
  }, s.value = function(i) {
    return arguments.length ? (n = typeof i == "function" ? i : Ot(+i), s) : n;
  }, s.order = function(i) {
    return arguments.length ? (t = i == null ? D1 : typeof i == "function" ? i : Ot(Array.from(i)), s) : t;
  }, s.offset = function(i) {
    return arguments.length ? (r = i ?? Yu, s) : r;
  }, s;
}
function vde(e, t) {
  if ((n = e.length) > 0) {
    for (var r, n, s = 0, i = e[0].length, o; s < i; ++s) {
      for (o = r = 0; r < n; ++r) o += e[r][s][1] || 0;
      if (o) for (r = 0; r < n; ++r) e[r][s][1] /= o;
    }
    Yu(e, t);
  }
}
function bde(e, t) {
  if ((s = e.length) > 0) {
    for (var r = 0, n = e[t[0]], s, i = n.length; r < i; ++r) {
      for (var o = 0, a = 0; o < s; ++o) a += e[o][r][1] || 0;
      n[r][1] += n[r][0] = -a / 2;
    }
    Yu(e, t);
  }
}
function xde(e, t) {
  if (!(!((o = e.length) > 0) || !((i = (s = e[t[0]]).length) > 0))) {
    for (var r = 0, n = 1, s, i, o; n < i; ++n) {
      for (var a = 0, l = 0, c = 0; a < o; ++a) {
        for (var d = e[t[a]], f = d[n][1] || 0, h = d[n - 1][1] || 0, p = (f - h) / 2, g = 0; g < a; ++g) {
          var m = e[t[g]], y = m[n][1] || 0, v = m[n - 1][1] || 0;
          p += y - v;
        }
        l += f, c += p * f;
      }
      s[n - 1][1] += s[n - 1][0] = r, l && (r -= c / l);
    }
    s[n - 1][1] += s[n - 1][0] = r, Yu(e, t);
  }
}
var wde = ["type", "size", "sizeType"];
function $1() {
  return $1 = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var r = arguments[t];
      for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]);
    }
    return e;
  }, $1.apply(null, arguments);
}
function HP(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    t && (n = n.filter(function(s) {
      return Object.getOwnPropertyDescriptor(e, s).enumerable;
    })), r.push.apply(r, n);
  }
  return r;
}
function YP(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2 ? HP(Object(r), !0).forEach(function(n) {
      _de(e, n, r[n]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : HP(Object(r)).forEach(function(n) {
      Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
    });
  }
  return e;
}
function _de(e, t, r) {
  return (t = Sde(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e;
}
function Sde(e) {
  var t = Ede(e, "string");
  return typeof t == "symbol" ? t : t + "";
}
function Ede(e, t) {
  if (typeof e != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (typeof n != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
function jde(e, t) {
  if (e == null) return {};
  var r, n, s = Nde(e, t);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    for (n = 0; n < i.length; n++) r = i[n], t.indexOf(r) === -1 && {}.propertyIsEnumerable.call(e, r) && (s[r] = e[r]);
  }
  return s;
}
function Nde(e, t) {
  if (e == null) return {};
  var r = {};
  for (var n in e) if ({}.hasOwnProperty.call(e, n)) {
    if (t.indexOf(n) !== -1) continue;
    r[n] = e[n];
  }
  return r;
}
var hF = {
  symbolCircle: dj,
  symbolCross: Hue,
  symbolDiamond: Gue,
  symbolSquare: Zue,
  symbolStar: ede,
  symbolTriangle: tde,
  symbolWye: nde
}, kde = Math.PI / 180, Cde = (e) => {
  var t = "symbol".concat(fp(e));
  return hF[t] || dj;
}, Tde = (e, t, r) => {
  if (t === "area")
    return e;
  switch (r) {
    case "cross":
      return 5 * e * e / 9;
    case "diamond":
      return 0.5 * e * e / Math.sqrt(3);
    case "square":
      return e * e;
    case "star": {
      var n = 18 * kde;
      return 1.25 * e * e * (Math.tan(n) - Math.tan(n * 2) * Math.tan(n) ** 2);
    }
    case "triangle":
      return Math.sqrt(3) * e * e / 4;
    case "wye":
      return (21 - 10 * Math.sqrt(3)) * e * e / 8;
    default:
      return Math.PI * e * e / 4;
  }
}, Ade = (e, t) => {
  hF["symbol".concat(fp(e))] = t;
}, fj = (e) => {
  var {
    type: t = "circle",
    size: r = 64,
    sizeType: n = "area"
  } = e, s = jde(e, wde), i = YP(YP({}, s), {}, {
    type: t,
    size: r,
    sizeType: n
  }), o = () => {
    var f = Cde(t), h = sde().type(f).size(Tde(r, n, t));
    return h();
  }, {
    className: a,
    cx: l,
    cy: c
  } = i, d = tr(i, !0);
  return l === +l && c === +c && r === +r ? /* @__PURE__ */ _.createElement("path", $1({}, d, {
    className: at("recharts-symbols", a),
    transform: "translate(".concat(l, ", ").concat(c, ")"),
    d: o()
  })) : null;
};
fj.registerSymbol = Ade;
function R1() {
  return R1 = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var r = arguments[t];
      for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]);
    }
    return e;
  }, R1.apply(null, arguments);
}
function GP(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    t && (n = n.filter(function(s) {
      return Object.getOwnPropertyDescriptor(e, s).enumerable;
    })), r.push.apply(r, n);
  }
  return r;
}
function Pde(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2 ? GP(Object(r), !0).forEach(function(n) {
      hj(e, n, r[n]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : GP(Object(r)).forEach(function(n) {
      Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
    });
  }
  return e;
}
function hj(e, t, r) {
  return (t = Ode(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e;
}
function Ode(e) {
  var t = Dde(e, "string");
  return typeof t == "symbol" ? t : t + "";
}
function Dde(e, t) {
  if (typeof e != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (typeof n != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
var xs = 32;
class pj extends rv {
  /**
   * Render the path of icon
   * @param data Data of each legend item
   * @param iconType if defined, it will always render this icon. If undefined then it uses icon from data.type
   * @return Path element
   */
  renderIcon(t, r) {
    var {
      inactiveColor: n
    } = this.props, s = xs / 2, i = xs / 6, o = xs / 3, a = t.inactive ? n : t.color, l = r ?? t.type;
    if (l === "none")
      return null;
    if (l === "plainline")
      return /* @__PURE__ */ _.createElement("line", {
        strokeWidth: 4,
        fill: "none",
        stroke: a,
        strokeDasharray: t.payload.strokeDasharray,
        x1: 0,
        y1: s,
        x2: xs,
        y2: s,
        className: "recharts-legend-icon"
      });
    if (l === "line")
      return /* @__PURE__ */ _.createElement("path", {
        strokeWidth: 4,
        fill: "none",
        stroke: a,
        d: "M0,".concat(s, "h").concat(o, `
            A`).concat(i, ",").concat(i, ",0,1,1,").concat(2 * o, ",").concat(s, `
            H`).concat(xs, "M").concat(2 * o, ",").concat(s, `
            A`).concat(i, ",").concat(i, ",0,1,1,").concat(o, ",").concat(s),
        className: "recharts-legend-icon"
      });
    if (l === "rect")
      return /* @__PURE__ */ _.createElement("path", {
        stroke: "none",
        fill: a,
        d: "M0,".concat(xs / 8, "h").concat(xs, "v").concat(xs * 3 / 4, "h").concat(-xs, "z"),
        className: "recharts-legend-icon"
      });
    if (/* @__PURE__ */ _.isValidElement(t.legendIcon)) {
      var c = Pde({}, t);
      return delete c.legendIcon, /* @__PURE__ */ _.cloneElement(t.legendIcon, c);
    }
    return /* @__PURE__ */ _.createElement(fj, {
      fill: a,
      cx: s,
      cy: s,
      size: xs,
      sizeType: "diameter",
      type: l
    });
  }
  /**
   * Draw items of legend
   * @return Items
   */
  renderItems() {
    var {
      payload: t,
      iconSize: r,
      layout: n,
      formatter: s,
      inactiveColor: i,
      iconType: o
    } = this.props, a = {
      x: 0,
      y: 0,
      width: xs,
      height: xs
    }, l = {
      display: n === "horizontal" ? "inline-block" : "block",
      marginRight: 10
    }, c = {
      display: "inline-block",
      verticalAlign: "middle",
      marginRight: 4
    };
    return t.map((d, f) => {
      var h = d.formatter || s, p = at({
        "recharts-legend-item": !0,
        ["legend-item-".concat(f)]: !0,
        inactive: d.inactive
      });
      if (d.type === "none")
        return null;
      var g = d.inactive ? i : d.color, m = h ? h(d.value, d, f) : d.value;
      return /* @__PURE__ */ _.createElement("li", R1({
        className: p,
        style: l,
        key: "legend-item-".concat(f)
      }, aj(this.props, d, f)), /* @__PURE__ */ _.createElement(lj, {
        width: r,
        height: r,
        viewBox: a,
        style: c,
        "aria-label": "".concat(m, " legend icon")
      }, this.renderIcon(d, o)), /* @__PURE__ */ _.createElement("span", {
        className: "recharts-legend-item-text",
        style: {
          color: g
        }
      }, m));
    });
  }
  render() {
    var {
      payload: t,
      layout: r,
      align: n
    } = this.props;
    if (!t || !t.length)
      return null;
    var s = {
      padding: 0,
      margin: 0,
      textAlign: r === "horizontal" ? n : "left"
    };
    return /* @__PURE__ */ _.createElement("ul", {
      className: "recharts-default-legend",
      style: s
    }, this.renderItems());
  }
}
hj(pj, "displayName", "Legend");
hj(pj, "defaultProps", {
  align: "center",
  iconSize: 14,
  inactiveColor: "#ccc",
  layout: "horizontal",
  verticalAlign: "middle"
});
var pF = {}, mF = {};
(function(e) {
  Object.defineProperty(e, Symbol.toStringTag, { value: "Module" });
  function t(r, n) {
    const s = /* @__PURE__ */ new Map();
    for (let i = 0; i < r.length; i++) {
      const o = r[i], a = n(o);
      s.has(a) || s.set(a, o);
    }
    return Array.from(s.values());
  }
  e.uniqBy = t;
})(mF);
var mj = {};
(function(e) {
  Object.defineProperty(e, Symbol.toStringTag, { value: "Module" });
  function t(r) {
    return r;
  }
  e.identity = t;
})(mj);
var gF = {}, Hv = {}, yF = {};
(function(e) {
  Object.defineProperty(e, Symbol.toStringTag, { value: "Module" });
  function t(r) {
    return Number.isSafeInteger(r) && r >= 0;
  }
  e.isLength = t;
})(yF);
(function(e) {
  Object.defineProperty(e, Symbol.toStringTag, { value: "Module" });
  const t = yF;
  function r(n) {
    return n != null && typeof n != "function" && t.isLength(n.length);
  }
  e.isArrayLike = r;
})(Hv);
var vF = {};
(function(e) {
  Object.defineProperty(e, Symbol.toStringTag, { value: "Module" });
  function t(r) {
    return typeof r == "object" && r !== null;
  }
  e.isObjectLike = t;
})(vF);
(function(e) {
  Object.defineProperty(e, Symbol.toStringTag, { value: "Module" });
  const t = Hv, r = vF;
  function n(s) {
    return r.isObjectLike(s) && t.isArrayLike(s);
  }
  e.isArrayLikeObject = n;
})(gF);
var bF = {}, xF = {};
(function(e) {
  Object.defineProperty(e, Symbol.toStringTag, { value: "Module" });
  const t = zv;
  function r(n) {
    return function(s) {
      return t.get(s, n);
    };
  }
  e.property = r;
})(xF);
var wF = {}, mx = {}, gx = {}, gj = {};
(function(e) {
  Object.defineProperty(e, Symbol.toStringTag, { value: "Module" });
  function t(r) {
    return r !== null && (typeof r == "object" || typeof r == "function");
  }
  e.isObject = t;
})(gj);
var yj = {};
(function(e) {
  Object.defineProperty(e, Symbol.toStringTag, { value: "Module" });
  function t(r) {
    return r == null || typeof r != "object" && typeof r != "function";
  }
  e.isPrimitive = t;
})(yj);
var Yv = {};
(function(e) {
  Object.defineProperty(e, Symbol.toStringTag, { value: "Module" });
  function t(r, n) {
    return r === n || Number.isNaN(r) && Number.isNaN(n);
  }
  e.eq = t;
})(Yv);
var ZP;
function $de() {
  return ZP || (ZP = 1, function(e) {
    Object.defineProperty(e, Symbol.toStringTag, { value: "Module" });
    const t = vj(), r = gj, n = yj, s = Yv;
    function i(f, h, p) {
      return typeof p != "function" ? t.isMatch(f, h) : o(f, h, function g(m, y, v, b, x, S) {
        const w = p(m, y, v, b, x, S);
        return w !== void 0 ? !!w : o(m, y, g, S);
      }, /* @__PURE__ */ new Map());
    }
    function o(f, h, p, g) {
      if (h === f)
        return !0;
      switch (typeof h) {
        case "object":
          return a(f, h, p, g);
        case "function":
          return Object.keys(h).length > 0 ? o(f, { ...h }, p, g) : s.eq(f, h);
        default:
          return r.isObject(f) ? typeof h == "string" ? h === "" : !0 : s.eq(f, h);
      }
    }
    function a(f, h, p, g) {
      if (h == null)
        return !0;
      if (Array.isArray(h))
        return c(f, h, p, g);
      if (h instanceof Map)
        return l(f, h, p, g);
      if (h instanceof Set)
        return d(f, h, p, g);
      const m = Object.keys(h);
      if (f == null)
        return m.length === 0;
      if (m.length === 0)
        return !0;
      if (g && g.has(h))
        return g.get(h) === f;
      g && g.set(h, f);
      try {
        for (let y = 0; y < m.length; y++) {
          const v = m[y];
          if (!n.isPrimitive(f) && !(v in f) || h[v] === void 0 && f[v] !== void 0 || h[v] === null && f[v] !== null || !p(f[v], h[v], v, f, h, g))
            return !1;
        }
        return !0;
      } finally {
        g && g.delete(h);
      }
    }
    function l(f, h, p, g) {
      if (h.size === 0)
        return !0;
      if (!(f instanceof Map))
        return !1;
      for (const [m, y] of h.entries()) {
        const v = f.get(m);
        if (p(v, y, m, f, h, g) === !1)
          return !1;
      }
      return !0;
    }
    function c(f, h, p, g) {
      if (h.length === 0)
        return !0;
      if (!Array.isArray(f))
        return !1;
      const m = /* @__PURE__ */ new Set();
      for (let y = 0; y < h.length; y++) {
        const v = h[y];
        let b = !1;
        for (let x = 0; x < f.length; x++) {
          if (m.has(x))
            continue;
          const S = f[x];
          let w = !1;
          if (p(S, v, y, f, h, g) && (w = !0), w) {
            m.add(x), b = !0;
            break;
          }
        }
        if (!b)
          return !1;
      }
      return !0;
    }
    function d(f, h, p, g) {
      return h.size === 0 ? !0 : f instanceof Set ? c([...f], [...h], p, g) : !1;
    }
    e.isMatchWith = i, e.isSetMatch = d;
  }(gx)), gx;
}
var XP;
function vj() {
  return XP || (XP = 1, function(e) {
    Object.defineProperty(e, Symbol.toStringTag, { value: "Module" });
    const t = $de();
    function r(n, s) {
      return t.isMatchWith(n, s, () => {
      });
    }
    e.isMatch = r;
  }(mx)), mx;
}
var _F = {}, bj = {}, xj = {};
(function(e) {
  Object.defineProperty(e, Symbol.toStringTag, { value: "Module" });
  function t(r) {
    return Object.getOwnPropertySymbols(r).filter((n) => Object.prototype.propertyIsEnumerable.call(r, n));
  }
  e.getSymbols = t;
})(xj);
var Gv = {};
(function(e) {
  Object.defineProperty(e, Symbol.toStringTag, { value: "Module" });
  function t(r) {
    return r == null ? r === void 0 ? "[object Undefined]" : "[object Null]" : Object.prototype.toString.call(r);
  }
  e.getTag = t;
})(Gv);
var Zv = {};
(function(e) {
  Object.defineProperty(e, Symbol.toStringTag, { value: "Module" });
  const t = "[object RegExp]", r = "[object String]", n = "[object Number]", s = "[object Boolean]", i = "[object Arguments]", o = "[object Symbol]", a = "[object Date]", l = "[object Map]", c = "[object Set]", d = "[object Array]", f = "[object Function]", h = "[object ArrayBuffer]", p = "[object Object]", g = "[object Error]", m = "[object DataView]", y = "[object Uint8Array]", v = "[object Uint8ClampedArray]", b = "[object Uint16Array]", x = "[object Uint32Array]", S = "[object BigUint64Array]", w = "[object Int8Array]", j = "[object Int16Array]", N = "[object Int32Array]", k = "[object BigInt64Array]", C = "[object Float32Array]", $ = "[object Float64Array]";
  e.argumentsTag = i, e.arrayBufferTag = h, e.arrayTag = d, e.bigInt64ArrayTag = k, e.bigUint64ArrayTag = S, e.booleanTag = s, e.dataViewTag = m, e.dateTag = a, e.errorTag = g, e.float32ArrayTag = C, e.float64ArrayTag = $, e.functionTag = f, e.int16ArrayTag = j, e.int32ArrayTag = N, e.int8ArrayTag = w, e.mapTag = l, e.numberTag = n, e.objectTag = p, e.regexpTag = t, e.setTag = c, e.stringTag = r, e.symbolTag = o, e.uint16ArrayTag = b, e.uint32ArrayTag = x, e.uint8ArrayTag = y, e.uint8ClampedArrayTag = v;
})(Zv);
var SF = {};
(function(e) {
  Object.defineProperty(e, Symbol.toStringTag, { value: "Module" });
  function t(r) {
    return ArrayBuffer.isView(r) && !(r instanceof DataView);
  }
  e.isTypedArray = t;
})(SF);
(function(e) {
  Object.defineProperty(e, Symbol.toStringTag, { value: "Module" });
  const t = xj, r = Gv, n = Zv, s = yj, i = SF;
  function o(d, f) {
    return a(d, void 0, d, /* @__PURE__ */ new Map(), f);
  }
  function a(d, f, h, p = /* @__PURE__ */ new Map(), g = void 0) {
    const m = g == null ? void 0 : g(d, f, h, p);
    if (m !== void 0)
      return m;
    if (s.isPrimitive(d))
      return d;
    if (p.has(d))
      return p.get(d);
    if (Array.isArray(d)) {
      const y = new Array(d.length);
      p.set(d, y);
      for (let v = 0; v < d.length; v++)
        y[v] = a(d[v], v, h, p, g);
      return Object.hasOwn(d, "index") && (y.index = d.index), Object.hasOwn(d, "input") && (y.input = d.input), y;
    }
    if (d instanceof Date)
      return new Date(d.getTime());
    if (d instanceof RegExp) {
      const y = new RegExp(d.source, d.flags);
      return y.lastIndex = d.lastIndex, y;
    }
    if (d instanceof Map) {
      const y = /* @__PURE__ */ new Map();
      p.set(d, y);
      for (const [v, b] of d)
        y.set(v, a(b, v, h, p, g));
      return y;
    }
    if (d instanceof Set) {
      const y = /* @__PURE__ */ new Set();
      p.set(d, y);
      for (const v of d)
        y.add(a(v, void 0, h, p, g));
      return y;
    }
    if (typeof Buffer < "u" && Buffer.isBuffer(d))
      return d.subarray();
    if (i.isTypedArray(d)) {
      const y = new (Object.getPrototypeOf(d)).constructor(d.length);
      p.set(d, y);
      for (let v = 0; v < d.length; v++)
        y[v] = a(d[v], v, h, p, g);
      return y;
    }
    if (d instanceof ArrayBuffer || typeof SharedArrayBuffer < "u" && d instanceof SharedArrayBuffer)
      return d.slice(0);
    if (d instanceof DataView) {
      const y = new DataView(d.buffer.slice(0), d.byteOffset, d.byteLength);
      return p.set(d, y), l(y, d, h, p, g), y;
    }
    if (typeof File < "u" && d instanceof File) {
      const y = new File([d], d.name, {
        type: d.type
      });
      return p.set(d, y), l(y, d, h, p, g), y;
    }
    if (d instanceof Blob) {
      const y = new Blob([d], { type: d.type });
      return p.set(d, y), l(y, d, h, p, g), y;
    }
    if (d instanceof Error) {
      const y = new d.constructor();
      return p.set(d, y), y.message = d.message, y.name = d.name, y.stack = d.stack, y.cause = d.cause, l(y, d, h, p, g), y;
    }
    if (typeof d == "object" && c(d)) {
      const y = Object.create(Object.getPrototypeOf(d));
      return p.set(d, y), l(y, d, h, p, g), y;
    }
    return d;
  }
  function l(d, f, h = d, p, g) {
    const m = [...Object.keys(f), ...t.getSymbols(f)];
    for (let y = 0; y < m.length; y++) {
      const v = m[y], b = Object.getOwnPropertyDescriptor(d, v);
      (b == null || b.writable) && (d[v] = a(f[v], v, h, p, g));
    }
  }
  function c(d) {
    switch (r.getTag(d)) {
      case n.argumentsTag:
      case n.arrayTag:
      case n.arrayBufferTag:
      case n.dataViewTag:
      case n.booleanTag:
      case n.dateTag:
      case n.float32ArrayTag:
      case n.float64ArrayTag:
      case n.int8ArrayTag:
      case n.int16ArrayTag:
      case n.int32ArrayTag:
      case n.mapTag:
      case n.numberTag:
      case n.objectTag:
      case n.regexpTag:
      case n.setTag:
      case n.stringTag:
      case n.symbolTag:
      case n.uint8ArrayTag:
      case n.uint8ClampedArrayTag:
      case n.uint16ArrayTag:
      case n.uint32ArrayTag:
        return !0;
      default:
        return !1;
    }
  }
  e.cloneDeepWith = o, e.cloneDeepWithImpl = a, e.copyProperties = l;
})(bj);
(function(e) {
  Object.defineProperty(e, Symbol.toStringTag, { value: "Module" });
  const t = bj;
  function r(n) {
    return t.cloneDeepWithImpl(n, void 0, n, /* @__PURE__ */ new Map(), void 0);
  }
  e.cloneDeep = r;
})(_F);
(function(e) {
  Object.defineProperty(e, Symbol.toStringTag, { value: "Module" });
  const t = vj(), r = _F;
  function n(s) {
    return s = r.cloneDeep(s), (i) => t.isMatch(i, s);
  }
  e.matches = n;
})(wF);
var EF = {}, jF = {}, NF = {};
(function(e) {
  Object.defineProperty(e, Symbol.toStringTag, { value: "Module" });
  const t = bj, r = Zv;
  function n(s, i) {
    return t.cloneDeepWith(s, (o, a, l, c) => {
      const d = i == null ? void 0 : i(o, a, l, c);
      if (d !== void 0)
        return d;
      if (typeof s == "object")
        switch (Object.prototype.toString.call(s)) {
          case r.numberTag:
          case r.stringTag:
          case r.booleanTag: {
            const f = new s.constructor(s == null ? void 0 : s.valueOf());
            return t.copyProperties(f, s), f;
          }
          case r.argumentsTag: {
            const f = {};
            return t.copyProperties(f, s), f.length = s.length, f[Symbol.iterator] = s[Symbol.iterator], f;
          }
          default:
            return;
        }
    });
  }
  e.cloneDeepWith = n;
})(NF);
(function(e) {
  Object.defineProperty(e, Symbol.toStringTag, { value: "Module" });
  const t = NF;
  function r(n) {
    return t.cloneDeepWith(n);
  }
  e.cloneDeep = r;
})(jF);
var kF = {}, wj = {};
(function(e) {
  Object.defineProperty(e, Symbol.toStringTag, { value: "Module" });
  const t = /^(?:0|[1-9]\d*)$/;
  function r(n, s = Number.MAX_SAFE_INTEGER) {
    switch (typeof n) {
      case "number":
        return Number.isInteger(n) && n >= 0 && n < s;
      case "symbol":
        return !1;
      case "string":
        return t.test(n);
    }
  }
  e.isIndex = r;
})(wj);
var CF = {};
(function(e) {
  Object.defineProperty(e, Symbol.toStringTag, { value: "Module" });
  const t = Gv;
  function r(n) {
    return n !== null && typeof n == "object" && t.getTag(n) === "[object Arguments]";
  }
  e.isArguments = r;
})(CF);
(function(e) {
  Object.defineProperty(e, Symbol.toStringTag, { value: "Module" });
  const t = nj, r = wj, n = CF, s = Uv;
  function i(o, a) {
    let l;
    if (Array.isArray(a) ? l = a : typeof a == "string" && t.isDeepKey(a) && (o == null ? void 0 : o[a]) == null ? l = s.toPath(a) : l = [a], l.length === 0)
      return !1;
    let c = o;
    for (let d = 0; d < l.length; d++) {
      const f = l[d];
      if ((c == null || !Object.hasOwn(c, f)) && !((Array.isArray(c) || n.isArguments(c)) && r.isIndex(f) && f < c.length))
        return !1;
      c = c[f];
    }
    return !0;
  }
  e.has = i;
})(kF);
(function(e) {
  Object.defineProperty(e, Symbol.toStringTag, { value: "Module" });
  const t = vj(), r = sj, n = jF, s = zv, i = kF;
  function o(a, l) {
    switch (typeof a) {
      case "object": {
        Object.is(a == null ? void 0 : a.valueOf(), -0) && (a = "-0");
        break;
      }
      case "number": {
        a = r.toKey(a);
        break;
      }
    }
    return l = n.cloneDeep(l), function(c) {
      const d = s.get(c, a);
      return d === void 0 ? i.has(c, a) : l === void 0 ? d === void 0 : t.isMatch(d, l);
    };
  }
  e.matchesProperty = o;
})(EF);
(function(e) {
  Object.defineProperty(e, Symbol.toStringTag, { value: "Module" });
  const t = mj, r = xF, n = wF, s = EF;
  function i(o) {
    if (o == null)
      return t.identity;
    switch (typeof o) {
      case "function":
        return o;
      case "object":
        return Array.isArray(o) && o.length === 2 ? s.matchesProperty(o[0], o[1]) : n.matches(o);
      case "string":
      case "symbol":
      case "number":
        return r.property(o);
    }
  }
  e.iteratee = i;
})(bF);
(function(e) {
  Object.defineProperty(e, Symbol.toStringTag, { value: "Module" });
  const t = mF, r = mj, n = gF, s = bF;
  function i(o, a = r.identity) {
    return n.isArrayLikeObject(o) ? t.uniqBy(Array.from(o), s.iteratee(a)) : [];
  }
  e.uniqBy = i;
})(pF);
var Rde = pF.uniqBy;
const JP = /* @__PURE__ */ bi(Rde);
function TF(e, t, r) {
  return t === !0 ? JP(e, r) : typeof t == "function" ? JP(e, t) : e;
}
var I1 = { exports: {} }, yx = {}, km = { exports: {} }, vx = {};
/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var QP;
function Ide() {
  if (QP) return vx;
  QP = 1;
  var e = ge;
  function t(f, h) {
    return f === h && (f !== 0 || 1 / f === 1 / h) || f !== f && h !== h;
  }
  var r = typeof Object.is == "function" ? Object.is : t, n = e.useState, s = e.useEffect, i = e.useLayoutEffect, o = e.useDebugValue;
  function a(f, h) {
    var p = h(), g = n({ inst: { value: p, getSnapshot: h } }), m = g[0].inst, y = g[1];
    return i(
      function() {
        m.value = p, m.getSnapshot = h, l(m) && y({ inst: m });
      },
      [f, p, h]
    ), s(
      function() {
        return l(m) && y({ inst: m }), f(function() {
          l(m) && y({ inst: m });
        });
      },
      [f]
    ), o(p), p;
  }
  function l(f) {
    var h = f.getSnapshot;
    f = f.value;
    try {
      var p = h();
      return !r(f, p);
    } catch {
      return !0;
    }
  }
  function c(f, h) {
    return h();
  }
  var d = typeof window > "u" || typeof window.document > "u" || typeof window.document.createElement > "u" ? c : a;
  return vx.useSyncExternalStore = e.useSyncExternalStore !== void 0 ? e.useSyncExternalStore : d, vx;
}
var bx = {};
/**
 * @license React
 * use-sync-external-store-shim.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var eO;
function Mde() {
  return eO || (eO = 1, process.env.NODE_ENV !== "production" && function() {
    function e(p, g) {
      return p === g && (p !== 0 || 1 / p === 1 / g) || p !== p && g !== g;
    }
    function t(p, g) {
      d || s.startTransition === void 0 || (d = !0, console.error(
        "You are using an outdated, pre-release alpha of React 18 that does not support useSyncExternalStore. The use-sync-external-store shim will not work correctly. Upgrade to a newer pre-release."
      ));
      var m = g();
      if (!f) {
        var y = g();
        i(m, y) || (console.error(
          "The result of getSnapshot should be cached to avoid an infinite loop"
        ), f = !0);
      }
      y = o({
        inst: { value: m, getSnapshot: g }
      });
      var v = y[0].inst, b = y[1];
      return l(
        function() {
          v.value = m, v.getSnapshot = g, r(v) && b({ inst: v });
        },
        [p, m, g]
      ), a(
        function() {
          return r(v) && b({ inst: v }), p(function() {
            r(v) && b({ inst: v });
          });
        },
        [p]
      ), c(m), m;
    }
    function r(p) {
      var g = p.getSnapshot;
      p = p.value;
      try {
        var m = g();
        return !i(p, m);
      } catch {
        return !0;
      }
    }
    function n(p, g) {
      return g();
    }
    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ < "u" && typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart == "function" && __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());
    var s = ge, i = typeof Object.is == "function" ? Object.is : e, o = s.useState, a = s.useEffect, l = s.useLayoutEffect, c = s.useDebugValue, d = !1, f = !1, h = typeof window > "u" || typeof window.document > "u" || typeof window.document.createElement > "u" ? n : t;
    bx.useSyncExternalStore = s.useSyncExternalStore !== void 0 ? s.useSyncExternalStore : h, typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ < "u" && typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop == "function" && __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error());
  }()), bx;
}
var tO;
function AF() {
  return tO || (tO = 1, process.env.NODE_ENV === "production" ? km.exports = Ide() : km.exports = Mde()), km.exports;
}
/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var rO;
function Lde() {
  if (rO) return yx;
  rO = 1;
  var e = ge, t = AF();
  function r(c, d) {
    return c === d && (c !== 0 || 1 / c === 1 / d) || c !== c && d !== d;
  }
  var n = typeof Object.is == "function" ? Object.is : r, s = t.useSyncExternalStore, i = e.useRef, o = e.useEffect, a = e.useMemo, l = e.useDebugValue;
  return yx.useSyncExternalStoreWithSelector = function(c, d, f, h, p) {
    var g = i(null);
    if (g.current === null) {
      var m = { hasValue: !1, value: null };
      g.current = m;
    } else m = g.current;
    g = a(
      function() {
        function v(j) {
          if (!b) {
            if (b = !0, x = j, j = h(j), p !== void 0 && m.hasValue) {
              var N = m.value;
              if (p(N, j))
                return S = N;
            }
            return S = j;
          }
          if (N = S, n(x, j)) return N;
          var k = h(j);
          return p !== void 0 && p(N, k) ? (x = j, N) : (x = j, S = k);
        }
        var b = !1, x, S, w = f === void 0 ? null : f;
        return [
          function() {
            return v(d());
          },
          w === null ? void 0 : function() {
            return v(w());
          }
        ];
      },
      [d, f, h, p]
    );
    var y = s(c, g[0], g[1]);
    return o(
      function() {
        m.hasValue = !0, m.value = y;
      },
      [y]
    ), l(y), y;
  }, yx;
}
var xx = {};
/**
 * @license React
 * use-sync-external-store-shim/with-selector.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var nO;
function Fde() {
  return nO || (nO = 1, process.env.NODE_ENV !== "production" && function() {
    function e(c, d) {
      return c === d && (c !== 0 || 1 / c === 1 / d) || c !== c && d !== d;
    }
    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ < "u" && typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart == "function" && __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());
    var t = ge, r = AF(), n = typeof Object.is == "function" ? Object.is : e, s = r.useSyncExternalStore, i = t.useRef, o = t.useEffect, a = t.useMemo, l = t.useDebugValue;
    xx.useSyncExternalStoreWithSelector = function(c, d, f, h, p) {
      var g = i(null);
      if (g.current === null) {
        var m = { hasValue: !1, value: null };
        g.current = m;
      } else m = g.current;
      g = a(
        function() {
          function v(j) {
            if (!b) {
              if (b = !0, x = j, j = h(j), p !== void 0 && m.hasValue) {
                var N = m.value;
                if (p(N, j))
                  return S = N;
              }
              return S = j;
            }
            if (N = S, n(x, j))
              return N;
            var k = h(j);
            return p !== void 0 && p(N, k) ? (x = j, N) : (x = j, S = k);
          }
          var b = !1, x, S, w = f === void 0 ? null : f;
          return [
            function() {
              return v(d());
            },
            w === null ? void 0 : function() {
              return v(w());
            }
          ];
        },
        [d, f, h, p]
      );
      var y = s(c, g[0], g[1]);
      return o(
        function() {
          m.hasValue = !0, m.value = y;
        },
        [y]
      ), l(y), y;
    }, typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ < "u" && typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop == "function" && __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error());
  }()), xx;
}
process.env.NODE_ENV === "production" ? I1.exports = Lde() : I1.exports = Fde();
var Bde = I1.exports, _j = /* @__PURE__ */ dr(null), zde = (e) => e, nr = () => {
  var e = Dt(_j);
  return e ? e.store.dispatch : zde;
}, hg = () => {
}, Ude = () => hg, qde = (e, t) => e === t;
function Me(e) {
  var t = Dt(_j);
  return Bde.useSyncExternalStoreWithSelector(t ? t.subscription.addNestedSub : Ude, t ? t.store.getState : hg, t ? t.store.getState : hg, t ? e : hg, qde);
}
var Vde = (e, t, r) => {
  if (t.length === 1 && t[0] === r) {
    let n = !1;
    try {
      const s = {};
      e(s) === s && (n = !0);
    } catch {
    }
    if (n) {
      let s;
      try {
        throw new Error();
      } catch (i) {
        ({ stack: s } = i);
      }
      console.warn(
        `The result function returned its own inputs without modification. e.g
\`createSelector([state => state.todos], todos => todos)\`
This could lead to inefficient memoization and unnecessary re-renders.
Ensure transformation logic is in the result function, and extraction logic is in the input selectors.`,
        { stack: s }
      );
    }
  }
}, Wde = (e, t, r) => {
  const { memoize: n, memoizeOptions: s } = t, { inputSelectorResults: i, inputSelectorResultsCopy: o } = e, a = n(() => ({}), ...s);
  if (!(a.apply(null, i) === a.apply(null, o))) {
    let c;
    try {
      throw new Error();
    } catch (d) {
      ({ stack: c } = d);
    }
    console.warn(
      `An input selector returned a different result when passed same arguments.
This means your output selector will likely run more frequently than intended.
Avoid returning a new reference inside your input selector, e.g.
\`createSelector([state => state.todos.map(todo => todo.id)], todoIds => todoIds.length)\``,
      {
        arguments: r,
        firstInputs: i,
        secondInputs: o,
        stack: c
      }
    );
  }
}, Kde = {
  inputStabilityCheck: "once",
  identityFunctionCheck: "once"
};
function Hde(e, t = `expected a function, instead received ${typeof e}`) {
  if (typeof e != "function")
    throw new TypeError(t);
}
function Yde(e, t = `expected an object, instead received ${typeof e}`) {
  if (typeof e != "object")
    throw new TypeError(t);
}
function Gde(e, t = "expected all items to be functions, instead received the following types: ") {
  if (!e.every((r) => typeof r == "function")) {
    const r = e.map(
      (n) => typeof n == "function" ? `function ${n.name || "unnamed"}()` : typeof n
    ).join(", ");
    throw new TypeError(`${t}[${r}]`);
  }
}
var sO = (e) => Array.isArray(e) ? e : [e];
function Zde(e) {
  const t = Array.isArray(e[0]) ? e[0] : e;
  return Gde(
    t,
    "createSelector expects all input-selectors to be functions, but received the following types: "
  ), t;
}
function iO(e, t) {
  const r = [], { length: n } = e;
  for (let s = 0; s < n; s++)
    r.push(e[s].apply(null, t));
  return r;
}
var Xde = (e, t) => {
  const { identityFunctionCheck: r, inputStabilityCheck: n } = {
    ...Kde,
    ...t
  };
  return {
    identityFunctionCheck: {
      shouldRun: r === "always" || r === "once" && e,
      run: Vde
    },
    inputStabilityCheck: {
      shouldRun: n === "always" || n === "once" && e,
      run: Wde
    }
  };
}, Jde = class {
  constructor(e) {
    this.value = e;
  }
  deref() {
    return this.value;
  }
}, Qde = typeof WeakRef < "u" ? WeakRef : Jde, efe = 0, oO = 1;
function Cm() {
  return {
    s: efe,
    v: void 0,
    o: null,
    p: null
  };
}
function PF(e, t = {}) {
  let r = Cm();
  const { resultEqualityCheck: n } = t;
  let s, i = 0;
  function o() {
    var f;
    let a = r;
    const { length: l } = arguments;
    for (let h = 0, p = l; h < p; h++) {
      const g = arguments[h];
      if (typeof g == "function" || typeof g == "object" && g !== null) {
        let m = a.o;
        m === null && (a.o = m = /* @__PURE__ */ new WeakMap());
        const y = m.get(g);
        y === void 0 ? (a = Cm(), m.set(g, a)) : a = y;
      } else {
        let m = a.p;
        m === null && (a.p = m = /* @__PURE__ */ new Map());
        const y = m.get(g);
        y === void 0 ? (a = Cm(), m.set(g, a)) : a = y;
      }
    }
    const c = a;
    let d;
    if (a.s === oO)
      d = a.v;
    else if (d = e.apply(null, arguments), i++, n) {
      const h = ((f = s == null ? void 0 : s.deref) == null ? void 0 : f.call(s)) ?? s;
      h != null && n(h, d) && (d = h, i !== 0 && i--), s = typeof d == "object" && d !== null || typeof d == "function" ? new Qde(d) : d;
    }
    return c.s = oO, c.v = d, d;
  }
  return o.clearCache = () => {
    r = Cm(), o.resetResultsCount();
  }, o.resultsCount = () => i, o.resetResultsCount = () => {
    i = 0;
  }, o;
}
function tfe(e, ...t) {
  const r = typeof e == "function" ? {
    memoize: e,
    memoizeOptions: t
  } : e, n = (...s) => {
    let i = 0, o = 0, a, l = {}, c = s.pop();
    typeof c == "object" && (l = c, c = s.pop()), Hde(
      c,
      `createSelector expects an output function after the inputs, but received: [${typeof c}]`
    );
    const d = {
      ...r,
      ...l
    }, {
      memoize: f,
      memoizeOptions: h = [],
      argsMemoize: p = PF,
      argsMemoizeOptions: g = [],
      devModeChecks: m = {}
    } = d, y = sO(h), v = sO(g), b = Zde(s), x = f(function() {
      return i++, c.apply(
        null,
        arguments
      );
    }, ...y);
    let S = !0;
    const w = p(function() {
      o++;
      const N = iO(
        b,
        arguments
      );
      if (a = x.apply(null, N), process.env.NODE_ENV !== "production") {
        const { identityFunctionCheck: k, inputStabilityCheck: C } = Xde(S, m);
        if (k.shouldRun && k.run(
          c,
          N,
          a
        ), C.shouldRun) {
          const $ = iO(
            b,
            arguments
          );
          C.run(
            { inputSelectorResults: N, inputSelectorResultsCopy: $ },
            { memoize: f, memoizeOptions: y },
            arguments
          );
        }
        S && (S = !1);
      }
      return a;
    }, ...v);
    return Object.assign(w, {
      resultFunc: c,
      memoizedResultFunc: x,
      dependencies: b,
      dependencyRecomputations: () => o,
      resetDependencyRecomputations: () => {
        o = 0;
      },
      lastResult: () => a,
      recomputations: () => i,
      resetRecomputations: () => {
        i = 0;
      },
      memoize: f,
      argsMemoize: p
    });
  };
  return Object.assign(n, {
    withTypes: () => n
  }), n;
}
var Q = /* @__PURE__ */ tfe(PF), rfe = Object.assign(
  (e, t = Q) => {
    Yde(
      e,
      `createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`
    );
    const r = Object.keys(e), n = r.map(
      (i) => e[i]
    );
    return t(
      n,
      (...i) => i.reduce((o, a, l) => (o[r[l]] = a, o), {})
    );
  },
  { withTypes: () => rfe }
), OF = {}, DF = {}, $F = {};
(function(e) {
  Object.defineProperty(e, Symbol.toStringTag, { value: "Module" });
  function t(n) {
    return typeof n == "symbol" ? 1 : n === null ? 2 : n === void 0 ? 3 : n !== n ? 4 : 0;
  }
  const r = (n, s, i) => {
    if (n !== s) {
      const o = t(n), a = t(s);
      if (o === a && o === 0) {
        if (n < s)
          return i === "desc" ? 1 : -1;
        if (n > s)
          return i === "desc" ? -1 : 1;
      }
      return i === "desc" ? a - o : o - a;
    }
    return 0;
  };
  e.compareValues = r;
})($F);
var RF = {}, Sj = {};
(function(e) {
  Object.defineProperty(e, Symbol.toStringTag, { value: "Module" });
  function t(r) {
    return typeof r == "symbol" || r instanceof Symbol;
  }
  e.isSymbol = t;
})(Sj);
(function(e) {
  Object.defineProperty(e, Symbol.toStringTag, { value: "Module" });
  const t = Sj, r = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/, n = /^\w*$/;
  function s(i, o) {
    return Array.isArray(i) ? !1 : typeof i == "number" || typeof i == "boolean" || i == null || t.isSymbol(i) ? !0 : typeof i == "string" && (n.test(i) || !r.test(i)) || o != null && Object.hasOwn(o, i);
  }
  e.isKey = s;
})(RF);
(function(e) {
  Object.defineProperty(e, Symbol.toStringTag, { value: "Module" });
  const t = $F, r = RF, n = Uv;
  function s(i, o, a, l) {
    if (i == null)
      return [];
    a = l ? void 0 : a, Array.isArray(i) || (i = Object.values(i)), Array.isArray(o) || (o = o == null ? [null] : [o]), o.length === 0 && (o = [null]), Array.isArray(a) || (a = a == null ? [] : [a]), a = a.map((p) => String(p));
    const c = (p, g) => {
      let m = p;
      for (let y = 0; y < g.length && m != null; ++y)
        m = m[g[y]];
      return m;
    }, d = (p, g) => g == null || p == null ? g : typeof p == "object" && "key" in p ? Object.hasOwn(g, p.key) ? g[p.key] : c(g, p.path) : typeof p == "function" ? p(g) : Array.isArray(p) ? c(g, p) : typeof g == "object" ? g[p] : g, f = o.map((p) => (Array.isArray(p) && p.length === 1 && (p = p[0]), p == null || typeof p == "function" || Array.isArray(p) || r.isKey(p) ? p : { key: p, path: n.toPath(p) }));
    return i.map((p) => ({
      original: p,
      criteria: f.map((g) => d(g, p))
    })).slice().sort((p, g) => {
      for (let m = 0; m < f.length; m++) {
        const y = t.compareValues(p.criteria[m], g.criteria[m], a[m]);
        if (y !== 0)
          return y;
      }
      return 0;
    }).map((p) => p.original);
  }
  e.orderBy = s;
})(DF);
var IF = {};
(function(e) {
  Object.defineProperty(e, Symbol.toStringTag, { value: "Module" });
  function t(r, n = 1) {
    const s = [], i = Math.floor(n), o = (a, l) => {
      for (let c = 0; c < a.length; c++) {
        const d = a[c];
        Array.isArray(d) && l < i ? o(d, l + 1) : s.push(d);
      }
    };
    return o(r, 0), s;
  }
  e.flatten = t;
})(IF);
var Ej = {};
(function(e) {
  Object.defineProperty(e, Symbol.toStringTag, { value: "Module" });
  const t = wj, r = Hv, n = gj, s = Yv;
  function i(o, a, l) {
    return n.isObject(l) && (typeof a == "number" && r.isArrayLike(l) && t.isIndex(a) && a < l.length || typeof a == "string" && a in l) ? s.eq(l[a], o) : !1;
  }
  e.isIterateeCall = i;
})(Ej);
(function(e) {
  Object.defineProperty(e, Symbol.toStringTag, { value: "Module" });
  const t = DF, r = IF, n = Ej;
  function s(i, ...o) {
    const a = o.length;
    return a > 1 && n.isIterateeCall(i, o[0], o[1]) ? o = [] : a > 2 && n.isIterateeCall(o[0], o[1], o[2]) && (o = [o[0]]), t.orderBy(i, r.flatten(o), ["asc"]);
  }
  e.sortBy = s;
})(OF);
var nfe = OF.sortBy;
const Xv = /* @__PURE__ */ bi(nfe);
var MF = (e) => e.legend.settings, sfe = (e) => e.legend.size, ife = (e) => e.legend.payload, ofe = Q([ife, MF], (e, t) => {
  var {
    itemSorter: r
  } = t, n = e.flat(1);
  return r ? Xv(n, r) : n;
});
function afe() {
  return Me(ofe);
}
var Tm = 1;
function LF() {
  var e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [], [t, r] = L({
    height: 0,
    left: 0,
    top: 0,
    width: 0
  }), n = ze((s) => {
    if (s != null) {
      var i = s.getBoundingClientRect(), o = {
        height: i.height,
        left: i.left,
        top: i.top,
        width: i.width
      };
      (Math.abs(o.height - t.height) > Tm || Math.abs(o.left - t.left) > Tm || Math.abs(o.top - t.top) > Tm || Math.abs(o.width - t.width) > Tm) && r({
        height: o.height,
        left: o.left,
        top: o.top,
        width: o.width
      });
    }
  }, [t.width, t.height, t.top, t.left, ...e]);
  return [t, n];
}
function Jr(e) {
  return `Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `;
}
var lfe = typeof Symbol == "function" && Symbol.observable || "@@observable", aO = lfe, wx = () => Math.random().toString(36).substring(7).split("").join("."), cfe = {
  INIT: `@@redux/INIT${/* @__PURE__ */ wx()}`,
  REPLACE: `@@redux/REPLACE${/* @__PURE__ */ wx()}`,
  PROBE_UNKNOWN_ACTION: () => `@@redux/PROBE_UNKNOWN_ACTION${wx()}`
}, Gl = cfe;
function hp(e) {
  if (typeof e != "object" || e === null)
    return !1;
  let t = e;
  for (; Object.getPrototypeOf(t) !== null; )
    t = Object.getPrototypeOf(t);
  return Object.getPrototypeOf(e) === t || Object.getPrototypeOf(e) === null;
}
function ufe(e) {
  if (e === void 0)
    return "undefined";
  if (e === null)
    return "null";
  const t = typeof e;
  switch (t) {
    case "boolean":
    case "string":
    case "number":
    case "symbol":
    case "function":
      return t;
  }
  if (Array.isArray(e))
    return "array";
  if (hfe(e))
    return "date";
  if (ffe(e))
    return "error";
  const r = dfe(e);
  switch (r) {
    case "Symbol":
    case "Promise":
    case "WeakMap":
    case "WeakSet":
    case "Map":
    case "Set":
      return r;
  }
  return Object.prototype.toString.call(e).slice(8, -1).toLowerCase().replace(/\s/g, "");
}
function dfe(e) {
  return typeof e.constructor == "function" ? e.constructor.name : null;
}
function ffe(e) {
  return e instanceof Error || typeof e.message == "string" && e.constructor && typeof e.constructor.stackTraceLimit == "number";
}
function hfe(e) {
  return e instanceof Date ? !0 : typeof e.toDateString == "function" && typeof e.getDate == "function" && typeof e.setDate == "function";
}
function ja(e) {
  let t = typeof e;
  return process.env.NODE_ENV !== "production" && (t = ufe(e)), t;
}
function FF(e, t, r) {
  if (typeof e != "function")
    throw new Error(process.env.NODE_ENV === "production" ? Jr(2) : `Expected the root reducer to be a function. Instead, received: '${ja(e)}'`);
  if (typeof t == "function" && typeof r == "function" || typeof r == "function" && typeof arguments[3] == "function")
    throw new Error(process.env.NODE_ENV === "production" ? Jr(0) : "It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.");
  if (typeof t == "function" && typeof r > "u" && (r = t, t = void 0), typeof r < "u") {
    if (typeof r != "function")
      throw new Error(process.env.NODE_ENV === "production" ? Jr(1) : `Expected the enhancer to be a function. Instead, received: '${ja(r)}'`);
    return r(FF)(e, t);
  }
  let n = e, s = t, i = /* @__PURE__ */ new Map(), o = i, a = 0, l = !1;
  function c() {
    o === i && (o = /* @__PURE__ */ new Map(), i.forEach((y, v) => {
      o.set(v, y);
    }));
  }
  function d() {
    if (l)
      throw new Error(process.env.NODE_ENV === "production" ? Jr(3) : "You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");
    return s;
  }
  function f(y) {
    if (typeof y != "function")
      throw new Error(process.env.NODE_ENV === "production" ? Jr(4) : `Expected the listener to be a function. Instead, received: '${ja(y)}'`);
    if (l)
      throw new Error(process.env.NODE_ENV === "production" ? Jr(5) : "You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api/store#subscribelistener for more details.");
    let v = !0;
    c();
    const b = a++;
    return o.set(b, y), function() {
      if (v) {
        if (l)
          throw new Error(process.env.NODE_ENV === "production" ? Jr(6) : "You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api/store#subscribelistener for more details.");
        v = !1, c(), o.delete(b), i = null;
      }
    };
  }
  function h(y) {
    if (!hp(y))
      throw new Error(process.env.NODE_ENV === "production" ? Jr(7) : `Actions must be plain objects. Instead, the actual type was: '${ja(y)}'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.`);
    if (typeof y.type > "u")
      throw new Error(process.env.NODE_ENV === "production" ? Jr(8) : 'Actions may not have an undefined "type" property. You may have misspelled an action type string constant.');
    if (typeof y.type != "string")
      throw new Error(process.env.NODE_ENV === "production" ? Jr(17) : `Action "type" property must be a string. Instead, the actual type was: '${ja(y.type)}'. Value was: '${y.type}' (stringified)`);
    if (l)
      throw new Error(process.env.NODE_ENV === "production" ? Jr(9) : "Reducers may not dispatch actions.");
    try {
      l = !0, s = n(s, y);
    } finally {
      l = !1;
    }
    return (i = o).forEach((b) => {
      b();
    }), y;
  }
  function p(y) {
    if (typeof y != "function")
      throw new Error(process.env.NODE_ENV === "production" ? Jr(10) : `Expected the nextReducer to be a function. Instead, received: '${ja(y)}`);
    n = y, h({
      type: Gl.REPLACE
    });
  }
  function g() {
    const y = f;
    return {
      /**
       * The minimal observable subscription method.
       * @param observer Any object that can be used as an observer.
       * The observer object should have a `next` method.
       * @returns An object with an `unsubscribe` method that can
       * be used to unsubscribe the observable from the store, and prevent further
       * emission of values from the observable.
       */
      subscribe(v) {
        if (typeof v != "object" || v === null)
          throw new Error(process.env.NODE_ENV === "production" ? Jr(11) : `Expected the observer to be an object. Instead, received: '${ja(v)}'`);
        function b() {
          const S = v;
          S.next && S.next(d());
        }
        return b(), {
          unsubscribe: y(b)
        };
      },
      [aO]() {
        return this;
      }
    };
  }
  return h({
    type: Gl.INIT
  }), {
    dispatch: h,
    subscribe: f,
    getState: d,
    replaceReducer: p,
    [aO]: g
  };
}
function lO(e) {
  typeof console < "u" && typeof console.error == "function" && console.error(e);
  try {
    throw new Error(e);
  } catch {
  }
}
function pfe(e, t, r, n) {
  const s = Object.keys(t), i = r && r.type === Gl.INIT ? "preloadedState argument passed to createStore" : "previous state received by the reducer";
  if (s.length === 0)
    return "Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";
  if (!hp(e))
    return `The ${i} has unexpected type of "${ja(e)}". Expected argument to be an object with the following keys: "${s.join('", "')}"`;
  const o = Object.keys(e).filter((a) => !t.hasOwnProperty(a) && !n[a]);
  if (o.forEach((a) => {
    n[a] = !0;
  }), !(r && r.type === Gl.REPLACE) && o.length > 0)
    return `Unexpected ${o.length > 1 ? "keys" : "key"} "${o.join('", "')}" found in ${i}. Expected to find one of the known reducer keys instead: "${s.join('", "')}". Unexpected keys will be ignored.`;
}
function mfe(e) {
  Object.keys(e).forEach((t) => {
    const r = e[t];
    if (typeof r(void 0, {
      type: Gl.INIT
    }) > "u")
      throw new Error(process.env.NODE_ENV === "production" ? Jr(12) : `The slice reducer for key "${t}" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.`);
    if (typeof r(void 0, {
      type: Gl.PROBE_UNKNOWN_ACTION()
    }) > "u")
      throw new Error(process.env.NODE_ENV === "production" ? Jr(13) : `The slice reducer for key "${t}" returned undefined when probed with a random type. Don't try to handle '${Gl.INIT}' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.`);
  });
}
function BF(e) {
  const t = Object.keys(e), r = {};
  for (let o = 0; o < t.length; o++) {
    const a = t[o];
    process.env.NODE_ENV !== "production" && typeof e[a] > "u" && lO(`No reducer provided for key "${a}"`), typeof e[a] == "function" && (r[a] = e[a]);
  }
  const n = Object.keys(r);
  let s;
  process.env.NODE_ENV !== "production" && (s = {});
  let i;
  try {
    mfe(r);
  } catch (o) {
    i = o;
  }
  return function(a = {}, l) {
    if (i)
      throw i;
    if (process.env.NODE_ENV !== "production") {
      const f = pfe(a, r, l, s);
      f && lO(f);
    }
    let c = !1;
    const d = {};
    for (let f = 0; f < n.length; f++) {
      const h = n[f], p = r[h], g = a[h], m = p(g, l);
      if (typeof m > "u") {
        const y = l && l.type;
        throw new Error(process.env.NODE_ENV === "production" ? Jr(14) : `When called with an action of type ${y ? `"${String(y)}"` : "(unknown type)"}, the slice reducer for key "${h}" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.`);
      }
      d[h] = m, c = c || m !== g;
    }
    return c = c || n.length !== Object.keys(a).length, c ? d : a;
  };
}
function ny(...e) {
  return e.length === 0 ? (t) => t : e.length === 1 ? e[0] : e.reduce((t, r) => (...n) => t(r(...n)));
}
function gfe(...e) {
  return (t) => (r, n) => {
    const s = t(r, n);
    let i = () => {
      throw new Error(process.env.NODE_ENV === "production" ? Jr(15) : "Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.");
    };
    const o = {
      getState: s.getState,
      dispatch: (l, ...c) => i(l, ...c)
    }, a = e.map((l) => l(o));
    return i = ny(...a)(s.dispatch), {
      ...s,
      dispatch: i
    };
  };
}
function jj(e) {
  return hp(e) && "type" in e && typeof e.type == "string";
}
var zF = Symbol.for("immer-nothing"), cO = Symbol.for("immer-draftable"), ls = Symbol.for("immer-state"), yfe = process.env.NODE_ENV !== "production" ? [
  // All error codes, starting by 0:
  function(e) {
    return `The plugin for '${e}' has not been loaded into Immer. To enable the plugin, import and call \`enable${e}()\` when initializing your application.`;
  },
  function(e) {
    return `produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '${e}'`;
  },
  "This object has been frozen and should not be mutated",
  function(e) {
    return "Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? " + e;
  },
  "An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",
  "Immer forbids circular references",
  "The first or second argument to `produce` must be a function",
  "The third argument to `produce` must be a function or undefined",
  "First argument to `createDraft` must be a plain object, an array, or an immerable object",
  "First argument to `finishDraft` must be a draft returned by `createDraft`",
  function(e) {
    return `'current' expects a draft, got: ${e}`;
  },
  "Object.defineProperty() cannot be used on an Immer draft",
  "Object.setPrototypeOf() cannot be used on an Immer draft",
  "Immer only supports deleting array indices",
  "Immer only supports setting array indices and the 'length' property",
  function(e) {
    return `'original' expects a draft, got: ${e}`;
  }
  // Note: if more errors are added, the errorOffset in Patches.ts should be increased
  // See Patches.ts for additional errors
] : [];
function Bn(e, ...t) {
  if (process.env.NODE_ENV !== "production") {
    const r = yfe[e], n = typeof r == "function" ? r.apply(null, t) : r;
    throw new Error(`[Immer] ${n}`);
  }
  throw new Error(
    `[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`
  );
}
var Gu = Object.getPrototypeOf;
function lc(e) {
  return !!e && !!e[ls];
}
function qo(e) {
  var t;
  return e ? UF(e) || Array.isArray(e) || !!e[cO] || !!((t = e.constructor) != null && t[cO]) || Qv(e) || eb(e) : !1;
}
var vfe = Object.prototype.constructor.toString();
function UF(e) {
  if (!e || typeof e != "object")
    return !1;
  const t = Gu(e);
  if (t === null)
    return !0;
  const r = Object.hasOwnProperty.call(t, "constructor") && t.constructor;
  return r === Object ? !0 : typeof r == "function" && Function.toString.call(r) === vfe;
}
function sy(e, t) {
  Jv(e) === 0 ? Reflect.ownKeys(e).forEach((r) => {
    t(r, e[r], e);
  }) : e.forEach((r, n) => t(n, r, e));
}
function Jv(e) {
  const t = e[ls];
  return t ? t.type_ : Array.isArray(e) ? 1 : Qv(e) ? 2 : eb(e) ? 3 : 0;
}
function M1(e, t) {
  return Jv(e) === 2 ? e.has(t) : Object.prototype.hasOwnProperty.call(e, t);
}
function qF(e, t, r) {
  const n = Jv(e);
  n === 2 ? e.set(t, r) : n === 3 ? e.add(r) : e[t] = r;
}
function bfe(e, t) {
  return e === t ? e !== 0 || 1 / e === 1 / t : e !== e && t !== t;
}
function Qv(e) {
  return e instanceof Map;
}
function eb(e) {
  return e instanceof Set;
}
function Pl(e) {
  return e.copy_ || e.base_;
}
function L1(e, t) {
  if (Qv(e))
    return new Map(e);
  if (eb(e))
    return new Set(e);
  if (Array.isArray(e))
    return Array.prototype.slice.call(e);
  const r = UF(e);
  if (t === !0 || t === "class_only" && !r) {
    const n = Object.getOwnPropertyDescriptors(e);
    delete n[ls];
    let s = Reflect.ownKeys(n);
    for (let i = 0; i < s.length; i++) {
      const o = s[i], a = n[o];
      a.writable === !1 && (a.writable = !0, a.configurable = !0), (a.get || a.set) && (n[o] = {
        configurable: !0,
        writable: !0,
        // could live with !!desc.set as well here...
        enumerable: a.enumerable,
        value: e[o]
      });
    }
    return Object.create(Gu(e), n);
  } else {
    const n = Gu(e);
    if (n !== null && r)
      return { ...e };
    const s = Object.create(n);
    return Object.assign(s, e);
  }
}
function Nj(e, t = !1) {
  return tb(e) || lc(e) || !qo(e) || (Jv(e) > 1 && (e.set = e.add = e.clear = e.delete = xfe), Object.freeze(e), t && Object.entries(e).forEach(([r, n]) => Nj(n, !0))), e;
}
function xfe() {
  Bn(2);
}
function tb(e) {
  return Object.isFrozen(e);
}
var wfe = {};
function cc(e) {
  const t = wfe[e];
  return t || Bn(0, e), t;
}
var Sh;
function VF() {
  return Sh;
}
function _fe(e, t) {
  return {
    drafts_: [],
    parent_: e,
    immer_: t,
    // Whenever the modified draft contains a draft from another scope, we
    // need to prevent auto-freezing so the unowned draft can be finalized.
    canAutoFreeze_: !0,
    unfinalizedDrafts_: 0
  };
}
function uO(e, t) {
  t && (cc("Patches"), e.patches_ = [], e.inversePatches_ = [], e.patchListener_ = t);
}
function F1(e) {
  B1(e), e.drafts_.forEach(Sfe), e.drafts_ = null;
}
function B1(e) {
  e === Sh && (Sh = e.parent_);
}
function dO(e) {
  return Sh = _fe(Sh, e);
}
function Sfe(e) {
  const t = e[ls];
  t.type_ === 0 || t.type_ === 1 ? t.revoke_() : t.revoked_ = !0;
}
function fO(e, t) {
  t.unfinalizedDrafts_ = t.drafts_.length;
  const r = t.drafts_[0];
  return e !== void 0 && e !== r ? (r[ls].modified_ && (F1(t), Bn(4)), qo(e) && (e = iy(t, e), t.parent_ || oy(t, e)), t.patches_ && cc("Patches").generateReplacementPatches_(
    r[ls].base_,
    e,
    t.patches_,
    t.inversePatches_
  )) : e = iy(t, r, []), F1(t), t.patches_ && t.patchListener_(t.patches_, t.inversePatches_), e !== zF ? e : void 0;
}
function iy(e, t, r) {
  if (tb(t))
    return t;
  const n = t[ls];
  if (!n)
    return sy(
      t,
      (s, i) => hO(e, n, t, s, i, r)
    ), t;
  if (n.scope_ !== e)
    return t;
  if (!n.modified_)
    return oy(e, n.base_, !0), n.base_;
  if (!n.finalized_) {
    n.finalized_ = !0, n.scope_.unfinalizedDrafts_--;
    const s = n.copy_;
    let i = s, o = !1;
    n.type_ === 3 && (i = new Set(s), s.clear(), o = !0), sy(
      i,
      (a, l) => hO(e, n, s, a, l, r, o)
    ), oy(e, s, !1), r && e.patches_ && cc("Patches").generatePatches_(
      n,
      r,
      e.patches_,
      e.inversePatches_
    );
  }
  return n.copy_;
}
function hO(e, t, r, n, s, i, o) {
  if (process.env.NODE_ENV !== "production" && s === r && Bn(5), lc(s)) {
    const a = i && t && t.type_ !== 3 && // Set objects are atomic since they have no keys.
    !M1(t.assigned_, n) ? i.concat(n) : void 0, l = iy(e, s, a);
    if (qF(r, n, l), lc(l))
      e.canAutoFreeze_ = !1;
    else
      return;
  } else o && r.add(s);
  if (qo(s) && !tb(s)) {
    if (!e.immer_.autoFreeze_ && e.unfinalizedDrafts_ < 1)
      return;
    iy(e, s), (!t || !t.scope_.parent_) && typeof n != "symbol" && Object.prototype.propertyIsEnumerable.call(r, n) && oy(e, s);
  }
}
function oy(e, t, r = !1) {
  !e.parent_ && e.immer_.autoFreeze_ && e.canAutoFreeze_ && Nj(t, r);
}
function Efe(e, t) {
  const r = Array.isArray(e), n = {
    type_: r ? 1 : 0,
    // Track which produce call this is associated with.
    scope_: t ? t.scope_ : VF(),
    // True for both shallow and deep changes.
    modified_: !1,
    // Used during finalization.
    finalized_: !1,
    // Track which properties have been assigned (true) or deleted (false).
    assigned_: {},
    // The parent draft state.
    parent_: t,
    // The base state.
    base_: e,
    // The base proxy.
    draft_: null,
    // set below
    // The base copy with any updated values.
    copy_: null,
    // Called by the `produce` function.
    revoke_: null,
    isManual_: !1
  };
  let s = n, i = kj;
  r && (s = [n], i = Eh);
  const { revoke: o, proxy: a } = Proxy.revocable(s, i);
  return n.draft_ = a, n.revoke_ = o, a;
}
var kj = {
  get(e, t) {
    if (t === ls)
      return e;
    const r = Pl(e);
    if (!M1(r, t))
      return jfe(e, r, t);
    const n = r[t];
    return e.finalized_ || !qo(n) ? n : n === _x(e.base_, t) ? (Sx(e), e.copy_[t] = U1(n, e)) : n;
  },
  has(e, t) {
    return t in Pl(e);
  },
  ownKeys(e) {
    return Reflect.ownKeys(Pl(e));
  },
  set(e, t, r) {
    const n = WF(Pl(e), t);
    if (n != null && n.set)
      return n.set.call(e.draft_, r), !0;
    if (!e.modified_) {
      const s = _x(Pl(e), t), i = s == null ? void 0 : s[ls];
      if (i && i.base_ === r)
        return e.copy_[t] = r, e.assigned_[t] = !1, !0;
      if (bfe(r, s) && (r !== void 0 || M1(e.base_, t)))
        return !0;
      Sx(e), z1(e);
    }
    return e.copy_[t] === r && // special case: handle new props with value 'undefined'
    (r !== void 0 || t in e.copy_) || // special case: NaN
    Number.isNaN(r) && Number.isNaN(e.copy_[t]) || (e.copy_[t] = r, e.assigned_[t] = !0), !0;
  },
  deleteProperty(e, t) {
    return _x(e.base_, t) !== void 0 || t in e.base_ ? (e.assigned_[t] = !1, Sx(e), z1(e)) : delete e.assigned_[t], e.copy_ && delete e.copy_[t], !0;
  },
  // Note: We never coerce `desc.value` into an Immer draft, because we can't make
  // the same guarantee in ES5 mode.
  getOwnPropertyDescriptor(e, t) {
    const r = Pl(e), n = Reflect.getOwnPropertyDescriptor(r, t);
    return n && {
      writable: !0,
      configurable: e.type_ !== 1 || t !== "length",
      enumerable: n.enumerable,
      value: r[t]
    };
  },
  defineProperty() {
    Bn(11);
  },
  getPrototypeOf(e) {
    return Gu(e.base_);
  },
  setPrototypeOf() {
    Bn(12);
  }
}, Eh = {};
sy(kj, (e, t) => {
  Eh[e] = function() {
    return arguments[0] = arguments[0][0], t.apply(this, arguments);
  };
});
Eh.deleteProperty = function(e, t) {
  return process.env.NODE_ENV !== "production" && isNaN(parseInt(t)) && Bn(13), Eh.set.call(this, e, t, void 0);
};
Eh.set = function(e, t, r) {
  return process.env.NODE_ENV !== "production" && t !== "length" && isNaN(parseInt(t)) && Bn(14), kj.set.call(this, e[0], t, r, e[0]);
};
function _x(e, t) {
  const r = e[ls];
  return (r ? Pl(r) : e)[t];
}
function jfe(e, t, r) {
  var s;
  const n = WF(t, r);
  return n ? "value" in n ? n.value : (
    // This is a very special case, if the prop is a getter defined by the
    // prototype, we should invoke it with the draft as context!
    (s = n.get) == null ? void 0 : s.call(e.draft_)
  ) : void 0;
}
function WF(e, t) {
  if (!(t in e))
    return;
  let r = Gu(e);
  for (; r; ) {
    const n = Object.getOwnPropertyDescriptor(r, t);
    if (n)
      return n;
    r = Gu(r);
  }
}
function z1(e) {
  e.modified_ || (e.modified_ = !0, e.parent_ && z1(e.parent_));
}
function Sx(e) {
  e.copy_ || (e.copy_ = L1(
    e.base_,
    e.scope_.immer_.useStrictShallowCopy_
  ));
}
var Nfe = class {
  constructor(e) {
    this.autoFreeze_ = !0, this.useStrictShallowCopy_ = !1, this.produce = (t, r, n) => {
      if (typeof t == "function" && typeof r != "function") {
        const i = r;
        r = t;
        const o = this;
        return function(l = i, ...c) {
          return o.produce(l, (d) => r.call(this, d, ...c));
        };
      }
      typeof r != "function" && Bn(6), n !== void 0 && typeof n != "function" && Bn(7);
      let s;
      if (qo(t)) {
        const i = dO(this), o = U1(t, void 0);
        let a = !0;
        try {
          s = r(o), a = !1;
        } finally {
          a ? F1(i) : B1(i);
        }
        return uO(i, n), fO(s, i);
      } else if (!t || typeof t != "object") {
        if (s = r(t), s === void 0 && (s = t), s === zF && (s = void 0), this.autoFreeze_ && Nj(s, !0), n) {
          const i = [], o = [];
          cc("Patches").generateReplacementPatches_(t, s, i, o), n(i, o);
        }
        return s;
      } else
        Bn(1, t);
    }, this.produceWithPatches = (t, r) => {
      if (typeof t == "function")
        return (o, ...a) => this.produceWithPatches(o, (l) => t(l, ...a));
      let n, s;
      return [this.produce(t, r, (o, a) => {
        n = o, s = a;
      }), n, s];
    }, typeof (e == null ? void 0 : e.autoFreeze) == "boolean" && this.setAutoFreeze(e.autoFreeze), typeof (e == null ? void 0 : e.useStrictShallowCopy) == "boolean" && this.setUseStrictShallowCopy(e.useStrictShallowCopy);
  }
  createDraft(e) {
    qo(e) || Bn(8), lc(e) && (e = Do(e));
    const t = dO(this), r = U1(e, void 0);
    return r[ls].isManual_ = !0, B1(t), r;
  }
  finishDraft(e, t) {
    const r = e && e[ls];
    (!r || !r.isManual_) && Bn(9);
    const { scope_: n } = r;
    return uO(n, t), fO(void 0, n);
  }
  /**
   * Pass true to automatically freeze all copies created by Immer.
   *
   * By default, auto-freezing is enabled.
   */
  setAutoFreeze(e) {
    this.autoFreeze_ = e;
  }
  /**
   * Pass true to enable strict shallow copy.
   *
   * By default, immer does not copy the object descriptors such as getter, setter and non-enumrable properties.
   */
  setUseStrictShallowCopy(e) {
    this.useStrictShallowCopy_ = e;
  }
  applyPatches(e, t) {
    let r;
    for (r = t.length - 1; r >= 0; r--) {
      const s = t[r];
      if (s.path.length === 0 && s.op === "replace") {
        e = s.value;
        break;
      }
    }
    r > -1 && (t = t.slice(r + 1));
    const n = cc("Patches").applyPatches_;
    return lc(e) ? n(e, t) : this.produce(
      e,
      (s) => n(s, t)
    );
  }
};
function U1(e, t) {
  const r = Qv(e) ? cc("MapSet").proxyMap_(e, t) : eb(e) ? cc("MapSet").proxySet_(e, t) : Efe(e, t);
  return (t ? t.scope_ : VF()).drafts_.push(r), r;
}
function Do(e) {
  return lc(e) || Bn(10, e), KF(e);
}
function KF(e) {
  if (!qo(e) || tb(e))
    return e;
  const t = e[ls];
  let r;
  if (t) {
    if (!t.modified_)
      return t.base_;
    t.finalized_ = !0, r = L1(e, t.scope_.immer_.useStrictShallowCopy_);
  } else
    r = L1(e, !0);
  return sy(r, (n, s) => {
    qF(r, n, KF(s));
  }), t && (t.finalized_ = !1), r;
}
var cs = new Nfe(), HF = cs.produce;
cs.produceWithPatches.bind(
  cs
);
cs.setAutoFreeze.bind(cs);
cs.setUseStrictShallowCopy.bind(cs);
cs.applyPatches.bind(cs);
cs.createDraft.bind(cs);
cs.finishDraft.bind(cs);
function YF(e) {
  return ({ dispatch: r, getState: n }) => (s) => (i) => typeof i == "function" ? i(r, n, e) : s(i);
}
var kfe = YF(), Cfe = YF, Tfe = typeof window < "u" && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ : function() {
  if (arguments.length !== 0)
    return typeof arguments[0] == "object" ? ny : ny.apply(null, arguments);
}, Afe = (e) => e && typeof e.match == "function";
function Is(e, t) {
  function r(...n) {
    if (t) {
      let s = t(...n);
      if (!s)
        throw new Error(process.env.NODE_ENV === "production" ? vt(0) : "prepareAction did not return an object");
      return {
        type: e,
        payload: s.payload,
        ..."meta" in s && {
          meta: s.meta
        },
        ..."error" in s && {
          error: s.error
        }
      };
    }
    return {
      type: e,
      payload: n[0]
    };
  }
  return r.toString = () => `${e}`, r.type = e, r.match = (n) => jj(n) && n.type === e, r;
}
function Pfe(e) {
  return typeof e == "function" && "type" in e && // hasMatchFunction only wants Matchers but I don't see the point in rewriting it
  Afe(e);
}
function Ofe(e) {
  const t = e ? `${e}`.split("/") : [], r = t[t.length - 1] || "actionCreator";
  return `Detected an action creator with type "${e || "unknown"}" being dispatched. 
Make sure you're calling the action creator before dispatching, i.e. \`dispatch(${r}())\` instead of \`dispatch(${r})\`. This is necessary even if the action has no payload.`;
}
function Dfe(e = {}) {
  if (process.env.NODE_ENV === "production")
    return () => (r) => (n) => r(n);
  const {
    isActionCreator: t = Pfe
  } = e;
  return () => (r) => (n) => (t(n) && console.warn(Ofe(n.type)), r(n));
}
function GF(e, t) {
  let r = 0;
  return {
    measureTime(n) {
      const s = Date.now();
      try {
        return n();
      } finally {
        const i = Date.now();
        r += i - s;
      }
    },
    warnIfExceeded() {
      r > e && console.warn(`${t} took ${r}ms, which is more than the warning threshold of ${e}ms. 
If your state or actions are very large, you may want to disable the middleware as it might cause too much of a slowdown in development mode. See https://redux-toolkit.js.org/api/getDefaultMiddleware for instructions.
It is disabled in production builds, so you don't need to worry about that.`);
    }
  };
}
var ZF = class Tf extends Array {
  constructor(...t) {
    super(...t), Object.setPrototypeOf(this, Tf.prototype);
  }
  static get [Symbol.species]() {
    return Tf;
  }
  concat(...t) {
    return super.concat.apply(this, t);
  }
  prepend(...t) {
    return t.length === 1 && Array.isArray(t[0]) ? new Tf(...t[0].concat(this)) : new Tf(...t.concat(this));
  }
};
function pO(e) {
  return qo(e) ? HF(e, () => {
  }) : e;
}
function Am(e, t, r) {
  return e.has(t) ? e.get(t) : e.set(t, r(t)).get(t);
}
function $fe(e) {
  return typeof e != "object" || e == null || Object.isFrozen(e);
}
function Rfe(e, t, r) {
  const n = XF(e, t, r);
  return {
    detectMutations() {
      return JF(e, t, n, r);
    }
  };
}
function XF(e, t = [], r, n = "", s = /* @__PURE__ */ new Set()) {
  const i = {
    value: r
  };
  if (!e(r) && !s.has(r)) {
    s.add(r), i.children = {};
    for (const o in r) {
      const a = n ? n + "." + o : o;
      t.length && t.indexOf(a) !== -1 || (i.children[o] = XF(e, t, r[o], a));
    }
  }
  return i;
}
function JF(e, t = [], r, n, s = !1, i = "") {
  const o = r ? r.value : void 0, a = o === n;
  if (s && !a && !Number.isNaN(n))
    return {
      wasMutated: !0,
      path: i
    };
  if (e(o) || e(n))
    return {
      wasMutated: !1
    };
  const l = {};
  for (let d in r.children)
    l[d] = !0;
  for (let d in n)
    l[d] = !0;
  const c = t.length > 0;
  for (let d in l) {
    const f = i ? i + "." + d : d;
    if (c && t.some((g) => g instanceof RegExp ? g.test(f) : f === g))
      continue;
    const h = JF(e, t, r.children[d], n[d], a, f);
    if (h.wasMutated)
      return h;
  }
  return {
    wasMutated: !1
  };
}
function Ife(e = {}) {
  if (process.env.NODE_ENV === "production")
    return () => (t) => (r) => t(r);
  {
    let t = function(a, l, c, d) {
      return JSON.stringify(a, r(l, d), c);
    }, r = function(a, l) {
      let c = [], d = [];
      return l || (l = function(f, h) {
        return c[0] === h ? "[Circular ~]" : "[Circular ~." + d.slice(0, c.indexOf(h)).join(".") + "]";
      }), function(f, h) {
        if (c.length > 0) {
          var p = c.indexOf(this);
          ~p ? c.splice(p + 1) : c.push(this), ~p ? d.splice(p, 1 / 0, f) : d.push(f), ~c.indexOf(h) && (h = l.call(this, f, h));
        } else c.push(h);
        return a == null ? h : a.call(this, f, h);
      };
    }, {
      isImmutable: n = $fe,
      ignoredPaths: s,
      warnAfter: i = 32
    } = e;
    const o = Rfe.bind(null, n, s);
    return ({
      getState: a
    }) => {
      let l = a(), c = o(l), d;
      return (f) => (h) => {
        const p = GF(i, "ImmutableStateInvariantMiddleware");
        p.measureTime(() => {
          if (l = a(), d = c.detectMutations(), c = o(l), d.wasMutated)
            throw new Error(process.env.NODE_ENV === "production" ? vt(19) : `A state mutation was detected between dispatches, in the path '${d.path || ""}'.  This may cause incorrect behavior. (https://redux.js.org/style-guide/style-guide#do-not-mutate-state)`);
        });
        const g = f(h);
        return p.measureTime(() => {
          if (l = a(), d = c.detectMutations(), c = o(l), d.wasMutated)
            throw new Error(process.env.NODE_ENV === "production" ? vt(20) : `A state mutation was detected inside a dispatch, in the path: ${d.path || ""}. Take a look at the reducer(s) handling the action ${t(h)}. (https://redux.js.org/style-guide/style-guide#do-not-mutate-state)`);
        }), p.warnIfExceeded(), g;
      };
    };
  }
}
function QF(e) {
  const t = typeof e;
  return e == null || t === "string" || t === "boolean" || t === "number" || Array.isArray(e) || hp(e);
}
function q1(e, t = "", r = QF, n, s = [], i) {
  let o;
  if (!r(e))
    return {
      keyPath: t || "<root>",
      value: e
    };
  if (typeof e != "object" || e === null || i != null && i.has(e)) return !1;
  const a = n != null ? n(e) : Object.entries(e), l = s.length > 0;
  for (const [c, d] of a) {
    const f = t ? t + "." + c : c;
    if (!(l && s.some((p) => p instanceof RegExp ? p.test(f) : f === p))) {
      if (!r(d))
        return {
          keyPath: f,
          value: d
        };
      if (typeof d == "object" && (o = q1(d, f, r, n, s, i), o))
        return o;
    }
  }
  return i && e6(e) && i.add(e), !1;
}
function e6(e) {
  if (!Object.isFrozen(e)) return !1;
  for (const t of Object.values(e))
    if (!(typeof t != "object" || t === null) && !e6(t))
      return !1;
  return !0;
}
function Mfe(e = {}) {
  if (process.env.NODE_ENV === "production")
    return () => (t) => (r) => t(r);
  {
    const {
      isSerializable: t = QF,
      getEntries: r,
      ignoredActions: n = [],
      ignoredActionPaths: s = ["meta.arg", "meta.baseQueryMeta"],
      ignoredPaths: i = [],
      warnAfter: o = 32,
      ignoreState: a = !1,
      ignoreActions: l = !1,
      disableCache: c = !1
    } = e, d = !c && WeakSet ? /* @__PURE__ */ new WeakSet() : void 0;
    return (f) => (h) => (p) => {
      if (!jj(p))
        return h(p);
      const g = h(p), m = GF(o, "SerializableStateInvariantMiddleware");
      return !l && !(n.length && n.indexOf(p.type) !== -1) && m.measureTime(() => {
        const y = q1(p, "", t, r, s, d);
        if (y) {
          const {
            keyPath: v,
            value: b
          } = y;
          console.error(`A non-serializable value was detected in an action, in the path: \`${v}\`. Value:`, b, `
Take a look at the logic that dispatched this action: `, p, `
(See https://redux.js.org/faq/actions#why-should-type-be-a-string-or-at-least-serializable-why-should-my-action-types-be-constants)`, `
(To allow non-serializable values see: https://redux-toolkit.js.org/usage/usage-guide#working-with-non-serializable-data)`);
        }
      }), a || (m.measureTime(() => {
        const y = f.getState(), v = q1(y, "", t, r, i, d);
        if (v) {
          const {
            keyPath: b,
            value: x
          } = v;
          console.error(`A non-serializable value was detected in the state, in the path: \`${b}\`. Value:`, x, `
Take a look at the reducer(s) handling this action type: ${p.type}.
(See https://redux.js.org/faq/organizing-state#can-i-put-functions-promises-or-other-non-serializable-items-in-my-store-state)`);
        }
      }), m.warnIfExceeded()), g;
    };
  }
}
function Pm(e) {
  return typeof e == "boolean";
}
var Lfe = () => function(t) {
  const {
    thunk: r = !0,
    immutableCheck: n = !0,
    serializableCheck: s = !0,
    actionCreatorCheck: i = !0
  } = t ?? {};
  let o = new ZF();
  if (r && (Pm(r) ? o.push(kfe) : o.push(Cfe(r.extraArgument))), process.env.NODE_ENV !== "production") {
    if (n) {
      let a = {};
      Pm(n) || (a = n), o.unshift(Ife(a));
    }
    if (s) {
      let a = {};
      Pm(s) || (a = s), o.push(Mfe(a));
    }
    if (i) {
      let a = {};
      Pm(i) || (a = i), o.unshift(Dfe(a));
    }
  }
  return o;
}, Ffe = "RTK_autoBatch", mO = (e) => (t) => {
  setTimeout(t, e);
}, Bfe = (e = {
  type: "raf"
}) => (t) => (...r) => {
  const n = t(...r);
  let s = !0, i = !1, o = !1;
  const a = /* @__PURE__ */ new Set(), l = e.type === "tick" ? queueMicrotask : e.type === "raf" ? (
    // requestAnimationFrame won't exist in SSR environments. Fall back to a vague approximation just to keep from erroring.
    typeof window < "u" && window.requestAnimationFrame ? window.requestAnimationFrame : mO(10)
  ) : e.type === "callback" ? e.queueNotification : mO(e.timeout), c = () => {
    o = !1, i && (i = !1, a.forEach((d) => d()));
  };
  return Object.assign({}, n, {
    // Override the base `store.subscribe` method to keep original listeners
    // from running if we're delaying notifications
    subscribe(d) {
      const f = () => s && d(), h = n.subscribe(f);
      return a.add(d), () => {
        h(), a.delete(d);
      };
    },
    // Override the base `store.dispatch` method so that we can check actions
    // for the `shouldAutoBatch` flag and determine if batching is active
    dispatch(d) {
      var f;
      try {
        return s = !((f = d == null ? void 0 : d.meta) != null && f[Ffe]), i = !s, i && (o || (o = !0, l(c))), n.dispatch(d);
      } finally {
        s = !0;
      }
    }
  });
}, zfe = (e) => function(r) {
  const {
    autoBatch: n = !0
  } = r ?? {};
  let s = new ZF(e);
  return n && s.push(Bfe(typeof n == "object" ? n : void 0)), s;
};
function Ufe(e) {
  const t = Lfe(), {
    reducer: r = void 0,
    middleware: n,
    devTools: s = !0,
    duplicateMiddlewareCheck: i = !0,
    preloadedState: o = void 0,
    enhancers: a = void 0
  } = e || {};
  let l;
  if (typeof r == "function")
    l = r;
  else if (hp(r))
    l = BF(r);
  else
    throw new Error(process.env.NODE_ENV === "production" ? vt(1) : "`reducer` is a required argument, and must be a function or an object of functions that can be passed to combineReducers");
  if (process.env.NODE_ENV !== "production" && n && typeof n != "function")
    throw new Error(process.env.NODE_ENV === "production" ? vt(2) : "`middleware` field must be a callback");
  let c;
  if (typeof n == "function") {
    if (c = n(t), process.env.NODE_ENV !== "production" && !Array.isArray(c))
      throw new Error(process.env.NODE_ENV === "production" ? vt(3) : "when using a middleware builder function, an array of middleware must be returned");
  } else
    c = t();
  if (process.env.NODE_ENV !== "production" && c.some((m) => typeof m != "function"))
    throw new Error(process.env.NODE_ENV === "production" ? vt(4) : "each middleware provided to configureStore must be a function");
  if (process.env.NODE_ENV !== "production" && i) {
    let m = /* @__PURE__ */ new Set();
    c.forEach((y) => {
      if (m.has(y))
        throw new Error(process.env.NODE_ENV === "production" ? vt(42) : "Duplicate middleware references found when creating the store. Ensure that each middleware is only included once.");
      m.add(y);
    });
  }
  let d = ny;
  s && (d = Tfe({
    // Enable capture of stack traces for dispatched Redux actions
    trace: process.env.NODE_ENV !== "production",
    ...typeof s == "object" && s
  }));
  const f = gfe(...c), h = zfe(f);
  if (process.env.NODE_ENV !== "production" && a && typeof a != "function")
    throw new Error(process.env.NODE_ENV === "production" ? vt(5) : "`enhancers` field must be a callback");
  let p = typeof a == "function" ? a(h) : h();
  if (process.env.NODE_ENV !== "production" && !Array.isArray(p))
    throw new Error(process.env.NODE_ENV === "production" ? vt(6) : "`enhancers` callback must return an array");
  if (process.env.NODE_ENV !== "production" && p.some((m) => typeof m != "function"))
    throw new Error(process.env.NODE_ENV === "production" ? vt(7) : "each enhancer provided to configureStore must be a function");
  process.env.NODE_ENV !== "production" && c.length && !p.includes(f) && console.error("middlewares were provided, but middleware enhancer was not included in final enhancers - make sure to call `getDefaultEnhancers`");
  const g = d(...p);
  return FF(l, o, g);
}
function t6(e) {
  const t = {}, r = [];
  let n;
  const s = {
    addCase(i, o) {
      if (process.env.NODE_ENV !== "production") {
        if (r.length > 0)
          throw new Error(process.env.NODE_ENV === "production" ? vt(26) : "`builder.addCase` should only be called before calling `builder.addMatcher`");
        if (n)
          throw new Error(process.env.NODE_ENV === "production" ? vt(27) : "`builder.addCase` should only be called before calling `builder.addDefaultCase`");
      }
      const a = typeof i == "string" ? i : i.type;
      if (!a)
        throw new Error(process.env.NODE_ENV === "production" ? vt(28) : "`builder.addCase` cannot be called with an empty action type");
      if (a in t)
        throw new Error(process.env.NODE_ENV === "production" ? vt(29) : `\`builder.addCase\` cannot be called with two reducers for the same action type '${a}'`);
      return t[a] = o, s;
    },
    addMatcher(i, o) {
      if (process.env.NODE_ENV !== "production" && n)
        throw new Error(process.env.NODE_ENV === "production" ? vt(30) : "`builder.addMatcher` should only be called before calling `builder.addDefaultCase`");
      return r.push({
        matcher: i,
        reducer: o
      }), s;
    },
    addDefaultCase(i) {
      if (process.env.NODE_ENV !== "production" && n)
        throw new Error(process.env.NODE_ENV === "production" ? vt(31) : "`builder.addDefaultCase` can only be called once");
      return n = i, s;
    }
  };
  return e(s), [t, r, n];
}
function qfe(e) {
  return typeof e == "function";
}
function Vfe(e, t) {
  if (process.env.NODE_ENV !== "production" && typeof t == "object")
    throw new Error(process.env.NODE_ENV === "production" ? vt(8) : "The object notation for `createReducer` has been removed. Please use the 'builder callback' notation instead: https://redux-toolkit.js.org/api/createReducer");
  let [r, n, s] = t6(t), i;
  if (qfe(e))
    i = () => pO(e());
  else {
    const a = pO(e);
    i = () => a;
  }
  function o(a = i(), l) {
    let c = [r[l.type], ...n.filter(({
      matcher: d
    }) => d(l)).map(({
      reducer: d
    }) => d)];
    return c.filter((d) => !!d).length === 0 && (c = [s]), c.reduce((d, f) => {
      if (f)
        if (lc(d)) {
          const p = f(d, l);
          return p === void 0 ? d : p;
        } else {
          if (qo(d))
            return HF(d, (h) => f(h, l));
          {
            const h = f(d, l);
            if (h === void 0) {
              if (d === null)
                return d;
              throw Error("A case reducer on a non-draftable value must not return undefined");
            }
            return h;
          }
        }
      return d;
    }, a);
  }
  return o.getInitialState = i, o;
}
var Wfe = "ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW", Kfe = (e = 21) => {
  let t = "", r = e;
  for (; r--; )
    t += Wfe[Math.random() * 64 | 0];
  return t;
}, Hfe = /* @__PURE__ */ Symbol.for("rtk-slice-createasyncthunk");
function Yfe(e, t) {
  return `${e}/${t}`;
}
function Gfe({
  creators: e
} = {}) {
  var r;
  const t = (r = e == null ? void 0 : e.asyncThunk) == null ? void 0 : r[Hfe];
  return function(s) {
    const {
      name: i,
      reducerPath: o = i
    } = s;
    if (!i)
      throw new Error(process.env.NODE_ENV === "production" ? vt(11) : "`name` is a required option for createSlice");
    typeof process < "u" && process.env.NODE_ENV === "development" && s.initialState === void 0 && console.error("You must provide an `initialState` value that is not `undefined`. You may have misspelled `initialState`");
    const a = (typeof s.reducers == "function" ? s.reducers(Xfe()) : s.reducers) || {}, l = Object.keys(a), c = {
      sliceCaseReducersByName: {},
      sliceCaseReducersByType: {},
      actionCreators: {},
      sliceMatchers: []
    }, d = {
      addCase(S, w) {
        const j = typeof S == "string" ? S : S.type;
        if (!j)
          throw new Error(process.env.NODE_ENV === "production" ? vt(12) : "`context.addCase` cannot be called with an empty action type");
        if (j in c.sliceCaseReducersByType)
          throw new Error(process.env.NODE_ENV === "production" ? vt(13) : "`context.addCase` cannot be called with two reducers for the same action type: " + j);
        return c.sliceCaseReducersByType[j] = w, d;
      },
      addMatcher(S, w) {
        return c.sliceMatchers.push({
          matcher: S,
          reducer: w
        }), d;
      },
      exposeAction(S, w) {
        return c.actionCreators[S] = w, d;
      },
      exposeCaseReducer(S, w) {
        return c.sliceCaseReducersByName[S] = w, d;
      }
    };
    l.forEach((S) => {
      const w = a[S], j = {
        reducerName: S,
        type: Yfe(i, S),
        createNotation: typeof s.reducers == "function"
      };
      Qfe(w) ? the(j, w, d, t) : Jfe(j, w, d);
    });
    function f() {
      if (process.env.NODE_ENV !== "production" && typeof s.extraReducers == "object")
        throw new Error(process.env.NODE_ENV === "production" ? vt(14) : "The object notation for `createSlice.extraReducers` has been removed. Please use the 'builder callback' notation instead: https://redux-toolkit.js.org/api/createSlice");
      const [S = {}, w = [], j = void 0] = typeof s.extraReducers == "function" ? t6(s.extraReducers) : [s.extraReducers], N = {
        ...S,
        ...c.sliceCaseReducersByType
      };
      return Vfe(s.initialState, (k) => {
        for (let C in N)
          k.addCase(C, N[C]);
        for (let C of c.sliceMatchers)
          k.addMatcher(C.matcher, C.reducer);
        for (let C of w)
          k.addMatcher(C.matcher, C.reducer);
        j && k.addDefaultCase(j);
      });
    }
    const h = (S) => S, p = /* @__PURE__ */ new Map(), g = /* @__PURE__ */ new WeakMap();
    let m;
    function y(S, w) {
      return m || (m = f()), m(S, w);
    }
    function v() {
      return m || (m = f()), m.getInitialState();
    }
    function b(S, w = !1) {
      function j(k) {
        let C = k[S];
        if (typeof C > "u") {
          if (w)
            C = Am(g, j, v);
          else if (process.env.NODE_ENV !== "production")
            throw new Error(process.env.NODE_ENV === "production" ? vt(15) : "selectSlice returned undefined for an uninjected slice reducer");
        }
        return C;
      }
      function N(k = h) {
        const C = Am(p, w, () => /* @__PURE__ */ new WeakMap());
        return Am(C, k, () => {
          const $ = {};
          for (const [I, M] of Object.entries(s.selectors ?? {}))
            $[I] = Zfe(M, k, () => Am(g, k, v), w);
          return $;
        });
      }
      return {
        reducerPath: S,
        getSelectors: N,
        get selectors() {
          return N(j);
        },
        selectSlice: j
      };
    }
    const x = {
      name: i,
      reducer: y,
      actions: c.actionCreators,
      caseReducers: c.sliceCaseReducersByName,
      getInitialState: v,
      ...b(o),
      injectInto(S, {
        reducerPath: w,
        ...j
      } = {}) {
        const N = w ?? o;
        return S.inject({
          reducerPath: N,
          reducer: y
        }, j), {
          ...x,
          ...b(N, !0)
        };
      }
    };
    return x;
  };
}
function Zfe(e, t, r, n) {
  function s(i, ...o) {
    let a = t(i);
    if (typeof a > "u") {
      if (n)
        a = r();
      else if (process.env.NODE_ENV !== "production")
        throw new Error(process.env.NODE_ENV === "production" ? vt(16) : "selectState returned undefined for an uninjected slice reducer");
    }
    return e(a, ...o);
  }
  return s.unwrapped = e, s;
}
var us = /* @__PURE__ */ Gfe();
function Xfe() {
  function e(t, r) {
    return {
      _reducerDefinitionType: "asyncThunk",
      payloadCreator: t,
      ...r
    };
  }
  return e.withTypes = () => e, {
    reducer(t) {
      return Object.assign({
        // hack so the wrapping function has the same name as the original
        // we need to create a wrapper so the `reducerDefinitionType` is not assigned to the original
        [t.name](...r) {
          return t(...r);
        }
      }[t.name], {
        _reducerDefinitionType: "reducer"
        /* reducer */
      });
    },
    preparedReducer(t, r) {
      return {
        _reducerDefinitionType: "reducerWithPrepare",
        prepare: t,
        reducer: r
      };
    },
    asyncThunk: e
  };
}
function Jfe({
  type: e,
  reducerName: t,
  createNotation: r
}, n, s) {
  let i, o;
  if ("reducer" in n) {
    if (r && !ehe(n))
      throw new Error(process.env.NODE_ENV === "production" ? vt(17) : "Please use the `create.preparedReducer` notation for prepared action creators with the `create` notation.");
    i = n.reducer, o = n.prepare;
  } else
    i = n;
  s.addCase(e, i).exposeCaseReducer(t, i).exposeAction(t, o ? Is(e, o) : Is(e));
}
function Qfe(e) {
  return e._reducerDefinitionType === "asyncThunk";
}
function ehe(e) {
  return e._reducerDefinitionType === "reducerWithPrepare";
}
function the({
  type: e,
  reducerName: t
}, r, n, s) {
  if (!s)
    throw new Error(process.env.NODE_ENV === "production" ? vt(18) : "Cannot use `create.asyncThunk` in the built-in `createSlice`. Use `buildCreateSlice({ creators: { asyncThunk: asyncThunkCreator } })` to create a customised version of `createSlice`.");
  const {
    payloadCreator: i,
    fulfilled: o,
    pending: a,
    rejected: l,
    settled: c,
    options: d
  } = r, f = s(e, i, d);
  n.exposeAction(t, f), o && n.addCase(f.fulfilled, o), a && n.addCase(f.pending, a), l && n.addCase(f.rejected, l), c && n.addMatcher(f.settled, c), n.exposeCaseReducer(t, {
    fulfilled: o || Om,
    pending: a || Om,
    rejected: l || Om,
    settled: c || Om
  });
}
function Om() {
}
var rhe = "task", r6 = "listener", n6 = "completed", Cj = "cancelled", nhe = `task-${Cj}`, she = `task-${n6}`, V1 = `${r6}-${Cj}`, ihe = `${r6}-${n6}`, rb = class {
  constructor(e) {
    Ee(this, "name", "TaskAbortError");
    Ee(this, "message");
    this.code = e, this.message = `${rhe} ${Cj} (reason: ${e})`;
  }
}, Tj = (e, t) => {
  if (typeof e != "function")
    throw new TypeError(process.env.NODE_ENV === "production" ? vt(32) : `${t} is not a function`);
}, ay = () => {
}, s6 = (e, t = ay) => (e.catch(t), e), i6 = (e, t) => (e.addEventListener("abort", t, {
  once: !0
}), () => e.removeEventListener("abort", t)), Zl = (e, t) => {
  const r = e.signal;
  r.aborted || ("reason" in r || Object.defineProperty(r, "reason", {
    enumerable: !0,
    value: t,
    configurable: !0,
    writable: !0
  }), e.abort(t));
}, Xl = (e) => {
  if (e.aborted) {
    const {
      reason: t
    } = e;
    throw new rb(t);
  }
};
function o6(e, t) {
  let r = ay;
  return new Promise((n, s) => {
    const i = () => s(new rb(e.reason));
    if (e.aborted) {
      i();
      return;
    }
    r = i6(e, i), t.finally(() => r()).then(n, s);
  }).finally(() => {
    r = ay;
  });
}
var ohe = async (e, t) => {
  try {
    return await Promise.resolve(), {
      status: "ok",
      value: await e()
    };
  } catch (r) {
    return {
      status: r instanceof rb ? "cancelled" : "rejected",
      error: r
    };
  } finally {
    t == null || t();
  }
}, ly = (e) => (t) => s6(o6(e, t).then((r) => (Xl(e), r))), a6 = (e) => {
  const t = ly(e);
  return (r) => t(new Promise((n) => setTimeout(n, r)));
}, {
  assign: Eu
} = Object, gO = {}, pp = "listenerMiddleware", ahe = (e, t) => {
  const r = (n) => i6(e, () => Zl(n, e.reason));
  return (n, s) => {
    Tj(n, "taskExecutor");
    const i = new AbortController();
    r(i);
    const o = ohe(async () => {
      Xl(e), Xl(i.signal);
      const a = await n({
        pause: ly(i.signal),
        delay: a6(i.signal),
        signal: i.signal
      });
      return Xl(i.signal), a;
    }, () => Zl(i, she));
    return s != null && s.autoJoin && t.push(o.catch(ay)), {
      result: ly(e)(o),
      cancel() {
        Zl(i, nhe);
      }
    };
  };
}, lhe = (e, t) => {
  const r = async (n, s) => {
    Xl(t);
    let i = () => {
    };
    const a = [new Promise((l, c) => {
      let d = e({
        predicate: n,
        effect: (f, h) => {
          h.unsubscribe(), l([f, h.getState(), h.getOriginalState()]);
        }
      });
      i = () => {
        d(), c();
      };
    })];
    s != null && a.push(new Promise((l) => setTimeout(l, s, null)));
    try {
      const l = await o6(t, Promise.race(a));
      return Xl(t), l;
    } finally {
      i();
    }
  };
  return (n, s) => s6(r(n, s));
}, l6 = (e) => {
  let {
    type: t,
    actionCreator: r,
    matcher: n,
    predicate: s,
    effect: i
  } = e;
  if (t)
    s = Is(t).match;
  else if (r)
    t = r.type, s = r.match;
  else if (n)
    s = n;
  else if (!s) throw new Error(process.env.NODE_ENV === "production" ? vt(21) : "Creating or removing a listener requires one of the known fields for matching an action");
  return Tj(i, "options.listener"), {
    predicate: s,
    type: t,
    effect: i
  };
}, c6 = /* @__PURE__ */ Eu((e) => {
  const {
    type: t,
    predicate: r,
    effect: n
  } = l6(e);
  return {
    id: Kfe(),
    effect: n,
    type: t,
    predicate: r,
    pending: /* @__PURE__ */ new Set(),
    unsubscribe: () => {
      throw new Error(process.env.NODE_ENV === "production" ? vt(22) : "Unsubscribe not initialized");
    }
  };
}, {
  withTypes: () => c6
}), yO = (e, t) => {
  const {
    type: r,
    effect: n,
    predicate: s
  } = l6(t);
  return Array.from(e.values()).find((i) => (typeof r == "string" ? i.type === r : i.predicate === s) && i.effect === n);
}, W1 = (e) => {
  e.pending.forEach((t) => {
    Zl(t, V1);
  });
}, che = (e) => () => {
  e.forEach(W1), e.clear();
}, vO = (e, t, r) => {
  try {
    e(t, r);
  } catch (n) {
    setTimeout(() => {
      throw n;
    }, 0);
  }
}, u6 = /* @__PURE__ */ Eu(/* @__PURE__ */ Is(`${pp}/add`), {
  withTypes: () => u6
}), uhe = /* @__PURE__ */ Is(`${pp}/removeAll`), d6 = /* @__PURE__ */ Eu(/* @__PURE__ */ Is(`${pp}/remove`), {
  withTypes: () => d6
}), dhe = (...e) => {
  console.error(`${pp}/error`, ...e);
}, mp = (e = {}) => {
  const t = /* @__PURE__ */ new Map(), {
    extra: r,
    onError: n = dhe
  } = e;
  Tj(n, "onError");
  const s = (d) => (d.unsubscribe = () => t.delete(d.id), t.set(d.id, d), (f) => {
    d.unsubscribe(), f != null && f.cancelActive && W1(d);
  }), i = (d) => {
    const f = yO(t, d) ?? c6(d);
    return s(f);
  };
  Eu(i, {
    withTypes: () => i
  });
  const o = (d) => {
    const f = yO(t, d);
    return f && (f.unsubscribe(), d.cancelActive && W1(f)), !!f;
  };
  Eu(o, {
    withTypes: () => o
  });
  const a = async (d, f, h, p) => {
    const g = new AbortController(), m = lhe(i, g.signal), y = [];
    try {
      d.pending.add(g), await Promise.resolve(d.effect(
        f,
        // Use assign() rather than ... to avoid extra helper functions added to bundle
        Eu({}, h, {
          getOriginalState: p,
          condition: (v, b) => m(v, b).then(Boolean),
          take: m,
          delay: a6(g.signal),
          pause: ly(g.signal),
          extra: r,
          signal: g.signal,
          fork: ahe(g.signal, y),
          unsubscribe: d.unsubscribe,
          subscribe: () => {
            t.set(d.id, d);
          },
          cancelActiveListeners: () => {
            d.pending.forEach((v, b, x) => {
              v !== g && (Zl(v, V1), x.delete(v));
            });
          },
          cancel: () => {
            Zl(g, V1), d.pending.delete(g);
          },
          throwIfCancelled: () => {
            Xl(g.signal);
          }
        })
      ));
    } catch (v) {
      v instanceof rb || vO(n, v, {
        raisedBy: "effect"
      });
    } finally {
      await Promise.all(y), Zl(g, ihe), d.pending.delete(g);
    }
  }, l = che(t);
  return {
    middleware: (d) => (f) => (h) => {
      if (!jj(h))
        return f(h);
      if (u6.match(h))
        return i(h.payload);
      if (uhe.match(h)) {
        l();
        return;
      }
      if (d6.match(h))
        return o(h.payload);
      let p = d.getState();
      const g = () => {
        if (p === gO)
          throw new Error(process.env.NODE_ENV === "production" ? vt(23) : `${pp}: getOriginalState can only be called synchronously`);
        return p;
      };
      let m;
      try {
        if (m = f(h), t.size > 0) {
          const y = d.getState(), v = Array.from(t.values());
          for (const b of v) {
            let x = !1;
            try {
              x = b.predicate(h, y, p);
            } catch (S) {
              x = !1, vO(n, S, {
                raisedBy: "predicate"
              });
            }
            x && a(b, h, d, g);
          }
        }
      } finally {
        p = gO;
      }
      return m;
    },
    startListening: i,
    stopListening: o,
    clearListeners: l
  };
};
function vt(e) {
  return `Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `;
}
var fhe = {
  layoutType: "horizontal",
  width: 0,
  height: 0,
  margin: {
    top: 5,
    right: 5,
    bottom: 5,
    left: 5
  },
  scale: 1
}, f6 = us({
  name: "chartLayout",
  initialState: fhe,
  reducers: {
    setLayout(e, t) {
      e.layoutType = t.payload;
    },
    setChartSize(e, t) {
      e.width = t.payload.width, e.height = t.payload.height;
    },
    setMargin(e, t) {
      e.margin.top = t.payload.top, e.margin.right = t.payload.right, e.margin.bottom = t.payload.bottom, e.margin.left = t.payload.left;
    },
    setScale(e, t) {
      e.scale = t.payload;
    }
  }
}), {
  setMargin: hhe,
  setLayout: phe,
  setChartSize: mhe,
  setScale: ghe
} = f6.actions, yhe = f6.reducer;
function bO(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    t && (n = n.filter(function(s) {
      return Object.getOwnPropertyDescriptor(e, s).enumerable;
    })), r.push.apply(r, n);
  }
  return r;
}
function xO(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2 ? bO(Object(r), !0).forEach(function(n) {
      vhe(e, n, r[n]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : bO(Object(r)).forEach(function(n) {
      Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
    });
  }
  return e;
}
function vhe(e, t, r) {
  return (t = bhe(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e;
}
function bhe(e) {
  var t = xhe(e, "string");
  return typeof t == "symbol" ? t : t + "";
}
function xhe(e, t) {
  if (typeof e != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (typeof n != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
var cy = Math.PI / 180, whe = (e) => e * 180 / Math.PI, xr = (e, t, r, n) => ({
  x: e + Math.cos(-cy * n) * r,
  y: t + Math.sin(-cy * n) * r
}), h6 = function(t, r) {
  var n = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {
    top: 0,
    right: 0,
    bottom: 0,
    left: 0
  };
  return Math.min(Math.abs(t - (n.left || 0) - (n.right || 0)), Math.abs(r - (n.top || 0) - (n.bottom || 0))) / 2;
}, _he = (e, t) => {
  var {
    x: r,
    y: n
  } = e, {
    x: s,
    y: i
  } = t;
  return Math.sqrt((r - s) ** 2 + (n - i) ** 2);
}, She = (e, t) => {
  var {
    x: r,
    y: n
  } = e, {
    cx: s,
    cy: i
  } = t, o = _he({
    x: r,
    y: n
  }, {
    x: s,
    y: i
  });
  if (o <= 0)
    return {
      radius: o,
      angle: 0
    };
  var a = (r - s) / o, l = Math.acos(a);
  return n > i && (l = 2 * Math.PI - l), {
    radius: o,
    angle: whe(l),
    angleInRadian: l
  };
}, Ehe = (e) => {
  var {
    startAngle: t,
    endAngle: r
  } = e, n = Math.floor(t / 360), s = Math.floor(r / 360), i = Math.min(n, s);
  return {
    startAngle: t - i * 360,
    endAngle: r - i * 360
  };
}, jhe = (e, t) => {
  var {
    startAngle: r,
    endAngle: n
  } = t, s = Math.floor(r / 360), i = Math.floor(n / 360), o = Math.min(s, i);
  return e + o * 360;
}, Nhe = (e, t) => {
  var {
    x: r,
    y: n
  } = e, {
    radius: s,
    angle: i
  } = She({
    x: r,
    y: n
  }, t), {
    innerRadius: o,
    outerRadius: a
  } = t;
  if (s < o || s > a || s === 0)
    return null;
  var {
    startAngle: l,
    endAngle: c
  } = Ehe(t), d = i, f;
  if (l <= c) {
    for (; d > c; )
      d -= 360;
    for (; d < l; )
      d += 360;
    f = d >= l && d <= c;
  } else {
    for (; d > l; )
      d -= 360;
    for (; d < c; )
      d += 360;
    f = d >= c && d <= l;
  }
  return f ? xO(xO({}, t), {}, {
    radius: s,
    angle: jhe(d, t)
  }) : null;
};
function p6(e, t, r) {
  return Array.isArray(e) && e && t + r !== 0 ? e.slice(t, r + 1) : e;
}
function wO(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    t && (n = n.filter(function(s) {
      return Object.getOwnPropertyDescriptor(e, s).enumerable;
    })), r.push.apply(r, n);
  }
  return r;
}
function Ns(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2 ? wO(Object(r), !0).forEach(function(n) {
      khe(e, n, r[n]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : wO(Object(r)).forEach(function(n) {
      Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
    });
  }
  return e;
}
function khe(e, t, r) {
  return (t = Che(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e;
}
function Che(e) {
  var t = The(e, "string");
  return typeof t == "symbol" ? t : t + "";
}
function The(e, t) {
  if (typeof e != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (typeof n != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
function Vt(e, t, r) {
  return wr(e) || wr(t) ? r : Xi(t) ? Qa(e, t, r) : typeof t == "function" ? t(e) : r;
}
var Ahe = (e, t, r, n, s) => {
  var i, o = -1, a = (i = t == null ? void 0 : t.length) !== null && i !== void 0 ? i : 0;
  if (a <= 1 || e == null)
    return 0;
  if (n === "angleAxis" && s != null && Math.abs(Math.abs(s[1] - s[0]) - 360) <= 1e-6)
    for (var l = 0; l < a; l++) {
      var c = l > 0 ? r[l - 1].coordinate : r[a - 1].coordinate, d = r[l].coordinate, f = l >= a - 1 ? r[0].coordinate : r[l + 1].coordinate, h = void 0;
      if (gn(d - c) !== gn(f - d)) {
        var p = [];
        if (gn(f - d) === gn(s[1] - s[0])) {
          h = f;
          var g = d + s[1] - s[0];
          p[0] = Math.min(g, (g + c) / 2), p[1] = Math.max(g, (g + c) / 2);
        } else {
          h = c;
          var m = f + s[1] - s[0];
          p[0] = Math.min(d, (m + d) / 2), p[1] = Math.max(d, (m + d) / 2);
        }
        var y = [Math.min(d, (h + d) / 2), Math.max(d, (h + d) / 2)];
        if (e > y[0] && e <= y[1] || e >= p[0] && e <= p[1]) {
          ({
            index: o
          } = r[l]);
          break;
        }
      } else {
        var v = Math.min(c, f), b = Math.max(c, f);
        if (e > (v + d) / 2 && e <= (b + d) / 2) {
          ({
            index: o
          } = r[l]);
          break;
        }
      }
    }
  else if (t) {
    for (var x = 0; x < a; x++)
      if (x === 0 && e <= (t[x].coordinate + t[x + 1].coordinate) / 2 || x > 0 && x < a - 1 && e > (t[x].coordinate + t[x - 1].coordinate) / 2 && e <= (t[x].coordinate + t[x + 1].coordinate) / 2 || x === a - 1 && e > (t[x].coordinate + t[x - 1].coordinate) / 2) {
        ({
          index: o
        } = t[x]);
        break;
      }
  }
  return o;
}, Phe = (e, t, r) => {
  if (t && r) {
    var {
      width: n,
      height: s
    } = r, {
      align: i,
      verticalAlign: o,
      layout: a
    } = t;
    if ((a === "vertical" || a === "horizontal" && o === "middle") && i !== "center" && Oe(e[i]))
      return Ns(Ns({}, e), {}, {
        [i]: e[i] + (n || 0)
      });
    if ((a === "horizontal" || a === "vertical" && i === "center") && o !== "middle" && Oe(e[o]))
      return Ns(Ns({}, e), {}, {
        [o]: e[o] + (s || 0)
      });
  }
  return e;
}, ll = (e, t) => e === "horizontal" && t === "xAxis" || e === "vertical" && t === "yAxis" || e === "centric" && t === "angleAxis" || e === "radial" && t === "radiusAxis", m6 = (e, t, r, n) => {
  if (n)
    return e.map((a) => a.coordinate);
  var s, i, o = e.map((a) => (a.coordinate === t && (s = !0), a.coordinate === r && (i = !0), a.coordinate));
  return s || o.push(t), i || o.push(r), o;
}, g6 = (e, t, r) => {
  if (!e)
    return null;
  var {
    duplicateDomain: n,
    type: s,
    range: i,
    scale: o,
    realScaleType: a,
    isCategorical: l,
    categoricalDomain: c,
    tickCount: d,
    ticks: f,
    niceTicks: h,
    axisType: p
  } = e;
  if (!o)
    return null;
  var g = a === "scaleBand" && o.bandwidth ? o.bandwidth() / 2 : 2, m = s === "category" && o.bandwidth ? o.bandwidth() / g : 0;
  if (m = p === "angleAxis" && i && i.length >= 2 ? gn(i[0] - i[1]) * 2 * m : m, f || h) {
    var y = (f || h || []).map((v, b) => {
      var x = n ? n.indexOf(v) : v;
      return {
        // If the scaleContent is not a number, the coordinate will be NaN.
        // That could be the case for example with a PointScale and a string as domain.
        coordinate: o(x) + m,
        value: v,
        offset: m,
        index: b
      };
    });
    return y.filter((v) => !$s(v.coordinate));
  }
  return l && c ? c.map((v, b) => ({
    coordinate: o(v) + m,
    value: v,
    index: b,
    offset: m
  })) : o.ticks && d != null ? o.ticks(d).map((v, b) => ({
    coordinate: o(v) + m,
    value: v,
    offset: m,
    index: b
  })) : o.domain().map((v, b) => ({
    coordinate: o(v) + m,
    value: n ? n[v] : v,
    index: b,
    offset: m
  }));
}, _O = 1e-4, Ohe = (e) => {
  var t = e.domain();
  if (!(!t || t.length <= 2)) {
    var r = t.length, n = e.range(), s = Math.min(n[0], n[1]) - _O, i = Math.max(n[0], n[1]) + _O, o = e(t[0]), a = e(t[r - 1]);
    (o < s || o > i || a < s || a > i) && e.domain([t[0], t[r - 1]]);
  }
}, Dhe = (e) => {
  var t = e.length;
  if (!(t <= 0))
    for (var r = 0, n = e[0].length; r < n; ++r)
      for (var s = 0, i = 0, o = 0; o < t; ++o) {
        var a = $s(e[o][r][1]) ? e[o][r][0] : e[o][r][1];
        a >= 0 ? (e[o][r][0] = s, e[o][r][1] = s + a, s = e[o][r][1]) : (e[o][r][0] = i, e[o][r][1] = i + a, i = e[o][r][1]);
      }
}, $he = (e) => {
  var t = e.length;
  if (!(t <= 0))
    for (var r = 0, n = e[0].length; r < n; ++r)
      for (var s = 0, i = 0; i < t; ++i) {
        var o = $s(e[i][r][1]) ? e[i][r][0] : e[i][r][1];
        o >= 0 ? (e[i][r][0] = s, e[i][r][1] = s + o, s = e[i][r][1]) : (e[i][r][0] = 0, e[i][r][1] = 0);
      }
}, Rhe = {
  sign: Dhe,
  // @ts-expect-error definitelytyped types are incorrect
  expand: vde,
  // @ts-expect-error definitelytyped types are incorrect
  none: Yu,
  // @ts-expect-error definitelytyped types are incorrect
  silhouette: bde,
  // @ts-expect-error definitelytyped types are incorrect
  wiggle: xde,
  positive: $he
}, Ihe = (e, t, r) => {
  var n = Rhe[r], s = yde().keys(t).value((i, o) => +Vt(i, o, 0)).order(D1).offset(n);
  return s(e);
};
function SO(e) {
  var {
    axis: t,
    ticks: r,
    bandSize: n,
    entry: s,
    index: i,
    dataKey: o
  } = e;
  if (t.type === "category") {
    if (!t.allowDuplicatedCategory && t.dataKey && !wr(s[t.dataKey])) {
      var a = K3(r, "value", s[t.dataKey]);
      if (a)
        return a.coordinate + n / 2;
    }
    return r[i] ? r[i].coordinate + n / 2 : null;
  }
  var l = Vt(s, wr(o) ? t.dataKey : o);
  return wr(l) ? null : t.scale(l);
}
var Mhe = (e) => {
  var t = e.flat(2).filter(Oe);
  return [Math.min(...t), Math.max(...t)];
}, Lhe = (e) => [e[0] === 1 / 0 ? 0 : e[0], e[1] === -1 / 0 ? 0 : e[1]], Fhe = (e, t, r) => {
  if (e != null)
    return Lhe(Object.keys(e).reduce((n, s) => {
      var i = e[s], {
        stackedData: o
      } = i, a = o.reduce((l, c) => {
        var d = p6(c, t, r), f = Mhe(d);
        return [Math.min(l[0], f[0]), Math.max(l[1], f[1])];
      }, [1 / 0, -1 / 0]);
      return [Math.min(a[0], n[0]), Math.max(a[1], n[1])];
    }, [1 / 0, -1 / 0]));
}, EO = /^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/, jO = /^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/, K1 = (e, t, r) => {
  if (e && e.scale && e.scale.bandwidth) {
    var n = e.scale.bandwidth();
    if (!r || n > 0)
      return n;
  }
  if (e && t && t.length >= 2) {
    for (var s = Xv(t, (d) => d.coordinate), i = 1 / 0, o = 1, a = s.length; o < a; o++) {
      var l = s[o], c = s[o - 1];
      i = Math.min((l.coordinate || 0) - (c.coordinate || 0), i);
    }
    return i === 1 / 0 ? 0 : i;
  }
  return r ? void 0 : 0;
};
function NO(e) {
  var {
    tooltipEntrySettings: t,
    dataKey: r,
    payload: n,
    value: s,
    name: i
  } = e;
  return Ns(Ns({}, t), {}, {
    dataKey: r,
    payload: n,
    value: s,
    name: i
  });
}
function nb(e, t) {
  if (e)
    return String(e);
  if (typeof t == "string")
    return t;
}
function Bhe(e, t, r, n, s) {
  if (r === "horizontal" || r === "vertical") {
    var i = e >= s.left && e <= s.left + s.width && t >= s.top && t <= s.top + s.height;
    return i ? {
      x: e,
      y: t
    } : null;
  }
  return n ? Nhe({
    x: e,
    y: t
  }, n) : null;
}
var zhe = (e, t, r, n) => {
  var s = t.find((c) => c && c.index === r);
  if (s) {
    if (e === "horizontal")
      return {
        x: s.coordinate,
        y: n.y
      };
    if (e === "vertical")
      return {
        x: n.x,
        y: s.coordinate
      };
    if (e === "centric") {
      var i = s.coordinate, {
        radius: o
      } = n;
      return Ns(Ns(Ns({}, n), xr(n.cx, n.cy, o, i)), {}, {
        angle: i,
        radius: o
      });
    }
    var a = s.coordinate, {
      angle: l
    } = n;
    return Ns(Ns(Ns({}, n), xr(n.cx, n.cy, a, l)), {}, {
      angle: l,
      radius: a
    });
  }
  return {
    x: 0,
    y: 0
  };
}, Uhe = (e, t) => t === "horizontal" ? e.x : t === "vertical" ? e.y : t === "centric" ? e.angle : e.radius, ta = (e) => e.layout.width, ra = (e) => e.layout.height, qhe = (e) => e.layout.scale, y6 = (e) => e.layout.margin, Aj = Q((e) => e.cartesianAxis.xAxis, (e) => Object.values(e)), Pj = Q((e) => e.cartesianAxis.yAxis, (e) => Object.values(e)), v6 = "data-recharts-item-index", b6 = "data-recharts-item-data-key", sb = 60;
function kO(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    t && (n = n.filter(function(s) {
      return Object.getOwnPropertyDescriptor(e, s).enumerable;
    })), r.push.apply(r, n);
  }
  return r;
}
function va(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2 ? kO(Object(r), !0).forEach(function(n) {
      Vhe(e, n, r[n]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : kO(Object(r)).forEach(function(n) {
      Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
    });
  }
  return e;
}
function Vhe(e, t, r) {
  return (t = Whe(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e;
}
function Whe(e) {
  var t = Khe(e, "string");
  return typeof t == "symbol" ? t : t + "";
}
function Khe(e, t) {
  if (typeof e != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (typeof n != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
var Hhe = (e) => e.brush.height, Yr = Q([ta, ra, y6, Hhe, Aj, Pj, MF, sfe], (e, t, r, n, s, i, o, a) => {
  var l = i.reduce((g, m) => {
    var {
      orientation: y
    } = m;
    if (!m.mirror && !m.hide) {
      var v = typeof m.width == "number" ? m.width : sb;
      return va(va({}, g), {}, {
        [y]: g[y] + v
      });
    }
    return g;
  }, {
    left: r.left || 0,
    right: r.right || 0
  }), c = s.reduce((g, m) => {
    var {
      orientation: y
    } = m;
    return !m.mirror && !m.hide ? va(va({}, g), {}, {
      [y]: Qa(g, "".concat(y)) + m.height
    }) : g;
  }, {
    top: r.top || 0,
    bottom: r.bottom || 0
  }), d = va(va({}, c), l), f = d.bottom;
  d.bottom += n, d = Phe(d, o, a);
  var h = e - d.left - d.right, p = t - d.top - d.bottom;
  return va(va({
    brushBottom: f
  }, d), {}, {
    // never return negative values for height and width
    width: Math.max(h, 0),
    height: Math.max(p, 0)
  });
}), Yhe = Q(Yr, (e) => ({
  x: e.left,
  y: e.top,
  width: e.width,
  height: e.height
})), x6 = Q(ta, ra, (e, t) => ({
  x: 0,
  y: 0,
  width: e,
  height: t
})), Ghe = /* @__PURE__ */ dr(null), Bs = () => Dt(Ghe) != null, ib = (e) => e.brush, ob = Q([ib, Yr, y6], (e, t, r) => ({
  height: e.height,
  x: Oe(e.x) ? e.x : t.left,
  y: Oe(e.y) ? e.y : t.top + t.height + t.brushBottom - ((r == null ? void 0 : r.bottom) || 0),
  width: Oe(e.width) ? e.width : t.width
})), Oj = () => {
  var e, t = Bs(), r = Me(Yhe), n = Me(ob), s = (e = Me(ib)) === null || e === void 0 ? void 0 : e.padding;
  return !t || !n || !s ? r : {
    width: n.width - s.left - s.right,
    height: n.height - s.top - s.bottom,
    x: s.left,
    y: s.top
  };
}, Zhe = {
  top: 0,
  bottom: 0,
  left: 0,
  right: 0,
  width: 0,
  height: 0,
  brushBottom: 0
}, w6 = () => {
  var e;
  return (e = Me(Yr)) !== null && e !== void 0 ? e : Zhe;
}, Dj = () => Me(ta), $j = () => Me(ra), Xhe = {
  top: 0,
  right: 0,
  bottom: 0,
  left: 0
}, Jhe = () => {
  var e;
  return (e = Me((t) => t.layout.margin)) !== null && e !== void 0 ? e : Xhe;
}, Nt = (e) => e.layout.layoutType, Rj = () => Me(Nt), Qhe = {
  settings: {
    layout: "horizontal",
    align: "center",
    verticalAlign: "middle",
    itemSorter: "value"
  },
  size: {
    width: 0,
    height: 0
  },
  payload: []
}, _6 = us({
  name: "legend",
  initialState: Qhe,
  reducers: {
    setLegendSize(e, t) {
      e.size.width = t.payload.width, e.size.height = t.payload.height;
    },
    setLegendSettings(e, t) {
      e.settings.align = t.payload.align, e.settings.layout = t.payload.layout, e.settings.verticalAlign = t.payload.verticalAlign, e.settings.itemSorter = t.payload.itemSorter;
    },
    addLegendPayload(e, t) {
      e.payload.push(t.payload);
    },
    removeLegendPayload(e, t) {
      var r = Do(e).payload.indexOf(t.payload);
      r > -1 && e.payload.splice(r, 1);
    }
  }
}), {
  setLegendSize: CO,
  setLegendSettings: epe,
  addLegendPayload: S6,
  removeLegendPayload: E6
} = _6.actions, tpe = _6.reducer, rpe = ["contextPayload"];
function H1() {
  return H1 = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var r = arguments[t];
      for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]);
    }
    return e;
  }, H1.apply(null, arguments);
}
function TO(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    t && (n = n.filter(function(s) {
      return Object.getOwnPropertyDescriptor(e, s).enumerable;
    })), r.push.apply(r, n);
  }
  return r;
}
function Zu(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2 ? TO(Object(r), !0).forEach(function(n) {
      Ij(e, n, r[n]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : TO(Object(r)).forEach(function(n) {
      Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
    });
  }
  return e;
}
function Ij(e, t, r) {
  return (t = npe(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e;
}
function npe(e) {
  var t = spe(e, "string");
  return typeof t == "symbol" ? t : t + "";
}
function spe(e, t) {
  if (typeof e != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (typeof n != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
function ipe(e, t) {
  if (e == null) return {};
  var r, n, s = ope(e, t);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    for (n = 0; n < i.length; n++) r = i[n], t.indexOf(r) === -1 && {}.propertyIsEnumerable.call(e, r) && (s[r] = e[r]);
  }
  return s;
}
function ope(e, t) {
  if (e == null) return {};
  var r = {};
  for (var n in e) if ({}.hasOwnProperty.call(e, n)) {
    if (t.indexOf(n) !== -1) continue;
    r[n] = e[n];
  }
  return r;
}
function ape(e) {
  return e.value;
}
function lpe(e) {
  var {
    contextPayload: t
  } = e, r = ipe(e, rpe), n = TF(t, e.payloadUniqBy, ape), s = Zu(Zu({}, r), {}, {
    payload: n
  });
  return /* @__PURE__ */ _.isValidElement(e.content) ? /* @__PURE__ */ _.cloneElement(e.content, s) : typeof e.content == "function" ? /* @__PURE__ */ _.createElement(e.content, s) : /* @__PURE__ */ _.createElement(pj, s);
}
function cpe(e, t, r, n, s, i) {
  var {
    layout: o,
    align: a,
    verticalAlign: l
  } = t, c, d;
  return (!e || (e.left === void 0 || e.left === null) && (e.right === void 0 || e.right === null)) && (a === "center" && o === "vertical" ? c = {
    left: ((n || 0) - i.width) / 2
  } : c = a === "right" ? {
    right: r && r.right || 0
  } : {
    left: r && r.left || 0
  }), (!e || (e.top === void 0 || e.top === null) && (e.bottom === void 0 || e.bottom === null)) && (l === "middle" ? d = {
    top: ((s || 0) - i.height) / 2
  } : d = l === "bottom" ? {
    bottom: r && r.bottom || 0
  } : {
    top: r && r.top || 0
  }), Zu(Zu({}, c), d);
}
function upe(e) {
  var t = nr();
  return ve(() => {
    t(epe(e));
  }, [t, e]), null;
}
function dpe(e) {
  var t = nr();
  return ve(() => (t(CO(e)), () => {
    t(CO({
      width: 0,
      height: 0
    }));
  }), [t, e]), null;
}
function fpe(e) {
  var t = afe(), r = zue(), n = Jhe(), {
    width: s,
    height: i,
    wrapperStyle: o,
    portal: a
  } = e, [l, c] = LF([t]), d = Dj(), f = $j(), h = d - (n.left || 0) - (n.right || 0), p = jh.getWidthOrHeight(e.layout, i, s, h), g = a ? o : Zu(Zu({
    position: "absolute",
    width: (p == null ? void 0 : p.width) || s || "auto",
    height: (p == null ? void 0 : p.height) || i || "auto"
  }, cpe(o, e, n, d, f, l)), o), m = a ?? r;
  if (m == null)
    return null;
  var y = /* @__PURE__ */ _.createElement("div", {
    className: "recharts-legend-wrapper",
    style: g,
    ref: c
  }, /* @__PURE__ */ _.createElement(upe, {
    layout: e.layout,
    align: e.align,
    verticalAlign: e.verticalAlign,
    itemSorter: e.itemSorter
  }), /* @__PURE__ */ _.createElement(dpe, {
    width: l.width,
    height: l.height
  }), /* @__PURE__ */ _.createElement(lpe, H1({}, e, p, {
    margin: n,
    chartWidth: d,
    chartHeight: f,
    contextPayload: t
  })));
  return /* @__PURE__ */ Zh(y, m);
}
class jh extends rv {
  static getWidthOrHeight(t, r, n, s) {
    return t === "vertical" && Oe(r) ? {
      height: r
    } : t === "horizontal" ? {
      width: n || s
    } : null;
  }
  render() {
    return /* @__PURE__ */ _.createElement(fpe, this.props);
  }
}
Ij(jh, "displayName", "Legend");
Ij(jh, "defaultProps", {
  align: "center",
  iconSize: 14,
  itemSorter: "value",
  layout: "horizontal",
  verticalAlign: "bottom"
});
function Y1() {
  return Y1 = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var r = arguments[t];
      for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]);
    }
    return e;
  }, Y1.apply(null, arguments);
}
function AO(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    t && (n = n.filter(function(s) {
      return Object.getOwnPropertyDescriptor(e, s).enumerable;
    })), r.push.apply(r, n);
  }
  return r;
}
function Ex(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2 ? AO(Object(r), !0).forEach(function(n) {
      hpe(e, n, r[n]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : AO(Object(r)).forEach(function(n) {
      Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
    });
  }
  return e;
}
function hpe(e, t, r) {
  return (t = ppe(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e;
}
function ppe(e) {
  var t = mpe(e, "string");
  return typeof t == "symbol" ? t : t + "";
}
function mpe(e, t) {
  if (typeof e != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (typeof n != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
function gpe(e) {
  return Array.isArray(e) && Xi(e[0]) && Xi(e[1]) ? e.join(" ~ ") : e;
}
var ype = (e) => {
  var {
    separator: t = " : ",
    contentStyle: r = {},
    itemStyle: n = {},
    labelStyle: s = {},
    payload: i,
    formatter: o,
    itemSorter: a,
    wrapperClassName: l,
    labelClassName: c,
    label: d,
    labelFormatter: f,
    accessibilityLayer: h = !1
  } = e, p = () => {
    if (i && i.length) {
      var w = {
        padding: 0,
        margin: 0
      }, j = (a ? Xv(i, a) : i).map((N, k) => {
        if (N.type === "none")
          return null;
        var C = N.formatter || o || gpe, {
          value: $,
          name: I
        } = N, M = $, O = I;
        if (C) {
          var z = C($, I, N, k, i);
          if (Array.isArray(z))
            [M, O] = z;
          else if (z != null)
            M = z;
          else
            return null;
        }
        var U = Ex({
          display: "block",
          paddingTop: 4,
          paddingBottom: 4,
          color: N.color || "#000"
        }, n);
        return (
          // eslint-disable-next-line react/no-array-index-key
          /* @__PURE__ */ _.createElement("li", {
            className: "recharts-tooltip-item",
            key: "tooltip-item-".concat(k),
            style: U
          }, Xi(O) ? /* @__PURE__ */ _.createElement("span", {
            className: "recharts-tooltip-item-name"
          }, O) : null, Xi(O) ? /* @__PURE__ */ _.createElement("span", {
            className: "recharts-tooltip-item-separator"
          }, t) : null, /* @__PURE__ */ _.createElement("span", {
            className: "recharts-tooltip-item-value"
          }, M), /* @__PURE__ */ _.createElement("span", {
            className: "recharts-tooltip-item-unit"
          }, N.unit || ""))
        );
      });
      return /* @__PURE__ */ _.createElement("ul", {
        className: "recharts-tooltip-item-list",
        style: w
      }, j);
    }
    return null;
  }, g = Ex({
    margin: 0,
    padding: 10,
    backgroundColor: "#fff",
    border: "1px solid #ccc",
    whiteSpace: "nowrap"
  }, r), m = Ex({
    margin: 0
  }, s), y = !wr(d), v = y ? d : "", b = at("recharts-default-tooltip", l), x = at("recharts-tooltip-label", c);
  y && f && i !== void 0 && i !== null && (v = f(d, i));
  var S = h ? {
    role: "status",
    "aria-live": "assertive"
  } : {};
  return /* @__PURE__ */ _.createElement("div", Y1({
    className: b,
    style: g
  }, S), /* @__PURE__ */ _.createElement("p", {
    className: x,
    style: m
  }, /* @__PURE__ */ _.isValidElement(v) ? v : "".concat(v)), p());
}, of = "recharts-tooltip-wrapper", vpe = {
  visibility: "hidden"
};
function bpe(e) {
  var {
    coordinate: t,
    translateX: r,
    translateY: n
  } = e;
  return at(of, {
    ["".concat(of, "-right")]: Oe(r) && t && Oe(t.x) && r >= t.x,
    ["".concat(of, "-left")]: Oe(r) && t && Oe(t.x) && r < t.x,
    ["".concat(of, "-bottom")]: Oe(n) && t && Oe(t.y) && n >= t.y,
    ["".concat(of, "-top")]: Oe(n) && t && Oe(t.y) && n < t.y
  });
}
function PO(e) {
  var {
    allowEscapeViewBox: t,
    coordinate: r,
    key: n,
    offsetTopLeft: s,
    position: i,
    reverseDirection: o,
    tooltipDimension: a,
    viewBox: l,
    viewBoxDimension: c
  } = e;
  if (i && Oe(i[n]))
    return i[n];
  var d = r[n] - a - (s > 0 ? s : 0), f = r[n] + s;
  if (t[n])
    return o[n] ? d : f;
  var h = l[n];
  if (h == null)
    return 0;
  if (o[n]) {
    var p = d, g = h;
    return p < g ? Math.max(f, h) : Math.max(d, h);
  }
  if (c == null)
    return 0;
  var m = f + a, y = h + c;
  return m > y ? Math.max(d, h) : Math.max(f, h);
}
function xpe(e) {
  var {
    translateX: t,
    translateY: r,
    useTranslate3d: n
  } = e;
  return {
    transform: n ? "translate3d(".concat(t, "px, ").concat(r, "px, 0)") : "translate(".concat(t, "px, ").concat(r, "px)")
  };
}
function wpe(e) {
  var {
    allowEscapeViewBox: t,
    coordinate: r,
    offsetTopLeft: n,
    position: s,
    reverseDirection: i,
    tooltipBox: o,
    useTranslate3d: a,
    viewBox: l
  } = e, c, d, f;
  return o.height > 0 && o.width > 0 && r ? (d = PO({
    allowEscapeViewBox: t,
    coordinate: r,
    key: "x",
    offsetTopLeft: n,
    position: s,
    reverseDirection: i,
    tooltipDimension: o.width,
    viewBox: l,
    viewBoxDimension: l.width
  }), f = PO({
    allowEscapeViewBox: t,
    coordinate: r,
    key: "y",
    offsetTopLeft: n,
    position: s,
    reverseDirection: i,
    tooltipDimension: o.height,
    viewBox: l,
    viewBoxDimension: l.height
  }), c = xpe({
    translateX: d,
    translateY: f,
    useTranslate3d: a
  })) : c = vpe, {
    cssProperties: c,
    cssClasses: bpe({
      translateX: d,
      translateY: f,
      coordinate: r
    })
  };
}
function OO(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    t && (n = n.filter(function(s) {
      return Object.getOwnPropertyDescriptor(e, s).enumerable;
    })), r.push.apply(r, n);
  }
  return r;
}
function Dm(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2 ? OO(Object(r), !0).forEach(function(n) {
      G1(e, n, r[n]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : OO(Object(r)).forEach(function(n) {
      Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
    });
  }
  return e;
}
function G1(e, t, r) {
  return (t = _pe(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e;
}
function _pe(e) {
  var t = Spe(e, "string");
  return typeof t == "symbol" ? t : t + "";
}
function Spe(e, t) {
  if (typeof e != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (typeof n != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
class Epe extends rv {
  constructor() {
    super(...arguments), G1(this, "state", {
      dismissed: !1,
      dismissedAtCoordinate: {
        x: 0,
        y: 0
      }
    }), G1(this, "handleKeyDown", (t) => {
      if (t.key === "Escape") {
        var r, n, s, i;
        this.setState({
          dismissed: !0,
          dismissedAtCoordinate: {
            x: (r = (n = this.props.coordinate) === null || n === void 0 ? void 0 : n.x) !== null && r !== void 0 ? r : 0,
            y: (s = (i = this.props.coordinate) === null || i === void 0 ? void 0 : i.y) !== null && s !== void 0 ? s : 0
          }
        });
      }
    });
  }
  componentDidMount() {
    document.addEventListener("keydown", this.handleKeyDown);
  }
  componentWillUnmount() {
    document.removeEventListener("keydown", this.handleKeyDown);
  }
  componentDidUpdate() {
    var t, r;
    this.state.dismissed && (((t = this.props.coordinate) === null || t === void 0 ? void 0 : t.x) !== this.state.dismissedAtCoordinate.x || ((r = this.props.coordinate) === null || r === void 0 ? void 0 : r.y) !== this.state.dismissedAtCoordinate.y) && (this.state.dismissed = !1);
  }
  render() {
    var {
      active: t,
      allowEscapeViewBox: r,
      animationDuration: n,
      animationEasing: s,
      children: i,
      coordinate: o,
      hasPayload: a,
      isAnimationActive: l,
      offset: c,
      position: d,
      reverseDirection: f,
      useTranslate3d: h,
      viewBox: p,
      wrapperStyle: g,
      lastBoundingBox: m,
      innerRef: y,
      hasPortalFromProps: v
    } = this.props, {
      cssClasses: b,
      cssProperties: x
    } = wpe({
      allowEscapeViewBox: r,
      coordinate: o,
      offsetTopLeft: c,
      position: d,
      reverseDirection: f,
      tooltipBox: {
        height: m.height,
        width: m.width
      },
      useTranslate3d: h,
      viewBox: p
    }), S = v ? {} : Dm(Dm({
      transition: l && t ? "transform ".concat(n, "ms ").concat(s) : void 0
    }, x), {}, {
      pointerEvents: "none",
      visibility: !this.state.dismissed && t && a ? "visible" : "hidden",
      position: "absolute",
      top: 0,
      left: 0
    }), w = Dm(Dm({}, S), {}, {
      visibility: !this.state.dismissed && t && a ? "visible" : "hidden"
    }, g);
    return (
      // This element allow listening to the `Escape` key. See https://github.com/recharts/recharts/pull/2925
      /* @__PURE__ */ _.createElement("div", {
        // @ts-expect-error typescript library does not recognize xmlns attribute, but it's required for an HTML chunk inside SVG.
        xmlns: "http://www.w3.org/1999/xhtml",
        tabIndex: -1,
        className: b,
        style: w,
        ref: y
      }, i)
    );
  }
}
var jpe = () => !(typeof window < "u" && window.document && window.document.createElement && window.setTimeout), Ed = {
  isSsr: jpe()
}, j6 = () => Me((e) => e.rootProps.accessibilityLayer);
function gi(e) {
  return Number.isFinite(e);
}
function Xu(e) {
  return typeof e == "number" && e > 0 && Number.isFinite(e);
}
function Z1() {
  return Z1 = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var r = arguments[t];
      for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]);
    }
    return e;
  }, Z1.apply(null, arguments);
}
function DO(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    t && (n = n.filter(function(s) {
      return Object.getOwnPropertyDescriptor(e, s).enumerable;
    })), r.push.apply(r, n);
  }
  return r;
}
function $O(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2 ? DO(Object(r), !0).forEach(function(n) {
      Npe(e, n, r[n]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : DO(Object(r)).forEach(function(n) {
      Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
    });
  }
  return e;
}
function Npe(e, t, r) {
  return (t = kpe(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e;
}
function kpe(e) {
  var t = Cpe(e, "string");
  return typeof t == "symbol" ? t : t + "";
}
function Cpe(e, t) {
  if (typeof e != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (typeof n != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
var RO = {
  curveBasisClosed: ode,
  curveBasisOpen: ade,
  curveBasis: ide,
  curveBumpX: Wue,
  curveBumpY: Kue,
  curveLinearClosed: lde,
  curveLinear: Wv,
  curveMonotoneX: cde,
  curveMonotoneY: ude,
  curveNatural: dde,
  curveStep: fde,
  curveStepAfter: pde,
  curveStepBefore: hde
}, $m = (e) => gi(e.x) && gi(e.y), af = (e) => e.x, lf = (e) => e.y, Tpe = (e, t) => {
  if (typeof e == "function")
    return e;
  var r = "curve".concat(fp(e));
  return (r === "curveMonotone" || r === "curveBump") && t ? RO["".concat(r).concat(t === "vertical" ? "Y" : "X")] : RO[r] || Wv;
}, Ape = (e) => {
  var {
    type: t = "linear",
    points: r = [],
    baseLine: n,
    layout: s,
    connectNulls: i = !1
  } = e, o = Tpe(t, s), a = i ? r.filter($m) : r, l;
  if (Array.isArray(n)) {
    var c = i ? n.filter((f) => $m(f)) : n, d = a.map((f, h) => $O($O({}, f), {}, {
      base: c[h]
    }));
    return s === "vertical" ? l = Nm().y(lf).x1(af).x0((f) => f.base.x) : l = Nm().x(af).y1(lf).y0((f) => f.base.y), l.defined($m).curve(o), l(d);
  }
  return s === "vertical" && Oe(n) ? l = Nm().y(lf).x1(af).x0(n) : Oe(n) ? l = Nm().x(af).y1(lf).y0(n) : l = rF().x(af).y(lf), l.defined($m).curve(o), l(a);
}, Mj = (e) => {
  var {
    className: t,
    points: r,
    path: n,
    pathRef: s
  } = e;
  if ((!r || !r.length) && !n)
    return null;
  var i = r && r.length ? Ape(e) : n;
  return /* @__PURE__ */ _.createElement("path", Z1({}, al(e), oj(e), {
    className: at("recharts-curve", t),
    d: i === null ? void 0 : i,
    ref: s
  }));
}, Ppe = ["x", "y", "top", "left", "width", "height", "className"];
function X1() {
  return X1 = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var r = arguments[t];
      for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]);
    }
    return e;
  }, X1.apply(null, arguments);
}
function IO(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    t && (n = n.filter(function(s) {
      return Object.getOwnPropertyDescriptor(e, s).enumerable;
    })), r.push.apply(r, n);
  }
  return r;
}
function Ope(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2 ? IO(Object(r), !0).forEach(function(n) {
      Dpe(e, n, r[n]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : IO(Object(r)).forEach(function(n) {
      Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
    });
  }
  return e;
}
function Dpe(e, t, r) {
  return (t = $pe(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e;
}
function $pe(e) {
  var t = Rpe(e, "string");
  return typeof t == "symbol" ? t : t + "";
}
function Rpe(e, t) {
  if (typeof e != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (typeof n != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
function Ipe(e, t) {
  if (e == null) return {};
  var r, n, s = Mpe(e, t);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    for (n = 0; n < i.length; n++) r = i[n], t.indexOf(r) === -1 && {}.propertyIsEnumerable.call(e, r) && (s[r] = e[r]);
  }
  return s;
}
function Mpe(e, t) {
  if (e == null) return {};
  var r = {};
  for (var n in e) if ({}.hasOwnProperty.call(e, n)) {
    if (t.indexOf(n) !== -1) continue;
    r[n] = e[n];
  }
  return r;
}
var Lpe = (e, t, r, n, s, i) => "M".concat(e, ",").concat(s, "v").concat(n, "M").concat(i, ",").concat(t, "h").concat(r), Fpe = (e) => {
  var {
    x: t = 0,
    y: r = 0,
    top: n = 0,
    left: s = 0,
    width: i = 0,
    height: o = 0,
    className: a
  } = e, l = Ipe(e, Ppe), c = Ope({
    x: t,
    y: r,
    top: n,
    left: s,
    width: i,
    height: o
  }, l);
  return !Oe(t) || !Oe(r) || !Oe(i) || !Oe(o) || !Oe(n) || !Oe(s) ? null : /* @__PURE__ */ _.createElement("path", X1({}, tr(c, !0), {
    className: at("recharts-cross", a),
    d: Lpe(t, r, i, o, n, s)
  }));
};
function Bpe(e, t, r, n) {
  var s = n / 2;
  return {
    stroke: "none",
    fill: "#ccc",
    x: e === "horizontal" ? t.x - s : r.left + 0.5,
    y: e === "horizontal" ? r.top + 0.5 : t.y - s,
    width: e === "horizontal" ? n : r.width - 1,
    height: e === "horizontal" ? r.height - 1 : n
  };
}
function MO(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    t && (n = n.filter(function(s) {
      return Object.getOwnPropertyDescriptor(e, s).enumerable;
    })), r.push.apply(r, n);
  }
  return r;
}
function zpe(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2 ? MO(Object(r), !0).forEach(function(n) {
      Upe(e, n, r[n]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : MO(Object(r)).forEach(function(n) {
      Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
    });
  }
  return e;
}
function Upe(e, t, r) {
  return (t = qpe(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e;
}
function qpe(e) {
  var t = Vpe(e, "string");
  return typeof t == "symbol" ? t : t + "";
}
function Vpe(e, t) {
  if (typeof e != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (typeof n != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
function zs(e, t) {
  var r = zpe({}, e), n = t, s = Object.keys(t), i = s.reduce((o, a) => (o[a] === void 0 && n[a] !== void 0 && (o[a] = n[a]), o), r);
  return i;
}
var N6 = {}, k6 = {}, C6 = {};
(function(e) {
  Object.defineProperty(e, Symbol.toStringTag, { value: "Module" });
  function t(r) {
    if (!r || typeof r != "object")
      return !1;
    const n = Object.getPrototypeOf(r);
    return n === null || n === Object.prototype || Object.getPrototypeOf(n) === null ? Object.prototype.toString.call(r) === "[object Object]" : !1;
  }
  e.isPlainObject = t;
})(C6);
(function(e) {
  Object.defineProperty(e, Symbol.toStringTag, { value: "Module" });
  const t = C6, r = xj, n = Gv, s = Zv, i = Yv;
  function o(c, d, f) {
    return a(c, d, void 0, void 0, void 0, void 0, f);
  }
  function a(c, d, f, h, p, g, m) {
    const y = m(c, d, f, h, p, g);
    if (y !== void 0)
      return y;
    if (typeof c == typeof d)
      switch (typeof c) {
        case "bigint":
        case "string":
        case "boolean":
        case "symbol":
        case "undefined":
          return c === d;
        case "number":
          return c === d || Object.is(c, d);
        case "function":
          return c === d;
        case "object":
          return l(c, d, g, m);
      }
    return l(c, d, g, m);
  }
  function l(c, d, f, h) {
    if (Object.is(c, d))
      return !0;
    let p = n.getTag(c), g = n.getTag(d);
    if (p === s.argumentsTag && (p = s.objectTag), g === s.argumentsTag && (g = s.objectTag), p !== g)
      return !1;
    switch (p) {
      case s.stringTag:
        return c.toString() === d.toString();
      case s.numberTag: {
        const v = c.valueOf(), b = d.valueOf();
        return i.eq(v, b);
      }
      case s.booleanTag:
      case s.dateTag:
      case s.symbolTag:
        return Object.is(c.valueOf(), d.valueOf());
      case s.regexpTag:
        return c.source === d.source && c.flags === d.flags;
      case s.functionTag:
        return c === d;
    }
    f = f ?? /* @__PURE__ */ new Map();
    const m = f.get(c), y = f.get(d);
    if (m != null && y != null)
      return m === d;
    f.set(c, d), f.set(d, c);
    try {
      switch (p) {
        case s.mapTag: {
          if (c.size !== d.size)
            return !1;
          for (const [v, b] of c.entries())
            if (!d.has(v) || !a(b, d.get(v), v, c, d, f, h))
              return !1;
          return !0;
        }
        case s.setTag: {
          if (c.size !== d.size)
            return !1;
          const v = Array.from(c.values()), b = Array.from(d.values());
          for (let x = 0; x < v.length; x++) {
            const S = v[x], w = b.findIndex((j) => a(S, j, void 0, c, d, f, h));
            if (w === -1)
              return !1;
            b.splice(w, 1);
          }
          return !0;
        }
        case s.arrayTag:
        case s.uint8ArrayTag:
        case s.uint8ClampedArrayTag:
        case s.uint16ArrayTag:
        case s.uint32ArrayTag:
        case s.bigUint64ArrayTag:
        case s.int8ArrayTag:
        case s.int16ArrayTag:
        case s.int32ArrayTag:
        case s.bigInt64ArrayTag:
        case s.float32ArrayTag:
        case s.float64ArrayTag: {
          if (typeof Buffer < "u" && Buffer.isBuffer(c) !== Buffer.isBuffer(d) || c.length !== d.length)
            return !1;
          for (let v = 0; v < c.length; v++)
            if (!a(c[v], d[v], v, c, d, f, h))
              return !1;
          return !0;
        }
        case s.arrayBufferTag:
          return c.byteLength !== d.byteLength ? !1 : l(new Uint8Array(c), new Uint8Array(d), f, h);
        case s.dataViewTag:
          return c.byteLength !== d.byteLength || c.byteOffset !== d.byteOffset ? !1 : l(new Uint8Array(c), new Uint8Array(d), f, h);
        case s.errorTag:
          return c.name === d.name && c.message === d.message;
        case s.objectTag: {
          if (!(l(c.constructor, d.constructor, f, h) || t.isPlainObject(c) && t.isPlainObject(d)))
            return !1;
          const b = [...Object.keys(c), ...r.getSymbols(c)], x = [...Object.keys(d), ...r.getSymbols(d)];
          if (b.length !== x.length)
            return !1;
          for (let S = 0; S < b.length; S++) {
            const w = b[S], j = c[w];
            if (!Object.hasOwn(d, w))
              return !1;
            const N = d[w];
            if (!a(j, N, w, c, d, f, h))
              return !1;
          }
          return !0;
        }
        default:
          return !1;
      }
    } finally {
      f.delete(c), f.delete(d);
    }
  }
  e.isEqualWith = o;
})(k6);
var T6 = {};
(function(e) {
  Object.defineProperty(e, Symbol.toStringTag, { value: "Module" });
  function t() {
  }
  e.noop = t;
})(T6);
(function(e) {
  Object.defineProperty(e, Symbol.toStringTag, { value: "Module" });
  const t = k6, r = T6;
  function n(s, i) {
    return t.isEqualWith(s, i, r.noop);
  }
  e.isEqual = n;
})(N6);
var Wpe = N6.isEqual;
const Kpe = /* @__PURE__ */ bi(Wpe);
var uy = 1e-4, A6 = (e, t) => [0, 3 * e, 3 * t - 6 * e, 3 * e - 3 * t + 1], P6 = (e, t) => e.map((r, n) => r * t ** n).reduce((r, n) => r + n), LO = (e, t) => (r) => {
  var n = A6(e, t);
  return P6(n, r);
}, Hpe = (e, t) => (r) => {
  var n = A6(e, t), s = [...n.map((i, o) => i * o).slice(1), 0];
  return P6(s, r);
}, FO = function() {
  for (var t, r, n, s, i = arguments.length, o = new Array(i), a = 0; a < i; a++)
    o[a] = arguments[a];
  if (o.length === 1)
    switch (o[0]) {
      case "linear":
        [t, n, r, s] = [0, 0, 1, 1];
        break;
      case "ease":
        [t, n, r, s] = [0.25, 0.1, 0.25, 1];
        break;
      case "ease-in":
        [t, n, r, s] = [0.42, 0, 1, 1];
        break;
      case "ease-out":
        [t, n, r, s] = [0.42, 0, 0.58, 1];
        break;
      case "ease-in-out":
        [t, n, r, s] = [0, 0, 0.58, 1];
        break;
      default: {
        var l = o[0].split("(");
        l[0] === "cubic-bezier" && l[1].split(")")[0].split(",").length === 4 && ([t, n, r, s] = l[1].split(")")[0].split(",").map((g) => parseFloat(g)));
      }
    }
  else o.length === 4 && ([t, n, r, s] = o);
  var c = LO(t, r), d = LO(n, s), f = Hpe(t, r), h = (g) => g > 1 ? 1 : g < 0 ? 0 : g, p = (g) => {
    for (var m = g > 1 ? 1 : g, y = m, v = 0; v < 8; ++v) {
      var b = c(y) - m, x = f(y);
      if (Math.abs(b - m) < uy || x < uy)
        return d(y);
      y = h(y - b / x);
    }
    return d(y);
  };
  return p.isStepper = !1, p;
}, Ype = function() {
  var t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, {
    stiff: r = 100,
    damping: n = 8,
    dt: s = 17
  } = t, i = (o, a, l) => {
    var c = -(o - a) * r, d = l * n, f = l + (c - d) * s / 1e3, h = l * s / 1e3 + o;
    return Math.abs(h - a) < uy && Math.abs(f) < uy ? [a, 0] : [h, f];
  };
  return i.isStepper = !0, i.dt = s, i;
}, O6 = (e) => {
  if (typeof e == "string")
    switch (e) {
      case "ease":
      case "ease-in-out":
      case "ease-out":
      case "ease-in":
      case "linear":
        return FO(e);
      case "spring":
        return Ype();
      default:
        if (e.split("(")[0] === "cubic-bezier")
          return FO(e);
    }
  return typeof e == "function" ? e : null;
};
function BO(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    t && (n = n.filter(function(s) {
      return Object.getOwnPropertyDescriptor(e, s).enumerable;
    })), r.push.apply(r, n);
  }
  return r;
}
function zO(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2 ? BO(Object(r), !0).forEach(function(n) {
      Gpe(e, n, r[n]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : BO(Object(r)).forEach(function(n) {
      Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
    });
  }
  return e;
}
function Gpe(e, t, r) {
  return (t = Zpe(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e;
}
function Zpe(e) {
  var t = Xpe(e, "string");
  return typeof t == "symbol" ? t : t + "";
}
function Xpe(e, t) {
  if (typeof e != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (typeof n != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
var Jpe = (e) => e.replace(/([A-Z])/g, (t) => "-".concat(t.toLowerCase())), Qpe = (e, t, r) => e.map((n) => "".concat(Jpe(n), " ").concat(t, "ms ").concat(r)).join(","), eme = (e, t) => [Object.keys(e), Object.keys(t)].reduce((r, n) => r.filter((s) => n.includes(s))), Nh = (e, t) => Object.keys(t).reduce((r, n) => zO(zO({}, r), {}, {
  [n]: e(n, t[n])
}), {});
function UO(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    t && (n = n.filter(function(s) {
      return Object.getOwnPropertyDescriptor(e, s).enumerable;
    })), r.push.apply(r, n);
  }
  return r;
}
function en(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2 ? UO(Object(r), !0).forEach(function(n) {
      tme(e, n, r[n]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : UO(Object(r)).forEach(function(n) {
      Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
    });
  }
  return e;
}
function tme(e, t, r) {
  return (t = rme(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e;
}
function rme(e) {
  var t = nme(e, "string");
  return typeof t == "symbol" ? t : t + "";
}
function nme(e, t) {
  if (typeof e != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (typeof n != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
var dy = (e, t, r) => e + (t - e) * r, J1 = (e) => {
  var {
    from: t,
    to: r
  } = e;
  return t !== r;
}, D6 = (e, t, r) => {
  var n = Nh((s, i) => {
    if (J1(i)) {
      var [o, a] = e(i.from, i.to, i.velocity);
      return en(en({}, i), {}, {
        from: o,
        velocity: a
      });
    }
    return i;
  }, t);
  return r < 1 ? Nh((s, i) => J1(i) ? en(en({}, i), {}, {
    velocity: dy(i.velocity, n[s].velocity, r),
    from: dy(i.from, n[s].from, r)
  }) : i, t) : D6(e, n, r - 1);
};
function sme(e, t, r, n, s, i) {
  var o, a = n.reduce((h, p) => en(en({}, h), {}, {
    [p]: {
      from: e[p],
      velocity: 0,
      to: t[p]
    }
  }), {}), l = () => Nh((h, p) => p.from, a), c = () => !Object.values(a).filter(J1).length, d = null, f = (h) => {
    o || (o = h);
    var p = h - o, g = p / r.dt;
    a = D6(r, a, g), s(en(en(en({}, e), t), l())), o = h, c() || (d = i.setTimeout(f));
  };
  return () => (d = i.setTimeout(f), () => {
    d();
  });
}
function ime(e, t, r, n, s, i, o) {
  var a = null, l = s.reduce((f, h) => en(en({}, f), {}, {
    [h]: [e[h], t[h]]
  }), {}), c, d = (f) => {
    c || (c = f);
    var h = (f - c) / n, p = Nh((m, y) => dy(...y, r(h)), l);
    if (i(en(en(en({}, e), t), p)), h < 1)
      a = o.setTimeout(d);
    else {
      var g = Nh((m, y) => dy(...y, r(1)), l);
      i(en(en(en({}, e), t), g));
    }
  };
  return () => (a = o.setTimeout(d), () => {
    a();
  });
}
const $6 = (e, t, r, n, s, i) => {
  var o = eme(e, t);
  return r.isStepper === !0 ? sme(e, t, r, o, s, i) : ime(e, t, r, n, o, s, i);
};
function ome(e) {
  var t, r = () => null, n = !1, s = null, i = (o) => {
    if (!n) {
      if (Array.isArray(o)) {
        if (!o.length)
          return;
        var a = o, [l, ...c] = a;
        if (typeof l == "number") {
          s = e.setTimeout(i.bind(null, c), l);
          return;
        }
        i(l), s = e.setTimeout(i.bind(null, c));
        return;
      }
      typeof o == "string" && (t = o, r(t)), typeof o == "object" && (t = o, r(t)), typeof o == "function" && o();
    }
  };
  return {
    stop: () => {
      n = !0;
    },
    start: (o) => {
      n = !1, s && (s(), s = null), i(o);
    },
    subscribe: (o) => (r = o, () => {
      r = () => null;
    }),
    getTimeoutController: () => e
  };
}
class ame {
  setTimeout(t) {
    var r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0, n = performance.now(), s = null, i = (o) => {
      o - n >= r ? t(o) : typeof requestAnimationFrame == "function" && (s = requestAnimationFrame(i));
    };
    return s = requestAnimationFrame(i), () => {
      cancelAnimationFrame(s);
    };
  }
}
function lme() {
  return ome(new ame());
}
var cme = /* @__PURE__ */ dr(lme);
function R6(e, t) {
  var r = Dt(cme);
  return Ht(() => t ?? r(e), [e, t, r]);
}
var ume = ["children", "begin", "duration", "attributeName", "easing", "isActive", "from", "to", "canBegin", "onAnimationEnd", "shouldReAnimate", "onAnimationReStart", "animationManager"];
function Q1() {
  return Q1 = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var r = arguments[t];
      for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]);
    }
    return e;
  }, Q1.apply(null, arguments);
}
function dme(e, t) {
  if (e == null) return {};
  var r, n, s = fme(e, t);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    for (n = 0; n < i.length; n++) r = i[n], t.indexOf(r) === -1 && {}.propertyIsEnumerable.call(e, r) && (s[r] = e[r]);
  }
  return s;
}
function fme(e, t) {
  if (e == null) return {};
  var r = {};
  for (var n in e) if ({}.hasOwnProperty.call(e, n)) {
    if (t.indexOf(n) !== -1) continue;
    r[n] = e[n];
  }
  return r;
}
function qO(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    t && (n = n.filter(function(s) {
      return Object.getOwnPropertyDescriptor(e, s).enumerable;
    })), r.push.apply(r, n);
  }
  return r;
}
function ba(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2 ? qO(Object(r), !0).forEach(function(n) {
      Ll(e, n, r[n]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : qO(Object(r)).forEach(function(n) {
      Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
    });
  }
  return e;
}
function Ll(e, t, r) {
  return (t = hme(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e;
}
function hme(e) {
  var t = pme(e, "string");
  return typeof t == "symbol" ? t : t + "";
}
function pme(e, t) {
  if (typeof e != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (typeof n != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
class Lj extends rv {
  constructor(t, r) {
    super(t, r), Ll(this, "mounted", !1), Ll(this, "manager", void 0), Ll(this, "stopJSAnimation", null), Ll(this, "unSubscribe", null);
    var {
      isActive: n,
      attributeName: s,
      from: i,
      to: o,
      children: a,
      duration: l,
      animationManager: c
    } = this.props;
    if (this.manager = c, this.handleStyleChange = this.handleStyleChange.bind(this), this.changeStyle = this.changeStyle.bind(this), !n || l <= 0) {
      this.state = {
        style: {}
      }, typeof a == "function" && (this.state = {
        style: o
      });
      return;
    }
    if (i) {
      if (typeof a == "function") {
        this.state = {
          style: i
        };
        return;
      }
      this.state = {
        style: s ? {
          [s]: i
        } : i
      };
    } else
      this.state = {
        style: {}
      };
  }
  componentDidMount() {
    var {
      isActive: t,
      canBegin: r
    } = this.props;
    this.mounted = !0, !(!t || !r) && this.runAnimation(this.props);
  }
  componentDidUpdate(t) {
    var {
      isActive: r,
      canBegin: n,
      attributeName: s,
      shouldReAnimate: i,
      to: o,
      from: a
    } = this.props, {
      style: l
    } = this.state;
    if (n) {
      if (!r) {
        var c = {
          style: s ? {
            [s]: o
          } : o
        };
        this.state && l && (s && l[s] !== o || !s && l !== o) && this.setState(c);
        return;
      }
      if (!(Kpe(t.to, o) && t.canBegin && t.isActive)) {
        var d = !t.canBegin || !t.isActive;
        this.manager.stop(), this.stopJSAnimation && this.stopJSAnimation();
        var f = d || i ? a : t.to;
        if (this.state && l) {
          var h = {
            style: s ? {
              [s]: f
            } : f
          };
          (s && l[s] !== f || !s && l !== f) && this.setState(h);
        }
        this.runAnimation(ba(ba({}, this.props), {}, {
          from: f,
          begin: 0
        }));
      }
    }
  }
  componentWillUnmount() {
    this.mounted = !1;
    var {
      onAnimationEnd: t
    } = this.props;
    this.unSubscribe && this.unSubscribe(), this.manager.stop(), this.stopJSAnimation && this.stopJSAnimation(), t && t();
  }
  handleStyleChange(t) {
    this.changeStyle(t);
  }
  changeStyle(t) {
    this.mounted && this.setState({
      style: t
    });
  }
  runJSAnimation(t) {
    var {
      from: r,
      to: n,
      duration: s,
      easing: i,
      begin: o,
      onAnimationEnd: a,
      onAnimationStart: l
    } = t, c = $6(r, n, O6(i), s, this.changeStyle, this.manager.getTimeoutController()), d = () => {
      this.stopJSAnimation = c();
    };
    this.manager.start([l, o, d, s, a]);
  }
  runAnimation(t) {
    var {
      begin: r,
      duration: n,
      attributeName: s,
      to: i,
      easing: o,
      onAnimationStart: a,
      onAnimationEnd: l,
      children: c
    } = t;
    if (this.unSubscribe = this.manager.subscribe(this.handleStyleChange), typeof o == "function" || typeof c == "function" || o === "spring") {
      this.runJSAnimation(t);
      return;
    }
    var d = s ? {
      [s]: i
    } : i, f = Qpe(Object.keys(d), n, o);
    this.manager.start([a, r, ba(ba({}, d), {}, {
      transition: f
    }), n, l]);
  }
  render() {
    var t = this.props, {
      children: r,
      begin: n,
      duration: s,
      attributeName: i,
      easing: o,
      isActive: a,
      from: l,
      to: c,
      canBegin: d,
      onAnimationEnd: f,
      shouldReAnimate: h,
      onAnimationReStart: p,
      animationManager: g
    } = t, m = dme(t, ume), y = Po.count(r), v = this.state.style;
    if (typeof r == "function")
      return r(v);
    if (!a || y === 0 || s <= 0)
      return r;
    var b = (x) => {
      var {
        style: S = {},
        className: w
      } = x.props, j = /* @__PURE__ */ vi(x, ba(ba({}, m), {}, {
        style: ba(ba({}, S), v),
        className: w
      }));
      return j;
    };
    return y === 1 ? b(Po.only(r)) : /* @__PURE__ */ _.createElement("div", null, Po.map(r, (x) => b(x)));
  }
}
Ll(Lj, "displayName", "Animate");
Ll(Lj, "defaultProps", {
  begin: 0,
  duration: 1e3,
  attributeName: "",
  easing: "ease",
  isActive: !0,
  canBegin: !0,
  onAnimationEnd: () => {
  },
  onAnimationStart: () => {
  }
});
function fy(e) {
  var t, r = R6((t = e.attributeName) !== null && t !== void 0 ? t : Object.keys(e.to).join(","), e.animationManager);
  return /* @__PURE__ */ _.createElement(Lj, Q1({}, e, {
    animationManager: r
  }));
}
function hy() {
  return hy = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var r = arguments[t];
      for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]);
    }
    return e;
  }, hy.apply(null, arguments);
}
var VO = (e, t, r, n, s) => {
  var i = Math.min(Math.abs(r) / 2, Math.abs(n) / 2), o = n >= 0 ? 1 : -1, a = r >= 0 ? 1 : -1, l = n >= 0 && r >= 0 || n < 0 && r < 0 ? 1 : 0, c;
  if (i > 0 && s instanceof Array) {
    for (var d = [0, 0, 0, 0], f = 0, h = 4; f < h; f++)
      d[f] = s[f] > i ? i : s[f];
    c = "M".concat(e, ",").concat(t + o * d[0]), d[0] > 0 && (c += "A ".concat(d[0], ",").concat(d[0], ",0,0,").concat(l, ",").concat(e + a * d[0], ",").concat(t)), c += "L ".concat(e + r - a * d[1], ",").concat(t), d[1] > 0 && (c += "A ".concat(d[1], ",").concat(d[1], ",0,0,").concat(l, `,
        `).concat(e + r, ",").concat(t + o * d[1])), c += "L ".concat(e + r, ",").concat(t + n - o * d[2]), d[2] > 0 && (c += "A ".concat(d[2], ",").concat(d[2], ",0,0,").concat(l, `,
        `).concat(e + r - a * d[2], ",").concat(t + n)), c += "L ".concat(e + a * d[3], ",").concat(t + n), d[3] > 0 && (c += "A ".concat(d[3], ",").concat(d[3], ",0,0,").concat(l, `,
        `).concat(e, ",").concat(t + n - o * d[3])), c += "Z";
  } else if (i > 0 && s === +s && s > 0) {
    var p = Math.min(i, s);
    c = "M ".concat(e, ",").concat(t + o * p, `
            A `).concat(p, ",").concat(p, ",0,0,").concat(l, ",").concat(e + a * p, ",").concat(t, `
            L `).concat(e + r - a * p, ",").concat(t, `
            A `).concat(p, ",").concat(p, ",0,0,").concat(l, ",").concat(e + r, ",").concat(t + o * p, `
            L `).concat(e + r, ",").concat(t + n - o * p, `
            A `).concat(p, ",").concat(p, ",0,0,").concat(l, ",").concat(e + r - a * p, ",").concat(t + n, `
            L `).concat(e + a * p, ",").concat(t + n, `
            A `).concat(p, ",").concat(p, ",0,0,").concat(l, ",").concat(e, ",").concat(t + n - o * p, " Z");
  } else
    c = "M ".concat(e, ",").concat(t, " h ").concat(r, " v ").concat(n, " h ").concat(-r, " Z");
  return c;
}, mme = {
  x: 0,
  y: 0,
  width: 0,
  height: 0,
  // The radius of border
  // The radius of four corners when radius is a number
  // The radius of left-top, right-top, right-bottom, left-bottom when radius is an array
  radius: 0,
  isAnimationActive: !1,
  isUpdateAnimationActive: !1,
  animationBegin: 0,
  animationDuration: 1500,
  animationEasing: "ease"
}, I6 = (e) => {
  var t = zs(e, mme), r = We(null), [n, s] = L(-1);
  ve(() => {
    if (r.current && r.current.getTotalLength)
      try {
        var v = r.current.getTotalLength();
        v && s(v);
      } catch {
      }
  }, []);
  var {
    x: i,
    y: o,
    width: a,
    height: l,
    radius: c,
    className: d
  } = t, {
    animationEasing: f,
    animationDuration: h,
    animationBegin: p,
    isAnimationActive: g,
    isUpdateAnimationActive: m
  } = t;
  if (i !== +i || o !== +o || a !== +a || l !== +l || a === 0 || l === 0)
    return null;
  var y = at("recharts-rectangle", d);
  return m ? /* @__PURE__ */ _.createElement(fy, {
    canBegin: n > 0,
    from: {
      width: a,
      height: l,
      x: i,
      y: o
    },
    to: {
      width: a,
      height: l,
      x: i,
      y: o
    },
    duration: h,
    animationEasing: f,
    isActive: m
  }, (v) => {
    var {
      width: b,
      height: x,
      x: S,
      y: w
    } = v;
    return /* @__PURE__ */ _.createElement(fy, {
      canBegin: n > 0,
      from: "0px ".concat(n === -1 ? 1 : n, "px"),
      to: "".concat(n, "px 0px"),
      attributeName: "strokeDasharray",
      begin: p,
      duration: h,
      isActive: g,
      easing: f
    }, /* @__PURE__ */ _.createElement("path", hy({}, tr(t, !0), {
      className: y,
      d: VO(S, w, b, x, c),
      ref: r
    })));
  }) : /* @__PURE__ */ _.createElement("path", hy({}, tr(t, !0), {
    className: y,
    d: VO(i, o, a, l, c)
  }));
};
function M6(e) {
  var {
    cx: t,
    cy: r,
    radius: n,
    startAngle: s,
    endAngle: i
  } = e, o = xr(t, r, n, s), a = xr(t, r, n, i);
  return {
    points: [o, a],
    cx: t,
    cy: r,
    radius: n,
    startAngle: s,
    endAngle: i
  };
}
function e_() {
  return e_ = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var r = arguments[t];
      for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]);
    }
    return e;
  }, e_.apply(null, arguments);
}
var gme = (e, t) => {
  var r = gn(t - e), n = Math.min(Math.abs(t - e), 359.999);
  return r * n;
}, Rm = (e) => {
  var {
    cx: t,
    cy: r,
    radius: n,
    angle: s,
    sign: i,
    isExternal: o,
    cornerRadius: a,
    cornerIsExternal: l
  } = e, c = a * (o ? 1 : -1) + n, d = Math.asin(a / c) / cy, f = l ? s : s + i * d, h = xr(t, r, c, f), p = xr(t, r, n, f), g = l ? s - i * d : s, m = xr(t, r, c * Math.cos(d * cy), g);
  return {
    center: h,
    circleTangency: p,
    lineTangency: m,
    theta: d
  };
}, L6 = (e) => {
  var {
    cx: t,
    cy: r,
    innerRadius: n,
    outerRadius: s,
    startAngle: i,
    endAngle: o
  } = e, a = gme(i, o), l = i + a, c = xr(t, r, s, i), d = xr(t, r, s, l), f = "M ".concat(c.x, ",").concat(c.y, `
    A `).concat(s, ",").concat(s, `,0,
    `).concat(+(Math.abs(a) > 180), ",").concat(+(i > l), `,
    `).concat(d.x, ",").concat(d.y, `
  `);
  if (n > 0) {
    var h = xr(t, r, n, i), p = xr(t, r, n, l);
    f += "L ".concat(p.x, ",").concat(p.y, `
            A `).concat(n, ",").concat(n, `,0,
            `).concat(+(Math.abs(a) > 180), ",").concat(+(i <= l), `,
            `).concat(h.x, ",").concat(h.y, " Z");
  } else
    f += "L ".concat(t, ",").concat(r, " Z");
  return f;
}, yme = (e) => {
  var {
    cx: t,
    cy: r,
    innerRadius: n,
    outerRadius: s,
    cornerRadius: i,
    forceCornerRadius: o,
    cornerIsExternal: a,
    startAngle: l,
    endAngle: c
  } = e, d = gn(c - l), {
    circleTangency: f,
    lineTangency: h,
    theta: p
  } = Rm({
    cx: t,
    cy: r,
    radius: s,
    angle: l,
    sign: d,
    cornerRadius: i,
    cornerIsExternal: a
  }), {
    circleTangency: g,
    lineTangency: m,
    theta: y
  } = Rm({
    cx: t,
    cy: r,
    radius: s,
    angle: c,
    sign: -d,
    cornerRadius: i,
    cornerIsExternal: a
  }), v = a ? Math.abs(l - c) : Math.abs(l - c) - p - y;
  if (v < 0)
    return o ? "M ".concat(h.x, ",").concat(h.y, `
        a`).concat(i, ",").concat(i, ",0,0,1,").concat(i * 2, `,0
        a`).concat(i, ",").concat(i, ",0,0,1,").concat(-i * 2, `,0
      `) : L6({
      cx: t,
      cy: r,
      innerRadius: n,
      outerRadius: s,
      startAngle: l,
      endAngle: c
    });
  var b = "M ".concat(h.x, ",").concat(h.y, `
    A`).concat(i, ",").concat(i, ",0,0,").concat(+(d < 0), ",").concat(f.x, ",").concat(f.y, `
    A`).concat(s, ",").concat(s, ",0,").concat(+(v > 180), ",").concat(+(d < 0), ",").concat(g.x, ",").concat(g.y, `
    A`).concat(i, ",").concat(i, ",0,0,").concat(+(d < 0), ",").concat(m.x, ",").concat(m.y, `
  `);
  if (n > 0) {
    var {
      circleTangency: x,
      lineTangency: S,
      theta: w
    } = Rm({
      cx: t,
      cy: r,
      radius: n,
      angle: l,
      sign: d,
      isExternal: !0,
      cornerRadius: i,
      cornerIsExternal: a
    }), {
      circleTangency: j,
      lineTangency: N,
      theta: k
    } = Rm({
      cx: t,
      cy: r,
      radius: n,
      angle: c,
      sign: -d,
      isExternal: !0,
      cornerRadius: i,
      cornerIsExternal: a
    }), C = a ? Math.abs(l - c) : Math.abs(l - c) - w - k;
    if (C < 0 && i === 0)
      return "".concat(b, "L").concat(t, ",").concat(r, "Z");
    b += "L".concat(N.x, ",").concat(N.y, `
      A`).concat(i, ",").concat(i, ",0,0,").concat(+(d < 0), ",").concat(j.x, ",").concat(j.y, `
      A`).concat(n, ",").concat(n, ",0,").concat(+(C > 180), ",").concat(+(d > 0), ",").concat(x.x, ",").concat(x.y, `
      A`).concat(i, ",").concat(i, ",0,0,").concat(+(d < 0), ",").concat(S.x, ",").concat(S.y, "Z");
  } else
    b += "L".concat(t, ",").concat(r, "Z");
  return b;
}, vme = {
  cx: 0,
  cy: 0,
  innerRadius: 0,
  outerRadius: 0,
  startAngle: 0,
  endAngle: 0,
  cornerRadius: 0,
  forceCornerRadius: !1,
  cornerIsExternal: !1
}, F6 = (e) => {
  var t = zs(e, vme), {
    cx: r,
    cy: n,
    innerRadius: s,
    outerRadius: i,
    cornerRadius: o,
    forceCornerRadius: a,
    cornerIsExternal: l,
    startAngle: c,
    endAngle: d,
    className: f
  } = t;
  if (i < s || c === d)
    return null;
  var h = at("recharts-sector", f), p = i - s, g = Ds(o, p, 0, !0), m;
  return g > 0 && Math.abs(c - d) < 360 ? m = yme({
    cx: r,
    cy: n,
    innerRadius: s,
    outerRadius: i,
    cornerRadius: Math.min(g, p / 2),
    forceCornerRadius: a,
    cornerIsExternal: l,
    startAngle: c,
    endAngle: d
  }) : m = L6({
    cx: r,
    cy: n,
    innerRadius: s,
    outerRadius: i,
    startAngle: c,
    endAngle: d
  }), /* @__PURE__ */ _.createElement("path", e_({}, tr(t, !0), {
    className: h,
    d: m
  }));
};
function bme(e, t, r) {
  var n, s, i, o;
  if (e === "horizontal")
    n = t.x, i = n, s = r.top, o = r.top + r.height;
  else if (e === "vertical")
    s = t.y, o = s, n = r.left, i = r.left + r.width;
  else if (t.cx != null && t.cy != null)
    if (e === "centric") {
      var {
        cx: a,
        cy: l,
        innerRadius: c,
        outerRadius: d,
        angle: f
      } = t, h = xr(a, l, c, f), p = xr(a, l, d, f);
      n = h.x, s = h.y, i = p.x, o = p.y;
    } else
      return M6(t);
  return [{
    x: n,
    y: s
  }, {
    x: i,
    y: o
  }];
}
var B6 = {}, z6 = {}, U6 = {};
(function(e) {
  Object.defineProperty(e, Symbol.toStringTag, { value: "Module" });
  const t = Sj;
  function r(n) {
    return t.isSymbol(n) ? NaN : Number(n);
  }
  e.toNumber = r;
})(U6);
(function(e) {
  Object.defineProperty(e, Symbol.toStringTag, { value: "Module" });
  const t = U6;
  function r(n) {
    return n ? (n = t.toNumber(n), n === 1 / 0 || n === -1 / 0 ? (n < 0 ? -1 : 1) * Number.MAX_VALUE : n === n ? n : 0) : n === 0 ? n : 0;
  }
  e.toFinite = r;
})(z6);
(function(e) {
  Object.defineProperty(e, Symbol.toStringTag, { value: "Module" });
  const t = Ej, r = z6;
  function n(s, i, o) {
    o && typeof o != "number" && t.isIterateeCall(s, i, o) && (i = o = void 0), s = r.toFinite(s), i === void 0 ? (i = s, s = 0) : i = r.toFinite(i), o = o === void 0 ? s < i ? 1 : -1 : r.toFinite(o);
    const a = Math.max(Math.ceil((i - s) / (o || 1)), 0), l = new Array(a);
    for (let c = 0; c < a; c++)
      l[c] = s, s += o;
    return l;
  }
  e.range = n;
})(B6);
var xme = B6.range;
const q6 = /* @__PURE__ */ bi(xme);
function Va(e, t) {
  return e == null || t == null ? NaN : e < t ? -1 : e > t ? 1 : e >= t ? 0 : NaN;
}
function wme(e, t) {
  return e == null || t == null ? NaN : t < e ? -1 : t > e ? 1 : t >= e ? 0 : NaN;
}
function Fj(e) {
  let t, r, n;
  e.length !== 2 ? (t = Va, r = (a, l) => Va(e(a), l), n = (a, l) => e(a) - l) : (t = e === Va || e === wme ? e : _me, r = e, n = e);
  function s(a, l, c = 0, d = a.length) {
    if (c < d) {
      if (t(l, l) !== 0) return d;
      do {
        const f = c + d >>> 1;
        r(a[f], l) < 0 ? c = f + 1 : d = f;
      } while (c < d);
    }
    return c;
  }
  function i(a, l, c = 0, d = a.length) {
    if (c < d) {
      if (t(l, l) !== 0) return d;
      do {
        const f = c + d >>> 1;
        r(a[f], l) <= 0 ? c = f + 1 : d = f;
      } while (c < d);
    }
    return c;
  }
  function o(a, l, c = 0, d = a.length) {
    const f = s(a, l, c, d - 1);
    return f > c && n(a[f - 1], l) > -n(a[f], l) ? f - 1 : f;
  }
  return { left: s, center: o, right: i };
}
function _me() {
  return 0;
}
function V6(e) {
  return e === null ? NaN : +e;
}
function* Sme(e, t) {
  for (let r of e)
    r != null && (r = +r) >= r && (yield r);
}
const Eme = Fj(Va), gp = Eme.right;
Fj(V6).center;
class WO extends Map {
  constructor(t, r = kme) {
    if (super(), Object.defineProperties(this, { _intern: { value: /* @__PURE__ */ new Map() }, _key: { value: r } }), t != null) for (const [n, s] of t) this.set(n, s);
  }
  get(t) {
    return super.get(KO(this, t));
  }
  has(t) {
    return super.has(KO(this, t));
  }
  set(t, r) {
    return super.set(jme(this, t), r);
  }
  delete(t) {
    return super.delete(Nme(this, t));
  }
}
function KO({ _intern: e, _key: t }, r) {
  const n = t(r);
  return e.has(n) ? e.get(n) : r;
}
function jme({ _intern: e, _key: t }, r) {
  const n = t(r);
  return e.has(n) ? e.get(n) : (e.set(n, r), r);
}
function Nme({ _intern: e, _key: t }, r) {
  const n = t(r);
  return e.has(n) && (r = e.get(n), e.delete(n)), r;
}
function kme(e) {
  return e !== null && typeof e == "object" ? e.valueOf() : e;
}
function Cme(e = Va) {
  if (e === Va) return W6;
  if (typeof e != "function") throw new TypeError("compare is not a function");
  return (t, r) => {
    const n = e(t, r);
    return n || n === 0 ? n : (e(r, r) === 0) - (e(t, t) === 0);
  };
}
function W6(e, t) {
  return (e == null || !(e >= e)) - (t == null || !(t >= t)) || (e < t ? -1 : e > t ? 1 : 0);
}
const Tme = Math.sqrt(50), Ame = Math.sqrt(10), Pme = Math.sqrt(2);
function py(e, t, r) {
  const n = (t - e) / Math.max(0, r), s = Math.floor(Math.log10(n)), i = n / Math.pow(10, s), o = i >= Tme ? 10 : i >= Ame ? 5 : i >= Pme ? 2 : 1;
  let a, l, c;
  return s < 0 ? (c = Math.pow(10, -s) / o, a = Math.round(e * c), l = Math.round(t * c), a / c < e && ++a, l / c > t && --l, c = -c) : (c = Math.pow(10, s) * o, a = Math.round(e / c), l = Math.round(t / c), a * c < e && ++a, l * c > t && --l), l < a && 0.5 <= r && r < 2 ? py(e, t, r * 2) : [a, l, c];
}
function t_(e, t, r) {
  if (t = +t, e = +e, r = +r, !(r > 0)) return [];
  if (e === t) return [e];
  const n = t < e, [s, i, o] = n ? py(t, e, r) : py(e, t, r);
  if (!(i >= s)) return [];
  const a = i - s + 1, l = new Array(a);
  if (n)
    if (o < 0) for (let c = 0; c < a; ++c) l[c] = (i - c) / -o;
    else for (let c = 0; c < a; ++c) l[c] = (i - c) * o;
  else if (o < 0) for (let c = 0; c < a; ++c) l[c] = (s + c) / -o;
  else for (let c = 0; c < a; ++c) l[c] = (s + c) * o;
  return l;
}
function r_(e, t, r) {
  return t = +t, e = +e, r = +r, py(e, t, r)[2];
}
function n_(e, t, r) {
  t = +t, e = +e, r = +r;
  const n = t < e, s = n ? r_(t, e, r) : r_(e, t, r);
  return (n ? -1 : 1) * (s < 0 ? 1 / -s : s);
}
function HO(e, t) {
  let r;
  for (const n of e)
    n != null && (r < n || r === void 0 && n >= n) && (r = n);
  return r;
}
function YO(e, t) {
  let r;
  for (const n of e)
    n != null && (r > n || r === void 0 && n >= n) && (r = n);
  return r;
}
function K6(e, t, r = 0, n = 1 / 0, s) {
  if (t = Math.floor(t), r = Math.floor(Math.max(0, r)), n = Math.floor(Math.min(e.length - 1, n)), !(r <= t && t <= n)) return e;
  for (s = s === void 0 ? W6 : Cme(s); n > r; ) {
    if (n - r > 600) {
      const l = n - r + 1, c = t - r + 1, d = Math.log(l), f = 0.5 * Math.exp(2 * d / 3), h = 0.5 * Math.sqrt(d * f * (l - f) / l) * (c - l / 2 < 0 ? -1 : 1), p = Math.max(r, Math.floor(t - c * f / l + h)), g = Math.min(n, Math.floor(t + (l - c) * f / l + h));
      K6(e, t, p, g, s);
    }
    const i = e[t];
    let o = r, a = n;
    for (cf(e, r, t), s(e[n], i) > 0 && cf(e, r, n); o < a; ) {
      for (cf(e, o, a), ++o, --a; s(e[o], i) < 0; ) ++o;
      for (; s(e[a], i) > 0; ) --a;
    }
    s(e[r], i) === 0 ? cf(e, r, a) : (++a, cf(e, a, n)), a <= t && (r = a + 1), t <= a && (n = a - 1);
  }
  return e;
}
function cf(e, t, r) {
  const n = e[t];
  e[t] = e[r], e[r] = n;
}
function Ome(e, t, r) {
  if (e = Float64Array.from(Sme(e)), !(!(n = e.length) || isNaN(t = +t))) {
    if (t <= 0 || n < 2) return YO(e);
    if (t >= 1) return HO(e);
    var n, s = (n - 1) * t, i = Math.floor(s), o = HO(K6(e, i).subarray(0, i + 1)), a = YO(e.subarray(i + 1));
    return o + (a - o) * (s - i);
  }
}
function Dme(e, t, r = V6) {
  if (!(!(n = e.length) || isNaN(t = +t))) {
    if (t <= 0 || n < 2) return +r(e[0], 0, e);
    if (t >= 1) return +r(e[n - 1], n - 1, e);
    var n, s = (n - 1) * t, i = Math.floor(s), o = +r(e[i], i, e), a = +r(e[i + 1], i + 1, e);
    return o + (a - o) * (s - i);
  }
}
function $me(e, t, r) {
  e = +e, t = +t, r = (s = arguments.length) < 2 ? (t = e, e = 0, 1) : s < 3 ? 1 : +r;
  for (var n = -1, s = Math.max(0, Math.ceil((t - e) / r)) | 0, i = new Array(s); ++n < s; )
    i[n] = e + n * r;
  return i;
}
function Us(e, t) {
  switch (arguments.length) {
    case 0:
      break;
    case 1:
      this.range(e);
      break;
    default:
      this.range(t).domain(e);
      break;
  }
  return this;
}
function na(e, t) {
  switch (arguments.length) {
    case 0:
      break;
    case 1: {
      typeof e == "function" ? this.interpolator(e) : this.range(e);
      break;
    }
    default: {
      this.domain(e), typeof t == "function" ? this.interpolator(t) : this.range(t);
      break;
    }
  }
  return this;
}
const s_ = Symbol("implicit");
function Bj() {
  var e = new WO(), t = [], r = [], n = s_;
  function s(i) {
    let o = e.get(i);
    if (o === void 0) {
      if (n !== s_) return n;
      e.set(i, o = t.push(i) - 1);
    }
    return r[o % r.length];
  }
  return s.domain = function(i) {
    if (!arguments.length) return t.slice();
    t = [], e = new WO();
    for (const o of i)
      e.has(o) || e.set(o, t.push(o) - 1);
    return s;
  }, s.range = function(i) {
    return arguments.length ? (r = Array.from(i), s) : r.slice();
  }, s.unknown = function(i) {
    return arguments.length ? (n = i, s) : n;
  }, s.copy = function() {
    return Bj(t, r).unknown(n);
  }, Us.apply(s, arguments), s;
}
function zj() {
  var e = Bj().unknown(void 0), t = e.domain, r = e.range, n = 0, s = 1, i, o, a = !1, l = 0, c = 0, d = 0.5;
  delete e.unknown;
  function f() {
    var h = t().length, p = s < n, g = p ? s : n, m = p ? n : s;
    i = (m - g) / Math.max(1, h - l + c * 2), a && (i = Math.floor(i)), g += (m - g - i * (h - l)) * d, o = i * (1 - l), a && (g = Math.round(g), o = Math.round(o));
    var y = $me(h).map(function(v) {
      return g + i * v;
    });
    return r(p ? y.reverse() : y);
  }
  return e.domain = function(h) {
    return arguments.length ? (t(h), f()) : t();
  }, e.range = function(h) {
    return arguments.length ? ([n, s] = h, n = +n, s = +s, f()) : [n, s];
  }, e.rangeRound = function(h) {
    return [n, s] = h, n = +n, s = +s, a = !0, f();
  }, e.bandwidth = function() {
    return o;
  }, e.step = function() {
    return i;
  }, e.round = function(h) {
    return arguments.length ? (a = !!h, f()) : a;
  }, e.padding = function(h) {
    return arguments.length ? (l = Math.min(1, c = +h), f()) : l;
  }, e.paddingInner = function(h) {
    return arguments.length ? (l = Math.min(1, h), f()) : l;
  }, e.paddingOuter = function(h) {
    return arguments.length ? (c = +h, f()) : c;
  }, e.align = function(h) {
    return arguments.length ? (d = Math.max(0, Math.min(1, h)), f()) : d;
  }, e.copy = function() {
    return zj(t(), [n, s]).round(a).paddingInner(l).paddingOuter(c).align(d);
  }, Us.apply(f(), arguments);
}
function H6(e) {
  var t = e.copy;
  return e.padding = e.paddingOuter, delete e.paddingInner, delete e.paddingOuter, e.copy = function() {
    return H6(t());
  }, e;
}
function Rme() {
  return H6(zj.apply(null, arguments).paddingInner(1));
}
function Uj(e, t, r) {
  e.prototype = t.prototype = r, r.constructor = e;
}
function Y6(e, t) {
  var r = Object.create(e.prototype);
  for (var n in t) r[n] = t[n];
  return r;
}
function yp() {
}
var kh = 0.7, my = 1 / kh, ju = "\\s*([+-]?\\d+)\\s*", Ch = "\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*", Wi = "\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*", Ime = /^#([0-9a-f]{3,8})$/, Mme = new RegExp(`^rgb\\(${ju},${ju},${ju}\\)$`), Lme = new RegExp(`^rgb\\(${Wi},${Wi},${Wi}\\)$`), Fme = new RegExp(`^rgba\\(${ju},${ju},${ju},${Ch}\\)$`), Bme = new RegExp(`^rgba\\(${Wi},${Wi},${Wi},${Ch}\\)$`), zme = new RegExp(`^hsl\\(${Ch},${Wi},${Wi}\\)$`), Ume = new RegExp(`^hsla\\(${Ch},${Wi},${Wi},${Ch}\\)$`), GO = {
  aliceblue: 15792383,
  antiquewhite: 16444375,
  aqua: 65535,
  aquamarine: 8388564,
  azure: 15794175,
  beige: 16119260,
  bisque: 16770244,
  black: 0,
  blanchedalmond: 16772045,
  blue: 255,
  blueviolet: 9055202,
  brown: 10824234,
  burlywood: 14596231,
  cadetblue: 6266528,
  chartreuse: 8388352,
  chocolate: 13789470,
  coral: 16744272,
  cornflowerblue: 6591981,
  cornsilk: 16775388,
  crimson: 14423100,
  cyan: 65535,
  darkblue: 139,
  darkcyan: 35723,
  darkgoldenrod: 12092939,
  darkgray: 11119017,
  darkgreen: 25600,
  darkgrey: 11119017,
  darkkhaki: 12433259,
  darkmagenta: 9109643,
  darkolivegreen: 5597999,
  darkorange: 16747520,
  darkorchid: 10040012,
  darkred: 9109504,
  darksalmon: 15308410,
  darkseagreen: 9419919,
  darkslateblue: 4734347,
  darkslategray: 3100495,
  darkslategrey: 3100495,
  darkturquoise: 52945,
  darkviolet: 9699539,
  deeppink: 16716947,
  deepskyblue: 49151,
  dimgray: 6908265,
  dimgrey: 6908265,
  dodgerblue: 2003199,
  firebrick: 11674146,
  floralwhite: 16775920,
  forestgreen: 2263842,
  fuchsia: 16711935,
  gainsboro: 14474460,
  ghostwhite: 16316671,
  gold: 16766720,
  goldenrod: 14329120,
  gray: 8421504,
  green: 32768,
  greenyellow: 11403055,
  grey: 8421504,
  honeydew: 15794160,
  hotpink: 16738740,
  indianred: 13458524,
  indigo: 4915330,
  ivory: 16777200,
  khaki: 15787660,
  lavender: 15132410,
  lavenderblush: 16773365,
  lawngreen: 8190976,
  lemonchiffon: 16775885,
  lightblue: 11393254,
  lightcoral: 15761536,
  lightcyan: 14745599,
  lightgoldenrodyellow: 16448210,
  lightgray: 13882323,
  lightgreen: 9498256,
  lightgrey: 13882323,
  lightpink: 16758465,
  lightsalmon: 16752762,
  lightseagreen: 2142890,
  lightskyblue: 8900346,
  lightslategray: 7833753,
  lightslategrey: 7833753,
  lightsteelblue: 11584734,
  lightyellow: 16777184,
  lime: 65280,
  limegreen: 3329330,
  linen: 16445670,
  magenta: 16711935,
  maroon: 8388608,
  mediumaquamarine: 6737322,
  mediumblue: 205,
  mediumorchid: 12211667,
  mediumpurple: 9662683,
  mediumseagreen: 3978097,
  mediumslateblue: 8087790,
  mediumspringgreen: 64154,
  mediumturquoise: 4772300,
  mediumvioletred: 13047173,
  midnightblue: 1644912,
  mintcream: 16121850,
  mistyrose: 16770273,
  moccasin: 16770229,
  navajowhite: 16768685,
  navy: 128,
  oldlace: 16643558,
  olive: 8421376,
  olivedrab: 7048739,
  orange: 16753920,
  orangered: 16729344,
  orchid: 14315734,
  palegoldenrod: 15657130,
  palegreen: 10025880,
  paleturquoise: 11529966,
  palevioletred: 14381203,
  papayawhip: 16773077,
  peachpuff: 16767673,
  peru: 13468991,
  pink: 16761035,
  plum: 14524637,
  powderblue: 11591910,
  purple: 8388736,
  rebeccapurple: 6697881,
  red: 16711680,
  rosybrown: 12357519,
  royalblue: 4286945,
  saddlebrown: 9127187,
  salmon: 16416882,
  sandybrown: 16032864,
  seagreen: 3050327,
  seashell: 16774638,
  sienna: 10506797,
  silver: 12632256,
  skyblue: 8900331,
  slateblue: 6970061,
  slategray: 7372944,
  slategrey: 7372944,
  snow: 16775930,
  springgreen: 65407,
  steelblue: 4620980,
  tan: 13808780,
  teal: 32896,
  thistle: 14204888,
  tomato: 16737095,
  turquoise: 4251856,
  violet: 15631086,
  wheat: 16113331,
  white: 16777215,
  whitesmoke: 16119285,
  yellow: 16776960,
  yellowgreen: 10145074
};
Uj(yp, Th, {
  copy(e) {
    return Object.assign(new this.constructor(), this, e);
  },
  displayable() {
    return this.rgb().displayable();
  },
  hex: ZO,
  // Deprecated! Use color.formatHex.
  formatHex: ZO,
  formatHex8: qme,
  formatHsl: Vme,
  formatRgb: XO,
  toString: XO
});
function ZO() {
  return this.rgb().formatHex();
}
function qme() {
  return this.rgb().formatHex8();
}
function Vme() {
  return G6(this).formatHsl();
}
function XO() {
  return this.rgb().formatRgb();
}
function Th(e) {
  var t, r;
  return e = (e + "").trim().toLowerCase(), (t = Ime.exec(e)) ? (r = t[1].length, t = parseInt(t[1], 16), r === 6 ? JO(t) : r === 3 ? new Un(t >> 8 & 15 | t >> 4 & 240, t >> 4 & 15 | t & 240, (t & 15) << 4 | t & 15, 1) : r === 8 ? Im(t >> 24 & 255, t >> 16 & 255, t >> 8 & 255, (t & 255) / 255) : r === 4 ? Im(t >> 12 & 15 | t >> 8 & 240, t >> 8 & 15 | t >> 4 & 240, t >> 4 & 15 | t & 240, ((t & 15) << 4 | t & 15) / 255) : null) : (t = Mme.exec(e)) ? new Un(t[1], t[2], t[3], 1) : (t = Lme.exec(e)) ? new Un(t[1] * 255 / 100, t[2] * 255 / 100, t[3] * 255 / 100, 1) : (t = Fme.exec(e)) ? Im(t[1], t[2], t[3], t[4]) : (t = Bme.exec(e)) ? Im(t[1] * 255 / 100, t[2] * 255 / 100, t[3] * 255 / 100, t[4]) : (t = zme.exec(e)) ? t2(t[1], t[2] / 100, t[3] / 100, 1) : (t = Ume.exec(e)) ? t2(t[1], t[2] / 100, t[3] / 100, t[4]) : GO.hasOwnProperty(e) ? JO(GO[e]) : e === "transparent" ? new Un(NaN, NaN, NaN, 0) : null;
}
function JO(e) {
  return new Un(e >> 16 & 255, e >> 8 & 255, e & 255, 1);
}
function Im(e, t, r, n) {
  return n <= 0 && (e = t = r = NaN), new Un(e, t, r, n);
}
function Wme(e) {
  return e instanceof yp || (e = Th(e)), e ? (e = e.rgb(), new Un(e.r, e.g, e.b, e.opacity)) : new Un();
}
function i_(e, t, r, n) {
  return arguments.length === 1 ? Wme(e) : new Un(e, t, r, n ?? 1);
}
function Un(e, t, r, n) {
  this.r = +e, this.g = +t, this.b = +r, this.opacity = +n;
}
Uj(Un, i_, Y6(yp, {
  brighter(e) {
    return e = e == null ? my : Math.pow(my, e), new Un(this.r * e, this.g * e, this.b * e, this.opacity);
  },
  darker(e) {
    return e = e == null ? kh : Math.pow(kh, e), new Un(this.r * e, this.g * e, this.b * e, this.opacity);
  },
  rgb() {
    return this;
  },
  clamp() {
    return new Un(Jl(this.r), Jl(this.g), Jl(this.b), gy(this.opacity));
  },
  displayable() {
    return -0.5 <= this.r && this.r < 255.5 && -0.5 <= this.g && this.g < 255.5 && -0.5 <= this.b && this.b < 255.5 && 0 <= this.opacity && this.opacity <= 1;
  },
  hex: QO,
  // Deprecated! Use color.formatHex.
  formatHex: QO,
  formatHex8: Kme,
  formatRgb: e2,
  toString: e2
}));
function QO() {
  return `#${Fl(this.r)}${Fl(this.g)}${Fl(this.b)}`;
}
function Kme() {
  return `#${Fl(this.r)}${Fl(this.g)}${Fl(this.b)}${Fl((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;
}
function e2() {
  const e = gy(this.opacity);
  return `${e === 1 ? "rgb(" : "rgba("}${Jl(this.r)}, ${Jl(this.g)}, ${Jl(this.b)}${e === 1 ? ")" : `, ${e})`}`;
}
function gy(e) {
  return isNaN(e) ? 1 : Math.max(0, Math.min(1, e));
}
function Jl(e) {
  return Math.max(0, Math.min(255, Math.round(e) || 0));
}
function Fl(e) {
  return e = Jl(e), (e < 16 ? "0" : "") + e.toString(16);
}
function t2(e, t, r, n) {
  return n <= 0 ? e = t = r = NaN : r <= 0 || r >= 1 ? e = t = NaN : t <= 0 && (e = NaN), new li(e, t, r, n);
}
function G6(e) {
  if (e instanceof li) return new li(e.h, e.s, e.l, e.opacity);
  if (e instanceof yp || (e = Th(e)), !e) return new li();
  if (e instanceof li) return e;
  e = e.rgb();
  var t = e.r / 255, r = e.g / 255, n = e.b / 255, s = Math.min(t, r, n), i = Math.max(t, r, n), o = NaN, a = i - s, l = (i + s) / 2;
  return a ? (t === i ? o = (r - n) / a + (r < n) * 6 : r === i ? o = (n - t) / a + 2 : o = (t - r) / a + 4, a /= l < 0.5 ? i + s : 2 - i - s, o *= 60) : a = l > 0 && l < 1 ? 0 : o, new li(o, a, l, e.opacity);
}
function Hme(e, t, r, n) {
  return arguments.length === 1 ? G6(e) : new li(e, t, r, n ?? 1);
}
function li(e, t, r, n) {
  this.h = +e, this.s = +t, this.l = +r, this.opacity = +n;
}
Uj(li, Hme, Y6(yp, {
  brighter(e) {
    return e = e == null ? my : Math.pow(my, e), new li(this.h, this.s, this.l * e, this.opacity);
  },
  darker(e) {
    return e = e == null ? kh : Math.pow(kh, e), new li(this.h, this.s, this.l * e, this.opacity);
  },
  rgb() {
    var e = this.h % 360 + (this.h < 0) * 360, t = isNaN(e) || isNaN(this.s) ? 0 : this.s, r = this.l, n = r + (r < 0.5 ? r : 1 - r) * t, s = 2 * r - n;
    return new Un(
      jx(e >= 240 ? e - 240 : e + 120, s, n),
      jx(e, s, n),
      jx(e < 120 ? e + 240 : e - 120, s, n),
      this.opacity
    );
  },
  clamp() {
    return new li(r2(this.h), Mm(this.s), Mm(this.l), gy(this.opacity));
  },
  displayable() {
    return (0 <= this.s && this.s <= 1 || isNaN(this.s)) && 0 <= this.l && this.l <= 1 && 0 <= this.opacity && this.opacity <= 1;
  },
  formatHsl() {
    const e = gy(this.opacity);
    return `${e === 1 ? "hsl(" : "hsla("}${r2(this.h)}, ${Mm(this.s) * 100}%, ${Mm(this.l) * 100}%${e === 1 ? ")" : `, ${e})`}`;
  }
}));
function r2(e) {
  return e = (e || 0) % 360, e < 0 ? e + 360 : e;
}
function Mm(e) {
  return Math.max(0, Math.min(1, e || 0));
}
function jx(e, t, r) {
  return (e < 60 ? t + (r - t) * e / 60 : e < 180 ? r : e < 240 ? t + (r - t) * (240 - e) / 60 : t) * 255;
}
const qj = (e) => () => e;
function Yme(e, t) {
  return function(r) {
    return e + r * t;
  };
}
function Gme(e, t, r) {
  return e = Math.pow(e, r), t = Math.pow(t, r) - e, r = 1 / r, function(n) {
    return Math.pow(e + n * t, r);
  };
}
function Zme(e) {
  return (e = +e) == 1 ? Z6 : function(t, r) {
    return r - t ? Gme(t, r, e) : qj(isNaN(t) ? r : t);
  };
}
function Z6(e, t) {
  var r = t - e;
  return r ? Yme(e, r) : qj(isNaN(e) ? t : e);
}
const n2 = function e(t) {
  var r = Zme(t);
  function n(s, i) {
    var o = r((s = i_(s)).r, (i = i_(i)).r), a = r(s.g, i.g), l = r(s.b, i.b), c = Z6(s.opacity, i.opacity);
    return function(d) {
      return s.r = o(d), s.g = a(d), s.b = l(d), s.opacity = c(d), s + "";
    };
  }
  return n.gamma = e, n;
}(1);
function Xme(e, t) {
  t || (t = []);
  var r = e ? Math.min(t.length, e.length) : 0, n = t.slice(), s;
  return function(i) {
    for (s = 0; s < r; ++s) n[s] = e[s] * (1 - i) + t[s] * i;
    return n;
  };
}
function Jme(e) {
  return ArrayBuffer.isView(e) && !(e instanceof DataView);
}
function Qme(e, t) {
  var r = t ? t.length : 0, n = e ? Math.min(r, e.length) : 0, s = new Array(n), i = new Array(r), o;
  for (o = 0; o < n; ++o) s[o] = jd(e[o], t[o]);
  for (; o < r; ++o) i[o] = t[o];
  return function(a) {
    for (o = 0; o < n; ++o) i[o] = s[o](a);
    return i;
  };
}
function ege(e, t) {
  var r = /* @__PURE__ */ new Date();
  return e = +e, t = +t, function(n) {
    return r.setTime(e * (1 - n) + t * n), r;
  };
}
function yy(e, t) {
  return e = +e, t = +t, function(r) {
    return e * (1 - r) + t * r;
  };
}
function tge(e, t) {
  var r = {}, n = {}, s;
  (e === null || typeof e != "object") && (e = {}), (t === null || typeof t != "object") && (t = {});
  for (s in t)
    s in e ? r[s] = jd(e[s], t[s]) : n[s] = t[s];
  return function(i) {
    for (s in r) n[s] = r[s](i);
    return n;
  };
}
var o_ = /[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g, Nx = new RegExp(o_.source, "g");
function rge(e) {
  return function() {
    return e;
  };
}
function nge(e) {
  return function(t) {
    return e(t) + "";
  };
}
function sge(e, t) {
  var r = o_.lastIndex = Nx.lastIndex = 0, n, s, i, o = -1, a = [], l = [];
  for (e = e + "", t = t + ""; (n = o_.exec(e)) && (s = Nx.exec(t)); )
    (i = s.index) > r && (i = t.slice(r, i), a[o] ? a[o] += i : a[++o] = i), (n = n[0]) === (s = s[0]) ? a[o] ? a[o] += s : a[++o] = s : (a[++o] = null, l.push({ i: o, x: yy(n, s) })), r = Nx.lastIndex;
  return r < t.length && (i = t.slice(r), a[o] ? a[o] += i : a[++o] = i), a.length < 2 ? l[0] ? nge(l[0].x) : rge(t) : (t = l.length, function(c) {
    for (var d = 0, f; d < t; ++d) a[(f = l[d]).i] = f.x(c);
    return a.join("");
  });
}
function jd(e, t) {
  var r = typeof t, n;
  return t == null || r === "boolean" ? qj(t) : (r === "number" ? yy : r === "string" ? (n = Th(t)) ? (t = n, n2) : sge : t instanceof Th ? n2 : t instanceof Date ? ege : Jme(t) ? Xme : Array.isArray(t) ? Qme : typeof t.valueOf != "function" && typeof t.toString != "function" || isNaN(t) ? tge : yy)(e, t);
}
function Vj(e, t) {
  return e = +e, t = +t, function(r) {
    return Math.round(e * (1 - r) + t * r);
  };
}
function ige(e, t) {
  t === void 0 && (t = e, e = jd);
  for (var r = 0, n = t.length - 1, s = t[0], i = new Array(n < 0 ? 0 : n); r < n; ) i[r] = e(s, s = t[++r]);
  return function(o) {
    var a = Math.max(0, Math.min(n - 1, Math.floor(o *= n)));
    return i[a](o - a);
  };
}
function oge(e) {
  return function() {
    return e;
  };
}
function vy(e) {
  return +e;
}
var s2 = [0, 1];
function Cn(e) {
  return e;
}
function a_(e, t) {
  return (t -= e = +e) ? function(r) {
    return (r - e) / t;
  } : oge(isNaN(t) ? NaN : 0.5);
}
function age(e, t) {
  var r;
  return e > t && (r = e, e = t, t = r), function(n) {
    return Math.max(e, Math.min(t, n));
  };
}
function lge(e, t, r) {
  var n = e[0], s = e[1], i = t[0], o = t[1];
  return s < n ? (n = a_(s, n), i = r(o, i)) : (n = a_(n, s), i = r(i, o)), function(a) {
    return i(n(a));
  };
}
function cge(e, t, r) {
  var n = Math.min(e.length, t.length) - 1, s = new Array(n), i = new Array(n), o = -1;
  for (e[n] < e[0] && (e = e.slice().reverse(), t = t.slice().reverse()); ++o < n; )
    s[o] = a_(e[o], e[o + 1]), i[o] = r(t[o], t[o + 1]);
  return function(a) {
    var l = gp(e, a, 1, n) - 1;
    return i[l](s[l](a));
  };
}
function vp(e, t) {
  return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown());
}
function ab() {
  var e = s2, t = s2, r = jd, n, s, i, o = Cn, a, l, c;
  function d() {
    var h = Math.min(e.length, t.length);
    return o !== Cn && (o = age(e[0], e[h - 1])), a = h > 2 ? cge : lge, l = c = null, f;
  }
  function f(h) {
    return h == null || isNaN(h = +h) ? i : (l || (l = a(e.map(n), t, r)))(n(o(h)));
  }
  return f.invert = function(h) {
    return o(s((c || (c = a(t, e.map(n), yy)))(h)));
  }, f.domain = function(h) {
    return arguments.length ? (e = Array.from(h, vy), d()) : e.slice();
  }, f.range = function(h) {
    return arguments.length ? (t = Array.from(h), d()) : t.slice();
  }, f.rangeRound = function(h) {
    return t = Array.from(h), r = Vj, d();
  }, f.clamp = function(h) {
    return arguments.length ? (o = h ? !0 : Cn, d()) : o !== Cn;
  }, f.interpolate = function(h) {
    return arguments.length ? (r = h, d()) : r;
  }, f.unknown = function(h) {
    return arguments.length ? (i = h, f) : i;
  }, function(h, p) {
    return n = h, s = p, d();
  };
}
function Wj() {
  return ab()(Cn, Cn);
}
function uge(e) {
  return Math.abs(e = Math.round(e)) >= 1e21 ? e.toLocaleString("en").replace(/,/g, "") : e.toString(10);
}
function by(e, t) {
  if ((r = (e = t ? e.toExponential(t - 1) : e.toExponential()).indexOf("e")) < 0) return null;
  var r, n = e.slice(0, r);
  return [
    n.length > 1 ? n[0] + n.slice(2) : n,
    +e.slice(r + 1)
  ];
}
function Ju(e) {
  return e = by(Math.abs(e)), e ? e[1] : NaN;
}
function dge(e, t) {
  return function(r, n) {
    for (var s = r.length, i = [], o = 0, a = e[0], l = 0; s > 0 && a > 0 && (l + a + 1 > n && (a = Math.max(1, n - l)), i.push(r.substring(s -= a, s + a)), !((l += a + 1) > n)); )
      a = e[o = (o + 1) % e.length];
    return i.reverse().join(t);
  };
}
function fge(e) {
  return function(t) {
    return t.replace(/[0-9]/g, function(r) {
      return e[+r];
    });
  };
}
var hge = /^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;
function Ah(e) {
  if (!(t = hge.exec(e))) throw new Error("invalid format: " + e);
  var t;
  return new Kj({
    fill: t[1],
    align: t[2],
    sign: t[3],
    symbol: t[4],
    zero: t[5],
    width: t[6],
    comma: t[7],
    precision: t[8] && t[8].slice(1),
    trim: t[9],
    type: t[10]
  });
}
Ah.prototype = Kj.prototype;
function Kj(e) {
  this.fill = e.fill === void 0 ? " " : e.fill + "", this.align = e.align === void 0 ? ">" : e.align + "", this.sign = e.sign === void 0 ? "-" : e.sign + "", this.symbol = e.symbol === void 0 ? "" : e.symbol + "", this.zero = !!e.zero, this.width = e.width === void 0 ? void 0 : +e.width, this.comma = !!e.comma, this.precision = e.precision === void 0 ? void 0 : +e.precision, this.trim = !!e.trim, this.type = e.type === void 0 ? "" : e.type + "";
}
Kj.prototype.toString = function() {
  return this.fill + this.align + this.sign + this.symbol + (this.zero ? "0" : "") + (this.width === void 0 ? "" : Math.max(1, this.width | 0)) + (this.comma ? "," : "") + (this.precision === void 0 ? "" : "." + Math.max(0, this.precision | 0)) + (this.trim ? "~" : "") + this.type;
};
function pge(e) {
  e: for (var t = e.length, r = 1, n = -1, s; r < t; ++r)
    switch (e[r]) {
      case ".":
        n = s = r;
        break;
      case "0":
        n === 0 && (n = r), s = r;
        break;
      default:
        if (!+e[r]) break e;
        n > 0 && (n = 0);
        break;
    }
  return n > 0 ? e.slice(0, n) + e.slice(s + 1) : e;
}
var X6;
function mge(e, t) {
  var r = by(e, t);
  if (!r) return e + "";
  var n = r[0], s = r[1], i = s - (X6 = Math.max(-8, Math.min(8, Math.floor(s / 3))) * 3) + 1, o = n.length;
  return i === o ? n : i > o ? n + new Array(i - o + 1).join("0") : i > 0 ? n.slice(0, i) + "." + n.slice(i) : "0." + new Array(1 - i).join("0") + by(e, Math.max(0, t + i - 1))[0];
}
function i2(e, t) {
  var r = by(e, t);
  if (!r) return e + "";
  var n = r[0], s = r[1];
  return s < 0 ? "0." + new Array(-s).join("0") + n : n.length > s + 1 ? n.slice(0, s + 1) + "." + n.slice(s + 1) : n + new Array(s - n.length + 2).join("0");
}
const o2 = {
  "%": (e, t) => (e * 100).toFixed(t),
  b: (e) => Math.round(e).toString(2),
  c: (e) => e + "",
  d: uge,
  e: (e, t) => e.toExponential(t),
  f: (e, t) => e.toFixed(t),
  g: (e, t) => e.toPrecision(t),
  o: (e) => Math.round(e).toString(8),
  p: (e, t) => i2(e * 100, t),
  r: i2,
  s: mge,
  X: (e) => Math.round(e).toString(16).toUpperCase(),
  x: (e) => Math.round(e).toString(16)
};
function a2(e) {
  return e;
}
var l2 = Array.prototype.map, c2 = ["y", "z", "a", "f", "p", "n", "", "m", "", "k", "M", "G", "T", "P", "E", "Z", "Y"];
function gge(e) {
  var t = e.grouping === void 0 || e.thousands === void 0 ? a2 : dge(l2.call(e.grouping, Number), e.thousands + ""), r = e.currency === void 0 ? "" : e.currency[0] + "", n = e.currency === void 0 ? "" : e.currency[1] + "", s = e.decimal === void 0 ? "." : e.decimal + "", i = e.numerals === void 0 ? a2 : fge(l2.call(e.numerals, String)), o = e.percent === void 0 ? "%" : e.percent + "", a = e.minus === void 0 ? "" : e.minus + "", l = e.nan === void 0 ? "NaN" : e.nan + "";
  function c(f) {
    f = Ah(f);
    var h = f.fill, p = f.align, g = f.sign, m = f.symbol, y = f.zero, v = f.width, b = f.comma, x = f.precision, S = f.trim, w = f.type;
    w === "n" ? (b = !0, w = "g") : o2[w] || (x === void 0 && (x = 12), S = !0, w = "g"), (y || h === "0" && p === "=") && (y = !0, h = "0", p = "=");
    var j = m === "$" ? r : m === "#" && /[boxX]/.test(w) ? "0" + w.toLowerCase() : "", N = m === "$" ? n : /[%p]/.test(w) ? o : "", k = o2[w], C = /[defgprs%]/.test(w);
    x = x === void 0 ? 6 : /[gprs]/.test(w) ? Math.max(1, Math.min(21, x)) : Math.max(0, Math.min(20, x));
    function $(I) {
      var M = j, O = N, z, U, G;
      if (w === "c")
        O = k(I) + O, I = "";
      else {
        I = +I;
        var q = I < 0 || 1 / I < 0;
        if (I = isNaN(I) ? l : k(Math.abs(I), x), S && (I = pge(I)), q && +I == 0 && g !== "+" && (q = !1), M = (q ? g === "(" ? g : a : g === "-" || g === "(" ? "" : g) + M, O = (w === "s" ? c2[8 + X6 / 3] : "") + O + (q && g === "(" ? ")" : ""), C) {
          for (z = -1, U = I.length; ++z < U; )
            if (G = I.charCodeAt(z), 48 > G || G > 57) {
              O = (G === 46 ? s + I.slice(z + 1) : I.slice(z)) + O, I = I.slice(0, z);
              break;
            }
        }
      }
      b && !y && (I = t(I, 1 / 0));
      var Z = M.length + I.length + O.length, ie = Z < v ? new Array(v - Z + 1).join(h) : "";
      switch (b && y && (I = t(ie + I, ie.length ? v - O.length : 1 / 0), ie = ""), p) {
        case "<":
          I = M + I + O + ie;
          break;
        case "=":
          I = M + ie + I + O;
          break;
        case "^":
          I = ie.slice(0, Z = ie.length >> 1) + M + I + O + ie.slice(Z);
          break;
        default:
          I = ie + M + I + O;
          break;
      }
      return i(I);
    }
    return $.toString = function() {
      return f + "";
    }, $;
  }
  function d(f, h) {
    var p = c((f = Ah(f), f.type = "f", f)), g = Math.max(-8, Math.min(8, Math.floor(Ju(h) / 3))) * 3, m = Math.pow(10, -g), y = c2[8 + g / 3];
    return function(v) {
      return p(m * v) + y;
    };
  }
  return {
    format: c,
    formatPrefix: d
  };
}
var Lm, Hj, J6;
yge({
  thousands: ",",
  grouping: [3],
  currency: ["$", ""]
});
function yge(e) {
  return Lm = gge(e), Hj = Lm.format, J6 = Lm.formatPrefix, Lm;
}
function vge(e) {
  return Math.max(0, -Ju(Math.abs(e)));
}
function bge(e, t) {
  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(Ju(t) / 3))) * 3 - Ju(Math.abs(e)));
}
function xge(e, t) {
  return e = Math.abs(e), t = Math.abs(t) - e, Math.max(0, Ju(t) - Ju(e)) + 1;
}
function Q6(e, t, r, n) {
  var s = n_(e, t, r), i;
  switch (n = Ah(n ?? ",f"), n.type) {
    case "s": {
      var o = Math.max(Math.abs(e), Math.abs(t));
      return n.precision == null && !isNaN(i = bge(s, o)) && (n.precision = i), J6(n, o);
    }
    case "":
    case "e":
    case "g":
    case "p":
    case "r": {
      n.precision == null && !isNaN(i = xge(s, Math.max(Math.abs(e), Math.abs(t)))) && (n.precision = i - (n.type === "e"));
      break;
    }
    case "f":
    case "%": {
      n.precision == null && !isNaN(i = vge(s)) && (n.precision = i - (n.type === "%") * 2);
      break;
    }
  }
  return Hj(n);
}
function cl(e) {
  var t = e.domain;
  return e.ticks = function(r) {
    var n = t();
    return t_(n[0], n[n.length - 1], r ?? 10);
  }, e.tickFormat = function(r, n) {
    var s = t();
    return Q6(s[0], s[s.length - 1], r ?? 10, n);
  }, e.nice = function(r) {
    r == null && (r = 10);
    var n = t(), s = 0, i = n.length - 1, o = n[s], a = n[i], l, c, d = 10;
    for (a < o && (c = o, o = a, a = c, c = s, s = i, i = c); d-- > 0; ) {
      if (c = r_(o, a, r), c === l)
        return n[s] = o, n[i] = a, t(n);
      if (c > 0)
        o = Math.floor(o / c) * c, a = Math.ceil(a / c) * c;
      else if (c < 0)
        o = Math.ceil(o * c) / c, a = Math.floor(a * c) / c;
      else
        break;
      l = c;
    }
    return e;
  }, e;
}
function eB() {
  var e = Wj();
  return e.copy = function() {
    return vp(e, eB());
  }, Us.apply(e, arguments), cl(e);
}
function tB(e) {
  var t;
  function r(n) {
    return n == null || isNaN(n = +n) ? t : n;
  }
  return r.invert = r, r.domain = r.range = function(n) {
    return arguments.length ? (e = Array.from(n, vy), r) : e.slice();
  }, r.unknown = function(n) {
    return arguments.length ? (t = n, r) : t;
  }, r.copy = function() {
    return tB(e).unknown(t);
  }, e = arguments.length ? Array.from(e, vy) : [0, 1], cl(r);
}
function rB(e, t) {
  e = e.slice();
  var r = 0, n = e.length - 1, s = e[r], i = e[n], o;
  return i < s && (o = r, r = n, n = o, o = s, s = i, i = o), e[r] = t.floor(s), e[n] = t.ceil(i), e;
}
function u2(e) {
  return Math.log(e);
}
function d2(e) {
  return Math.exp(e);
}
function wge(e) {
  return -Math.log(-e);
}
function _ge(e) {
  return -Math.exp(-e);
}
function Sge(e) {
  return isFinite(e) ? +("1e" + e) : e < 0 ? 0 : e;
}
function Ege(e) {
  return e === 10 ? Sge : e === Math.E ? Math.exp : (t) => Math.pow(e, t);
}
function jge(e) {
  return e === Math.E ? Math.log : e === 10 && Math.log10 || e === 2 && Math.log2 || (e = Math.log(e), (t) => Math.log(t) / e);
}
function f2(e) {
  return (t, r) => -e(-t, r);
}
function Yj(e) {
  const t = e(u2, d2), r = t.domain;
  let n = 10, s, i;
  function o() {
    return s = jge(n), i = Ege(n), r()[0] < 0 ? (s = f2(s), i = f2(i), e(wge, _ge)) : e(u2, d2), t;
  }
  return t.base = function(a) {
    return arguments.length ? (n = +a, o()) : n;
  }, t.domain = function(a) {
    return arguments.length ? (r(a), o()) : r();
  }, t.ticks = (a) => {
    const l = r();
    let c = l[0], d = l[l.length - 1];
    const f = d < c;
    f && ([c, d] = [d, c]);
    let h = s(c), p = s(d), g, m;
    const y = a == null ? 10 : +a;
    let v = [];
    if (!(n % 1) && p - h < y) {
      if (h = Math.floor(h), p = Math.ceil(p), c > 0) {
        for (; h <= p; ++h)
          for (g = 1; g < n; ++g)
            if (m = h < 0 ? g / i(-h) : g * i(h), !(m < c)) {
              if (m > d) break;
              v.push(m);
            }
      } else for (; h <= p; ++h)
        for (g = n - 1; g >= 1; --g)
          if (m = h > 0 ? g / i(-h) : g * i(h), !(m < c)) {
            if (m > d) break;
            v.push(m);
          }
      v.length * 2 < y && (v = t_(c, d, y));
    } else
      v = t_(h, p, Math.min(p - h, y)).map(i);
    return f ? v.reverse() : v;
  }, t.tickFormat = (a, l) => {
    if (a == null && (a = 10), l == null && (l = n === 10 ? "s" : ","), typeof l != "function" && (!(n % 1) && (l = Ah(l)).precision == null && (l.trim = !0), l = Hj(l)), a === 1 / 0) return l;
    const c = Math.max(1, n * a / t.ticks().length);
    return (d) => {
      let f = d / i(Math.round(s(d)));
      return f * n < n - 0.5 && (f *= n), f <= c ? l(d) : "";
    };
  }, t.nice = () => r(rB(r(), {
    floor: (a) => i(Math.floor(s(a))),
    ceil: (a) => i(Math.ceil(s(a)))
  })), t;
}
function nB() {
  const e = Yj(ab()).domain([1, 10]);
  return e.copy = () => vp(e, nB()).base(e.base()), Us.apply(e, arguments), e;
}
function h2(e) {
  return function(t) {
    return Math.sign(t) * Math.log1p(Math.abs(t / e));
  };
}
function p2(e) {
  return function(t) {
    return Math.sign(t) * Math.expm1(Math.abs(t)) * e;
  };
}
function Gj(e) {
  var t = 1, r = e(h2(t), p2(t));
  return r.constant = function(n) {
    return arguments.length ? e(h2(t = +n), p2(t)) : t;
  }, cl(r);
}
function sB() {
  var e = Gj(ab());
  return e.copy = function() {
    return vp(e, sB()).constant(e.constant());
  }, Us.apply(e, arguments);
}
function m2(e) {
  return function(t) {
    return t < 0 ? -Math.pow(-t, e) : Math.pow(t, e);
  };
}
function Nge(e) {
  return e < 0 ? -Math.sqrt(-e) : Math.sqrt(e);
}
function kge(e) {
  return e < 0 ? -e * e : e * e;
}
function Zj(e) {
  var t = e(Cn, Cn), r = 1;
  function n() {
    return r === 1 ? e(Cn, Cn) : r === 0.5 ? e(Nge, kge) : e(m2(r), m2(1 / r));
  }
  return t.exponent = function(s) {
    return arguments.length ? (r = +s, n()) : r;
  }, cl(t);
}
function Xj() {
  var e = Zj(ab());
  return e.copy = function() {
    return vp(e, Xj()).exponent(e.exponent());
  }, Us.apply(e, arguments), e;
}
function Cge() {
  return Xj.apply(null, arguments).exponent(0.5);
}
function g2(e) {
  return Math.sign(e) * e * e;
}
function Tge(e) {
  return Math.sign(e) * Math.sqrt(Math.abs(e));
}
function iB() {
  var e = Wj(), t = [0, 1], r = !1, n;
  function s(i) {
    var o = Tge(e(i));
    return isNaN(o) ? n : r ? Math.round(o) : o;
  }
  return s.invert = function(i) {
    return e.invert(g2(i));
  }, s.domain = function(i) {
    return arguments.length ? (e.domain(i), s) : e.domain();
  }, s.range = function(i) {
    return arguments.length ? (e.range((t = Array.from(i, vy)).map(g2)), s) : t.slice();
  }, s.rangeRound = function(i) {
    return s.range(i).round(!0);
  }, s.round = function(i) {
    return arguments.length ? (r = !!i, s) : r;
  }, s.clamp = function(i) {
    return arguments.length ? (e.clamp(i), s) : e.clamp();
  }, s.unknown = function(i) {
    return arguments.length ? (n = i, s) : n;
  }, s.copy = function() {
    return iB(e.domain(), t).round(r).clamp(e.clamp()).unknown(n);
  }, Us.apply(s, arguments), cl(s);
}
function oB() {
  var e = [], t = [], r = [], n;
  function s() {
    var o = 0, a = Math.max(1, t.length);
    for (r = new Array(a - 1); ++o < a; ) r[o - 1] = Dme(e, o / a);
    return i;
  }
  function i(o) {
    return o == null || isNaN(o = +o) ? n : t[gp(r, o)];
  }
  return i.invertExtent = function(o) {
    var a = t.indexOf(o);
    return a < 0 ? [NaN, NaN] : [
      a > 0 ? r[a - 1] : e[0],
      a < r.length ? r[a] : e[e.length - 1]
    ];
  }, i.domain = function(o) {
    if (!arguments.length) return e.slice();
    e = [];
    for (let a of o) a != null && !isNaN(a = +a) && e.push(a);
    return e.sort(Va), s();
  }, i.range = function(o) {
    return arguments.length ? (t = Array.from(o), s()) : t.slice();
  }, i.unknown = function(o) {
    return arguments.length ? (n = o, i) : n;
  }, i.quantiles = function() {
    return r.slice();
  }, i.copy = function() {
    return oB().domain(e).range(t).unknown(n);
  }, Us.apply(i, arguments);
}
function aB() {
  var e = 0, t = 1, r = 1, n = [0.5], s = [0, 1], i;
  function o(l) {
    return l != null && l <= l ? s[gp(n, l, 0, r)] : i;
  }
  function a() {
    var l = -1;
    for (n = new Array(r); ++l < r; ) n[l] = ((l + 1) * t - (l - r) * e) / (r + 1);
    return o;
  }
  return o.domain = function(l) {
    return arguments.length ? ([e, t] = l, e = +e, t = +t, a()) : [e, t];
  }, o.range = function(l) {
    return arguments.length ? (r = (s = Array.from(l)).length - 1, a()) : s.slice();
  }, o.invertExtent = function(l) {
    var c = s.indexOf(l);
    return c < 0 ? [NaN, NaN] : c < 1 ? [e, n[0]] : c >= r ? [n[r - 1], t] : [n[c - 1], n[c]];
  }, o.unknown = function(l) {
    return arguments.length && (i = l), o;
  }, o.thresholds = function() {
    return n.slice();
  }, o.copy = function() {
    return aB().domain([e, t]).range(s).unknown(i);
  }, Us.apply(cl(o), arguments);
}
function lB() {
  var e = [0.5], t = [0, 1], r, n = 1;
  function s(i) {
    return i != null && i <= i ? t[gp(e, i, 0, n)] : r;
  }
  return s.domain = function(i) {
    return arguments.length ? (e = Array.from(i), n = Math.min(e.length, t.length - 1), s) : e.slice();
  }, s.range = function(i) {
    return arguments.length ? (t = Array.from(i), n = Math.min(e.length, t.length - 1), s) : t.slice();
  }, s.invertExtent = function(i) {
    var o = t.indexOf(i);
    return [e[o - 1], e[o]];
  }, s.unknown = function(i) {
    return arguments.length ? (r = i, s) : r;
  }, s.copy = function() {
    return lB().domain(e).range(t).unknown(r);
  }, Us.apply(s, arguments);
}
const kx = /* @__PURE__ */ new Date(), Cx = /* @__PURE__ */ new Date();
function Mr(e, t, r, n) {
  function s(i) {
    return e(i = arguments.length === 0 ? /* @__PURE__ */ new Date() : /* @__PURE__ */ new Date(+i)), i;
  }
  return s.floor = (i) => (e(i = /* @__PURE__ */ new Date(+i)), i), s.ceil = (i) => (e(i = new Date(i - 1)), t(i, 1), e(i), i), s.round = (i) => {
    const o = s(i), a = s.ceil(i);
    return i - o < a - i ? o : a;
  }, s.offset = (i, o) => (t(i = /* @__PURE__ */ new Date(+i), o == null ? 1 : Math.floor(o)), i), s.range = (i, o, a) => {
    const l = [];
    if (i = s.ceil(i), a = a == null ? 1 : Math.floor(a), !(i < o) || !(a > 0)) return l;
    let c;
    do
      l.push(c = /* @__PURE__ */ new Date(+i)), t(i, a), e(i);
    while (c < i && i < o);
    return l;
  }, s.filter = (i) => Mr((o) => {
    if (o >= o) for (; e(o), !i(o); ) o.setTime(o - 1);
  }, (o, a) => {
    if (o >= o)
      if (a < 0) for (; ++a <= 0; )
        for (; t(o, -1), !i(o); )
          ;
      else for (; --a >= 0; )
        for (; t(o, 1), !i(o); )
          ;
  }), r && (s.count = (i, o) => (kx.setTime(+i), Cx.setTime(+o), e(kx), e(Cx), Math.floor(r(kx, Cx))), s.every = (i) => (i = Math.floor(i), !isFinite(i) || !(i > 0) ? null : i > 1 ? s.filter(n ? (o) => n(o) % i === 0 : (o) => s.count(0, o) % i === 0) : s)), s;
}
const xy = Mr(() => {
}, (e, t) => {
  e.setTime(+e + t);
}, (e, t) => t - e);
xy.every = (e) => (e = Math.floor(e), !isFinite(e) || !(e > 0) ? null : e > 1 ? Mr((t) => {
  t.setTime(Math.floor(t / e) * e);
}, (t, r) => {
  t.setTime(+t + r * e);
}, (t, r) => (r - t) / e) : xy);
xy.range;
const To = 1e3, As = To * 60, Ao = As * 60, Vo = Ao * 24, Jj = Vo * 7, y2 = Vo * 30, Tx = Vo * 365, Bl = Mr((e) => {
  e.setTime(e - e.getMilliseconds());
}, (e, t) => {
  e.setTime(+e + t * To);
}, (e, t) => (t - e) / To, (e) => e.getUTCSeconds());
Bl.range;
const Qj = Mr((e) => {
  e.setTime(e - e.getMilliseconds() - e.getSeconds() * To);
}, (e, t) => {
  e.setTime(+e + t * As);
}, (e, t) => (t - e) / As, (e) => e.getMinutes());
Qj.range;
const eN = Mr((e) => {
  e.setUTCSeconds(0, 0);
}, (e, t) => {
  e.setTime(+e + t * As);
}, (e, t) => (t - e) / As, (e) => e.getUTCMinutes());
eN.range;
const tN = Mr((e) => {
  e.setTime(e - e.getMilliseconds() - e.getSeconds() * To - e.getMinutes() * As);
}, (e, t) => {
  e.setTime(+e + t * Ao);
}, (e, t) => (t - e) / Ao, (e) => e.getHours());
tN.range;
const rN = Mr((e) => {
  e.setUTCMinutes(0, 0, 0);
}, (e, t) => {
  e.setTime(+e + t * Ao);
}, (e, t) => (t - e) / Ao, (e) => e.getUTCHours());
rN.range;
const bp = Mr(
  (e) => e.setHours(0, 0, 0, 0),
  (e, t) => e.setDate(e.getDate() + t),
  (e, t) => (t - e - (t.getTimezoneOffset() - e.getTimezoneOffset()) * As) / Vo,
  (e) => e.getDate() - 1
);
bp.range;
const lb = Mr((e) => {
  e.setUTCHours(0, 0, 0, 0);
}, (e, t) => {
  e.setUTCDate(e.getUTCDate() + t);
}, (e, t) => (t - e) / Vo, (e) => e.getUTCDate() - 1);
lb.range;
const cB = Mr((e) => {
  e.setUTCHours(0, 0, 0, 0);
}, (e, t) => {
  e.setUTCDate(e.getUTCDate() + t);
}, (e, t) => (t - e) / Vo, (e) => Math.floor(e / Vo));
cB.range;
function Sc(e) {
  return Mr((t) => {
    t.setDate(t.getDate() - (t.getDay() + 7 - e) % 7), t.setHours(0, 0, 0, 0);
  }, (t, r) => {
    t.setDate(t.getDate() + r * 7);
  }, (t, r) => (r - t - (r.getTimezoneOffset() - t.getTimezoneOffset()) * As) / Jj);
}
const cb = Sc(0), wy = Sc(1), Age = Sc(2), Pge = Sc(3), Qu = Sc(4), Oge = Sc(5), Dge = Sc(6);
cb.range;
wy.range;
Age.range;
Pge.range;
Qu.range;
Oge.range;
Dge.range;
function Ec(e) {
  return Mr((t) => {
    t.setUTCDate(t.getUTCDate() - (t.getUTCDay() + 7 - e) % 7), t.setUTCHours(0, 0, 0, 0);
  }, (t, r) => {
    t.setUTCDate(t.getUTCDate() + r * 7);
  }, (t, r) => (r - t) / Jj);
}
const ub = Ec(0), _y = Ec(1), $ge = Ec(2), Rge = Ec(3), ed = Ec(4), Ige = Ec(5), Mge = Ec(6);
ub.range;
_y.range;
$ge.range;
Rge.range;
ed.range;
Ige.range;
Mge.range;
const nN = Mr((e) => {
  e.setDate(1), e.setHours(0, 0, 0, 0);
}, (e, t) => {
  e.setMonth(e.getMonth() + t);
}, (e, t) => t.getMonth() - e.getMonth() + (t.getFullYear() - e.getFullYear()) * 12, (e) => e.getMonth());
nN.range;
const sN = Mr((e) => {
  e.setUTCDate(1), e.setUTCHours(0, 0, 0, 0);
}, (e, t) => {
  e.setUTCMonth(e.getUTCMonth() + t);
}, (e, t) => t.getUTCMonth() - e.getUTCMonth() + (t.getUTCFullYear() - e.getUTCFullYear()) * 12, (e) => e.getUTCMonth());
sN.range;
const Wo = Mr((e) => {
  e.setMonth(0, 1), e.setHours(0, 0, 0, 0);
}, (e, t) => {
  e.setFullYear(e.getFullYear() + t);
}, (e, t) => t.getFullYear() - e.getFullYear(), (e) => e.getFullYear());
Wo.every = (e) => !isFinite(e = Math.floor(e)) || !(e > 0) ? null : Mr((t) => {
  t.setFullYear(Math.floor(t.getFullYear() / e) * e), t.setMonth(0, 1), t.setHours(0, 0, 0, 0);
}, (t, r) => {
  t.setFullYear(t.getFullYear() + r * e);
});
Wo.range;
const Ko = Mr((e) => {
  e.setUTCMonth(0, 1), e.setUTCHours(0, 0, 0, 0);
}, (e, t) => {
  e.setUTCFullYear(e.getUTCFullYear() + t);
}, (e, t) => t.getUTCFullYear() - e.getUTCFullYear(), (e) => e.getUTCFullYear());
Ko.every = (e) => !isFinite(e = Math.floor(e)) || !(e > 0) ? null : Mr((t) => {
  t.setUTCFullYear(Math.floor(t.getUTCFullYear() / e) * e), t.setUTCMonth(0, 1), t.setUTCHours(0, 0, 0, 0);
}, (t, r) => {
  t.setUTCFullYear(t.getUTCFullYear() + r * e);
});
Ko.range;
function uB(e, t, r, n, s, i) {
  const o = [
    [Bl, 1, To],
    [Bl, 5, 5 * To],
    [Bl, 15, 15 * To],
    [Bl, 30, 30 * To],
    [i, 1, As],
    [i, 5, 5 * As],
    [i, 15, 15 * As],
    [i, 30, 30 * As],
    [s, 1, Ao],
    [s, 3, 3 * Ao],
    [s, 6, 6 * Ao],
    [s, 12, 12 * Ao],
    [n, 1, Vo],
    [n, 2, 2 * Vo],
    [r, 1, Jj],
    [t, 1, y2],
    [t, 3, 3 * y2],
    [e, 1, Tx]
  ];
  function a(c, d, f) {
    const h = d < c;
    h && ([c, d] = [d, c]);
    const p = f && typeof f.range == "function" ? f : l(c, d, f), g = p ? p.range(c, +d + 1) : [];
    return h ? g.reverse() : g;
  }
  function l(c, d, f) {
    const h = Math.abs(d - c) / f, p = Fj(([, , y]) => y).right(o, h);
    if (p === o.length) return e.every(n_(c / Tx, d / Tx, f));
    if (p === 0) return xy.every(Math.max(n_(c, d, f), 1));
    const [g, m] = o[h / o[p - 1][2] < o[p][2] / h ? p - 1 : p];
    return g.every(m);
  }
  return [a, l];
}
const [Lge, Fge] = uB(Ko, sN, ub, cB, rN, eN), [Bge, zge] = uB(Wo, nN, cb, bp, tN, Qj);
function Ax(e) {
  if (0 <= e.y && e.y < 100) {
    var t = new Date(-1, e.m, e.d, e.H, e.M, e.S, e.L);
    return t.setFullYear(e.y), t;
  }
  return new Date(e.y, e.m, e.d, e.H, e.M, e.S, e.L);
}
function Px(e) {
  if (0 <= e.y && e.y < 100) {
    var t = new Date(Date.UTC(-1, e.m, e.d, e.H, e.M, e.S, e.L));
    return t.setUTCFullYear(e.y), t;
  }
  return new Date(Date.UTC(e.y, e.m, e.d, e.H, e.M, e.S, e.L));
}
function uf(e, t, r) {
  return { y: e, m: t, d: r, H: 0, M: 0, S: 0, L: 0 };
}
function Uge(e) {
  var t = e.dateTime, r = e.date, n = e.time, s = e.periods, i = e.days, o = e.shortDays, a = e.months, l = e.shortMonths, c = df(s), d = ff(s), f = df(i), h = ff(i), p = df(o), g = ff(o), m = df(a), y = ff(a), v = df(l), b = ff(l), x = {
    a: q,
    A: Z,
    b: ie,
    B: D,
    c: null,
    d: S2,
    e: S2,
    f: dye,
    g: wye,
    G: Sye,
    H: lye,
    I: cye,
    j: uye,
    L: dB,
    m: fye,
    M: hye,
    p: B,
    q: X,
    Q: N2,
    s: k2,
    S: pye,
    u: mye,
    U: gye,
    V: yye,
    w: vye,
    W: bye,
    x: null,
    X: null,
    y: xye,
    Y: _ye,
    Z: Eye,
    "%": j2
  }, S = {
    a: oe,
    A: W,
    b: K,
    B: ee,
    c: null,
    d: E2,
    e: E2,
    f: Cye,
    g: Lye,
    G: Bye,
    H: jye,
    I: Nye,
    j: kye,
    L: hB,
    m: Tye,
    M: Aye,
    p: te,
    q: ue,
    Q: N2,
    s: k2,
    S: Pye,
    u: Oye,
    U: Dye,
    V: $ye,
    w: Rye,
    W: Iye,
    x: null,
    X: null,
    y: Mye,
    Y: Fye,
    Z: zye,
    "%": j2
  }, w = {
    a: $,
    A: I,
    b: M,
    B: O,
    c: z,
    d: w2,
    e: w2,
    f: sye,
    g: x2,
    G: b2,
    H: _2,
    I: _2,
    j: eye,
    L: nye,
    m: Qge,
    M: tye,
    p: C,
    q: Jge,
    Q: oye,
    s: aye,
    S: rye,
    u: Hge,
    U: Yge,
    V: Gge,
    w: Kge,
    W: Zge,
    x: U,
    X: G,
    y: x2,
    Y: b2,
    Z: Xge,
    "%": iye
  };
  x.x = j(r, x), x.X = j(n, x), x.c = j(t, x), S.x = j(r, S), S.X = j(n, S), S.c = j(t, S);
  function j(V, H) {
    return function(se) {
      var P = [], be = -1, ke = 0, Ve = V.length, He, lt, Tt;
      for (se instanceof Date || (se = /* @__PURE__ */ new Date(+se)); ++be < Ve; )
        V.charCodeAt(be) === 37 && (P.push(V.slice(ke, be)), (lt = v2[He = V.charAt(++be)]) != null ? He = V.charAt(++be) : lt = He === "e" ? " " : "0", (Tt = H[He]) && (He = Tt(se, lt)), P.push(He), ke = be + 1);
      return P.push(V.slice(ke, be)), P.join("");
    };
  }
  function N(V, H) {
    return function(se) {
      var P = uf(1900, void 0, 1), be = k(P, V, se += "", 0), ke, Ve;
      if (be != se.length) return null;
      if ("Q" in P) return new Date(P.Q);
      if ("s" in P) return new Date(P.s * 1e3 + ("L" in P ? P.L : 0));
      if (H && !("Z" in P) && (P.Z = 0), "p" in P && (P.H = P.H % 12 + P.p * 12), P.m === void 0 && (P.m = "q" in P ? P.q : 0), "V" in P) {
        if (P.V < 1 || P.V > 53) return null;
        "w" in P || (P.w = 1), "Z" in P ? (ke = Px(uf(P.y, 0, 1)), Ve = ke.getUTCDay(), ke = Ve > 4 || Ve === 0 ? _y.ceil(ke) : _y(ke), ke = lb.offset(ke, (P.V - 1) * 7), P.y = ke.getUTCFullYear(), P.m = ke.getUTCMonth(), P.d = ke.getUTCDate() + (P.w + 6) % 7) : (ke = Ax(uf(P.y, 0, 1)), Ve = ke.getDay(), ke = Ve > 4 || Ve === 0 ? wy.ceil(ke) : wy(ke), ke = bp.offset(ke, (P.V - 1) * 7), P.y = ke.getFullYear(), P.m = ke.getMonth(), P.d = ke.getDate() + (P.w + 6) % 7);
      } else ("W" in P || "U" in P) && ("w" in P || (P.w = "u" in P ? P.u % 7 : "W" in P ? 1 : 0), Ve = "Z" in P ? Px(uf(P.y, 0, 1)).getUTCDay() : Ax(uf(P.y, 0, 1)).getDay(), P.m = 0, P.d = "W" in P ? (P.w + 6) % 7 + P.W * 7 - (Ve + 5) % 7 : P.w + P.U * 7 - (Ve + 6) % 7);
      return "Z" in P ? (P.H += P.Z / 100 | 0, P.M += P.Z % 100, Px(P)) : Ax(P);
    };
  }
  function k(V, H, se, P) {
    for (var be = 0, ke = H.length, Ve = se.length, He, lt; be < ke; ) {
      if (P >= Ve) return -1;
      if (He = H.charCodeAt(be++), He === 37) {
        if (He = H.charAt(be++), lt = w[He in v2 ? H.charAt(be++) : He], !lt || (P = lt(V, se, P)) < 0) return -1;
      } else if (He != se.charCodeAt(P++))
        return -1;
    }
    return P;
  }
  function C(V, H, se) {
    var P = c.exec(H.slice(se));
    return P ? (V.p = d.get(P[0].toLowerCase()), se + P[0].length) : -1;
  }
  function $(V, H, se) {
    var P = p.exec(H.slice(se));
    return P ? (V.w = g.get(P[0].toLowerCase()), se + P[0].length) : -1;
  }
  function I(V, H, se) {
    var P = f.exec(H.slice(se));
    return P ? (V.w = h.get(P[0].toLowerCase()), se + P[0].length) : -1;
  }
  function M(V, H, se) {
    var P = v.exec(H.slice(se));
    return P ? (V.m = b.get(P[0].toLowerCase()), se + P[0].length) : -1;
  }
  function O(V, H, se) {
    var P = m.exec(H.slice(se));
    return P ? (V.m = y.get(P[0].toLowerCase()), se + P[0].length) : -1;
  }
  function z(V, H, se) {
    return k(V, t, H, se);
  }
  function U(V, H, se) {
    return k(V, r, H, se);
  }
  function G(V, H, se) {
    return k(V, n, H, se);
  }
  function q(V) {
    return o[V.getDay()];
  }
  function Z(V) {
    return i[V.getDay()];
  }
  function ie(V) {
    return l[V.getMonth()];
  }
  function D(V) {
    return a[V.getMonth()];
  }
  function B(V) {
    return s[+(V.getHours() >= 12)];
  }
  function X(V) {
    return 1 + ~~(V.getMonth() / 3);
  }
  function oe(V) {
    return o[V.getUTCDay()];
  }
  function W(V) {
    return i[V.getUTCDay()];
  }
  function K(V) {
    return l[V.getUTCMonth()];
  }
  function ee(V) {
    return a[V.getUTCMonth()];
  }
  function te(V) {
    return s[+(V.getUTCHours() >= 12)];
  }
  function ue(V) {
    return 1 + ~~(V.getUTCMonth() / 3);
  }
  return {
    format: function(V) {
      var H = j(V += "", x);
      return H.toString = function() {
        return V;
      }, H;
    },
    parse: function(V) {
      var H = N(V += "", !1);
      return H.toString = function() {
        return V;
      }, H;
    },
    utcFormat: function(V) {
      var H = j(V += "", S);
      return H.toString = function() {
        return V;
      }, H;
    },
    utcParse: function(V) {
      var H = N(V += "", !0);
      return H.toString = function() {
        return V;
      }, H;
    }
  };
}
var v2 = { "-": "", _: " ", 0: "0" }, Gr = /^\s*\d+/, qge = /^%/, Vge = /[\\^$*+?|[\]().{}]/g;
function ht(e, t, r) {
  var n = e < 0 ? "-" : "", s = (n ? -e : e) + "", i = s.length;
  return n + (i < r ? new Array(r - i + 1).join(t) + s : s);
}
function Wge(e) {
  return e.replace(Vge, "\\$&");
}
function df(e) {
  return new RegExp("^(?:" + e.map(Wge).join("|") + ")", "i");
}
function ff(e) {
  return new Map(e.map((t, r) => [t.toLowerCase(), r]));
}
function Kge(e, t, r) {
  var n = Gr.exec(t.slice(r, r + 1));
  return n ? (e.w = +n[0], r + n[0].length) : -1;
}
function Hge(e, t, r) {
  var n = Gr.exec(t.slice(r, r + 1));
  return n ? (e.u = +n[0], r + n[0].length) : -1;
}
function Yge(e, t, r) {
  var n = Gr.exec(t.slice(r, r + 2));
  return n ? (e.U = +n[0], r + n[0].length) : -1;
}
function Gge(e, t, r) {
  var n = Gr.exec(t.slice(r, r + 2));
  return n ? (e.V = +n[0], r + n[0].length) : -1;
}
function Zge(e, t, r) {
  var n = Gr.exec(t.slice(r, r + 2));
  return n ? (e.W = +n[0], r + n[0].length) : -1;
}
function b2(e, t, r) {
  var n = Gr.exec(t.slice(r, r + 4));
  return n ? (e.y = +n[0], r + n[0].length) : -1;
}
function x2(e, t, r) {
  var n = Gr.exec(t.slice(r, r + 2));
  return n ? (e.y = +n[0] + (+n[0] > 68 ? 1900 : 2e3), r + n[0].length) : -1;
}
function Xge(e, t, r) {
  var n = /^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r, r + 6));
  return n ? (e.Z = n[1] ? 0 : -(n[2] + (n[3] || "00")), r + n[0].length) : -1;
}
function Jge(e, t, r) {
  var n = Gr.exec(t.slice(r, r + 1));
  return n ? (e.q = n[0] * 3 - 3, r + n[0].length) : -1;
}
function Qge(e, t, r) {
  var n = Gr.exec(t.slice(r, r + 2));
  return n ? (e.m = n[0] - 1, r + n[0].length) : -1;
}
function w2(e, t, r) {
  var n = Gr.exec(t.slice(r, r + 2));
  return n ? (e.d = +n[0], r + n[0].length) : -1;
}
function eye(e, t, r) {
  var n = Gr.exec(t.slice(r, r + 3));
  return n ? (e.m = 0, e.d = +n[0], r + n[0].length) : -1;
}
function _2(e, t, r) {
  var n = Gr.exec(t.slice(r, r + 2));
  return n ? (e.H = +n[0], r + n[0].length) : -1;
}
function tye(e, t, r) {
  var n = Gr.exec(t.slice(r, r + 2));
  return n ? (e.M = +n[0], r + n[0].length) : -1;
}
function rye(e, t, r) {
  var n = Gr.exec(t.slice(r, r + 2));
  return n ? (e.S = +n[0], r + n[0].length) : -1;
}
function nye(e, t, r) {
  var n = Gr.exec(t.slice(r, r + 3));
  return n ? (e.L = +n[0], r + n[0].length) : -1;
}
function sye(e, t, r) {
  var n = Gr.exec(t.slice(r, r + 6));
  return n ? (e.L = Math.floor(n[0] / 1e3), r + n[0].length) : -1;
}
function iye(e, t, r) {
  var n = qge.exec(t.slice(r, r + 1));
  return n ? r + n[0].length : -1;
}
function oye(e, t, r) {
  var n = Gr.exec(t.slice(r));
  return n ? (e.Q = +n[0], r + n[0].length) : -1;
}
function aye(e, t, r) {
  var n = Gr.exec(t.slice(r));
  return n ? (e.s = +n[0], r + n[0].length) : -1;
}
function S2(e, t) {
  return ht(e.getDate(), t, 2);
}
function lye(e, t) {
  return ht(e.getHours(), t, 2);
}
function cye(e, t) {
  return ht(e.getHours() % 12 || 12, t, 2);
}
function uye(e, t) {
  return ht(1 + bp.count(Wo(e), e), t, 3);
}
function dB(e, t) {
  return ht(e.getMilliseconds(), t, 3);
}
function dye(e, t) {
  return dB(e, t) + "000";
}
function fye(e, t) {
  return ht(e.getMonth() + 1, t, 2);
}
function hye(e, t) {
  return ht(e.getMinutes(), t, 2);
}
function pye(e, t) {
  return ht(e.getSeconds(), t, 2);
}
function mye(e) {
  var t = e.getDay();
  return t === 0 ? 7 : t;
}
function gye(e, t) {
  return ht(cb.count(Wo(e) - 1, e), t, 2);
}
function fB(e) {
  var t = e.getDay();
  return t >= 4 || t === 0 ? Qu(e) : Qu.ceil(e);
}
function yye(e, t) {
  return e = fB(e), ht(Qu.count(Wo(e), e) + (Wo(e).getDay() === 4), t, 2);
}
function vye(e) {
  return e.getDay();
}
function bye(e, t) {
  return ht(wy.count(Wo(e) - 1, e), t, 2);
}
function xye(e, t) {
  return ht(e.getFullYear() % 100, t, 2);
}
function wye(e, t) {
  return e = fB(e), ht(e.getFullYear() % 100, t, 2);
}
function _ye(e, t) {
  return ht(e.getFullYear() % 1e4, t, 4);
}
function Sye(e, t) {
  var r = e.getDay();
  return e = r >= 4 || r === 0 ? Qu(e) : Qu.ceil(e), ht(e.getFullYear() % 1e4, t, 4);
}
function Eye(e) {
  var t = e.getTimezoneOffset();
  return (t > 0 ? "-" : (t *= -1, "+")) + ht(t / 60 | 0, "0", 2) + ht(t % 60, "0", 2);
}
function E2(e, t) {
  return ht(e.getUTCDate(), t, 2);
}
function jye(e, t) {
  return ht(e.getUTCHours(), t, 2);
}
function Nye(e, t) {
  return ht(e.getUTCHours() % 12 || 12, t, 2);
}
function kye(e, t) {
  return ht(1 + lb.count(Ko(e), e), t, 3);
}
function hB(e, t) {
  return ht(e.getUTCMilliseconds(), t, 3);
}
function Cye(e, t) {
  return hB(e, t) + "000";
}
function Tye(e, t) {
  return ht(e.getUTCMonth() + 1, t, 2);
}
function Aye(e, t) {
  return ht(e.getUTCMinutes(), t, 2);
}
function Pye(e, t) {
  return ht(e.getUTCSeconds(), t, 2);
}
function Oye(e) {
  var t = e.getUTCDay();
  return t === 0 ? 7 : t;
}
function Dye(e, t) {
  return ht(ub.count(Ko(e) - 1, e), t, 2);
}
function pB(e) {
  var t = e.getUTCDay();
  return t >= 4 || t === 0 ? ed(e) : ed.ceil(e);
}
function $ye(e, t) {
  return e = pB(e), ht(ed.count(Ko(e), e) + (Ko(e).getUTCDay() === 4), t, 2);
}
function Rye(e) {
  return e.getUTCDay();
}
function Iye(e, t) {
  return ht(_y.count(Ko(e) - 1, e), t, 2);
}
function Mye(e, t) {
  return ht(e.getUTCFullYear() % 100, t, 2);
}
function Lye(e, t) {
  return e = pB(e), ht(e.getUTCFullYear() % 100, t, 2);
}
function Fye(e, t) {
  return ht(e.getUTCFullYear() % 1e4, t, 4);
}
function Bye(e, t) {
  var r = e.getUTCDay();
  return e = r >= 4 || r === 0 ? ed(e) : ed.ceil(e), ht(e.getUTCFullYear() % 1e4, t, 4);
}
function zye() {
  return "+0000";
}
function j2() {
  return "%";
}
function N2(e) {
  return +e;
}
function k2(e) {
  return Math.floor(+e / 1e3);
}
var Hc, mB, gB;
Uye({
  dateTime: "%x, %X",
  date: "%-m/%-d/%Y",
  time: "%-I:%M:%S %p",
  periods: ["AM", "PM"],
  days: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
  shortDays: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
  months: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
  shortMonths: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"]
});
function Uye(e) {
  return Hc = Uge(e), mB = Hc.format, Hc.parse, gB = Hc.utcFormat, Hc.utcParse, Hc;
}
function qye(e) {
  return new Date(e);
}
function Vye(e) {
  return e instanceof Date ? +e : +/* @__PURE__ */ new Date(+e);
}
function iN(e, t, r, n, s, i, o, a, l, c) {
  var d = Wj(), f = d.invert, h = d.domain, p = c(".%L"), g = c(":%S"), m = c("%I:%M"), y = c("%I %p"), v = c("%a %d"), b = c("%b %d"), x = c("%B"), S = c("%Y");
  function w(j) {
    return (l(j) < j ? p : a(j) < j ? g : o(j) < j ? m : i(j) < j ? y : n(j) < j ? s(j) < j ? v : b : r(j) < j ? x : S)(j);
  }
  return d.invert = function(j) {
    return new Date(f(j));
  }, d.domain = function(j) {
    return arguments.length ? h(Array.from(j, Vye)) : h().map(qye);
  }, d.ticks = function(j) {
    var N = h();
    return e(N[0], N[N.length - 1], j ?? 10);
  }, d.tickFormat = function(j, N) {
    return N == null ? w : c(N);
  }, d.nice = function(j) {
    var N = h();
    return (!j || typeof j.range != "function") && (j = t(N[0], N[N.length - 1], j ?? 10)), j ? h(rB(N, j)) : d;
  }, d.copy = function() {
    return vp(d, iN(e, t, r, n, s, i, o, a, l, c));
  }, d;
}
function Wye() {
  return Us.apply(iN(Bge, zge, Wo, nN, cb, bp, tN, Qj, Bl, mB).domain([new Date(2e3, 0, 1), new Date(2e3, 0, 2)]), arguments);
}
function Kye() {
  return Us.apply(iN(Lge, Fge, Ko, sN, ub, lb, rN, eN, Bl, gB).domain([Date.UTC(2e3, 0, 1), Date.UTC(2e3, 0, 2)]), arguments);
}
function db() {
  var e = 0, t = 1, r, n, s, i, o = Cn, a = !1, l;
  function c(f) {
    return f == null || isNaN(f = +f) ? l : o(s === 0 ? 0.5 : (f = (i(f) - r) * s, a ? Math.max(0, Math.min(1, f)) : f));
  }
  c.domain = function(f) {
    return arguments.length ? ([e, t] = f, r = i(e = +e), n = i(t = +t), s = r === n ? 0 : 1 / (n - r), c) : [e, t];
  }, c.clamp = function(f) {
    return arguments.length ? (a = !!f, c) : a;
  }, c.interpolator = function(f) {
    return arguments.length ? (o = f, c) : o;
  };
  function d(f) {
    return function(h) {
      var p, g;
      return arguments.length ? ([p, g] = h, o = f(p, g), c) : [o(0), o(1)];
    };
  }
  return c.range = d(jd), c.rangeRound = d(Vj), c.unknown = function(f) {
    return arguments.length ? (l = f, c) : l;
  }, function(f) {
    return i = f, r = f(e), n = f(t), s = r === n ? 0 : 1 / (n - r), c;
  };
}
function ul(e, t) {
  return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown());
}
function yB() {
  var e = cl(db()(Cn));
  return e.copy = function() {
    return ul(e, yB());
  }, na.apply(e, arguments);
}
function vB() {
  var e = Yj(db()).domain([1, 10]);
  return e.copy = function() {
    return ul(e, vB()).base(e.base());
  }, na.apply(e, arguments);
}
function bB() {
  var e = Gj(db());
  return e.copy = function() {
    return ul(e, bB()).constant(e.constant());
  }, na.apply(e, arguments);
}
function oN() {
  var e = Zj(db());
  return e.copy = function() {
    return ul(e, oN()).exponent(e.exponent());
  }, na.apply(e, arguments);
}
function Hye() {
  return oN.apply(null, arguments).exponent(0.5);
}
function xB() {
  var e = [], t = Cn;
  function r(n) {
    if (n != null && !isNaN(n = +n)) return t((gp(e, n, 1) - 1) / (e.length - 1));
  }
  return r.domain = function(n) {
    if (!arguments.length) return e.slice();
    e = [];
    for (let s of n) s != null && !isNaN(s = +s) && e.push(s);
    return e.sort(Va), r;
  }, r.interpolator = function(n) {
    return arguments.length ? (t = n, r) : t;
  }, r.range = function() {
    return e.map((n, s) => t(s / (e.length - 1)));
  }, r.quantiles = function(n) {
    return Array.from({ length: n + 1 }, (s, i) => Ome(e, i / n));
  }, r.copy = function() {
    return xB(t).domain(e);
  }, na.apply(r, arguments);
}
function fb() {
  var e = 0, t = 0.5, r = 1, n = 1, s, i, o, a, l, c = Cn, d, f = !1, h;
  function p(m) {
    return isNaN(m = +m) ? h : (m = 0.5 + ((m = +d(m)) - i) * (n * m < n * i ? a : l), c(f ? Math.max(0, Math.min(1, m)) : m));
  }
  p.domain = function(m) {
    return arguments.length ? ([e, t, r] = m, s = d(e = +e), i = d(t = +t), o = d(r = +r), a = s === i ? 0 : 0.5 / (i - s), l = i === o ? 0 : 0.5 / (o - i), n = i < s ? -1 : 1, p) : [e, t, r];
  }, p.clamp = function(m) {
    return arguments.length ? (f = !!m, p) : f;
  }, p.interpolator = function(m) {
    return arguments.length ? (c = m, p) : c;
  };
  function g(m) {
    return function(y) {
      var v, b, x;
      return arguments.length ? ([v, b, x] = y, c = ige(m, [v, b, x]), p) : [c(0), c(0.5), c(1)];
    };
  }
  return p.range = g(jd), p.rangeRound = g(Vj), p.unknown = function(m) {
    return arguments.length ? (h = m, p) : h;
  }, function(m) {
    return d = m, s = m(e), i = m(t), o = m(r), a = s === i ? 0 : 0.5 / (i - s), l = i === o ? 0 : 0.5 / (o - i), n = i < s ? -1 : 1, p;
  };
}
function wB() {
  var e = cl(fb()(Cn));
  return e.copy = function() {
    return ul(e, wB());
  }, na.apply(e, arguments);
}
function _B() {
  var e = Yj(fb()).domain([0.1, 1, 10]);
  return e.copy = function() {
    return ul(e, _B()).base(e.base());
  }, na.apply(e, arguments);
}
function SB() {
  var e = Gj(fb());
  return e.copy = function() {
    return ul(e, SB()).constant(e.constant());
  }, na.apply(e, arguments);
}
function aN() {
  var e = Zj(fb());
  return e.copy = function() {
    return ul(e, aN()).exponent(e.exponent());
  }, na.apply(e, arguments);
}
function Yye() {
  return aN.apply(null, arguments).exponent(0.5);
}
const Af = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  scaleBand: zj,
  scaleDiverging: wB,
  scaleDivergingLog: _B,
  scaleDivergingPow: aN,
  scaleDivergingSqrt: Yye,
  scaleDivergingSymlog: SB,
  scaleIdentity: tB,
  scaleImplicit: s_,
  scaleLinear: eB,
  scaleLog: nB,
  scaleOrdinal: Bj,
  scalePoint: Rme,
  scalePow: Xj,
  scaleQuantile: oB,
  scaleQuantize: aB,
  scaleRadial: iB,
  scaleSequential: yB,
  scaleSequentialLog: vB,
  scaleSequentialPow: oN,
  scaleSequentialQuantile: xB,
  scaleSequentialSqrt: Hye,
  scaleSequentialSymlog: bB,
  scaleSqrt: Cge,
  scaleSymlog: sB,
  scaleThreshold: lB,
  scaleTime: Wye,
  scaleUtc: Kye,
  tickFormat: Q6
}, Symbol.toStringTag, { value: "Module" }));
var dl = (e) => e.chartData, lN = Q([dl], (e) => {
  var t = e.chartData != null ? e.chartData.length - 1 : 0;
  return {
    chartData: e.chartData,
    computedData: e.computedData,
    dataEndIndex: t,
    dataStartIndex: 0
  };
}), cN = (e, t, r, n) => n ? lN(e) : dl(e);
function td(e) {
  if (Array.isArray(e) && e.length === 2) {
    var [t, r] = e;
    if (gi(t) && gi(r))
      return !0;
  }
  return !1;
}
function C2(e, t, r) {
  return r ? e : [Math.min(e[0], t[0]), Math.max(e[1], t[1])];
}
function Gye(e, t) {
  if (t && typeof e != "function" && Array.isArray(e) && e.length === 2) {
    var [r, n] = e, s, i;
    if (gi(r))
      s = r;
    else if (typeof r == "function")
      return;
    if (gi(n))
      i = n;
    else if (typeof n == "function")
      return;
    var o = [s, i];
    if (td(o))
      return o;
  }
}
function Zye(e, t, r) {
  if (!(!r && t == null)) {
    if (typeof e == "function" && t != null)
      try {
        var n = e(t, r);
        if (td(n))
          return C2(n, t, r);
      } catch {
      }
    if (Array.isArray(e) && e.length === 2) {
      var [s, i] = e, o, a;
      if (s === "auto")
        t != null && (o = Math.min(...t));
      else if (Oe(s))
        o = s;
      else if (typeof s == "function")
        try {
          t != null && (o = s(t == null ? void 0 : t[0]));
        } catch {
        }
      else if (typeof s == "string" && EO.test(s)) {
        var l = EO.exec(s);
        if (l == null || t == null)
          o = void 0;
        else {
          var c = +l[1];
          o = t[0] - c;
        }
      } else
        o = t == null ? void 0 : t[0];
      if (i === "auto")
        t != null && (a = Math.max(...t));
      else if (Oe(i))
        a = i;
      else if (typeof i == "function")
        try {
          t != null && (a = i(t == null ? void 0 : t[1]));
        } catch {
        }
      else if (typeof i == "string" && jO.test(i)) {
        var d = jO.exec(i);
        if (d == null || t == null)
          a = void 0;
        else {
          var f = +d[1];
          a = t[1] + f;
        }
      } else
        a = t == null ? void 0 : t[1];
      var h = [o, a];
      if (td(h))
        return t == null ? h : C2(h, t, r);
    }
  }
}
var Nd = 1e9, Xye = {
  // These values must be integers within the stated ranges (inclusive).
  // Most of these values can be changed during run-time using `Decimal.config`.
  // The maximum number of significant digits of the result of a calculation or base conversion.
  // E.g. `Decimal.config({ precision: 20 });`
  precision: 20,
  // 1 to MAX_DIGITS
  // The rounding mode used by default by `toInteger`, `toDecimalPlaces`, `toExponential`,
  // `toFixed`, `toPrecision` and `toSignificantDigits`.
  //
  // ROUND_UP         0 Away from zero.
  // ROUND_DOWN       1 Towards zero.
  // ROUND_CEIL       2 Towards +Infinity.
  // ROUND_FLOOR      3 Towards -Infinity.
  // ROUND_HALF_UP    4 Towards nearest neighbour. If equidistant, up.
  // ROUND_HALF_DOWN  5 Towards nearest neighbour. If equidistant, down.
  // ROUND_HALF_EVEN  6 Towards nearest neighbour. If equidistant, towards even neighbour.
  // ROUND_HALF_CEIL  7 Towards nearest neighbour. If equidistant, towards +Infinity.
  // ROUND_HALF_FLOOR 8 Towards nearest neighbour. If equidistant, towards -Infinity.
  //
  // E.g.
  // `Decimal.rounding = 4;`
  // `Decimal.rounding = Decimal.ROUND_HALF_UP;`
  rounding: 4,
  // 0 to 8
  // The exponent value at and beneath which `toString` returns exponential notation.
  // JavaScript numbers: -7
  toExpNeg: -7,
  // 0 to -MAX_E
  // The exponent value at and above which `toString` returns exponential notation.
  // JavaScript numbers: 21
  toExpPos: 21,
  // 0 to MAX_E
  // The natural logarithm of 10.
  // 115 digits
  LN10: "2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"
}, dN, Kt = !0, Ms = "[DecimalError] ", Ql = Ms + "Invalid argument: ", uN = Ms + "Exponent out of range: ", kd = Math.floor, Ol = Math.pow, Jye = /^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i, ss, Ur = 1e7, zt = 7, EB = 9007199254740991, Sy = kd(EB / zt), Te = {};
Te.absoluteValue = Te.abs = function() {
  var e = new this.constructor(this);
  return e.s && (e.s = 1), e;
};
Te.comparedTo = Te.cmp = function(e) {
  var t, r, n, s, i = this;
  if (e = new i.constructor(e), i.s !== e.s) return i.s || -e.s;
  if (i.e !== e.e) return i.e > e.e ^ i.s < 0 ? 1 : -1;
  for (n = i.d.length, s = e.d.length, t = 0, r = n < s ? n : s; t < r; ++t)
    if (i.d[t] !== e.d[t]) return i.d[t] > e.d[t] ^ i.s < 0 ? 1 : -1;
  return n === s ? 0 : n > s ^ i.s < 0 ? 1 : -1;
};
Te.decimalPlaces = Te.dp = function() {
  var e = this, t = e.d.length - 1, r = (t - e.e) * zt;
  if (t = e.d[t], t) for (; t % 10 == 0; t /= 10) r--;
  return r < 0 ? 0 : r;
};
Te.dividedBy = Te.div = function(e) {
  return $o(this, new this.constructor(e));
};
Te.dividedToIntegerBy = Te.idiv = function(e) {
  var t = this, r = t.constructor;
  return Ct($o(t, new r(e), 0, 1), r.precision);
};
Te.equals = Te.eq = function(e) {
  return !this.cmp(e);
};
Te.exponent = function() {
  return _r(this);
};
Te.greaterThan = Te.gt = function(e) {
  return this.cmp(e) > 0;
};
Te.greaterThanOrEqualTo = Te.gte = function(e) {
  return this.cmp(e) >= 0;
};
Te.isInteger = Te.isint = function() {
  return this.e > this.d.length - 2;
};
Te.isNegative = Te.isneg = function() {
  return this.s < 0;
};
Te.isPositive = Te.ispos = function() {
  return this.s > 0;
};
Te.isZero = function() {
  return this.s === 0;
};
Te.lessThan = Te.lt = function(e) {
  return this.cmp(e) < 0;
};
Te.lessThanOrEqualTo = Te.lte = function(e) {
  return this.cmp(e) < 1;
};
Te.logarithm = Te.log = function(e) {
  var t, r = this, n = r.constructor, s = n.precision, i = s + 5;
  if (e === void 0)
    e = new n(10);
  else if (e = new n(e), e.s < 1 || e.eq(ss)) throw Error(Ms + "NaN");
  if (r.s < 1) throw Error(Ms + (r.s ? "NaN" : "-Infinity"));
  return r.eq(ss) ? new n(0) : (Kt = !1, t = $o(Ph(r, i), Ph(e, i), i), Kt = !0, Ct(t, s));
};
Te.minus = Te.sub = function(e) {
  var t = this;
  return e = new t.constructor(e), t.s == e.s ? kB(t, e) : jB(t, (e.s = -e.s, e));
};
Te.modulo = Te.mod = function(e) {
  var t, r = this, n = r.constructor, s = n.precision;
  if (e = new n(e), !e.s) throw Error(Ms + "NaN");
  return r.s ? (Kt = !1, t = $o(r, e, 0, 1).times(e), Kt = !0, r.minus(t)) : Ct(new n(r), s);
};
Te.naturalExponential = Te.exp = function() {
  return NB(this);
};
Te.naturalLogarithm = Te.ln = function() {
  return Ph(this);
};
Te.negated = Te.neg = function() {
  var e = new this.constructor(this);
  return e.s = -e.s || 0, e;
};
Te.plus = Te.add = function(e) {
  var t = this;
  return e = new t.constructor(e), t.s == e.s ? jB(t, e) : kB(t, (e.s = -e.s, e));
};
Te.precision = Te.sd = function(e) {
  var t, r, n, s = this;
  if (e !== void 0 && e !== !!e && e !== 1 && e !== 0) throw Error(Ql + e);
  if (t = _r(s) + 1, n = s.d.length - 1, r = n * zt + 1, n = s.d[n], n) {
    for (; n % 10 == 0; n /= 10) r--;
    for (n = s.d[0]; n >= 10; n /= 10) r++;
  }
  return e && t > r ? t : r;
};
Te.squareRoot = Te.sqrt = function() {
  var e, t, r, n, s, i, o, a = this, l = a.constructor;
  if (a.s < 1) {
    if (!a.s) return new l(0);
    throw Error(Ms + "NaN");
  }
  for (e = _r(a), Kt = !1, s = Math.sqrt(+a), s == 0 || s == 1 / 0 ? (t = Bi(a.d), (t.length + e) % 2 == 0 && (t += "0"), s = Math.sqrt(t), e = kd((e + 1) / 2) - (e < 0 || e % 2), s == 1 / 0 ? t = "5e" + e : (t = s.toExponential(), t = t.slice(0, t.indexOf("e") + 1) + e), n = new l(t)) : n = new l(s.toString()), r = l.precision, s = o = r + 3; ; )
    if (i = n, n = i.plus($o(a, i, o + 2)).times(0.5), Bi(i.d).slice(0, o) === (t = Bi(n.d)).slice(0, o)) {
      if (t = t.slice(o - 3, o + 1), s == o && t == "4999") {
        if (Ct(i, r + 1, 0), i.times(i).eq(a)) {
          n = i;
          break;
        }
      } else if (t != "9999")
        break;
      o += 4;
    }
  return Kt = !0, Ct(n, r);
};
Te.times = Te.mul = function(e) {
  var t, r, n, s, i, o, a, l, c, d = this, f = d.constructor, h = d.d, p = (e = new f(e)).d;
  if (!d.s || !e.s) return new f(0);
  for (e.s *= d.s, r = d.e + e.e, l = h.length, c = p.length, l < c && (i = h, h = p, p = i, o = l, l = c, c = o), i = [], o = l + c, n = o; n--; ) i.push(0);
  for (n = c; --n >= 0; ) {
    for (t = 0, s = l + n; s > n; )
      a = i[s] + p[n] * h[s - n - 1] + t, i[s--] = a % Ur | 0, t = a / Ur | 0;
    i[s] = (i[s] + t) % Ur | 0;
  }
  for (; !i[--o]; ) i.pop();
  return t ? ++r : i.shift(), e.d = i, e.e = r, Kt ? Ct(e, f.precision) : e;
};
Te.toDecimalPlaces = Te.todp = function(e, t) {
  var r = this, n = r.constructor;
  return r = new n(r), e === void 0 ? r : (Ji(e, 0, Nd), t === void 0 ? t = n.rounding : Ji(t, 0, 8), Ct(r, e + _r(r) + 1, t));
};
Te.toExponential = function(e, t) {
  var r, n = this, s = n.constructor;
  return e === void 0 ? r = uc(n, !0) : (Ji(e, 0, Nd), t === void 0 ? t = s.rounding : Ji(t, 0, 8), n = Ct(new s(n), e + 1, t), r = uc(n, !0, e + 1)), r;
};
Te.toFixed = function(e, t) {
  var r, n, s = this, i = s.constructor;
  return e === void 0 ? uc(s) : (Ji(e, 0, Nd), t === void 0 ? t = i.rounding : Ji(t, 0, 8), n = Ct(new i(s), e + _r(s) + 1, t), r = uc(n.abs(), !1, e + _r(n) + 1), s.isneg() && !s.isZero() ? "-" + r : r);
};
Te.toInteger = Te.toint = function() {
  var e = this, t = e.constructor;
  return Ct(new t(e), _r(e) + 1, t.rounding);
};
Te.toNumber = function() {
  return +this;
};
Te.toPower = Te.pow = function(e) {
  var t, r, n, s, i, o, a = this, l = a.constructor, c = 12, d = +(e = new l(e));
  if (!e.s) return new l(ss);
  if (a = new l(a), !a.s) {
    if (e.s < 1) throw Error(Ms + "Infinity");
    return a;
  }
  if (a.eq(ss)) return a;
  if (n = l.precision, e.eq(ss)) return Ct(a, n);
  if (t = e.e, r = e.d.length - 1, o = t >= r, i = a.s, o) {
    if ((r = d < 0 ? -d : d) <= EB) {
      for (s = new l(ss), t = Math.ceil(n / zt + 4), Kt = !1; r % 2 && (s = s.times(a), A2(s.d, t)), r = kd(r / 2), r !== 0; )
        a = a.times(a), A2(a.d, t);
      return Kt = !0, e.s < 0 ? new l(ss).div(s) : Ct(s, n);
    }
  } else if (i < 0) throw Error(Ms + "NaN");
  return i = i < 0 && e.d[Math.max(t, r)] & 1 ? -1 : 1, a.s = 1, Kt = !1, s = e.times(Ph(a, n + c)), Kt = !0, s = NB(s), s.s = i, s;
};
Te.toPrecision = function(e, t) {
  var r, n, s = this, i = s.constructor;
  return e === void 0 ? (r = _r(s), n = uc(s, r <= i.toExpNeg || r >= i.toExpPos)) : (Ji(e, 1, Nd), t === void 0 ? t = i.rounding : Ji(t, 0, 8), s = Ct(new i(s), e, t), r = _r(s), n = uc(s, e <= r || r <= i.toExpNeg, e)), n;
};
Te.toSignificantDigits = Te.tosd = function(e, t) {
  var r = this, n = r.constructor;
  return e === void 0 ? (e = n.precision, t = n.rounding) : (Ji(e, 1, Nd), t === void 0 ? t = n.rounding : Ji(t, 0, 8)), Ct(new n(r), e, t);
};
Te.toString = Te.valueOf = Te.val = Te.toJSON = Te[Symbol.for("nodejs.util.inspect.custom")] = function() {
  var e = this, t = _r(e), r = e.constructor;
  return uc(e, t <= r.toExpNeg || t >= r.toExpPos);
};
function jB(e, t) {
  var r, n, s, i, o, a, l, c, d = e.constructor, f = d.precision;
  if (!e.s || !t.s)
    return t.s || (t = new d(e)), Kt ? Ct(t, f) : t;
  if (l = e.d, c = t.d, o = e.e, s = t.e, l = l.slice(), i = o - s, i) {
    for (i < 0 ? (n = l, i = -i, a = c.length) : (n = c, s = o, a = l.length), o = Math.ceil(f / zt), a = o > a ? o + 1 : a + 1, i > a && (i = a, n.length = 1), n.reverse(); i--; ) n.push(0);
    n.reverse();
  }
  for (a = l.length, i = c.length, a - i < 0 && (i = a, n = c, c = l, l = n), r = 0; i; )
    r = (l[--i] = l[i] + c[i] + r) / Ur | 0, l[i] %= Ur;
  for (r && (l.unshift(r), ++s), a = l.length; l[--a] == 0; ) l.pop();
  return t.d = l, t.e = s, Kt ? Ct(t, f) : t;
}
function Ji(e, t, r) {
  if (e !== ~~e || e < t || e > r)
    throw Error(Ql + e);
}
function Bi(e) {
  var t, r, n, s = e.length - 1, i = "", o = e[0];
  if (s > 0) {
    for (i += o, t = 1; t < s; t++)
      n = e[t] + "", r = zt - n.length, r && (i += ka(r)), i += n;
    o = e[t], n = o + "", r = zt - n.length, r && (i += ka(r));
  } else if (o === 0)
    return "0";
  for (; o % 10 === 0; ) o /= 10;
  return i + o;
}
var $o = /* @__PURE__ */ function() {
  function e(n, s) {
    var i, o = 0, a = n.length;
    for (n = n.slice(); a--; )
      i = n[a] * s + o, n[a] = i % Ur | 0, o = i / Ur | 0;
    return o && n.unshift(o), n;
  }
  function t(n, s, i, o) {
    var a, l;
    if (i != o)
      l = i > o ? 1 : -1;
    else
      for (a = l = 0; a < i; a++)
        if (n[a] != s[a]) {
          l = n[a] > s[a] ? 1 : -1;
          break;
        }
    return l;
  }
  function r(n, s, i) {
    for (var o = 0; i--; )
      n[i] -= o, o = n[i] < s[i] ? 1 : 0, n[i] = o * Ur + n[i] - s[i];
    for (; !n[0] && n.length > 1; ) n.shift();
  }
  return function(n, s, i, o) {
    var a, l, c, d, f, h, p, g, m, y, v, b, x, S, w, j, N, k, C = n.constructor, $ = n.s == s.s ? 1 : -1, I = n.d, M = s.d;
    if (!n.s) return new C(n);
    if (!s.s) throw Error(Ms + "Division by zero");
    for (l = n.e - s.e, N = M.length, w = I.length, p = new C($), g = p.d = [], c = 0; M[c] == (I[c] || 0); ) ++c;
    if (M[c] > (I[c] || 0) && --l, i == null ? b = i = C.precision : o ? b = i + (_r(n) - _r(s)) + 1 : b = i, b < 0) return new C(0);
    if (b = b / zt + 2 | 0, c = 0, N == 1)
      for (d = 0, M = M[0], b++; (c < w || d) && b--; c++)
        x = d * Ur + (I[c] || 0), g[c] = x / M | 0, d = x % M | 0;
    else {
      for (d = Ur / (M[0] + 1) | 0, d > 1 && (M = e(M, d), I = e(I, d), N = M.length, w = I.length), S = N, m = I.slice(0, N), y = m.length; y < N; ) m[y++] = 0;
      k = M.slice(), k.unshift(0), j = M[0], M[1] >= Ur / 2 && ++j;
      do
        d = 0, a = t(M, m, N, y), a < 0 ? (v = m[0], N != y && (v = v * Ur + (m[1] || 0)), d = v / j | 0, d > 1 ? (d >= Ur && (d = Ur - 1), f = e(M, d), h = f.length, y = m.length, a = t(f, m, h, y), a == 1 && (d--, r(f, N < h ? k : M, h))) : (d == 0 && (a = d = 1), f = M.slice()), h = f.length, h < y && f.unshift(0), r(m, f, y), a == -1 && (y = m.length, a = t(M, m, N, y), a < 1 && (d++, r(m, N < y ? k : M, y))), y = m.length) : a === 0 && (d++, m = [0]), g[c++] = d, a && m[0] ? m[y++] = I[S] || 0 : (m = [I[S]], y = 1);
      while ((S++ < w || m[0] !== void 0) && b--);
    }
    return g[0] || g.shift(), p.e = l, Ct(p, o ? i + _r(p) + 1 : i);
  };
}();
function NB(e, t) {
  var r, n, s, i, o, a, l = 0, c = 0, d = e.constructor, f = d.precision;
  if (_r(e) > 16) throw Error(uN + _r(e));
  if (!e.s) return new d(ss);
  for (Kt = !1, a = f, o = new d(0.03125); e.abs().gte(0.1); )
    e = e.times(o), c += 5;
  for (n = Math.log(Ol(2, c)) / Math.LN10 * 2 + 5 | 0, a += n, r = s = i = new d(ss), d.precision = a; ; ) {
    if (s = Ct(s.times(e), a), r = r.times(++l), o = i.plus($o(s, r, a)), Bi(o.d).slice(0, a) === Bi(i.d).slice(0, a)) {
      for (; c--; ) i = Ct(i.times(i), a);
      return d.precision = f, t == null ? (Kt = !0, Ct(i, f)) : i;
    }
    i = o;
  }
}
function _r(e) {
  for (var t = e.e * zt, r = e.d[0]; r >= 10; r /= 10) t++;
  return t;
}
function Ox(e, t, r) {
  if (t > e.LN10.sd())
    throw Kt = !0, r && (e.precision = r), Error(Ms + "LN10 precision limit exceeded");
  return Ct(new e(e.LN10), t);
}
function ka(e) {
  for (var t = ""; e--; ) t += "0";
  return t;
}
function Ph(e, t) {
  var r, n, s, i, o, a, l, c, d, f = 1, h = 10, p = e, g = p.d, m = p.constructor, y = m.precision;
  if (p.s < 1) throw Error(Ms + (p.s ? "NaN" : "-Infinity"));
  if (p.eq(ss)) return new m(0);
  if (t == null ? (Kt = !1, c = y) : c = t, p.eq(10))
    return t == null && (Kt = !0), Ox(m, c);
  if (c += h, m.precision = c, r = Bi(g), n = r.charAt(0), i = _r(p), Math.abs(i) < 15e14) {
    for (; n < 7 && n != 1 || n == 1 && r.charAt(1) > 3; )
      p = p.times(e), r = Bi(p.d), n = r.charAt(0), f++;
    i = _r(p), n > 1 ? (p = new m("0." + r), i++) : p = new m(n + "." + r.slice(1));
  } else
    return l = Ox(m, c + 2, y).times(i + ""), p = Ph(new m(n + "." + r.slice(1)), c - h).plus(l), m.precision = y, t == null ? (Kt = !0, Ct(p, y)) : p;
  for (a = o = p = $o(p.minus(ss), p.plus(ss), c), d = Ct(p.times(p), c), s = 3; ; ) {
    if (o = Ct(o.times(d), c), l = a.plus($o(o, new m(s), c)), Bi(l.d).slice(0, c) === Bi(a.d).slice(0, c))
      return a = a.times(2), i !== 0 && (a = a.plus(Ox(m, c + 2, y).times(i + ""))), a = $o(a, new m(f), c), m.precision = y, t == null ? (Kt = !0, Ct(a, y)) : a;
    a = l, s += 2;
  }
}
function T2(e, t) {
  var r, n, s;
  for ((r = t.indexOf(".")) > -1 && (t = t.replace(".", "")), (n = t.search(/e/i)) > 0 ? (r < 0 && (r = n), r += +t.slice(n + 1), t = t.substring(0, n)) : r < 0 && (r = t.length), n = 0; t.charCodeAt(n) === 48; ) ++n;
  for (s = t.length; t.charCodeAt(s - 1) === 48; ) --s;
  if (t = t.slice(n, s), t) {
    if (s -= n, r = r - n - 1, e.e = kd(r / zt), e.d = [], n = (r + 1) % zt, r < 0 && (n += zt), n < s) {
      for (n && e.d.push(+t.slice(0, n)), s -= zt; n < s; ) e.d.push(+t.slice(n, n += zt));
      t = t.slice(n), n = zt - t.length;
    } else
      n -= s;
    for (; n--; ) t += "0";
    if (e.d.push(+t), Kt && (e.e > Sy || e.e < -Sy)) throw Error(uN + r);
  } else
    e.s = 0, e.e = 0, e.d = [0];
  return e;
}
function Ct(e, t, r) {
  var n, s, i, o, a, l, c, d, f = e.d;
  for (o = 1, i = f[0]; i >= 10; i /= 10) o++;
  if (n = t - o, n < 0)
    n += zt, s = t, c = f[d = 0];
  else {
    if (d = Math.ceil((n + 1) / zt), i = f.length, d >= i) return e;
    for (c = i = f[d], o = 1; i >= 10; i /= 10) o++;
    n %= zt, s = n - zt + o;
  }
  if (r !== void 0 && (i = Ol(10, o - s - 1), a = c / i % 10 | 0, l = t < 0 || f[d + 1] !== void 0 || c % i, l = r < 4 ? (a || l) && (r == 0 || r == (e.s < 0 ? 3 : 2)) : a > 5 || a == 5 && (r == 4 || l || r == 6 && // Check whether the digit to the left of the rounding digit is odd.
  (n > 0 ? s > 0 ? c / Ol(10, o - s) : 0 : f[d - 1]) % 10 & 1 || r == (e.s < 0 ? 8 : 7))), t < 1 || !f[0])
    return l ? (i = _r(e), f.length = 1, t = t - i - 1, f[0] = Ol(10, (zt - t % zt) % zt), e.e = kd(-t / zt) || 0) : (f.length = 1, f[0] = e.e = e.s = 0), e;
  if (n == 0 ? (f.length = d, i = 1, d--) : (f.length = d + 1, i = Ol(10, zt - n), f[d] = s > 0 ? (c / Ol(10, o - s) % Ol(10, s) | 0) * i : 0), l)
    for (; ; )
      if (d == 0) {
        (f[0] += i) == Ur && (f[0] = 1, ++e.e);
        break;
      } else {
        if (f[d] += i, f[d] != Ur) break;
        f[d--] = 0, i = 1;
      }
  for (n = f.length; f[--n] === 0; ) f.pop();
  if (Kt && (e.e > Sy || e.e < -Sy))
    throw Error(uN + _r(e));
  return e;
}
function kB(e, t) {
  var r, n, s, i, o, a, l, c, d, f, h = e.constructor, p = h.precision;
  if (!e.s || !t.s)
    return t.s ? t.s = -t.s : t = new h(e), Kt ? Ct(t, p) : t;
  if (l = e.d, f = t.d, n = t.e, c = e.e, l = l.slice(), o = c - n, o) {
    for (d = o < 0, d ? (r = l, o = -o, a = f.length) : (r = f, n = c, a = l.length), s = Math.max(Math.ceil(p / zt), a) + 2, o > s && (o = s, r.length = 1), r.reverse(), s = o; s--; ) r.push(0);
    r.reverse();
  } else {
    for (s = l.length, a = f.length, d = s < a, d && (a = s), s = 0; s < a; s++)
      if (l[s] != f[s]) {
        d = l[s] < f[s];
        break;
      }
    o = 0;
  }
  for (d && (r = l, l = f, f = r, t.s = -t.s), a = l.length, s = f.length - a; s > 0; --s) l[a++] = 0;
  for (s = f.length; s > o; ) {
    if (l[--s] < f[s]) {
      for (i = s; i && l[--i] === 0; ) l[i] = Ur - 1;
      --l[i], l[s] += Ur;
    }
    l[s] -= f[s];
  }
  for (; l[--a] === 0; ) l.pop();
  for (; l[0] === 0; l.shift()) --n;
  return l[0] ? (t.d = l, t.e = n, Kt ? Ct(t, p) : t) : new h(0);
}
function uc(e, t, r) {
  var n, s = _r(e), i = Bi(e.d), o = i.length;
  return t ? (r && (n = r - o) > 0 ? i = i.charAt(0) + "." + i.slice(1) + ka(n) : o > 1 && (i = i.charAt(0) + "." + i.slice(1)), i = i + (s < 0 ? "e" : "e+") + s) : s < 0 ? (i = "0." + ka(-s - 1) + i, r && (n = r - o) > 0 && (i += ka(n))) : s >= o ? (i += ka(s + 1 - o), r && (n = r - s - 1) > 0 && (i = i + "." + ka(n))) : ((n = s + 1) < o && (i = i.slice(0, n) + "." + i.slice(n)), r && (n = r - o) > 0 && (s + 1 === o && (i += "."), i += ka(n))), e.s < 0 ? "-" + i : i;
}
function A2(e, t) {
  if (e.length > t)
    return e.length = t, !0;
}
function CB(e) {
  var t, r, n;
  function s(i) {
    var o = this;
    if (!(o instanceof s)) return new s(i);
    if (o.constructor = s, i instanceof s) {
      o.s = i.s, o.e = i.e, o.d = (i = i.d) ? i.slice() : i;
      return;
    }
    if (typeof i == "number") {
      if (i * 0 !== 0)
        throw Error(Ql + i);
      if (i > 0)
        o.s = 1;
      else if (i < 0)
        i = -i, o.s = -1;
      else {
        o.s = 0, o.e = 0, o.d = [0];
        return;
      }
      if (i === ~~i && i < 1e7) {
        o.e = 0, o.d = [i];
        return;
      }
      return T2(o, i.toString());
    } else if (typeof i != "string")
      throw Error(Ql + i);
    if (i.charCodeAt(0) === 45 ? (i = i.slice(1), o.s = -1) : o.s = 1, Jye.test(i)) T2(o, i);
    else throw Error(Ql + i);
  }
  if (s.prototype = Te, s.ROUND_UP = 0, s.ROUND_DOWN = 1, s.ROUND_CEIL = 2, s.ROUND_FLOOR = 3, s.ROUND_HALF_UP = 4, s.ROUND_HALF_DOWN = 5, s.ROUND_HALF_EVEN = 6, s.ROUND_HALF_CEIL = 7, s.ROUND_HALF_FLOOR = 8, s.clone = CB, s.config = s.set = Qye, e === void 0 && (e = {}), e)
    for (n = ["precision", "rounding", "toExpNeg", "toExpPos", "LN10"], t = 0; t < n.length; ) e.hasOwnProperty(r = n[t++]) || (e[r] = this[r]);
  return s.config(e), s;
}
function Qye(e) {
  if (!e || typeof e != "object")
    throw Error(Ms + "Object expected");
  var t, r, n, s = [
    "precision",
    1,
    Nd,
    "rounding",
    0,
    8,
    "toExpNeg",
    -1 / 0,
    0,
    "toExpPos",
    0,
    1 / 0
  ];
  for (t = 0; t < s.length; t += 3)
    if ((n = e[r = s[t]]) !== void 0)
      if (kd(n) === n && n >= s[t + 1] && n <= s[t + 2]) this[r] = n;
      else throw Error(Ql + r + ": " + n);
  if ((n = e[r = "LN10"]) !== void 0)
    if (n == Math.LN10) this[r] = new this(n);
    else throw Error(Ql + r + ": " + n);
  return this;
}
var dN = CB(Xye);
ss = new dN(1);
const wt = dN;
var eve = (e) => e, TB = {}, AB = (e) => e === TB, P2 = (e) => function t() {
  return arguments.length === 0 || arguments.length === 1 && AB(arguments.length <= 0 ? void 0 : arguments[0]) ? t : e(...arguments);
}, PB = (e, t) => e === 1 ? t : P2(function() {
  for (var r = arguments.length, n = new Array(r), s = 0; s < r; s++)
    n[s] = arguments[s];
  var i = n.filter((o) => o !== TB).length;
  return i >= e ? t(...n) : PB(e - i, P2(function() {
    for (var o = arguments.length, a = new Array(o), l = 0; l < o; l++)
      a[l] = arguments[l];
    var c = n.map((d) => AB(d) ? a.shift() : d);
    return t(...c, ...a);
  }));
}), hb = (e) => PB(e.length, e), l_ = (e, t) => {
  for (var r = [], n = e; n < t; ++n)
    r[n - e] = n;
  return r;
}, tve = hb((e, t) => Array.isArray(t) ? t.map(e) : Object.keys(t).map((r) => t[r]).map(e)), rve = function() {
  for (var t = arguments.length, r = new Array(t), n = 0; n < t; n++)
    r[n] = arguments[n];
  if (!r.length)
    return eve;
  var s = r.reverse(), i = s[0], o = s.slice(1);
  return function() {
    return o.reduce((a, l) => l(a), i(...arguments));
  };
}, c_ = (e) => Array.isArray(e) ? e.reverse() : e.split("").reverse().join(""), OB = (e) => {
  var t = null, r = null;
  return function() {
    for (var n = arguments.length, s = new Array(n), i = 0; i < n; i++)
      s[i] = arguments[i];
    return t && s.every((o, a) => {
      var l;
      return o === ((l = t) === null || l === void 0 ? void 0 : l[a]);
    }) || (t = s, r = e(...s)), r;
  };
};
function DB(e) {
  var t;
  return e === 0 ? t = 1 : t = Math.floor(new wt(e).abs().log(10).toNumber()) + 1, t;
}
function $B(e, t, r) {
  for (var n = new wt(e), s = 0, i = []; n.lt(t) && s < 1e5; )
    i.push(n.toNumber()), n = n.add(r), s++;
  return i;
}
hb((e, t, r) => {
  var n = +e, s = +t;
  return n + r * (s - n);
});
hb((e, t, r) => {
  var n = t - +e;
  return n = n || 1 / 0, (r - e) / n;
});
hb((e, t, r) => {
  var n = t - +e;
  return n = n || 1 / 0, Math.max(0, Math.min(1, (r - e) / n));
});
var RB = (e) => {
  var [t, r] = e, [n, s] = [t, r];
  return t > r && ([n, s] = [r, t]), [n, s];
}, IB = (e, t, r) => {
  if (e.lte(0))
    return new wt(0);
  var n = DB(e.toNumber()), s = new wt(10).pow(n), i = e.div(s), o = n !== 1 ? 0.05 : 0.1, a = new wt(Math.ceil(i.div(o).toNumber())).add(r).mul(o), l = a.mul(s);
  return t ? new wt(l.toNumber()) : new wt(Math.ceil(l.toNumber()));
}, nve = (e, t, r) => {
  var n = new wt(1), s = new wt(e);
  if (!s.isint() && r) {
    var i = Math.abs(e);
    i < 1 ? (n = new wt(10).pow(DB(e) - 1), s = new wt(Math.floor(s.div(n).toNumber())).mul(n)) : i > 1 && (s = new wt(Math.floor(e)));
  } else e === 0 ? s = new wt(Math.floor((t - 1) / 2)) : r || (s = new wt(Math.floor(e)));
  var o = Math.floor((t - 1) / 2), a = rve(tve((l) => s.add(new wt(l - o).mul(n)).toNumber()), l_);
  return a(0, t);
}, MB = function(t, r, n, s) {
  var i = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : 0;
  if (!Number.isFinite((r - t) / (n - 1)))
    return {
      step: new wt(0),
      tickMin: new wt(0),
      tickMax: new wt(0)
    };
  var o = IB(new wt(r).sub(t).div(n - 1), s, i), a;
  t <= 0 && r >= 0 ? a = new wt(0) : (a = new wt(t).add(r).div(2), a = a.sub(new wt(a).mod(o)));
  var l = Math.ceil(a.sub(t).div(o).toNumber()), c = Math.ceil(new wt(r).sub(a).div(o).toNumber()), d = l + c + 1;
  return d > n ? MB(t, r, n, s, i + 1) : (d < n && (c = r > 0 ? c + (n - d) : c, l = r > 0 ? l : l + (n - d)), {
    step: o,
    tickMin: a.sub(new wt(l).mul(o)),
    tickMax: a.add(new wt(c).mul(o))
  });
};
function sve(e) {
  var [t, r] = e, n = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 6, s = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : !0, i = Math.max(n, 2), [o, a] = RB([t, r]);
  if (o === -1 / 0 || a === 1 / 0) {
    var l = a === 1 / 0 ? [o, ...l_(0, n - 1).map(() => 1 / 0)] : [...l_(0, n - 1).map(() => -1 / 0), a];
    return t > r ? c_(l) : l;
  }
  if (o === a)
    return nve(o, n, s);
  var {
    step: c,
    tickMin: d,
    tickMax: f
  } = MB(o, a, i, s, 0), h = $B(d, f.add(new wt(0.1).mul(c)), c);
  return t > r ? c_(h) : h;
}
function ive(e, t) {
  var [r, n] = e, s = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : !0, [i, o] = RB([r, n]);
  if (i === -1 / 0 || o === 1 / 0)
    return [r, n];
  if (i === o)
    return [i];
  var a = Math.max(t, 2), l = IB(new wt(o).sub(i).div(a - 1), s, 0), c = [...$B(new wt(i), new wt(o), l), o];
  return s === !1 && (c = c.map((d) => Math.round(d))), r > n ? c_(c) : c;
}
var ove = OB(sve), ave = OB(ive), lve = (e) => e.rootProps.barCategoryGap, xp = (e) => e.rootProps.stackOffset, fN = (e) => e.options.chartName, hN = (e) => e.rootProps.syncId, LB = (e) => e.rootProps.syncMethod, pN = (e) => e.options.eventEmitter, ko = {
  allowDuplicatedCategory: !0,
  // if I set this to false then Tooltip synchronisation stops working in Radar, wtf
  angleAxisId: 0,
  reversed: !1,
  scale: "auto",
  tick: !0,
  type: "category"
}, ts = {
  allowDataOverflow: !1,
  allowDuplicatedCategory: !0,
  radiusAxisId: 0,
  scale: "auto",
  tick: !0,
  tickCount: 5,
  type: "number"
}, pb = (e, t) => {
  if (!(!e || !t))
    return e != null && e.reversed ? [t[1], t[0]] : t;
}, cve = {
  allowDataOverflow: !1,
  allowDecimals: !1,
  allowDuplicatedCategory: !1,
  // defaultPolarAngleAxisProps.allowDuplicatedCategory has it set to true but the actual axis rendering ignores the prop because reasons,
  dataKey: void 0,
  domain: void 0,
  id: ko.angleAxisId,
  includeHidden: !1,
  name: void 0,
  reversed: ko.reversed,
  scale: ko.scale,
  tick: ko.tick,
  tickCount: void 0,
  ticks: void 0,
  type: ko.type,
  unit: void 0
}, uve = {
  allowDataOverflow: ts.allowDataOverflow,
  allowDecimals: !1,
  allowDuplicatedCategory: ts.allowDuplicatedCategory,
  dataKey: void 0,
  domain: void 0,
  id: ts.radiusAxisId,
  includeHidden: !1,
  name: void 0,
  reversed: !1,
  scale: ts.scale,
  tick: ts.tick,
  tickCount: ts.tickCount,
  ticks: void 0,
  type: ts.type,
  unit: void 0
}, dve = {
  allowDataOverflow: !1,
  allowDecimals: !1,
  allowDuplicatedCategory: ko.allowDuplicatedCategory,
  dataKey: void 0,
  domain: void 0,
  id: ko.angleAxisId,
  includeHidden: !1,
  name: void 0,
  reversed: !1,
  scale: ko.scale,
  tick: ko.tick,
  tickCount: void 0,
  ticks: void 0,
  type: "number",
  unit: void 0
}, fve = {
  allowDataOverflow: ts.allowDataOverflow,
  allowDecimals: !1,
  allowDuplicatedCategory: ts.allowDuplicatedCategory,
  dataKey: void 0,
  domain: void 0,
  id: ts.radiusAxisId,
  includeHidden: !1,
  name: void 0,
  reversed: !1,
  scale: ts.scale,
  tick: ts.tick,
  tickCount: ts.tickCount,
  ticks: void 0,
  type: "category",
  unit: void 0
}, mN = (e, t) => e.polarAxis.angleAxis[t] != null ? e.polarAxis.angleAxis[t] : e.layout.layoutType === "radial" ? dve : cve, gN = (e, t) => e.polarAxis.radiusAxis[t] != null ? e.polarAxis.radiusAxis[t] : e.layout.layoutType === "radial" ? fve : uve, mb = (e) => e.polarOptions, yN = Q([ta, ra, Yr], h6), FB = Q([mb, yN], (e, t) => {
  if (e != null)
    return Ds(e.innerRadius, t, 0);
}), BB = Q([mb, yN], (e, t) => {
  if (e != null)
    return Ds(e.outerRadius, t, t * 0.8);
}), hve = (e) => {
  if (e == null)
    return [0, 0];
  var {
    startAngle: t,
    endAngle: r
  } = e;
  return [t, r];
}, zB = Q([mb], hve);
Q([mN, zB], pb);
var UB = Q([yN, FB, BB], (e, t, r) => {
  if (!(e == null || t == null || r == null))
    return [t, r];
});
Q([gN, UB], pb);
var qB = Q([Nt, mb, FB, BB, ta, ra], (e, t, r, n, s, i) => {
  if (!(e !== "centric" && e !== "radial" || t == null || r == null || n == null)) {
    var {
      cx: o,
      cy: a,
      startAngle: l,
      endAngle: c
    } = t;
    return {
      cx: Ds(o, s, s / 2),
      cy: Ds(a, i, i / 2),
      innerRadius: r,
      outerRadius: n,
      startAngle: l,
      endAngle: c,
      clockWise: !1
    };
  }
}), Gt = (e, t) => t, wp = (e, t, r) => r;
function VB(e) {
  return e == null ? void 0 : e.id;
}
var Lr = (e) => {
  var t = Nt(e);
  return t === "horizontal" ? "xAxis" : t === "vertical" ? "yAxis" : t === "centric" ? "angleAxis" : "radiusAxis";
}, Cd = (e) => e.tooltip.settings.axisId, Fr = (e) => {
  var t = Lr(e), r = Cd(e);
  return _p(e, t, r);
};
function WB(e, t, r) {
  var {
    chartData: n = []
  } = t, s = r == null ? void 0 : r.dataKey, i = /* @__PURE__ */ new Map();
  return e.forEach((o) => {
    var a, l = (a = o.data) !== null && a !== void 0 ? a : n;
    if (!(l == null || l.length === 0)) {
      var c = VB(o);
      l.forEach((d, f) => {
        var h = s == null ? f : String(Vt(d, s, null)), p = Vt(d, o.dataKey, 0), g;
        i.has(h) ? g = i.get(h) : g = {}, Object.assign(g, {
          [c]: p
        }), i.set(h, g);
      });
    }
  }), Array.from(i.values());
}
function vN(e) {
  return e.stackId != null && e.dataKey != null;
}
function O2(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    t && (n = n.filter(function(s) {
      return Object.getOwnPropertyDescriptor(e, s).enumerable;
    })), r.push.apply(r, n);
  }
  return r;
}
function Ey(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2 ? O2(Object(r), !0).forEach(function(n) {
      pve(e, n, r[n]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : O2(Object(r)).forEach(function(n) {
      Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
    });
  }
  return e;
}
function pve(e, t, r) {
  return (t = mve(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e;
}
function mve(e) {
  var t = gve(e, "string");
  return typeof t == "symbol" ? t : t + "";
}
function gve(e, t) {
  if (typeof e != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (typeof n != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
var u_ = [0, "auto"], Jn = {
  allowDataOverflow: !1,
  allowDecimals: !0,
  allowDuplicatedCategory: !0,
  angle: 0,
  dataKey: void 0,
  domain: void 0,
  height: 30,
  hide: !0,
  id: 0,
  includeHidden: !1,
  interval: "preserveEnd",
  minTickGap: 5,
  mirror: !1,
  name: void 0,
  orientation: "bottom",
  padding: {
    left: 0,
    right: 0
  },
  reversed: !1,
  scale: "auto",
  tick: !0,
  tickCount: 5,
  tickFormatter: void 0,
  ticks: void 0,
  type: "category",
  unit: void 0
}, sa = (e, t) => {
  var r = e.cartesianAxis.xAxis[t];
  return r ?? Jn;
}, Qn = {
  allowDataOverflow: !1,
  allowDecimals: !0,
  allowDuplicatedCategory: !0,
  angle: 0,
  dataKey: void 0,
  domain: u_,
  hide: !0,
  id: 0,
  includeHidden: !1,
  interval: "preserveEnd",
  minTickGap: 5,
  mirror: !1,
  name: void 0,
  orientation: "left",
  padding: {
    top: 0,
    bottom: 0
  },
  reversed: !1,
  scale: "auto",
  tick: !0,
  tickCount: 5,
  tickFormatter: void 0,
  ticks: void 0,
  type: "number",
  unit: void 0,
  width: sb
}, fl = (e, t) => {
  var r = e.cartesianAxis.yAxis[t];
  return r ?? Qn;
}, yve = {
  domain: [0, "auto"],
  includeHidden: !1,
  reversed: !1,
  allowDataOverflow: !1,
  allowDuplicatedCategory: !1,
  dataKey: void 0,
  id: 0,
  name: "",
  range: [64, 64],
  scale: "auto",
  type: "number",
  unit: ""
}, bN = (e, t) => {
  var r = e.cartesianAxis.zAxis[t];
  return r ?? yve;
}, pr = (e, t, r) => {
  switch (t) {
    case "xAxis":
      return sa(e, r);
    case "yAxis":
      return fl(e, r);
    case "zAxis":
      return bN(e, r);
    case "angleAxis":
      return mN(e, r);
    case "radiusAxis":
      return gN(e, r);
    default:
      throw new Error("Unexpected axis type: ".concat(t));
  }
}, vve = (e, t, r) => {
  switch (t) {
    case "xAxis":
      return sa(e, r);
    case "yAxis":
      return fl(e, r);
    default:
      throw new Error("Unexpected axis type: ".concat(t));
  }
}, _p = (e, t, r) => {
  switch (t) {
    case "xAxis":
      return sa(e, r);
    case "yAxis":
      return fl(e, r);
    case "angleAxis":
      return mN(e, r);
    case "radiusAxis":
      return gN(e, r);
    default:
      throw new Error("Unexpected axis type: ".concat(t));
  }
}, KB = (e) => e.graphicalItems.cartesianItems.some((t) => t.type === "bar") || e.graphicalItems.polarItems.some((t) => t.type === "radialBar");
function xN(e, t) {
  return (r) => {
    switch (e) {
      case "xAxis":
        return "xAxisId" in r && r.xAxisId === t;
      case "yAxis":
        return "yAxisId" in r && r.yAxisId === t;
      case "zAxis":
        return "zAxisId" in r && r.zAxisId === t;
      case "angleAxis":
        return "angleAxisId" in r && r.angleAxisId === t;
      case "radiusAxis":
        return "radiusAxisId" in r && r.radiusAxisId === t;
      default:
        return !1;
    }
  };
}
var HB = (e) => e.graphicalItems.cartesianItems, bve = Q([Gt, wp], xN), wN = (e, t, r) => e.filter(r).filter((n) => (t == null ? void 0 : t.includeHidden) === !0 ? !0 : !n.hide), Sp = Q([HB, pr, bve], wN), YB = Q([Sp], (e) => e.filter((t) => t.type === "area" || t.type === "bar").filter(vN)), GB = (e) => e.filter((t) => !("stackId" in t) || t.stackId === void 0), ZB = Q([Sp], GB), _N = (e) => e.map((t) => t.data).filter(Boolean).flat(1), xve = Q([Sp], _N), SN = (e, t) => {
  var {
    chartData: r = [],
    dataStartIndex: n,
    dataEndIndex: s
  } = t;
  return e.length > 0 ? e : r.slice(n, s + 1);
}, EN = Q([xve, cN], SN), jN = (e, t, r) => (t == null ? void 0 : t.dataKey) != null ? e.map((n) => ({
  value: Vt(n, t.dataKey)
})) : r.length > 0 ? r.map((n) => n.dataKey).flatMap((n) => e.map((s) => ({
  value: Vt(s, n)
}))) : e.map((n) => ({
  value: n
})), gb = Q([EN, pr, Sp], jN);
function XB(e, t) {
  switch (e) {
    case "xAxis":
      return t.direction === "x";
    case "yAxis":
      return t.direction === "y";
    default:
      return !1;
  }
}
function jc(e) {
  return e.filter((t) => Xi(t) || t instanceof Date).map(Number).filter((t) => $s(t) === !1);
}
function wve(e, t, r) {
  return !r || typeof t != "number" || $s(t) ? [] : r.length ? jc(r.flatMap((n) => {
    var s = Vt(e, n.dataKey), i, o;
    if (Array.isArray(s) ? [i, o] = s : i = o = s, !(!gi(i) || !gi(o)))
      return [t - i, t + o];
  })) : [];
}
var _ve = Q([YB, cN, Fr], WB), JB = (e, t, r) => {
  var n = {}, s = t.reduce((i, o) => (o.stackId == null || (i[o.stackId] == null && (i[o.stackId] = []), i[o.stackId].push(o)), i), n);
  return Object.fromEntries(Object.entries(s).map((i) => {
    var [o, a] = i, l = a.map(VB);
    return [o, {
      // @ts-expect-error getStackedData requires that the input is array of objects, Recharts does not test for that
      stackedData: Ihe(e, l, r),
      graphicalItems: a
    }];
  }));
}, Sve = Q([_ve, YB, xp], JB), QB = (e, t, r) => {
  var {
    dataStartIndex: n,
    dataEndIndex: s
  } = t;
  if (r !== "zAxis") {
    var i = Fhe(e, n, s);
    if (!(i != null && i[0] === 0 && i[1] === 0))
      return i;
  }
}, Eve = Q([Sve, dl, Gt], QB), e8 = (e, t, r, n, s) => r.length > 0 ? e.flatMap((i) => r.flatMap((o) => {
  var a, l, c = (a = n[o.id]) === null || a === void 0 ? void 0 : a.filter((f) => XB(s, f)), d = Vt(i, (l = t.dataKey) !== null && l !== void 0 ? l : o.dataKey);
  return {
    value: d,
    errorDomain: wve(i, d, c)
  };
})).filter(Boolean) : (t == null ? void 0 : t.dataKey) != null ? e.map((i) => ({
  value: Vt(i, t.dataKey),
  errorDomain: []
})) : e.map((i) => ({
  value: i,
  errorDomain: []
})), yb = (e) => e.errorBars, t8 = (e, t, r) => e.flatMap((n) => t[n.id]).filter(Boolean).filter((n) => XB(r, n));
Q([ZB, yb, Gt], t8);
var jve = Q([EN, pr, ZB, yb, Gt], e8);
function Nve(e) {
  var {
    value: t
  } = e;
  if (Xi(t) || t instanceof Date)
    return t;
}
var D2 = (e) => {
  var t = e.flatMap((n) => [n.value, n.errorDomain]).flat(1), r = jc(t);
  if (r.length !== 0)
    return [Math.min(...r), Math.max(...r)];
}, kve = (e, t, r) => {
  var n = e.map(Nve).filter((s) => s != null);
  return r && (t.dataKey == null || t.allowDuplicatedCategory && W3(n)) ? q6(0, e.length) : t.allowDuplicatedCategory ? n : Array.from(new Set(n));
}, NN = (e) => {
  var t;
  if (e == null || !("domain" in e))
    return u_;
  if (e.domain != null)
    return e.domain;
  if (e.ticks != null) {
    if (e.type === "number") {
      var r = jc(e.ticks);
      return [Math.min(...r), Math.max(...r)];
    }
    if (e.type === "category")
      return e.ticks.map(String);
  }
  return (t = e == null ? void 0 : e.domain) !== null && t !== void 0 ? t : u_;
}, jy = function() {
  for (var t = arguments.length, r = new Array(t), n = 0; n < t; n++)
    r[n] = arguments[n];
  var s = r.filter(Boolean);
  if (s.length !== 0) {
    var i = s.flat(), o = Math.min(...i), a = Math.max(...i);
    return [o, a];
  }
}, r8 = (e) => e.referenceElements.dots, Td = (e, t, r) => e.filter((n) => n.ifOverflow === "extendDomain").filter((n) => t === "xAxis" ? n.xAxisId === r : n.yAxisId === r), Cve = Q([r8, Gt, wp], Td), n8 = (e) => e.referenceElements.areas, Tve = Q([n8, Gt, wp], Td), s8 = (e) => e.referenceElements.lines, Ave = Q([s8, Gt, wp], Td), i8 = (e, t) => {
  var r = jc(e.map((n) => t === "xAxis" ? n.x : n.y));
  if (r.length !== 0)
    return [Math.min(...r), Math.max(...r)];
}, Pve = Q(Cve, Gt, i8), o8 = (e, t) => {
  var r = jc(e.flatMap((n) => [t === "xAxis" ? n.x1 : n.y1, t === "xAxis" ? n.x2 : n.y2]));
  if (r.length !== 0)
    return [Math.min(...r), Math.max(...r)];
}, Ove = Q([Tve, Gt], o8), a8 = (e, t) => {
  var r = jc(e.map((n) => t === "xAxis" ? n.x : n.y));
  if (r.length !== 0)
    return [Math.min(...r), Math.max(...r)];
}, Dve = Q(Ave, Gt, a8), $ve = Q(Pve, Dve, Ove, (e, t, r) => jy(e, r, t)), l8 = Q([pr], NN), kN = (e, t, r, n, s, i, o) => {
  var a = Gye(t, e.allowDataOverflow);
  if (a != null)
    return a;
  var l = i === "vertical" && o === "xAxis" || i === "horizontal" && o === "yAxis", c = l ? jy(r, s, D2(n)) : jy(s, D2(n));
  return Zye(t, c, e.allowDataOverflow);
}, Rve = Q([pr, l8, Eve, jve, $ve, Nt, Gt], kN), Ive = [0, 1], CN = (e, t, r, n, s, i, o) => {
  if (!((e == null || r == null || r.length === 0) && o === void 0)) {
    var {
      dataKey: a,
      type: l
    } = e, c = ll(t, i);
    return c && a == null ? q6(0, r.length) : l === "category" ? kve(n, e, c) : s === "expand" ? Ive : o;
  }
}, TN = Q([pr, Nt, EN, gb, xp, Gt, Rve], CN), c8 = (e, t, r, n, s) => {
  if (e != null) {
    var {
      scale: i,
      type: o
    } = e;
    if (i === "auto")
      return t === "radial" && s === "radiusAxis" ? "band" : t === "radial" && s === "angleAxis" ? "linear" : o === "category" && n && (n.indexOf("LineChart") >= 0 || n.indexOf("AreaChart") >= 0 || n.indexOf("ComposedChart") >= 0 && !r) ? "point" : o === "category" ? "band" : "linear";
    if (typeof i == "string") {
      var a = "scale".concat(fp(i));
      return a in Af ? a : "point";
    }
  }
}, Ad = Q([pr, Nt, KB, fN, Gt], c8);
function Mve(e) {
  if (e != null) {
    if (e in Af)
      return Af[e]();
    var t = "scale".concat(fp(e));
    if (t in Af)
      return Af[t]();
  }
}
function AN(e, t, r, n) {
  if (!(r == null || n == null)) {
    if (typeof e.scale == "function")
      return e.scale.copy().domain(r).range(n);
    var s = Mve(t);
    if (s != null) {
      var i = s.domain(r).range(n);
      return Ohe(i), i;
    }
  }
}
var PN = (e, t, r) => {
  var n = NN(t);
  if (!(r !== "auto" && r !== "linear")) {
    if (t != null && t.tickCount && Array.isArray(n) && (n[0] === "auto" || n[1] === "auto") && td(e))
      return ove(e, t.tickCount, t.allowDecimals);
    if (t != null && t.tickCount && t.type === "number" && td(e))
      return ave(e, t.tickCount, t.allowDecimals);
  }
}, ON = Q([TN, _p, Ad], PN), DN = (e, t, r, n) => {
  if (
    /*
     * Angle axis for some reason uses nice ticks when rendering axis tick labels,
     * but doesn't use nice ticks for extending domain like all the other axes do.
     * Not really sure why? Is there a good reason,
     * or is it just because someone added support for nice ticks to the other axes and forgot this one?
     */
    n !== "angleAxis" && (e == null ? void 0 : e.type) === "number" && td(t) && Array.isArray(r) && r.length > 0
  ) {
    var s = t[0], i = r[0], o = t[1], a = r[r.length - 1];
    return [Math.min(s, i), Math.max(o, a)];
  }
  return t;
}, Lve = Q([pr, TN, ON, Gt], DN), Fve = Q(gb, pr, (e, t) => {
  if (!(!t || t.type !== "number")) {
    var r = 1 / 0, n = Array.from(jc(e.map((a) => a.value))).sort((a, l) => a - l);
    if (n.length < 2)
      return 1 / 0;
    var s = n[n.length - 1] - n[0];
    if (s === 0)
      return 1 / 0;
    for (var i = 0; i < n.length - 1; i++) {
      var o = n[i + 1] - n[i];
      r = Math.min(r, o);
    }
    return r / s;
  }
}), u8 = Q(Fve, Nt, lve, Yr, (e, t, r, n) => n, (e, t, r, n, s) => {
  if (!gi(e))
    return 0;
  var i = t === "vertical" ? n.height : n.width;
  if (s === "gap")
    return e * i / 2;
  if (s === "no-gap") {
    var o = Ds(r, e * i), a = e * i / 2;
    return a - o - (a - o) / i * o;
  }
  return 0;
}), Bve = (e, t) => {
  var r = sa(e, t);
  return r == null || typeof r.padding != "string" ? 0 : u8(e, "xAxis", t, r.padding);
}, zve = (e, t) => {
  var r = fl(e, t);
  return r == null || typeof r.padding != "string" ? 0 : u8(e, "yAxis", t, r.padding);
}, Uve = Q(sa, Bve, (e, t) => {
  var r, n;
  if (e == null)
    return {
      left: 0,
      right: 0
    };
  var {
    padding: s
  } = e;
  return typeof s == "string" ? {
    left: t,
    right: t
  } : {
    left: ((r = s.left) !== null && r !== void 0 ? r : 0) + t,
    right: ((n = s.right) !== null && n !== void 0 ? n : 0) + t
  };
}), qve = Q(fl, zve, (e, t) => {
  var r, n;
  if (e == null)
    return {
      top: 0,
      bottom: 0
    };
  var {
    padding: s
  } = e;
  return typeof s == "string" ? {
    top: t,
    bottom: t
  } : {
    top: ((r = s.top) !== null && r !== void 0 ? r : 0) + t,
    bottom: ((n = s.bottom) !== null && n !== void 0 ? n : 0) + t
  };
}), Vve = Q([Yr, Uve, ob, ib, (e, t, r) => r], (e, t, r, n, s) => {
  var {
    padding: i
  } = n;
  return s ? [i.left, r.width - i.right] : [e.left + t.left, e.left + e.width - t.right];
}), Wve = Q([Yr, Nt, qve, ob, ib, (e, t, r) => r], (e, t, r, n, s, i) => {
  var {
    padding: o
  } = s;
  return i ? [n.height - o.bottom, o.top] : t === "horizontal" ? [e.top + e.height - r.bottom, e.top + r.top] : [e.top + r.top, e.top + e.height - r.bottom];
}), Ep = (e, t, r, n) => {
  var s;
  switch (t) {
    case "xAxis":
      return Vve(e, r, n);
    case "yAxis":
      return Wve(e, r, n);
    case "zAxis":
      return (s = bN(e, r)) === null || s === void 0 ? void 0 : s.range;
    case "angleAxis":
      return zB(e);
    case "radiusAxis":
      return UB(e, r);
    default:
      return;
  }
}, d8 = Q([pr, Ep], pb), Pd = Q([pr, Ad, Lve, d8], AN);
Q([Sp, yb, Gt], t8);
function f8(e, t) {
  return e.id < t.id ? -1 : e.id > t.id ? 1 : 0;
}
var vb = (e, t) => t, bb = (e, t, r) => r, Kve = Q(Aj, vb, bb, (e, t, r) => e.filter((n) => n.orientation === t).filter((n) => n.mirror === r).sort(f8)), Hve = Q(Pj, vb, bb, (e, t, r) => e.filter((n) => n.orientation === t).filter((n) => n.mirror === r).sort(f8)), h8 = (e, t) => ({
  width: e.width,
  height: t.height
}), Yve = (e, t) => {
  var r = typeof t.width == "number" ? t.width : sb;
  return {
    width: r,
    height: e.height
  };
}, Gve = Q(Yr, sa, h8), Zve = (e, t, r) => {
  switch (t) {
    case "top":
      return e.top;
    case "bottom":
      return r - e.bottom;
    default:
      return 0;
  }
}, Xve = (e, t, r) => {
  switch (t) {
    case "left":
      return e.left;
    case "right":
      return r - e.right;
    default:
      return 0;
  }
}, Jve = Q(ra, Yr, Kve, vb, bb, (e, t, r, n, s) => {
  var i = {}, o;
  return r.forEach((a) => {
    var l = h8(t, a);
    o == null && (o = Zve(t, n, e));
    var c = n === "top" && !s || n === "bottom" && s;
    i[a.id] = o - Number(c) * l.height, o += (c ? -1 : 1) * l.height;
  }), i;
}), Qve = Q(ta, Yr, Hve, vb, bb, (e, t, r, n, s) => {
  var i = {}, o;
  return r.forEach((a) => {
    var l = Yve(t, a);
    o == null && (o = Xve(t, n, e));
    var c = n === "left" && !s || n === "right" && s;
    i[a.id] = o - Number(c) * l.width, o += (c ? -1 : 1) * l.width;
  }), i;
}), ebe = (e, t) => {
  var r = Yr(e), n = sa(e, t);
  if (n != null) {
    var s = Jve(e, n.orientation, n.mirror), i = s[t];
    return i == null ? {
      x: r.left,
      y: 0
    } : {
      x: r.left,
      y: i
    };
  }
}, tbe = (e, t) => {
  var r = Yr(e), n = fl(e, t);
  if (n != null) {
    var s = Qve(e, n.orientation, n.mirror), i = s[t];
    return i == null ? {
      x: 0,
      y: r.top
    } : {
      x: i,
      y: r.top
    };
  }
}, rbe = Q(Yr, fl, (e, t) => {
  var r = typeof t.width == "number" ? t.width : sb;
  return {
    width: r,
    height: e.height
  };
}), p8 = (e, t, r, n) => {
  if (r != null) {
    var {
      allowDuplicatedCategory: s,
      type: i,
      dataKey: o
    } = r, a = ll(e, n), l = t.map((c) => c.value);
    if (o && a && i === "category" && s && W3(l))
      return l;
  }
}, $N = Q([Nt, gb, pr, Gt], p8), m8 = (e, t, r, n) => {
  if (!(r == null || r.dataKey == null)) {
    var {
      type: s,
      scale: i
    } = r, o = ll(e, n);
    if (o && (s === "number" || i !== "auto"))
      return t.map((a) => a.value);
  }
}, RN = Q([Nt, gb, _p, Gt], m8), $2 = Q([Nt, vve, Ad, Pd, $N, RN, Ep, ON, Gt], (e, t, r, n, s, i, o, a, l) => {
  if (t == null)
    return null;
  var c = ll(e, l);
  return {
    angle: t.angle,
    interval: t.interval,
    minTickGap: t.minTickGap,
    orientation: t.orientation,
    tick: t.tick,
    tickCount: t.tickCount,
    tickFormatter: t.tickFormatter,
    ticks: t.ticks,
    type: t.type,
    unit: t.unit,
    axisType: l,
    categoricalDomain: i,
    duplicateDomain: s,
    isCategorical: c,
    niceTicks: a,
    range: o,
    realScaleType: r,
    scale: n
  };
}), nbe = (e, t, r, n, s, i, o, a, l) => {
  if (!(t == null || n == null)) {
    var c = ll(e, l), {
      type: d,
      ticks: f,
      tickCount: h
    } = t, p = r === "scaleBand" && typeof n.bandwidth == "function" ? n.bandwidth() / 2 : 2, g = d === "category" && n.bandwidth ? n.bandwidth() / p : 0;
    g = l === "angleAxis" && i != null && i.length >= 2 ? gn(i[0] - i[1]) * 2 * g : g;
    var m = f || s;
    if (m) {
      var y = m.map((v, b) => {
        var x = o ? o.indexOf(v) : v;
        return {
          index: b,
          // If the scaleContent is not a number, the coordinate will be NaN.
          // That could be the case for example with a PointScale and a string as domain.
          coordinate: n(x) + g,
          value: v,
          offset: g
        };
      });
      return y.filter((v) => !$s(v.coordinate));
    }
    return c && a ? a.map((v, b) => ({
      coordinate: n(v) + g,
      value: v,
      index: b,
      offset: g
    })) : n.ticks ? n.ticks(h).map((v) => ({
      coordinate: n(v) + g,
      value: v,
      offset: g
    })) : n.domain().map((v, b) => ({
      coordinate: n(v) + g,
      value: o ? o[v] : v,
      index: b,
      offset: g
    }));
  }
}, g8 = Q([Nt, _p, Ad, Pd, ON, Ep, $N, RN, Gt], nbe), sbe = (e, t, r, n, s, i, o) => {
  if (!(t == null || r == null || n == null || n[0] === n[1])) {
    var a = ll(e, o), {
      tickCount: l
    } = t, c = 0;
    return c = o === "angleAxis" && (n == null ? void 0 : n.length) >= 2 ? gn(n[0] - n[1]) * 2 * c : c, a && i ? i.map((d, f) => ({
      coordinate: r(d) + c,
      value: d,
      index: f,
      offset: c
    })) : r.ticks ? r.ticks(l).map((d) => ({
      coordinate: r(d) + c,
      value: d,
      offset: c
    })) : r.domain().map((d, f) => ({
      coordinate: r(d) + c,
      value: s ? s[d] : d,
      index: f,
      offset: c
    }));
  }
}, y8 = Q([Nt, _p, Pd, Ep, $N, RN, Gt], sbe), v8 = Q(pr, Pd, (e, t) => {
  if (!(e == null || t == null))
    return Ey(Ey({}, e), {}, {
      scale: t
    });
}), ibe = Q([pr, Ad, TN, d8], AN);
Q((e, t, r) => bN(e, r), ibe, (e, t) => {
  if (!(e == null || t == null))
    return Ey(Ey({}, e), {}, {
      scale: t
    });
});
var obe = Q([Nt, Aj, Pj], (e, t, r) => {
  switch (e) {
    case "horizontal":
      return t.some((n) => n.reversed) ? "right-to-left" : "left-to-right";
    case "vertical":
      return r.some((n) => n.reversed) ? "bottom-to-top" : "top-to-bottom";
    case "centric":
    case "radial":
      return "left-to-right";
    default:
      return;
  }
}), b8 = (e) => e.options.defaultTooltipEventType, x8 = (e) => e.options.validateTooltipEventTypes;
function w8(e, t, r) {
  if (e == null)
    return t;
  var n = e ? "axis" : "item";
  return r == null ? t : r.includes(n) ? n : t;
}
function IN(e, t) {
  var r = b8(e), n = x8(e);
  return w8(t, r, n);
}
function abe(e) {
  return Me((t) => IN(t, e));
}
var _8 = (e, t) => {
  var r, n = Number(t);
  if (!($s(n) || t == null))
    return n >= 0 ? e == null || (r = e[n]) === null || r === void 0 ? void 0 : r.value : void 0;
}, lbe = (e) => e.tooltip.settings, Pa = {
  active: !1,
  index: null,
  dataKey: void 0,
  coordinate: void 0
}, cbe = {
  itemInteraction: {
    click: Pa,
    hover: Pa
  },
  axisInteraction: {
    click: Pa,
    hover: Pa
  },
  keyboardInteraction: Pa,
  syncInteraction: {
    active: !1,
    index: null,
    dataKey: void 0,
    label: void 0,
    coordinate: void 0
  },
  tooltipItemPayloads: [],
  settings: {
    shared: void 0,
    trigger: "hover",
    axisId: 0,
    active: !1,
    defaultIndex: void 0
  }
}, S8 = us({
  name: "tooltip",
  initialState: cbe,
  reducers: {
    addTooltipEntrySettings(e, t) {
      e.tooltipItemPayloads.push(t.payload);
    },
    removeTooltipEntrySettings(e, t) {
      var r = Do(e).tooltipItemPayloads.indexOf(t.payload);
      r > -1 && e.tooltipItemPayloads.splice(r, 1);
    },
    setTooltipSettingsState(e, t) {
      e.settings = t.payload;
    },
    setActiveMouseOverItemIndex(e, t) {
      e.syncInteraction.active = !1, e.keyboardInteraction.active = !1, e.itemInteraction.hover.active = !0, e.itemInteraction.hover.index = t.payload.activeIndex, e.itemInteraction.hover.dataKey = t.payload.activeDataKey, e.itemInteraction.hover.coordinate = t.payload.activeCoordinate;
    },
    mouseLeaveChart(e) {
      e.itemInteraction.hover.active = !1, e.axisInteraction.hover.active = !1;
    },
    mouseLeaveItem(e) {
      e.itemInteraction.hover.active = !1;
    },
    setActiveClickItemIndex(e, t) {
      e.syncInteraction.active = !1, e.itemInteraction.click.active = !0, e.keyboardInteraction.active = !1, e.itemInteraction.click.index = t.payload.activeIndex, e.itemInteraction.click.dataKey = t.payload.activeDataKey, e.itemInteraction.click.coordinate = t.payload.activeCoordinate;
    },
    setMouseOverAxisIndex(e, t) {
      e.syncInteraction.active = !1, e.axisInteraction.hover.active = !0, e.keyboardInteraction.active = !1, e.axisInteraction.hover.index = t.payload.activeIndex, e.axisInteraction.hover.dataKey = t.payload.activeDataKey, e.axisInteraction.hover.coordinate = t.payload.activeCoordinate;
    },
    setMouseClickAxisIndex(e, t) {
      e.syncInteraction.active = !1, e.keyboardInteraction.active = !1, e.axisInteraction.click.active = !0, e.axisInteraction.click.index = t.payload.activeIndex, e.axisInteraction.click.dataKey = t.payload.activeDataKey, e.axisInteraction.click.coordinate = t.payload.activeCoordinate;
    },
    setSyncInteraction(e, t) {
      e.syncInteraction = t.payload;
    },
    setKeyboardInteraction(e, t) {
      e.keyboardInteraction.active = t.payload.active, e.keyboardInteraction.index = t.payload.activeIndex, e.keyboardInteraction.coordinate = t.payload.activeCoordinate, e.keyboardInteraction.dataKey = t.payload.activeDataKey;
    }
  }
}), {
  addTooltipEntrySettings: ube,
  removeTooltipEntrySettings: dbe,
  setTooltipSettingsState: fbe,
  setActiveMouseOverItemIndex: E8,
  mouseLeaveItem: hbe,
  mouseLeaveChart: j8,
  setActiveClickItemIndex: pbe,
  setMouseOverAxisIndex: N8,
  setMouseClickAxisIndex: mbe,
  setSyncInteraction: d_,
  setKeyboardInteraction: f_
} = S8.actions, gbe = S8.reducer;
function R2(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    t && (n = n.filter(function(s) {
      return Object.getOwnPropertyDescriptor(e, s).enumerable;
    })), r.push.apply(r, n);
  }
  return r;
}
function Fm(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2 ? R2(Object(r), !0).forEach(function(n) {
      ybe(e, n, r[n]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : R2(Object(r)).forEach(function(n) {
      Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
    });
  }
  return e;
}
function ybe(e, t, r) {
  return (t = vbe(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e;
}
function vbe(e) {
  var t = bbe(e, "string");
  return typeof t == "symbol" ? t : t + "";
}
function bbe(e, t) {
  if (typeof e != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (typeof n != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
function xbe(e, t, r) {
  return t === "axis" ? r === "click" ? e.axisInteraction.click : e.axisInteraction.hover : r === "click" ? e.itemInteraction.click : e.itemInteraction.hover;
}
function wbe(e) {
  return e.index != null;
}
var k8 = (e, t, r, n) => {
  if (t == null)
    return Pa;
  var s = xbe(e, t, r);
  if (s == null)
    return Pa;
  if (s.active)
    return s;
  if (e.keyboardInteraction.active)
    return e.keyboardInteraction;
  if (e.syncInteraction.active && e.syncInteraction.index != null)
    return e.syncInteraction;
  var i = e.settings.active === !0;
  if (wbe(s)) {
    if (i)
      return Fm(Fm({}, s), {}, {
        active: !0
      });
  } else if (n != null)
    return {
      active: !0,
      coordinate: void 0,
      dataKey: void 0,
      index: n
    };
  return Fm(Fm({}, Pa), {}, {
    coordinate: s.coordinate
  });
}, MN = (e, t) => {
  var r = e == null ? void 0 : e.index;
  if (r == null)
    return null;
  var n = Number(r);
  if (!gi(n))
    return r;
  var s = 0, i = 1 / 0;
  return t.length > 0 && (i = t.length - 1), String(Math.max(s, Math.min(n, i)));
}, C8 = (e, t, r, n, s, i, o, a) => {
  if (!(i == null || a == null)) {
    var l = o[0], c = l == null ? void 0 : a(l.positions, i);
    if (c != null)
      return c;
    var d = s == null ? void 0 : s[Number(i)];
    if (d)
      switch (r) {
        case "horizontal":
          return {
            x: d.coordinate,
            y: (n.top + t) / 2
          };
        default:
          return {
            x: (n.left + e) / 2,
            y: d.coordinate
          };
      }
  }
}, T8 = (e, t, r, n) => {
  if (t === "axis")
    return e.tooltipItemPayloads;
  if (e.tooltipItemPayloads.length === 0)
    return [];
  var s;
  return r === "hover" ? s = e.itemInteraction.hover.dataKey : s = e.itemInteraction.click.dataKey, s == null && n != null ? [e.tooltipItemPayloads[0]] : e.tooltipItemPayloads.filter((i) => {
    var o;
    return ((o = i.settings) === null || o === void 0 ? void 0 : o.dataKey) === s;
  });
}, jp = (e) => e.options.tooltipPayloadSearcher, Od = (e) => e.tooltip;
function I2(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    t && (n = n.filter(function(s) {
      return Object.getOwnPropertyDescriptor(e, s).enumerable;
    })), r.push.apply(r, n);
  }
  return r;
}
function M2(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2 ? I2(Object(r), !0).forEach(function(n) {
      _be(e, n, r[n]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : I2(Object(r)).forEach(function(n) {
      Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
    });
  }
  return e;
}
function _be(e, t, r) {
  return (t = Sbe(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e;
}
function Sbe(e) {
  var t = Ebe(e, "string");
  return typeof t == "symbol" ? t : t + "";
}
function Ebe(e, t) {
  if (typeof e != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (typeof n != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
function jbe(e, t) {
  return e ?? t;
}
var A8 = (e, t, r, n, s, i, o) => {
  if (!(t == null || i == null)) {
    var {
      chartData: a,
      computedData: l,
      dataStartIndex: c,
      dataEndIndex: d
    } = r, f = [];
    return e.reduce((h, p) => {
      var g, {
        dataDefinedOnItem: m,
        settings: y
      } = p, v = jbe(m, a), b = Array.isArray(v) ? p6(v, c, d) : v, x = (g = y == null ? void 0 : y.dataKey) !== null && g !== void 0 ? g : n == null ? void 0 : n.dataKey, S = y == null ? void 0 : y.nameKey, w;
      if (n != null && n.dataKey && Array.isArray(b) && /*
       * findEntryInArray won't work for Scatter because Scatter provides an array of arrays
       * as tooltip payloads and findEntryInArray is not prepared to handle that.
       * Sad but also ScatterChart only allows 'item' tooltipEventType
       * and also this is only a problem if there are multiple Scatters and each has its own data array
       * so let's fix that some other time.
       */
      !Array.isArray(b[0]) && /*
       * If the tooltipEventType is 'axis', we should search for the dataKey in the sliced data
       * because thanks to allowDuplicatedCategory=false, the order of elements in the array
       * no longer matches the order of elements in the original data
       * and so we need to search by the active dataKey + label rather than by index.
       *
       * The same happens if multiple graphical items are present in the chart
       * and each of them has its own data array. Those arrays get concatenated
       * and again the tooltip index no longer matches the original data.
       *
       * On the other hand the tooltipEventType 'item' should always search by index
       * because we get the index from interacting over the individual elements
       * which is always accurate, irrespective of the allowDuplicatedCategory setting.
       */
      o === "axis" ? w = K3(b, n.dataKey, s) : w = i(b, t, l, S), Array.isArray(w))
        w.forEach((N) => {
          var k = M2(M2({}, y), {}, {
            name: N.name,
            unit: N.unit,
            // color and fill are erased to keep 100% the identical behaviour to recharts 2.x - but there's nothing stopping us from returning them here. It's technically a breaking change.
            color: void 0,
            // color and fill are erased to keep 100% the identical behaviour to recharts 2.x - but there's nothing stopping us from returning them here. It's technically a breaking change.
            fill: void 0
          });
          h.push(NO({
            tooltipEntrySettings: k,
            dataKey: N.dataKey,
            payload: N.payload,
            // @ts-expect-error getValueByDataKey does not validate the output type
            value: Vt(N.payload, N.dataKey),
            name: N.name
          }));
        });
      else {
        var j;
        h.push(NO({
          tooltipEntrySettings: y,
          dataKey: x,
          payload: w,
          // @ts-expect-error getValueByDataKey does not validate the output type
          value: Vt(w, x),
          // @ts-expect-error getValueByDataKey does not validate the output type
          name: (j = Vt(w, S)) !== null && j !== void 0 ? j : y == null ? void 0 : y.name
        }));
      }
      return h;
    }, f);
  }
}, LN = Q([Fr, Nt, KB, fN, Lr], c8), Nbe = Q([(e) => e.graphicalItems.cartesianItems, (e) => e.graphicalItems.polarItems], (e, t) => [...e, ...t]), kbe = Q([Lr, Cd], xN), Np = Q([Nbe, Fr, kbe], wN), Cbe = Q([Np], (e) => e.filter(vN)), Tbe = Q([Np], _N), Dd = Q([Tbe, dl], SN), Abe = Q([Cbe, dl, Fr], WB), FN = Q([Dd, Fr, Np], jN), Pbe = Q([Fr], NN), Obe = Q([Np], (e) => e.filter(vN)), Dbe = Q([Abe, Obe, xp], JB), $be = Q([Dbe, dl, Lr], QB), Rbe = Q([Np], GB), Ibe = Q([Dd, Fr, Rbe, yb, Lr], e8), Mbe = Q([r8, Lr, Cd], Td), Lbe = Q([Mbe, Lr], i8), Fbe = Q([n8, Lr, Cd], Td), Bbe = Q([Fbe, Lr], o8), zbe = Q([s8, Lr, Cd], Td), Ube = Q([zbe, Lr], a8), qbe = Q([Lbe, Ube, Bbe], jy), Vbe = Q([Fr, Pbe, $be, Ibe, qbe, Nt, Lr], kN), P8 = Q([Fr, Nt, Dd, FN, xp, Lr, Vbe], CN), Wbe = Q([P8, Fr, LN], PN), Kbe = Q([Fr, P8, Wbe, Lr], DN), O8 = (e) => {
  var t = Lr(e), r = Cd(e), n = !1;
  return Ep(e, t, r, n);
}, D8 = Q([Fr, O8], pb), $8 = Q([Fr, LN, Kbe, D8], AN), Hbe = Q([Nt, FN, Fr, Lr], p8), Ybe = Q([Nt, FN, Fr, Lr], m8), Gbe = (e, t, r, n, s, i, o, a) => {
  if (t) {
    var {
      type: l
    } = t, c = ll(e, a);
    if (n) {
      var d = r === "scaleBand" && n.bandwidth ? n.bandwidth() / 2 : 2, f = l === "category" && n.bandwidth ? n.bandwidth() / d : 0;
      return f = a === "angleAxis" && s != null && (s == null ? void 0 : s.length) >= 2 ? gn(s[0] - s[1]) * 2 * f : f, c && o ? o.map((h, p) => ({
        coordinate: n(h) + f,
        value: h,
        index: p,
        offset: f
      })) : n.domain().map((h, p) => ({
        coordinate: n(h) + f,
        value: i ? i[h] : h,
        index: p,
        offset: f
      }));
    }
  }
}, ia = Q([Nt, Fr, LN, $8, O8, Hbe, Ybe, Lr], Gbe), BN = Q([b8, x8, lbe], (e, t, r) => w8(r.shared, e, t)), R8 = (e) => e.tooltip.settings.trigger, zN = (e) => e.tooltip.settings.defaultIndex, xb = Q([Od, BN, R8, zN], k8), rd = Q([xb, Dd], MN), I8 = Q([ia, rd], _8), Zbe = Q([xb], (e) => {
  if (e)
    return e.dataKey;
}), M8 = Q([Od, BN, R8, zN], T8), Xbe = Q([ta, ra, Nt, Yr, ia, zN, M8, jp], C8), Jbe = Q([xb, Xbe], (e, t) => e != null && e.coordinate ? e.coordinate : t), Qbe = Q([xb], (e) => e.active), e0e = Q([M8, rd, dl, Fr, I8, jp, BN], A8), t0e = Q([e0e], (e) => {
  if (e != null) {
    var t = e.map((r) => r.payload).filter((r) => r != null);
    return Array.from(new Set(t));
  }
});
function L2(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    t && (n = n.filter(function(s) {
      return Object.getOwnPropertyDescriptor(e, s).enumerable;
    })), r.push.apply(r, n);
  }
  return r;
}
function F2(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2 ? L2(Object(r), !0).forEach(function(n) {
      r0e(e, n, r[n]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : L2(Object(r)).forEach(function(n) {
      Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
    });
  }
  return e;
}
function r0e(e, t, r) {
  return (t = n0e(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e;
}
function n0e(e) {
  var t = s0e(e, "string");
  return typeof t == "symbol" ? t : t + "";
}
function s0e(e, t) {
  if (typeof e != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (typeof n != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
var i0e = () => Me(Fr), o0e = () => {
  var e = i0e(), t = Me(ia), r = Me($8);
  return K1(F2(F2({}, e), {}, {
    scale: r
  }), t);
}, a0e = () => Me(fN), UN = (e, t) => t, L8 = (e, t, r) => r, qN = (e, t, r, n) => n, l0e = Q(ia, (e) => Xv(e, (t) => t.coordinate)), VN = Q([Od, UN, L8, qN], k8), F8 = Q([VN, Dd], MN), c0e = (e, t, r) => {
  if (t != null) {
    var n = Od(e);
    return t === "axis" ? r === "hover" ? n.axisInteraction.hover.dataKey : n.axisInteraction.click.dataKey : r === "hover" ? n.itemInteraction.hover.dataKey : n.itemInteraction.click.dataKey;
  }
}, B8 = Q([Od, UN, L8, qN], T8), Ny = Q([ta, ra, Nt, Yr, ia, qN, B8, jp], C8), u0e = Q([VN, Ny], (e, t) => {
  var r;
  return (r = e.coordinate) !== null && r !== void 0 ? r : t;
}), z8 = Q(ia, F8, _8), d0e = Q([B8, F8, dl, Fr, z8, jp, UN], A8), f0e = Q([VN], (e) => ({
  isActive: e.active,
  activeIndex: e.index
})), h0e = (e, t, r, n, s, i, o, a) => {
  if (!(!e || !t || !n || !s || !i)) {
    var l = Bhe(e.chartX, e.chartY, t, r, a);
    if (l) {
      var c = Uhe(l, t), d = Ahe(c, o, i, n, s), f = zhe(t, i, d, l);
      return {
        activeIndex: String(d),
        activeCoordinate: f
      };
    }
  }
};
function h_() {
  return h_ = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var r = arguments[t];
      for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]);
    }
    return e;
  }, h_.apply(null, arguments);
}
function B2(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    t && (n = n.filter(function(s) {
      return Object.getOwnPropertyDescriptor(e, s).enumerable;
    })), r.push.apply(r, n);
  }
  return r;
}
function Bm(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2 ? B2(Object(r), !0).forEach(function(n) {
      p0e(e, n, r[n]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : B2(Object(r)).forEach(function(n) {
      Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
    });
  }
  return e;
}
function p0e(e, t, r) {
  return (t = m0e(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e;
}
function m0e(e) {
  var t = g0e(e, "string");
  return typeof t == "symbol" ? t : t + "";
}
function g0e(e, t) {
  if (typeof e != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (typeof n != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
function y0e(e) {
  var {
    coordinate: t,
    payload: r,
    index: n,
    offset: s,
    tooltipAxisBandSize: i,
    layout: o,
    cursor: a,
    tooltipEventType: l,
    chartName: c
  } = e, d = t, f = r, h = n;
  if (!a || !d || c !== "ScatterChart" && l !== "axis")
    return null;
  var p, g;
  if (c === "ScatterChart")
    p = d, g = Fpe;
  else if (c === "BarChart")
    p = Bpe(o, d, s, i), g = I6;
  else if (o === "radial") {
    var {
      cx: m,
      cy: y,
      radius: v,
      startAngle: b,
      endAngle: x
    } = M6(d);
    p = {
      cx: m,
      cy: y,
      startAngle: b,
      endAngle: x,
      innerRadius: v,
      outerRadius: v
    }, g = F6;
  } else
    p = {
      points: bme(o, d, s)
    }, g = Mj;
  var S = typeof a == "object" && "className" in a ? a.className : void 0, w = Bm(Bm(Bm(Bm({
    stroke: "#ccc",
    pointerEvents: "none"
  }, s), p), tr(a, !1)), {}, {
    payload: f,
    payloadIndex: h,
    className: at("recharts-tooltip-cursor", S)
  });
  return /* @__PURE__ */ Pn(a) ? /* @__PURE__ */ vi(a, w) : /* @__PURE__ */ $e(g, w);
}
function v0e(e) {
  var t = o0e(), r = w6(), n = Rj(), s = a0e();
  return /* @__PURE__ */ _.createElement(y0e, h_({}, e, {
    coordinate: e.coordinate,
    index: e.index,
    payload: e.payload,
    offset: r,
    layout: n,
    tooltipAxisBandSize: t,
    chartName: s
  }));
}
var U8 = /* @__PURE__ */ dr(null), b0e = () => Dt(U8), q8 = { exports: {} };
(function(e) {
  var t = Object.prototype.hasOwnProperty, r = "~";
  function n() {
  }
  Object.create && (n.prototype = /* @__PURE__ */ Object.create(null), new n().__proto__ || (r = !1));
  function s(l, c, d) {
    this.fn = l, this.context = c, this.once = d || !1;
  }
  function i(l, c, d, f, h) {
    if (typeof d != "function")
      throw new TypeError("The listener must be a function");
    var p = new s(d, f || l, h), g = r ? r + c : c;
    return l._events[g] ? l._events[g].fn ? l._events[g] = [l._events[g], p] : l._events[g].push(p) : (l._events[g] = p, l._eventsCount++), l;
  }
  function o(l, c) {
    --l._eventsCount === 0 ? l._events = new n() : delete l._events[c];
  }
  function a() {
    this._events = new n(), this._eventsCount = 0;
  }
  a.prototype.eventNames = function() {
    var c = [], d, f;
    if (this._eventsCount === 0) return c;
    for (f in d = this._events)
      t.call(d, f) && c.push(r ? f.slice(1) : f);
    return Object.getOwnPropertySymbols ? c.concat(Object.getOwnPropertySymbols(d)) : c;
  }, a.prototype.listeners = function(c) {
    var d = r ? r + c : c, f = this._events[d];
    if (!f) return [];
    if (f.fn) return [f.fn];
    for (var h = 0, p = f.length, g = new Array(p); h < p; h++)
      g[h] = f[h].fn;
    return g;
  }, a.prototype.listenerCount = function(c) {
    var d = r ? r + c : c, f = this._events[d];
    return f ? f.fn ? 1 : f.length : 0;
  }, a.prototype.emit = function(c, d, f, h, p, g) {
    var m = r ? r + c : c;
    if (!this._events[m]) return !1;
    var y = this._events[m], v = arguments.length, b, x;
    if (y.fn) {
      switch (y.once && this.removeListener(c, y.fn, void 0, !0), v) {
        case 1:
          return y.fn.call(y.context), !0;
        case 2:
          return y.fn.call(y.context, d), !0;
        case 3:
          return y.fn.call(y.context, d, f), !0;
        case 4:
          return y.fn.call(y.context, d, f, h), !0;
        case 5:
          return y.fn.call(y.context, d, f, h, p), !0;
        case 6:
          return y.fn.call(y.context, d, f, h, p, g), !0;
      }
      for (x = 1, b = new Array(v - 1); x < v; x++)
        b[x - 1] = arguments[x];
      y.fn.apply(y.context, b);
    } else {
      var S = y.length, w;
      for (x = 0; x < S; x++)
        switch (y[x].once && this.removeListener(c, y[x].fn, void 0, !0), v) {
          case 1:
            y[x].fn.call(y[x].context);
            break;
          case 2:
            y[x].fn.call(y[x].context, d);
            break;
          case 3:
            y[x].fn.call(y[x].context, d, f);
            break;
          case 4:
            y[x].fn.call(y[x].context, d, f, h);
            break;
          default:
            if (!b) for (w = 1, b = new Array(v - 1); w < v; w++)
              b[w - 1] = arguments[w];
            y[x].fn.apply(y[x].context, b);
        }
    }
    return !0;
  }, a.prototype.on = function(c, d, f) {
    return i(this, c, d, f, !1);
  }, a.prototype.once = function(c, d, f) {
    return i(this, c, d, f, !0);
  }, a.prototype.removeListener = function(c, d, f, h) {
    var p = r ? r + c : c;
    if (!this._events[p]) return this;
    if (!d)
      return o(this, p), this;
    var g = this._events[p];
    if (g.fn)
      g.fn === d && (!h || g.once) && (!f || g.context === f) && o(this, p);
    else {
      for (var m = 0, y = [], v = g.length; m < v; m++)
        (g[m].fn !== d || h && !g[m].once || f && g[m].context !== f) && y.push(g[m]);
      y.length ? this._events[p] = y.length === 1 ? y[0] : y : o(this, p);
    }
    return this;
  }, a.prototype.removeAllListeners = function(c) {
    var d;
    return c ? (d = r ? r + c : c, this._events[d] && o(this, d)) : (this._events = new n(), this._eventsCount = 0), this;
  }, a.prototype.off = a.prototype.removeListener, a.prototype.addListener = a.prototype.on, a.prefixed = r, a.EventEmitter = a, e.exports = a;
})(q8);
var x0e = q8.exports;
const V8 = /* @__PURE__ */ bi(x0e);
var Oh = new V8(), p_ = "recharts.syncEvent.tooltip", z2 = "recharts.syncEvent.brush";
function W8(e, t) {
  if (t) {
    var r = Number.parseInt(t, 10);
    if (!$s(r))
      return e == null ? void 0 : e[r];
  }
}
var w0e = {
  chartName: "",
  tooltipPayloadSearcher: void 0,
  eventEmitter: void 0,
  defaultTooltipEventType: "axis"
}, K8 = us({
  name: "options",
  initialState: w0e,
  reducers: {
    createEventEmitter: (e) => {
      e.eventEmitter == null && (e.eventEmitter = Symbol("rechartsEventEmitter"));
    }
  }
}), _0e = K8.reducer, {
  createEventEmitter: S0e
} = K8.actions;
function E0e(e) {
  return e.tooltip.syncInteraction;
}
var j0e = {
  chartData: void 0,
  computedData: void 0,
  dataStartIndex: 0,
  dataEndIndex: 0
}, H8 = us({
  name: "chartData",
  initialState: j0e,
  reducers: {
    setChartData(e, t) {
      if (e.chartData = t.payload, t.payload == null) {
        e.dataStartIndex = 0, e.dataEndIndex = 0;
        return;
      }
      t.payload.length > 0 && e.dataEndIndex !== t.payload.length - 1 && (e.dataEndIndex = t.payload.length - 1);
    },
    setComputedData(e, t) {
      e.computedData = t.payload;
    },
    setDataStartEndIndexes(e, t) {
      var {
        startIndex: r,
        endIndex: n
      } = t.payload;
      r != null && (e.dataStartIndex = r), n != null && (e.dataEndIndex = n);
    }
  }
}), {
  setChartData: U2,
  setDataStartEndIndexes: N0e,
  setComputedData: H$e
} = H8.actions, k0e = H8.reducer, Y8 = () => {
};
function C0e() {
  var e = Me(hN), t = Me(pN), r = nr(), n = Me(LB), s = Me(ia), i = Rj(), o = Oj(), a = Me((l) => l.rootProps.className);
  ve(() => {
    if (e == null)
      return Y8;
    var l = (c, d, f) => {
      if (t !== f && e === c) {
        if (n === "index") {
          r(d);
          return;
        }
        if (s != null) {
          var h;
          if (typeof n == "function") {
            var p = {
              activeTooltipIndex: d.payload.index == null ? void 0 : Number(d.payload.index),
              isTooltipActive: d.payload.active,
              activeIndex: d.payload.index == null ? void 0 : Number(d.payload.index),
              activeLabel: d.payload.label,
              activeDataKey: d.payload.dataKey,
              activeCoordinate: d.payload.coordinate
            }, g = n(s, p);
            h = s[g];
          } else n === "value" && (h = s.find((j) => String(j.value) === d.payload.label));
          var {
            coordinate: m
          } = d.payload;
          if (h == null || d.payload.active === !1 || m == null || o == null) {
            r(d_({
              active: !1,
              coordinate: void 0,
              dataKey: void 0,
              index: null,
              label: void 0
            }));
            return;
          }
          var {
            x: y,
            y: v
          } = m, b = Math.min(y, o.x + o.width), x = Math.min(v, o.y + o.height), S = {
            x: i === "horizontal" ? h.coordinate : b,
            y: i === "horizontal" ? x : h.coordinate
          }, w = d_({
            active: d.payload.active,
            coordinate: S,
            dataKey: d.payload.dataKey,
            index: String(h.index),
            label: d.payload.label
          });
          r(w);
        }
      }
    };
    return Oh.on(p_, l), () => {
      Oh.off(p_, l);
    };
  }, [a, r, t, e, n, s, i, o]);
}
function T0e() {
  var e = Me(hN), t = Me(pN), r = nr();
  ve(() => {
    if (e == null)
      return Y8;
    var n = (s, i, o) => {
      t !== o && e === s && r(N0e(i));
    };
    return Oh.on(z2, n), () => {
      Oh.off(z2, n);
    };
  }, [r, t, e]);
}
function A0e() {
  var e = nr();
  ve(() => {
    e(S0e());
  }, [e]), C0e(), T0e();
}
function P0e(e, t, r, n, s, i) {
  var o = Me((h) => c0e(h, e, t)), a = Me(pN), l = Me(hN), c = Me(LB), d = Me(E0e), f = d == null ? void 0 : d.active;
  ve(() => {
    if (!f && l != null && a != null) {
      var h = d_({
        active: i,
        coordinate: r,
        dataKey: o,
        index: s,
        label: typeof n == "number" ? String(n) : n
      });
      Oh.emit(p_, l, h, a);
    }
  }, [f, r, o, s, n, a, l, c, i]);
}
function q2(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    t && (n = n.filter(function(s) {
      return Object.getOwnPropertyDescriptor(e, s).enumerable;
    })), r.push.apply(r, n);
  }
  return r;
}
function V2(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2 ? q2(Object(r), !0).forEach(function(n) {
      O0e(e, n, r[n]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : q2(Object(r)).forEach(function(n) {
      Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
    });
  }
  return e;
}
function O0e(e, t, r) {
  return (t = D0e(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e;
}
function D0e(e) {
  var t = $0e(e, "string");
  return typeof t == "symbol" ? t : t + "";
}
function $0e(e, t) {
  if (typeof e != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (typeof n != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
function R0e(e) {
  return e.dataKey;
}
function I0e(e, t) {
  return /* @__PURE__ */ _.isValidElement(e) ? /* @__PURE__ */ _.cloneElement(e, t) : typeof e == "function" ? /* @__PURE__ */ _.createElement(e, t) : /* @__PURE__ */ _.createElement(ype, t);
}
var W2 = [], M0e = {
  allowEscapeViewBox: {
    x: !1,
    y: !1
  },
  animationDuration: 400,
  animationEasing: "ease",
  axisId: 0,
  contentStyle: {},
  cursor: !0,
  filterNull: !0,
  isAnimationActive: !Ed.isSsr,
  itemSorter: "name",
  itemStyle: {},
  labelStyle: {},
  offset: 10,
  reverseDirection: {
    x: !1,
    y: !1
  },
  separator: " : ",
  trigger: "hover",
  useTranslate3d: !1,
  wrapperStyle: {}
};
function K2(e) {
  var t = zs(e, M0e), {
    active: r,
    allowEscapeViewBox: n,
    animationDuration: s,
    animationEasing: i,
    content: o,
    filterNull: a,
    isAnimationActive: l,
    offset: c,
    payloadUniqBy: d,
    position: f,
    reverseDirection: h,
    useTranslate3d: p,
    wrapperStyle: g,
    cursor: m,
    shared: y,
    trigger: v,
    defaultIndex: b,
    portal: x,
    axisId: S
  } = t, w = nr(), j = typeof b == "number" ? String(b) : b;
  ve(() => {
    w(fbe({
      shared: y,
      trigger: v,
      axisId: S,
      active: r,
      defaultIndex: j
    }));
  }, [w, y, v, S, r, j]);
  var N = Oj(), k = j6(), C = abe(y), {
    activeIndex: $,
    isActive: I
  } = Me((K) => f0e(K, C, v, j)), M = Me((K) => d0e(K, C, v, j)), O = Me((K) => z8(K, C, v, j)), z = Me((K) => u0e(K, C, v, j)), U = M, G = b0e(), q = r ?? I, [Z, ie] = LF([U, q]), D = C === "axis" ? O : void 0;
  P0e(C, v, z, D, $, q);
  var B = x ?? G;
  if (B == null)
    return null;
  var X = U ?? W2;
  q || (X = W2), a && X.length && (X = TF(U.filter((K) => K.value != null && (K.hide !== !0 || t.includeHidden)), d, R0e));
  var oe = X.length > 0, W = /* @__PURE__ */ _.createElement(Epe, {
    allowEscapeViewBox: n,
    animationDuration: s,
    animationEasing: i,
    isAnimationActive: l,
    active: q,
    coordinate: z,
    hasPayload: oe,
    offset: c,
    position: f,
    reverseDirection: h,
    useTranslate3d: p,
    viewBox: N,
    wrapperStyle: g,
    lastBoundingBox: Z,
    innerRef: ie,
    hasPortalFromProps: !!x
  }, I0e(o, V2(V2({}, t), {}, {
    // @ts-expect-error renderContent method expects the payload to be mutable, TODO make it immutable
    payload: X,
    label: D,
    active: q,
    coordinate: z,
    accessibilityLayer: k
  })));
  return /* @__PURE__ */ _.createElement(_.Fragment, null, /* @__PURE__ */ Zh(W, B), q && /* @__PURE__ */ _.createElement(v0e, {
    cursor: m,
    tooltipEventType: C,
    coordinate: z,
    payload: U,
    index: $
  }));
}
var G8 = {}, Z8 = {}, X8 = {};
(function(e) {
  Object.defineProperty(e, Symbol.toStringTag, { value: "Module" });
  function t(r, n, { signal: s, edges: i } = {}) {
    let o, a = null;
    const l = i != null && i.includes("leading"), c = i == null || i.includes("trailing"), d = () => {
      a !== null && (r.apply(o, a), o = void 0, a = null);
    }, f = () => {
      c && d(), m();
    };
    let h = null;
    const p = () => {
      h != null && clearTimeout(h), h = setTimeout(() => {
        h = null, f();
      }, n);
    }, g = () => {
      h !== null && (clearTimeout(h), h = null);
    }, m = () => {
      g(), o = void 0, a = null;
    }, y = () => {
      d();
    }, v = function(...b) {
      if (s != null && s.aborted)
        return;
      o = this, a = b;
      const x = h == null;
      p(), l && x && d();
    };
    return v.schedule = p, v.cancel = m, v.flush = y, s == null || s.addEventListener("abort", m, { once: !0 }), v;
  }
  e.debounce = t;
})(X8);
(function(e) {
  Object.defineProperty(e, Symbol.toStringTag, { value: "Module" });
  const t = X8;
  function r(n, s = 0, i = {}) {
    typeof i != "object" && (i = {});
    const { leading: o = !1, trailing: a = !0, maxWait: l } = i, c = Array(2);
    o && (c[0] = "leading"), a && (c[1] = "trailing");
    let d, f = null;
    const h = t.debounce(function(...m) {
      d = n.apply(this, m), f = null;
    }, s, { edges: c }), p = function(...m) {
      return l != null && (f === null && (f = Date.now()), Date.now() - f >= l) ? (d = n.apply(this, m), f = Date.now(), h.cancel(), h.schedule(), d) : (h.apply(this, m), d);
    }, g = () => (h.flush(), d);
    return p.cancel = h.cancel, p.flush = g, p;
  }
  e.debounce = r;
})(Z8);
(function(e) {
  Object.defineProperty(e, Symbol.toStringTag, { value: "Module" });
  const t = Z8;
  function r(n, s = 0, i = {}) {
    const { leading: o = !0, trailing: a = !0 } = i;
    return t.debounce(n, s, {
      leading: o,
      maxWait: s,
      trailing: a
    });
  }
  e.throttle = r;
})(G8);
var L0e = G8.throttle;
const F0e = /* @__PURE__ */ bi(L0e);
var B0e = process.env.NODE_ENV !== "production", Gf = function(t, r) {
  for (var n = arguments.length, s = new Array(n > 2 ? n - 2 : 0), i = 2; i < n; i++)
    s[i - 2] = arguments[i];
  if (B0e && typeof console < "u" && console.warn && (r === void 0 && console.warn("LogUtils requires an error message argument"), !t))
    if (r === void 0)
      console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");
    else {
      var o = 0;
      console.warn(r.replace(/%s/g, () => s[o++]));
    }
};
function H2(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    t && (n = n.filter(function(s) {
      return Object.getOwnPropertyDescriptor(e, s).enumerable;
    })), r.push.apply(r, n);
  }
  return r;
}
function Dx(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2 ? H2(Object(r), !0).forEach(function(n) {
      z0e(e, n, r[n]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : H2(Object(r)).forEach(function(n) {
      Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
    });
  }
  return e;
}
function z0e(e, t, r) {
  return (t = U0e(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e;
}
function U0e(e) {
  var t = q0e(e, "string");
  return typeof t == "symbol" ? t : t + "";
}
function q0e(e, t) {
  if (typeof e != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (typeof n != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
var Y2 = /* @__PURE__ */ rt((e, t) => {
  var {
    aspect: r,
    initialDimension: n = {
      width: -1,
      height: -1
    },
    width: s = "100%",
    height: i = "100%",
    /*
     * default min-width to 0 if not specified - 'auto' causes issues with flexbox
     * https://github.com/recharts/recharts/issues/172
     */
    minWidth: o = 0,
    minHeight: a,
    maxHeight: l,
    children: c,
    debounce: d = 0,
    id: f,
    className: h,
    onResize: p,
    style: g = {}
  } = e, m = We(null), y = We();
  y.current = p, k9(t, () => m.current);
  var [v, b] = L({
    containerWidth: n.width,
    containerHeight: n.height
  }), x = ze((w, j) => {
    b((N) => {
      var k = Math.round(w), C = Math.round(j);
      return N.containerWidth === k && N.containerHeight === C ? N : {
        containerWidth: k,
        containerHeight: C
      };
    });
  }, []);
  ve(() => {
    var w = (C) => {
      var $, {
        width: I,
        height: M
      } = C[0].contentRect;
      x(I, M), ($ = y.current) === null || $ === void 0 || $.call(y, I, M);
    };
    d > 0 && (w = F0e(w, d, {
      trailing: !0,
      leading: !1
    }));
    var j = new ResizeObserver(w), {
      width: N,
      height: k
    } = m.current.getBoundingClientRect();
    return x(N, k), j.observe(m.current), () => {
      j.disconnect();
    };
  }, [x, d]);
  var S = Ht(() => {
    var {
      containerWidth: w,
      containerHeight: j
    } = v;
    if (w < 0 || j < 0)
      return null;
    Gf(Ml(s) || Ml(i), `The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`, s, i), Gf(!r || r > 0, "The aspect(%s) must be greater than zero.", r);
    var N = Ml(s) ? w : s, k = Ml(i) ? j : i;
    return r && r > 0 && (N ? k = N / r : k && (N = k * r), l && k > l && (k = l)), Gf(N > 0 || k > 0, `The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`, N, k, s, i, o, a, r), _.Children.map(c, (C) => /* @__PURE__ */ vi(C, {
      width: N,
      height: k,
      // calculate the actual size and override it.
      style: Dx({
        width: N,
        height: k
      }, C.props.style)
    }));
  }, [r, c, i, l, a, o, v, s]);
  return /* @__PURE__ */ _.createElement("div", {
    id: f ? "".concat(f) : void 0,
    className: at("recharts-responsive-container", h),
    style: Dx(Dx({}, g), {}, {
      width: s,
      height: i,
      minWidth: o,
      minHeight: a,
      maxHeight: l
    }),
    ref: m
  }, /* @__PURE__ */ _.createElement("div", {
    style: {
      width: 0,
      height: 0,
      overflow: "visible"
    }
  }, S));
}), wb = (e) => null;
wb.displayName = "Cell";
function V0e(e, t, r) {
  return (t = W0e(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e;
}
function W0e(e) {
  var t = K0e(e, "string");
  return typeof t == "symbol" ? t : t + "";
}
function K0e(e, t) {
  if (typeof e != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (typeof n != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
class H0e {
  constructor(t) {
    V0e(this, "cache", /* @__PURE__ */ new Map()), this.maxSize = t;
  }
  get(t) {
    var r = this.cache.get(t);
    return r !== void 0 && (this.cache.delete(t), this.cache.set(t, r)), r;
  }
  set(t, r) {
    if (this.cache.has(t))
      this.cache.delete(t);
    else if (this.cache.size >= this.maxSize) {
      var n = this.cache.keys().next().value;
      this.cache.delete(n);
    }
    this.cache.set(t, r);
  }
  clear() {
    this.cache.clear();
  }
  size() {
    return this.cache.size;
  }
}
function G2(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    t && (n = n.filter(function(s) {
      return Object.getOwnPropertyDescriptor(e, s).enumerable;
    })), r.push.apply(r, n);
  }
  return r;
}
function Y0e(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2 ? G2(Object(r), !0).forEach(function(n) {
      G0e(e, n, r[n]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : G2(Object(r)).forEach(function(n) {
      Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
    });
  }
  return e;
}
function G0e(e, t, r) {
  return (t = Z0e(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e;
}
function Z0e(e) {
  var t = X0e(e, "string");
  return typeof t == "symbol" ? t : t + "";
}
function X0e(e, t) {
  if (typeof e != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (typeof n != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
var J0e = {
  cacheSize: 2e3,
  enableCache: !0
}, J8 = Y0e({}, J0e), Z2 = new H0e(J8.cacheSize), Q0e = {
  position: "absolute",
  top: "-20000px",
  left: 0,
  padding: 0,
  margin: 0,
  border: "none",
  whiteSpace: "pre"
}, X2 = "recharts_measurement_span";
function exe(e, t) {
  var r = t.fontSize || "", n = t.fontFamily || "", s = t.fontWeight || "", i = t.fontStyle || "", o = t.letterSpacing || "", a = t.textTransform || "";
  return "".concat(e, "|").concat(r, "|").concat(n, "|").concat(s, "|").concat(i, "|").concat(o, "|").concat(a);
}
var J2 = (e, t) => {
  try {
    var r = document.getElementById(X2);
    r || (r = document.createElement("span"), r.setAttribute("id", X2), r.setAttribute("aria-hidden", "true"), document.body.appendChild(r)), Object.assign(r.style, Q0e, t), r.textContent = "".concat(e);
    var n = r.getBoundingClientRect();
    return {
      width: n.width,
      height: n.height
    };
  } catch {
    return {
      width: 0,
      height: 0
    };
  }
}, Zf = function(t) {
  var r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
  if (t == null || Ed.isSsr)
    return {
      width: 0,
      height: 0
    };
  if (!J8.enableCache)
    return J2(t, r);
  var n = exe(t, r), s = Z2.get(n);
  if (s)
    return s;
  var i = J2(t, r);
  return Z2.set(n, i), i;
}, Q2 = /(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/, eD = /(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/, txe = /^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/, rxe = /(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/, Q8 = {
  cm: 96 / 2.54,
  mm: 96 / 25.4,
  pt: 96 / 72,
  pc: 96 / 6,
  in: 96,
  Q: 96 / (2.54 * 40),
  px: 1
}, nxe = Object.keys(Q8), pu = "NaN";
function sxe(e, t) {
  return e * Q8[t];
}
class Mn {
  static parse(t) {
    var r, [, n, s] = (r = rxe.exec(t)) !== null && r !== void 0 ? r : [];
    return new Mn(parseFloat(n), s ?? "");
  }
  constructor(t, r) {
    this.num = t, this.unit = r, this.num = t, this.unit = r, $s(t) && (this.unit = ""), r !== "" && !txe.test(r) && (this.num = NaN, this.unit = ""), nxe.includes(r) && (this.num = sxe(t, r), this.unit = "px");
  }
  add(t) {
    return this.unit !== t.unit ? new Mn(NaN, "") : new Mn(this.num + t.num, this.unit);
  }
  subtract(t) {
    return this.unit !== t.unit ? new Mn(NaN, "") : new Mn(this.num - t.num, this.unit);
  }
  multiply(t) {
    return this.unit !== "" && t.unit !== "" && this.unit !== t.unit ? new Mn(NaN, "") : new Mn(this.num * t.num, this.unit || t.unit);
  }
  divide(t) {
    return this.unit !== "" && t.unit !== "" && this.unit !== t.unit ? new Mn(NaN, "") : new Mn(this.num / t.num, this.unit || t.unit);
  }
  toString() {
    return "".concat(this.num).concat(this.unit);
  }
  isNaN() {
    return $s(this.num);
  }
}
function ez(e) {
  if (e.includes(pu))
    return pu;
  for (var t = e; t.includes("*") || t.includes("/"); ) {
    var r, [, n, s, i] = (r = Q2.exec(t)) !== null && r !== void 0 ? r : [], o = Mn.parse(n ?? ""), a = Mn.parse(i ?? ""), l = s === "*" ? o.multiply(a) : o.divide(a);
    if (l.isNaN())
      return pu;
    t = t.replace(Q2, l.toString());
  }
  for (; t.includes("+") || /.-\d+(?:\.\d+)?/.test(t); ) {
    var c, [, d, f, h] = (c = eD.exec(t)) !== null && c !== void 0 ? c : [], p = Mn.parse(d ?? ""), g = Mn.parse(h ?? ""), m = f === "+" ? p.add(g) : p.subtract(g);
    if (m.isNaN())
      return pu;
    t = t.replace(eD, m.toString());
  }
  return t;
}
var tD = /\(([^()]*)\)/;
function ixe(e) {
  for (var t = e, r; (r = tD.exec(t)) != null; ) {
    var [, n] = r;
    t = t.replace(tD, ez(n));
  }
  return t;
}
function oxe(e) {
  var t = e.replace(/\s+/g, "");
  return t = ixe(t), t = ez(t), t;
}
function axe(e) {
  try {
    return oxe(e);
  } catch {
    return pu;
  }
}
function $x(e) {
  var t = axe(e.slice(5, -1));
  return t === pu ? "" : t;
}
var lxe = ["x", "y", "lineHeight", "capHeight", "scaleToFit", "textAnchor", "verticalAnchor", "fill"], cxe = ["dx", "dy", "angle", "className", "breakAll"];
function m_() {
  return m_ = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var r = arguments[t];
      for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]);
    }
    return e;
  }, m_.apply(null, arguments);
}
function rD(e, t) {
  if (e == null) return {};
  var r, n, s = uxe(e, t);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    for (n = 0; n < i.length; n++) r = i[n], t.indexOf(r) === -1 && {}.propertyIsEnumerable.call(e, r) && (s[r] = e[r]);
  }
  return s;
}
function uxe(e, t) {
  if (e == null) return {};
  var r = {};
  for (var n in e) if ({}.hasOwnProperty.call(e, n)) {
    if (t.indexOf(n) !== -1) continue;
    r[n] = e[n];
  }
  return r;
}
var tz = /[ \f\n\r\t\v\u2028\u2029]+/, rz = (e) => {
  var {
    children: t,
    breakAll: r,
    style: n
  } = e;
  try {
    var s = [];
    wr(t) || (r ? s = t.toString().split("") : s = t.toString().split(tz));
    var i = s.map((a) => ({
      word: a,
      width: Zf(a, n).width
    })), o = r ? 0 : Zf("", n).width;
    return {
      wordsWithComputedWidth: i,
      spaceWidth: o
    };
  } catch {
    return null;
  }
}, dxe = (e, t, r, n, s) => {
  var {
    maxLines: i,
    children: o,
    style: a,
    breakAll: l
  } = e, c = Oe(i), d = o, f = function() {
    var I = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];
    return I.reduce((M, O) => {
      var {
        word: z,
        width: U
      } = O, G = M[M.length - 1];
      if (G && (n == null || s || G.width + U + r < Number(n)))
        G.words.push(z), G.width += U + r;
      else {
        var q = {
          words: [z],
          width: U
        };
        M.push(q);
      }
      return M;
    }, []);
  }, h = f(t), p = ($) => $.reduce((I, M) => I.width > M.width ? I : M);
  if (!c || s)
    return h;
  var g = h.length > i || p(h).width > Number(n);
  if (!g)
    return h;
  for (var m = "", y = ($) => {
    var I = d.slice(0, $), M = rz({
      breakAll: l,
      style: a,
      children: I + m
    }).wordsWithComputedWidth, O = f(M), z = O.length > i || p(O).width > Number(n);
    return [z, O];
  }, v = 0, b = d.length - 1, x = 0, S; v <= b && x <= d.length - 1; ) {
    var w = Math.floor((v + b) / 2), j = w - 1, [N, k] = y(j), [C] = y(w);
    if (!N && !C && (v = w + 1), N && C && (b = w - 1), !N && C) {
      S = k;
      break;
    }
    x++;
  }
  return S || h;
}, nD = (e) => {
  var t = wr(e) ? [] : e.toString().split(tz);
  return [{
    words: t
  }];
}, fxe = (e) => {
  var {
    width: t,
    scaleToFit: r,
    children: n,
    style: s,
    breakAll: i,
    maxLines: o
  } = e;
  if ((t || r) && !Ed.isSsr) {
    var a, l, c = rz({
      breakAll: i,
      children: n,
      style: s
    });
    if (c) {
      var {
        wordsWithComputedWidth: d,
        spaceWidth: f
      } = c;
      a = d, l = f;
    } else
      return nD(n);
    return dxe({
      breakAll: i,
      children: n,
      maxLines: o,
      style: s
    }, a, l, t, r);
  }
  return nD(n);
}, sD = "#808080", _b = /* @__PURE__ */ rt((e, t) => {
  var {
    x: r = 0,
    y: n = 0,
    lineHeight: s = "1em",
    // Magic number from d3
    capHeight: i = "0.71em",
    scaleToFit: o = !1,
    textAnchor: a = "start",
    // Maintain compat with existing charts / default SVG behavior
    verticalAnchor: l = "end",
    fill: c = sD
  } = e, d = rD(e, lxe), f = Ht(() => fxe({
    breakAll: d.breakAll,
    children: d.children,
    maxLines: d.maxLines,
    scaleToFit: o,
    style: d.style,
    width: d.width
  }), [d.breakAll, d.children, d.maxLines, o, d.style, d.width]), {
    dx: h,
    dy: p,
    angle: g,
    className: m,
    breakAll: y
  } = d, v = rD(d, cxe);
  if (!Xi(r) || !Xi(n))
    return null;
  var b = r + (Oe(h) ? h : 0), x = n + (Oe(p) ? p : 0), S;
  switch (l) {
    case "start":
      S = $x("calc(".concat(i, ")"));
      break;
    case "middle":
      S = $x("calc(".concat((f.length - 1) / 2, " * -").concat(s, " + (").concat(i, " / 2))"));
      break;
    default:
      S = $x("calc(".concat(f.length - 1, " * -").concat(s, ")"));
      break;
  }
  var w = [];
  if (o) {
    var j = f[0].width, {
      width: N
    } = d;
    w.push("scale(".concat(Oe(N) ? N / j : 1, ")"));
  }
  return g && w.push("rotate(".concat(g, ", ").concat(b, ", ").concat(x, ")")), w.length && (v.transform = w.join(" ")), /* @__PURE__ */ _.createElement("text", m_({}, tr(v, !0), {
    ref: t,
    x: b,
    y: x,
    className: at("recharts-text", m),
    textAnchor: a,
    fill: c.includes("url") ? sD : c
  }), f.map((k, C) => {
    var $ = k.words.join(y ? "" : " ");
    return (
      // duplicate words will cause duplicate keys
      // eslint-disable-next-line react/no-array-index-key
      /* @__PURE__ */ _.createElement("tspan", {
        x: b,
        dy: C === 0 ? S : s,
        key: "".concat($, "-").concat(C)
      }, $)
    );
  }));
});
_b.displayName = "Text";
var hxe = ["offset"], pxe = ["labelRef"];
function iD(e, t) {
  if (e == null) return {};
  var r, n, s = mxe(e, t);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    for (n = 0; n < i.length; n++) r = i[n], t.indexOf(r) === -1 && {}.propertyIsEnumerable.call(e, r) && (s[r] = e[r]);
  }
  return s;
}
function mxe(e, t) {
  if (e == null) return {};
  var r = {};
  for (var n in e) if ({}.hasOwnProperty.call(e, n)) {
    if (t.indexOf(n) !== -1) continue;
    r[n] = e[n];
  }
  return r;
}
function oD(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    t && (n = n.filter(function(s) {
      return Object.getOwnPropertyDescriptor(e, s).enumerable;
    })), r.push.apply(r, n);
  }
  return r;
}
function sr(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2 ? oD(Object(r), !0).forEach(function(n) {
      gxe(e, n, r[n]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : oD(Object(r)).forEach(function(n) {
      Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
    });
  }
  return e;
}
function gxe(e, t, r) {
  return (t = yxe(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e;
}
function yxe(e) {
  var t = vxe(e, "string");
  return typeof t == "symbol" ? t : t + "";
}
function vxe(e, t) {
  if (typeof e != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (typeof n != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
function Co() {
  return Co = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var r = arguments[t];
      for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]);
    }
    return e;
  }, Co.apply(null, arguments);
}
var bxe = (e) => {
  var {
    value: t,
    formatter: r
  } = e, n = wr(e.children) ? t : e.children;
  return typeof r == "function" ? r(n) : n;
}, WN = (e) => e != null && typeof e == "function", xxe = (e, t) => {
  var r = gn(t - e), n = Math.min(Math.abs(t - e), 360);
  return r * n;
}, wxe = (e, t, r, n) => {
  var {
    position: s,
    offset: i,
    className: o
  } = e, {
    cx: a,
    cy: l,
    innerRadius: c,
    outerRadius: d,
    startAngle: f,
    endAngle: h,
    clockWise: p
  } = n, g = (c + d) / 2, m = xxe(f, h), y = m >= 0 ? 1 : -1, v, b;
  s === "insideStart" ? (v = f + y * i, b = p) : s === "insideEnd" ? (v = h - y * i, b = !p) : s === "end" && (v = h + y * i, b = p), b = m <= 0 ? b : !b;
  var x = xr(a, l, g, v), S = xr(a, l, g, v + (b ? 1 : -1) * 359), w = "M".concat(x.x, ",").concat(x.y, `
    A`).concat(g, ",").concat(g, ",0,1,").concat(b ? 0 : 1, `,
    `).concat(S.x, ",").concat(S.y), j = wr(e.id) ? _h("recharts-radial-line-") : e.id;
  return /* @__PURE__ */ _.createElement("text", Co({}, r, {
    dominantBaseline: "central",
    className: at("recharts-radial-bar-label", o)
  }), /* @__PURE__ */ _.createElement("defs", null, /* @__PURE__ */ _.createElement("path", {
    id: j,
    d: w
  })), /* @__PURE__ */ _.createElement("textPath", {
    xlinkHref: "#".concat(j)
  }, t));
}, _xe = (e, t, r) => {
  var {
    cx: n,
    cy: s,
    innerRadius: i,
    outerRadius: o,
    startAngle: a,
    endAngle: l
  } = e, c = (a + l) / 2;
  if (r === "outside") {
    var {
      x: d,
      y: f
    } = xr(n, s, o + t, c);
    return {
      x: d,
      y: f,
      textAnchor: d >= n ? "start" : "end",
      verticalAnchor: "middle"
    };
  }
  if (r === "center")
    return {
      x: n,
      y: s,
      textAnchor: "middle",
      verticalAnchor: "middle"
    };
  if (r === "centerTop")
    return {
      x: n,
      y: s,
      textAnchor: "middle",
      verticalAnchor: "start"
    };
  if (r === "centerBottom")
    return {
      x: n,
      y: s,
      textAnchor: "middle",
      verticalAnchor: "end"
    };
  var h = (i + o) / 2, {
    x: p,
    y: g
  } = xr(n, s, h, c);
  return {
    x: p,
    y: g,
    textAnchor: "middle",
    verticalAnchor: "middle"
  };
}, Sxe = (e, t) => {
  var {
    parentViewBox: r,
    offset: n,
    position: s
  } = e, {
    x: i,
    y: o,
    width: a,
    height: l
  } = t, c = l >= 0 ? 1 : -1, d = c * n, f = c > 0 ? "end" : "start", h = c > 0 ? "start" : "end", p = a >= 0 ? 1 : -1, g = p * n, m = p > 0 ? "end" : "start", y = p > 0 ? "start" : "end";
  if (s === "top") {
    var v = {
      x: i + a / 2,
      y: o - c * n,
      textAnchor: "middle",
      verticalAnchor: f
    };
    return sr(sr({}, v), r ? {
      height: Math.max(o - r.y, 0),
      width: a
    } : {});
  }
  if (s === "bottom") {
    var b = {
      x: i + a / 2,
      y: o + l + d,
      textAnchor: "middle",
      verticalAnchor: h
    };
    return sr(sr({}, b), r ? {
      height: Math.max(r.y + r.height - (o + l), 0),
      width: a
    } : {});
  }
  if (s === "left") {
    var x = {
      x: i - g,
      y: o + l / 2,
      textAnchor: m,
      verticalAnchor: "middle"
    };
    return sr(sr({}, x), r ? {
      width: Math.max(x.x - r.x, 0),
      height: l
    } : {});
  }
  if (s === "right") {
    var S = {
      x: i + a + g,
      y: o + l / 2,
      textAnchor: y,
      verticalAnchor: "middle"
    };
    return sr(sr({}, S), r ? {
      width: Math.max(r.x + r.width - S.x, 0),
      height: l
    } : {});
  }
  var w = r ? {
    width: a,
    height: l
  } : {};
  return s === "insideLeft" ? sr({
    x: i + g,
    y: o + l / 2,
    textAnchor: y,
    verticalAnchor: "middle"
  }, w) : s === "insideRight" ? sr({
    x: i + a - g,
    y: o + l / 2,
    textAnchor: m,
    verticalAnchor: "middle"
  }, w) : s === "insideTop" ? sr({
    x: i + a / 2,
    y: o + d,
    textAnchor: "middle",
    verticalAnchor: h
  }, w) : s === "insideBottom" ? sr({
    x: i + a / 2,
    y: o + l - d,
    textAnchor: "middle",
    verticalAnchor: f
  }, w) : s === "insideTopLeft" ? sr({
    x: i + g,
    y: o + d,
    textAnchor: y,
    verticalAnchor: h
  }, w) : s === "insideTopRight" ? sr({
    x: i + a - g,
    y: o + d,
    textAnchor: m,
    verticalAnchor: h
  }, w) : s === "insideBottomLeft" ? sr({
    x: i + g,
    y: o + l - d,
    textAnchor: y,
    verticalAnchor: f
  }, w) : s === "insideBottomRight" ? sr({
    x: i + a - g,
    y: o + l - d,
    textAnchor: m,
    verticalAnchor: f
  }, w) : s && typeof s == "object" && (Oe(s.x) || Ml(s.x)) && (Oe(s.y) || Ml(s.y)) ? sr({
    x: i + Ds(s.x, a),
    y: o + Ds(s.y, l),
    textAnchor: "end",
    verticalAnchor: "end"
  }, w) : sr({
    x: i + a / 2,
    y: o + l / 2,
    textAnchor: "middle",
    verticalAnchor: "middle"
  }, w);
}, Exe = (e) => "cx" in e && Oe(e.cx);
function ns(e) {
  var {
    offset: t = 5
  } = e, r = iD(e, hxe), n = sr({
    offset: t
  }, r), {
    viewBox: s,
    position: i,
    value: o,
    children: a,
    content: l,
    className: c = "",
    textBreakAll: d,
    labelRef: f
  } = n, h = Me(qB), p = Oj(), g = i === "center" ? p : h ?? p, m = s || g;
  if (!m || wr(o) && wr(a) && !/* @__PURE__ */ Pn(l) && typeof l != "function")
    return null;
  var y = sr(sr({}, n), {}, {
    viewBox: m
  });
  if (/* @__PURE__ */ Pn(l)) {
    var {
      labelRef: v
    } = y, b = iD(y, pxe);
    return /* @__PURE__ */ vi(l, b);
  }
  var x;
  if (typeof l == "function") {
    if (x = /* @__PURE__ */ $e(l, y), /* @__PURE__ */ Pn(x))
      return x;
  } else
    x = bxe(n);
  var S = Exe(m), w = tr(n, !0);
  if (S && (i === "insideStart" || i === "insideEnd" || i === "end"))
    return wxe(n, x, w, m);
  var j = S ? _xe(m, n.offset, n.position) : Sxe(n, m);
  return /* @__PURE__ */ _.createElement(_b, Co({
    ref: f,
    className: at("recharts-label", c)
  }, w, j, {
    breakAll: d
  }), x);
}
ns.displayName = "Label";
var nz = (e) => {
  var {
    cx: t,
    cy: r,
    angle: n,
    startAngle: s,
    endAngle: i,
    r: o,
    radius: a,
    innerRadius: l,
    outerRadius: c,
    x: d,
    y: f,
    top: h,
    left: p,
    width: g,
    height: m,
    clockWise: y,
    labelViewBox: v
  } = e;
  if (v)
    return v;
  if (Oe(g) && Oe(m)) {
    if (Oe(d) && Oe(f))
      return {
        x: d,
        y: f,
        width: g,
        height: m
      };
    if (Oe(h) && Oe(p))
      return {
        x: h,
        y: p,
        width: g,
        height: m
      };
  }
  if (Oe(d) && Oe(f))
    return {
      x: d,
      y: f,
      width: 0,
      height: 0
    };
  if (Oe(t) && Oe(r))
    return {
      cx: t,
      cy: r,
      startAngle: s || n || 0,
      endAngle: i || n || 0,
      innerRadius: l || 0,
      outerRadius: c || a || o || 0,
      clockWise: y
    };
  if (e.viewBox)
    return e.viewBox;
}, jxe = (e, t, r) => {
  if (!e)
    return null;
  var n = {
    viewBox: t,
    labelRef: r
  };
  return e === !0 ? /* @__PURE__ */ _.createElement(ns, Co({
    key: "label-implicit"
  }, n)) : Xi(e) ? /* @__PURE__ */ _.createElement(ns, Co({
    key: "label-implicit",
    value: e
  }, n)) : /* @__PURE__ */ Pn(e) ? e.type === ns ? /* @__PURE__ */ vi(e, sr({
    key: "label-implicit"
  }, n)) : /* @__PURE__ */ _.createElement(ns, Co({
    key: "label-implicit",
    content: e
  }, n)) : WN(e) ? /* @__PURE__ */ _.createElement(ns, Co({
    key: "label-implicit",
    content: e
  }, n)) : e && typeof e == "object" ? /* @__PURE__ */ _.createElement(ns, Co({}, e, {
    key: "label-implicit"
  }, n)) : null;
}, Nxe = function(t, r) {
  var n = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : !0;
  if (!t || !t.children && n && !t.label)
    return null;
  var {
    children: s,
    labelRef: i
  } = t, o = nz(t), a = qv(s, ns).map((c, d) => /* @__PURE__ */ vi(c, {
    viewBox: r || o,
    // eslint-disable-next-line react/no-array-index-key
    key: "label-".concat(d)
  }));
  if (!n)
    return a;
  var l = jxe(t.label, r || o, i);
  return [l, ...a];
};
ns.parseViewBox = nz;
ns.renderCallByParent = Nxe;
var sz = {}, iz = {};
(function(e) {
  Object.defineProperty(e, Symbol.toStringTag, { value: "Module" });
  function t(r) {
    return r[r.length - 1];
  }
  e.last = t;
})(iz);
var oz = {};
(function(e) {
  Object.defineProperty(e, Symbol.toStringTag, { value: "Module" });
  function t(r) {
    return Array.isArray(r) ? r : Array.from(r);
  }
  e.toArray = t;
})(oz);
(function(e) {
  Object.defineProperty(e, Symbol.toStringTag, { value: "Module" });
  const t = iz, r = oz, n = Hv;
  function s(i) {
    if (n.isArrayLike(i))
      return t.last(r.toArray(i));
  }
  e.last = s;
})(sz);
var kxe = sz.last;
const Cxe = /* @__PURE__ */ bi(kxe);
var Txe = ["valueAccessor"], Axe = ["data", "dataKey", "clockWise", "id", "textBreakAll"];
function ky() {
  return ky = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var r = arguments[t];
      for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]);
    }
    return e;
  }, ky.apply(null, arguments);
}
function aD(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    t && (n = n.filter(function(s) {
      return Object.getOwnPropertyDescriptor(e, s).enumerable;
    })), r.push.apply(r, n);
  }
  return r;
}
function lD(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2 ? aD(Object(r), !0).forEach(function(n) {
      Pxe(e, n, r[n]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : aD(Object(r)).forEach(function(n) {
      Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
    });
  }
  return e;
}
function Pxe(e, t, r) {
  return (t = Oxe(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e;
}
function Oxe(e) {
  var t = Dxe(e, "string");
  return typeof t == "symbol" ? t : t + "";
}
function Dxe(e, t) {
  if (typeof e != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (typeof n != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
function cD(e, t) {
  if (e == null) return {};
  var r, n, s = $xe(e, t);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    for (n = 0; n < i.length; n++) r = i[n], t.indexOf(r) === -1 && {}.propertyIsEnumerable.call(e, r) && (s[r] = e[r]);
  }
  return s;
}
function $xe(e, t) {
  if (e == null) return {};
  var r = {};
  for (var n in e) if ({}.hasOwnProperty.call(e, n)) {
    if (t.indexOf(n) !== -1) continue;
    r[n] = e[n];
  }
  return r;
}
var Rxe = (e) => Array.isArray(e.value) ? Cxe(e.value) : e.value;
function ec(e) {
  var {
    valueAccessor: t = Rxe
  } = e, r = cD(e, Txe), {
    data: n,
    dataKey: s,
    clockWise: i,
    id: o,
    textBreakAll: a
  } = r, l = cD(r, Axe);
  return !n || !n.length ? null : /* @__PURE__ */ _.createElement(Rs, {
    className: "recharts-label-list"
  }, n.map((c, d) => {
    var f = wr(s) ? t(c, d) : Vt(c && c.payload, s), h = wr(o) ? {} : {
      id: "".concat(o, "-").concat(d)
    };
    return /* @__PURE__ */ _.createElement(ns, ky({}, tr(c, !0), l, h, {
      parentViewBox: c.parentViewBox,
      value: f,
      textBreakAll: a,
      viewBox: ns.parseViewBox(wr(i) ? c : lD(lD({}, c), {}, {
        clockWise: i
      })),
      key: "label-".concat(d),
      index: d
    }));
  }));
}
ec.displayName = "LabelList";
function Ixe(e, t) {
  return e ? e === !0 ? /* @__PURE__ */ _.createElement(ec, {
    key: "labelList-implicit",
    data: t
  }) : /* @__PURE__ */ _.isValidElement(e) || WN(e) ? /* @__PURE__ */ _.createElement(ec, {
    key: "labelList-implicit",
    data: t,
    content: e
  }) : typeof e == "object" ? /* @__PURE__ */ _.createElement(ec, ky({
    data: t
  }, e, {
    key: "labelList-implicit"
  })) : null : null;
}
function Mxe(e, t) {
  var r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : !0;
  if (!e || !e.children && r && !e.label)
    return null;
  var {
    children: n
  } = e, s = qv(n, ec).map((o, a) => /* @__PURE__ */ vi(o, {
    data: t,
    // eslint-disable-next-line react/no-array-index-key
    key: "labelList-".concat(a)
  }));
  if (!r)
    return s;
  var i = Ixe(e.label, t);
  return [i, ...s];
}
ec.renderCallByParent = Mxe;
function g_() {
  return g_ = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var r = arguments[t];
      for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]);
    }
    return e;
  }, g_.apply(null, arguments);
}
var az = (e) => {
  var {
    cx: t,
    cy: r,
    r: n,
    className: s
  } = e, i = at("recharts-dot", s);
  return t === +t && r === +r && n === +n ? /* @__PURE__ */ _.createElement("circle", g_({}, al(e), oj(e), {
    className: i,
    cx: t,
    cy: r,
    r: n
  })) : null;
}, lz = (e) => e.graphicalItems.polarItems, Lxe = Q([Gt, wp], xN), KN = Q([lz, pr, Lxe], wN), Fxe = Q([KN], _N), HN = Q([Fxe, lN], SN), Bxe = Q([HN, pr, KN], jN), zxe = Q([HN, pr, KN], (e, t, r) => r.length > 0 ? e.flatMap((n) => r.flatMap((s) => {
  var i, o = Vt(n, (i = t.dataKey) !== null && i !== void 0 ? i : s.dataKey);
  return {
    value: o,
    errorDomain: []
    // polar charts do not have error bars
  };
})).filter(Boolean) : (t == null ? void 0 : t.dataKey) != null ? e.map((n) => ({
  value: Vt(n, t.dataKey),
  errorDomain: []
})) : e.map((n) => ({
  value: n,
  errorDomain: []
}))), uD = () => {
}, Uxe = Q([pr, l8, uD, zxe, uD, Nt, Gt], kN), cz = Q([pr, Nt, HN, Bxe, xp, Gt, Uxe], CN), qxe = Q([cz, pr, Ad], PN);
Q([pr, cz, qxe, Gt], DN);
var Vxe = {
  radiusAxis: {},
  angleAxis: {}
}, uz = us({
  name: "polarAxis",
  initialState: Vxe,
  reducers: {
    addRadiusAxis(e, t) {
      e.radiusAxis[t.payload.id] = t.payload;
    },
    removeRadiusAxis(e, t) {
      delete e.radiusAxis[t.payload.id];
    },
    addAngleAxis(e, t) {
      e.angleAxis[t.payload.id] = t.payload;
    },
    removeAngleAxis(e, t) {
      delete e.angleAxis[t.payload.id];
    }
  }
}), {
  addRadiusAxis: Y$e,
  removeRadiusAxis: G$e,
  addAngleAxis: Z$e,
  removeAngleAxis: X$e
} = uz.actions, Wxe = uz.reducer;
function dD(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    t && (n = n.filter(function(s) {
      return Object.getOwnPropertyDescriptor(e, s).enumerable;
    })), r.push.apply(r, n);
  }
  return r;
}
function fD(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2 ? dD(Object(r), !0).forEach(function(n) {
      Kxe(e, n, r[n]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : dD(Object(r)).forEach(function(n) {
      Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
    });
  }
  return e;
}
function Kxe(e, t, r) {
  return (t = Hxe(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e;
}
function Hxe(e) {
  var t = Yxe(e, "string");
  return typeof t == "symbol" ? t : t + "";
}
function Yxe(e, t) {
  if (typeof e != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (typeof n != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
var Gxe = (e, t) => t, YN = Q([lz, Gxe], (e, t) => e.filter((r) => r.type === "pie").find((r) => r.id === t)), Zxe = [], GN = (e, t, r) => (r == null ? void 0 : r.length) === 0 ? Zxe : r, dz = Q([lN, YN, GN], (e, t, r) => {
  var {
    chartData: n
  } = e;
  if (t != null) {
    var s;
    if ((t == null ? void 0 : t.data) != null && t.data.length > 0 ? s = t.data : s = n, (!s || !s.length) && r != null && (s = r.map((i) => fD(fD({}, t.presentationProps), i.props))), s != null)
      return s;
  }
}), Xxe = Q([dz, YN, GN], (e, t, r) => {
  if (!(e == null || t == null))
    return e.map((n, s) => {
      var i, o = Vt(n, t.nameKey, t.name), a;
      return r != null && (i = r[s]) !== null && i !== void 0 && (i = i.props) !== null && i !== void 0 && i.fill ? a = r[s].props.fill : typeof n == "object" && n != null && "fill" in n ? a = n.fill : a = t.fill, {
        value: nb(o, t.dataKey),
        color: a,
        payload: n,
        type: t.legendType
      };
    });
}), Jxe = Q([dz, YN, GN, Yr], (e, t, r, n) => {
  if (!(t == null || e == null))
    return Gwe({
      offset: n,
      pieSettings: t,
      displayedData: e,
      cells: r
    });
}), fz = {};
(function(e) {
  Object.defineProperty(e, Symbol.toStringTag, { value: "Module" });
  function t(r) {
    var s;
    if (typeof r != "object" || r == null)
      return !1;
    if (Object.getPrototypeOf(r) === null)
      return !0;
    if (Object.prototype.toString.call(r) !== "[object Object]") {
      const i = r[Symbol.toStringTag];
      return i == null || !((s = Object.getOwnPropertyDescriptor(r, Symbol.toStringTag)) != null && s.writable) ? !1 : r.toString() === `[object ${i}]`;
    }
    let n = r;
    for (; Object.getPrototypeOf(n) !== null; )
      n = Object.getPrototypeOf(n);
    return Object.getPrototypeOf(r) === n;
  }
  e.isPlainObject = t;
})(fz);
var Qxe = fz.isPlainObject;
const ewe = /* @__PURE__ */ bi(Qxe);
function Cy() {
  return Cy = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var r = arguments[t];
      for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]);
    }
    return e;
  }, Cy.apply(null, arguments);
}
var hD = (e, t, r, n, s) => {
  var i = r - n, o;
  return o = "M ".concat(e, ",").concat(t), o += "L ".concat(e + r, ",").concat(t), o += "L ".concat(e + r - i / 2, ",").concat(t + s), o += "L ".concat(e + r - i / 2 - n, ",").concat(t + s), o += "L ".concat(e, ",").concat(t, " Z"), o;
}, twe = {
  x: 0,
  y: 0,
  upperWidth: 0,
  lowerWidth: 0,
  height: 0,
  isUpdateAnimationActive: !1,
  animationBegin: 0,
  animationDuration: 1500,
  animationEasing: "ease"
}, rwe = (e) => {
  var t = zs(e, twe), r = We(), [n, s] = L(-1);
  ve(() => {
    if (r.current && r.current.getTotalLength)
      try {
        var y = r.current.getTotalLength();
        y && s(y);
      } catch {
      }
  }, []);
  var {
    x: i,
    y: o,
    upperWidth: a,
    lowerWidth: l,
    height: c,
    className: d
  } = t, {
    animationEasing: f,
    animationDuration: h,
    animationBegin: p,
    isUpdateAnimationActive: g
  } = t;
  if (i !== +i || o !== +o || a !== +a || l !== +l || c !== +c || a === 0 && l === 0 || c === 0)
    return null;
  var m = at("recharts-trapezoid", d);
  return g ? /* @__PURE__ */ _.createElement(fy, {
    canBegin: n > 0,
    from: {
      upperWidth: 0,
      lowerWidth: 0,
      height: c,
      x: i,
      y: o
    },
    to: {
      upperWidth: a,
      lowerWidth: l,
      height: c,
      x: i,
      y: o
    },
    duration: h,
    animationEasing: f,
    isActive: g
  }, (y) => {
    var {
      upperWidth: v,
      lowerWidth: b,
      height: x,
      x: S,
      y: w
    } = y;
    return /* @__PURE__ */ _.createElement(fy, {
      canBegin: n > 0,
      from: "0px ".concat(n === -1 ? 1 : n, "px"),
      to: "".concat(n, "px 0px"),
      attributeName: "strokeDasharray",
      begin: p,
      duration: h,
      easing: f
    }, /* @__PURE__ */ _.createElement("path", Cy({}, tr(t, !0), {
      className: m,
      d: hD(S, w, v, b, x),
      ref: r
    })));
  }) : /* @__PURE__ */ _.createElement("g", null, /* @__PURE__ */ _.createElement("path", Cy({}, tr(t, !0), {
    className: m,
    d: hD(i, o, a, l, c)
  })));
}, nwe = ["option", "shapeType", "propTransformer", "activeClassName", "isActive"];
function swe(e, t) {
  if (e == null) return {};
  var r, n, s = iwe(e, t);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    for (n = 0; n < i.length; n++) r = i[n], t.indexOf(r) === -1 && {}.propertyIsEnumerable.call(e, r) && (s[r] = e[r]);
  }
  return s;
}
function iwe(e, t) {
  if (e == null) return {};
  var r = {};
  for (var n in e) if ({}.hasOwnProperty.call(e, n)) {
    if (t.indexOf(n) !== -1) continue;
    r[n] = e[n];
  }
  return r;
}
function pD(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    t && (n = n.filter(function(s) {
      return Object.getOwnPropertyDescriptor(e, s).enumerable;
    })), r.push.apply(r, n);
  }
  return r;
}
function Ty(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2 ? pD(Object(r), !0).forEach(function(n) {
      owe(e, n, r[n]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : pD(Object(r)).forEach(function(n) {
      Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
    });
  }
  return e;
}
function owe(e, t, r) {
  return (t = awe(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e;
}
function awe(e) {
  var t = lwe(e, "string");
  return typeof t == "symbol" ? t : t + "";
}
function lwe(e, t) {
  if (typeof e != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (typeof n != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
function cwe(e, t) {
  return Ty(Ty({}, t), e);
}
function uwe(e, t) {
  return e === "symbols";
}
function mD(e) {
  var {
    shapeType: t,
    elementProps: r
  } = e;
  switch (t) {
    case "rectangle":
      return /* @__PURE__ */ _.createElement(I6, r);
    case "trapezoid":
      return /* @__PURE__ */ _.createElement(rwe, r);
    case "sector":
      return /* @__PURE__ */ _.createElement(F6, r);
    case "symbols":
      if (uwe(t))
        return /* @__PURE__ */ _.createElement(fj, r);
      break;
    default:
      return null;
  }
}
function dwe(e) {
  return /* @__PURE__ */ Pn(e) ? e.props : e;
}
function fwe(e) {
  var {
    option: t,
    shapeType: r,
    propTransformer: n = cwe,
    activeClassName: s = "recharts-active-shape",
    isActive: i
  } = e, o = swe(e, nwe), a;
  if (/* @__PURE__ */ Pn(t))
    a = /* @__PURE__ */ vi(t, Ty(Ty({}, o), dwe(t)));
  else if (typeof t == "function")
    a = t(o);
  else if (ewe(t) && typeof t != "boolean") {
    var l = n(t, o);
    a = /* @__PURE__ */ _.createElement(mD, {
      shapeType: r,
      elementProps: l
    });
  } else {
    var c = o;
    a = /* @__PURE__ */ _.createElement(mD, {
      shapeType: r,
      elementProps: c
    });
  }
  return i ? /* @__PURE__ */ _.createElement(Rs, {
    className: s
  }, a) : a;
}
var hwe = (e, t) => {
  var r = nr();
  return (n, s) => (i) => {
    e == null || e(n, s, i), r(E8({
      activeIndex: String(s),
      activeDataKey: t,
      activeCoordinate: n.tooltipPosition
    }));
  };
}, pwe = (e) => {
  var t = nr();
  return (r, n) => (s) => {
    e == null || e(r, n, s), t(hbe());
  };
}, mwe = (e, t) => {
  var r = nr();
  return (n, s) => (i) => {
    e == null || e(n, s, i), r(pbe({
      activeIndex: String(s),
      activeDataKey: t,
      activeCoordinate: n.tooltipPosition
    }));
  };
};
function hz(e) {
  var {
    fn: t,
    args: r
  } = e, n = nr(), s = Bs();
  return ve(() => {
    if (!s) {
      var i = t(r);
      return n(ube(i)), () => {
        n(dbe(i));
      };
    }
  }, [t, r, n, s]), null;
}
var pz = () => {
};
function gwe(e) {
  var {
    legendPayload: t
  } = e, r = nr(), n = Bs();
  return ve(() => n ? pz : (r(S6(t)), () => {
    r(E6(t));
  }), [r, n, t]), null;
}
function ywe(e) {
  var {
    legendPayload: t
  } = e, r = nr(), n = Me(Nt);
  return ve(() => n !== "centric" && n !== "radial" ? pz : (r(S6(t)), () => {
    r(E6(t));
  }), [r, n, t]), null;
}
function mz(e) {
  var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "animation-", r = We(_h(t)), n = We(e);
  return n.current !== e && (r.current = _h(t), n.current = e), r.current;
}
var Rx, vwe = () => {
  var [e] = _.useState(() => _h("uid-"));
  return e;
}, bwe = (Rx = _.useId) !== null && Rx !== void 0 ? Rx : vwe;
function xwe(e, t) {
  var r = bwe();
  return t || (e ? "".concat(e, "-").concat(r) : r);
}
var wwe = /* @__PURE__ */ dr(void 0), gz = (e) => {
  var {
    id: t,
    type: r,
    children: n
  } = e, s = xwe("recharts-".concat(r), t);
  return /* @__PURE__ */ _.createElement(wwe.Provider, {
    value: s
  }, n(s));
}, _we = {
  cartesianItems: [],
  polarItems: []
}, yz = us({
  name: "graphicalItems",
  initialState: _we,
  reducers: {
    addCartesianGraphicalItem(e, t) {
      e.cartesianItems.push(t.payload);
    },
    replaceCartesianGraphicalItem(e, t) {
      var {
        prev: r,
        next: n
      } = t.payload, s = Do(e).cartesianItems.indexOf(r);
      s > -1 && (e.cartesianItems[s] = n);
    },
    removeCartesianGraphicalItem(e, t) {
      var r = Do(e).cartesianItems.indexOf(t.payload);
      r > -1 && e.cartesianItems.splice(r, 1);
    },
    addPolarGraphicalItem(e, t) {
      e.polarItems.push(t.payload);
    },
    removePolarGraphicalItem(e, t) {
      var r = Do(e).polarItems.indexOf(t.payload);
      r > -1 && e.polarItems.splice(r, 1);
    }
  }
}), {
  addCartesianGraphicalItem: Swe,
  replaceCartesianGraphicalItem: Ewe,
  removeCartesianGraphicalItem: jwe,
  addPolarGraphicalItem: Nwe,
  removePolarGraphicalItem: kwe
} = yz.actions, Cwe = yz.reducer;
function Twe(e) {
  var t = nr(), r = We(null);
  return ve(() => {
    r.current === null ? t(Swe(e)) : r.current !== e && t(Ewe({
      prev: r.current,
      next: e
    })), r.current = e;
  }, [t, e]), ve(() => () => {
    r.current && (t(jwe(r.current)), r.current = null);
  }, [t]), null;
}
function Awe(e) {
  var t = nr();
  return ve(() => (t(Nwe(e)), () => {
    t(kwe(e));
  }), [t, e]), null;
}
function Pwe() {
}
var Owe = {
  begin: 0,
  duration: 1e3,
  easing: "ease",
  isActive: !0,
  canBegin: !0,
  onAnimationEnd: () => {
  },
  onAnimationStart: () => {
  }
}, gD = {
  t: 0
}, Ix = {
  t: 1
};
function vz(e) {
  var t = zs(e, Owe), {
    isActive: r,
    canBegin: n,
    duration: s,
    easing: i,
    begin: o,
    onAnimationEnd: a,
    onAnimationStart: l,
    children: c
  } = t, d = R6("JavascriptAnimate", t.animationManager), [f, h] = L(r ? gD : Ix), p = We(null);
  return ve(() => {
    r || h(Ix);
  }, [r]), ve(() => {
    if (!r || !n)
      return Pwe;
    var g = $6(gD, Ix, O6(i), s, h, d.getTimeoutController()), m = () => {
      p.current = g();
    };
    return d.start([l, o, m, s, a]), () => {
      d.stop(), p.current && p.current(), a();
    };
  }, [r, n, s, i, o, l, a, d]), c(f.t);
}
var Dwe = ["onMouseEnter", "onClick", "onMouseLeave"], $we = ["id"], Rwe = ["id"];
function ZN(e, t) {
  if (e == null) return {};
  var r, n, s = Iwe(e, t);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    for (n = 0; n < i.length; n++) r = i[n], t.indexOf(r) === -1 && {}.propertyIsEnumerable.call(e, r) && (s[r] = e[r]);
  }
  return s;
}
function Iwe(e, t) {
  if (e == null) return {};
  var r = {};
  for (var n in e) if ({}.hasOwnProperty.call(e, n)) {
    if (t.indexOf(n) !== -1) continue;
    r[n] = e[n];
  }
  return r;
}
function yD(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    t && (n = n.filter(function(s) {
      return Object.getOwnPropertyDescriptor(e, s).enumerable;
    })), r.push.apply(r, n);
  }
  return r;
}
function or(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2 ? yD(Object(r), !0).forEach(function(n) {
      Mwe(e, n, r[n]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : yD(Object(r)).forEach(function(n) {
      Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
    });
  }
  return e;
}
function Mwe(e, t, r) {
  return (t = Lwe(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e;
}
function Lwe(e) {
  var t = Fwe(e, "string");
  return typeof t == "symbol" ? t : t + "";
}
function Fwe(e, t) {
  if (typeof e != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (typeof n != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
function Ho() {
  return Ho = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var r = arguments[t];
      for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]);
    }
    return e;
  }, Ho.apply(null, arguments);
}
function Bwe(e) {
  var t = Ht(() => qv(e.children, wb), [e.children]), r = Me((n) => Xxe(n, e.id, t));
  return r == null ? null : /* @__PURE__ */ _.createElement(ywe, {
    legendPayload: r
  });
}
function zwe(e) {
  var {
    dataKey: t,
    nameKey: r,
    sectors: n,
    stroke: s,
    strokeWidth: i,
    fill: o,
    name: a,
    hide: l,
    tooltipType: c
  } = e;
  return {
    dataDefinedOnItem: n == null ? void 0 : n.map((d) => d.tooltipPayload),
    positions: n == null ? void 0 : n.map((d) => d.tooltipPosition),
    settings: {
      stroke: s,
      strokeWidth: i,
      fill: o,
      dataKey: t,
      nameKey: r,
      name: nb(a, t),
      hide: l,
      type: c,
      color: o,
      unit: ""
      // why doesn't Pie support unit?
    }
  };
}
var Uwe = (e, t) => e > t ? "start" : e < t ? "end" : "middle", qwe = (e, t, r) => typeof t == "function" ? t(e) : Ds(t, r, r * 0.8), Vwe = (e, t, r) => {
  var {
    top: n,
    left: s,
    width: i,
    height: o
  } = t, a = h6(i, o), l = s + Ds(e.cx, i, i / 2), c = n + Ds(e.cy, o, o / 2), d = Ds(e.innerRadius, a, 0), f = qwe(r, e.outerRadius, a), h = e.maxRadius || Math.sqrt(i * i + o * o) / 2;
  return {
    cx: l,
    cy: c,
    innerRadius: d,
    outerRadius: f,
    maxRadius: h
  };
}, Wwe = (e, t) => {
  var r = gn(t - e), n = Math.min(Math.abs(t - e), 360);
  return r * n;
}, Kwe = (e, t) => {
  if (/* @__PURE__ */ _.isValidElement(e))
    return /* @__PURE__ */ _.cloneElement(e, t);
  if (typeof e == "function")
    return e(t);
  var r = at("recharts-pie-label-line", typeof e != "boolean" ? e.className : "");
  return /* @__PURE__ */ _.createElement(Mj, Ho({}, t, {
    type: "linear",
    className: r
  }));
}, Hwe = (e, t, r) => {
  if (/* @__PURE__ */ _.isValidElement(e))
    return /* @__PURE__ */ _.cloneElement(e, t);
  var n = r;
  if (typeof e == "function" && (n = e(t), /* @__PURE__ */ _.isValidElement(n)))
    return n;
  var s = at("recharts-pie-label-text", typeof e != "boolean" && typeof e != "function" ? e.className : "");
  return /* @__PURE__ */ _.createElement(_b, Ho({}, t, {
    alignmentBaseline: "middle",
    className: s
  }), n);
};
function Ywe(e) {
  var {
    sectors: t,
    props: r,
    showLabels: n
  } = e, {
    label: s,
    labelLine: i,
    dataKey: o
  } = r;
  if (!n || !s || !t)
    return null;
  var a = al(r), l = tr(s, !1), c = tr(i, !1), d = typeof s == "object" && "offsetRadius" in s && s.offsetRadius || 20, f = t.map((h, p) => {
    var g = (h.startAngle + h.endAngle) / 2, m = xr(h.cx, h.cy, h.outerRadius + d, g), y = or(or(or(or({}, a), h), {}, {
      stroke: "none"
    }, l), {}, {
      index: p,
      textAnchor: Uwe(m.x, h.cx)
    }, m), v = or(or(or(or({}, a), h), {}, {
      fill: "none",
      stroke: h.fill
    }, c), {}, {
      index: p,
      points: [xr(h.cx, h.cy, h.outerRadius, g), m],
      key: "line"
    });
    return (
      // eslint-disable-next-line react/no-array-index-key
      /* @__PURE__ */ _.createElement(Rs, {
        key: "label-".concat(h.startAngle, "-").concat(h.endAngle, "-").concat(h.midAngle, "-").concat(p)
      }, i && Kwe(i, v), Hwe(s, y, Vt(h, o)))
    );
  });
  return /* @__PURE__ */ _.createElement(Rs, {
    className: "recharts-pie-labels"
  }, f);
}
function bz(e) {
  var {
    sectors: t,
    activeShape: r,
    inactiveShape: n,
    allOtherPieProps: s,
    showLabels: i
  } = e, o = Me(rd), {
    onMouseEnter: a,
    onClick: l,
    onMouseLeave: c
  } = s, d = ZN(s, Dwe), f = hwe(a, s.dataKey), h = pwe(c), p = mwe(l, s.dataKey);
  return t == null ? null : /* @__PURE__ */ _.createElement(_.Fragment, null, t.map((g, m) => {
    if ((g == null ? void 0 : g.startAngle) === 0 && (g == null ? void 0 : g.endAngle) === 0 && t.length !== 1) return null;
    var y = r && String(m) === o, v = o ? n : null, b = y ? r : v, x = or(or({}, g), {}, {
      stroke: g.stroke,
      tabIndex: -1,
      [v6]: m,
      [b6]: s.dataKey
    });
    return /* @__PURE__ */ _.createElement(Rs, Ho({
      tabIndex: -1,
      className: "recharts-pie-sector"
    }, aj(d, g, m), {
      // @ts-expect-error the types need a bit of attention
      onMouseEnter: f(g, m),
      onMouseLeave: h(g, m),
      onClick: p(g, m),
      key: "sector-".concat(g == null ? void 0 : g.startAngle, "-").concat(g == null ? void 0 : g.endAngle, "-").concat(g.midAngle, "-").concat(m)
    }), /* @__PURE__ */ _.createElement(fwe, Ho({
      option: b,
      isActive: y,
      shapeType: "sector"
    }, x)));
  }), /* @__PURE__ */ _.createElement(Ywe, {
    sectors: t,
    props: s,
    showLabels: i
  }));
}
function Gwe(e) {
  var t, {
    pieSettings: r,
    displayedData: n,
    cells: s,
    offset: i
  } = e, {
    cornerRadius: o,
    startAngle: a,
    endAngle: l,
    dataKey: c,
    nameKey: d,
    tooltipType: f
  } = r, h = Math.abs(r.minAngle), p = Wwe(a, l), g = Math.abs(p), m = n.length <= 1 ? 0 : (t = r.paddingAngle) !== null && t !== void 0 ? t : 0, y = n.filter((j) => Vt(j, c, 0) !== 0).length, v = (g >= 360 ? y : y - 1) * m, b = g - y * h - v, x = n.reduce((j, N) => {
    var k = Vt(N, c, 0);
    return j + (Oe(k) ? k : 0);
  }, 0), S;
  if (x > 0) {
    var w;
    S = n.map((j, N) => {
      var k = Vt(j, c, 0), C = Vt(j, d, N), $ = Vwe(r, i, j), I = (Oe(k) ? k : 0) / x, M, O = or(or({}, j), s && s[N] && s[N].props);
      N ? M = w.endAngle + gn(p) * m * (k !== 0 ? 1 : 0) : M = a;
      var z = M + gn(p) * ((k !== 0 ? h : 0) + I * b), U = (M + z) / 2, G = ($.innerRadius + $.outerRadius) / 2, q = [{
        // @ts-expect-error getValueByDataKey does not validate the output type
        name: C,
        // @ts-expect-error getValueByDataKey does not validate the output type
        value: k,
        payload: O,
        dataKey: c,
        type: f
      }], Z = xr($.cx, $.cy, G, U);
      return w = or(or(or(or({}, r.presentationProps), {}, {
        percent: I,
        cornerRadius: o,
        name: C,
        tooltipPayload: q,
        midAngle: U,
        middleRadius: G,
        tooltipPosition: Z
      }, O), $), {}, {
        value: Vt(j, c),
        startAngle: M,
        endAngle: z,
        payload: O,
        paddingAngle: gn(p) * m
      }), w;
    });
  }
  return S;
}
function Zwe(e) {
  var {
    props: t,
    previousSectorsRef: r
  } = e, {
    sectors: n,
    isAnimationActive: s,
    animationBegin: i,
    animationDuration: o,
    animationEasing: a,
    activeShape: l,
    inactiveShape: c,
    onAnimationStart: d,
    onAnimationEnd: f
  } = t, h = mz(t, "recharts-pie-"), p = r.current, [g, m] = L(!0), y = ze(() => {
    typeof f == "function" && f(), m(!1);
  }, [f]), v = ze(() => {
    typeof d == "function" && d(), m(!0);
  }, [d]);
  return /* @__PURE__ */ _.createElement(vz, {
    begin: i,
    duration: o,
    isActive: s,
    easing: a,
    onAnimationStart: v,
    onAnimationEnd: y,
    key: h
  }, (b) => {
    var x = [], S = n && n[0], w = S.startAngle;
    return n.forEach((j, N) => {
      var k = p && p[N], C = N > 0 ? Qa(j, "paddingAngle", 0) : 0;
      if (k) {
        var $ = FP(k.endAngle - k.startAngle, j.endAngle - j.startAngle), I = or(or({}, j), {}, {
          startAngle: w + C,
          endAngle: w + $(b) + C
        });
        x.push(I), w = I.endAngle;
      } else {
        var {
          endAngle: M,
          startAngle: O
        } = j, z = FP(0, M - O), U = z(b), G = or(or({}, j), {}, {
          startAngle: w + C,
          endAngle: w + U + C
        });
        x.push(G), w = G.endAngle;
      }
    }), r.current = x, /* @__PURE__ */ _.createElement(Rs, null, /* @__PURE__ */ _.createElement(bz, {
      sectors: x,
      activeShape: l,
      inactiveShape: c,
      allOtherPieProps: t,
      showLabels: !g
    }));
  });
}
function Xwe(e) {
  var {
    sectors: t,
    isAnimationActive: r,
    activeShape: n,
    inactiveShape: s
  } = e, i = We(null), o = i.current;
  return r && t && t.length && (!o || o !== t) ? /* @__PURE__ */ _.createElement(Zwe, {
    props: e,
    previousSectorsRef: i
  }) : /* @__PURE__ */ _.createElement(bz, {
    sectors: t,
    activeShape: n,
    inactiveShape: s,
    allOtherPieProps: e,
    showLabels: !0
  });
}
function Jwe(e) {
  var {
    hide: t,
    className: r,
    rootTabIndex: n
  } = e, s = at("recharts-pie", r);
  return t ? null : /* @__PURE__ */ _.createElement(Rs, {
    tabIndex: n,
    className: s
  }, /* @__PURE__ */ _.createElement(Xwe, e));
}
var Qwe = {
  animationBegin: 400,
  animationDuration: 1500,
  animationEasing: "ease",
  cx: "50%",
  cy: "50%",
  dataKey: "value",
  endAngle: 360,
  fill: "#808080",
  hide: !1,
  innerRadius: 0,
  isAnimationActive: !Ed.isSsr,
  labelLine: !0,
  legendType: "rect",
  minAngle: 0,
  nameKey: "name",
  outerRadius: "80%",
  paddingAngle: 0,
  rootTabIndex: 0,
  startAngle: 0,
  stroke: "#fff"
};
function e1e(e) {
  var {
    id: t
  } = e, r = ZN(e, $we), n = Ht(() => qv(e.children, wb), [e.children]), s = Me((i) => Jxe(i, t, n));
  return /* @__PURE__ */ _.createElement(_.Fragment, null, /* @__PURE__ */ _.createElement(hz, {
    fn: zwe,
    args: or(or({}, e), {}, {
      sectors: s
    })
  }), /* @__PURE__ */ _.createElement(Jwe, Ho({}, r, {
    sectors: s
  })));
}
function xz(e) {
  var t = zs(e, Qwe), {
    id: r
  } = t, n = ZN(t, Rwe), s = al(n);
  return /* @__PURE__ */ _.createElement(gz, {
    id: r,
    type: "pie"
  }, (i) => /* @__PURE__ */ _.createElement(_.Fragment, null, /* @__PURE__ */ _.createElement(Awe, {
    type: "pie",
    id: i,
    data: n.data,
    dataKey: n.dataKey,
    hide: n.hide,
    angleAxisId: 0,
    radiusAxisId: 0,
    name: n.name,
    nameKey: n.nameKey,
    tooltipType: n.tooltipType,
    legendType: n.legendType,
    fill: n.fill,
    cx: n.cx,
    cy: n.cy,
    startAngle: n.startAngle,
    endAngle: n.endAngle,
    paddingAngle: n.paddingAngle,
    minAngle: n.minAngle,
    innerRadius: n.innerRadius,
    outerRadius: n.outerRadius,
    cornerRadius: n.cornerRadius,
    presentationProps: s
  }), /* @__PURE__ */ _.createElement(Bwe, Ho({}, n, {
    id: i
  })), /* @__PURE__ */ _.createElement(e1e, Ho({}, n, {
    id: i
  })), n.children));
}
xz.displayName = "Pie";
var t1e = Q([Yr], (e) => {
  if (e)
    return {
      top: e.top,
      bottom: e.bottom,
      left: e.left,
      right: e.right
    };
}), r1e = Q([t1e, ta, ra], (e, t, r) => {
  if (!(!e || t == null || r == null))
    return {
      x: e.left,
      y: e.top,
      width: Math.max(0, t - e.left - e.right),
      height: Math.max(0, r - e.top - e.bottom)
    };
}), XN = () => Me(r1e), n1e = () => Me(t0e);
function vD(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    t && (n = n.filter(function(s) {
      return Object.getOwnPropertyDescriptor(e, s).enumerable;
    })), r.push.apply(r, n);
  }
  return r;
}
function bD(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2 ? vD(Object(r), !0).forEach(function(n) {
      s1e(e, n, r[n]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : vD(Object(r)).forEach(function(n) {
      Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
    });
  }
  return e;
}
function s1e(e, t, r) {
  return (t = i1e(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e;
}
function i1e(e) {
  var t = o1e(e, "string");
  return typeof t == "symbol" ? t : t + "";
}
function o1e(e, t) {
  if (typeof e != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (typeof n != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
var a1e = (e) => {
  var {
    point: t,
    childIndex: r,
    mainColor: n,
    activeDot: s,
    dataKey: i
  } = e;
  if (s === !1 || t.x == null || t.y == null)
    return null;
  var o = bD(bD({
    index: r,
    dataKey: i,
    cx: t.x,
    cy: t.y,
    r: 4,
    fill: n ?? "none",
    strokeWidth: 2,
    stroke: "#fff",
    payload: t.payload,
    value: t.value
  }, tr(s, !1)), oj(s)), a;
  return /* @__PURE__ */ Pn(s) ? a = /* @__PURE__ */ vi(s, o) : typeof s == "function" ? a = s(o) : a = /* @__PURE__ */ _.createElement(az, o), /* @__PURE__ */ _.createElement(Rs, {
    className: "recharts-active-dot"
  }, a);
};
function l1e(e) {
  var {
    points: t,
    mainColor: r,
    activeDot: n,
    itemDataKey: s
  } = e, i = Me(rd), o = n1e();
  if (t == null || o == null)
    return null;
  var a = t.find((l) => o.includes(l.payload));
  return wr(a) ? null : a1e({
    point: a,
    childIndex: Number(i),
    mainColor: r,
    dataKey: s,
    activeDot: n
  });
}
var c1e = {}, wz = us({
  name: "errorBars",
  initialState: c1e,
  reducers: {
    addErrorBar: (e, t) => {
      var {
        itemId: r,
        errorBar: n
      } = t.payload;
      e[r] || (e[r] = []), e[r].push(n);
    },
    removeErrorBar: (e, t) => {
      var {
        itemId: r,
        errorBar: n
      } = t.payload;
      e[r] && (e[r] = e[r].filter((s) => s.dataKey !== n.dataKey || s.direction !== n.direction));
    }
  }
}), {
  addErrorBar: J$e,
  removeErrorBar: Q$e
} = wz.actions, u1e = wz.reducer, d1e = ["children"];
function f1e(e, t) {
  if (e == null) return {};
  var r, n, s = h1e(e, t);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    for (n = 0; n < i.length; n++) r = i[n], t.indexOf(r) === -1 && {}.propertyIsEnumerable.call(e, r) && (s[r] = e[r]);
  }
  return s;
}
function h1e(e, t) {
  if (e == null) return {};
  var r = {};
  for (var n in e) if ({}.hasOwnProperty.call(e, n)) {
    if (t.indexOf(n) !== -1) continue;
    r[n] = e[n];
  }
  return r;
}
var p1e = {
  data: [],
  xAxisId: "xAxis-0",
  yAxisId: "yAxis-0",
  dataPointFormatter: () => ({
    x: 0,
    y: 0,
    value: 0
  }),
  errorBarOffset: 0
}, m1e = /* @__PURE__ */ dr(p1e);
function g1e(e) {
  var {
    children: t
  } = e, r = f1e(e, d1e);
  return /* @__PURE__ */ _.createElement(m1e.Provider, {
    value: r
  }, t);
}
function _z(e, t) {
  var r, n, s = Me((c) => sa(c, e)), i = Me((c) => fl(c, t)), o = (r = s == null ? void 0 : s.allowDataOverflow) !== null && r !== void 0 ? r : Jn.allowDataOverflow, a = (n = i == null ? void 0 : i.allowDataOverflow) !== null && n !== void 0 ? n : Qn.allowDataOverflow, l = o || a;
  return {
    needClip: l,
    needClipX: o,
    needClipY: a
  };
}
function y1e(e) {
  var {
    xAxisId: t,
    yAxisId: r,
    clipPathId: n
  } = e, s = XN(), {
    needClipX: i,
    needClipY: o,
    needClip: a
  } = _z(t, r);
  if (!a)
    return null;
  var {
    x: l,
    y: c,
    width: d,
    height: f
  } = s;
  return /* @__PURE__ */ _.createElement("clipPath", {
    id: "clipPath-".concat(n)
  }, /* @__PURE__ */ _.createElement("rect", {
    x: i ? l : l - d / 2,
    y: o ? c : c - f / 2,
    width: i ? d : d * 2,
    height: o ? f : f * 2
  }));
}
var Sz = (e) => {
  var {
    chartData: t
  } = e, r = nr(), n = Bs();
  return ve(() => n ? () => {
  } : (r(U2(t)), () => {
    r(U2(void 0));
  }), [t, r, n]), null;
}, xD = {
  x: 0,
  y: 0,
  width: 0,
  height: 0,
  padding: {
    top: 0,
    right: 0,
    bottom: 0,
    left: 0
  }
}, Ez = us({
  name: "brush",
  initialState: xD,
  reducers: {
    setBrushSettings(e, t) {
      return t.payload == null ? xD : t.payload;
    }
  }
}), {
  setBrushSettings: eRe
} = Ez.actions, v1e = Ez.reducer;
function b1e(e, t, r) {
  return (t = x1e(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e;
}
function x1e(e) {
  var t = w1e(e, "string");
  return typeof t == "symbol" ? t : t + "";
}
function w1e(e, t) {
  if (typeof e != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (typeof n != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
class JN {
  static create(t) {
    return new JN(t);
  }
  constructor(t) {
    this.scale = t;
  }
  get domain() {
    return this.scale.domain;
  }
  get range() {
    return this.scale.range;
  }
  get rangeMin() {
    return this.range()[0];
  }
  get rangeMax() {
    return this.range()[1];
  }
  get bandwidth() {
    return this.scale.bandwidth;
  }
  apply(t) {
    var {
      bandAware: r,
      position: n
    } = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    if (t !== void 0) {
      if (n)
        switch (n) {
          case "start":
            return this.scale(t);
          case "middle": {
            var s = this.bandwidth ? this.bandwidth() / 2 : 0;
            return this.scale(t) + s;
          }
          case "end": {
            var i = this.bandwidth ? this.bandwidth() : 0;
            return this.scale(t) + i;
          }
          default:
            return this.scale(t);
        }
      if (r) {
        var o = this.bandwidth ? this.bandwidth() / 2 : 0;
        return this.scale(t) + o;
      }
      return this.scale(t);
    }
  }
  isInRange(t) {
    var r = this.range(), n = r[0], s = r[r.length - 1];
    return n <= s ? t >= n && t <= s : t >= s && t <= n;
  }
}
b1e(JN, "EPS", 1e-4);
function _1e(e) {
  return (e % 180 + 180) % 180;
}
var S1e = function(t) {
  var {
    width: r,
    height: n
  } = t, s = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0, i = _1e(s), o = i * Math.PI / 180, a = Math.atan(n / r), l = o > a && o < Math.PI - a ? n / Math.sin(o) : r / Math.cos(o);
  return Math.abs(l);
}, E1e = {
  dots: [],
  areas: [],
  lines: []
}, jz = us({
  name: "referenceElements",
  initialState: E1e,
  reducers: {
    addDot: (e, t) => {
      e.dots.push(t.payload);
    },
    removeDot: (e, t) => {
      var r = Do(e).dots.findIndex((n) => n === t.payload);
      r !== -1 && e.dots.splice(r, 1);
    },
    addArea: (e, t) => {
      e.areas.push(t.payload);
    },
    removeArea: (e, t) => {
      var r = Do(e).areas.findIndex((n) => n === t.payload);
      r !== -1 && e.areas.splice(r, 1);
    },
    addLine: (e, t) => {
      e.lines.push(t.payload);
    },
    removeLine: (e, t) => {
      var r = Do(e).lines.findIndex((n) => n === t.payload);
      r !== -1 && e.lines.splice(r, 1);
    }
  }
}), {
  addDot: tRe,
  removeDot: rRe,
  addArea: nRe,
  removeArea: sRe,
  addLine: iRe,
  removeLine: oRe
} = jz.actions, j1e = jz.reducer, N1e = /* @__PURE__ */ dr(void 0), k1e = (e) => {
  var {
    children: t
  } = e, [r] = L("".concat(_h("recharts"), "-clip")), n = XN();
  if (n == null)
    return null;
  var {
    x: s,
    y: i,
    width: o,
    height: a
  } = n;
  return /* @__PURE__ */ _.createElement(N1e.Provider, {
    value: r
  }, /* @__PURE__ */ _.createElement("defs", null, /* @__PURE__ */ _.createElement("clipPath", {
    id: r
  }, /* @__PURE__ */ _.createElement("rect", {
    x: s,
    y: i,
    height: a,
    width: o
  }))), t);
};
function Mx(e, t) {
  for (var r in e)
    if ({}.hasOwnProperty.call(e, r) && (!{}.hasOwnProperty.call(t, r) || e[r] !== t[r]))
      return !1;
  for (var n in t)
    if ({}.hasOwnProperty.call(t, n) && !{}.hasOwnProperty.call(e, n))
      return !1;
  return !0;
}
function Nz(e, t, r) {
  if (t < 1)
    return [];
  if (t === 1 && r === void 0)
    return e;
  for (var n = [], s = 0; s < e.length; s += t)
    n.push(e[s]);
  return n;
}
function C1e(e, t, r) {
  var n = {
    width: e.width + t.width,
    height: e.height + t.height
  };
  return S1e(n, r);
}
function T1e(e, t, r) {
  var n = r === "width", {
    x: s,
    y: i,
    width: o,
    height: a
  } = e;
  return t === 1 ? {
    start: n ? s : i,
    end: n ? s + o : i + a
  } : {
    start: n ? s + o : i + a,
    end: n ? s : i
  };
}
function Ay(e, t, r, n, s) {
  if (e * t < e * n || e * t > e * s)
    return !1;
  var i = r();
  return e * (t - e * i / 2 - n) >= 0 && e * (t + e * i / 2 - s) <= 0;
}
function A1e(e, t) {
  return Nz(e, t + 1);
}
function P1e(e, t, r, n, s) {
  for (var i = (n || []).slice(), {
    start: o,
    end: a
  } = t, l = 0, c = 1, d = o, f = function() {
    var g = n == null ? void 0 : n[l];
    if (g === void 0)
      return {
        v: Nz(n, c)
      };
    var m = l, y, v = () => (y === void 0 && (y = r(g, m)), y), b = g.coordinate, x = l === 0 || Ay(e, b, v, d, a);
    x || (l = 0, d = o, c += 1), x && (d = b + e * (v() / 2 + s), l += c);
  }, h; c <= i.length; )
    if (h = f(), h) return h.v;
  return [];
}
function wD(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    t && (n = n.filter(function(s) {
      return Object.getOwnPropertyDescriptor(e, s).enumerable;
    })), r.push.apply(r, n);
  }
  return r;
}
function un(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2 ? wD(Object(r), !0).forEach(function(n) {
      O1e(e, n, r[n]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : wD(Object(r)).forEach(function(n) {
      Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
    });
  }
  return e;
}
function O1e(e, t, r) {
  return (t = D1e(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e;
}
function D1e(e) {
  var t = $1e(e, "string");
  return typeof t == "symbol" ? t : t + "";
}
function $1e(e, t) {
  if (typeof e != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (typeof n != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
function R1e(e, t, r, n, s) {
  for (var i = (n || []).slice(), o = i.length, {
    start: a
  } = t, {
    end: l
  } = t, c = function(h) {
    var p = i[h], g, m = () => (g === void 0 && (g = r(p, h)), g);
    if (h === o - 1) {
      var y = e * (p.coordinate + e * m() / 2 - l);
      i[h] = p = un(un({}, p), {}, {
        tickCoord: y > 0 ? p.coordinate - y * e : p.coordinate
      });
    } else
      i[h] = p = un(un({}, p), {}, {
        tickCoord: p.coordinate
      });
    var v = Ay(e, p.tickCoord, m, a, l);
    v && (l = p.tickCoord - e * (m() / 2 + s), i[h] = un(un({}, p), {}, {
      isShow: !0
    }));
  }, d = o - 1; d >= 0; d--)
    c(d);
  return i;
}
function I1e(e, t, r, n, s, i) {
  var o = (n || []).slice(), a = o.length, {
    start: l,
    end: c
  } = t;
  if (i) {
    var d = n[a - 1], f = r(d, a - 1), h = e * (d.coordinate + e * f / 2 - c);
    o[a - 1] = d = un(un({}, d), {}, {
      tickCoord: h > 0 ? d.coordinate - h * e : d.coordinate
    });
    var p = Ay(e, d.tickCoord, () => f, l, c);
    p && (c = d.tickCoord - e * (f / 2 + s), o[a - 1] = un(un({}, d), {}, {
      isShow: !0
    }));
  }
  for (var g = i ? a - 1 : a, m = function(b) {
    var x = o[b], S, w = () => (S === void 0 && (S = r(x, b)), S);
    if (b === 0) {
      var j = e * (x.coordinate - e * w() / 2 - l);
      o[b] = x = un(un({}, x), {}, {
        tickCoord: j < 0 ? x.coordinate - j * e : x.coordinate
      });
    } else
      o[b] = x = un(un({}, x), {}, {
        tickCoord: x.coordinate
      });
    var N = Ay(e, x.tickCoord, w, l, c);
    N && (l = x.tickCoord + e * (w() / 2 + s), o[b] = un(un({}, x), {}, {
      isShow: !0
    }));
  }, y = 0; y < g; y++)
    m(y);
  return o;
}
function QN(e, t, r) {
  var {
    tick: n,
    ticks: s,
    viewBox: i,
    minTickGap: o,
    orientation: a,
    interval: l,
    tickFormatter: c,
    unit: d,
    angle: f
  } = e;
  if (!s || !s.length || !n)
    return [];
  if (Oe(l) || Ed.isSsr) {
    var h;
    return (h = A1e(s, Oe(l) ? l : 0)) !== null && h !== void 0 ? h : [];
  }
  var p = [], g = a === "top" || a === "bottom" ? "width" : "height", m = d && g === "width" ? Zf(d, {
    fontSize: t,
    letterSpacing: r
  }) : {
    width: 0,
    height: 0
  }, y = (x, S) => {
    var w = typeof c == "function" ? c(x.value, S) : x.value;
    return g === "width" ? C1e(Zf(w, {
      fontSize: t,
      letterSpacing: r
    }), m, f) : Zf(w, {
      fontSize: t,
      letterSpacing: r
    })[g];
  }, v = s.length >= 2 ? gn(s[1].coordinate - s[0].coordinate) : 1, b = T1e(i, v, g);
  return l === "equidistantPreserveStart" ? P1e(v, b, y, s, o) : (l === "preserveStart" || l === "preserveStartEnd" ? p = I1e(v, b, y, s, o, l === "preserveStartEnd") : p = R1e(v, b, y, s, o), p.filter((x) => x.isShow));
}
var M1e = ["viewBox"], L1e = ["viewBox"];
function mu() {
  return mu = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var r = arguments[t];
      for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]);
    }
    return e;
  }, mu.apply(null, arguments);
}
function _D(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    t && (n = n.filter(function(s) {
      return Object.getOwnPropertyDescriptor(e, s).enumerable;
    })), r.push.apply(r, n);
  }
  return r;
}
function Tr(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2 ? _D(Object(r), !0).forEach(function(n) {
      ek(e, n, r[n]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : _D(Object(r)).forEach(function(n) {
      Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
    });
  }
  return e;
}
function SD(e, t) {
  if (e == null) return {};
  var r, n, s = F1e(e, t);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    for (n = 0; n < i.length; n++) r = i[n], t.indexOf(r) === -1 && {}.propertyIsEnumerable.call(e, r) && (s[r] = e[r]);
  }
  return s;
}
function F1e(e, t) {
  if (e == null) return {};
  var r = {};
  for (var n in e) if ({}.hasOwnProperty.call(e, n)) {
    if (t.indexOf(n) !== -1) continue;
    r[n] = e[n];
  }
  return r;
}
function ek(e, t, r) {
  return (t = B1e(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e;
}
function B1e(e) {
  var t = z1e(e, "string");
  return typeof t == "symbol" ? t : t + "";
}
function z1e(e, t) {
  if (typeof e != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (typeof n != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
class hl extends Gh {
  constructor(t) {
    super(t), this.tickRefs = /* @__PURE__ */ _.createRef(), this.tickRefs.current = [], this.state = {
      fontSize: "",
      letterSpacing: ""
    };
  }
  shouldComponentUpdate(t, r) {
    var {
      viewBox: n
    } = t, s = SD(t, M1e), i = this.props, {
      viewBox: o
    } = i, a = SD(i, L1e);
    return !Mx(n, o) || !Mx(s, a) || !Mx(r, this.state);
  }
  /**
   * Calculate the coordinates of endpoints in ticks
   * @param  data The data of a simple tick
   * @return (x1, y1): The coordinate of endpoint close to tick text
   *  (x2, y2): The coordinate of endpoint close to axis
   */
  getTickLineCoord(t) {
    var {
      x: r,
      y: n,
      width: s,
      height: i,
      orientation: o,
      tickSize: a,
      mirror: l,
      tickMargin: c
    } = this.props, d, f, h, p, g, m, y = l ? -1 : 1, v = t.tickSize || a, b = Oe(t.tickCoord) ? t.tickCoord : t.coordinate;
    switch (o) {
      case "top":
        d = f = t.coordinate, p = n + +!l * i, h = p - y * v, m = h - y * c, g = b;
        break;
      case "left":
        h = p = t.coordinate, f = r + +!l * s, d = f - y * v, g = d - y * c, m = b;
        break;
      case "right":
        h = p = t.coordinate, f = r + +l * s, d = f + y * v, g = d + y * c, m = b;
        break;
      default:
        d = f = t.coordinate, p = n + +l * i, h = p + y * v, m = h + y * c, g = b;
        break;
    }
    return {
      line: {
        x1: d,
        y1: h,
        x2: f,
        y2: p
      },
      tick: {
        x: g,
        y: m
      }
    };
  }
  getTickTextAnchor() {
    var {
      orientation: t,
      mirror: r
    } = this.props, n;
    switch (t) {
      case "left":
        n = r ? "start" : "end";
        break;
      case "right":
        n = r ? "end" : "start";
        break;
      default:
        n = "middle";
        break;
    }
    return n;
  }
  getTickVerticalAnchor() {
    var {
      orientation: t,
      mirror: r
    } = this.props;
    switch (t) {
      case "left":
      case "right":
        return "middle";
      case "top":
        return r ? "start" : "end";
      default:
        return r ? "end" : "start";
    }
  }
  renderAxisLine() {
    var {
      x: t,
      y: r,
      width: n,
      height: s,
      orientation: i,
      mirror: o,
      axisLine: a
    } = this.props, l = Tr(Tr(Tr({}, tr(this.props, !1)), tr(a, !1)), {}, {
      fill: "none"
    });
    if (i === "top" || i === "bottom") {
      var c = +(i === "top" && !o || i === "bottom" && o);
      l = Tr(Tr({}, l), {}, {
        x1: t,
        y1: r + c * s,
        x2: t + n,
        y2: r + c * s
      });
    } else {
      var d = +(i === "left" && !o || i === "right" && o);
      l = Tr(Tr({}, l), {}, {
        x1: t + d * n,
        y1: r,
        x2: t + d * n,
        y2: r + s
      });
    }
    return /* @__PURE__ */ _.createElement("line", mu({}, l, {
      className: at("recharts-cartesian-axis-line", Qa(a, "className"))
    }));
  }
  static renderTickItem(t, r, n) {
    var s, i = at(r.className, "recharts-cartesian-axis-tick-value");
    if (/* @__PURE__ */ _.isValidElement(t))
      s = /* @__PURE__ */ _.cloneElement(t, Tr(Tr({}, r), {}, {
        className: i
      }));
    else if (typeof t == "function")
      s = t(Tr(Tr({}, r), {}, {
        className: i
      }));
    else {
      var o = "recharts-cartesian-axis-tick-value";
      typeof t != "boolean" && (o = at(o, t.className)), s = /* @__PURE__ */ _.createElement(_b, mu({}, r, {
        className: o
      }), n);
    }
    return s;
  }
  /**
   * render the ticks
   * @param {string} fontSize Fontsize to consider for tick spacing
   * @param {string} letterSpacing Letter spacing to consider for tick spacing
   * @param {Array} ticks The ticks to actually render (overrides what was passed in props)
   * @return {ReactElement | null} renderedTicks
   */
  renderTicks(t, r) {
    var n = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : [], {
      tickLine: s,
      stroke: i,
      tick: o,
      tickFormatter: a,
      unit: l,
      padding: c
    } = this.props, d = QN(Tr(Tr({}, this.props), {}, {
      ticks: n
    }), t, r), f = this.getTickTextAnchor(), h = this.getTickVerticalAnchor(), p = al(this.props), g = tr(o, !1), m = Tr(Tr({}, p), {}, {
      fill: "none"
    }, tr(s, !1)), y = d.map((v, b) => {
      var {
        line: x,
        tick: S
      } = this.getTickLineCoord(v), w = Tr(Tr(Tr(Tr({
        textAnchor: f,
        verticalAnchor: h
      }, p), {}, {
        stroke: "none",
        fill: i
      }, g), S), {}, {
        index: b,
        payload: v,
        visibleTicksCount: d.length,
        tickFormatter: a,
        padding: c
      });
      return /* @__PURE__ */ _.createElement(Rs, mu({
        className: "recharts-cartesian-axis-tick",
        key: "tick-".concat(v.value, "-").concat(v.coordinate, "-").concat(v.tickCoord)
      }, aj(this.props, v, b)), s && // @ts-expect-error recharts scale is not compatible with SVG scale
      /* @__PURE__ */ _.createElement("line", mu({}, m, x, {
        className: at("recharts-cartesian-axis-tick-line", Qa(s, "className"))
      })), o && hl.renderTickItem(o, w, "".concat(typeof a == "function" ? a(v.value, b) : v.value).concat(l || "")));
    });
    return y.length > 0 ? /* @__PURE__ */ _.createElement("g", {
      className: "recharts-cartesian-axis-ticks"
    }, y) : null;
  }
  render() {
    var {
      axisLine: t,
      width: r,
      height: n,
      className: s,
      hide: i
    } = this.props;
    if (i)
      return null;
    var {
      ticks: o
    } = this.props;
    return r != null && r <= 0 || n != null && n <= 0 ? null : /* @__PURE__ */ _.createElement(Rs, {
      className: at("recharts-cartesian-axis", s),
      ref: (a) => {
        if (a) {
          var l = a.getElementsByClassName("recharts-cartesian-axis-tick-value");
          this.tickRefs.current = Array.from(l);
          var c = l[0];
          if (c) {
            var d = window.getComputedStyle(c).fontSize, f = window.getComputedStyle(c).letterSpacing;
            (d !== this.state.fontSize || f !== this.state.letterSpacing) && this.setState({
              fontSize: window.getComputedStyle(c).fontSize,
              letterSpacing: window.getComputedStyle(c).letterSpacing
            });
          }
        }
      }
    }, t && this.renderAxisLine(), this.renderTicks(this.state.fontSize, this.state.letterSpacing, o), ns.renderCallByParent(this.props));
  }
}
ek(hl, "displayName", "CartesianAxis");
ek(hl, "defaultProps", {
  x: 0,
  y: 0,
  width: 0,
  height: 0,
  viewBox: {
    x: 0,
    y: 0,
    width: 0,
    height: 0
  },
  // The orientation of axis
  orientation: "bottom",
  // The ticks
  ticks: [],
  stroke: "#666",
  tickLine: !0,
  axisLine: !0,
  tick: !0,
  mirror: !1,
  minTickGap: 5,
  // The width or height of tick
  tickSize: 6,
  tickMargin: 2,
  interval: "preserveEnd"
});
var U1e = ["x1", "y1", "x2", "y2", "key"], q1e = ["offset"], V1e = ["xAxisId", "yAxisId"], W1e = ["xAxisId", "yAxisId"];
function ED(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    t && (n = n.filter(function(s) {
      return Object.getOwnPropertyDescriptor(e, s).enumerable;
    })), r.push.apply(r, n);
  }
  return r;
}
function fn(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2 ? ED(Object(r), !0).forEach(function(n) {
      K1e(e, n, r[n]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : ED(Object(r)).forEach(function(n) {
      Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
    });
  }
  return e;
}
function K1e(e, t, r) {
  return (t = H1e(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e;
}
function H1e(e) {
  var t = Y1e(e, "string");
  return typeof t == "symbol" ? t : t + "";
}
function Y1e(e, t) {
  if (typeof e != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (typeof n != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
function zl() {
  return zl = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var r = arguments[t];
      for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]);
    }
    return e;
  }, zl.apply(null, arguments);
}
function Py(e, t) {
  if (e == null) return {};
  var r, n, s = G1e(e, t);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    for (n = 0; n < i.length; n++) r = i[n], t.indexOf(r) === -1 && {}.propertyIsEnumerable.call(e, r) && (s[r] = e[r]);
  }
  return s;
}
function G1e(e, t) {
  if (e == null) return {};
  var r = {};
  for (var n in e) if ({}.hasOwnProperty.call(e, n)) {
    if (t.indexOf(n) !== -1) continue;
    r[n] = e[n];
  }
  return r;
}
var Z1e = (e) => {
  var {
    fill: t
  } = e;
  if (!t || t === "none")
    return null;
  var {
    fillOpacity: r,
    x: n,
    y: s,
    width: i,
    height: o,
    ry: a
  } = e;
  return /* @__PURE__ */ _.createElement("rect", {
    x: n,
    y: s,
    ry: a,
    width: i,
    height: o,
    stroke: "none",
    fill: t,
    fillOpacity: r,
    className: "recharts-cartesian-grid-bg"
  });
};
function kz(e, t) {
  var r;
  if (/* @__PURE__ */ _.isValidElement(e))
    r = /* @__PURE__ */ _.cloneElement(e, t);
  else if (typeof e == "function")
    r = e(t);
  else {
    var {
      x1: n,
      y1: s,
      x2: i,
      y2: o,
      key: a
    } = t, l = Py(t, U1e), c = al(l), {
      offset: d
    } = c, f = Py(c, q1e);
    r = /* @__PURE__ */ _.createElement("line", zl({}, f, {
      x1: n,
      y1: s,
      x2: i,
      y2: o,
      fill: "none",
      key: a
    }));
  }
  return r;
}
function X1e(e) {
  var {
    x: t,
    width: r,
    horizontal: n = !0,
    horizontalPoints: s
  } = e;
  if (!n || !s || !s.length)
    return null;
  var {
    xAxisId: i,
    yAxisId: o
  } = e, a = Py(e, V1e), l = s.map((c, d) => {
    var f = fn(fn({}, a), {}, {
      x1: t,
      y1: c,
      x2: t + r,
      y2: c,
      key: "line-".concat(d),
      index: d
    });
    return kz(n, f);
  });
  return /* @__PURE__ */ _.createElement("g", {
    className: "recharts-cartesian-grid-horizontal"
  }, l);
}
function J1e(e) {
  var {
    y: t,
    height: r,
    vertical: n = !0,
    verticalPoints: s
  } = e;
  if (!n || !s || !s.length)
    return null;
  var {
    xAxisId: i,
    yAxisId: o
  } = e, a = Py(e, W1e), l = s.map((c, d) => {
    var f = fn(fn({}, a), {}, {
      x1: c,
      y1: t,
      x2: c,
      y2: t + r,
      key: "line-".concat(d),
      index: d
    });
    return kz(n, f);
  });
  return /* @__PURE__ */ _.createElement("g", {
    className: "recharts-cartesian-grid-vertical"
  }, l);
}
function Q1e(e) {
  var {
    horizontalFill: t,
    fillOpacity: r,
    x: n,
    y: s,
    width: i,
    height: o,
    horizontalPoints: a,
    horizontal: l = !0
  } = e;
  if (!l || !t || !t.length)
    return null;
  var c = a.map((f) => Math.round(f + s - s)).sort((f, h) => f - h);
  s !== c[0] && c.unshift(0);
  var d = c.map((f, h) => {
    var p = !c[h + 1], g = p ? s + o - f : c[h + 1] - f;
    if (g <= 0)
      return null;
    var m = h % t.length;
    return /* @__PURE__ */ _.createElement("rect", {
      key: "react-".concat(h),
      y: f,
      x: n,
      height: g,
      width: i,
      stroke: "none",
      fill: t[m],
      fillOpacity: r,
      className: "recharts-cartesian-grid-bg"
    });
  });
  return /* @__PURE__ */ _.createElement("g", {
    className: "recharts-cartesian-gridstripes-horizontal"
  }, d);
}
function e_e(e) {
  var {
    vertical: t = !0,
    verticalFill: r,
    fillOpacity: n,
    x: s,
    y: i,
    width: o,
    height: a,
    verticalPoints: l
  } = e;
  if (!t || !r || !r.length)
    return null;
  var c = l.map((f) => Math.round(f + s - s)).sort((f, h) => f - h);
  s !== c[0] && c.unshift(0);
  var d = c.map((f, h) => {
    var p = !c[h + 1], g = p ? s + o - f : c[h + 1] - f;
    if (g <= 0)
      return null;
    var m = h % r.length;
    return /* @__PURE__ */ _.createElement("rect", {
      key: "react-".concat(h),
      x: f,
      y: i,
      width: g,
      height: a,
      stroke: "none",
      fill: r[m],
      fillOpacity: n,
      className: "recharts-cartesian-grid-bg"
    });
  });
  return /* @__PURE__ */ _.createElement("g", {
    className: "recharts-cartesian-gridstripes-vertical"
  }, d);
}
var t_e = (e, t) => {
  var {
    xAxis: r,
    width: n,
    height: s,
    offset: i
  } = e;
  return m6(QN(fn(fn(fn({}, hl.defaultProps), r), {}, {
    ticks: g6(r),
    viewBox: {
      x: 0,
      y: 0,
      width: n,
      height: s
    }
  })), i.left, i.left + i.width, t);
}, r_e = (e, t) => {
  var {
    yAxis: r,
    width: n,
    height: s,
    offset: i
  } = e;
  return m6(QN(fn(fn(fn({}, hl.defaultProps), r), {}, {
    ticks: g6(r),
    viewBox: {
      x: 0,
      y: 0,
      width: n,
      height: s
    }
  })), i.top, i.top + i.height, t);
}, n_e = {
  horizontal: !0,
  vertical: !0,
  // The ordinates of horizontal grid lines
  horizontalPoints: [],
  // The abscissas of vertical grid lines
  verticalPoints: [],
  stroke: "#ccc",
  fill: "none",
  // The fill of colors of grid lines
  verticalFill: [],
  horizontalFill: [],
  xAxisId: 0,
  yAxisId: 0
};
function Cz(e) {
  var t = Dj(), r = $j(), n = w6(), s = fn(fn({}, zs(e, n_e)), {}, {
    x: Oe(e.x) ? e.x : n.left,
    y: Oe(e.y) ? e.y : n.top,
    width: Oe(e.width) ? e.width : n.width,
    height: Oe(e.height) ? e.height : n.height
  }), {
    xAxisId: i,
    yAxisId: o,
    x: a,
    y: l,
    width: c,
    height: d,
    syncWithTicks: f,
    horizontalValues: h,
    verticalValues: p
  } = s, g = Bs(), m = Me((C) => $2(C, "xAxis", i, g)), y = Me((C) => $2(C, "yAxis", o, g));
  if (!Oe(c) || c <= 0 || !Oe(d) || d <= 0 || !Oe(a) || a !== +a || !Oe(l) || l !== +l)
    return null;
  var v = s.verticalCoordinatesGenerator || t_e, b = s.horizontalCoordinatesGenerator || r_e, {
    horizontalPoints: x,
    verticalPoints: S
  } = s;
  if ((!x || !x.length) && typeof b == "function") {
    var w = h && h.length, j = b({
      yAxis: y ? fn(fn({}, y), {}, {
        ticks: w ? h : y.ticks
      }) : void 0,
      width: t,
      height: r,
      offset: n
    }, w ? !0 : f);
    Gf(Array.isArray(j), "horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof j, "]")), Array.isArray(j) && (x = j);
  }
  if ((!S || !S.length) && typeof v == "function") {
    var N = p && p.length, k = v({
      xAxis: m ? fn(fn({}, m), {}, {
        ticks: N ? p : m.ticks
      }) : void 0,
      width: t,
      height: r,
      offset: n
    }, N ? !0 : f);
    Gf(Array.isArray(k), "verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k, "]")), Array.isArray(k) && (S = k);
  }
  return /* @__PURE__ */ _.createElement("g", {
    className: "recharts-cartesian-grid"
  }, /* @__PURE__ */ _.createElement(Z1e, {
    fill: s.fill,
    fillOpacity: s.fillOpacity,
    x: s.x,
    y: s.y,
    width: s.width,
    height: s.height,
    ry: s.ry
  }), /* @__PURE__ */ _.createElement(Q1e, zl({}, s, {
    horizontalPoints: x
  })), /* @__PURE__ */ _.createElement(e_e, zl({}, s, {
    verticalPoints: S
  })), /* @__PURE__ */ _.createElement(X1e, zl({}, s, {
    offset: n,
    horizontalPoints: x,
    xAxis: m,
    yAxis: y
  })), /* @__PURE__ */ _.createElement(J1e, zl({}, s, {
    offset: n,
    verticalPoints: S,
    xAxis: m,
    yAxis: y
  })));
}
Cz.displayName = "CartesianGrid";
var Tz = (e, t, r, n) => v8(e, "xAxis", t, n), Az = (e, t, r, n) => y8(e, "xAxis", t, n), Pz = (e, t, r, n) => v8(e, "yAxis", r, n), Oz = (e, t, r, n) => y8(e, "yAxis", r, n), s_e = Q([Nt, Tz, Pz, Az, Oz], (e, t, r, n, s) => ll(e, "xAxis") ? K1(t, n, !1) : K1(r, s, !1)), i_e = (e, t, r, n, s) => s;
function o_e(e) {
  return e.type === "line";
}
var a_e = Q([HB, i_e], (e, t) => e.filter(o_e).find((r) => r.id === t)), l_e = Q([Nt, Tz, Pz, Az, Oz, a_e, s_e, cN], (e, t, r, n, s, i, o, a) => {
  var {
    chartData: l,
    dataStartIndex: c,
    dataEndIndex: d
  } = a;
  if (!(i == null || t == null || r == null || n == null || s == null || n.length === 0 || s.length === 0 || o == null)) {
    var {
      dataKey: f,
      data: h
    } = i, p;
    if (h != null && h.length > 0 ? p = h : p = l == null ? void 0 : l.slice(c, d + 1), p != null)
      return T_e({
        layout: e,
        xAxis: t,
        yAxis: r,
        xAxisTicks: n,
        yAxisTicks: s,
        dataKey: f,
        bandSize: o,
        displayedData: p
      });
  }
}), c_e = ["id"], u_e = ["type", "layout", "connectNulls", "needClip"], d_e = ["activeDot", "animateNewValues", "animationBegin", "animationDuration", "animationEasing", "connectNulls", "dot", "hide", "isAnimationActive", "label", "legendType", "xAxisId", "yAxisId", "id"];
function jD(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    t && (n = n.filter(function(s) {
      return Object.getOwnPropertyDescriptor(e, s).enumerable;
    })), r.push.apply(r, n);
  }
  return r;
}
function ni(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2 ? jD(Object(r), !0).forEach(function(n) {
      f_e(e, n, r[n]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : jD(Object(r)).forEach(function(n) {
      Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
    });
  }
  return e;
}
function f_e(e, t, r) {
  return (t = h_e(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e;
}
function h_e(e) {
  var t = p_e(e, "string");
  return typeof t == "symbol" ? t : t + "";
}
function p_e(e, t) {
  if (typeof e != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (typeof n != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
function tk(e, t) {
  if (e == null) return {};
  var r, n, s = m_e(e, t);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    for (n = 0; n < i.length; n++) r = i[n], t.indexOf(r) === -1 && {}.propertyIsEnumerable.call(e, r) && (s[r] = e[r]);
  }
  return s;
}
function m_e(e, t) {
  if (e == null) return {};
  var r = {};
  for (var n in e) if ({}.hasOwnProperty.call(e, n)) {
    if (t.indexOf(n) !== -1) continue;
    r[n] = e[n];
  }
  return r;
}
function dc() {
  return dc = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var r = arguments[t];
      for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]);
    }
    return e;
  }, dc.apply(null, arguments);
}
var g_e = (e) => {
  var {
    dataKey: t,
    name: r,
    stroke: n,
    legendType: s,
    hide: i
  } = e;
  return [{
    inactive: i,
    dataKey: t,
    type: s,
    color: n,
    value: nb(r, t),
    payload: e
  }];
};
function y_e(e) {
  var {
    dataKey: t,
    data: r,
    stroke: n,
    strokeWidth: s,
    fill: i,
    name: o,
    hide: a,
    unit: l
  } = e;
  return {
    dataDefinedOnItem: r,
    positions: void 0,
    settings: {
      stroke: n,
      strokeWidth: s,
      fill: i,
      dataKey: t,
      nameKey: void 0,
      name: nb(o, t),
      hide: a,
      type: e.tooltipType,
      color: e.stroke,
      unit: l
    }
  };
}
var Dz = (e, t) => "".concat(t, "px ").concat(e - t, "px");
function v_e(e, t) {
  for (var r = e.length % 2 !== 0 ? [...e, 0] : e, n = [], s = 0; s < t; ++s)
    n = [...n, ...r];
  return n;
}
var b_e = (e, t, r) => {
  var n = r.reduce((f, h) => f + h);
  if (!n)
    return Dz(t, e);
  for (var s = Math.floor(e / n), i = e % n, o = t - e, a = [], l = 0, c = 0; l < r.length; c += r[l], ++l)
    if (c + r[l] > i) {
      a = [...r.slice(0, l), i - c];
      break;
    }
  var d = a.length % 2 === 0 ? [0, o] : [o];
  return [...v_e(r, s), ...a, ...d].map((f) => "".concat(f, "px")).join(", ");
};
function x_e(e, t) {
  var r;
  if (/* @__PURE__ */ _.isValidElement(e))
    r = /* @__PURE__ */ _.cloneElement(e, t);
  else if (typeof e == "function")
    r = e(t);
  else {
    var n = at("recharts-line-dot", typeof e != "boolean" ? e.className : "");
    r = /* @__PURE__ */ _.createElement(az, dc({}, t, {
      className: n
    }));
  }
  return r;
}
function w_e(e, t) {
  return e == null ? !1 : t ? !0 : e.length === 1;
}
function __e(e) {
  var {
    clipPathId: t,
    points: r,
    props: n
  } = e, {
    dot: s,
    dataKey: i,
    needClip: o
  } = n;
  if (!w_e(r, s))
    return null;
  var {
    id: a
  } = n, l = tk(n, c_e), c = G3(s), d = al(l), f = tr(s, !0), h = r.map((g, m) => {
    var y = ni(ni(ni({
      key: "dot-".concat(m),
      r: 3
    }, d), f), {}, {
      index: m,
      cx: g.x,
      cy: g.y,
      dataKey: i,
      value: g.value,
      payload: g.payload,
      points: r
    });
    return x_e(s, y);
  }), p = {
    clipPath: o ? "url(#clipPath-".concat(c ? "" : "dots-").concat(t, ")") : void 0
  };
  return /* @__PURE__ */ _.createElement(Rs, dc({
    className: "recharts-line-dots",
    key: "dots"
  }, p), h);
}
function y_(e) {
  var {
    clipPathId: t,
    pathRef: r,
    points: n,
    strokeDasharray: s,
    props: i,
    showLabels: o
  } = e, {
    type: a,
    layout: l,
    connectNulls: c,
    needClip: d
  } = i, f = tk(i, u_e), h = ni(ni({}, tr(f, !0)), {}, {
    fill: "none",
    className: "recharts-line-curve",
    clipPath: d ? "url(#clipPath-".concat(t, ")") : void 0,
    points: n,
    type: a,
    layout: l,
    connectNulls: c,
    strokeDasharray: s ?? i.strokeDasharray
  });
  return /* @__PURE__ */ _.createElement(_.Fragment, null, (n == null ? void 0 : n.length) > 1 && /* @__PURE__ */ _.createElement(Mj, dc({}, h, {
    pathRef: r
  })), /* @__PURE__ */ _.createElement(__e, {
    points: n,
    clipPathId: t,
    props: i
  }), o && ec.renderCallByParent(i, n));
}
function S_e(e) {
  try {
    return e && e.getTotalLength && e.getTotalLength() || 0;
  } catch {
    return 0;
  }
}
function E_e(e) {
  var {
    clipPathId: t,
    props: r,
    pathRef: n,
    previousPointsRef: s,
    longestAnimatedLengthRef: i
  } = e, {
    points: o,
    strokeDasharray: a,
    isAnimationActive: l,
    animationBegin: c,
    animationDuration: d,
    animationEasing: f,
    animateNewValues: h,
    width: p,
    height: g,
    onAnimationEnd: m,
    onAnimationStart: y
  } = r, v = s.current, b = mz(r, "recharts-line-"), [x, S] = L(!1), w = ze(() => {
    typeof m == "function" && m(), S(!1);
  }, [m]), j = ze(() => {
    typeof y == "function" && y(), S(!0);
  }, [y]), N = S_e(n.current), k = i.current;
  return /* @__PURE__ */ _.createElement(vz, {
    begin: c,
    duration: d,
    isActive: l,
    easing: f,
    onAnimationEnd: w,
    onAnimationStart: j,
    key: b
  }, (C) => {
    var $ = sf(k, N + k, C), I = Math.min($, N), M;
    if (a) {
      var O = "".concat(a).split(/[,\s]+/gim).map((G) => parseFloat(G));
      M = b_e(I, N, O);
    } else
      M = Dz(N, I);
    if (v) {
      var z = v.length / o.length, U = C === 1 ? o : o.map((G, q) => {
        var Z = Math.floor(q * z);
        if (v[Z]) {
          var ie = v[Z];
          return ni(ni({}, G), {}, {
            x: sf(ie.x, G.x, C),
            y: sf(ie.y, G.y, C)
          });
        }
        return h ? ni(ni({}, G), {}, {
          x: sf(p * 2, G.x, C),
          y: sf(g / 2, G.y, C)
        }) : ni(ni({}, G), {}, {
          x: G.x,
          y: G.y
        });
      });
      return s.current = U, /* @__PURE__ */ _.createElement(y_, {
        props: r,
        points: U,
        clipPathId: t,
        pathRef: n,
        showLabels: !x,
        strokeDasharray: M
      });
    }
    return C > 0 && N > 0 && (s.current = o, i.current = I), /* @__PURE__ */ _.createElement(y_, {
      props: r,
      points: o,
      clipPathId: t,
      pathRef: n,
      showLabels: !x,
      strokeDasharray: M
    });
  });
}
function j_e(e) {
  var {
    clipPathId: t,
    props: r
  } = e, {
    points: n,
    isAnimationActive: s
  } = r, i = We(null), o = We(0), a = We(null), l = i.current;
  return s && n && n.length && l !== n ? /* @__PURE__ */ _.createElement(E_e, {
    props: r,
    clipPathId: t,
    previousPointsRef: i,
    longestAnimatedLengthRef: o,
    pathRef: a
  }) : /* @__PURE__ */ _.createElement(y_, {
    props: r,
    points: n,
    clipPathId: t,
    pathRef: a,
    showLabels: !0
  });
}
var N_e = (e, t) => ({
  x: e.x,
  y: e.y,
  value: e.value,
  // @ts-expect-error getValueByDataKey does not validate the output type
  errorVal: Vt(e.payload, t)
});
class k_e extends Gh {
  render() {
    var t, {
      hide: r,
      dot: n,
      points: s,
      className: i,
      xAxisId: o,
      yAxisId: a,
      top: l,
      left: c,
      width: d,
      height: f,
      id: h,
      needClip: p
    } = this.props;
    if (r)
      return null;
    var g = at("recharts-line", i), m = h, {
      r: y = 3,
      strokeWidth: v = 2
    } = (t = tr(n, !1)) !== null && t !== void 0 ? t : {
      r: 3,
      strokeWidth: 2
    }, b = G3(n), x = y * 2 + v;
    return /* @__PURE__ */ _.createElement(_.Fragment, null, /* @__PURE__ */ _.createElement(Rs, {
      className: g
    }, p && /* @__PURE__ */ _.createElement("defs", null, /* @__PURE__ */ _.createElement(y1e, {
      clipPathId: m,
      xAxisId: o,
      yAxisId: a
    }), !b && /* @__PURE__ */ _.createElement("clipPath", {
      id: "clipPath-dots-".concat(m)
    }, /* @__PURE__ */ _.createElement("rect", {
      x: c - x / 2,
      y: l - x / 2,
      width: d + x,
      height: f + x
    }))), /* @__PURE__ */ _.createElement(j_e, {
      props: this.props,
      clipPathId: m
    }), /* @__PURE__ */ _.createElement(g1e, {
      xAxisId: o,
      yAxisId: a,
      data: s,
      dataPointFormatter: N_e,
      errorBarOffset: 0
    }, this.props.children)), /* @__PURE__ */ _.createElement(l1e, {
      activeDot: this.props.activeDot,
      points: s,
      mainColor: this.props.stroke,
      itemDataKey: this.props.dataKey
    }));
  }
}
var $z = {
  activeDot: !0,
  animateNewValues: !0,
  animationBegin: 0,
  animationDuration: 1500,
  animationEasing: "ease",
  connectNulls: !1,
  dot: !0,
  fill: "#fff",
  hide: !1,
  isAnimationActive: !Ed.isSsr,
  label: !1,
  legendType: "line",
  stroke: "#3182bd",
  strokeWidth: 1,
  xAxisId: 0,
  yAxisId: 0
};
function C_e(e) {
  var t = zs(e, $z), {
    activeDot: r,
    animateNewValues: n,
    animationBegin: s,
    animationDuration: i,
    animationEasing: o,
    connectNulls: a,
    dot: l,
    hide: c,
    isAnimationActive: d,
    label: f,
    legendType: h,
    xAxisId: p,
    yAxisId: g,
    id: m
  } = t, y = tk(t, d_e), {
    needClip: v
  } = _z(p, g), b = XN(), x = Rj(), S = Bs(), w = Me(($) => l_e($, p, g, S, m));
  if (x !== "horizontal" && x !== "vertical" || w == null || b == null)
    return null;
  var {
    height: j,
    width: N,
    x: k,
    y: C
  } = b;
  return /* @__PURE__ */ _.createElement(k_e, dc({}, y, {
    id: m,
    connectNulls: a,
    dot: l,
    activeDot: r,
    animateNewValues: n,
    animationBegin: s,
    animationDuration: i,
    animationEasing: o,
    isAnimationActive: d,
    hide: c,
    label: f,
    legendType: h,
    xAxisId: p,
    yAxisId: g,
    points: w,
    layout: x,
    height: j,
    width: N,
    left: k,
    top: C,
    needClip: v
  }));
}
function T_e(e) {
  var {
    layout: t,
    xAxis: r,
    yAxis: n,
    xAxisTicks: s,
    yAxisTicks: i,
    dataKey: o,
    bandSize: a,
    displayedData: l
  } = e;
  return l.map((c, d) => {
    var f = Vt(c, o);
    if (t === "horizontal") {
      var h = SO({
        axis: r,
        ticks: s,
        bandSize: a,
        entry: c,
        index: d
      }), p = wr(f) ? null : n.scale(f);
      return {
        x: h,
        y: p,
        value: f,
        payload: c
      };
    }
    var g = wr(f) ? null : r.scale(f), m = SO({
      axis: n,
      ticks: i,
      bandSize: a,
      entry: c,
      index: d
    });
    return g == null || m == null ? null : {
      x: g,
      y: m,
      value: f,
      payload: c
    };
  }).filter(Boolean);
}
function Rz(e) {
  var t = zs(e, $z), r = Bs();
  return /* @__PURE__ */ _.createElement(gz, {
    id: t.id,
    type: "line"
  }, (n) => /* @__PURE__ */ _.createElement(_.Fragment, null, /* @__PURE__ */ _.createElement(gwe, {
    legendPayload: g_e(t)
  }), /* @__PURE__ */ _.createElement(hz, {
    fn: y_e,
    args: t
  }), /* @__PURE__ */ _.createElement(Twe, {
    type: "line",
    id: n,
    data: t.data,
    xAxisId: t.xAxisId,
    yAxisId: t.yAxisId,
    zAxisId: 0,
    dataKey: t.dataKey,
    hide: t.hide,
    isPanorama: r
  }), /* @__PURE__ */ _.createElement(C_e, dc({}, t, {
    id: n
  }))));
}
Rz.displayName = "Line";
function ND(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    t && (n = n.filter(function(s) {
      return Object.getOwnPropertyDescriptor(e, s).enumerable;
    })), r.push.apply(r, n);
  }
  return r;
}
function kD(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2 ? ND(Object(r), !0).forEach(function(n) {
      A_e(e, n, r[n]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : ND(Object(r)).forEach(function(n) {
      Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
    });
  }
  return e;
}
function A_e(e, t, r) {
  return (t = P_e(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e;
}
function P_e(e) {
  var t = O_e(e, "string");
  return typeof t == "symbol" ? t : t + "";
}
function O_e(e, t) {
  if (typeof e != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (typeof n != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
var D_e = {
  xAxis: {},
  yAxis: {},
  zAxis: {}
}, Iz = us({
  name: "cartesianAxis",
  initialState: D_e,
  reducers: {
    addXAxis(e, t) {
      e.xAxis[t.payload.id] = t.payload;
    },
    removeXAxis(e, t) {
      delete e.xAxis[t.payload.id];
    },
    addYAxis(e, t) {
      e.yAxis[t.payload.id] = t.payload;
    },
    removeYAxis(e, t) {
      delete e.yAxis[t.payload.id];
    },
    addZAxis(e, t) {
      e.zAxis[t.payload.id] = t.payload;
    },
    removeZAxis(e, t) {
      delete e.zAxis[t.payload.id];
    },
    updateYAxisWidth(e, t) {
      var {
        id: r,
        width: n
      } = t.payload;
      e.yAxis[r] && (e.yAxis[r] = kD(kD({}, e.yAxis[r]), {}, {
        width: n
      }));
    }
  }
}), {
  addXAxis: $_e,
  removeXAxis: R_e,
  addYAxis: I_e,
  removeYAxis: M_e,
  addZAxis: aRe,
  removeZAxis: lRe,
  updateYAxisWidth: L_e
} = Iz.actions, F_e = Iz.reducer, B_e = ["children"], z_e = ["dangerouslySetInnerHTML", "ticks"];
function Mz(e, t, r) {
  return (t = U_e(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e;
}
function U_e(e) {
  var t = q_e(e, "string");
  return typeof t == "symbol" ? t : t + "";
}
function q_e(e, t) {
  if (typeof e != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (typeof n != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
function v_() {
  return v_ = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var r = arguments[t];
      for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]);
    }
    return e;
  }, v_.apply(null, arguments);
}
function Lz(e, t) {
  if (e == null) return {};
  var r, n, s = V_e(e, t);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    for (n = 0; n < i.length; n++) r = i[n], t.indexOf(r) === -1 && {}.propertyIsEnumerable.call(e, r) && (s[r] = e[r]);
  }
  return s;
}
function V_e(e, t) {
  if (e == null) return {};
  var r = {};
  for (var n in e) if ({}.hasOwnProperty.call(e, n)) {
    if (t.indexOf(n) !== -1) continue;
    r[n] = e[n];
  }
  return r;
}
function W_e(e) {
  var t = nr(), r = Ht(() => {
    var {
      children: i
    } = e, o = Lz(e, B_e);
    return o;
  }, [e]), n = Me((i) => sa(i, r.id)), s = r === n;
  return ve(() => (t($_e(r)), () => {
    t(R_e(r));
  }), [r, t]), s ? e.children : null;
}
var K_e = (e) => {
  var {
    xAxisId: t,
    className: r
  } = e, n = Me(x6), s = Bs(), i = "xAxis", o = Me((p) => Pd(p, i, t, s)), a = Me((p) => g8(p, i, t, s)), l = Me((p) => Gve(p, t)), c = Me((p) => ebe(p, t));
  if (l == null || c == null)
    return null;
  var {
    dangerouslySetInnerHTML: d,
    ticks: f
  } = e, h = Lz(e, z_e);
  return /* @__PURE__ */ _.createElement(hl, v_({}, h, {
    scale: o,
    x: c.x,
    y: c.y,
    width: l.width,
    height: l.height,
    className: at("recharts-".concat(i, " ").concat(i), r),
    viewBox: n,
    ticks: a
  }));
}, H_e = (e) => {
  var t, r, n, s, i;
  return /* @__PURE__ */ _.createElement(W_e, {
    interval: (t = e.interval) !== null && t !== void 0 ? t : "preserveEnd",
    id: e.xAxisId,
    scale: e.scale,
    type: e.type,
    padding: e.padding,
    allowDataOverflow: e.allowDataOverflow,
    domain: e.domain,
    dataKey: e.dataKey,
    allowDuplicatedCategory: e.allowDuplicatedCategory,
    allowDecimals: e.allowDecimals,
    tickCount: e.tickCount,
    includeHidden: (r = e.includeHidden) !== null && r !== void 0 ? r : !1,
    reversed: e.reversed,
    ticks: e.ticks,
    height: e.height,
    orientation: e.orientation,
    mirror: e.mirror,
    hide: e.hide,
    unit: e.unit,
    name: e.name,
    angle: (n = e.angle) !== null && n !== void 0 ? n : 0,
    minTickGap: (s = e.minTickGap) !== null && s !== void 0 ? s : 5,
    tick: (i = e.tick) !== null && i !== void 0 ? i : !0,
    tickFormatter: e.tickFormatter
  }, /* @__PURE__ */ _.createElement(K_e, e));
};
class rk extends Gh {
  render() {
    return /* @__PURE__ */ _.createElement(H_e, this.props);
  }
}
Mz(rk, "displayName", "XAxis");
Mz(rk, "defaultProps", {
  allowDataOverflow: Jn.allowDataOverflow,
  allowDecimals: Jn.allowDecimals,
  allowDuplicatedCategory: Jn.allowDuplicatedCategory,
  height: Jn.height,
  hide: !1,
  mirror: Jn.mirror,
  orientation: Jn.orientation,
  padding: Jn.padding,
  reversed: Jn.reversed,
  scale: Jn.scale,
  tickCount: Jn.tickCount,
  type: Jn.type,
  xAxisId: 0
});
var Y_e = (e) => {
  var {
    ticks: t,
    label: r,
    labelGapWithTick: n = 5,
    // Default gap between label and tick
    tickSize: s = 0,
    tickMargin: i = 0
  } = e, o = 0;
  if (t) {
    t.forEach((d) => {
      if (d) {
        var f = d.getBoundingClientRect();
        f.width > o && (o = f.width);
      }
    });
    var a = r ? r.getBoundingClientRect().width : 0, l = s + i, c = o + l + a + (r ? n : 0);
    return Math.round(c);
  }
  return 0;
}, G_e = ["dangerouslySetInnerHTML", "ticks"];
function Fz(e, t, r) {
  return (t = Z_e(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e;
}
function Z_e(e) {
  var t = X_e(e, "string");
  return typeof t == "symbol" ? t : t + "";
}
function X_e(e, t) {
  if (typeof e != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (typeof n != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
function b_() {
  return b_ = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var r = arguments[t];
      for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]);
    }
    return e;
  }, b_.apply(null, arguments);
}
function J_e(e, t) {
  if (e == null) return {};
  var r, n, s = Q_e(e, t);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    for (n = 0; n < i.length; n++) r = i[n], t.indexOf(r) === -1 && {}.propertyIsEnumerable.call(e, r) && (s[r] = e[r]);
  }
  return s;
}
function Q_e(e, t) {
  if (e == null) return {};
  var r = {};
  for (var n in e) if ({}.hasOwnProperty.call(e, n)) {
    if (t.indexOf(n) !== -1) continue;
    r[n] = e[n];
  }
  return r;
}
function eSe(e) {
  var t = nr();
  return ve(() => (t(I_e(e)), () => {
    t(M_e(e));
  }), [e, t]), null;
}
var tSe = (e) => {
  var t, {
    yAxisId: r,
    className: n,
    width: s,
    label: i
  } = e, o = We(null), a = We(null), l = Me(x6), c = Bs(), d = nr(), f = "yAxis", h = Me((x) => Pd(x, f, r, c)), p = Me((x) => rbe(x, r)), g = Me((x) => tbe(x, r)), m = Me((x) => g8(x, f, r, c));
  if (rl(() => {
    var x;
    if (!(s !== "auto" || !p || WN(i) || /* @__PURE__ */ Pn(i))) {
      var S = o.current, w = S == null || (x = S.tickRefs) === null || x === void 0 ? void 0 : x.current, {
        tickSize: j,
        tickMargin: N
      } = S.props, k = Y_e({
        ticks: w,
        label: a.current,
        labelGapWithTick: 5,
        tickSize: j,
        tickMargin: N
      });
      Math.round(p.width) !== Math.round(k) && d(L_e({
        id: r,
        width: k
      }));
    }
  }, [
    o,
    o == null || (t = o.current) === null || t === void 0 || (t = t.tickRefs) === null || t === void 0 ? void 0 : t.current,
    // required to do re-calculation when using brush
    p == null ? void 0 : p.width,
    p,
    d,
    i,
    r,
    s
  ]), p == null || g == null)
    return null;
  var {
    dangerouslySetInnerHTML: y,
    ticks: v
  } = e, b = J_e(e, G_e);
  return /* @__PURE__ */ _.createElement(hl, b_({}, b, {
    ref: o,
    labelRef: a,
    scale: h,
    x: g.x,
    y: g.y,
    width: p.width,
    height: p.height,
    className: at("recharts-".concat(f, " ").concat(f), n),
    viewBox: l,
    ticks: m
  }));
}, rSe = (e) => {
  var t, r, n, s, i;
  return /* @__PURE__ */ _.createElement(_.Fragment, null, /* @__PURE__ */ _.createElement(eSe, {
    interval: (t = e.interval) !== null && t !== void 0 ? t : "preserveEnd",
    id: e.yAxisId,
    scale: e.scale,
    type: e.type,
    domain: e.domain,
    allowDataOverflow: e.allowDataOverflow,
    dataKey: e.dataKey,
    allowDuplicatedCategory: e.allowDuplicatedCategory,
    allowDecimals: e.allowDecimals,
    tickCount: e.tickCount,
    padding: e.padding,
    includeHidden: (r = e.includeHidden) !== null && r !== void 0 ? r : !1,
    reversed: e.reversed,
    ticks: e.ticks,
    width: e.width,
    orientation: e.orientation,
    mirror: e.mirror,
    hide: e.hide,
    unit: e.unit,
    name: e.name,
    angle: (n = e.angle) !== null && n !== void 0 ? n : 0,
    minTickGap: (s = e.minTickGap) !== null && s !== void 0 ? s : 5,
    tick: (i = e.tick) !== null && i !== void 0 ? i : !0,
    tickFormatter: e.tickFormatter
  }), /* @__PURE__ */ _.createElement(tSe, e));
}, nSe = {
  allowDataOverflow: Qn.allowDataOverflow,
  allowDecimals: Qn.allowDecimals,
  allowDuplicatedCategory: Qn.allowDuplicatedCategory,
  hide: !1,
  mirror: Qn.mirror,
  orientation: Qn.orientation,
  padding: Qn.padding,
  reversed: Qn.reversed,
  scale: Qn.scale,
  tickCount: Qn.tickCount,
  type: Qn.type,
  width: Qn.width,
  yAxisId: 0
};
class nk extends Gh {
  render() {
    return /* @__PURE__ */ _.createElement(rSe, this.props);
  }
}
Fz(nk, "displayName", "YAxis");
Fz(nk, "defaultProps", nSe);
var Lx = {};
/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var CD;
function sSe() {
  if (CD) return Lx;
  CD = 1;
  var e = ge;
  function t(l, c) {
    return l === c && (l !== 0 || 1 / l === 1 / c) || l !== l && c !== c;
  }
  var r = typeof Object.is == "function" ? Object.is : t, n = e.useSyncExternalStore, s = e.useRef, i = e.useEffect, o = e.useMemo, a = e.useDebugValue;
  return Lx.useSyncExternalStoreWithSelector = function(l, c, d, f, h) {
    var p = s(null);
    if (p.current === null) {
      var g = { hasValue: !1, value: null };
      p.current = g;
    } else g = p.current;
    p = o(
      function() {
        function y(w) {
          if (!v) {
            if (v = !0, b = w, w = f(w), h !== void 0 && g.hasValue) {
              var j = g.value;
              if (h(j, w))
                return x = j;
            }
            return x = w;
          }
          if (j = x, r(b, w)) return j;
          var N = f(w);
          return h !== void 0 && h(j, N) ? (b = w, j) : (b = w, x = N);
        }
        var v = !1, b, x, S = d === void 0 ? null : d;
        return [
          function() {
            return y(c());
          },
          S === null ? void 0 : function() {
            return y(S());
          }
        ];
      },
      [c, d, f, h]
    );
    var m = n(l, p[0], p[1]);
    return i(
      function() {
        g.hasValue = !0, g.value = m;
      },
      [m]
    ), a(m), m;
  }, Lx;
}
var Fx = {};
/**
 * @license React
 * use-sync-external-store-with-selector.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var TD;
function iSe() {
  return TD || (TD = 1, process.env.NODE_ENV !== "production" && function() {
    function e(l, c) {
      return l === c && (l !== 0 || 1 / l === 1 / c) || l !== l && c !== c;
    }
    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ < "u" && typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart == "function" && __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());
    var t = ge, r = typeof Object.is == "function" ? Object.is : e, n = t.useSyncExternalStore, s = t.useRef, i = t.useEffect, o = t.useMemo, a = t.useDebugValue;
    Fx.useSyncExternalStoreWithSelector = function(l, c, d, f, h) {
      var p = s(null);
      if (p.current === null) {
        var g = { hasValue: !1, value: null };
        p.current = g;
      } else g = p.current;
      p = o(
        function() {
          function y(w) {
            if (!v) {
              if (v = !0, b = w, w = f(w), h !== void 0 && g.hasValue) {
                var j = g.value;
                if (h(j, w))
                  return x = j;
              }
              return x = w;
            }
            if (j = x, r(b, w))
              return j;
            var N = f(w);
            return h !== void 0 && h(j, N) ? (b = w, j) : (b = w, x = N);
          }
          var v = !1, b, x, S = d === void 0 ? null : d;
          return [
            function() {
              return y(c());
            },
            S === null ? void 0 : function() {
              return y(S());
            }
          ];
        },
        [c, d, f, h]
      );
      var m = n(l, p[0], p[1]);
      return i(
        function() {
          g.hasValue = !0, g.value = m;
        },
        [m]
      ), a(m), m;
    }, typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ < "u" && typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop == "function" && __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error());
  }()), Fx;
}
process.env.NODE_ENV === "production" ? sSe() : iSe();
function oSe(e) {
  e();
}
function aSe() {
  let e = null, t = null;
  return {
    clear() {
      e = null, t = null;
    },
    notify() {
      oSe(() => {
        let r = e;
        for (; r; )
          r.callback(), r = r.next;
      });
    },
    get() {
      const r = [];
      let n = e;
      for (; n; )
        r.push(n), n = n.next;
      return r;
    },
    subscribe(r) {
      let n = !0;
      const s = t = {
        callback: r,
        next: null,
        prev: t
      };
      return s.prev ? s.prev.next = s : e = s, function() {
        !n || e === null || (n = !1, s.next ? s.next.prev = s.prev : t = s.prev, s.prev ? s.prev.next = s.next : e = s.next);
      };
    }
  };
}
var AD = {
  notify() {
  },
  get: () => []
};
function lSe(e, t) {
  let r, n = AD, s = 0, i = !1;
  function o(m) {
    d();
    const y = n.subscribe(m);
    let v = !1;
    return () => {
      v || (v = !0, y(), f());
    };
  }
  function a() {
    n.notify();
  }
  function l() {
    g.onStateChange && g.onStateChange();
  }
  function c() {
    return i;
  }
  function d() {
    s++, r || (r = e.subscribe(l), n = aSe());
  }
  function f() {
    s--, r && s === 0 && (r(), r = void 0, n.clear(), n = AD);
  }
  function h() {
    i || (i = !0, d());
  }
  function p() {
    i && (i = !1, f());
  }
  const g = {
    addNestedSub: o,
    notifyNestedSubs: a,
    handleChangeWrapper: l,
    isSubscribed: c,
    trySubscribe: h,
    tryUnsubscribe: p,
    getListeners: () => n
  };
  return g;
}
var cSe = () => typeof window < "u" && typeof window.document < "u" && typeof window.document.createElement < "u", uSe = /* @__PURE__ */ cSe(), dSe = () => typeof navigator < "u" && navigator.product === "ReactNative", fSe = /* @__PURE__ */ dSe(), hSe = () => uSe || fSe ? _.useLayoutEffect : _.useEffect, pSe = /* @__PURE__ */ hSe(), Bx = /* @__PURE__ */ Symbol.for("react-redux-context"), zx = typeof globalThis < "u" ? globalThis : (
  /* fall back to a per-module scope (pre-8.1 behaviour) if `globalThis` is not available */
  {}
);
function mSe() {
  if (!_.createContext) return {};
  const e = zx[Bx] ?? (zx[Bx] = /* @__PURE__ */ new Map());
  let t = e.get(_.createContext);
  return t || (t = _.createContext(
    null
  ), process.env.NODE_ENV !== "production" && (t.displayName = "ReactRedux"), e.set(_.createContext, t)), t;
}
var gSe = /* @__PURE__ */ mSe();
function ySe(e) {
  const { children: t, context: r, serverState: n, store: s } = e, i = _.useMemo(() => {
    const l = lSe(s), c = {
      store: s,
      subscription: l,
      getServerState: n ? () => n : void 0
    };
    if (process.env.NODE_ENV === "production")
      return c;
    {
      const { identityFunctionCheck: d = "once", stabilityCheck: f = "once" } = e;
      return /* @__PURE__ */ Object.assign(c, {
        stabilityCheck: f,
        identityFunctionCheck: d
      });
    }
  }, [s, n]), o = _.useMemo(() => s.getState(), [s]);
  pSe(() => {
    const { subscription: l } = i;
    return l.onStateChange = l.notifyNestedSubs, l.trySubscribe(), o !== s.getState() && l.notifyNestedSubs(), () => {
      l.tryUnsubscribe(), l.onStateChange = void 0;
    };
  }, [i, o]);
  const a = r || gSe;
  return /* @__PURE__ */ _.createElement(a.Provider, { value: i }, t);
}
var vSe = ySe, bSe = (e, t) => t, sk = Q([bSe, Nt, qB, Lr, D8, ia, l0e, Yr], h0e), ik = (e) => {
  var t = e.currentTarget.getBoundingClientRect(), r = t.width / e.currentTarget.offsetWidth, n = t.height / e.currentTarget.offsetHeight;
  return {
    /*
     * Here it's important to use:
     * - event.clientX and event.clientY to get the mouse position relative to the viewport, including scroll.
     * - pageX and pageY are not used because they are relative to the whole document, and ignore scroll.
     * - rect.left and rect.top are used to get the position of the chart relative to the viewport.
     * - offsetX and offsetY are not used because they are relative to the offset parent
     *  which may or may not be the same as the clientX and clientY, depending on the position of the chart in the DOM
     *  and surrounding element styles. CSS position: relative, absolute, fixed, will change the offset parent.
     * - scaleX and scaleY are necessary for when the chart element is scaled using CSS `transform: scale(N)`.
     */
    chartX: Math.round((e.clientX - t.left) / r),
    chartY: Math.round((e.clientY - t.top) / n)
  };
}, Bz = Is("mouseClick"), zz = mp();
zz.startListening({
  actionCreator: Bz,
  effect: (e, t) => {
    var r = e.payload, n = sk(t.getState(), ik(r));
    (n == null ? void 0 : n.activeIndex) != null && t.dispatch(mbe({
      activeIndex: n.activeIndex,
      activeDataKey: void 0,
      activeCoordinate: n.activeCoordinate
    }));
  }
});
var x_ = Is("mouseMove"), Uz = mp();
Uz.startListening({
  actionCreator: x_,
  effect: (e, t) => {
    var r = e.payload, n = t.getState(), s = IN(n, n.tooltip.settings.shared), i = sk(n, ik(r));
    s === "axis" && ((i == null ? void 0 : i.activeIndex) != null ? t.dispatch(N8({
      activeIndex: i.activeIndex,
      activeDataKey: void 0,
      activeCoordinate: i.activeCoordinate
    })) : t.dispatch(j8()));
  }
});
function xSe(e, t) {
  return t instanceof HTMLElement ? "HTMLElement <".concat(t.tagName, ' class="').concat(t.className, '">') : t === window ? "global.window" : t;
}
var PD = {
  accessibilityLayer: !0,
  barCategoryGap: "10%",
  barGap: 4,
  barSize: void 0,
  className: void 0,
  maxBarSize: void 0,
  stackOffset: "none",
  syncId: void 0,
  syncMethod: "index"
}, qz = us({
  name: "rootProps",
  initialState: PD,
  reducers: {
    updateOptions: (e, t) => {
      var r;
      e.accessibilityLayer = t.payload.accessibilityLayer, e.barCategoryGap = t.payload.barCategoryGap, e.barGap = (r = t.payload.barGap) !== null && r !== void 0 ? r : PD.barGap, e.barSize = t.payload.barSize, e.maxBarSize = t.payload.maxBarSize, e.stackOffset = t.payload.stackOffset, e.syncId = t.payload.syncId, e.syncMethod = t.payload.syncMethod, e.className = t.payload.className;
    }
  }
}), wSe = qz.reducer, {
  updateOptions: _Se
} = qz.actions, Vz = us({
  name: "polarOptions",
  initialState: null,
  reducers: {
    updatePolarOptions: (e, t) => t.payload
  }
}), {
  updatePolarOptions: SSe
} = Vz.actions, ESe = Vz.reducer, Wz = Is("keyDown"), Kz = Is("focus"), ok = mp();
ok.startListening({
  actionCreator: Wz,
  effect: (e, t) => {
    var r = t.getState(), n = r.rootProps.accessibilityLayer !== !1;
    if (n) {
      var {
        keyboardInteraction: s
      } = r.tooltip, i = e.payload;
      if (!(i !== "ArrowRight" && i !== "ArrowLeft" && i !== "Enter")) {
        var o = Number(MN(s, Dd(r))), a = ia(r);
        if (i === "Enter") {
          var l = Ny(r, "axis", "hover", String(s.index));
          t.dispatch(f_({
            active: !s.active,
            activeIndex: s.index,
            activeDataKey: s.dataKey,
            activeCoordinate: l
          }));
          return;
        }
        var c = obe(r), d = c === "left-to-right" ? 1 : -1, f = i === "ArrowRight" ? 1 : -1, h = o + f * d;
        if (!(a == null || h >= a.length || h < 0)) {
          var p = Ny(r, "axis", "hover", String(h));
          t.dispatch(f_({
            active: !0,
            activeIndex: h.toString(),
            activeDataKey: void 0,
            activeCoordinate: p
          }));
        }
      }
    }
  }
});
ok.startListening({
  actionCreator: Kz,
  effect: (e, t) => {
    var r = t.getState(), n = r.rootProps.accessibilityLayer !== !1;
    if (n) {
      var {
        keyboardInteraction: s
      } = r.tooltip;
      if (!s.active && s.index == null) {
        var i = "0", o = Ny(r, "axis", "hover", String(i));
        t.dispatch(f_({
          activeDataKey: void 0,
          active: !0,
          activeIndex: i,
          activeCoordinate: o
        }));
      }
    }
  }
});
var ws = Is("externalEvent"), Hz = mp();
Hz.startListening({
  actionCreator: ws,
  effect: (e, t) => {
    if (e.payload.handler != null) {
      var r = t.getState(), n = {
        activeCoordinate: Jbe(r),
        activeDataKey: Zbe(r),
        activeIndex: rd(r),
        activeLabel: I8(r),
        activeTooltipIndex: rd(r),
        isTooltipActive: Qbe(r)
      };
      e.payload.handler(n, e.payload.reactEvent);
    }
  }
});
var jSe = Q([Od], (e) => e.tooltipItemPayloads), NSe = Q([jSe, jp, (e, t, r) => t, (e, t, r) => r], (e, t, r, n) => {
  var s = e.find((a) => a.settings.dataKey === n);
  if (s != null) {
    var {
      positions: i
    } = s;
    if (i != null) {
      var o = t(i, r);
      return o;
    }
  }
}), Yz = Is("touchMove"), Gz = mp();
Gz.startListening({
  actionCreator: Yz,
  effect: (e, t) => {
    var r = e.payload, n = t.getState(), s = IN(n, n.tooltip.settings.shared);
    if (s === "axis") {
      var i = sk(n, ik({
        clientX: r.touches[0].clientX,
        clientY: r.touches[0].clientY,
        currentTarget: r.currentTarget
      }));
      (i == null ? void 0 : i.activeIndex) != null && t.dispatch(N8({
        activeIndex: i.activeIndex,
        activeDataKey: void 0,
        activeCoordinate: i.activeCoordinate
      }));
    } else if (s === "item") {
      var o, a = r.touches[0], l = document.elementFromPoint(a.clientX, a.clientY);
      if (!l || !l.getAttribute)
        return;
      var c = l.getAttribute(v6), d = (o = l.getAttribute(b6)) !== null && o !== void 0 ? o : void 0, f = NSe(t.getState(), c, d);
      t.dispatch(E8({
        activeDataKey: d,
        activeIndex: c,
        activeCoordinate: f
      }));
    }
  }
});
var kSe = BF({
  brush: v1e,
  cartesianAxis: F_e,
  chartData: k0e,
  errorBars: u1e,
  graphicalItems: Cwe,
  layout: yhe,
  legend: tpe,
  options: _0e,
  polarAxis: Wxe,
  polarOptions: ESe,
  referenceElements: j1e,
  rootProps: wSe,
  tooltip: gbe
}), CSe = function(t) {
  var r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "Chart";
  return Ufe({
    reducer: kSe,
    // redux-toolkit v1 types are unhappy with the preloadedState type. Remove the `as any` when bumping to v2
    preloadedState: t,
    // @ts-expect-error redux-toolkit v1 types are unhappy with the middleware array. Remove this comment when bumping to v2
    middleware: (n) => n({
      serializableCheck: !1
    }).concat([zz.middleware, Uz.middleware, ok.middleware, Hz.middleware, Gz.middleware]),
    devTools: {
      serialize: {
        replacer: xSe
      },
      name: "recharts-".concat(r)
    }
  });
};
function Zz(e) {
  var {
    preloadedState: t,
    children: r,
    reduxStoreName: n
  } = e, s = Bs(), i = We(null);
  if (s)
    return r;
  i.current == null && (i.current = CSe(t, n));
  var o = _j;
  return /* @__PURE__ */ _.createElement(vSe, {
    context: o,
    store: i.current
  }, r);
}
function Xz(e) {
  var {
    layout: t,
    width: r,
    height: n,
    margin: s
  } = e, i = nr(), o = Bs();
  return ve(() => {
    o || (i(phe(t)), i(mhe({
      width: r,
      height: n
    })), i(hhe(s)));
  }, [i, o, t, r, n, s]), null;
}
function Jz(e) {
  var t = nr();
  return ve(() => {
    t(_Se(e));
  }, [t, e]), null;
}
var TSe = ["children"];
function ASe(e, t) {
  if (e == null) return {};
  var r, n, s = PSe(e, t);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    for (n = 0; n < i.length; n++) r = i[n], t.indexOf(r) === -1 && {}.propertyIsEnumerable.call(e, r) && (s[r] = e[r]);
  }
  return s;
}
function PSe(e, t) {
  if (e == null) return {};
  var r = {};
  for (var n in e) if ({}.hasOwnProperty.call(e, n)) {
    if (t.indexOf(n) !== -1) continue;
    r[n] = e[n];
  }
  return r;
}
function Oy() {
  return Oy = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var r = arguments[t];
      for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]);
    }
    return e;
  }, Oy.apply(null, arguments);
}
var OSe = {
  width: "100%",
  height: "100%"
}, DSe = /* @__PURE__ */ rt((e, t) => {
  var r = Dj(), n = $j(), s = j6();
  if (!Xu(r) || !Xu(n))
    return null;
  var {
    children: i,
    otherAttributes: o,
    title: a,
    desc: l
  } = e, c, d;
  return typeof o.tabIndex == "number" ? c = o.tabIndex : c = s ? 0 : void 0, typeof o.role == "string" ? d = o.role : d = s ? "application" : void 0, /* @__PURE__ */ _.createElement(lj, Oy({}, o, {
    title: a,
    desc: l,
    role: d,
    tabIndex: c,
    width: r,
    height: n,
    style: OSe,
    ref: t
  }), i);
}), $Se = (e) => {
  var {
    children: t
  } = e, r = Me(ob);
  if (!r)
    return null;
  var {
    width: n,
    height: s,
    y: i,
    x: o
  } = r;
  return /* @__PURE__ */ _.createElement(lj, {
    width: n,
    height: s,
    x: o,
    y: i
  }, t);
}, OD = /* @__PURE__ */ rt((e, t) => {
  var {
    children: r
  } = e, n = ASe(e, TSe), s = Bs();
  return s ? /* @__PURE__ */ _.createElement($Se, null, r) : /* @__PURE__ */ _.createElement(DSe, Oy({
    ref: t
  }, n), r);
});
function RSe() {
  var e = nr(), [t, r] = L(null), n = Me(qhe);
  return ve(() => {
    if (t != null) {
      var s = t.getBoundingClientRect(), i = s.width / t.offsetWidth;
      gi(i) && i !== n && e(ghe(i));
    }
  }, [t, e, n]), r;
}
function DD(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    t && (n = n.filter(function(s) {
      return Object.getOwnPropertyDescriptor(e, s).enumerable;
    })), r.push.apply(r, n);
  }
  return r;
}
function ISe(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2 ? DD(Object(r), !0).forEach(function(n) {
      MSe(e, n, r[n]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : DD(Object(r)).forEach(function(n) {
      Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
    });
  }
  return e;
}
function MSe(e, t, r) {
  return (t = LSe(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e;
}
function LSe(e) {
  var t = FSe(e, "string");
  return typeof t == "symbol" ? t : t + "";
}
function FSe(e, t) {
  if (typeof e != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (typeof n != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
var BSe = /* @__PURE__ */ rt((e, t) => {
  var {
    children: r,
    className: n,
    height: s,
    onClick: i,
    onContextMenu: o,
    onDoubleClick: a,
    onMouseDown: l,
    onMouseEnter: c,
    onMouseLeave: d,
    onMouseMove: f,
    onMouseUp: h,
    onTouchEnd: p,
    onTouchMove: g,
    onTouchStart: m,
    style: y,
    width: v
  } = e, b = nr(), [x, S] = L(null), [w, j] = L(null);
  A0e();
  var N = RSe(), k = ze((X) => {
    N(X), typeof t == "function" && t(X), S(X), j(X);
  }, [N, t, S, j]), C = ze((X) => {
    b(Bz(X)), b(ws({
      handler: i,
      reactEvent: X
    }));
  }, [b, i]), $ = ze((X) => {
    b(x_(X)), b(ws({
      handler: c,
      reactEvent: X
    }));
  }, [b, c]), I = ze((X) => {
    b(j8()), b(ws({
      handler: d,
      reactEvent: X
    }));
  }, [b, d]), M = ze((X) => {
    b(x_(X)), b(ws({
      handler: f,
      reactEvent: X
    }));
  }, [b, f]), O = ze(() => {
    b(Kz());
  }, [b]), z = ze((X) => {
    b(Wz(X.key));
  }, [b]), U = ze((X) => {
    b(ws({
      handler: o,
      reactEvent: X
    }));
  }, [b, o]), G = ze((X) => {
    b(ws({
      handler: a,
      reactEvent: X
    }));
  }, [b, a]), q = ze((X) => {
    b(ws({
      handler: l,
      reactEvent: X
    }));
  }, [b, l]), Z = ze((X) => {
    b(ws({
      handler: h,
      reactEvent: X
    }));
  }, [b, h]), ie = ze((X) => {
    b(ws({
      handler: m,
      reactEvent: X
    }));
  }, [b, m]), D = ze((X) => {
    b(Yz(X)), b(ws({
      handler: g,
      reactEvent: X
    }));
  }, [b, g]), B = ze((X) => {
    b(ws({
      handler: p,
      reactEvent: X
    }));
  }, [b, p]);
  return /* @__PURE__ */ _.createElement(U8.Provider, {
    value: x
  }, /* @__PURE__ */ _.createElement(Z3.Provider, {
    value: w
  }, /* @__PURE__ */ _.createElement("div", {
    className: at("recharts-wrapper", n),
    style: ISe({
      position: "relative",
      cursor: "default",
      width: v,
      height: s
    }, y),
    onClick: C,
    onContextMenu: U,
    onDoubleClick: G,
    onFocus: O,
    onKeyDown: z,
    onMouseDown: q,
    onMouseEnter: $,
    onMouseLeave: I,
    onMouseMove: M,
    onMouseUp: Z,
    onTouchEnd: B,
    onTouchMove: D,
    onTouchStart: ie,
    ref: k
  }, r)));
}), zSe = ["children", "className", "width", "height", "style", "compact", "title", "desc"];
function USe(e, t) {
  if (e == null) return {};
  var r, n, s = qSe(e, t);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    for (n = 0; n < i.length; n++) r = i[n], t.indexOf(r) === -1 && {}.propertyIsEnumerable.call(e, r) && (s[r] = e[r]);
  }
  return s;
}
function qSe(e, t) {
  if (e == null) return {};
  var r = {};
  for (var n in e) if ({}.hasOwnProperty.call(e, n)) {
    if (t.indexOf(n) !== -1) continue;
    r[n] = e[n];
  }
  return r;
}
var Qz = /* @__PURE__ */ rt((e, t) => {
  var {
    children: r,
    className: n,
    width: s,
    height: i,
    style: o,
    compact: a,
    title: l,
    desc: c
  } = e, d = USe(e, zSe), f = al(d);
  return a ? /* @__PURE__ */ _.createElement(OD, {
    otherAttributes: f,
    title: l,
    desc: c
  }, r) : /* @__PURE__ */ _.createElement(BSe, {
    className: n,
    style: o,
    width: s,
    height: i,
    onClick: e.onClick,
    onMouseLeave: e.onMouseLeave,
    onMouseEnter: e.onMouseEnter,
    onMouseMove: e.onMouseMove,
    onMouseDown: e.onMouseDown,
    onMouseUp: e.onMouseUp,
    onContextMenu: e.onContextMenu,
    onDoubleClick: e.onDoubleClick,
    onTouchStart: e.onTouchStart,
    onTouchMove: e.onTouchMove,
    onTouchEnd: e.onTouchEnd
  }, /* @__PURE__ */ _.createElement(OD, {
    otherAttributes: f,
    title: l,
    desc: c,
    ref: t
  }, /* @__PURE__ */ _.createElement(k1e, null, r)));
}), VSe = ["width", "height"];
function w_() {
  return w_ = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var r = arguments[t];
      for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]);
    }
    return e;
  }, w_.apply(null, arguments);
}
function WSe(e, t) {
  if (e == null) return {};
  var r, n, s = KSe(e, t);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    for (n = 0; n < i.length; n++) r = i[n], t.indexOf(r) === -1 && {}.propertyIsEnumerable.call(e, r) && (s[r] = e[r]);
  }
  return s;
}
function KSe(e, t) {
  if (e == null) return {};
  var r = {};
  for (var n in e) if ({}.hasOwnProperty.call(e, n)) {
    if (t.indexOf(n) !== -1) continue;
    r[n] = e[n];
  }
  return r;
}
var HSe = {
  top: 5,
  right: 5,
  bottom: 5,
  left: 5
}, YSe = {
  accessibilityLayer: !0,
  layout: "horizontal",
  stackOffset: "none",
  barCategoryGap: "10%",
  barGap: 4,
  margin: HSe,
  reverseStackOrder: !1,
  syncMethod: "index"
}, GSe = /* @__PURE__ */ rt(function(t, r) {
  var n, s = zs(t.categoricalChartProps, YSe), {
    width: i,
    height: o
  } = s, a = WSe(s, VSe);
  if (!Xu(i) || !Xu(o))
    return null;
  var {
    chartName: l,
    defaultTooltipEventType: c,
    validateTooltipEventTypes: d,
    tooltipPayloadSearcher: f,
    categoricalChartProps: h
  } = t, p = {
    chartName: l,
    defaultTooltipEventType: c,
    validateTooltipEventTypes: d,
    tooltipPayloadSearcher: f,
    eventEmitter: void 0
  };
  return /* @__PURE__ */ _.createElement(Zz, {
    preloadedState: {
      options: p
    },
    reduxStoreName: (n = h.id) !== null && n !== void 0 ? n : l
  }, /* @__PURE__ */ _.createElement(Sz, {
    chartData: h.data
  }), /* @__PURE__ */ _.createElement(Xz, {
    width: i,
    height: o,
    layout: s.layout,
    margin: s.margin
  }), /* @__PURE__ */ _.createElement(Jz, {
    accessibilityLayer: s.accessibilityLayer,
    barCategoryGap: s.barCategoryGap,
    maxBarSize: s.maxBarSize,
    stackOffset: s.stackOffset,
    barGap: s.barGap,
    barSize: s.barSize,
    syncId: s.syncId,
    syncMethod: s.syncMethod,
    className: s.className
  }), /* @__PURE__ */ _.createElement(Qz, w_({}, a, {
    width: i,
    height: o,
    ref: r
  })));
}), ZSe = ["axis"], XSe = /* @__PURE__ */ rt((e, t) => /* @__PURE__ */ _.createElement(GSe, {
  chartName: "LineChart",
  defaultTooltipEventType: "axis",
  validateTooltipEventTypes: ZSe,
  tooltipPayloadSearcher: W8,
  categoricalChartProps: e,
  ref: t
}));
function JSe(e) {
  var t = nr();
  return ve(() => {
    t(SSe(e));
  }, [t, e]), null;
}
var QSe = ["width", "height", "layout"];
function __() {
  return __ = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var r = arguments[t];
      for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]);
    }
    return e;
  }, __.apply(null, arguments);
}
function eEe(e, t) {
  if (e == null) return {};
  var r, n, s = tEe(e, t);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    for (n = 0; n < i.length; n++) r = i[n], t.indexOf(r) === -1 && {}.propertyIsEnumerable.call(e, r) && (s[r] = e[r]);
  }
  return s;
}
function tEe(e, t) {
  if (e == null) return {};
  var r = {};
  for (var n in e) if ({}.hasOwnProperty.call(e, n)) {
    if (t.indexOf(n) !== -1) continue;
    r[n] = e[n];
  }
  return r;
}
var rEe = {
  top: 5,
  right: 5,
  bottom: 5,
  left: 5
}, nEe = {
  accessibilityLayer: !0,
  stackOffset: "none",
  barCategoryGap: "10%",
  barGap: 4,
  margin: rEe,
  reverseStackOrder: !1,
  syncMethod: "index",
  layout: "radial"
}, sEe = /* @__PURE__ */ rt(function(t, r) {
  var n, s = zs(t.categoricalChartProps, nEe), {
    width: i,
    height: o,
    layout: a
  } = s, l = eEe(s, QSe);
  if (!Xu(i) || !Xu(o))
    return null;
  var {
    chartName: c,
    defaultTooltipEventType: d,
    validateTooltipEventTypes: f,
    tooltipPayloadSearcher: h
  } = t, p = {
    chartName: c,
    defaultTooltipEventType: d,
    validateTooltipEventTypes: f,
    tooltipPayloadSearcher: h,
    eventEmitter: void 0
  };
  return /* @__PURE__ */ _.createElement(Zz, {
    preloadedState: {
      options: p
    },
    reduxStoreName: (n = s.id) !== null && n !== void 0 ? n : c
  }, /* @__PURE__ */ _.createElement(Sz, {
    chartData: s.data
  }), /* @__PURE__ */ _.createElement(Xz, {
    width: i,
    height: o,
    layout: a,
    margin: s.margin
  }), /* @__PURE__ */ _.createElement(Jz, {
    accessibilityLayer: s.accessibilityLayer,
    barCategoryGap: s.barCategoryGap,
    maxBarSize: s.maxBarSize,
    stackOffset: s.stackOffset,
    barGap: s.barGap,
    barSize: s.barSize,
    syncId: s.syncId,
    syncMethod: s.syncMethod,
    className: s.className
  }), /* @__PURE__ */ _.createElement(JSe, {
    cx: s.cx,
    cy: s.cy,
    startAngle: s.startAngle,
    endAngle: s.endAngle,
    innerRadius: s.innerRadius,
    outerRadius: s.outerRadius
  }), /* @__PURE__ */ _.createElement(Qz, __({
    width: i,
    height: o
  }, l, {
    ref: r
  })));
}), iEe = ["item"], oEe = {
  layout: "centric",
  startAngle: 0,
  endAngle: 360,
  cx: "50%",
  cy: "50%",
  innerRadius: 0,
  outerRadius: "80%"
}, aEe = /* @__PURE__ */ rt((e, t) => {
  var r = zs(e, oEe);
  return /* @__PURE__ */ _.createElement(sEe, {
    chartName: "PieChart",
    defaultTooltipEventType: "item",
    validateTooltipEventTypes: iEe,
    tooltipPayloadSearcher: W8,
    categoricalChartProps: r,
    ref: t
  });
});
const lEe = async () => {
  const { count: e } = await he.from("profiles").select("id", { count: "exact", head: !0 }), { count: t } = await he.from("subscriptions").select("id", { count: "exact", head: !0 }).eq("status", "active"), { data: r, error: n } = await he.from("pages").select("view_count"), { data: s, error: i } = await he.from("purchases").select("price_id");
  (n || i) && console.error("Error fetching key metrics:", { viewsError: n, revenueError: i });
  const o = (r == null ? void 0 : r.reduce((l, c) => l + (c.view_count || 0), 0)) || 0, a = ((s == null ? void 0 : s.length) || 0) * 10;
  return {
    totalUsers: e || 0,
    activeSubscribers: t || 0,
    totalRevenue: a,
    totalViews: o
  };
}, cEe = async () => {
  const e = /* @__PURE__ */ new Date();
  e.setDate(e.getDate() - 30);
  const { data: t, error: r } = await he.from("profiles").select("created_at").gte("created_at", e.toISOString());
  if (r)
    throw new Error(r.message);
  const n = t.reduce((s, i) => {
    const o = new Date(i.created_at).toISOString().split("T")[0];
    return s[o] = (s[o] || 0) + 1, s;
  }, {});
  return Object.entries(n).map(([s, i]) => ({ date: s, count: i })).sort((s, i) => new Date(s.date).getTime() - new Date(i.date).getTime());
}, uEe = async () => {
  const { data: e, error: t } = await he.from("subscriptions").select("status");
  if (t)
    throw new Error(t.message);
  const r = e.reduce((n, s) => {
    const i = s.status || "unknown";
    return n[i] = (n[i] || 0) + 1, n;
  }, {});
  return Object.entries(r).map(([n, s]) => ({ name: n, value: s }));
}, dEe = async () => {
  const { data: e, error: t } = await he.from("detailed_audit_log").select("*").order("created_at", { ascending: !1 }).limit(5);
  if (t)
    throw new Error(t.message);
  return e;
}, zm = ({ title: e, value: t, icon: r, color: n }) => u.jsxs("div", { className: "bg-gray-800/50 p-6 rounded-xl border border-gray-700 flex items-center space-x-4 hover:border-blue-500/50 transition-colors", children: [u.jsx("div", { className: `p-3 rounded-lg bg-${n}-500/20 text-${n}-400`, children: u.jsx(r, { className: "w-6 h-6" }) }), u.jsxs("div", { children: [u.jsx("p", { className: "text-sm text-gray-400", children: e }), u.jsx("p", { className: "text-2xl font-bold text-white", children: t })] })] }), $D = ({ title: e, children: t, icon: r }) => u.jsxs("div", { className: "bg-gray-800/50 p-6 rounded-xl border border-gray-700", children: [u.jsxs("div", { className: "flex items-center mb-4", children: [u.jsx(r, { className: "w-5 h-5 mr-2 text-gray-400" }), u.jsx("h3", { className: "text-lg font-semibold text-white", children: e })] }), u.jsx("div", { className: "h-72", children: t })] }), Ux = () => u.jsx("div", { className: "flex justify-center items-center h-full", children: u.jsx("div", { className: "animate-spin rounded-full h-12 w-12 border-b-2 border-blue-400" }) }), qx = ({ message: e }) => u.jsxs("div", { className: "flex justify-center items-center h-full text-red-400", children: [u.jsx(Mi, { className: "w-6 h-6 mr-2" }), u.jsxs("p", { children: ["Error loading data: ", e] })] }), RD = ({ message: e, icon: t = VY }) => u.jsxs("div", { className: "flex flex-col justify-center items-center h-full text-gray-500", children: [u.jsx(t, { className: "w-12 h-12 mb-4" }), u.jsx("p", { className: "font-semibold", children: "No Data Available" }), u.jsx("p", { className: "text-sm", children: e })] }), cRe = () => {
  const { data: e, isLoading: t } = br({ queryKey: ["keyMetrics"], queryFn: lEe }), { data: r, isLoading: n, error: s } = br({ queryKey: ["usersOverTime"], queryFn: cEe }), { data: i, isLoading: o, error: a } = br({ queryKey: ["subscriptionStatus"], queryFn: uEe }), { data: l, isLoading: c, error: d } = br({ queryKey: ["recentActivity"], queryFn: dEe }), f = ["#0088FE", "#00C49F", "#FFBB28", "#FF8042", "#8884d8"];
  return u.jsxs("div", { className: "p-6 space-y-6", children: [u.jsxs("header", { children: [u.jsx("h1", { className: "text-2xl font-bold text-gray-900 dark:text-white", children: "Admin Dashboard" }), u.jsx("p", { className: "text-gray-600 dark:text-gray-300", children: "An overview of your website's performance." })] }), u.jsx("div", { className: "grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6", children: t ? u.jsx("p", { className: "text-gray-900 dark:text-white", children: "Loading metrics..." }) : u.jsxs(u.Fragment, { children: [u.jsx(zm, { title: "Total Users", value: e == null ? void 0 : e.totalUsers.toLocaleString(), icon: Ag, color: "blue" }), u.jsx(zm, { title: "Active Subscribers", value: e == null ? void 0 : e.activeSubscribers.toLocaleString(), icon: JY, color: "green" }), u.jsx(zm, { title: "Total Revenue", value: `$${e == null ? void 0 : e.totalRevenue.toLocaleString()}`, icon: BY, color: "yellow" }), u.jsx(zm, { title: "Total Page Views", value: e == null ? void 0 : e.totalViews.toLocaleString(), icon: np, color: "purple" })] }) }), u.jsxs("div", { className: "grid grid-cols-1 lg:grid-cols-2 gap-6", children: [u.jsx($D, { title: "New Users (Last 30 Days)", icon: HY, children: n ? u.jsx(Ux, {}) : s ? u.jsx(qx, { message: s.message }) : r && r.length > 0 ? u.jsx(Y2, { width: "100%", height: "100%", children: u.jsxs(XSe, { data: r, children: [u.jsx(Cz, { strokeDasharray: "3 3", stroke: "#4A5568" }), u.jsx(rk, { dataKey: "date", stroke: "#A0AEC0", tick: { fontSize: 12 } }), u.jsx(nk, { stroke: "#A0AEC0", tick: { fontSize: 12 } }), u.jsx(K2, { contentStyle: { backgroundColor: "#1A202C", border: "1px solid #4A5568" } }), u.jsx(jh, { wrapperStyle: { fontSize: 14 } }), u.jsx(Rz, { type: "monotone", dataKey: "count", name: "New Users", stroke: "#3B82F6", strokeWidth: 2, dot: { r: 4 }, activeDot: { r: 8 } })] }) }) : u.jsx(RD, { message: "No new user data to display for this period." }) }), u.jsx($D, { title: "Subscription Status", icon: XY, children: o ? u.jsx(Ux, {}) : a ? u.jsx(qx, { message: a.message }) : i && i.length > 0 ? u.jsx(Y2, { width: "100%", height: "100%", children: u.jsxs(aEe, { children: [u.jsx(xz, { data: i, dataKey: "value", nameKey: "name", cx: "50%", cy: "50%", outerRadius: 100, fill: "#8884d8", labelLine: !1, label: ({ name: h, percent: p }) => `${h}: ${(p * 100).toFixed(0)}%`, children: i == null ? void 0 : i.map((h, p) => u.jsx(wb, { fill: f[p % f.length] }, `cell-${p}`)) }), u.jsx(K2, { contentStyle: { backgroundColor: "#1A202C", border: "1px solid #4A5568" } }), u.jsx(jh, { wrapperStyle: { fontSize: 14 } })] }) }) : u.jsx(RD, { message: "No subscription data available." }) })] }), u.jsxs("div", { className: "bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700", children: [u.jsxs("div", { className: "flex items-center mb-4", children: [u.jsx(YY, { className: "w-5 h-5 mr-2 text-gray-600 dark:text-gray-300" }), u.jsx("h3", { className: "text-lg font-semibold text-gray-900 dark:text-white", children: "Recent Activity" })] }), u.jsx("div", { className: "space-y-4", children: c ? u.jsx(Ux, {}) : d ? u.jsx(qx, { message: d.message }) : l && l.length > 0 ? l.map((h) => {
    var p;
    return u.jsxs("div", { className: "flex items-center justify-between text-sm", children: [u.jsxs("p", { className: "text-gray-700 dark:text-gray-300", children: [u.jsx("span", { className: "font-semibold text-blue-600 dark:text-blue-400", children: h.actor_display_name || h.actor_username || "A user" }), " ", (p = h.action) == null ? void 0 : p.toLowerCase(), "."] }), u.jsx("p", { className: "text-gray-500 dark:text-gray-400", children: new Date(h.created_at).toLocaleString() })] }, h.id);
  }) : u.jsx("p", { className: "text-center text-gray-500 dark:text-gray-400 py-8", children: "No recent activity found." }) })] })] });
};
let fEe = { data: "" }, hEe = (e) => typeof window == "object" ? ((e ? e.querySelector("#_goober") : window._goober) || Object.assign((e || document.head).appendChild(document.createElement("style")), { innerHTML: " ", id: "_goober" })).firstChild : e || fEe, pEe = /(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g, mEe = /\/\*[^]*?\*\/|  +/g, ID = /\n+/g, Oa = (e, t) => {
  let r = "", n = "", s = "";
  for (let i in e) {
    let o = e[i];
    i[0] == "@" ? i[1] == "i" ? r = i + " " + o + ";" : n += i[1] == "f" ? Oa(o, i) : i + "{" + Oa(o, i[1] == "k" ? "" : t) + "}" : typeof o == "object" ? n += Oa(o, t ? t.replace(/([^,])+/g, (a) => i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g, (l) => /&/.test(l) ? l.replace(/&/g, a) : a ? a + " " + l : l)) : i) : o != null && (i = /^--/.test(i) ? i : i.replace(/[A-Z]/g, "-$&").toLowerCase(), s += Oa.p ? Oa.p(i, o) : i + ":" + o + ";");
  }
  return r + (t && s ? t + "{" + s + "}" : s) + n;
}, yo = {}, eU = (e) => {
  if (typeof e == "object") {
    let t = "";
    for (let r in e) t += r + eU(e[r]);
    return t;
  }
  return e;
}, gEe = (e, t, r, n, s) => {
  let i = eU(e), o = yo[i] || (yo[i] = ((l) => {
    let c = 0, d = 11;
    for (; c < l.length; ) d = 101 * d + l.charCodeAt(c++) >>> 0;
    return "go" + d;
  })(i));
  if (!yo[o]) {
    let l = i !== e ? e : ((c) => {
      let d, f, h = [{}];
      for (; d = pEe.exec(c.replace(mEe, "")); ) d[4] ? h.shift() : d[3] ? (f = d[3].replace(ID, " ").trim(), h.unshift(h[0][f] = h[0][f] || {})) : h[0][d[1]] = d[2].replace(ID, " ").trim();
      return h[0];
    })(e);
    yo[o] = Oa(s ? { ["@keyframes " + o]: l } : l, r ? "" : "." + o);
  }
  let a = r && yo.g ? yo.g : null;
  return r && (yo.g = yo[o]), ((l, c, d, f) => {
    f ? c.data = c.data.replace(f, l) : c.data.indexOf(l) === -1 && (c.data = d ? l + c.data : c.data + l);
  })(yo[o], t, n, a), o;
}, yEe = (e, t, r) => e.reduce((n, s, i) => {
  let o = t[i];
  if (o && o.call) {
    let a = o(r), l = a && a.props && a.props.className || /^go/.test(a) && a;
    o = l ? "." + l : a && typeof a == "object" ? a.props ? "" : Oa(a, "") : a === !1 ? "" : a;
  }
  return n + s + (o ?? "");
}, "");
function Sb(e) {
  let t = this || {}, r = e.call ? e(t.p) : e;
  return gEe(r.unshift ? r.raw ? yEe(r, [].slice.call(arguments, 1), t.p) : r.reduce((n, s) => Object.assign(n, s && s.call ? s(t.p) : s), {}) : r, hEe(t.target), t.g, t.o, t.k);
}
let tU, S_, E_;
Sb.bind({ g: 1 });
let Yo = Sb.bind({ k: 1 });
function vEe(e, t, r, n) {
  Oa.p = t, tU = e, S_ = r, E_ = n;
}
function pl(e, t) {
  let r = this || {};
  return function() {
    let n = arguments;
    function s(i, o) {
      let a = Object.assign({}, i), l = a.className || s.className;
      r.p = Object.assign({ theme: S_ && S_() }, a), r.o = / *go\d+/.test(l), a.className = Sb.apply(r, n) + (l ? " " + l : "");
      let c = e;
      return e[0] && (c = a.as || e, delete a.as), E_ && c[0] && E_(a), tU(c, a);
    }
    return s;
  };
}
var bEe = (e) => typeof e == "function", Dy = (e, t) => bEe(e) ? e(t) : e, xEe = /* @__PURE__ */ (() => {
  let e = 0;
  return () => (++e).toString();
})(), rU = /* @__PURE__ */ (() => {
  let e;
  return () => {
    if (e === void 0 && typeof window < "u") {
      let t = matchMedia("(prefers-reduced-motion: reduce)");
      e = !t || t.matches;
    }
    return e;
  };
})(), wEe = 20, ak = "default", nU = (e, t) => {
  let { toastLimit: r } = e.settings;
  switch (t.type) {
    case 0:
      return { ...e, toasts: [t.toast, ...e.toasts].slice(0, r) };
    case 1:
      return { ...e, toasts: e.toasts.map((o) => o.id === t.toast.id ? { ...o, ...t.toast } : o) };
    case 2:
      let { toast: n } = t;
      return nU(e, { type: e.toasts.find((o) => o.id === n.id) ? 1 : 0, toast: n });
    case 3:
      let { toastId: s } = t;
      return { ...e, toasts: e.toasts.map((o) => o.id === s || s === void 0 ? { ...o, dismissed: !0, visible: !1 } : o) };
    case 4:
      return t.toastId === void 0 ? { ...e, toasts: [] } : { ...e, toasts: e.toasts.filter((o) => o.id !== t.toastId) };
    case 5:
      return { ...e, pausedAt: t.time };
    case 6:
      let i = t.time - (e.pausedAt || 0);
      return { ...e, pausedAt: void 0, toasts: e.toasts.map((o) => ({ ...o, pauseDuration: o.pauseDuration + i })) };
  }
}, pg = [], sU = { toasts: [], pausedAt: void 0, settings: { toastLimit: wEe } }, zi = {}, iU = (e, t = ak) => {
  zi[t] = nU(zi[t] || sU, e), pg.forEach(([r, n]) => {
    r === t && n(zi[t]);
  });
}, oU = (e) => Object.keys(zi).forEach((t) => iU(e, t)), _Ee = (e) => Object.keys(zi).find((t) => zi[t].toasts.some((r) => r.id === e)), Eb = (e = ak) => (t) => {
  iU(t, e);
}, SEe = { blank: 4e3, error: 4e3, success: 2e3, loading: 1 / 0, custom: 4e3 }, EEe = (e = {}, t = ak) => {
  let [r, n] = L(zi[t] || sU), s = We(zi[t]);
  ve(() => (s.current !== zi[t] && n(zi[t]), pg.push([t, n]), () => {
    let o = pg.findIndex(([a]) => a === t);
    o > -1 && pg.splice(o, 1);
  }), [t]);
  let i = r.toasts.map((o) => {
    var a, l, c;
    return { ...e, ...e[o.type], ...o, removeDelay: o.removeDelay || ((a = e[o.type]) == null ? void 0 : a.removeDelay) || (e == null ? void 0 : e.removeDelay), duration: o.duration || ((l = e[o.type]) == null ? void 0 : l.duration) || (e == null ? void 0 : e.duration) || SEe[o.type], style: { ...e.style, ...(c = e[o.type]) == null ? void 0 : c.style, ...o.style } };
  });
  return { ...r, toasts: i };
}, jEe = (e, t = "blank", r) => ({ createdAt: Date.now(), visible: !0, dismissed: !1, type: t, ariaProps: { role: "status", "aria-live": "polite" }, message: e, pauseDuration: 0, ...r, id: (r == null ? void 0 : r.id) || xEe() }), kp = (e) => (t, r) => {
  let n = jEe(t, e, r);
  return Eb(n.toasterId || _Ee(n.id))({ type: 2, toast: n }), n.id;
}, Qt = (e, t) => kp("blank")(e, t);
Qt.error = kp("error");
Qt.success = kp("success");
Qt.loading = kp("loading");
Qt.custom = kp("custom");
Qt.dismiss = (e, t) => {
  let r = { type: 3, toastId: e };
  t ? Eb(t)(r) : oU(r);
};
Qt.dismissAll = (e) => Qt.dismiss(void 0, e);
Qt.remove = (e, t) => {
  let r = { type: 4, toastId: e };
  t ? Eb(t)(r) : oU(r);
};
Qt.removeAll = (e) => Qt.remove(void 0, e);
Qt.promise = (e, t, r) => {
  let n = Qt.loading(t.loading, { ...r, ...r == null ? void 0 : r.loading });
  return typeof e == "function" && (e = e()), e.then((s) => {
    let i = t.success ? Dy(t.success, s) : void 0;
    return i ? Qt.success(i, { id: n, ...r, ...r == null ? void 0 : r.success }) : Qt.dismiss(n), s;
  }).catch((s) => {
    let i = t.error ? Dy(t.error, s) : void 0;
    i ? Qt.error(i, { id: n, ...r, ...r == null ? void 0 : r.error }) : Qt.dismiss(n);
  }), e;
};
var NEe = 1e3, kEe = (e, t = "default") => {
  let { toasts: r, pausedAt: n } = EEe(e, t), s = We(/* @__PURE__ */ new Map()).current, i = ze((f, h = NEe) => {
    if (s.has(f)) return;
    let p = setTimeout(() => {
      s.delete(f), o({ type: 4, toastId: f });
    }, h);
    s.set(f, p);
  }, []);
  ve(() => {
    if (n) return;
    let f = Date.now(), h = r.map((p) => {
      if (p.duration === 1 / 0) return;
      let g = (p.duration || 0) + p.pauseDuration - (f - p.createdAt);
      if (g < 0) {
        p.visible && Qt.dismiss(p.id);
        return;
      }
      return setTimeout(() => Qt.dismiss(p.id, t), g);
    });
    return () => {
      h.forEach((p) => p && clearTimeout(p));
    };
  }, [r, n, t]);
  let o = ze(Eb(t), [t]), a = ze(() => {
    o({ type: 5, time: Date.now() });
  }, [o]), l = ze((f, h) => {
    o({ type: 1, toast: { id: f, height: h } });
  }, [o]), c = ze(() => {
    n && o({ type: 6, time: Date.now() });
  }, [n, o]), d = ze((f, h) => {
    let { reverseOrder: p = !1, gutter: g = 8, defaultPosition: m } = h || {}, y = r.filter((x) => (x.position || m) === (f.position || m) && x.height), v = y.findIndex((x) => x.id === f.id), b = y.filter((x, S) => S < v && x.visible).length;
    return y.filter((x) => x.visible).slice(...p ? [b + 1] : [0, b]).reduce((x, S) => x + (S.height || 0) + g, 0);
  }, [r]);
  return ve(() => {
    r.forEach((f) => {
      if (f.dismissed) i(f.id, f.removeDelay);
      else {
        let h = s.get(f.id);
        h && (clearTimeout(h), s.delete(f.id));
      }
    });
  }, [r, i]), { toasts: r, handlers: { updateHeight: l, startPause: a, endPause: c, calculateOffset: d } };
}, CEe = Yo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`, TEe = Yo`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`, AEe = Yo`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`, PEe = pl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${(e) => e.primary || "#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${CEe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${TEe} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${(e) => e.secondary || "#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${AEe} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`, OEe = Yo`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`, DEe = pl("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${(e) => e.secondary || "#e0e0e0"};
  border-right-color: ${(e) => e.primary || "#616161"};
  animation: ${OEe} 1s linear infinite;
`, $Ee = Yo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`, REe = Yo`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`, IEe = pl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${(e) => e.primary || "#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${$Ee} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${REe} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${(e) => e.secondary || "#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`, MEe = pl("div")`
  position: absolute;
`, LEe = pl("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`, FEe = Yo`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`, BEe = pl("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${FEe} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`, zEe = ({ toast: e }) => {
  let { icon: t, type: r, iconTheme: n } = e;
  return t !== void 0 ? typeof t == "string" ? _.createElement(BEe, null, t) : t : r === "blank" ? null : _.createElement(LEe, null, _.createElement(DEe, { ...n }), r !== "loading" && _.createElement(MEe, null, r === "error" ? _.createElement(PEe, { ...n }) : _.createElement(IEe, { ...n })));
}, UEe = (e) => `
0% {transform: translate3d(0,${e * -200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`, qEe = (e) => `
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e * -150}%,-1px) scale(.6); opacity:0;}
`, VEe = "0%{opacity:0;} 100%{opacity:1;}", WEe = "0%{opacity:1;} 100%{opacity:0;}", KEe = pl("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`, HEe = pl("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`, YEe = (e, t) => {
  let r = e.includes("top") ? 1 : -1, [n, s] = rU() ? [VEe, WEe] : [UEe(r), qEe(r)];
  return { animation: t ? `${Yo(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards` : `${Yo(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)` };
}, GEe = _.memo(({ toast: e, position: t, style: r, children: n }) => {
  let s = e.height ? YEe(e.position || t || "top-center", e.visible) : { opacity: 0 }, i = _.createElement(zEe, { toast: e }), o = _.createElement(HEe, { ...e.ariaProps }, Dy(e.message, e));
  return _.createElement(KEe, { className: e.className, style: { ...s, ...r, ...e.style } }, typeof n == "function" ? n({ icon: i, message: o }) : _.createElement(_.Fragment, null, i, o));
});
vEe(_.createElement);
var ZEe = ({ id: e, className: t, style: r, onHeightUpdate: n, children: s }) => {
  let i = _.useCallback((o) => {
    if (o) {
      let a = () => {
        let l = o.getBoundingClientRect().height;
        n(e, l);
      };
      a(), new MutationObserver(a).observe(o, { subtree: !0, childList: !0, characterData: !0 });
    }
  }, [e, n]);
  return _.createElement("div", { ref: i, className: t, style: r }, s);
}, XEe = (e, t) => {
  let r = e.includes("top"), n = r ? { top: 0 } : { bottom: 0 }, s = e.includes("center") ? { justifyContent: "center" } : e.includes("right") ? { justifyContent: "flex-end" } : {};
  return { left: 0, right: 0, display: "flex", position: "absolute", transition: rU() ? void 0 : "all 230ms cubic-bezier(.21,1.02,.73,1)", transform: `translateY(${t * (r ? 1 : -1)}px)`, ...n, ...s };
}, JEe = Sb`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`, Um = 16, QEe = ({ reverseOrder: e, position: t = "top-center", toastOptions: r, gutter: n, children: s, toasterId: i, containerStyle: o, containerClassName: a }) => {
  let { toasts: l, handlers: c } = kEe(r, i);
  return _.createElement("div", { "data-rht-toaster": i || "", style: { position: "fixed", zIndex: 9999, top: Um, left: Um, right: Um, bottom: Um, pointerEvents: "none", ...o }, className: a, onMouseEnter: c.startPause, onMouseLeave: c.endPause }, l.map((d) => {
    let f = d.position || t, h = c.calculateOffset(d, { reverseOrder: e, gutter: n, defaultPosition: t }), p = XEe(f, h);
    return _.createElement(ZEe, { id: d.id, key: d.id, onHeightUpdate: c.updateHeight, className: d.visible ? JEe : "", style: p }, d.type === "custom" ? Dy(d.message, d) : s ? s(d) : _.createElement(GEe, { toast: d, position: f }));
  }));
}, Ri = Qt;
function eje() {
  return { toast: ({ title: t, description: r, variant: n }) => {
    n === "destructive" ? Qt.error(t, {
      id: t,
      // Use title as ID to prevent duplicate toasts
      duration: 5e3,
      style: {
        background: "#fee2e2",
        // red-100
        color: "#ef4444",
        // red-500
        border: "1px solid #fca5a5"
        // red-300
      },
      iconTheme: {
        primary: "#ef4444",
        secondary: "#fee2e2"
      }
    }) : Qt.success(t, {
      id: t,
      duration: 3e3,
      style: {
        background: "#dcfce7",
        // green-100
        color: "#22c55e",
        // green-500
        border: "1px solid #86efac"
        // green-300
      },
      iconTheme: {
        primary: "#22c55e",
        secondary: "#dcfce7"
      }
    });
  } };
}
const ln = eje(), tje = async () => {
  const { data: e, error: t } = await he.from("homepage_content").select("*");
  if (t)
    throw new Error(t.message);
  return e;
}, rje = async (e) => {
  const { id: t, ...r } = e, { data: n, error: s } = await he.from("homepage_content").update(r).eq("id", t).select();
  if (s)
    throw new Error(s.message);
  return n[0];
}, nje = async (e) => {
  const { data: t, error: r } = await he.from("homepage_content").insert(e).select();
  if (r)
    throw new Error(r.message);
  return t[0];
}, sje = async () => {
  const { data: e, error: t } = await he.from("news_items").select("*").order("date", { ascending: !1 });
  if (t)
    throw new Error(t.message);
  return e;
}, ije = async (e) => {
  const { data: t, error: r } = await he.from("news_items").insert(e).select();
  if (r)
    throw new Error(r.message);
  return t[0];
}, oje = async (e) => {
  const { data: t, error: r } = await he.from("news_items").update(e).eq("id", e.id).select();
  if (r)
    throw new Error(r.message);
  return t[0];
}, aje = async (e) => {
  const { error: t } = await he.from("news_items").delete().eq("id", e);
  if (t)
    throw new Error(t.message);
}, lje = async () => {
  const { data: e, error: t } = await he.from("release_items").select("*").order("release_date", { ascending: !1 });
  if (t)
    throw new Error(t.message);
  return e;
}, cje = async (e) => {
  const { data: t, error: r } = await he.from("release_items").insert(e).select();
  if (r)
    throw new Error(r.message);
  return t[0];
}, uje = async (e) => {
  const { data: t, error: r } = await he.from("release_items").update(e).eq("id", e.id).select();
  if (r)
    throw new Error(r.message);
  return t[0];
}, dje = async (e) => {
  const { error: t } = await he.from("release_items").delete().eq("id", e);
  if (t)
    throw new Error(t.message);
}, uRe = () => {
  var W, K, ee, te, ue, V, H, se;
  const e = ea(), { data: t, isLoading: r, isError: n, error: s } = br({ queryKey: ["homepageContent"], queryFn: tje }), { data: i, isLoading: o, isError: a, error: l } = br({ queryKey: ["newsItems"], queryFn: sje }), { data: c, isLoading: d, isError: f, error: h } = br({ queryKey: ["releaseItems"], queryFn: lje }), p = ir({
    mutationFn: rje,
    onSuccess: () => {
      e.invalidateQueries({ queryKey: ["homepageContent"] }), ln.toast({ title: "Content updated successfully!", variant: "default" });
    },
    onError: (P) => {
      ln.toast({ title: `Error updating content: ${P.message}`, variant: "destructive" });
    }
  }), g = ir({
    mutationFn: nje,
    onSuccess: () => {
      e.invalidateQueries({ queryKey: ["homepageContent"] }), ln.toast({ title: "Content created successfully!", variant: "default" });
    },
    onError: (P) => {
      ln.toast({ title: `Error creating content: ${P.message}`, variant: "destructive" });
    }
  }), m = ir({
    mutationFn: ije,
    onSuccess: () => {
      e.invalidateQueries({ queryKey: ["newsItems"] }), ln.toast({ title: "News item added successfully!", variant: "default" }), q();
    },
    onError: (P) => {
      ln.toast({ title: `Error adding news item: ${P.message}`, variant: "destructive" });
    }
  }), y = ir({
    mutationFn: oje,
    onSuccess: () => {
      e.invalidateQueries({ queryKey: ["newsItems"] }), ln.toast({ title: "News item updated successfully!", variant: "default" }), q();
    },
    onError: (P) => {
      ln.toast({ title: `Error updating news item: ${P.message}`, variant: "destructive" });
    }
  }), v = ir({
    mutationFn: aje,
    onSuccess: () => {
      e.invalidateQueries({ queryKey: ["newsItems"] }), ln.toast({ title: "News item deleted successfully!", variant: "default" });
    },
    onError: (P) => {
      ln.toast({ title: `Error deleting news item: ${P.message}`, variant: "destructive" });
    }
  }), b = ir({
    mutationFn: cje,
    onSuccess: () => {
      e.invalidateQueries({ queryKey: ["releaseItems"] }), ln.toast({ title: "Release item added successfully!", variant: "default" }), B();
    },
    onError: (P) => {
      ln.toast({ title: `Error adding release item: ${P.message}`, variant: "destructive" });
    }
  }), x = ir({
    mutationFn: uje,
    onSuccess: () => {
      e.invalidateQueries({ queryKey: ["releaseItems"] }), ln.toast({ title: "Release item updated successfully!", variant: "default" }), B();
    },
    onError: (P) => {
      ln.toast({ title: `Error updating release item: ${P.message}`, variant: "destructive" });
    }
  }), S = ir({
    mutationFn: dje,
    onSuccess: () => {
      e.invalidateQueries({ queryKey: ["releaseItems"] }), ln.toast({ title: "Release item deleted successfully!", variant: "default" });
    },
    onError: (P) => {
      ln.toast({ title: `Error deleting release item: ${P.message}`, variant: "destructive" });
    }
  }), [w, j] = L(!1), [N, k] = L(null), [C, $] = L(!1), [I, M] = L(null), O = (P) => t == null ? void 0 : t.find((be) => be.section === P), z = async (P) => {
    P.preventDefault();
    const be = P.target, ke = be.heroTitle.value, Ve = be.heroDescription.value, He = be.heroButtonText.value, lt = be.heroButtonLink.value, Tt = [
      { section: "hero_title", content: ke },
      { section: "hero_description", content: Ve },
      { section: "hero_button_text", content: He },
      { section: "hero_button_link", content: lt }
    ];
    for (const Rt of Tt) {
      const R = O(Rt.section);
      R ? p.mutate({ ...R, content: Rt.content }) : g.mutate(Rt);
    }
  }, U = async (P) => {
    P.preventDefault();
    const be = P.target, ke = be.wordsWritten.value, Ve = be.betaReaders.value, He = be.averageRating.value, lt = be.booksPublished.value, Tt = [
      { section: "stat_words_written", content: ke },
      { section: "stat_beta_readers", content: Ve },
      { section: "stat_average_rating", content: He },
      { section: "stat_books_published", content: lt }
    ];
    for (const Rt of Tt) {
      const R = O(Rt.section);
      R ? p.mutate({ ...R, content: Rt.content }) : g.mutate(Rt);
    }
  }, G = (P = null) => {
    k(P), j(!0);
  }, q = () => {
    k(null), j(!1);
  }, Z = (P) => {
    P.preventDefault();
    const be = P.target, ke = be.newsTitle.value, Ve = be.newsContent.value, He = be.newsStatus.value, lt = be.newsDate.value, Tt = { title: ke, content: Ve, status: He, date: lt };
    N ? y.mutate({ ...N, ...Tt }) : m.mutate(Tt);
  }, ie = (P) => {
    window.confirm("Are you sure you want to delete this news item?") && v.mutate(P);
  }, D = (P = null) => {
    M(P), $(!0);
  }, B = () => {
    M(null), $(!1);
  }, X = (P) => {
    P.preventDefault();
    const be = P.target, ke = be.releaseTitle.value, Ve = be.releaseType.value, He = be.releaseStatus.value, lt = be.releaseDescription.value, Tt = be.releaseDate.value, Rt = be.purchaseLink.value, R = { title: ke, type: Ve, status: He, description: lt, release_date: Tt, purchase_link: Rt };
    I ? x.mutate({ ...I, ...R }) : b.mutate(R);
  }, oe = (P) => {
    window.confirm("Are you sure you want to delete this release item?") && S.mutate(P);
  };
  return r || o || d ? u.jsx("div", { className: "text-center py-8", children: "Loading homepage content manager..." }) : n ? u.jsxs("div", { className: "text-center py-8 text-red-500", children: ["Error: ", s == null ? void 0 : s.message] }) : a ? u.jsxs("div", { className: "text-center py-8 text-red-500", children: ["Error loading news: ", l == null ? void 0 : l.message] }) : f ? u.jsxs("div", { className: "text-center py-8 text-red-500", children: ["Error loading releases: ", h == null ? void 0 : h.message] }) : u.jsxs("div", { className: "container mx-auto px-4 py-8", children: [u.jsxs("div", { className: "bg-blue-100 border-l-4 border-blue-500 text-blue-700 p-4 mb-4", role: "alert", children: [u.jsx("strong", { children: "Note:" }), " Changes made here will be reflected on your homepage immediately after saving."] }), u.jsxs("div", { className: "bg-white rounded-lg shadow-md mb-8 overflow-hidden", children: [u.jsx("div", { className: "bg-blue-600 text-white p-4 font-semibold", children: "Hero Section" }), u.jsx("div", { className: "p-6", children: u.jsxs("form", { onSubmit: z, children: [u.jsxs("div", { className: "mb-4", children: [u.jsx("label", { htmlFor: "heroTitle", className: "block text-gray-700 text-sm font-bold mb-2", children: "Main Title" }), u.jsx("input", { type: "text", id: "heroTitle", className: "shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline", defaultValue: ((W = O("hero_title")) == null ? void 0 : W.content) || "" })] }), u.jsxs("div", { className: "mb-4", children: [u.jsx("label", { htmlFor: "heroDescription", className: "block text-gray-700 text-sm font-bold mb-2", children: "Subtitle/Description" }), u.jsx("textarea", { id: "heroDescription", className: "shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline h-32 resize-y", defaultValue: ((K = O("hero_description")) == null ? void 0 : K.content) || "" })] }), u.jsxs("div", { className: "mb-4", children: [u.jsx("label", { htmlFor: "heroButtonText", className: "block text-gray-700 text-sm font-bold mb-2", children: "Button Text" }), u.jsx("input", { type: "text", id: "heroButtonText", className: "shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline", defaultValue: ((ee = O("hero_button_text")) == null ? void 0 : ee.content) || "" })] }), u.jsxs("div", { className: "mb-6", children: [u.jsx("label", { htmlFor: "heroButtonLink", className: "block text-gray-700 text-sm font-bold mb-2", children: "Button Link" }), u.jsx("input", { type: "url", id: "heroButtonLink", className: "shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline", defaultValue: ((te = O("hero_button_link")) == null ? void 0 : te.content) || "" })] }), u.jsx("button", { type: "submit", className: "bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline", children: "Save Hero Section" })] }) })] }), u.jsxs("div", { className: "bg-white rounded-lg shadow-md mb-8 overflow-hidden", children: [u.jsx("div", { className: "bg-blue-600 text-white p-4 font-semibold", children: "Statistics" }), u.jsx("div", { className: "p-6", children: u.jsxs("form", { onSubmit: U, children: [u.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6", children: [u.jsxs("div", { className: "stat-item p-4 border border-gray-200 rounded-md", children: [u.jsx("label", { htmlFor: "wordsWritten", className: "block text-gray-700 text-sm font-bold mb-2", children: "Words Written" }), u.jsx("input", { type: "text", id: "wordsWritten", className: "shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline", defaultValue: ((ue = O("stat_words_written")) == null ? void 0 : ue.content) || "" })] }), u.jsxs("div", { className: "stat-item p-4 border border-gray-200 rounded-md", children: [u.jsx("label", { htmlFor: "betaReaders", className: "block text-gray-700 text-sm font-bold mb-2", children: "Beta Readers" }), u.jsx("input", { type: "text", id: "betaReaders", className: "shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline", defaultValue: ((V = O("stat_beta_readers")) == null ? void 0 : V.content) || "" })] }), u.jsxs("div", { className: "stat-item p-4 border border-gray-200 rounded-md", children: [u.jsx("label", { htmlFor: "averageRating", className: "block text-gray-700 text-sm font-bold mb-2", children: "Average Rating" }), u.jsx("input", { type: "text", id: "averageRating", className: "shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline", defaultValue: ((H = O("stat_average_rating")) == null ? void 0 : H.content) || "" })] }), u.jsxs("div", { className: "stat-item p-4 border border-gray-200 rounded-md", children: [u.jsx("label", { htmlFor: "booksPublished", className: "block text-gray-700 text-sm font-bold mb-2", children: "Books Published" }), u.jsx("input", { type: "text", id: "booksPublished", className: "shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline", defaultValue: ((se = O("stat_books_published")) == null ? void 0 : se.content) || "" })] })] }), u.jsx("button", { type: "submit", className: "bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline", children: "Save Statistics" })] }) })] }), u.jsxs("div", { className: "bg-white rounded-lg shadow-md mb-8 overflow-hidden", children: [u.jsx("div", { className: "bg-blue-600 text-white p-4 font-semibold", children: "Latest News & Updates" }), u.jsxs("div", { className: "p-6", children: [u.jsx("button", { onClick: () => G(), className: "bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline mb-4", children: "+ Add New Update" }), i == null ? void 0 : i.map((P) => u.jsxs("div", { className: "bg-gray-100 p-4 rounded-md mb-2 relative", children: [u.jsxs("div", { className: "absolute top-2 right-2 flex gap-2", children: [u.jsx("button", { onClick: () => G(P), className: "bg-blue-500 text-white px-2 py-1 rounded text-xs", children: "Edit" }), u.jsx("button", { onClick: () => ie(P.id), className: "bg-red-500 text-white px-2 py-1 rounded text-xs", children: "Delete" })] }), u.jsx("h3", { className: "font-bold text-lg mb-1", children: P.title }), u.jsx("p", { className: "text-gray-700 text-sm", children: P.content }), u.jsxs("small", { className: "text-gray-500", children: ["Status: ", P.status, " | Date: ", P.date] })] }, P.id))] })] }), u.jsxs("div", { className: "bg-white rounded-lg shadow-md mb-8 overflow-hidden", children: [u.jsx("div", { className: "bg-blue-600 text-white p-4 font-semibold", children: "Latest Releases" }), u.jsxs("div", { className: "p-6", children: [u.jsx("button", { onClick: () => D(), className: "bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline mb-4", children: "+ Add New Release" }), c == null ? void 0 : c.map((P) => u.jsxs("div", { className: "bg-gray-100 p-4 rounded-md mb-2 relative", children: [u.jsxs("div", { className: "absolute top-2 right-2 flex gap-2", children: [u.jsx("button", { onClick: () => D(P), className: "bg-blue-500 text-white px-2 py-1 rounded text-xs", children: "Edit" }), u.jsx("button", { onClick: () => oe(P.id), className: "bg-red-500 text-white px-2 py-1 rounded text-xs", children: "Delete" })] }), u.jsx("h3", { className: "font-bold text-lg mb-1", children: P.title }), u.jsxs("p", { className: "text-gray-700 text-sm", children: [u.jsx("strong", { children: "Type:" }), " ", P.type, " | ", u.jsx("strong", { children: "Status:" }), " ", P.status] }), u.jsxs("small", { className: "text-gray-500", children: ["Released: ", P.release_date] })] }, P.id))] })] }), w && u.jsx("div", { className: "fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50", children: u.jsxs("div", { className: "bg-white p-6 rounded-lg shadow-lg w-full max-w-md", children: [u.jsxs("div", { className: "flex justify-between items-center border-b pb-3 mb-4", children: [u.jsx("h2", { className: "text-xl font-bold", children: N ? "Edit Update" : "Add New Update" }), u.jsx("button", { onClick: q, className: "text-gray-500 hover:text-gray-700 text-2xl", children: "" })] }), u.jsxs("form", { onSubmit: Z, children: [u.jsxs("div", { className: "mb-4", children: [u.jsx("label", { htmlFor: "newsTitle", className: "block text-gray-700 text-sm font-bold mb-2", children: "Title" }), u.jsx("input", { type: "text", id: "newsTitle", className: "shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline", defaultValue: (N == null ? void 0 : N.title) || "", required: !0 })] }), u.jsxs("div", { className: "mb-4", children: [u.jsx("label", { htmlFor: "newsContent", className: "block text-gray-700 text-sm font-bold mb-2", children: "Content" }), u.jsx("textarea", { id: "newsContent", className: "shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline h-24 resize-y", defaultValue: (N == null ? void 0 : N.content) || "", required: !0 })] }), u.jsxs("div", { className: "grid grid-cols-2 gap-4 mb-4", children: [u.jsxs("div", { children: [u.jsx("label", { htmlFor: "newsStatus", className: "block text-gray-700 text-sm font-bold mb-2", children: "Status" }), u.jsxs("select", { id: "newsStatus", className: "shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline", defaultValue: (N == null ? void 0 : N.status) || "draft", children: [u.jsx("option", { value: "draft", children: "Draft" }), u.jsx("option", { value: "published", children: "Published" })] })] }), u.jsxs("div", { children: [u.jsx("label", { htmlFor: "newsDate", className: "block text-gray-700 text-sm font-bold mb-2", children: "Date" }), u.jsx("input", { type: "date", id: "newsDate", className: "shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline", defaultValue: (N == null ? void 0 : N.date) || (/* @__PURE__ */ new Date()).toISOString().split("T")[0], required: !0 })] })] }), u.jsxs("div", { className: "flex justify-end gap-2 mt-6", children: [u.jsx("button", { type: "button", onClick: q, className: "bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline", children: "Cancel" }), u.jsx("button", { type: "submit", className: "bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline", children: "Save Update" })] })] })] }) }), C && u.jsx("div", { className: "fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50", children: u.jsxs("div", { className: "bg-white p-6 rounded-lg shadow-lg w-full max-w-md", children: [u.jsxs("div", { className: "flex justify-between items-center border-b pb-3 mb-4", children: [u.jsx("h2", { className: "text-xl font-bold", children: I ? "Edit Release" : "Add New Release" }), u.jsx("button", { onClick: B, className: "text-gray-500 hover:text-gray-700 text-2xl", children: "" })] }), u.jsxs("form", { onSubmit: X, children: [u.jsxs("div", { className: "mb-4", children: [u.jsx("label", { htmlFor: "releaseTitle", className: "block text-gray-700 text-sm font-bold mb-2", children: "Title" }), u.jsx("input", { type: "text", id: "releaseTitle", className: "shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline", defaultValue: (I == null ? void 0 : I.title) || "", required: !0 })] }), u.jsxs("div", { className: "grid grid-cols-2 gap-4 mb-4", children: [u.jsxs("div", { children: [u.jsx("label", { htmlFor: "releaseType", className: "block text-gray-700 text-sm font-bold mb-2", children: "Type" }), u.jsxs("select", { id: "releaseType", className: "shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline", defaultValue: (I == null ? void 0 : I.type) || "issue", children: [u.jsx("option", { value: "issue", children: "Issue" }), u.jsx("option", { value: "arc", children: "Arc" }), u.jsx("option", { value: "volume", children: "Volume" })] })] }), u.jsxs("div", { children: [u.jsx("label", { htmlFor: "releaseStatus", className: "block text-gray-700 text-sm font-bold mb-2", children: "Status" }), u.jsxs("select", { id: "releaseStatus", className: "shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline", defaultValue: (I == null ? void 0 : I.status) || "available", children: [u.jsx("option", { value: "available", children: "Available" }), u.jsx("option", { value: "coming-soon", children: "Coming Soon" }), u.jsx("option", { value: "pre-order", children: "Pre-order" })] })] })] }), u.jsxs("div", { className: "mb-4", children: [u.jsx("label", { htmlFor: "releaseDescription", className: "block text-gray-700 text-sm font-bold mb-2", children: "Description" }), u.jsx("textarea", { id: "releaseDescription", className: "shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline h-24 resize-y", defaultValue: (I == null ? void 0 : I.description) || "" })] }), u.jsxs("div", { className: "grid grid-cols-2 gap-4 mb-4", children: [u.jsxs("div", { children: [u.jsx("label", { htmlFor: "releaseDate", className: "block text-gray-700 text-sm font-bold mb-2", children: "Release Date" }), u.jsx("input", { type: "date", id: "releaseDate", className: "shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline", defaultValue: (I == null ? void 0 : I.release_date) || (/* @__PURE__ */ new Date()).toISOString().split("T")[0], required: !0 })] }), u.jsxs("div", { children: [u.jsx("label", { htmlFor: "purchaseLink", className: "block text-gray-700 text-sm font-bold mb-2", children: "Purchase Link" }), u.jsx("input", { type: "url", id: "purchaseLink", className: "shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline", defaultValue: (I == null ? void 0 : I.purchase_link) || "" })] })] }), u.jsxs("div", { className: "flex justify-end gap-2 mt-6", children: [u.jsx("button", { type: "button", onClick: B, className: "bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline", children: "Cancel" }), u.jsx("button", { type: "submit", className: "bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline", children: "Save Release" })] })] })] }) })] });
};
var aU = typeof global == "object" && global && global.Object === Object && global, fje = typeof self == "object" && self && self.Object === Object && self, lo = aU || fje || Function("return this")(), el = lo.Symbol, lU = Object.prototype, hje = lU.hasOwnProperty, pje = lU.toString, hf = el ? el.toStringTag : void 0;
function mje(e) {
  var t = hje.call(e, hf), r = e[hf];
  try {
    e[hf] = void 0;
    var n = !0;
  } catch {
  }
  var s = pje.call(e);
  return n && (t ? e[hf] = r : delete e[hf]), s;
}
var gje = Object.prototype, yje = gje.toString;
function vje(e) {
  return yje.call(e);
}
var bje = "[object Null]", xje = "[object Undefined]", MD = el ? el.toStringTag : void 0;
function $d(e) {
  return e == null ? e === void 0 ? xje : bje : MD && MD in Object(e) ? mje(e) : vje(e);
}
function Go(e) {
  return e != null && typeof e == "object";
}
var fc = Array.isArray;
function ml(e) {
  var t = typeof e;
  return e != null && (t == "object" || t == "function");
}
function cU(e) {
  return e;
}
var wje = "[object AsyncFunction]", _je = "[object Function]", Sje = "[object GeneratorFunction]", Eje = "[object Proxy]";
function lk(e) {
  if (!ml(e))
    return !1;
  var t = $d(e);
  return t == _je || t == Sje || t == wje || t == Eje;
}
var Vx = lo["__core-js_shared__"], LD = function() {
  var e = /[^.]+$/.exec(Vx && Vx.keys && Vx.keys.IE_PROTO || "");
  return e ? "Symbol(src)_1." + e : "";
}();
function jje(e) {
  return !!LD && LD in e;
}
var Nje = Function.prototype, kje = Nje.toString;
function Nc(e) {
  if (e != null) {
    try {
      return kje.call(e);
    } catch {
    }
    try {
      return e + "";
    } catch {
    }
  }
  return "";
}
var Cje = /[\\^$.*+?()[\]{}|]/g, Tje = /^\[object .+?Constructor\]$/, Aje = Function.prototype, Pje = Object.prototype, Oje = Aje.toString, Dje = Pje.hasOwnProperty, $je = RegExp(
  "^" + Oje.call(Dje).replace(Cje, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"
);
function Rje(e) {
  if (!ml(e) || jje(e))
    return !1;
  var t = lk(e) ? $je : Tje;
  return t.test(Nc(e));
}
function Ije(e, t) {
  return e == null ? void 0 : e[t];
}
function kc(e, t) {
  var r = Ije(e, t);
  return Rje(r) ? r : void 0;
}
var j_ = kc(lo, "WeakMap"), FD = Object.create, Mje = /* @__PURE__ */ function() {
  function e() {
  }
  return function(t) {
    if (!ml(t))
      return {};
    if (FD)
      return FD(t);
    e.prototype = t;
    var r = new e();
    return e.prototype = void 0, r;
  };
}();
function Lje(e, t, r) {
  switch (r.length) {
    case 0:
      return e.call(t);
    case 1:
      return e.call(t, r[0]);
    case 2:
      return e.call(t, r[0], r[1]);
    case 3:
      return e.call(t, r[0], r[1], r[2]);
  }
  return e.apply(t, r);
}
function Fje(e, t) {
  var r = -1, n = e.length;
  for (t || (t = Array(n)); ++r < n; )
    t[r] = e[r];
  return t;
}
var Bje = 800, zje = 16, Uje = Date.now;
function qje(e) {
  var t = 0, r = 0;
  return function() {
    var n = Uje(), s = zje - (n - r);
    if (r = n, s > 0) {
      if (++t >= Bje)
        return arguments[0];
    } else
      t = 0;
    return e.apply(void 0, arguments);
  };
}
function Vje(e) {
  return function() {
    return e;
  };
}
var $y = function() {
  try {
    var e = kc(Object, "defineProperty");
    return e({}, "", {}), e;
  } catch {
  }
}(), Wje = $y ? function(e, t) {
  return $y(e, "toString", {
    configurable: !0,
    enumerable: !1,
    value: Vje(t),
    writable: !0
  });
} : cU, Kje = qje(Wje);
function Hje(e, t) {
  for (var r = -1, n = e == null ? 0 : e.length; ++r < n && t(e[r], r, e) !== !1; )
    ;
  return e;
}
var Yje = 9007199254740991, Gje = /^(?:0|[1-9]\d*)$/;
function uU(e, t) {
  var r = typeof e;
  return t = t ?? Yje, !!t && (r == "number" || r != "symbol" && Gje.test(e)) && e > -1 && e % 1 == 0 && e < t;
}
function ck(e, t, r) {
  t == "__proto__" && $y ? $y(e, t, {
    configurable: !0,
    enumerable: !0,
    value: r,
    writable: !0
  }) : e[t] = r;
}
function Cp(e, t) {
  return e === t || e !== e && t !== t;
}
var Zje = Object.prototype, Xje = Zje.hasOwnProperty;
function dU(e, t, r) {
  var n = e[t];
  (!(Xje.call(e, t) && Cp(n, r)) || r === void 0 && !(t in e)) && ck(e, t, r);
}
function Jje(e, t, r, n) {
  var s = !r;
  r || (r = {});
  for (var i = -1, o = t.length; ++i < o; ) {
    var a = t[i], l = void 0;
    l === void 0 && (l = e[a]), s ? ck(r, a, l) : dU(r, a, l);
  }
  return r;
}
var BD = Math.max;
function Qje(e, t, r) {
  return t = BD(t === void 0 ? e.length - 1 : t, 0), function() {
    for (var n = arguments, s = -1, i = BD(n.length - t, 0), o = Array(i); ++s < i; )
      o[s] = n[t + s];
    s = -1;
    for (var a = Array(t + 1); ++s < t; )
      a[s] = n[s];
    return a[t] = r(o), Lje(e, this, a);
  };
}
function eNe(e, t) {
  return Kje(Qje(e, t, cU), e + "");
}
var tNe = 9007199254740991;
function fU(e) {
  return typeof e == "number" && e > -1 && e % 1 == 0 && e <= tNe;
}
function jb(e) {
  return e != null && fU(e.length) && !lk(e);
}
function rNe(e, t, r) {
  if (!ml(r))
    return !1;
  var n = typeof t;
  return (n == "number" ? jb(r) && uU(t, r.length) : n == "string" && t in r) ? Cp(r[t], e) : !1;
}
function nNe(e) {
  return eNe(function(t, r) {
    var n = -1, s = r.length, i = s > 1 ? r[s - 1] : void 0, o = s > 2 ? r[2] : void 0;
    for (i = e.length > 3 && typeof i == "function" ? (s--, i) : void 0, o && rNe(r[0], r[1], o) && (i = s < 3 ? void 0 : i, s = 1), t = Object(t); ++n < s; ) {
      var a = r[n];
      a && e(t, a, n, i);
    }
    return t;
  });
}
var sNe = Object.prototype;
function uk(e) {
  var t = e && e.constructor, r = typeof t == "function" && t.prototype || sNe;
  return e === r;
}
function iNe(e, t) {
  for (var r = -1, n = Array(e); ++r < e; )
    n[r] = t(r);
  return n;
}
var oNe = "[object Arguments]";
function zD(e) {
  return Go(e) && $d(e) == oNe;
}
var hU = Object.prototype, aNe = hU.hasOwnProperty, lNe = hU.propertyIsEnumerable, N_ = zD(/* @__PURE__ */ function() {
  return arguments;
}()) ? zD : function(e) {
  return Go(e) && aNe.call(e, "callee") && !lNe.call(e, "callee");
};
function cNe() {
  return !1;
}
var pU = typeof exports == "object" && exports && !exports.nodeType && exports, UD = pU && typeof module == "object" && module && !module.nodeType && module, uNe = UD && UD.exports === pU, qD = uNe ? lo.Buffer : void 0, dNe = qD ? qD.isBuffer : void 0, Dh = dNe || cNe, fNe = "[object Arguments]", hNe = "[object Array]", pNe = "[object Boolean]", mNe = "[object Date]", gNe = "[object Error]", yNe = "[object Function]", vNe = "[object Map]", bNe = "[object Number]", xNe = "[object Object]", wNe = "[object RegExp]", _Ne = "[object Set]", SNe = "[object String]", ENe = "[object WeakMap]", jNe = "[object ArrayBuffer]", NNe = "[object DataView]", kNe = "[object Float32Array]", CNe = "[object Float64Array]", TNe = "[object Int8Array]", ANe = "[object Int16Array]", PNe = "[object Int32Array]", ONe = "[object Uint8Array]", DNe = "[object Uint8ClampedArray]", $Ne = "[object Uint16Array]", RNe = "[object Uint32Array]", Bt = {};
Bt[kNe] = Bt[CNe] = Bt[TNe] = Bt[ANe] = Bt[PNe] = Bt[ONe] = Bt[DNe] = Bt[$Ne] = Bt[RNe] = !0;
Bt[fNe] = Bt[hNe] = Bt[jNe] = Bt[pNe] = Bt[NNe] = Bt[mNe] = Bt[gNe] = Bt[yNe] = Bt[vNe] = Bt[bNe] = Bt[xNe] = Bt[wNe] = Bt[_Ne] = Bt[SNe] = Bt[ENe] = !1;
function INe(e) {
  return Go(e) && fU(e.length) && !!Bt[$d(e)];
}
function dk(e) {
  return function(t) {
    return e(t);
  };
}
var mU = typeof exports == "object" && exports && !exports.nodeType && exports, Xf = mU && typeof module == "object" && module && !module.nodeType && module, MNe = Xf && Xf.exports === mU, Wx = MNe && aU.process, nd = function() {
  try {
    var e = Xf && Xf.require && Xf.require("util").types;
    return e || Wx && Wx.binding && Wx.binding("util");
  } catch {
  }
}(), VD = nd && nd.isTypedArray, fk = VD ? dk(VD) : INe, LNe = Object.prototype, FNe = LNe.hasOwnProperty;
function gU(e, t) {
  var r = fc(e), n = !r && N_(e), s = !r && !n && Dh(e), i = !r && !n && !s && fk(e), o = r || n || s || i, a = o ? iNe(e.length, String) : [], l = a.length;
  for (var c in e)
    (t || FNe.call(e, c)) && !(o && // Safari 9 has enumerable `arguments.length` in strict mode.
    (c == "length" || // Node.js 0.10 has enumerable non-index properties on buffers.
    s && (c == "offset" || c == "parent") || // PhantomJS 2 has enumerable non-index properties on typed arrays.
    i && (c == "buffer" || c == "byteLength" || c == "byteOffset") || // Skip index properties.
    uU(c, l))) && a.push(c);
  return a;
}
function yU(e, t) {
  return function(r) {
    return e(t(r));
  };
}
var BNe = yU(Object.keys, Object), zNe = Object.prototype, UNe = zNe.hasOwnProperty;
function qNe(e) {
  if (!uk(e))
    return BNe(e);
  var t = [];
  for (var r in Object(e))
    UNe.call(e, r) && r != "constructor" && t.push(r);
  return t;
}
function VNe(e) {
  return jb(e) ? gU(e) : qNe(e);
}
function WNe(e) {
  var t = [];
  if (e != null)
    for (var r in Object(e))
      t.push(r);
  return t;
}
var KNe = Object.prototype, HNe = KNe.hasOwnProperty;
function YNe(e) {
  if (!ml(e))
    return WNe(e);
  var t = uk(e), r = [];
  for (var n in e)
    n == "constructor" && (t || !HNe.call(e, n)) || r.push(n);
  return r;
}
function vU(e) {
  return jb(e) ? gU(e, !0) : YNe(e);
}
var $h = kc(Object, "create");
function GNe() {
  this.__data__ = $h ? $h(null) : {}, this.size = 0;
}
function ZNe(e) {
  var t = this.has(e) && delete this.__data__[e];
  return this.size -= t ? 1 : 0, t;
}
var XNe = "__lodash_hash_undefined__", JNe = Object.prototype, QNe = JNe.hasOwnProperty;
function eke(e) {
  var t = this.__data__;
  if ($h) {
    var r = t[e];
    return r === XNe ? void 0 : r;
  }
  return QNe.call(t, e) ? t[e] : void 0;
}
var tke = Object.prototype, rke = tke.hasOwnProperty;
function nke(e) {
  var t = this.__data__;
  return $h ? t[e] !== void 0 : rke.call(t, e);
}
var ske = "__lodash_hash_undefined__";
function ike(e, t) {
  var r = this.__data__;
  return this.size += this.has(e) ? 0 : 1, r[e] = $h && t === void 0 ? ske : t, this;
}
function hc(e) {
  var t = -1, r = e == null ? 0 : e.length;
  for (this.clear(); ++t < r; ) {
    var n = e[t];
    this.set(n[0], n[1]);
  }
}
hc.prototype.clear = GNe;
hc.prototype.delete = ZNe;
hc.prototype.get = eke;
hc.prototype.has = nke;
hc.prototype.set = ike;
function oke() {
  this.__data__ = [], this.size = 0;
}
function Nb(e, t) {
  for (var r = e.length; r--; )
    if (Cp(e[r][0], t))
      return r;
  return -1;
}
var ake = Array.prototype, lke = ake.splice;
function cke(e) {
  var t = this.__data__, r = Nb(t, e);
  if (r < 0)
    return !1;
  var n = t.length - 1;
  return r == n ? t.pop() : lke.call(t, r, 1), --this.size, !0;
}
function uke(e) {
  var t = this.__data__, r = Nb(t, e);
  return r < 0 ? void 0 : t[r][1];
}
function dke(e) {
  return Nb(this.__data__, e) > -1;
}
function fke(e, t) {
  var r = this.__data__, n = Nb(r, e);
  return n < 0 ? (++this.size, r.push([e, t])) : r[n][1] = t, this;
}
function oa(e) {
  var t = -1, r = e == null ? 0 : e.length;
  for (this.clear(); ++t < r; ) {
    var n = e[t];
    this.set(n[0], n[1]);
  }
}
oa.prototype.clear = oke;
oa.prototype.delete = cke;
oa.prototype.get = uke;
oa.prototype.has = dke;
oa.prototype.set = fke;
var Rh = kc(lo, "Map");
function hke() {
  this.size = 0, this.__data__ = {
    hash: new hc(),
    map: new (Rh || oa)(),
    string: new hc()
  };
}
function pke(e) {
  var t = typeof e;
  return t == "string" || t == "number" || t == "symbol" || t == "boolean" ? e !== "__proto__" : e === null;
}
function kb(e, t) {
  var r = e.__data__;
  return pke(t) ? r[typeof t == "string" ? "string" : "hash"] : r.map;
}
function mke(e) {
  var t = kb(this, e).delete(e);
  return this.size -= t ? 1 : 0, t;
}
function gke(e) {
  return kb(this, e).get(e);
}
function yke(e) {
  return kb(this, e).has(e);
}
function vke(e, t) {
  var r = kb(this, e), n = r.size;
  return r.set(e, t), this.size += r.size == n ? 0 : 1, this;
}
function Cc(e) {
  var t = -1, r = e == null ? 0 : e.length;
  for (this.clear(); ++t < r; ) {
    var n = e[t];
    this.set(n[0], n[1]);
  }
}
Cc.prototype.clear = hke;
Cc.prototype.delete = mke;
Cc.prototype.get = gke;
Cc.prototype.has = yke;
Cc.prototype.set = vke;
function bke(e, t) {
  for (var r = -1, n = t.length, s = e.length; ++r < n; )
    e[s + r] = t[r];
  return e;
}
var bU = yU(Object.getPrototypeOf, Object), xke = "[object Object]", wke = Function.prototype, _ke = Object.prototype, xU = wke.toString, Ske = _ke.hasOwnProperty, Eke = xU.call(Object);
function jke(e) {
  if (!Go(e) || $d(e) != xke)
    return !1;
  var t = bU(e);
  if (t === null)
    return !0;
  var r = Ske.call(t, "constructor") && t.constructor;
  return typeof r == "function" && r instanceof r && xU.call(r) == Eke;
}
function Nke() {
  this.__data__ = new oa(), this.size = 0;
}
function kke(e) {
  var t = this.__data__, r = t.delete(e);
  return this.size = t.size, r;
}
function Cke(e) {
  return this.__data__.get(e);
}
function Tke(e) {
  return this.__data__.has(e);
}
var Ake = 200;
function Pke(e, t) {
  var r = this.__data__;
  if (r instanceof oa) {
    var n = r.__data__;
    if (!Rh || n.length < Ake - 1)
      return n.push([e, t]), this.size = ++r.size, this;
    r = this.__data__ = new Cc(n);
  }
  return r.set(e, t), this.size = r.size, this;
}
function Ki(e) {
  var t = this.__data__ = new oa(e);
  this.size = t.size;
}
Ki.prototype.clear = Nke;
Ki.prototype.delete = kke;
Ki.prototype.get = Cke;
Ki.prototype.has = Tke;
Ki.prototype.set = Pke;
var wU = typeof exports == "object" && exports && !exports.nodeType && exports, WD = wU && typeof module == "object" && module && !module.nodeType && module, Oke = WD && WD.exports === wU, KD = Oke ? lo.Buffer : void 0, HD = KD ? KD.allocUnsafe : void 0;
function _U(e, t) {
  if (t)
    return e.slice();
  var r = e.length, n = HD ? HD(r) : new e.constructor(r);
  return e.copy(n), n;
}
function Dke(e, t) {
  for (var r = -1, n = e == null ? 0 : e.length, s = 0, i = []; ++r < n; ) {
    var o = e[r];
    t(o, r, e) && (i[s++] = o);
  }
  return i;
}
function $ke() {
  return [];
}
var Rke = Object.prototype, Ike = Rke.propertyIsEnumerable, YD = Object.getOwnPropertySymbols, Mke = YD ? function(e) {
  return e == null ? [] : (e = Object(e), Dke(YD(e), function(t) {
    return Ike.call(e, t);
  }));
} : $ke;
function Lke(e, t, r) {
  var n = t(e);
  return fc(e) ? n : bke(n, r(e));
}
function k_(e) {
  return Lke(e, VNe, Mke);
}
var C_ = kc(lo, "DataView"), T_ = kc(lo, "Promise"), A_ = kc(lo, "Set"), GD = "[object Map]", Fke = "[object Object]", ZD = "[object Promise]", XD = "[object Set]", JD = "[object WeakMap]", QD = "[object DataView]", Bke = Nc(C_), zke = Nc(Rh), Uke = Nc(T_), qke = Nc(A_), Vke = Nc(j_), si = $d;
(C_ && si(new C_(new ArrayBuffer(1))) != QD || Rh && si(new Rh()) != GD || T_ && si(T_.resolve()) != ZD || A_ && si(new A_()) != XD || j_ && si(new j_()) != JD) && (si = function(e) {
  var t = $d(e), r = t == Fke ? e.constructor : void 0, n = r ? Nc(r) : "";
  if (n)
    switch (n) {
      case Bke:
        return QD;
      case zke:
        return GD;
      case Uke:
        return ZD;
      case qke:
        return XD;
      case Vke:
        return JD;
    }
  return t;
});
var Wke = Object.prototype, Kke = Wke.hasOwnProperty;
function Hke(e) {
  var t = e.length, r = new e.constructor(t);
  return t && typeof e[0] == "string" && Kke.call(e, "index") && (r.index = e.index, r.input = e.input), r;
}
var Ry = lo.Uint8Array;
function hk(e) {
  var t = new e.constructor(e.byteLength);
  return new Ry(t).set(new Ry(e)), t;
}
function Yke(e, t) {
  var r = hk(e.buffer);
  return new e.constructor(r, e.byteOffset, e.byteLength);
}
var Gke = /\w*$/;
function Zke(e) {
  var t = new e.constructor(e.source, Gke.exec(e));
  return t.lastIndex = e.lastIndex, t;
}
var e$ = el ? el.prototype : void 0, t$ = e$ ? e$.valueOf : void 0;
function Xke(e) {
  return t$ ? Object(t$.call(e)) : {};
}
function SU(e, t) {
  var r = t ? hk(e.buffer) : e.buffer;
  return new e.constructor(r, e.byteOffset, e.length);
}
var Jke = "[object Boolean]", Qke = "[object Date]", eCe = "[object Map]", tCe = "[object Number]", rCe = "[object RegExp]", nCe = "[object Set]", sCe = "[object String]", iCe = "[object Symbol]", oCe = "[object ArrayBuffer]", aCe = "[object DataView]", lCe = "[object Float32Array]", cCe = "[object Float64Array]", uCe = "[object Int8Array]", dCe = "[object Int16Array]", fCe = "[object Int32Array]", hCe = "[object Uint8Array]", pCe = "[object Uint8ClampedArray]", mCe = "[object Uint16Array]", gCe = "[object Uint32Array]";
function yCe(e, t, r) {
  var n = e.constructor;
  switch (t) {
    case oCe:
      return hk(e);
    case Jke:
    case Qke:
      return new n(+e);
    case aCe:
      return Yke(e);
    case lCe:
    case cCe:
    case uCe:
    case dCe:
    case fCe:
    case hCe:
    case pCe:
    case mCe:
    case gCe:
      return SU(e, r);
    case eCe:
      return new n();
    case tCe:
    case sCe:
      return new n(e);
    case rCe:
      return Zke(e);
    case nCe:
      return new n();
    case iCe:
      return Xke(e);
  }
}
function EU(e) {
  return typeof e.constructor == "function" && !uk(e) ? Mje(bU(e)) : {};
}
var vCe = "[object Map]";
function bCe(e) {
  return Go(e) && si(e) == vCe;
}
var r$ = nd && nd.isMap, xCe = r$ ? dk(r$) : bCe, wCe = "[object Set]";
function _Ce(e) {
  return Go(e) && si(e) == wCe;
}
var n$ = nd && nd.isSet, SCe = n$ ? dk(n$) : _Ce, ECe = 1, jU = "[object Arguments]", jCe = "[object Array]", NCe = "[object Boolean]", kCe = "[object Date]", CCe = "[object Error]", NU = "[object Function]", TCe = "[object GeneratorFunction]", ACe = "[object Map]", PCe = "[object Number]", kU = "[object Object]", OCe = "[object RegExp]", DCe = "[object Set]", $Ce = "[object String]", RCe = "[object Symbol]", ICe = "[object WeakMap]", MCe = "[object ArrayBuffer]", LCe = "[object DataView]", FCe = "[object Float32Array]", BCe = "[object Float64Array]", zCe = "[object Int8Array]", UCe = "[object Int16Array]", qCe = "[object Int32Array]", VCe = "[object Uint8Array]", WCe = "[object Uint8ClampedArray]", KCe = "[object Uint16Array]", HCe = "[object Uint32Array]", Pt = {};
Pt[jU] = Pt[jCe] = Pt[MCe] = Pt[LCe] = Pt[NCe] = Pt[kCe] = Pt[FCe] = Pt[BCe] = Pt[zCe] = Pt[UCe] = Pt[qCe] = Pt[ACe] = Pt[PCe] = Pt[kU] = Pt[OCe] = Pt[DCe] = Pt[$Ce] = Pt[RCe] = Pt[VCe] = Pt[WCe] = Pt[KCe] = Pt[HCe] = !0;
Pt[CCe] = Pt[NU] = Pt[ICe] = !1;
function mg(e, t, r, n, s, i) {
  var o, a = t & ECe;
  if (o !== void 0)
    return o;
  if (!ml(e))
    return e;
  var l = fc(e);
  if (l)
    o = Hke(e);
  else {
    var c = si(e), d = c == NU || c == TCe;
    if (Dh(e))
      return _U(e, a);
    if (c == kU || c == jU || d && !s)
      o = d ? {} : EU(e);
    else {
      if (!Pt[c])
        return s ? e : {};
      o = yCe(e, c, a);
    }
  }
  i || (i = new Ki());
  var f = i.get(e);
  if (f)
    return f;
  i.set(e, o), SCe(e) ? e.forEach(function(g) {
    o.add(mg(g, t, r, g, e, i));
  }) : xCe(e) && e.forEach(function(g, m) {
    o.set(m, mg(g, t, r, m, e, i));
  });
  var h = k_, p = l ? void 0 : h(e);
  return Hje(p || e, function(g, m) {
    p && (m = g, g = e[m]), dU(o, m, mg(g, t, r, m, e, i));
  }), o;
}
var YCe = 1, GCe = 4;
function Nu(e) {
  return mg(e, YCe | GCe);
}
var ZCe = "__lodash_hash_undefined__";
function XCe(e) {
  return this.__data__.set(e, ZCe), this;
}
function JCe(e) {
  return this.__data__.has(e);
}
function Iy(e) {
  var t = -1, r = e == null ? 0 : e.length;
  for (this.__data__ = new Cc(); ++t < r; )
    this.add(e[t]);
}
Iy.prototype.add = Iy.prototype.push = XCe;
Iy.prototype.has = JCe;
function QCe(e, t) {
  for (var r = -1, n = e == null ? 0 : e.length; ++r < n; )
    if (t(e[r], r, e))
      return !0;
  return !1;
}
function eTe(e, t) {
  return e.has(t);
}
var tTe = 1, rTe = 2;
function CU(e, t, r, n, s, i) {
  var o = r & tTe, a = e.length, l = t.length;
  if (a != l && !(o && l > a))
    return !1;
  var c = i.get(e), d = i.get(t);
  if (c && d)
    return c == t && d == e;
  var f = -1, h = !0, p = r & rTe ? new Iy() : void 0;
  for (i.set(e, t), i.set(t, e); ++f < a; ) {
    var g = e[f], m = t[f];
    if (n)
      var y = o ? n(m, g, f, t, e, i) : n(g, m, f, e, t, i);
    if (y !== void 0) {
      if (y)
        continue;
      h = !1;
      break;
    }
    if (p) {
      if (!QCe(t, function(v, b) {
        if (!eTe(p, b) && (g === v || s(g, v, r, n, i)))
          return p.push(b);
      })) {
        h = !1;
        break;
      }
    } else if (!(g === m || s(g, m, r, n, i))) {
      h = !1;
      break;
    }
  }
  return i.delete(e), i.delete(t), h;
}
function nTe(e) {
  var t = -1, r = Array(e.size);
  return e.forEach(function(n, s) {
    r[++t] = [s, n];
  }), r;
}
function sTe(e) {
  var t = -1, r = Array(e.size);
  return e.forEach(function(n) {
    r[++t] = n;
  }), r;
}
var iTe = 1, oTe = 2, aTe = "[object Boolean]", lTe = "[object Date]", cTe = "[object Error]", uTe = "[object Map]", dTe = "[object Number]", fTe = "[object RegExp]", hTe = "[object Set]", pTe = "[object String]", mTe = "[object Symbol]", gTe = "[object ArrayBuffer]", yTe = "[object DataView]", s$ = el ? el.prototype : void 0, Kx = s$ ? s$.valueOf : void 0;
function vTe(e, t, r, n, s, i, o) {
  switch (r) {
    case yTe:
      if (e.byteLength != t.byteLength || e.byteOffset != t.byteOffset)
        return !1;
      e = e.buffer, t = t.buffer;
    case gTe:
      return !(e.byteLength != t.byteLength || !i(new Ry(e), new Ry(t)));
    case aTe:
    case lTe:
    case dTe:
      return Cp(+e, +t);
    case cTe:
      return e.name == t.name && e.message == t.message;
    case fTe:
    case pTe:
      return e == t + "";
    case uTe:
      var a = nTe;
    case hTe:
      var l = n & iTe;
      if (a || (a = sTe), e.size != t.size && !l)
        return !1;
      var c = o.get(e);
      if (c)
        return c == t;
      n |= oTe, o.set(e, t);
      var d = CU(a(e), a(t), n, s, i, o);
      return o.delete(e), d;
    case mTe:
      if (Kx)
        return Kx.call(e) == Kx.call(t);
  }
  return !1;
}
var bTe = 1, xTe = Object.prototype, wTe = xTe.hasOwnProperty;
function _Te(e, t, r, n, s, i) {
  var o = r & bTe, a = k_(e), l = a.length, c = k_(t), d = c.length;
  if (l != d && !o)
    return !1;
  for (var f = l; f--; ) {
    var h = a[f];
    if (!(o ? h in t : wTe.call(t, h)))
      return !1;
  }
  var p = i.get(e), g = i.get(t);
  if (p && g)
    return p == t && g == e;
  var m = !0;
  i.set(e, t), i.set(t, e);
  for (var y = o; ++f < l; ) {
    h = a[f];
    var v = e[h], b = t[h];
    if (n)
      var x = o ? n(b, v, h, t, e, i) : n(v, b, h, e, t, i);
    if (!(x === void 0 ? v === b || s(v, b, r, n, i) : x)) {
      m = !1;
      break;
    }
    y || (y = h == "constructor");
  }
  if (m && !y) {
    var S = e.constructor, w = t.constructor;
    S != w && "constructor" in e && "constructor" in t && !(typeof S == "function" && S instanceof S && typeof w == "function" && w instanceof w) && (m = !1);
  }
  return i.delete(e), i.delete(t), m;
}
var STe = 1, i$ = "[object Arguments]", o$ = "[object Array]", qm = "[object Object]", ETe = Object.prototype, a$ = ETe.hasOwnProperty;
function jTe(e, t, r, n, s, i) {
  var o = fc(e), a = fc(t), l = o ? o$ : si(e), c = a ? o$ : si(t);
  l = l == i$ ? qm : l, c = c == i$ ? qm : c;
  var d = l == qm, f = c == qm, h = l == c;
  if (h && Dh(e)) {
    if (!Dh(t))
      return !1;
    o = !0, d = !1;
  }
  if (h && !d)
    return i || (i = new Ki()), o || fk(e) ? CU(e, t, r, n, s, i) : vTe(e, t, l, r, n, s, i);
  if (!(r & STe)) {
    var p = d && a$.call(e, "__wrapped__"), g = f && a$.call(t, "__wrapped__");
    if (p || g) {
      var m = p ? e.value() : e, y = g ? t.value() : t;
      return i || (i = new Ki()), s(m, y, r, n, i);
    }
  }
  return h ? (i || (i = new Ki()), _Te(e, t, r, n, s, i)) : !1;
}
function TU(e, t, r, n, s) {
  return e === t ? !0 : e == null || t == null || !Go(e) && !Go(t) ? e !== e && t !== t : jTe(e, t, r, n, TU, s);
}
function NTe(e) {
  return function(t, r, n) {
    for (var s = -1, i = Object(t), o = n(t), a = o.length; a--; ) {
      var l = o[++s];
      if (r(i[l], l, i) === !1)
        break;
    }
    return t;
  };
}
var kTe = NTe();
function P_(e, t, r) {
  (r !== void 0 && !Cp(e[t], r) || r === void 0 && !(t in e)) && ck(e, t, r);
}
function CTe(e) {
  return Go(e) && jb(e);
}
function O_(e, t) {
  if (!(t === "constructor" && typeof e[t] == "function") && t != "__proto__")
    return e[t];
}
function TTe(e) {
  return Jje(e, vU(e));
}
function ATe(e, t, r, n, s, i, o) {
  var a = O_(e, r), l = O_(t, r), c = o.get(l);
  if (c) {
    P_(e, r, c);
    return;
  }
  var d = i ? i(a, l, r + "", e, t, o) : void 0, f = d === void 0;
  if (f) {
    var h = fc(l), p = !h && Dh(l), g = !h && !p && fk(l);
    d = l, h || p || g ? fc(a) ? d = a : CTe(a) ? d = Fje(a) : p ? (f = !1, d = _U(l, !0)) : g ? (f = !1, d = SU(l, !0)) : d = [] : jke(l) || N_(l) ? (d = a, N_(a) ? d = TTe(a) : (!ml(a) || lk(a)) && (d = EU(l))) : f = !1;
  }
  f && (o.set(l, d), s(d, l, n, i, o), o.delete(l)), P_(e, r, d);
}
function AU(e, t, r, n, s) {
  e !== t && kTe(t, function(i, o) {
    if (s || (s = new Ki()), ml(i))
      ATe(e, t, o, r, AU, n, s);
    else {
      var a = n ? n(O_(e, o), i, o + "", e, t, s) : void 0;
      a === void 0 && (a = i), P_(e, o, a);
    }
  }, vU);
}
function Da(e, t) {
  return TU(e, t);
}
var Wa = nNe(function(e, t, r) {
  AU(e, t, r);
}), Re = /* @__PURE__ */ ((e) => (e[e.TYPE = 3] = "TYPE", e[e.LEVEL = 12] = "LEVEL", e[e.ATTRIBUTE = 13] = "ATTRIBUTE", e[e.BLOT = 14] = "BLOT", e[e.INLINE = 7] = "INLINE", e[e.BLOCK = 11] = "BLOCK", e[e.BLOCK_BLOT = 10] = "BLOCK_BLOT", e[e.INLINE_BLOT = 6] = "INLINE_BLOT", e[e.BLOCK_ATTRIBUTE = 9] = "BLOCK_ATTRIBUTE", e[e.INLINE_ATTRIBUTE = 5] = "INLINE_ATTRIBUTE", e[e.ANY = 15] = "ANY", e))(Re || {});
class Qi {
  constructor(t, r, n = {}) {
    this.attrName = t, this.keyName = r;
    const s = Re.TYPE & Re.ATTRIBUTE;
    this.scope = n.scope != null ? (
      // Ignore type bits, force attribute bit
      n.scope & Re.LEVEL | s
    ) : Re.ATTRIBUTE, n.whitelist != null && (this.whitelist = n.whitelist);
  }
  static keys(t) {
    return Array.from(t.attributes).map((r) => r.name);
  }
  add(t, r) {
    return this.canAdd(t, r) ? (t.setAttribute(this.keyName, r), !0) : !1;
  }
  canAdd(t, r) {
    return this.whitelist == null ? !0 : typeof r == "string" ? this.whitelist.indexOf(r.replace(/["']/g, "")) > -1 : this.whitelist.indexOf(r) > -1;
  }
  remove(t) {
    t.removeAttribute(this.keyName);
  }
  value(t) {
    const r = t.getAttribute(this.keyName);
    return this.canAdd(t, r) && r ? r : "";
  }
}
class ku extends Error {
  constructor(t) {
    t = "[Parchment] " + t, super(t), this.message = t, this.name = this.constructor.name;
  }
}
const PU = class D_ {
  constructor() {
    this.attributes = {}, this.classes = {}, this.tags = {}, this.types = {};
  }
  static find(t, r = !1) {
    if (t == null)
      return null;
    if (this.blots.has(t))
      return this.blots.get(t) || null;
    if (r) {
      let n = null;
      try {
        n = t.parentNode;
      } catch {
        return null;
      }
      return this.find(n, r);
    }
    return null;
  }
  create(t, r, n) {
    const s = this.query(r);
    if (s == null)
      throw new ku(`Unable to create ${r} blot`);
    const i = s, o = (
      // @ts-expect-error Fix me later
      r instanceof Node || r.nodeType === Node.TEXT_NODE ? r : i.create(n)
    ), a = new i(t, o, n);
    return D_.blots.set(a.domNode, a), a;
  }
  find(t, r = !1) {
    return D_.find(t, r);
  }
  query(t, r = Re.ANY) {
    let n;
    return typeof t == "string" ? n = this.types[t] || this.attributes[t] : t instanceof Text || t.nodeType === Node.TEXT_NODE ? n = this.types.text : typeof t == "number" ? t & Re.LEVEL & Re.BLOCK ? n = this.types.block : t & Re.LEVEL & Re.INLINE && (n = this.types.inline) : t instanceof Element && ((t.getAttribute("class") || "").split(/\s+/).some((s) => (n = this.classes[s], !!n)), n = n || this.tags[t.tagName]), n == null ? null : "scope" in n && r & Re.LEVEL & n.scope && r & Re.TYPE & n.scope ? n : null;
  }
  register(...t) {
    return t.map((r) => {
      const n = "blotName" in r, s = "attrName" in r;
      if (!n && !s)
        throw new ku("Invalid definition");
      if (n && r.blotName === "abstract")
        throw new ku("Cannot register abstract class");
      const i = n ? r.blotName : s ? r.attrName : void 0;
      return this.types[i] = r, s ? typeof r.keyName == "string" && (this.attributes[r.keyName] = r) : n && (r.className && (this.classes[r.className] = r), r.tagName && (Array.isArray(r.tagName) ? r.tagName = r.tagName.map((o) => o.toUpperCase()) : r.tagName = r.tagName.toUpperCase(), (Array.isArray(r.tagName) ? r.tagName : [r.tagName]).forEach((o) => {
        (this.tags[o] == null || r.className == null) && (this.tags[o] = r);
      }))), r;
    });
  }
};
PU.blots = /* @__PURE__ */ new WeakMap();
let sd = PU;
function l$(e, t) {
  return (e.getAttribute("class") || "").split(/\s+/).filter((r) => r.indexOf(`${t}-`) === 0);
}
class PTe extends Qi {
  static keys(t) {
    return (t.getAttribute("class") || "").split(/\s+/).map((r) => r.split("-").slice(0, -1).join("-"));
  }
  add(t, r) {
    return this.canAdd(t, r) ? (this.remove(t), t.classList.add(`${this.keyName}-${r}`), !0) : !1;
  }
  remove(t) {
    l$(t, this.keyName).forEach((r) => {
      t.classList.remove(r);
    }), t.classList.length === 0 && t.removeAttribute("class");
  }
  value(t) {
    const r = (l$(t, this.keyName)[0] || "").slice(this.keyName.length + 1);
    return this.canAdd(t, r) ? r : "";
  }
}
const Si = PTe;
function Hx(e) {
  const t = e.split("-"), r = t.slice(1).map((n) => n[0].toUpperCase() + n.slice(1)).join("");
  return t[0] + r;
}
class OTe extends Qi {
  static keys(t) {
    return (t.getAttribute("style") || "").split(";").map((r) => r.split(":")[0].trim());
  }
  add(t, r) {
    return this.canAdd(t, r) ? (t.style[Hx(this.keyName)] = r, !0) : !1;
  }
  remove(t) {
    t.style[Hx(this.keyName)] = "", t.getAttribute("style") || t.removeAttribute("style");
  }
  value(t) {
    const r = t.style[Hx(this.keyName)];
    return this.canAdd(t, r) ? r : "";
  }
}
const gl = OTe;
class DTe {
  constructor(t) {
    this.attributes = {}, this.domNode = t, this.build();
  }
  attribute(t, r) {
    r ? t.add(this.domNode, r) && (t.value(this.domNode) != null ? this.attributes[t.attrName] = t : delete this.attributes[t.attrName]) : (t.remove(this.domNode), delete this.attributes[t.attrName]);
  }
  build() {
    this.attributes = {};
    const t = sd.find(this.domNode);
    if (t == null)
      return;
    const r = Qi.keys(this.domNode), n = Si.keys(this.domNode), s = gl.keys(this.domNode);
    r.concat(n).concat(s).forEach((i) => {
      const o = t.scroll.query(i, Re.ATTRIBUTE);
      o instanceof Qi && (this.attributes[o.attrName] = o);
    });
  }
  copy(t) {
    Object.keys(this.attributes).forEach((r) => {
      const n = this.attributes[r].value(this.domNode);
      t.format(r, n);
    });
  }
  move(t) {
    this.copy(t), Object.keys(this.attributes).forEach((r) => {
      this.attributes[r].remove(this.domNode);
    }), this.attributes = {};
  }
  values() {
    return Object.keys(this.attributes).reduce(
      (t, r) => (t[r] = this.attributes[r].value(this.domNode), t),
      {}
    );
  }
}
const Cb = DTe, OU = class {
  constructor(t, r) {
    this.scroll = t, this.domNode = r, sd.blots.set(r, this), this.prev = null, this.next = null;
  }
  static create(t) {
    if (this.tagName == null)
      throw new ku("Blot definition missing tagName");
    let r, n;
    return Array.isArray(this.tagName) ? (typeof t == "string" ? (n = t.toUpperCase(), parseInt(n, 10).toString() === n && (n = parseInt(n, 10))) : typeof t == "number" && (n = t), typeof n == "number" ? r = document.createElement(this.tagName[n - 1]) : n && this.tagName.indexOf(n) > -1 ? r = document.createElement(n) : r = document.createElement(this.tagName[0])) : r = document.createElement(this.tagName), this.className && r.classList.add(this.className), r;
  }
  // Hack for accessing inherited static methods
  get statics() {
    return this.constructor;
  }
  attach() {
  }
  clone() {
    const t = this.domNode.cloneNode(!1);
    return this.scroll.create(t);
  }
  detach() {
    this.parent != null && this.parent.removeChild(this), sd.blots.delete(this.domNode);
  }
  deleteAt(t, r) {
    this.isolate(t, r).remove();
  }
  formatAt(t, r, n, s) {
    const i = this.isolate(t, r);
    if (this.scroll.query(n, Re.BLOT) != null && s)
      i.wrap(n, s);
    else if (this.scroll.query(n, Re.ATTRIBUTE) != null) {
      const o = this.scroll.create(this.statics.scope);
      i.wrap(o), o.format(n, s);
    }
  }
  insertAt(t, r, n) {
    const s = n == null ? this.scroll.create("text", r) : this.scroll.create(r, n), i = this.split(t);
    this.parent.insertBefore(s, i || void 0);
  }
  isolate(t, r) {
    const n = this.split(t);
    if (n == null)
      throw new Error("Attempt to isolate at end");
    return n.split(r), n;
  }
  length() {
    return 1;
  }
  offset(t = this.parent) {
    return this.parent == null || this === t ? 0 : this.parent.children.offset(this) + this.parent.offset(t);
  }
  optimize(t) {
    this.statics.requiredContainer && !(this.parent instanceof this.statics.requiredContainer) && this.wrap(this.statics.requiredContainer.blotName);
  }
  remove() {
    this.domNode.parentNode != null && this.domNode.parentNode.removeChild(this.domNode), this.detach();
  }
  replaceWith(t, r) {
    const n = typeof t == "string" ? this.scroll.create(t, r) : t;
    return this.parent != null && (this.parent.insertBefore(n, this.next || void 0), this.remove()), n;
  }
  split(t, r) {
    return t === 0 ? this : this.next;
  }
  update(t, r) {
  }
  wrap(t, r) {
    const n = typeof t == "string" ? this.scroll.create(t, r) : t;
    if (this.parent != null && this.parent.insertBefore(n, this.next || void 0), typeof n.appendChild != "function")
      throw new ku(`Cannot wrap ${t}`);
    return n.appendChild(this), n;
  }
};
OU.blotName = "abstract";
let DU = OU;
const $U = class extends DU {
  /**
   * Returns the value represented by domNode if it is this Blot's type
   * No checking that domNode can represent this Blot type is required so
   * applications needing it should check externally before calling.
   */
  static value(t) {
    return !0;
  }
  /**
   * Given location represented by node and offset from DOM Selection Range,
   * return index to that location.
   */
  index(t, r) {
    return this.domNode === t || this.domNode.compareDocumentPosition(t) & Node.DOCUMENT_POSITION_CONTAINED_BY ? Math.min(r, 1) : -1;
  }
  /**
   * Given index to location within blot, return node and offset representing
   * that location, consumable by DOM Selection Range
   */
  position(t, r) {
    let n = Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);
    return t > 0 && (n += 1), [this.parent.domNode, n];
  }
  /**
   * Return value represented by this blot
   * Should not change without interaction from API or
   * user change detectable by update()
   */
  value() {
    return {
      [this.statics.blotName]: this.statics.value(this.domNode) || !0
    };
  }
};
$U.scope = Re.INLINE_BLOT;
let $Te = $U;
const pn = $Te;
class RTe {
  constructor() {
    this.head = null, this.tail = null, this.length = 0;
  }
  append(...t) {
    if (this.insertBefore(t[0], null), t.length > 1) {
      const r = t.slice(1);
      this.append(...r);
    }
  }
  at(t) {
    const r = this.iterator();
    let n = r();
    for (; n && t > 0; )
      t -= 1, n = r();
    return n;
  }
  contains(t) {
    const r = this.iterator();
    let n = r();
    for (; n; ) {
      if (n === t)
        return !0;
      n = r();
    }
    return !1;
  }
  indexOf(t) {
    const r = this.iterator();
    let n = r(), s = 0;
    for (; n; ) {
      if (n === t)
        return s;
      s += 1, n = r();
    }
    return -1;
  }
  insertBefore(t, r) {
    t != null && (this.remove(t), t.next = r, r != null ? (t.prev = r.prev, r.prev != null && (r.prev.next = t), r.prev = t, r === this.head && (this.head = t)) : this.tail != null ? (this.tail.next = t, t.prev = this.tail, this.tail = t) : (t.prev = null, this.head = this.tail = t), this.length += 1);
  }
  offset(t) {
    let r = 0, n = this.head;
    for (; n != null; ) {
      if (n === t)
        return r;
      r += n.length(), n = n.next;
    }
    return -1;
  }
  remove(t) {
    this.contains(t) && (t.prev != null && (t.prev.next = t.next), t.next != null && (t.next.prev = t.prev), t === this.head && (this.head = t.next), t === this.tail && (this.tail = t.prev), this.length -= 1);
  }
  iterator(t = this.head) {
    return () => {
      const r = t;
      return t != null && (t = t.next), r;
    };
  }
  find(t, r = !1) {
    const n = this.iterator();
    let s = n();
    for (; s; ) {
      const i = s.length();
      if (t < i || r && t === i && (s.next == null || s.next.length() !== 0))
        return [s, t];
      t -= i, s = n();
    }
    return [null, 0];
  }
  forEach(t) {
    const r = this.iterator();
    let n = r();
    for (; n; )
      t(n), n = r();
  }
  forEachAt(t, r, n) {
    if (r <= 0)
      return;
    const [s, i] = this.find(t);
    let o = t - i;
    const a = this.iterator(s);
    let l = a();
    for (; l && o < t + r; ) {
      const c = l.length();
      t > o ? n(
        l,
        t - o,
        Math.min(r, o + c - t)
      ) : n(l, 0, Math.min(c, t + r - o)), o += c, l = a();
    }
  }
  map(t) {
    return this.reduce((r, n) => (r.push(t(n)), r), []);
  }
  reduce(t, r) {
    const n = this.iterator();
    let s = n();
    for (; s; )
      r = t(r, s), s = n();
    return r;
  }
}
function c$(e, t) {
  const r = t.find(e);
  if (r)
    return r;
  try {
    return t.create(e);
  } catch {
    const n = t.create(Re.INLINE);
    return Array.from(e.childNodes).forEach((s) => {
      n.domNode.appendChild(s);
    }), e.parentNode && e.parentNode.replaceChild(n.domNode, e), n.attach(), n;
  }
}
const RU = class Na extends DU {
  constructor(t, r) {
    super(t, r), this.uiNode = null, this.build();
  }
  appendChild(t) {
    this.insertBefore(t);
  }
  attach() {
    super.attach(), this.children.forEach((t) => {
      t.attach();
    });
  }
  attachUI(t) {
    this.uiNode != null && this.uiNode.remove(), this.uiNode = t, Na.uiClass && this.uiNode.classList.add(Na.uiClass), this.uiNode.setAttribute("contenteditable", "false"), this.domNode.insertBefore(this.uiNode, this.domNode.firstChild);
  }
  /**
   * Called during construction, should fill its own children LinkedList.
   */
  build() {
    this.children = new RTe(), Array.from(this.domNode.childNodes).filter((t) => t !== this.uiNode).reverse().forEach((t) => {
      try {
        const r = c$(t, this.scroll);
        this.insertBefore(r, this.children.head || void 0);
      } catch (r) {
        if (r instanceof ku)
          return;
        throw r;
      }
    });
  }
  deleteAt(t, r) {
    if (t === 0 && r === this.length())
      return this.remove();
    this.children.forEachAt(t, r, (n, s, i) => {
      n.deleteAt(s, i);
    });
  }
  descendant(t, r = 0) {
    const [n, s] = this.children.find(r);
    return t.blotName == null && t(n) || t.blotName != null && n instanceof t ? [n, s] : n instanceof Na ? n.descendant(t, s) : [null, -1];
  }
  descendants(t, r = 0, n = Number.MAX_VALUE) {
    let s = [], i = n;
    return this.children.forEachAt(
      r,
      n,
      (o, a, l) => {
        (t.blotName == null && t(o) || t.blotName != null && o instanceof t) && s.push(o), o instanceof Na && (s = s.concat(
          o.descendants(t, a, i)
        )), i -= l;
      }
    ), s;
  }
  detach() {
    this.children.forEach((t) => {
      t.detach();
    }), super.detach();
  }
  enforceAllowedChildren() {
    let t = !1;
    this.children.forEach((r) => {
      t || this.statics.allowedChildren.some(
        (n) => r instanceof n
      ) || (r.statics.scope === Re.BLOCK_BLOT ? (r.next != null && this.splitAfter(r), r.prev != null && this.splitAfter(r.prev), r.parent.unwrap(), t = !0) : r instanceof Na ? r.unwrap() : r.remove());
    });
  }
  formatAt(t, r, n, s) {
    this.children.forEachAt(t, r, (i, o, a) => {
      i.formatAt(o, a, n, s);
    });
  }
  insertAt(t, r, n) {
    const [s, i] = this.children.find(t);
    if (s)
      s.insertAt(i, r, n);
    else {
      const o = n == null ? this.scroll.create("text", r) : this.scroll.create(r, n);
      this.appendChild(o);
    }
  }
  insertBefore(t, r) {
    t.parent != null && t.parent.children.remove(t);
    let n = null;
    this.children.insertBefore(t, r || null), t.parent = this, r != null && (n = r.domNode), (this.domNode.parentNode !== t.domNode || this.domNode.nextSibling !== n) && this.domNode.insertBefore(t.domNode, n), t.attach();
  }
  length() {
    return this.children.reduce((t, r) => t + r.length(), 0);
  }
  moveChildren(t, r) {
    this.children.forEach((n) => {
      t.insertBefore(n, r);
    });
  }
  optimize(t) {
    if (super.optimize(t), this.enforceAllowedChildren(), this.uiNode != null && this.uiNode !== this.domNode.firstChild && this.domNode.insertBefore(this.uiNode, this.domNode.firstChild), this.children.length === 0)
      if (this.statics.defaultChild != null) {
        const r = this.scroll.create(this.statics.defaultChild.blotName);
        this.appendChild(r);
      } else
        this.remove();
  }
  path(t, r = !1) {
    const [n, s] = this.children.find(t, r), i = [[this, t]];
    return n instanceof Na ? i.concat(n.path(s, r)) : (n != null && i.push([n, s]), i);
  }
  removeChild(t) {
    this.children.remove(t);
  }
  replaceWith(t, r) {
    const n = typeof t == "string" ? this.scroll.create(t, r) : t;
    return n instanceof Na && this.moveChildren(n), super.replaceWith(n);
  }
  split(t, r = !1) {
    if (!r) {
      if (t === 0)
        return this;
      if (t === this.length())
        return this.next;
    }
    const n = this.clone();
    return this.parent && this.parent.insertBefore(n, this.next || void 0), this.children.forEachAt(t, this.length(), (s, i, o) => {
      const a = s.split(i, r);
      a != null && n.appendChild(a);
    }), n;
  }
  splitAfter(t) {
    const r = this.clone();
    for (; t.next != null; )
      r.appendChild(t.next);
    return this.parent && this.parent.insertBefore(r, this.next || void 0), r;
  }
  unwrap() {
    this.parent && this.moveChildren(this.parent, this.next || void 0), this.remove();
  }
  update(t, r) {
    const n = [], s = [];
    t.forEach((i) => {
      i.target === this.domNode && i.type === "childList" && (n.push(...i.addedNodes), s.push(...i.removedNodes));
    }), s.forEach((i) => {
      if (i.parentNode != null && // @ts-expect-error Fix me later
      i.tagName !== "IFRAME" && document.body.compareDocumentPosition(i) & Node.DOCUMENT_POSITION_CONTAINED_BY)
        return;
      const o = this.scroll.find(i);
      o != null && (o.domNode.parentNode == null || o.domNode.parentNode === this.domNode) && o.detach();
    }), n.filter((i) => i.parentNode === this.domNode && i !== this.uiNode).sort((i, o) => i === o ? 0 : i.compareDocumentPosition(o) & Node.DOCUMENT_POSITION_FOLLOWING ? 1 : -1).forEach((i) => {
      let o = null;
      i.nextSibling != null && (o = this.scroll.find(i.nextSibling));
      const a = c$(i, this.scroll);
      (a.next !== o || a.next == null) && (a.parent != null && a.parent.removeChild(this), this.insertBefore(a, o || void 0));
    }), this.enforceAllowedChildren();
  }
};
RU.uiClass = "";
let ITe = RU;
const di = ITe;
function MTe(e, t) {
  if (Object.keys(e).length !== Object.keys(t).length)
    return !1;
  for (const r in e)
    if (e[r] !== t[r])
      return !1;
  return !0;
}
const Jc = class Qc extends di {
  static create(t) {
    return super.create(t);
  }
  static formats(t, r) {
    const n = r.query(Qc.blotName);
    if (!(n != null && t.tagName === n.tagName)) {
      if (typeof this.tagName == "string")
        return !0;
      if (Array.isArray(this.tagName))
        return t.tagName.toLowerCase();
    }
  }
  constructor(t, r) {
    super(t, r), this.attributes = new Cb(this.domNode);
  }
  format(t, r) {
    if (t === this.statics.blotName && !r)
      this.children.forEach((n) => {
        n instanceof Qc || (n = n.wrap(Qc.blotName, !0)), this.attributes.copy(n);
      }), this.unwrap();
    else {
      const n = this.scroll.query(t, Re.INLINE);
      if (n == null)
        return;
      n instanceof Qi ? this.attributes.attribute(n, r) : r && (t !== this.statics.blotName || this.formats()[t] !== r) && this.replaceWith(t, r);
    }
  }
  formats() {
    const t = this.attributes.values(), r = this.statics.formats(this.domNode, this.scroll);
    return r != null && (t[this.statics.blotName] = r), t;
  }
  formatAt(t, r, n, s) {
    this.formats()[n] != null || this.scroll.query(n, Re.ATTRIBUTE) ? this.isolate(t, r).format(n, s) : super.formatAt(t, r, n, s);
  }
  optimize(t) {
    super.optimize(t);
    const r = this.formats();
    if (Object.keys(r).length === 0)
      return this.unwrap();
    const n = this.next;
    n instanceof Qc && n.prev === this && MTe(r, n.formats()) && (n.moveChildren(this), n.remove());
  }
  replaceWith(t, r) {
    const n = super.replaceWith(t, r);
    return this.attributes.copy(n), n;
  }
  update(t, r) {
    super.update(t, r), t.some(
      (n) => n.target === this.domNode && n.type === "attributes"
    ) && this.attributes.build();
  }
  wrap(t, r) {
    const n = super.wrap(t, r);
    return n instanceof Qc && this.attributes.move(n), n;
  }
};
Jc.allowedChildren = [Jc, pn], Jc.blotName = "inline", Jc.scope = Re.INLINE_BLOT, Jc.tagName = "SPAN";
let LTe = Jc;
const pk = LTe, eu = class $_ extends di {
  static create(t) {
    return super.create(t);
  }
  static formats(t, r) {
    const n = r.query($_.blotName);
    if (!(n != null && t.tagName === n.tagName)) {
      if (typeof this.tagName == "string")
        return !0;
      if (Array.isArray(this.tagName))
        return t.tagName.toLowerCase();
    }
  }
  constructor(t, r) {
    super(t, r), this.attributes = new Cb(this.domNode);
  }
  format(t, r) {
    const n = this.scroll.query(t, Re.BLOCK);
    n != null && (n instanceof Qi ? this.attributes.attribute(n, r) : t === this.statics.blotName && !r ? this.replaceWith($_.blotName) : r && (t !== this.statics.blotName || this.formats()[t] !== r) && this.replaceWith(t, r));
  }
  formats() {
    const t = this.attributes.values(), r = this.statics.formats(this.domNode, this.scroll);
    return r != null && (t[this.statics.blotName] = r), t;
  }
  formatAt(t, r, n, s) {
    this.scroll.query(n, Re.BLOCK) != null ? this.format(n, s) : super.formatAt(t, r, n, s);
  }
  insertAt(t, r, n) {
    if (n == null || this.scroll.query(r, Re.INLINE) != null)
      super.insertAt(t, r, n);
    else {
      const s = this.split(t);
      if (s != null) {
        const i = this.scroll.create(r, n);
        s.parent.insertBefore(i, s);
      } else
        throw new Error("Attempt to insertAt after block boundaries");
    }
  }
  replaceWith(t, r) {
    const n = super.replaceWith(t, r);
    return this.attributes.copy(n), n;
  }
  update(t, r) {
    super.update(t, r), t.some(
      (n) => n.target === this.domNode && n.type === "attributes"
    ) && this.attributes.build();
  }
};
eu.blotName = "block", eu.scope = Re.BLOCK_BLOT, eu.tagName = "P", eu.allowedChildren = [
  pk,
  eu,
  pn
];
let FTe = eu;
const Ih = FTe, R_ = class extends di {
  checkMerge() {
    return this.next !== null && this.next.statics.blotName === this.statics.blotName;
  }
  deleteAt(t, r) {
    super.deleteAt(t, r), this.enforceAllowedChildren();
  }
  formatAt(t, r, n, s) {
    super.formatAt(t, r, n, s), this.enforceAllowedChildren();
  }
  insertAt(t, r, n) {
    super.insertAt(t, r, n), this.enforceAllowedChildren();
  }
  optimize(t) {
    super.optimize(t), this.children.length > 0 && this.next != null && this.checkMerge() && (this.next.moveChildren(this), this.next.remove());
  }
};
R_.blotName = "container", R_.scope = Re.BLOCK_BLOT;
let BTe = R_;
const Tb = BTe;
class zTe extends pn {
  static formats(t, r) {
  }
  format(t, r) {
    super.formatAt(0, this.length(), t, r);
  }
  formatAt(t, r, n, s) {
    t === 0 && r === this.length() ? this.format(n, s) : super.formatAt(t, r, n, s);
  }
  formats() {
    return this.statics.formats(this.domNode, this.scroll);
  }
}
const ds = zTe, UTe = {
  attributes: !0,
  characterData: !0,
  characterDataOldValue: !0,
  childList: !0,
  subtree: !0
}, qTe = 100, tu = class extends di {
  constructor(t, r) {
    super(null, r), this.registry = t, this.scroll = this, this.build(), this.observer = new MutationObserver((n) => {
      this.update(n);
    }), this.observer.observe(this.domNode, UTe), this.attach();
  }
  create(t, r) {
    return this.registry.create(this, t, r);
  }
  find(t, r = !1) {
    const n = this.registry.find(t, r);
    return n ? n.scroll === this ? n : r ? this.find(n.scroll.domNode.parentNode, !0) : null : null;
  }
  query(t, r = Re.ANY) {
    return this.registry.query(t, r);
  }
  register(...t) {
    return this.registry.register(...t);
  }
  build() {
    this.scroll != null && super.build();
  }
  detach() {
    super.detach(), this.observer.disconnect();
  }
  deleteAt(t, r) {
    this.update(), t === 0 && r === this.length() ? this.children.forEach((n) => {
      n.remove();
    }) : super.deleteAt(t, r);
  }
  formatAt(t, r, n, s) {
    this.update(), super.formatAt(t, r, n, s);
  }
  insertAt(t, r, n) {
    this.update(), super.insertAt(t, r, n);
  }
  optimize(t = [], r = {}) {
    super.optimize(r);
    const n = r.mutationsMap || /* @__PURE__ */ new WeakMap();
    let s = Array.from(this.observer.takeRecords());
    for (; s.length > 0; )
      t.push(s.pop());
    const i = (l, c = !0) => {
      l == null || l === this || l.domNode.parentNode != null && (n.has(l.domNode) || n.set(l.domNode, []), c && i(l.parent));
    }, o = (l) => {
      n.has(l.domNode) && (l instanceof di && l.children.forEach(o), n.delete(l.domNode), l.optimize(r));
    };
    let a = t;
    for (let l = 0; a.length > 0; l += 1) {
      if (l >= qTe)
        throw new Error("[Parchment] Maximum optimize iterations reached");
      for (a.forEach((c) => {
        const d = this.find(c.target, !0);
        d != null && (d.domNode === c.target && (c.type === "childList" ? (i(this.find(c.previousSibling, !1)), Array.from(c.addedNodes).forEach((f) => {
          const h = this.find(f, !1);
          i(h, !1), h instanceof di && h.children.forEach((p) => {
            i(p, !1);
          });
        })) : c.type === "attributes" && i(d.prev)), i(d));
      }), this.children.forEach(o), a = Array.from(this.observer.takeRecords()), s = a.slice(); s.length > 0; )
        t.push(s.pop());
    }
  }
  update(t, r = {}) {
    t = t || this.observer.takeRecords();
    const n = /* @__PURE__ */ new WeakMap();
    t.map((s) => {
      const i = this.find(s.target, !0);
      return i == null ? null : n.has(i.domNode) ? (n.get(i.domNode).push(s), null) : (n.set(i.domNode, [s]), i);
    }).forEach((s) => {
      s != null && s !== this && n.has(s.domNode) && s.update(n.get(s.domNode) || [], r);
    }), r.mutationsMap = n, n.has(this.domNode) && super.update(n.get(this.domNode), r), this.optimize(t, r);
  }
};
tu.blotName = "scroll", tu.defaultChild = Ih, tu.allowedChildren = [Ih, Tb], tu.scope = Re.BLOCK_BLOT, tu.tagName = "DIV";
let VTe = tu;
const mk = VTe, I_ = class IU extends pn {
  static create(t) {
    return document.createTextNode(t);
  }
  static value(t) {
    return t.data;
  }
  constructor(t, r) {
    super(t, r), this.text = this.statics.value(this.domNode);
  }
  deleteAt(t, r) {
    this.domNode.data = this.text = this.text.slice(0, t) + this.text.slice(t + r);
  }
  index(t, r) {
    return this.domNode === t ? r : -1;
  }
  insertAt(t, r, n) {
    n == null ? (this.text = this.text.slice(0, t) + r + this.text.slice(t), this.domNode.data = this.text) : super.insertAt(t, r, n);
  }
  length() {
    return this.text.length;
  }
  optimize(t) {
    super.optimize(t), this.text = this.statics.value(this.domNode), this.text.length === 0 ? this.remove() : this.next instanceof IU && this.next.prev === this && (this.insertAt(this.length(), this.next.value()), this.next.remove());
  }
  position(t, r = !1) {
    return [this.domNode, t];
  }
  split(t, r = !1) {
    if (!r) {
      if (t === 0)
        return this;
      if (t === this.length())
        return this.next;
    }
    const n = this.scroll.create(this.domNode.splitText(t));
    return this.parent.insertBefore(n, this.next || void 0), this.text = this.statics.value(this.domNode), n;
  }
  update(t, r) {
    t.some((n) => n.type === "characterData" && n.target === this.domNode) && (this.text = this.statics.value(this.domNode));
  }
  value() {
    return this.text;
  }
};
I_.blotName = "text", I_.scope = Re.INLINE_BLOT;
let WTe = I_;
const My = WTe, KTe = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  Attributor: Qi,
  AttributorStore: Cb,
  BlockBlot: Ih,
  ClassAttributor: Si,
  ContainerBlot: Tb,
  EmbedBlot: ds,
  InlineBlot: pk,
  LeafBlot: pn,
  ParentBlot: di,
  Registry: sd,
  Scope: Re,
  ScrollBlot: mk,
  StyleAttributor: gl,
  TextBlot: My
}, Symbol.toStringTag, { value: "Module" }));
var M_ = { exports: {} }, os = -1, Tn = 1, Dr = 0;
function Mh(e, t, r, n, s) {
  if (e === t)
    return e ? [[Dr, e]] : [];
  if (r != null) {
    var i = tAe(e, t, r);
    if (i)
      return i;
  }
  var o = gk(e, t), a = e.substring(0, o);
  e = e.substring(o), t = t.substring(o), o = Ab(e, t);
  var l = e.substring(e.length - o);
  e = e.substring(0, e.length - o), t = t.substring(0, t.length - o);
  var c = HTe(e, t);
  return a && c.unshift([Dr, a]), l && c.push([Dr, l]), yk(c, s), n && ZTe(c), c;
}
function HTe(e, t) {
  var r;
  if (!e)
    return [[Tn, t]];
  if (!t)
    return [[os, e]];
  var n = e.length > t.length ? e : t, s = e.length > t.length ? t : e, i = n.indexOf(s);
  if (i !== -1)
    return r = [
      [Tn, n.substring(0, i)],
      [Dr, s],
      [Tn, n.substring(i + s.length)]
    ], e.length > t.length && (r[0][0] = r[2][0] = os), r;
  if (s.length === 1)
    return [
      [os, e],
      [Tn, t]
    ];
  var o = GTe(e, t);
  if (o) {
    var a = o[0], l = o[1], c = o[2], d = o[3], f = o[4], h = Mh(a, c), p = Mh(l, d);
    return h.concat([[Dr, f]], p);
  }
  return YTe(e, t);
}
function YTe(e, t) {
  for (var r = e.length, n = t.length, s = Math.ceil((r + n) / 2), i = s, o = 2 * s, a = new Array(o), l = new Array(o), c = 0; c < o; c++)
    a[c] = -1, l[c] = -1;
  a[i + 1] = 0, l[i + 1] = 0;
  for (var d = r - n, f = d % 2 !== 0, h = 0, p = 0, g = 0, m = 0, y = 0; y < s; y++) {
    for (var v = -y + h; v <= y - p; v += 2) {
      var b = i + v, x;
      v === -y || v !== y && a[b - 1] < a[b + 1] ? x = a[b + 1] : x = a[b - 1] + 1;
      for (var S = x - v; x < r && S < n && e.charAt(x) === t.charAt(S); )
        x++, S++;
      if (a[b] = x, x > r)
        p += 2;
      else if (S > n)
        h += 2;
      else if (f) {
        var w = i + d - v;
        if (w >= 0 && w < o && l[w] !== -1) {
          var j = r - l[w];
          if (x >= j)
            return u$(e, t, x, S);
        }
      }
    }
    for (var N = -y + g; N <= y - m; N += 2) {
      var w = i + N, j;
      N === -y || N !== y && l[w - 1] < l[w + 1] ? j = l[w + 1] : j = l[w - 1] + 1;
      for (var k = j - N; j < r && k < n && e.charAt(r - j - 1) === t.charAt(n - k - 1); )
        j++, k++;
      if (l[w] = j, j > r)
        m += 2;
      else if (k > n)
        g += 2;
      else if (!f) {
        var b = i + d - N;
        if (b >= 0 && b < o && a[b] !== -1) {
          var x = a[b], S = i + x - b;
          if (j = r - j, x >= j)
            return u$(e, t, x, S);
        }
      }
    }
  }
  return [
    [os, e],
    [Tn, t]
  ];
}
function u$(e, t, r, n) {
  var s = e.substring(0, r), i = t.substring(0, n), o = e.substring(r), a = t.substring(n), l = Mh(s, i), c = Mh(o, a);
  return l.concat(c);
}
function gk(e, t) {
  if (!e || !t || e.charAt(0) !== t.charAt(0))
    return 0;
  for (var r = 0, n = Math.min(e.length, t.length), s = n, i = 0; r < s; )
    e.substring(i, s) == t.substring(i, s) ? (r = s, i = r) : n = s, s = Math.floor((n - r) / 2 + r);
  return MU(e.charCodeAt(s - 1)) && s--, s;
}
function d$(e, t) {
  var r = e.length, n = t.length;
  if (r == 0 || n == 0)
    return 0;
  r > n ? e = e.substring(r - n) : r < n && (t = t.substring(0, r));
  var s = Math.min(r, n);
  if (e == t)
    return s;
  for (var i = 0, o = 1; ; ) {
    var a = e.substring(s - o), l = t.indexOf(a);
    if (l == -1)
      return i;
    o += l, (l == 0 || e.substring(s - o) == t.substring(0, o)) && (i = o, o++);
  }
}
function Ab(e, t) {
  if (!e || !t || e.slice(-1) !== t.slice(-1))
    return 0;
  for (var r = 0, n = Math.min(e.length, t.length), s = n, i = 0; r < s; )
    e.substring(e.length - s, e.length - i) == t.substring(t.length - s, t.length - i) ? (r = s, i = r) : n = s, s = Math.floor((n - r) / 2 + r);
  return LU(e.charCodeAt(e.length - s)) && s--, s;
}
function GTe(e, t) {
  var r = e.length > t.length ? e : t, n = e.length > t.length ? t : e;
  if (r.length < 4 || n.length * 2 < r.length)
    return null;
  function s(p, g, m) {
    for (var y = p.substring(m, m + Math.floor(p.length / 4)), v = -1, b = "", x, S, w, j; (v = g.indexOf(y, v + 1)) !== -1; ) {
      var N = gk(
        p.substring(m),
        g.substring(v)
      ), k = Ab(
        p.substring(0, m),
        g.substring(0, v)
      );
      b.length < k + N && (b = g.substring(v - k, v) + g.substring(v, v + N), x = p.substring(0, m - k), S = p.substring(m + N), w = g.substring(0, v - k), j = g.substring(v + N));
    }
    return b.length * 2 >= p.length ? [
      x,
      S,
      w,
      j,
      b
    ] : null;
  }
  var i = s(
    r,
    n,
    Math.ceil(r.length / 4)
  ), o = s(
    r,
    n,
    Math.ceil(r.length / 2)
  ), a;
  if (!i && !o)
    return null;
  o ? i ? a = i[4].length > o[4].length ? i : o : a = o : a = i;
  var l, c, d, f;
  e.length > t.length ? (l = a[0], c = a[1], d = a[2], f = a[3]) : (d = a[0], f = a[1], l = a[2], c = a[3]);
  var h = a[4];
  return [l, c, d, f, h];
}
function ZTe(e) {
  for (var t = !1, r = [], n = 0, s = null, i = 0, o = 0, a = 0, l = 0, c = 0; i < e.length; )
    e[i][0] == Dr ? (r[n++] = i, o = l, a = c, l = 0, c = 0, s = e[i][1]) : (e[i][0] == Tn ? l += e[i][1].length : c += e[i][1].length, s && s.length <= Math.max(o, a) && s.length <= Math.max(l, c) && (e.splice(r[n - 1], 0, [
      os,
      s
    ]), e[r[n - 1] + 1][0] = Tn, n--, n--, i = n > 0 ? r[n - 1] : -1, o = 0, a = 0, l = 0, c = 0, s = null, t = !0)), i++;
  for (t && yk(e), QTe(e), i = 1; i < e.length; ) {
    if (e[i - 1][0] == os && e[i][0] == Tn) {
      var d = e[i - 1][1], f = e[i][1], h = d$(d, f), p = d$(f, d);
      h >= p ? (h >= d.length / 2 || h >= f.length / 2) && (e.splice(i, 0, [
        Dr,
        f.substring(0, h)
      ]), e[i - 1][1] = d.substring(
        0,
        d.length - h
      ), e[i + 1][1] = f.substring(h), i++) : (p >= d.length / 2 || p >= f.length / 2) && (e.splice(i, 0, [
        Dr,
        d.substring(0, p)
      ]), e[i - 1][0] = Tn, e[i - 1][1] = f.substring(
        0,
        f.length - p
      ), e[i + 1][0] = os, e[i + 1][1] = d.substring(p), i++), i++;
    }
    i++;
  }
}
var f$ = /[^a-zA-Z0-9]/, h$ = /\s/, p$ = /[\r\n]/, XTe = /\n\r?\n$/, JTe = /^\r?\n\r?\n/;
function QTe(e) {
  function t(p, g) {
    if (!p || !g)
      return 6;
    var m = p.charAt(p.length - 1), y = g.charAt(0), v = m.match(f$), b = y.match(f$), x = v && m.match(h$), S = b && y.match(h$), w = x && m.match(p$), j = S && y.match(p$), N = w && p.match(XTe), k = j && g.match(JTe);
    return N || k ? 5 : w || j ? 4 : v && !x && S ? 3 : x || S ? 2 : v || b ? 1 : 0;
  }
  for (var r = 1; r < e.length - 1; ) {
    if (e[r - 1][0] == Dr && e[r + 1][0] == Dr) {
      var n = e[r - 1][1], s = e[r][1], i = e[r + 1][1], o = Ab(n, s);
      if (o) {
        var a = s.substring(s.length - o);
        n = n.substring(0, n.length - o), s = a + s.substring(0, s.length - o), i = a + i;
      }
      for (var l = n, c = s, d = i, f = t(n, s) + t(s, i); s.charAt(0) === i.charAt(0); ) {
        n += s.charAt(0), s = s.substring(1) + i.charAt(0), i = i.substring(1);
        var h = t(n, s) + t(s, i);
        h >= f && (f = h, l = n, c = s, d = i);
      }
      e[r - 1][1] != l && (l ? e[r - 1][1] = l : (e.splice(r - 1, 1), r--), e[r][1] = c, d ? e[r + 1][1] = d : (e.splice(r + 1, 1), r--));
    }
    r++;
  }
}
function yk(e, t) {
  e.push([Dr, ""]);
  for (var r = 0, n = 0, s = 0, i = "", o = "", a; r < e.length; ) {
    if (r < e.length - 1 && !e[r][1]) {
      e.splice(r, 1);
      continue;
    }
    switch (e[r][0]) {
      case Tn:
        s++, o += e[r][1], r++;
        break;
      case os:
        n++, i += e[r][1], r++;
        break;
      case Dr:
        var l = r - s - n - 1;
        if (t) {
          if (l >= 0 && BU(e[l][1])) {
            var c = e[l][1].slice(-1);
            if (e[l][1] = e[l][1].slice(
              0,
              -1
            ), i = c + i, o = c + o, !e[l][1]) {
              e.splice(l, 1), r--;
              var d = l - 1;
              e[d] && e[d][0] === Tn && (s++, o = e[d][1] + o, d--), e[d] && e[d][0] === os && (n++, i = e[d][1] + i, d--), l = d;
            }
          }
          if (FU(e[r][1])) {
            var c = e[r][1].charAt(0);
            e[r][1] = e[r][1].slice(1), i += c, o += c;
          }
        }
        if (r < e.length - 1 && !e[r][1]) {
          e.splice(r, 1);
          break;
        }
        if (i.length > 0 || o.length > 0) {
          i.length > 0 && o.length > 0 && (a = gk(o, i), a !== 0 && (l >= 0 ? e[l][1] += o.substring(
            0,
            a
          ) : (e.splice(0, 0, [
            Dr,
            o.substring(0, a)
          ]), r++), o = o.substring(a), i = i.substring(a)), a = Ab(o, i), a !== 0 && (e[r][1] = o.substring(o.length - a) + e[r][1], o = o.substring(
            0,
            o.length - a
          ), i = i.substring(
            0,
            i.length - a
          )));
          var f = s + n;
          i.length === 0 && o.length === 0 ? (e.splice(r - f, f), r = r - f) : i.length === 0 ? (e.splice(r - f, f, [Tn, o]), r = r - f + 1) : o.length === 0 ? (e.splice(r - f, f, [os, i]), r = r - f + 1) : (e.splice(
            r - f,
            f,
            [os, i],
            [Tn, o]
          ), r = r - f + 2);
        }
        r !== 0 && e[r - 1][0] === Dr ? (e[r - 1][1] += e[r][1], e.splice(r, 1)) : r++, s = 0, n = 0, i = "", o = "";
        break;
    }
  }
  e[e.length - 1][1] === "" && e.pop();
  var h = !1;
  for (r = 1; r < e.length - 1; )
    e[r - 1][0] === Dr && e[r + 1][0] === Dr && (e[r][1].substring(
      e[r][1].length - e[r - 1][1].length
    ) === e[r - 1][1] ? (e[r][1] = e[r - 1][1] + e[r][1].substring(
      0,
      e[r][1].length - e[r - 1][1].length
    ), e[r + 1][1] = e[r - 1][1] + e[r + 1][1], e.splice(r - 1, 1), h = !0) : e[r][1].substring(0, e[r + 1][1].length) == e[r + 1][1] && (e[r - 1][1] += e[r + 1][1], e[r][1] = e[r][1].substring(e[r + 1][1].length) + e[r + 1][1], e.splice(r + 1, 1), h = !0)), r++;
  h && yk(e, t);
}
function MU(e) {
  return e >= 55296 && e <= 56319;
}
function LU(e) {
  return e >= 56320 && e <= 57343;
}
function FU(e) {
  return LU(e.charCodeAt(0));
}
function BU(e) {
  return MU(e.charCodeAt(e.length - 1));
}
function eAe(e) {
  for (var t = [], r = 0; r < e.length; r++)
    e[r][1].length > 0 && t.push(e[r]);
  return t;
}
function Yx(e, t, r, n) {
  return BU(e) || FU(n) ? null : eAe([
    [Dr, e],
    [os, t],
    [Tn, r],
    [Dr, n]
  ]);
}
function tAe(e, t, r) {
  var n = typeof r == "number" ? { index: r, length: 0 } : r.oldRange, s = typeof r == "number" ? null : r.newRange, i = e.length, o = t.length;
  if (n.length === 0 && (s === null || s.length === 0)) {
    var a = n.index, l = e.slice(0, a), c = e.slice(a), d = s ? s.index : null;
    e: {
      var f = a + o - i;
      if (d !== null && d !== f || f < 0 || f > o)
        break e;
      var h = t.slice(0, f), p = t.slice(f);
      if (p !== c)
        break e;
      var g = Math.min(a, f), m = l.slice(0, g), y = h.slice(0, g);
      if (m !== y)
        break e;
      var v = l.slice(g), b = h.slice(g);
      return Yx(m, v, b, c);
    }
    e: {
      if (d !== null && d !== a)
        break e;
      var x = a, h = t.slice(0, x), p = t.slice(x);
      if (h !== l)
        break e;
      var S = Math.min(i - x, o - x), w = c.slice(c.length - S), j = p.slice(p.length - S);
      if (w !== j)
        break e;
      var v = c.slice(0, c.length - S), b = p.slice(0, p.length - S);
      return Yx(l, v, b, w);
    }
  }
  if (n.length > 0 && s && s.length === 0)
    e: {
      var m = e.slice(0, n.index), w = e.slice(n.index + n.length), g = m.length, S = w.length;
      if (o < g + S)
        break e;
      var y = t.slice(0, g), j = t.slice(o - S);
      if (m !== y || w !== j)
        break e;
      var v = e.slice(g, i - S), b = t.slice(g, o - S);
      return Yx(m, v, b, w);
    }
  return null;
}
function Pb(e, t, r, n) {
  return Mh(e, t, r, n, !0);
}
Pb.INSERT = Tn;
Pb.DELETE = os;
Pb.EQUAL = Dr;
var rAe = Pb, Ly = { exports: {} };
Ly.exports;
(function(e, t) {
  var r = 200, n = "__lodash_hash_undefined__", s = 9007199254740991, i = "[object Arguments]", o = "[object Array]", a = "[object Boolean]", l = "[object Date]", c = "[object Error]", d = "[object Function]", f = "[object GeneratorFunction]", h = "[object Map]", p = "[object Number]", g = "[object Object]", m = "[object Promise]", y = "[object RegExp]", v = "[object Set]", b = "[object String]", x = "[object Symbol]", S = "[object WeakMap]", w = "[object ArrayBuffer]", j = "[object DataView]", N = "[object Float32Array]", k = "[object Float64Array]", C = "[object Int8Array]", $ = "[object Int16Array]", I = "[object Int32Array]", M = "[object Uint8Array]", O = "[object Uint8ClampedArray]", z = "[object Uint16Array]", U = "[object Uint32Array]", G = /[\\^$.*+?()[\]{}|]/g, q = /\w*$/, Z = /^\[object .+?Constructor\]$/, ie = /^(?:0|[1-9]\d*)$/, D = {};
  D[i] = D[o] = D[w] = D[j] = D[a] = D[l] = D[N] = D[k] = D[C] = D[$] = D[I] = D[h] = D[p] = D[g] = D[y] = D[v] = D[b] = D[x] = D[M] = D[O] = D[z] = D[U] = !0, D[c] = D[d] = D[S] = !1;
  var B = typeof vr == "object" && vr && vr.Object === Object && vr, X = typeof self == "object" && self && self.Object === Object && self, oe = B || X || Function("return this")(), W = t && !t.nodeType && t, K = W && !0 && e && !e.nodeType && e, ee = K && K.exports === W;
  function te(E, T) {
    return E.set(T[0], T[1]), E;
  }
  function ue(E, T) {
    return E.add(T), E;
  }
  function V(E, T) {
    for (var F = -1, ne = E ? E.length : 0; ++F < ne && T(E[F], F, E) !== !1; )
      ;
    return E;
  }
  function H(E, T) {
    for (var F = -1, ne = T.length, Ge = E.length; ++F < ne; )
      E[Ge + F] = T[F];
    return E;
  }
  function se(E, T, F, ne) {
    for (var Ge = -1, Le = E ? E.length : 0; ++Ge < Le; )
      F = T(F, E[Ge], Ge, E);
    return F;
  }
  function P(E, T) {
    for (var F = -1, ne = Array(E); ++F < E; )
      ne[F] = T(F);
    return ne;
  }
  function be(E, T) {
    return E == null ? void 0 : E[T];
  }
  function ke(E) {
    var T = !1;
    if (E != null && typeof E.toString != "function")
      try {
        T = !!(E + "");
      } catch {
      }
    return T;
  }
  function Ve(E) {
    var T = -1, F = Array(E.size);
    return E.forEach(function(ne, Ge) {
      F[++T] = [Ge, ne];
    }), F;
  }
  function He(E, T) {
    return function(F) {
      return E(T(F));
    };
  }
  function lt(E) {
    var T = -1, F = Array(E.size);
    return E.forEach(function(ne) {
      F[++T] = ne;
    }), F;
  }
  var Tt = Array.prototype, Rt = Function.prototype, R = Object.prototype, Y = oe["__core-js_shared__"], J = function() {
    var E = /[^.]+$/.exec(Y && Y.keys && Y.keys.IE_PROTO || "");
    return E ? "Symbol(src)_1." + E : "";
  }(), xe = Rt.toString, pe = R.hasOwnProperty, me = R.toString, je = RegExp(
    "^" + xe.call(pe).replace(G, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"
  ), Ue = ee ? oe.Buffer : void 0, Je = oe.Symbol, Zt = oe.Uint8Array, It = He(Object.getPrototypeOf, Object), Zr = Object.create, ki = R.propertyIsEnumerable, fs = Tt.splice, hs = Object.getOwnPropertySymbols, Kn = Ue ? Ue.isBuffer : void 0, sn = He(Object.keys, Object), bn = Ks(oe, "DataView"), Br = Ks(oe, "Map"), Nr = Ks(oe, "Promise"), xn = Ks(oe, "Set"), Hn = Ks(oe, "WeakMap"), Yn = Ks(Object, "create"), ps = wn(bn), qs = wn(Br), ms = wn(Nr), co = wn(xn), gs = wn(Hn), Gn = Je ? Je.prototype : void 0, ca = Gn ? Gn.valueOf : void 0;
  function Zn(E) {
    var T = -1, F = E ? E.length : 0;
    for (this.clear(); ++T < F; ) {
      var ne = E[T];
      this.set(ne[0], ne[1]);
    }
  }
  function ua() {
    this.__data__ = Yn ? Yn(null) : {};
  }
  function Vs(E) {
    return this.has(E) && delete this.__data__[E];
  }
  function uo(E) {
    var T = this.__data__;
    if (Yn) {
      var F = T[E];
      return F === n ? void 0 : F;
    }
    return pe.call(T, E) ? T[E] : void 0;
  }
  function da(E) {
    var T = this.__data__;
    return Yn ? T[E] !== void 0 : pe.call(T, E);
  }
  function Ci(E, T) {
    var F = this.__data__;
    return F[E] = Yn && T === void 0 ? n : T, this;
  }
  Zn.prototype.clear = ua, Zn.prototype.delete = Vs, Zn.prototype.get = uo, Zn.prototype.has = da, Zn.prototype.set = Ci;
  function ae(E) {
    var T = -1, F = E ? E.length : 0;
    for (this.clear(); ++T < F; ) {
      var ne = E[T];
      this.set(ne[0], ne[1]);
    }
  }
  function A() {
    this.__data__ = [];
  }
  function re(E) {
    var T = this.__data__, F = Oc(T, E);
    if (F < 0)
      return !1;
    var ne = T.length - 1;
    return F == ne ? T.pop() : fs.call(T, F, 1), !0;
  }
  function ye(E) {
    var T = this.__data__, F = Oc(T, E);
    return F < 0 ? void 0 : T[F][1];
  }
  function Pe(E) {
    return Oc(this.__data__, E) > -1;
  }
  function Qe(E, T) {
    var F = this.__data__, ne = Oc(F, E);
    return ne < 0 ? F.push([E, T]) : F[ne][1] = T, this;
  }
  ae.prototype.clear = A, ae.prototype.delete = re, ae.prototype.get = ye, ae.prototype.has = Pe, ae.prototype.set = Qe;
  function Be(E) {
    var T = -1, F = E ? E.length : 0;
    for (this.clear(); ++T < F; ) {
      var ne = E[T];
      this.set(ne[0], ne[1]);
    }
  }
  function nt() {
    this.__data__ = {
      hash: new Zn(),
      map: new (Br || ae)(),
      string: new Zn()
    };
  }
  function tt(E) {
    return wl(this, E).delete(E);
  }
  function kr(E) {
    return wl(this, E).get(E);
  }
  function Mt(E) {
    return wl(this, E).has(E);
  }
  function qt(E, T) {
    return wl(this, E).set(E, T), this;
  }
  Be.prototype.clear = nt, Be.prototype.delete = tt, Be.prototype.get = kr, Be.prototype.has = Mt, Be.prototype.set = qt;
  function kt(E) {
    this.__data__ = new ae(E);
  }
  function Ti() {
    this.__data__ = new ae();
  }
  function Ws(E) {
    return this.__data__.delete(E);
  }
  function zr(E) {
    return this.__data__.get(E);
  }
  function bl(E) {
    return this.__data__.has(E);
  }
  function Bd(E, T) {
    var F = this.__data__;
    if (F instanceof ae) {
      var ne = F.__data__;
      if (!Br || ne.length < r - 1)
        return ne.push([E, T]), this;
      F = this.__data__ = new Be(ne);
    }
    return F.set(E, T), this;
  }
  kt.prototype.clear = Ti, kt.prototype.delete = Ws, kt.prototype.get = zr, kt.prototype.has = bl, kt.prototype.set = Bd;
  function fa(E, T) {
    var F = Vd(E) || $c(E) ? P(E.length, String) : [], ne = F.length, Ge = !!ne;
    for (var Le in E)
      pe.call(E, Le) && !(Ge && (Le == "length" || c0(Le, ne))) && F.push(Le);
    return F;
  }
  function Up(E, T, F) {
    var ne = E[T];
    (!(pe.call(E, T) && Hp(ne, F)) || F === void 0 && !(T in E)) && (E[T] = F);
  }
  function Oc(E, T) {
    for (var F = E.length; F--; )
      if (Hp(E[F][0], T))
        return F;
    return -1;
  }
  function Ai(E, T) {
    return E && qd(T, Kd(T), E);
  }
  function zd(E, T, F, ne, Ge, Le, ft) {
    var ct;
    if (ne && (ct = Le ? ne(E, Ge, Le, ft) : ne(E)), ct !== void 0)
      return ct;
    if (!Oi(E))
      return E;
    var mr = Vd(E);
    if (mr) {
      if (ct = a0(E), !T)
        return s0(E, ct);
    } else {
      var mt = ho(E), on = mt == d || mt == f;
      if (Yp(E))
        return Dc(E, T);
      if (mt == g || mt == i || on && !Le) {
        if (ke(E))
          return Le ? E : {};
        if (ct = Pi(on ? {} : E), !T)
          return i0(E, Ai(ct, E));
      } else {
        if (!D[mt])
          return Le ? E : {};
        ct = l0(E, mt, zd, T);
      }
    }
    ft || (ft = new kt());
    var Dn = ft.get(E);
    if (Dn)
      return Dn;
    if (ft.set(E, ct), !mr)
      var Cr = F ? o0(E) : Kd(E);
    return V(Cr || E, function(an, Xr) {
      Cr && (Xr = an, an = E[Xr]), Up(ct, Xr, zd(an, T, F, ne, Xr, E, ft));
    }), ct;
  }
  function Zb(E) {
    return Oi(E) ? Zr(E) : {};
  }
  function Xb(E, T, F) {
    var ne = T(E);
    return Vd(E) ? ne : H(ne, F(E));
  }
  function Jb(E) {
    return me.call(E);
  }
  function Qb(E) {
    if (!Oi(E) || d0(E))
      return !1;
    var T = Wd(E) || ke(E) ? je : Z;
    return T.test(wn(E));
  }
  function e0(E) {
    if (!Wp(E))
      return sn(E);
    var T = [];
    for (var F in Object(E))
      pe.call(E, F) && F != "constructor" && T.push(F);
    return T;
  }
  function Dc(E, T) {
    if (T)
      return E.slice();
    var F = new E.constructor(E.length);
    return E.copy(F), F;
  }
  function Ud(E) {
    var T = new E.constructor(E.byteLength);
    return new Zt(T).set(new Zt(E)), T;
  }
  function xl(E, T) {
    var F = T ? Ud(E.buffer) : E.buffer;
    return new E.constructor(F, E.byteOffset, E.byteLength);
  }
  function qp(E, T, F) {
    var ne = T ? F(Ve(E), !0) : Ve(E);
    return se(ne, te, new E.constructor());
  }
  function Vp(E) {
    var T = new E.constructor(E.source, q.exec(E));
    return T.lastIndex = E.lastIndex, T;
  }
  function t0(E, T, F) {
    var ne = T ? F(lt(E), !0) : lt(E);
    return se(ne, ue, new E.constructor());
  }
  function r0(E) {
    return ca ? Object(ca.call(E)) : {};
  }
  function n0(E, T) {
    var F = T ? Ud(E.buffer) : E.buffer;
    return new E.constructor(F, E.byteOffset, E.length);
  }
  function s0(E, T) {
    var F = -1, ne = E.length;
    for (T || (T = Array(ne)); ++F < ne; )
      T[F] = E[F];
    return T;
  }
  function qd(E, T, F, ne) {
    F || (F = {});
    for (var Ge = -1, Le = T.length; ++Ge < Le; ) {
      var ft = T[Ge], ct = void 0;
      Up(F, ft, ct === void 0 ? E[ft] : ct);
    }
    return F;
  }
  function i0(E, T) {
    return qd(E, fo(E), T);
  }
  function o0(E) {
    return Xb(E, Kd, fo);
  }
  function wl(E, T) {
    var F = E.__data__;
    return u0(T) ? F[typeof T == "string" ? "string" : "hash"] : F.map;
  }
  function Ks(E, T) {
    var F = be(E, T);
    return Qb(F) ? F : void 0;
  }
  var fo = hs ? He(hs, Object) : h0, ho = Jb;
  (bn && ho(new bn(new ArrayBuffer(1))) != j || Br && ho(new Br()) != h || Nr && ho(Nr.resolve()) != m || xn && ho(new xn()) != v || Hn && ho(new Hn()) != S) && (ho = function(E) {
    var T = me.call(E), F = T == g ? E.constructor : void 0, ne = F ? wn(F) : void 0;
    if (ne)
      switch (ne) {
        case ps:
          return j;
        case qs:
          return h;
        case ms:
          return m;
        case co:
          return v;
        case gs:
          return S;
      }
    return T;
  });
  function a0(E) {
    var T = E.length, F = E.constructor(T);
    return T && typeof E[0] == "string" && pe.call(E, "index") && (F.index = E.index, F.input = E.input), F;
  }
  function Pi(E) {
    return typeof E.constructor == "function" && !Wp(E) ? Zb(It(E)) : {};
  }
  function l0(E, T, F, ne) {
    var Ge = E.constructor;
    switch (T) {
      case w:
        return Ud(E);
      case a:
      case l:
        return new Ge(+E);
      case j:
        return xl(E, ne);
      case N:
      case k:
      case C:
      case $:
      case I:
      case M:
      case O:
      case z:
      case U:
        return n0(E, ne);
      case h:
        return qp(E, ne, F);
      case p:
      case b:
        return new Ge(E);
      case y:
        return Vp(E);
      case v:
        return t0(E, ne, F);
      case x:
        return r0(E);
    }
  }
  function c0(E, T) {
    return T = T ?? s, !!T && (typeof E == "number" || ie.test(E)) && E > -1 && E % 1 == 0 && E < T;
  }
  function u0(E) {
    var T = typeof E;
    return T == "string" || T == "number" || T == "symbol" || T == "boolean" ? E !== "__proto__" : E === null;
  }
  function d0(E) {
    return !!J && J in E;
  }
  function Wp(E) {
    var T = E && E.constructor, F = typeof T == "function" && T.prototype || R;
    return E === F;
  }
  function wn(E) {
    if (E != null) {
      try {
        return xe.call(E);
      } catch {
      }
      try {
        return E + "";
      } catch {
      }
    }
    return "";
  }
  function Kp(E) {
    return zd(E, !0, !0);
  }
  function Hp(E, T) {
    return E === T || E !== E && T !== T;
  }
  function $c(E) {
    return f0(E) && pe.call(E, "callee") && (!ki.call(E, "callee") || me.call(E) == i);
  }
  var Vd = Array.isArray;
  function Rc(E) {
    return E != null && Gp(E.length) && !Wd(E);
  }
  function f0(E) {
    return Zp(E) && Rc(E);
  }
  var Yp = Kn || p0;
  function Wd(E) {
    var T = Oi(E) ? me.call(E) : "";
    return T == d || T == f;
  }
  function Gp(E) {
    return typeof E == "number" && E > -1 && E % 1 == 0 && E <= s;
  }
  function Oi(E) {
    var T = typeof E;
    return !!E && (T == "object" || T == "function");
  }
  function Zp(E) {
    return !!E && typeof E == "object";
  }
  function Kd(E) {
    return Rc(E) ? fa(E) : e0(E);
  }
  function h0() {
    return [];
  }
  function p0() {
    return !1;
  }
  e.exports = Kp;
})(Ly, Ly.exports);
var zU = Ly.exports, Fy = { exports: {} };
Fy.exports;
(function(e, t) {
  var r = 200, n = "__lodash_hash_undefined__", s = 1, i = 2, o = 9007199254740991, a = "[object Arguments]", l = "[object Array]", c = "[object AsyncFunction]", d = "[object Boolean]", f = "[object Date]", h = "[object Error]", p = "[object Function]", g = "[object GeneratorFunction]", m = "[object Map]", y = "[object Number]", v = "[object Null]", b = "[object Object]", x = "[object Promise]", S = "[object Proxy]", w = "[object RegExp]", j = "[object Set]", N = "[object String]", k = "[object Symbol]", C = "[object Undefined]", $ = "[object WeakMap]", I = "[object ArrayBuffer]", M = "[object DataView]", O = "[object Float32Array]", z = "[object Float64Array]", U = "[object Int8Array]", G = "[object Int16Array]", q = "[object Int32Array]", Z = "[object Uint8Array]", ie = "[object Uint8ClampedArray]", D = "[object Uint16Array]", B = "[object Uint32Array]", X = /[\\^$.*+?()[\]{}|]/g, oe = /^\[object .+?Constructor\]$/, W = /^(?:0|[1-9]\d*)$/, K = {};
  K[O] = K[z] = K[U] = K[G] = K[q] = K[Z] = K[ie] = K[D] = K[B] = !0, K[a] = K[l] = K[I] = K[d] = K[M] = K[f] = K[h] = K[p] = K[m] = K[y] = K[b] = K[w] = K[j] = K[N] = K[$] = !1;
  var ee = typeof vr == "object" && vr && vr.Object === Object && vr, te = typeof self == "object" && self && self.Object === Object && self, ue = ee || te || Function("return this")(), V = t && !t.nodeType && t, H = V && !0 && e && !e.nodeType && e, se = H && H.exports === V, P = se && ee.process, be = function() {
    try {
      return P && P.binding && P.binding("util");
    } catch {
    }
  }(), ke = be && be.isTypedArray;
  function Ve(E, T) {
    for (var F = -1, ne = E == null ? 0 : E.length, Ge = 0, Le = []; ++F < ne; ) {
      var ft = E[F];
      T(ft, F, E) && (Le[Ge++] = ft);
    }
    return Le;
  }
  function He(E, T) {
    for (var F = -1, ne = T.length, Ge = E.length; ++F < ne; )
      E[Ge + F] = T[F];
    return E;
  }
  function lt(E, T) {
    for (var F = -1, ne = E == null ? 0 : E.length; ++F < ne; )
      if (T(E[F], F, E))
        return !0;
    return !1;
  }
  function Tt(E, T) {
    for (var F = -1, ne = Array(E); ++F < E; )
      ne[F] = T(F);
    return ne;
  }
  function Rt(E) {
    return function(T) {
      return E(T);
    };
  }
  function R(E, T) {
    return E.has(T);
  }
  function Y(E, T) {
    return E == null ? void 0 : E[T];
  }
  function J(E) {
    var T = -1, F = Array(E.size);
    return E.forEach(function(ne, Ge) {
      F[++T] = [Ge, ne];
    }), F;
  }
  function xe(E, T) {
    return function(F) {
      return E(T(F));
    };
  }
  function pe(E) {
    var T = -1, F = Array(E.size);
    return E.forEach(function(ne) {
      F[++T] = ne;
    }), F;
  }
  var me = Array.prototype, je = Function.prototype, Ue = Object.prototype, Je = ue["__core-js_shared__"], Zt = je.toString, It = Ue.hasOwnProperty, Zr = function() {
    var E = /[^.]+$/.exec(Je && Je.keys && Je.keys.IE_PROTO || "");
    return E ? "Symbol(src)_1." + E : "";
  }(), ki = Ue.toString, fs = RegExp(
    "^" + Zt.call(It).replace(X, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"
  ), hs = se ? ue.Buffer : void 0, Kn = ue.Symbol, sn = ue.Uint8Array, bn = Ue.propertyIsEnumerable, Br = me.splice, Nr = Kn ? Kn.toStringTag : void 0, xn = Object.getOwnPropertySymbols, Hn = hs ? hs.isBuffer : void 0, Yn = xe(Object.keys, Object), ps = fo(ue, "DataView"), qs = fo(ue, "Map"), ms = fo(ue, "Promise"), co = fo(ue, "Set"), gs = fo(ue, "WeakMap"), Gn = fo(Object, "create"), ca = wn(ps), Zn = wn(qs), ua = wn(ms), Vs = wn(co), uo = wn(gs), da = Kn ? Kn.prototype : void 0, Ci = da ? da.valueOf : void 0;
  function ae(E) {
    var T = -1, F = E == null ? 0 : E.length;
    for (this.clear(); ++T < F; ) {
      var ne = E[T];
      this.set(ne[0], ne[1]);
    }
  }
  function A() {
    this.__data__ = Gn ? Gn(null) : {}, this.size = 0;
  }
  function re(E) {
    var T = this.has(E) && delete this.__data__[E];
    return this.size -= T ? 1 : 0, T;
  }
  function ye(E) {
    var T = this.__data__;
    if (Gn) {
      var F = T[E];
      return F === n ? void 0 : F;
    }
    return It.call(T, E) ? T[E] : void 0;
  }
  function Pe(E) {
    var T = this.__data__;
    return Gn ? T[E] !== void 0 : It.call(T, E);
  }
  function Qe(E, T) {
    var F = this.__data__;
    return this.size += this.has(E) ? 0 : 1, F[E] = Gn && T === void 0 ? n : T, this;
  }
  ae.prototype.clear = A, ae.prototype.delete = re, ae.prototype.get = ye, ae.prototype.has = Pe, ae.prototype.set = Qe;
  function Be(E) {
    var T = -1, F = E == null ? 0 : E.length;
    for (this.clear(); ++T < F; ) {
      var ne = E[T];
      this.set(ne[0], ne[1]);
    }
  }
  function nt() {
    this.__data__ = [], this.size = 0;
  }
  function tt(E) {
    var T = this.__data__, F = Dc(T, E);
    if (F < 0)
      return !1;
    var ne = T.length - 1;
    return F == ne ? T.pop() : Br.call(T, F, 1), --this.size, !0;
  }
  function kr(E) {
    var T = this.__data__, F = Dc(T, E);
    return F < 0 ? void 0 : T[F][1];
  }
  function Mt(E) {
    return Dc(this.__data__, E) > -1;
  }
  function qt(E, T) {
    var F = this.__data__, ne = Dc(F, E);
    return ne < 0 ? (++this.size, F.push([E, T])) : F[ne][1] = T, this;
  }
  Be.prototype.clear = nt, Be.prototype.delete = tt, Be.prototype.get = kr, Be.prototype.has = Mt, Be.prototype.set = qt;
  function kt(E) {
    var T = -1, F = E == null ? 0 : E.length;
    for (this.clear(); ++T < F; ) {
      var ne = E[T];
      this.set(ne[0], ne[1]);
    }
  }
  function Ti() {
    this.size = 0, this.__data__ = {
      hash: new ae(),
      map: new (qs || Be)(),
      string: new ae()
    };
  }
  function Ws(E) {
    var T = Ks(this, E).delete(E);
    return this.size -= T ? 1 : 0, T;
  }
  function zr(E) {
    return Ks(this, E).get(E);
  }
  function bl(E) {
    return Ks(this, E).has(E);
  }
  function Bd(E, T) {
    var F = Ks(this, E), ne = F.size;
    return F.set(E, T), this.size += F.size == ne ? 0 : 1, this;
  }
  kt.prototype.clear = Ti, kt.prototype.delete = Ws, kt.prototype.get = zr, kt.prototype.has = bl, kt.prototype.set = Bd;
  function fa(E) {
    var T = -1, F = E == null ? 0 : E.length;
    for (this.__data__ = new kt(); ++T < F; )
      this.add(E[T]);
  }
  function Up(E) {
    return this.__data__.set(E, n), this;
  }
  function Oc(E) {
    return this.__data__.has(E);
  }
  fa.prototype.add = fa.prototype.push = Up, fa.prototype.has = Oc;
  function Ai(E) {
    var T = this.__data__ = new Be(E);
    this.size = T.size;
  }
  function zd() {
    this.__data__ = new Be(), this.size = 0;
  }
  function Zb(E) {
    var T = this.__data__, F = T.delete(E);
    return this.size = T.size, F;
  }
  function Xb(E) {
    return this.__data__.get(E);
  }
  function Jb(E) {
    return this.__data__.has(E);
  }
  function Qb(E, T) {
    var F = this.__data__;
    if (F instanceof Be) {
      var ne = F.__data__;
      if (!qs || ne.length < r - 1)
        return ne.push([E, T]), this.size = ++F.size, this;
      F = this.__data__ = new kt(ne);
    }
    return F.set(E, T), this.size = F.size, this;
  }
  Ai.prototype.clear = zd, Ai.prototype.delete = Zb, Ai.prototype.get = Xb, Ai.prototype.has = Jb, Ai.prototype.set = Qb;
  function e0(E, T) {
    var F = $c(E), ne = !F && Hp(E), Ge = !F && !ne && Rc(E), Le = !F && !ne && !Ge && Zp(E), ft = F || ne || Ge || Le, ct = ft ? Tt(E.length, String) : [], mr = ct.length;
    for (var mt in E)
      It.call(E, mt) && !(ft && // Safari 9 has enumerable `arguments.length` in strict mode.
      (mt == "length" || // Node.js 0.10 has enumerable non-index properties on buffers.
      Ge && (mt == "offset" || mt == "parent") || // PhantomJS 2 has enumerable non-index properties on typed arrays.
      Le && (mt == "buffer" || mt == "byteLength" || mt == "byteOffset") || // Skip index properties.
      l0(mt, mr))) && ct.push(mt);
    return ct;
  }
  function Dc(E, T) {
    for (var F = E.length; F--; )
      if (Kp(E[F][0], T))
        return F;
    return -1;
  }
  function Ud(E, T, F) {
    var ne = T(E);
    return $c(E) ? ne : He(ne, F(E));
  }
  function xl(E) {
    return E == null ? E === void 0 ? C : v : Nr && Nr in Object(E) ? ho(E) : Wp(E);
  }
  function qp(E) {
    return Oi(E) && xl(E) == a;
  }
  function Vp(E, T, F, ne, Ge) {
    return E === T ? !0 : E == null || T == null || !Oi(E) && !Oi(T) ? E !== E && T !== T : t0(E, T, F, ne, Vp, Ge);
  }
  function t0(E, T, F, ne, Ge, Le) {
    var ft = $c(E), ct = $c(T), mr = ft ? l : Pi(E), mt = ct ? l : Pi(T);
    mr = mr == a ? b : mr, mt = mt == a ? b : mt;
    var on = mr == b, Dn = mt == b, Cr = mr == mt;
    if (Cr && Rc(E)) {
      if (!Rc(T))
        return !1;
      ft = !0, on = !1;
    }
    if (Cr && !on)
      return Le || (Le = new Ai()), ft || Zp(E) ? qd(E, T, F, ne, Ge, Le) : i0(E, T, mr, F, ne, Ge, Le);
    if (!(F & s)) {
      var an = on && It.call(E, "__wrapped__"), Xr = Dn && It.call(T, "__wrapped__");
      if (an || Xr) {
        var ha = an ? E.value() : E, po = Xr ? T.value() : T;
        return Le || (Le = new Ai()), Ge(ha, po, F, ne, Le);
      }
    }
    return Cr ? (Le || (Le = new Ai()), o0(E, T, F, ne, Ge, Le)) : !1;
  }
  function r0(E) {
    if (!Gp(E) || u0(E))
      return !1;
    var T = Yp(E) ? fs : oe;
    return T.test(wn(E));
  }
  function n0(E) {
    return Oi(E) && Wd(E.length) && !!K[xl(E)];
  }
  function s0(E) {
    if (!d0(E))
      return Yn(E);
    var T = [];
    for (var F in Object(E))
      It.call(E, F) && F != "constructor" && T.push(F);
    return T;
  }
  function qd(E, T, F, ne, Ge, Le) {
    var ft = F & s, ct = E.length, mr = T.length;
    if (ct != mr && !(ft && mr > ct))
      return !1;
    var mt = Le.get(E);
    if (mt && Le.get(T))
      return mt == T;
    var on = -1, Dn = !0, Cr = F & i ? new fa() : void 0;
    for (Le.set(E, T), Le.set(T, E); ++on < ct; ) {
      var an = E[on], Xr = T[on];
      if (ne)
        var ha = ft ? ne(Xr, an, on, T, E, Le) : ne(an, Xr, on, E, T, Le);
      if (ha !== void 0) {
        if (ha)
          continue;
        Dn = !1;
        break;
      }
      if (Cr) {
        if (!lt(T, function(po, _l) {
          if (!R(Cr, _l) && (an === po || Ge(an, po, F, ne, Le)))
            return Cr.push(_l);
        })) {
          Dn = !1;
          break;
        }
      } else if (!(an === Xr || Ge(an, Xr, F, ne, Le))) {
        Dn = !1;
        break;
      }
    }
    return Le.delete(E), Le.delete(T), Dn;
  }
  function i0(E, T, F, ne, Ge, Le, ft) {
    switch (F) {
      case M:
        if (E.byteLength != T.byteLength || E.byteOffset != T.byteOffset)
          return !1;
        E = E.buffer, T = T.buffer;
      case I:
        return !(E.byteLength != T.byteLength || !Le(new sn(E), new sn(T)));
      case d:
      case f:
      case y:
        return Kp(+E, +T);
      case h:
        return E.name == T.name && E.message == T.message;
      case w:
      case N:
        return E == T + "";
      case m:
        var ct = J;
      case j:
        var mr = ne & s;
        if (ct || (ct = pe), E.size != T.size && !mr)
          return !1;
        var mt = ft.get(E);
        if (mt)
          return mt == T;
        ne |= i, ft.set(E, T);
        var on = qd(ct(E), ct(T), ne, Ge, Le, ft);
        return ft.delete(E), on;
      case k:
        if (Ci)
          return Ci.call(E) == Ci.call(T);
    }
    return !1;
  }
  function o0(E, T, F, ne, Ge, Le) {
    var ft = F & s, ct = wl(E), mr = ct.length, mt = wl(T), on = mt.length;
    if (mr != on && !ft)
      return !1;
    for (var Dn = mr; Dn--; ) {
      var Cr = ct[Dn];
      if (!(ft ? Cr in T : It.call(T, Cr)))
        return !1;
    }
    var an = Le.get(E);
    if (an && Le.get(T))
      return an == T;
    var Xr = !0;
    Le.set(E, T), Le.set(T, E);
    for (var ha = ft; ++Dn < mr; ) {
      Cr = ct[Dn];
      var po = E[Cr], _l = T[Cr];
      if (ne)
        var sC = ft ? ne(_l, po, Cr, T, E, Le) : ne(po, _l, Cr, E, T, Le);
      if (!(sC === void 0 ? po === _l || Ge(po, _l, F, ne, Le) : sC)) {
        Xr = !1;
        break;
      }
      ha || (ha = Cr == "constructor");
    }
    if (Xr && !ha) {
      var Xp = E.constructor, Jp = T.constructor;
      Xp != Jp && "constructor" in E && "constructor" in T && !(typeof Xp == "function" && Xp instanceof Xp && typeof Jp == "function" && Jp instanceof Jp) && (Xr = !1);
    }
    return Le.delete(E), Le.delete(T), Xr;
  }
  function wl(E) {
    return Ud(E, Kd, a0);
  }
  function Ks(E, T) {
    var F = E.__data__;
    return c0(T) ? F[typeof T == "string" ? "string" : "hash"] : F.map;
  }
  function fo(E, T) {
    var F = Y(E, T);
    return r0(F) ? F : void 0;
  }
  function ho(E) {
    var T = It.call(E, Nr), F = E[Nr];
    try {
      E[Nr] = void 0;
      var ne = !0;
    } catch {
    }
    var Ge = ki.call(E);
    return ne && (T ? E[Nr] = F : delete E[Nr]), Ge;
  }
  var a0 = xn ? function(E) {
    return E == null ? [] : (E = Object(E), Ve(xn(E), function(T) {
      return bn.call(E, T);
    }));
  } : h0, Pi = xl;
  (ps && Pi(new ps(new ArrayBuffer(1))) != M || qs && Pi(new qs()) != m || ms && Pi(ms.resolve()) != x || co && Pi(new co()) != j || gs && Pi(new gs()) != $) && (Pi = function(E) {
    var T = xl(E), F = T == b ? E.constructor : void 0, ne = F ? wn(F) : "";
    if (ne)
      switch (ne) {
        case ca:
          return M;
        case Zn:
          return m;
        case ua:
          return x;
        case Vs:
          return j;
        case uo:
          return $;
      }
    return T;
  });
  function l0(E, T) {
    return T = T ?? o, !!T && (typeof E == "number" || W.test(E)) && E > -1 && E % 1 == 0 && E < T;
  }
  function c0(E) {
    var T = typeof E;
    return T == "string" || T == "number" || T == "symbol" || T == "boolean" ? E !== "__proto__" : E === null;
  }
  function u0(E) {
    return !!Zr && Zr in E;
  }
  function d0(E) {
    var T = E && E.constructor, F = typeof T == "function" && T.prototype || Ue;
    return E === F;
  }
  function Wp(E) {
    return ki.call(E);
  }
  function wn(E) {
    if (E != null) {
      try {
        return Zt.call(E);
      } catch {
      }
      try {
        return E + "";
      } catch {
      }
    }
    return "";
  }
  function Kp(E, T) {
    return E === T || E !== E && T !== T;
  }
  var Hp = qp(/* @__PURE__ */ function() {
    return arguments;
  }()) ? qp : function(E) {
    return Oi(E) && It.call(E, "callee") && !bn.call(E, "callee");
  }, $c = Array.isArray;
  function Vd(E) {
    return E != null && Wd(E.length) && !Yp(E);
  }
  var Rc = Hn || p0;
  function f0(E, T) {
    return Vp(E, T);
  }
  function Yp(E) {
    if (!Gp(E))
      return !1;
    var T = xl(E);
    return T == p || T == g || T == c || T == S;
  }
  function Wd(E) {
    return typeof E == "number" && E > -1 && E % 1 == 0 && E <= o;
  }
  function Gp(E) {
    var T = typeof E;
    return E != null && (T == "object" || T == "function");
  }
  function Oi(E) {
    return E != null && typeof E == "object";
  }
  var Zp = ke ? Rt(ke) : n0;
  function Kd(E) {
    return Vd(E) ? e0(E) : s0(E);
  }
  function h0() {
    return [];
  }
  function p0() {
    return !1;
  }
  e.exports = f0;
})(Fy, Fy.exports);
var UU = Fy.exports, vk = {};
Object.defineProperty(vk, "__esModule", { value: !0 });
const nAe = zU, sAe = UU;
var L_;
(function(e) {
  function t(i = {}, o = {}, a = !1) {
    typeof i != "object" && (i = {}), typeof o != "object" && (o = {});
    let l = nAe(o);
    a || (l = Object.keys(l).reduce((c, d) => (l[d] != null && (c[d] = l[d]), c), {}));
    for (const c in i)
      i[c] !== void 0 && o[c] === void 0 && (l[c] = i[c]);
    return Object.keys(l).length > 0 ? l : void 0;
  }
  e.compose = t;
  function r(i = {}, o = {}) {
    typeof i != "object" && (i = {}), typeof o != "object" && (o = {});
    const a = Object.keys(i).concat(Object.keys(o)).reduce((l, c) => (sAe(i[c], o[c]) || (l[c] = o[c] === void 0 ? null : o[c]), l), {});
    return Object.keys(a).length > 0 ? a : void 0;
  }
  e.diff = r;
  function n(i = {}, o = {}) {
    i = i || {};
    const a = Object.keys(o).reduce((l, c) => (o[c] !== i[c] && i[c] !== void 0 && (l[c] = o[c]), l), {});
    return Object.keys(i).reduce((l, c) => (i[c] !== o[c] && o[c] === void 0 && (l[c] = null), l), a);
  }
  e.invert = n;
  function s(i, o, a = !1) {
    if (typeof i != "object")
      return o;
    if (typeof o != "object")
      return;
    if (!a)
      return o;
    const l = Object.keys(o).reduce((c, d) => (i[d] === void 0 && (c[d] = o[d]), c), {});
    return Object.keys(l).length > 0 ? l : void 0;
  }
  e.transform = s;
})(L_ || (L_ = {}));
vk.default = L_;
var Ob = {};
Object.defineProperty(Ob, "__esModule", { value: !0 });
var F_;
(function(e) {
  function t(r) {
    return typeof r.delete == "number" ? r.delete : typeof r.retain == "number" ? r.retain : typeof r.retain == "object" && r.retain !== null ? 1 : typeof r.insert == "string" ? r.insert.length : 1;
  }
  e.length = t;
})(F_ || (F_ = {}));
Ob.default = F_;
var bk = {};
Object.defineProperty(bk, "__esModule", { value: !0 });
const m$ = Ob;
class iAe {
  constructor(t) {
    this.ops = t, this.index = 0, this.offset = 0;
  }
  hasNext() {
    return this.peekLength() < 1 / 0;
  }
  next(t) {
    t || (t = 1 / 0);
    const r = this.ops[this.index];
    if (r) {
      const n = this.offset, s = m$.default.length(r);
      if (t >= s - n ? (t = s - n, this.index += 1, this.offset = 0) : this.offset += t, typeof r.delete == "number")
        return { delete: t };
      {
        const i = {};
        return r.attributes && (i.attributes = r.attributes), typeof r.retain == "number" ? i.retain = t : typeof r.retain == "object" && r.retain !== null ? i.retain = r.retain : typeof r.insert == "string" ? i.insert = r.insert.substr(n, t) : i.insert = r.insert, i;
      }
    } else
      return { retain: 1 / 0 };
  }
  peek() {
    return this.ops[this.index];
  }
  peekLength() {
    return this.ops[this.index] ? m$.default.length(this.ops[this.index]) - this.offset : 1 / 0;
  }
  peekType() {
    const t = this.ops[this.index];
    return t ? typeof t.delete == "number" ? "delete" : typeof t.retain == "number" || typeof t.retain == "object" && t.retain !== null ? "retain" : "insert" : "retain";
  }
  rest() {
    if (this.hasNext()) {
      if (this.offset === 0)
        return this.ops.slice(this.index);
      {
        const t = this.offset, r = this.index, n = this.next(), s = this.ops.slice(this.index);
        return this.offset = t, this.index = r, [n].concat(s);
      }
    } else return [];
  }
}
bk.default = iAe;
(function(e, t) {
  Object.defineProperty(t, "__esModule", { value: !0 }), t.AttributeMap = t.OpIterator = t.Op = void 0;
  const r = rAe, n = zU, s = UU, i = vk;
  t.AttributeMap = i.default;
  const o = Ob;
  t.Op = o.default;
  const a = bk;
  t.OpIterator = a.default;
  const l = "\0", c = (f, h) => {
    if (typeof f != "object" || f === null)
      throw new Error(`cannot retain a ${typeof f}`);
    if (typeof h != "object" || h === null)
      throw new Error(`cannot retain a ${typeof h}`);
    const p = Object.keys(f)[0];
    if (!p || p !== Object.keys(h)[0])
      throw new Error(`embed types not matched: ${p} != ${Object.keys(h)[0]}`);
    return [p, f[p], h[p]];
  };
  class d {
    constructor(h) {
      Array.isArray(h) ? this.ops = h : h != null && Array.isArray(h.ops) ? this.ops = h.ops : this.ops = [];
    }
    static registerEmbed(h, p) {
      this.handlers[h] = p;
    }
    static unregisterEmbed(h) {
      delete this.handlers[h];
    }
    static getHandler(h) {
      const p = this.handlers[h];
      if (!p)
        throw new Error(`no handlers for embed type "${h}"`);
      return p;
    }
    insert(h, p) {
      const g = {};
      return typeof h == "string" && h.length === 0 ? this : (g.insert = h, p != null && typeof p == "object" && Object.keys(p).length > 0 && (g.attributes = p), this.push(g));
    }
    delete(h) {
      return h <= 0 ? this : this.push({ delete: h });
    }
    retain(h, p) {
      if (typeof h == "number" && h <= 0)
        return this;
      const g = { retain: h };
      return p != null && typeof p == "object" && Object.keys(p).length > 0 && (g.attributes = p), this.push(g);
    }
    push(h) {
      let p = this.ops.length, g = this.ops[p - 1];
      if (h = n(h), typeof g == "object") {
        if (typeof h.delete == "number" && typeof g.delete == "number")
          return this.ops[p - 1] = { delete: g.delete + h.delete }, this;
        if (typeof g.delete == "number" && h.insert != null && (p -= 1, g = this.ops[p - 1], typeof g != "object"))
          return this.ops.unshift(h), this;
        if (s(h.attributes, g.attributes)) {
          if (typeof h.insert == "string" && typeof g.insert == "string")
            return this.ops[p - 1] = { insert: g.insert + h.insert }, typeof h.attributes == "object" && (this.ops[p - 1].attributes = h.attributes), this;
          if (typeof h.retain == "number" && typeof g.retain == "number")
            return this.ops[p - 1] = { retain: g.retain + h.retain }, typeof h.attributes == "object" && (this.ops[p - 1].attributes = h.attributes), this;
        }
      }
      return p === this.ops.length ? this.ops.push(h) : this.ops.splice(p, 0, h), this;
    }
    chop() {
      const h = this.ops[this.ops.length - 1];
      return h && typeof h.retain == "number" && !h.attributes && this.ops.pop(), this;
    }
    filter(h) {
      return this.ops.filter(h);
    }
    forEach(h) {
      this.ops.forEach(h);
    }
    map(h) {
      return this.ops.map(h);
    }
    partition(h) {
      const p = [], g = [];
      return this.forEach((m) => {
        (h(m) ? p : g).push(m);
      }), [p, g];
    }
    reduce(h, p) {
      return this.ops.reduce(h, p);
    }
    changeLength() {
      return this.reduce((h, p) => p.insert ? h + o.default.length(p) : p.delete ? h - p.delete : h, 0);
    }
    length() {
      return this.reduce((h, p) => h + o.default.length(p), 0);
    }
    slice(h = 0, p = 1 / 0) {
      const g = [], m = new a.default(this.ops);
      let y = 0;
      for (; y < p && m.hasNext(); ) {
        let v;
        y < h ? v = m.next(h - y) : (v = m.next(p - y), g.push(v)), y += o.default.length(v);
      }
      return new d(g);
    }
    compose(h) {
      const p = new a.default(this.ops), g = new a.default(h.ops), m = [], y = g.peek();
      if (y != null && typeof y.retain == "number" && y.attributes == null) {
        let b = y.retain;
        for (; p.peekType() === "insert" && p.peekLength() <= b; )
          b -= p.peekLength(), m.push(p.next());
        y.retain - b > 0 && g.next(y.retain - b);
      }
      const v = new d(m);
      for (; p.hasNext() || g.hasNext(); )
        if (g.peekType() === "insert")
          v.push(g.next());
        else if (p.peekType() === "delete")
          v.push(p.next());
        else {
          const b = Math.min(p.peekLength(), g.peekLength()), x = p.next(b), S = g.next(b);
          if (S.retain) {
            const w = {};
            if (typeof x.retain == "number")
              w.retain = typeof S.retain == "number" ? b : S.retain;
            else if (typeof S.retain == "number")
              x.retain == null ? w.insert = x.insert : w.retain = x.retain;
            else {
              const N = x.retain == null ? "insert" : "retain", [k, C, $] = c(x[N], S.retain), I = d.getHandler(k);
              w[N] = {
                [k]: I.compose(C, $, N === "retain")
              };
            }
            const j = i.default.compose(x.attributes, S.attributes, typeof x.retain == "number");
            if (j && (w.attributes = j), v.push(w), !g.hasNext() && s(v.ops[v.ops.length - 1], w)) {
              const N = new d(p.rest());
              return v.concat(N).chop();
            }
          } else typeof S.delete == "number" && (typeof x.retain == "number" || typeof x.retain == "object" && x.retain !== null) && v.push(S);
        }
      return v.chop();
    }
    concat(h) {
      const p = new d(this.ops.slice());
      return h.ops.length > 0 && (p.push(h.ops[0]), p.ops = p.ops.concat(h.ops.slice(1))), p;
    }
    diff(h, p) {
      if (this.ops === h.ops)
        return new d();
      const g = [this, h].map((x) => x.map((S) => {
        if (S.insert != null)
          return typeof S.insert == "string" ? S.insert : l;
        const w = x === h ? "on" : "with";
        throw new Error("diff() called " + w + " non-document");
      }).join("")), m = new d(), y = r(g[0], g[1], p, !0), v = new a.default(this.ops), b = new a.default(h.ops);
      return y.forEach((x) => {
        let S = x[1].length;
        for (; S > 0; ) {
          let w = 0;
          switch (x[0]) {
            case r.INSERT:
              w = Math.min(b.peekLength(), S), m.push(b.next(w));
              break;
            case r.DELETE:
              w = Math.min(S, v.peekLength()), v.next(w), m.delete(w);
              break;
            case r.EQUAL:
              w = Math.min(v.peekLength(), b.peekLength(), S);
              const j = v.next(w), N = b.next(w);
              s(j.insert, N.insert) ? m.retain(w, i.default.diff(j.attributes, N.attributes)) : m.push(N).delete(w);
              break;
          }
          S -= w;
        }
      }), m.chop();
    }
    eachLine(h, p = `
`) {
      const g = new a.default(this.ops);
      let m = new d(), y = 0;
      for (; g.hasNext(); ) {
        if (g.peekType() !== "insert")
          return;
        const v = g.peek(), b = o.default.length(v) - g.peekLength(), x = typeof v.insert == "string" ? v.insert.indexOf(p, b) - b : -1;
        if (x < 0)
          m.push(g.next());
        else if (x > 0)
          m.push(g.next(x));
        else {
          if (h(m, g.next(1).attributes || {}, y) === !1)
            return;
          y += 1, m = new d();
        }
      }
      m.length() > 0 && h(m, {}, y);
    }
    invert(h) {
      const p = new d();
      return this.reduce((g, m) => {
        if (m.insert)
          p.delete(o.default.length(m));
        else {
          if (typeof m.retain == "number" && m.attributes == null)
            return p.retain(m.retain), g + m.retain;
          if (m.delete || typeof m.retain == "number") {
            const y = m.delete || m.retain;
            return h.slice(g, g + y).forEach((b) => {
              m.delete ? p.push(b) : m.retain && m.attributes && p.retain(o.default.length(b), i.default.invert(m.attributes, b.attributes));
            }), g + y;
          } else if (typeof m.retain == "object" && m.retain !== null) {
            const y = h.slice(g, g + 1), v = new a.default(y.ops).next(), [b, x, S] = c(m.retain, v.insert), w = d.getHandler(b);
            return p.retain({ [b]: w.invert(x, S) }, i.default.invert(m.attributes, v.attributes)), g + 1;
          }
        }
        return g;
      }, 0), p.chop();
    }
    transform(h, p = !1) {
      if (p = !!p, typeof h == "number")
        return this.transformPosition(h, p);
      const g = h, m = new a.default(this.ops), y = new a.default(g.ops), v = new d();
      for (; m.hasNext() || y.hasNext(); )
        if (m.peekType() === "insert" && (p || y.peekType() !== "insert"))
          v.retain(o.default.length(m.next()));
        else if (y.peekType() === "insert")
          v.push(y.next());
        else {
          const b = Math.min(m.peekLength(), y.peekLength()), x = m.next(b), S = y.next(b);
          if (x.delete)
            continue;
          if (S.delete)
            v.push(S);
          else {
            const w = x.retain, j = S.retain;
            let N = typeof j == "object" && j !== null ? j : b;
            if (typeof w == "object" && w !== null && typeof j == "object" && j !== null) {
              const k = Object.keys(w)[0];
              if (k === Object.keys(j)[0]) {
                const C = d.getHandler(k);
                C && (N = {
                  [k]: C.transform(w[k], j[k], p)
                });
              }
            }
            v.retain(N, i.default.transform(x.attributes, S.attributes, p));
          }
        }
      return v.chop();
    }
    transformPosition(h, p = !1) {
      p = !!p;
      const g = new a.default(this.ops);
      let m = 0;
      for (; g.hasNext() && m <= h; ) {
        const y = g.peekLength(), v = g.peekType();
        if (g.next(), v === "delete") {
          h -= Math.min(y, h - m);
          continue;
        } else v === "insert" && (m < h || !p) && (h += y);
        m += y;
      }
      return h;
    }
  }
  d.Op = o.default, d.OpIterator = a.default, d.AttributeMap = i.default, d.handlers = {}, t.default = d, e.exports = d, e.exports.default = d;
})(M_, M_.exports);
var Ps = M_.exports;
const De = /* @__PURE__ */ bi(Ps);
class Ei extends ds {
  static value() {
  }
  optimize() {
    (this.prev || this.next) && this.remove();
  }
  length() {
    return 0;
  }
  value() {
    return "";
  }
}
Ei.blotName = "break";
Ei.tagName = "BR";
let yi = class extends My {
};
const oAe = {
  "&": "&amp;",
  "<": "&lt;",
  ">": "&gt;",
  '"': "&quot;",
  "'": "&#39;"
};
function Db(e) {
  return e.replace(/[&<>"']/g, (t) => oAe[t]);
}
const Ii = class Ii extends pk {
  static compare(t, r) {
    const n = Ii.order.indexOf(t), s = Ii.order.indexOf(r);
    return n >= 0 || s >= 0 ? n - s : t === r ? 0 : t < r ? -1 : 1;
  }
  formatAt(t, r, n, s) {
    if (Ii.compare(this.statics.blotName, n) < 0 && this.scroll.query(n, Re.BLOT)) {
      const i = this.isolate(t, r);
      s && i.wrap(n, s);
    } else
      super.formatAt(t, r, n, s);
  }
  optimize(t) {
    if (super.optimize(t), this.parent instanceof Ii && Ii.compare(this.statics.blotName, this.parent.statics.blotName) > 0) {
      const r = this.parent.isolate(this.offset(), this.length());
      this.moveChildren(r), r.wrap(this);
    }
  }
};
Ee(Ii, "allowedChildren", [Ii, Ei, ds, yi]), // Lower index means deeper in the DOM tree, since not found (-1) is for embeds
Ee(Ii, "order", [
  "cursor",
  "inline",
  // Must be lower
  "link",
  // Chrome wants <a> to be lower
  "underline",
  "strike",
  "italic",
  "bold",
  "script",
  "code"
  // Must be higher
]);
let eo = Ii;
const g$ = 1;
class rn extends Ih {
  constructor() {
    super(...arguments);
    Ee(this, "cache", {});
  }
  delta() {
    return this.cache.delta == null && (this.cache.delta = qU(this)), this.cache.delta;
  }
  deleteAt(r, n) {
    super.deleteAt(r, n), this.cache = {};
  }
  formatAt(r, n, s, i) {
    n <= 0 || (this.scroll.query(s, Re.BLOCK) ? r + n === this.length() && this.format(s, i) : super.formatAt(r, Math.min(n, this.length() - r - 1), s, i), this.cache = {});
  }
  insertAt(r, n, s) {
    if (s != null) {
      super.insertAt(r, n, s), this.cache = {};
      return;
    }
    if (n.length === 0) return;
    const i = n.split(`
`), o = i.shift();
    o.length > 0 && (r < this.length() - 1 || this.children.tail == null ? super.insertAt(Math.min(r, this.length() - 1), o) : this.children.tail.insertAt(this.children.tail.length(), o), this.cache = {});
    let a = this;
    i.reduce((l, c) => (a = a.split(l, !0), a.insertAt(0, c), c.length), r + o.length);
  }
  insertBefore(r, n) {
    const {
      head: s
    } = this.children;
    super.insertBefore(r, n), s instanceof Ei && s.remove(), this.cache = {};
  }
  length() {
    return this.cache.length == null && (this.cache.length = super.length() + g$), this.cache.length;
  }
  moveChildren(r, n) {
    super.moveChildren(r, n), this.cache = {};
  }
  optimize(r) {
    super.optimize(r), this.cache = {};
  }
  path(r) {
    return super.path(r, !0);
  }
  removeChild(r) {
    super.removeChild(r), this.cache = {};
  }
  split(r) {
    let n = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !1;
    if (n && (r === 0 || r >= this.length() - g$)) {
      const i = this.clone();
      return r === 0 ? (this.parent.insertBefore(i, this), this) : (this.parent.insertBefore(i, this.next), i);
    }
    const s = super.split(r, n);
    return this.cache = {}, s;
  }
}
rn.blotName = "block";
rn.tagName = "P";
rn.defaultChild = Ei;
rn.allowedChildren = [Ei, eo, ds, yi];
class Ts extends ds {
  attach() {
    super.attach(), this.attributes = new Cb(this.domNode);
  }
  delta() {
    return new De().insert(this.value(), {
      ...this.formats(),
      ...this.attributes.values()
    });
  }
  format(t, r) {
    const n = this.scroll.query(t, Re.BLOCK_ATTRIBUTE);
    n != null && this.attributes.attribute(n, r);
  }
  formatAt(t, r, n, s) {
    this.format(n, s);
  }
  insertAt(t, r, n) {
    if (n != null) {
      super.insertAt(t, r, n);
      return;
    }
    const s = r.split(`
`), i = s.pop(), o = s.map((l) => {
      const c = this.scroll.create(rn.blotName);
      return c.insertAt(0, l), c;
    }), a = this.split(t);
    o.forEach((l) => {
      this.parent.insertBefore(l, a);
    }), i && this.parent.insertBefore(this.scroll.create("text", i), a);
  }
}
Ts.scope = Re.BLOCK_BLOT;
function qU(e) {
  let t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !0;
  return e.descendants(pn).reduce((r, n) => n.length() === 0 ? r : r.insert(n.value(), ks(n, {}, t)), new De()).insert(`
`, ks(e));
}
function ks(e) {
  let t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : !0;
  return e == null || ("formats" in e && typeof e.formats == "function" && (t = {
    ...t,
    ...e.formats()
  }, r && delete t["code-token"]), e.parent == null || e.parent.statics.blotName === "scroll" || e.parent.statics.scope !== e.statics.scope) ? t : ks(e.parent, t, r);
}
const Ss = class Ss extends ds {
  // Zero width no break space
  static value() {
  }
  constructor(t, r, n) {
    super(t, r), this.selection = n, this.textNode = document.createTextNode(Ss.CONTENTS), this.domNode.appendChild(this.textNode), this.savedLength = 0;
  }
  detach() {
    this.parent != null && this.parent.removeChild(this);
  }
  format(t, r) {
    if (this.savedLength !== 0) {
      super.format(t, r);
      return;
    }
    let n = this, s = 0;
    for (; n != null && n.statics.scope !== Re.BLOCK_BLOT; )
      s += n.offset(n.parent), n = n.parent;
    n != null && (this.savedLength = Ss.CONTENTS.length, n.optimize(), n.formatAt(s, Ss.CONTENTS.length, t, r), this.savedLength = 0);
  }
  index(t, r) {
    return t === this.textNode ? 0 : super.index(t, r);
  }
  length() {
    return this.savedLength;
  }
  position() {
    return [this.textNode, this.textNode.data.length];
  }
  remove() {
    super.remove(), this.parent = null;
  }
  restore() {
    if (this.selection.composing || this.parent == null) return null;
    const t = this.selection.getNativeRange();
    for (; this.domNode.lastChild != null && this.domNode.lastChild !== this.textNode; )
      this.domNode.parentNode.insertBefore(this.domNode.lastChild, this.domNode);
    const r = this.prev instanceof yi ? this.prev : null, n = r ? r.length() : 0, s = this.next instanceof yi ? this.next : null, i = s ? s.text : "", {
      textNode: o
    } = this, a = o.data.split(Ss.CONTENTS).join("");
    o.data = Ss.CONTENTS;
    let l;
    if (r)
      l = r, (a || s) && (r.insertAt(r.length(), a + i), s && s.remove());
    else if (s)
      l = s, s.insertAt(0, a);
    else {
      const c = document.createTextNode(a);
      l = this.scroll.create(c), this.parent.insertBefore(l, this);
    }
    if (this.remove(), t) {
      const c = (h, p) => r && h === r.domNode ? p : h === o ? n + p - 1 : s && h === s.domNode ? n + a.length + p : null, d = c(t.start.node, t.start.offset), f = c(t.end.node, t.end.offset);
      if (d !== null && f !== null)
        return {
          startNode: l.domNode,
          startOffset: d,
          endNode: l.domNode,
          endOffset: f
        };
    }
    return null;
  }
  update(t, r) {
    if (t.some((n) => n.type === "characterData" && n.target === this.textNode)) {
      const n = this.restore();
      n && (r.range = n);
    }
  }
  // Avoid .ql-cursor being a descendant of `<a/>`.
  // The reason is Safari pushes down `<a/>` on text insertion.
  // That will cause DOM nodes not sync with the model.
  //
  // For example ({I} is the caret), given the markup:
  //    <a><span class="ql-cursor">\uFEFF{I}</span></a>
  // When typing a char "x", `<a/>` will be pushed down inside the `<span>` first:
  //    <span class="ql-cursor"><a>\uFEFF{I}</a></span>
  // And then "x" will be inserted after `<a/>`:
  //    <span class="ql-cursor"><a>\uFEFF</a>d{I}</span>
  optimize(t) {
    super.optimize(t);
    let {
      parent: r
    } = this;
    for (; r; ) {
      if (r.domNode.tagName === "A") {
        this.savedLength = Ss.CONTENTS.length, r.isolate(this.offset(r), this.length()).unwrap(), this.savedLength = 0;
        break;
      }
      r = r.parent;
    }
  }
  value() {
    return "";
  }
};
Ee(Ss, "blotName", "cursor"), Ee(Ss, "className", "ql-cursor"), Ee(Ss, "tagName", "span"), Ee(Ss, "CONTENTS", "\uFEFF");
let id = Ss;
const B_ = /* @__PURE__ */ new WeakMap(), z_ = ["error", "warn", "log", "info"];
let U_ = "warn";
function VU(e) {
  if (U_ && z_.indexOf(e) <= z_.indexOf(U_)) {
    for (var t = arguments.length, r = new Array(t > 1 ? t - 1 : 0), n = 1; n < t; n++)
      r[n - 1] = arguments[n];
    console[e](...r);
  }
}
function aa(e) {
  return z_.reduce((t, r) => (t[r] = VU.bind(console, r, e), t), {});
}
aa.level = (e) => {
  U_ = e;
};
VU.level = aa.level;
const Gx = aa("quill:events"), aAe = ["selectionchange", "mousedown", "mouseup", "click"];
aAe.forEach((e) => {
  document.addEventListener(e, function() {
    for (var t = arguments.length, r = new Array(t), n = 0; n < t; n++)
      r[n] = arguments[n];
    Array.from(document.querySelectorAll(".ql-container")).forEach((s) => {
      const i = B_.get(s);
      i && i.emitter && i.emitter.handleDOM(...r);
    });
  });
});
class Ae extends V8 {
  constructor() {
    super(), this.domListeners = {}, this.on("error", Gx.error);
  }
  emit() {
    for (var t = arguments.length, r = new Array(t), n = 0; n < t; n++)
      r[n] = arguments[n];
    return Gx.log.call(Gx, ...r), super.emit(...r);
  }
  handleDOM(t) {
    for (var r = arguments.length, n = new Array(r > 1 ? r - 1 : 0), s = 1; s < r; s++)
      n[s - 1] = arguments[s];
    (this.domListeners[t.type] || []).forEach((i) => {
      let {
        node: o,
        handler: a
      } = i;
      (t.target === o || o.contains(t.target)) && a(t, ...n);
    });
  }
  listenDOM(t, r, n) {
    this.domListeners[t] || (this.domListeners[t] = []), this.domListeners[t].push({
      node: r,
      handler: n
    });
  }
}
Ee(Ae, "events", {
  EDITOR_CHANGE: "editor-change",
  SCROLL_BEFORE_UPDATE: "scroll-before-update",
  SCROLL_BLOT_MOUNT: "scroll-blot-mount",
  SCROLL_BLOT_UNMOUNT: "scroll-blot-unmount",
  SCROLL_OPTIMIZE: "scroll-optimize",
  SCROLL_UPDATE: "scroll-update",
  SCROLL_EMBED_UPDATE: "scroll-embed-update",
  SELECTION_CHANGE: "selection-change",
  TEXT_CHANGE: "text-change",
  COMPOSITION_BEFORE_START: "composition-before-start",
  COMPOSITION_START: "composition-start",
  COMPOSITION_BEFORE_END: "composition-before-end",
  COMPOSITION_END: "composition-end"
}), Ee(Ae, "sources", {
  API: "api",
  SILENT: "silent",
  USER: "user"
});
const Zx = aa("quill:selection");
let pc = class {
  constructor(t) {
    let r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
    this.index = t, this.length = r;
  }
};
class lAe {
  constructor(t, r) {
    this.emitter = r, this.scroll = t, this.composing = !1, this.mouseDown = !1, this.root = this.scroll.domNode, this.cursor = this.scroll.create("cursor", this), this.savedRange = new pc(0, 0), this.lastRange = this.savedRange, this.lastNative = null, this.handleComposition(), this.handleDragging(), this.emitter.listenDOM("selectionchange", document, () => {
      !this.mouseDown && !this.composing && setTimeout(this.update.bind(this, Ae.sources.USER), 1);
    }), this.emitter.on(Ae.events.SCROLL_BEFORE_UPDATE, () => {
      if (!this.hasFocus()) return;
      const n = this.getNativeRange();
      n != null && n.start.node !== this.cursor.textNode && this.emitter.once(Ae.events.SCROLL_UPDATE, (s, i) => {
        try {
          this.root.contains(n.start.node) && this.root.contains(n.end.node) && this.setNativeRange(n.start.node, n.start.offset, n.end.node, n.end.offset);
          const o = i.some((a) => a.type === "characterData" || a.type === "childList" || a.type === "attributes" && a.target === this.root);
          this.update(o ? Ae.sources.SILENT : s);
        } catch {
        }
      });
    }), this.emitter.on(Ae.events.SCROLL_OPTIMIZE, (n, s) => {
      if (s.range) {
        const {
          startNode: i,
          startOffset: o,
          endNode: a,
          endOffset: l
        } = s.range;
        this.setNativeRange(i, o, a, l), this.update(Ae.sources.SILENT);
      }
    }), this.update(Ae.sources.SILENT);
  }
  handleComposition() {
    this.emitter.on(Ae.events.COMPOSITION_BEFORE_START, () => {
      this.composing = !0;
    }), this.emitter.on(Ae.events.COMPOSITION_END, () => {
      if (this.composing = !1, this.cursor.parent) {
        const t = this.cursor.restore();
        if (!t) return;
        setTimeout(() => {
          this.setNativeRange(t.startNode, t.startOffset, t.endNode, t.endOffset);
        }, 1);
      }
    });
  }
  handleDragging() {
    this.emitter.listenDOM("mousedown", document.body, () => {
      this.mouseDown = !0;
    }), this.emitter.listenDOM("mouseup", document.body, () => {
      this.mouseDown = !1, this.update(Ae.sources.USER);
    });
  }
  focus() {
    this.hasFocus() || (this.root.focus({
      preventScroll: !0
    }), this.setRange(this.savedRange));
  }
  format(t, r) {
    this.scroll.update();
    const n = this.getNativeRange();
    if (!(n == null || !n.native.collapsed || this.scroll.query(t, Re.BLOCK))) {
      if (n.start.node !== this.cursor.textNode) {
        const s = this.scroll.find(n.start.node, !1);
        if (s == null) return;
        if (s instanceof pn) {
          const i = s.split(n.start.offset);
          s.parent.insertBefore(this.cursor, i);
        } else
          s.insertBefore(this.cursor, n.start.node);
        this.cursor.attach();
      }
      this.cursor.format(t, r), this.scroll.optimize(), this.setNativeRange(this.cursor.textNode, this.cursor.textNode.data.length), this.update();
    }
  }
  getBounds(t) {
    let r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
    const n = this.scroll.length();
    t = Math.min(t, n - 1), r = Math.min(t + r, n - 1) - t;
    let s, [i, o] = this.scroll.leaf(t);
    if (i == null) return null;
    if (r > 0 && o === i.length()) {
      const [d] = this.scroll.leaf(t + 1);
      if (d) {
        const [f] = this.scroll.line(t), [h] = this.scroll.line(t + 1);
        f === h && (i = d, o = 0);
      }
    }
    [s, o] = i.position(o, !0);
    const a = document.createRange();
    if (r > 0)
      return a.setStart(s, o), [i, o] = this.scroll.leaf(t + r), i == null ? null : ([s, o] = i.position(o, !0), a.setEnd(s, o), a.getBoundingClientRect());
    let l = "left", c;
    if (s instanceof Text) {
      if (!s.data.length)
        return null;
      o < s.data.length ? (a.setStart(s, o), a.setEnd(s, o + 1)) : (a.setStart(s, o - 1), a.setEnd(s, o), l = "right"), c = a.getBoundingClientRect();
    } else {
      if (!(i.domNode instanceof Element)) return null;
      c = i.domNode.getBoundingClientRect(), o > 0 && (l = "right");
    }
    return {
      bottom: c.top + c.height,
      height: c.height,
      left: c[l],
      right: c[l],
      top: c.top,
      width: 0
    };
  }
  getNativeRange() {
    const t = document.getSelection();
    if (t == null || t.rangeCount <= 0) return null;
    const r = t.getRangeAt(0);
    if (r == null) return null;
    const n = this.normalizeNative(r);
    return Zx.info("getNativeRange", n), n;
  }
  getRange() {
    const t = this.scroll.domNode;
    if ("isConnected" in t && !t.isConnected)
      return [null, null];
    const r = this.getNativeRange();
    return r == null ? [null, null] : [this.normalizedToRange(r), r];
  }
  hasFocus() {
    return document.activeElement === this.root || document.activeElement != null && Xx(this.root, document.activeElement);
  }
  normalizedToRange(t) {
    const r = [[t.start.node, t.start.offset]];
    t.native.collapsed || r.push([t.end.node, t.end.offset]);
    const n = r.map((o) => {
      const [a, l] = o, c = this.scroll.find(a, !0), d = c.offset(this.scroll);
      return l === 0 ? d : c instanceof pn ? d + c.index(a, l) : d + c.length();
    }), s = Math.min(Math.max(...n), this.scroll.length() - 1), i = Math.min(s, ...n);
    return new pc(i, s - i);
  }
  normalizeNative(t) {
    if (!Xx(this.root, t.startContainer) || !t.collapsed && !Xx(this.root, t.endContainer))
      return null;
    const r = {
      start: {
        node: t.startContainer,
        offset: t.startOffset
      },
      end: {
        node: t.endContainer,
        offset: t.endOffset
      },
      native: t
    };
    return [r.start, r.end].forEach((n) => {
      let {
        node: s,
        offset: i
      } = n;
      for (; !(s instanceof Text) && s.childNodes.length > 0; )
        if (s.childNodes.length > i)
          s = s.childNodes[i], i = 0;
        else if (s.childNodes.length === i)
          s = s.lastChild, s instanceof Text ? i = s.data.length : s.childNodes.length > 0 ? i = s.childNodes.length : i = s.childNodes.length + 1;
        else
          break;
      n.node = s, n.offset = i;
    }), r;
  }
  rangeToNative(t) {
    const r = this.scroll.length(), n = (s, i) => {
      s = Math.min(r - 1, s);
      const [o, a] = this.scroll.leaf(s);
      return o ? o.position(a, i) : [null, -1];
    };
    return [...n(t.index, !1), ...n(t.index + t.length, !0)];
  }
  setNativeRange(t, r) {
    let n = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : t, s = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : r, i = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : !1;
    if (Zx.info("setNativeRange", t, r, n, s), t != null && (this.root.parentNode == null || t.parentNode == null || // @ts-expect-error Fix me later
    n.parentNode == null))
      return;
    const o = document.getSelection();
    if (o != null)
      if (t != null) {
        this.hasFocus() || this.root.focus({
          preventScroll: !0
        });
        const {
          native: a
        } = this.getNativeRange() || {};
        if (a == null || i || t !== a.startContainer || r !== a.startOffset || n !== a.endContainer || s !== a.endOffset) {
          t instanceof Element && t.tagName === "BR" && (r = Array.from(t.parentNode.childNodes).indexOf(t), t = t.parentNode), n instanceof Element && n.tagName === "BR" && (s = Array.from(n.parentNode.childNodes).indexOf(n), n = n.parentNode);
          const l = document.createRange();
          l.setStart(t, r), l.setEnd(n, s), o.removeAllRanges(), o.addRange(l);
        }
      } else
        o.removeAllRanges(), this.root.blur();
  }
  setRange(t) {
    let r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !1, n = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : Ae.sources.API;
    if (typeof r == "string" && (n = r, r = !1), Zx.info("setRange", t), t != null) {
      const s = this.rangeToNative(t);
      this.setNativeRange(...s, r);
    } else
      this.setNativeRange(null);
    this.update(n);
  }
  update() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : Ae.sources.USER;
    const r = this.lastRange, [n, s] = this.getRange();
    if (this.lastRange = n, this.lastNative = s, this.lastRange != null && (this.savedRange = this.lastRange), !Da(r, this.lastRange)) {
      if (!this.composing && s != null && s.native.collapsed && s.start.node !== this.cursor.textNode) {
        const o = this.cursor.restore();
        o && this.setNativeRange(o.startNode, o.startOffset, o.endNode, o.endOffset);
      }
      const i = [Ae.events.SELECTION_CHANGE, Nu(this.lastRange), Nu(r), t];
      this.emitter.emit(Ae.events.EDITOR_CHANGE, ...i), t !== Ae.sources.SILENT && this.emitter.emit(...i);
    }
  }
}
function Xx(e, t) {
  try {
    t.parentNode;
  } catch {
    return !1;
  }
  return e.contains(t);
}
const cAe = /^[ -~]*$/;
class uAe {
  constructor(t) {
    this.scroll = t, this.delta = this.getDelta();
  }
  applyDelta(t) {
    this.scroll.update();
    let r = this.scroll.length();
    this.scroll.batchStart();
    const n = y$(t), s = new De();
    return fAe(n.ops.slice()).reduce((o, a) => {
      const l = Ps.Op.length(a);
      let c = a.attributes || {}, d = !1, f = !1;
      if (a.insert != null) {
        if (s.retain(l), typeof a.insert == "string") {
          const g = a.insert;
          f = !g.endsWith(`
`) && (r <= o || !!this.scroll.descendant(Ts, o)[0]), this.scroll.insertAt(o, g);
          const [m, y] = this.scroll.line(o);
          let v = Wa({}, ks(m));
          if (m instanceof rn) {
            const [b] = m.descendant(pn, y);
            b && (v = Wa(v, ks(b)));
          }
          c = Ps.AttributeMap.diff(v, c) || {};
        } else if (typeof a.insert == "object") {
          const g = Object.keys(a.insert)[0];
          if (g == null) return o;
          const m = this.scroll.query(g, Re.INLINE) != null;
          if (m)
            (r <= o || this.scroll.descendant(Ts, o)[0]) && (f = !0);
          else if (o > 0) {
            const [y, v] = this.scroll.descendant(pn, o - 1);
            y instanceof yi ? y.value()[v] !== `
` && (d = !0) : y instanceof ds && y.statics.scope === Re.INLINE_BLOT && (d = !0);
          }
          if (this.scroll.insertAt(o, g, a.insert[g]), m) {
            const [y] = this.scroll.descendant(pn, o);
            if (y) {
              const v = Wa({}, ks(y));
              c = Ps.AttributeMap.diff(v, c) || {};
            }
          }
        }
        r += l;
      } else if (s.push(a), a.retain !== null && typeof a.retain == "object") {
        const g = Object.keys(a.retain)[0];
        if (g == null) return o;
        this.scroll.updateEmbedAt(o, g, a.retain[g]);
      }
      Object.keys(c).forEach((g) => {
        this.scroll.formatAt(o, l, g, c[g]);
      });
      const h = d ? 1 : 0, p = f ? 1 : 0;
      return r += h + p, s.retain(h), s.delete(p), o + l + h + p;
    }, 0), s.reduce((o, a) => typeof a.delete == "number" ? (this.scroll.deleteAt(o, a.delete), o) : o + Ps.Op.length(a), 0), this.scroll.batchEnd(), this.scroll.optimize(), this.update(n);
  }
  deleteText(t, r) {
    return this.scroll.deleteAt(t, r), this.update(new De().retain(t).delete(r));
  }
  formatLine(t, r) {
    let n = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};
    this.scroll.update(), Object.keys(n).forEach((i) => {
      this.scroll.lines(t, Math.max(r, 1)).forEach((o) => {
        o.format(i, n[i]);
      });
    }), this.scroll.optimize();
    const s = new De().retain(t).retain(r, Nu(n));
    return this.update(s);
  }
  formatText(t, r) {
    let n = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};
    Object.keys(n).forEach((i) => {
      this.scroll.formatAt(t, r, i, n[i]);
    });
    const s = new De().retain(t).retain(r, Nu(n));
    return this.update(s);
  }
  getContents(t, r) {
    return this.delta.slice(t, t + r);
  }
  getDelta() {
    return this.scroll.lines().reduce((t, r) => t.concat(r.delta()), new De());
  }
  getFormat(t) {
    let r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0, n = [], s = [];
    r === 0 ? this.scroll.path(t).forEach((a) => {
      const [l] = a;
      l instanceof rn ? n.push(l) : l instanceof pn && s.push(l);
    }) : (n = this.scroll.lines(t, r), s = this.scroll.descendants(pn, t, r));
    const [i, o] = [n, s].map((a) => {
      const l = a.shift();
      if (l == null) return {};
      let c = ks(l);
      for (; Object.keys(c).length > 0; ) {
        const d = a.shift();
        if (d == null) return c;
        c = dAe(ks(d), c);
      }
      return c;
    });
    return {
      ...i,
      ...o
    };
  }
  getHTML(t, r) {
    const [n, s] = this.scroll.line(t);
    if (n) {
      const i = n.length();
      return n.length() >= s + r && !(s === 0 && r === i) ? Lh(n, s, r, !0) : Lh(this.scroll, t, r, !0);
    }
    return "";
  }
  getText(t, r) {
    return this.getContents(t, r).filter((n) => typeof n.insert == "string").map((n) => n.insert).join("");
  }
  insertContents(t, r) {
    const n = y$(r), s = new De().retain(t).concat(n);
    return this.scroll.insertContents(t, n), this.update(s);
  }
  insertEmbed(t, r, n) {
    return this.scroll.insertAt(t, r, n), this.update(new De().retain(t).insert({
      [r]: n
    }));
  }
  insertText(t, r) {
    let n = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};
    return r = r.replace(/\r\n/g, `
`).replace(/\r/g, `
`), this.scroll.insertAt(t, r), Object.keys(n).forEach((s) => {
      this.scroll.formatAt(t, r.length, s, n[s]);
    }), this.update(new De().retain(t).insert(r, Nu(n)));
  }
  isBlank() {
    if (this.scroll.children.length === 0) return !0;
    if (this.scroll.children.length > 1) return !1;
    const t = this.scroll.children.head;
    if ((t == null ? void 0 : t.statics.blotName) !== rn.blotName) return !1;
    const r = t;
    return r.children.length > 1 ? !1 : r.children.head instanceof Ei;
  }
  removeFormat(t, r) {
    const n = this.getText(t, r), [s, i] = this.scroll.line(t + r);
    let o = 0, a = new De();
    s != null && (o = s.length() - i, a = s.delta().slice(i, i + o - 1).insert(`
`));
    const c = this.getContents(t, r + o).diff(new De().insert(n).concat(a)), d = new De().retain(t).concat(c);
    return this.applyDelta(d);
  }
  update(t) {
    let r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [], n = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : void 0;
    const s = this.delta;
    if (r.length === 1 && r[0].type === "characterData" && // @ts-expect-error Fix me later
    r[0].target.data.match(cAe) && this.scroll.find(r[0].target)) {
      const i = this.scroll.find(r[0].target), o = ks(i), a = i.offset(this.scroll), l = r[0].oldValue.replace(id.CONTENTS, ""), c = new De().insert(l), d = new De().insert(i.value()), f = n && {
        oldRange: v$(n.oldRange, -a),
        newRange: v$(n.newRange, -a)
      };
      t = new De().retain(a).concat(c.diff(d, f)).reduce((p, g) => g.insert ? p.insert(g.insert, o) : p.push(g), new De()), this.delta = s.compose(t);
    } else
      this.delta = this.getDelta(), (!t || !Da(s.compose(t), this.delta)) && (t = s.diff(this.delta, n));
    return t;
  }
}
function ru(e, t, r) {
  if (e.length === 0) {
    const [p] = Jx(r.pop());
    return t <= 0 ? `</li></${p}>` : `</li></${p}>${ru([], t - 1, r)}`;
  }
  const [{
    child: n,
    offset: s,
    length: i,
    indent: o,
    type: a
  }, ...l] = e, [c, d] = Jx(a);
  if (o > t)
    return r.push(a), o === t + 1 ? `<${c}><li${d}>${Lh(n, s, i)}${ru(l, o, r)}` : `<${c}><li>${ru(e, t + 1, r)}`;
  const f = r[r.length - 1];
  if (o === t && a === f)
    return `</li><li${d}>${Lh(n, s, i)}${ru(l, o, r)}`;
  const [h] = Jx(r.pop());
  return `</li></${h}>${ru(e, t - 1, r)}`;
}
function Lh(e, t, r) {
  let n = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : !1;
  if ("html" in e && typeof e.html == "function")
    return e.html(t, r);
  if (e instanceof yi)
    return Db(e.value().slice(t, t + r)).replaceAll(" ", "&nbsp;");
  if (e instanceof di) {
    if (e.statics.blotName === "list-container") {
      const c = [];
      return e.children.forEachAt(t, r, (d, f, h) => {
        const p = "formats" in d && typeof d.formats == "function" ? d.formats() : {};
        c.push({
          child: d,
          offset: f,
          length: h,
          indent: p.indent || 0,
          type: p.list
        });
      }), ru(c, -1, []);
    }
    const s = [];
    if (e.children.forEachAt(t, r, (c, d, f) => {
      s.push(Lh(c, d, f));
    }), n || e.statics.blotName === "list")
      return s.join("");
    const {
      outerHTML: i,
      innerHTML: o
    } = e.domNode, [a, l] = i.split(`>${o}<`);
    return a === "<table" ? `<table style="border: 1px solid #000;">${s.join("")}<${l}` : `${a}>${s.join("")}<${l}`;
  }
  return e.domNode instanceof Element ? e.domNode.outerHTML : "";
}
function dAe(e, t) {
  return Object.keys(t).reduce((r, n) => {
    if (e[n] == null) return r;
    const s = t[n];
    return s === e[n] ? r[n] = s : Array.isArray(s) ? s.indexOf(e[n]) < 0 ? r[n] = s.concat([e[n]]) : r[n] = s : r[n] = [s, e[n]], r;
  }, {});
}
function Jx(e) {
  const t = e === "ordered" ? "ol" : "ul";
  switch (e) {
    case "checked":
      return [t, ' data-list="checked"'];
    case "unchecked":
      return [t, ' data-list="unchecked"'];
    default:
      return [t, ""];
  }
}
function y$(e) {
  return e.reduce((t, r) => {
    if (typeof r.insert == "string") {
      const n = r.insert.replace(/\r\n/g, `
`).replace(/\r/g, `
`);
      return t.insert(n, r.attributes);
    }
    return t.push(r);
  }, new De());
}
function v$(e, t) {
  let {
    index: r,
    length: n
  } = e;
  return new pc(r + t, n);
}
function fAe(e) {
  const t = [];
  return e.forEach((r) => {
    typeof r.insert == "string" ? r.insert.split(`
`).forEach((s, i) => {
      i && t.push({
        insert: `
`,
        attributes: r.attributes
      }), s && t.push({
        insert: s,
        attributes: r.attributes
      });
    }) : t.push(r);
  }), t;
}
class ji {
  constructor(t) {
    let r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    this.quill = t, this.options = r;
  }
}
Ee(ji, "DEFAULTS", {});
const Vm = "\uFEFF";
class xk extends ds {
  constructor(t, r) {
    super(t, r), this.contentNode = document.createElement("span"), this.contentNode.setAttribute("contenteditable", "false"), Array.from(this.domNode.childNodes).forEach((n) => {
      this.contentNode.appendChild(n);
    }), this.leftGuard = document.createTextNode(Vm), this.rightGuard = document.createTextNode(Vm), this.domNode.appendChild(this.leftGuard), this.domNode.appendChild(this.contentNode), this.domNode.appendChild(this.rightGuard);
  }
  index(t, r) {
    return t === this.leftGuard ? 0 : t === this.rightGuard ? 1 : super.index(t, r);
  }
  restore(t) {
    let r = null, n;
    const s = t.data.split(Vm).join("");
    if (t === this.leftGuard)
      if (this.prev instanceof yi) {
        const i = this.prev.length();
        this.prev.insertAt(i, s), r = {
          startNode: this.prev.domNode,
          startOffset: i + s.length
        };
      } else
        n = document.createTextNode(s), this.parent.insertBefore(this.scroll.create(n), this), r = {
          startNode: n,
          startOffset: s.length
        };
    else t === this.rightGuard && (this.next instanceof yi ? (this.next.insertAt(0, s), r = {
      startNode: this.next.domNode,
      startOffset: s.length
    }) : (n = document.createTextNode(s), this.parent.insertBefore(this.scroll.create(n), this.next), r = {
      startNode: n,
      startOffset: s.length
    }));
    return t.data = Vm, r;
  }
  update(t, r) {
    t.forEach((n) => {
      if (n.type === "characterData" && (n.target === this.leftGuard || n.target === this.rightGuard)) {
        const s = this.restore(n.target);
        s && (r.range = s);
      }
    });
  }
}
class hAe {
  constructor(t, r) {
    Ee(this, "isComposing", !1);
    this.scroll = t, this.emitter = r, this.setupListeners();
  }
  setupListeners() {
    this.scroll.domNode.addEventListener("compositionstart", (t) => {
      this.isComposing || this.handleCompositionStart(t);
    }), this.scroll.domNode.addEventListener("compositionend", (t) => {
      this.isComposing && queueMicrotask(() => {
        this.handleCompositionEnd(t);
      });
    });
  }
  handleCompositionStart(t) {
    const r = t.target instanceof Node ? this.scroll.find(t.target, !0) : null;
    r && !(r instanceof xk) && (this.emitter.emit(Ae.events.COMPOSITION_BEFORE_START, t), this.scroll.batchStart(), this.emitter.emit(Ae.events.COMPOSITION_START, t), this.isComposing = !0);
  }
  handleCompositionEnd(t) {
    this.emitter.emit(Ae.events.COMPOSITION_BEFORE_END, t), this.scroll.batchEnd(), this.emitter.emit(Ae.events.COMPOSITION_END, t), this.isComposing = !1;
  }
}
const sh = class sh {
  constructor(t, r) {
    Ee(this, "modules", {});
    this.quill = t, this.options = r;
  }
  init() {
    Object.keys(this.options.modules).forEach((t) => {
      this.modules[t] == null && this.addModule(t);
    });
  }
  addModule(t) {
    const r = this.quill.constructor.import(`modules/${t}`);
    return this.modules[t] = new r(this.quill, this.options.modules[t] || {}), this.modules[t];
  }
};
Ee(sh, "DEFAULTS", {
  modules: {}
}), Ee(sh, "themes", {
  default: sh
});
let od = sh;
const pAe = (e) => e.parentElement || e.getRootNode().host || null, mAe = (e) => {
  const t = e.getBoundingClientRect(), r = "offsetWidth" in e && Math.abs(t.width) / e.offsetWidth || 1, n = "offsetHeight" in e && Math.abs(t.height) / e.offsetHeight || 1;
  return {
    top: t.top,
    right: t.left + e.clientWidth * r,
    bottom: t.top + e.clientHeight * n,
    left: t.left
  };
}, Wm = (e) => {
  const t = parseInt(e, 10);
  return Number.isNaN(t) ? 0 : t;
}, b$ = (e, t, r, n, s, i) => e < r && t > n ? 0 : e < r ? -(r - e + s) : t > n ? t - e > n - r ? e + s - r : t - n + i : 0, gAe = (e, t) => {
  var i, o, a;
  const r = e.ownerDocument;
  let n = t, s = e;
  for (; s; ) {
    const l = s === r.body, c = l ? {
      top: 0,
      right: ((i = window.visualViewport) == null ? void 0 : i.width) ?? r.documentElement.clientWidth,
      bottom: ((o = window.visualViewport) == null ? void 0 : o.height) ?? r.documentElement.clientHeight,
      left: 0
    } : mAe(s), d = getComputedStyle(s), f = b$(n.left, n.right, c.left, c.right, Wm(d.scrollPaddingLeft), Wm(d.scrollPaddingRight)), h = b$(n.top, n.bottom, c.top, c.bottom, Wm(d.scrollPaddingTop), Wm(d.scrollPaddingBottom));
    if (f || h)
      if (l)
        (a = r.defaultView) == null || a.scrollBy(f, h);
      else {
        const {
          scrollLeft: p,
          scrollTop: g
        } = s;
        h && (s.scrollTop += h), f && (s.scrollLeft += f);
        const m = s.scrollLeft - p, y = s.scrollTop - g;
        n = {
          left: n.left - m,
          top: n.top - y,
          right: n.right - m,
          bottom: n.bottom - y
        };
      }
    s = l || d.position === "fixed" ? null : pAe(s);
  }
}, yAe = 100, vAe = ["block", "break", "cursor", "inline", "scroll", "text"], bAe = (e, t, r) => {
  const n = new sd();
  return vAe.forEach((s) => {
    const i = t.query(s);
    i && n.register(i);
  }), e.forEach((s) => {
    let i = t.query(s);
    i || r.error(`Cannot register "${s}" specified in "formats" config. Are you sure it was registered?`);
    let o = 0;
    for (; i; )
      if (n.register(i), i = "blotName" in i ? i.requiredContainer ?? null : null, o += 1, o > yAe) {
        r.error(`Cycle detected in registering blot requiredContainer: "${s}"`);
        break;
      }
  }), n;
}, Cu = aa("quill"), Km = new sd();
di.uiClass = "ql-ui";
const Js = class Js {
  static debug(t) {
    t === !0 && (t = "log"), aa.level(t);
  }
  static find(t) {
    let r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !1;
    return B_.get(t) || Km.find(t, r);
  }
  static import(t) {
    return this.imports[t] == null && Cu.error(`Cannot import ${t}. Are you sure it was registered?`), this.imports[t];
  }
  static register() {
    if (typeof (arguments.length <= 0 ? void 0 : arguments[0]) != "string") {
      const t = arguments.length <= 0 ? void 0 : arguments[0], r = !!(!(arguments.length <= 1) && arguments[1]), n = "attrName" in t ? t.attrName : t.blotName;
      typeof n == "string" ? this.register(`formats/${n}`, t, r) : Object.keys(t).forEach((s) => {
        this.register(s, t[s], r);
      });
    } else {
      const t = arguments.length <= 0 ? void 0 : arguments[0], r = arguments.length <= 1 ? void 0 : arguments[1], n = !!(!(arguments.length <= 2) && arguments[2]);
      this.imports[t] != null && !n && Cu.warn(`Overwriting ${t} with`, r), this.imports[t] = r, (t.startsWith("blots/") || t.startsWith("formats/")) && r && typeof r != "boolean" && r.blotName !== "abstract" && Km.register(r), typeof r.register == "function" && r.register(Km);
    }
  }
  constructor(t) {
    let r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    if (this.options = xAe(t, r), this.container = this.options.container, this.container == null) {
      Cu.error("Invalid Quill container", t);
      return;
    }
    this.options.debug && Js.debug(this.options.debug);
    const n = this.container.innerHTML.trim();
    this.container.classList.add("ql-container"), this.container.innerHTML = "", B_.set(this.container, this), this.root = this.addContainer("ql-editor"), this.root.classList.add("ql-blank"), this.emitter = new Ae();
    const s = mk.blotName, i = this.options.registry.query(s);
    if (!i || !("blotName" in i))
      throw new Error(`Cannot initialize Quill without "${s}" blot`);
    if (this.scroll = new i(this.options.registry, this.root, {
      emitter: this.emitter
    }), this.editor = new uAe(this.scroll), this.selection = new lAe(this.scroll, this.emitter), this.composition = new hAe(this.scroll, this.emitter), this.theme = new this.options.theme(this, this.options), this.keyboard = this.theme.addModule("keyboard"), this.clipboard = this.theme.addModule("clipboard"), this.history = this.theme.addModule("history"), this.uploader = this.theme.addModule("uploader"), this.theme.addModule("input"), this.theme.addModule("uiNode"), this.theme.init(), this.emitter.on(Ae.events.EDITOR_CHANGE, (o) => {
      o === Ae.events.TEXT_CHANGE && this.root.classList.toggle("ql-blank", this.editor.isBlank());
    }), this.emitter.on(Ae.events.SCROLL_UPDATE, (o, a) => {
      const l = this.selection.lastRange, [c] = this.selection.getRange(), d = l && c ? {
        oldRange: l,
        newRange: c
      } : void 0;
      Hs.call(this, () => this.editor.update(null, a, d), o);
    }), this.emitter.on(Ae.events.SCROLL_EMBED_UPDATE, (o, a) => {
      const l = this.selection.lastRange, [c] = this.selection.getRange(), d = l && c ? {
        oldRange: l,
        newRange: c
      } : void 0;
      Hs.call(this, () => {
        const f = new De().retain(o.offset(this)).retain({
          [o.statics.blotName]: a
        });
        return this.editor.update(f, [], d);
      }, Js.sources.USER);
    }), n) {
      const o = this.clipboard.convert({
        html: `${n}<p><br></p>`,
        text: `
`
      });
      this.setContents(o);
    }
    this.history.clear(), this.options.placeholder && this.root.setAttribute("data-placeholder", this.options.placeholder), this.options.readOnly && this.disable(), this.allowReadOnlyEdits = !1;
  }
  addContainer(t) {
    let r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null;
    if (typeof t == "string") {
      const n = t;
      t = document.createElement("div"), t.classList.add(n);
    }
    return this.container.insertBefore(t, r), t;
  }
  blur() {
    this.selection.setRange(null);
  }
  deleteText(t, r, n) {
    return [t, r, , n] = vo(t, r, n), Hs.call(this, () => this.editor.deleteText(t, r), n, t, -1 * r);
  }
  disable() {
    this.enable(!1);
  }
  editReadOnly(t) {
    this.allowReadOnlyEdits = !0;
    const r = t();
    return this.allowReadOnlyEdits = !1, r;
  }
  enable() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : !0;
    this.scroll.enable(t), this.container.classList.toggle("ql-disabled", !t);
  }
  focus() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
    this.selection.focus(), t.preventScroll || this.scrollSelectionIntoView();
  }
  format(t, r) {
    let n = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : Ae.sources.API;
    return Hs.call(this, () => {
      const s = this.getSelection(!0);
      let i = new De();
      if (s == null) return i;
      if (this.scroll.query(t, Re.BLOCK))
        i = this.editor.formatLine(s.index, s.length, {
          [t]: r
        });
      else {
        if (s.length === 0)
          return this.selection.format(t, r), i;
        i = this.editor.formatText(s.index, s.length, {
          [t]: r
        });
      }
      return this.setSelection(s, Ae.sources.SILENT), i;
    }, n);
  }
  formatLine(t, r, n, s, i) {
    let o;
    return [t, r, o, i] = vo(
      t,
      r,
      // @ts-expect-error
      n,
      s,
      i
    ), Hs.call(this, () => this.editor.formatLine(t, r, o), i, t, 0);
  }
  formatText(t, r, n, s, i) {
    let o;
    return [t, r, o, i] = vo(
      // @ts-expect-error
      t,
      r,
      n,
      s,
      i
    ), Hs.call(this, () => this.editor.formatText(t, r, o), i, t, 0);
  }
  getBounds(t) {
    let r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0, n = null;
    if (typeof t == "number" ? n = this.selection.getBounds(t, r) : n = this.selection.getBounds(t.index, t.length), !n) return null;
    const s = this.container.getBoundingClientRect();
    return {
      bottom: n.bottom - s.top,
      height: n.height,
      left: n.left - s.left,
      right: n.right - s.left,
      top: n.top - s.top,
      width: n.width
    };
  }
  getContents() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0, r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : this.getLength() - t;
    return [t, r] = vo(t, r), this.editor.getContents(t, r);
  }
  getFormat() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.getSelection(!0), r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
    return typeof t == "number" ? this.editor.getFormat(t, r) : this.editor.getFormat(t.index, t.length);
  }
  getIndex(t) {
    return t.offset(this.scroll);
  }
  getLength() {
    return this.scroll.length();
  }
  getLeaf(t) {
    return this.scroll.leaf(t);
  }
  getLine(t) {
    return this.scroll.line(t);
  }
  getLines() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0, r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : Number.MAX_VALUE;
    return typeof t != "number" ? this.scroll.lines(t.index, t.length) : this.scroll.lines(t, r);
  }
  getModule(t) {
    return this.theme.modules[t];
  }
  getSelection() {
    return (arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : !1) && this.focus(), this.update(), this.selection.getRange()[0];
  }
  getSemanticHTML() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0, r = arguments.length > 1 ? arguments[1] : void 0;
    return typeof t == "number" && (r = r ?? this.getLength() - t), [t, r] = vo(t, r), this.editor.getHTML(t, r);
  }
  getText() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0, r = arguments.length > 1 ? arguments[1] : void 0;
    return typeof t == "number" && (r = r ?? this.getLength() - t), [t, r] = vo(t, r), this.editor.getText(t, r);
  }
  hasFocus() {
    return this.selection.hasFocus();
  }
  insertEmbed(t, r, n) {
    let s = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : Js.sources.API;
    return Hs.call(this, () => this.editor.insertEmbed(t, r, n), s, t);
  }
  insertText(t, r, n, s, i) {
    let o;
    return [t, , o, i] = vo(t, 0, n, s, i), Hs.call(this, () => this.editor.insertText(t, r, o), i, t, r.length);
  }
  isEnabled() {
    return this.scroll.isEnabled();
  }
  off() {
    return this.emitter.off(...arguments);
  }
  on() {
    return this.emitter.on(...arguments);
  }
  once() {
    return this.emitter.once(...arguments);
  }
  removeFormat(t, r, n) {
    return [t, r, , n] = vo(t, r, n), Hs.call(this, () => this.editor.removeFormat(t, r), n, t);
  }
  scrollRectIntoView(t) {
    gAe(this.root, t);
  }
  /**
   * @deprecated Use Quill#scrollSelectionIntoView() instead.
   */
  scrollIntoView() {
    console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."), this.scrollSelectionIntoView();
  }
  /**
   * Scroll the current selection into the visible area.
   * If the selection is already visible, no scrolling will occur.
   */
  scrollSelectionIntoView() {
    const t = this.selection.lastRange, r = t && this.selection.getBounds(t.index, t.length);
    r && this.scrollRectIntoView(r);
  }
  setContents(t) {
    let r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : Ae.sources.API;
    return Hs.call(this, () => {
      t = new De(t);
      const n = this.getLength(), s = this.editor.deleteText(0, n), i = this.editor.insertContents(0, t), o = this.editor.deleteText(this.getLength() - 1, 1);
      return s.compose(i).compose(o);
    }, r);
  }
  setSelection(t, r, n) {
    t == null ? this.selection.setRange(null, r || Js.sources.API) : ([t, r, , n] = vo(t, r, n), this.selection.setRange(new pc(Math.max(0, t), r), n), n !== Ae.sources.SILENT && this.scrollSelectionIntoView());
  }
  setText(t) {
    let r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : Ae.sources.API;
    const n = new De().insert(t);
    return this.setContents(n, r);
  }
  update() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : Ae.sources.USER;
    const r = this.scroll.update(t);
    return this.selection.update(t), r;
  }
  updateContents(t) {
    let r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : Ae.sources.API;
    return Hs.call(this, () => (t = new De(t), this.editor.applyDelta(t)), r, !0);
  }
};
Ee(Js, "DEFAULTS", {
  bounds: null,
  modules: {
    clipboard: !0,
    keyboard: !0,
    history: !0,
    uploader: !0
  },
  placeholder: "",
  readOnly: !1,
  registry: Km,
  theme: "default"
}), Ee(Js, "events", Ae.events), Ee(Js, "sources", Ae.sources), Ee(Js, "version", "2.0.3"), Ee(Js, "imports", {
  delta: De,
  parchment: KTe,
  "core/module": ji,
  "core/theme": od
});
let le = Js;
function x$(e) {
  return typeof e == "string" ? document.querySelector(e) : e;
}
function Qx(e) {
  return Object.entries(e ?? {}).reduce((t, r) => {
    let [n, s] = r;
    return {
      ...t,
      [n]: s === !0 ? {} : s
    };
  }, {});
}
function w$(e) {
  return Object.fromEntries(Object.entries(e).filter((t) => t[1] !== void 0));
}
function xAe(e, t) {
  const r = x$(e);
  if (!r)
    throw new Error("Invalid Quill container");
  const s = !t.theme || t.theme === le.DEFAULTS.theme ? od : le.import(`themes/${t.theme}`);
  if (!s)
    throw new Error(`Invalid theme ${t.theme}. Did you register it?`);
  const {
    modules: i,
    ...o
  } = le.DEFAULTS, {
    modules: a,
    ...l
  } = s.DEFAULTS;
  let c = Qx(t.modules);
  c != null && c.toolbar && c.toolbar.constructor !== Object && (c = {
    ...c,
    toolbar: {
      container: c.toolbar
    }
  });
  const d = Wa({}, Qx(i), Qx(a), c), f = {
    ...o,
    ...w$(l),
    ...w$(t)
  };
  let h = t.registry;
  return h ? t.formats && Cu.warn('Ignoring "formats" option because "registry" is specified') : h = t.formats ? bAe(t.formats, f.registry, Cu) : f.registry, {
    ...f,
    registry: h,
    container: r,
    theme: s,
    modules: Object.entries(d).reduce((p, g) => {
      let [m, y] = g;
      if (!y) return p;
      const v = le.import(`modules/${m}`);
      return v == null ? (Cu.error(`Cannot load ${m} module. Are you sure you registered it?`), p) : {
        ...p,
        // @ts-expect-error
        [m]: Wa({}, v.DEFAULTS || {}, y)
      };
    }, {}),
    bounds: x$(f.bounds)
  };
}
function Hs(e, t, r, n) {
  if (!this.isEnabled() && t === Ae.sources.USER && !this.allowReadOnlyEdits)
    return new De();
  let s = r == null ? null : this.getSelection();
  const i = this.editor.delta, o = e();
  if (s != null && (r === !0 && (r = s.index), n == null ? s = _$(s, o, t) : n !== 0 && (s = _$(s, r, n, t)), this.setSelection(s, Ae.sources.SILENT)), o.length() > 0) {
    const a = [Ae.events.TEXT_CHANGE, o, i, t];
    this.emitter.emit(Ae.events.EDITOR_CHANGE, ...a), t !== Ae.sources.SILENT && this.emitter.emit(...a);
  }
  return o;
}
function vo(e, t, r, n, s) {
  let i = {};
  return typeof e.index == "number" && typeof e.length == "number" ? typeof t != "number" ? (s = n, n = r, r = t, t = e.length, e = e.index) : (t = e.length, e = e.index) : typeof t != "number" && (s = n, n = r, r = t, t = 0), typeof r == "object" ? (i = r, s = n) : typeof r == "string" && (n != null ? i[r] = n : s = r), s = s || Ae.sources.API, [e, t, i, s];
}
function _$(e, t, r, n) {
  const s = typeof r == "number" ? r : 0;
  if (e == null) return null;
  let i, o;
  return t && typeof t.transformPosition == "function" ? [i, o] = [e.index, e.index + e.length].map((a) => (
    // @ts-expect-error -- TODO: add a better type guard around `index`
    t.transformPosition(a, n !== Ae.sources.USER)
  )) : [i, o] = [e.index, e.index + e.length].map((a) => a < t || a === t && n === Ae.sources.USER ? a : s >= 0 ? a + s : Math.max(t, a + s)), new pc(i, o - i);
}
class Tc extends Tb {
}
function S$(e) {
  return e instanceof rn || e instanceof Ts;
}
function E$(e) {
  return typeof e.updateContent == "function";
}
class nu extends mk {
  constructor(t, r, n) {
    let {
      emitter: s
    } = n;
    super(t, r), this.emitter = s, this.batch = !1, this.optimize(), this.enable(), this.domNode.addEventListener("dragstart", (i) => this.handleDragStart(i));
  }
  batchStart() {
    Array.isArray(this.batch) || (this.batch = []);
  }
  batchEnd() {
    if (!this.batch) return;
    const t = this.batch;
    this.batch = !1, this.update(t);
  }
  emitMount(t) {
    this.emitter.emit(Ae.events.SCROLL_BLOT_MOUNT, t);
  }
  emitUnmount(t) {
    this.emitter.emit(Ae.events.SCROLL_BLOT_UNMOUNT, t);
  }
  emitEmbedUpdate(t, r) {
    this.emitter.emit(Ae.events.SCROLL_EMBED_UPDATE, t, r);
  }
  deleteAt(t, r) {
    const [n, s] = this.line(t), [i] = this.line(t + r);
    if (super.deleteAt(t, r), i != null && n !== i && s > 0) {
      if (n instanceof Ts || i instanceof Ts) {
        this.optimize();
        return;
      }
      const o = i.children.head instanceof Ei ? null : i.children.head;
      n.moveChildren(i, o), n.remove();
    }
    this.optimize();
  }
  enable() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : !0;
    this.domNode.setAttribute("contenteditable", t ? "true" : "false");
  }
  formatAt(t, r, n, s) {
    super.formatAt(t, r, n, s), this.optimize();
  }
  insertAt(t, r, n) {
    if (t >= this.length())
      if (n == null || this.scroll.query(r, Re.BLOCK) == null) {
        const s = this.scroll.create(this.statics.defaultChild.blotName);
        this.appendChild(s), n == null && r.endsWith(`
`) ? s.insertAt(0, r.slice(0, -1), n) : s.insertAt(0, r, n);
      } else {
        const s = this.scroll.create(r, n);
        this.appendChild(s);
      }
    else
      super.insertAt(t, r, n);
    this.optimize();
  }
  insertBefore(t, r) {
    if (t.statics.scope === Re.INLINE_BLOT) {
      const n = this.scroll.create(this.statics.defaultChild.blotName);
      n.appendChild(t), super.insertBefore(n, r);
    } else
      super.insertBefore(t, r);
  }
  insertContents(t, r) {
    const n = this.deltaToRenderBlocks(r.concat(new De().insert(`
`))), s = n.pop();
    if (s == null) return;
    this.batchStart();
    const i = n.shift();
    if (i) {
      const l = i.type === "block" && (i.delta.length() === 0 || !this.descendant(Ts, t)[0] && t < this.length()), c = i.type === "block" ? i.delta : new De().insert({
        [i.key]: i.value
      });
      ew(this, t, c);
      const d = i.type === "block" ? 1 : 0, f = t + c.length() + d;
      l && this.insertAt(f - 1, `
`);
      const h = ks(this.line(t)[0]), p = Ps.AttributeMap.diff(h, i.attributes) || {};
      Object.keys(p).forEach((g) => {
        this.formatAt(f - 1, 1, g, p[g]);
      }), t = f;
    }
    let [o, a] = this.children.find(t);
    if (n.length && (o && (o = o.split(a), a = 0), n.forEach((l) => {
      if (l.type === "block") {
        const c = this.createBlock(l.attributes, o || void 0);
        ew(c, 0, l.delta);
      } else {
        const c = this.create(l.key, l.value);
        this.insertBefore(c, o || void 0), Object.keys(l.attributes).forEach((d) => {
          c.format(d, l.attributes[d]);
        });
      }
    })), s.type === "block" && s.delta.length()) {
      const l = o ? o.offset(o.scroll) + a : this.length();
      ew(this, l, s.delta);
    }
    this.batchEnd(), this.optimize();
  }
  isEnabled() {
    return this.domNode.getAttribute("contenteditable") === "true";
  }
  leaf(t) {
    const r = this.path(t).pop();
    if (!r)
      return [null, -1];
    const [n, s] = r;
    return n instanceof pn ? [n, s] : [null, -1];
  }
  line(t) {
    return t === this.length() ? this.line(t - 1) : this.descendant(S$, t);
  }
  lines() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0, r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : Number.MAX_VALUE;
    const n = (s, i, o) => {
      let a = [], l = o;
      return s.children.forEachAt(i, o, (c, d, f) => {
        S$(c) ? a.push(c) : c instanceof Tb && (a = a.concat(n(c, d, l))), l -= f;
      }), a;
    };
    return n(this, t, r);
  }
  optimize() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [], r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    this.batch || (super.optimize(t, r), t.length > 0 && this.emitter.emit(Ae.events.SCROLL_OPTIMIZE, t, r));
  }
  path(t) {
    return super.path(t).slice(1);
  }
  remove() {
  }
  update(t) {
    if (this.batch) {
      Array.isArray(t) && (this.batch = this.batch.concat(t));
      return;
    }
    let r = Ae.sources.USER;
    typeof t == "string" && (r = t), Array.isArray(t) || (t = this.observer.takeRecords()), t = t.filter((n) => {
      let {
        target: s
      } = n;
      const i = this.find(s, !0);
      return i && !E$(i);
    }), t.length > 0 && this.emitter.emit(Ae.events.SCROLL_BEFORE_UPDATE, r, t), super.update(t.concat([])), t.length > 0 && this.emitter.emit(Ae.events.SCROLL_UPDATE, r, t);
  }
  updateEmbedAt(t, r, n) {
    const [s] = this.descendant((i) => i instanceof Ts, t);
    s && s.statics.blotName === r && E$(s) && s.updateContent(n);
  }
  handleDragStart(t) {
    t.preventDefault();
  }
  deltaToRenderBlocks(t) {
    const r = [];
    let n = new De();
    return t.forEach((s) => {
      const i = s == null ? void 0 : s.insert;
      if (i)
        if (typeof i == "string") {
          const o = i.split(`
`);
          o.slice(0, -1).forEach((l) => {
            n.insert(l, s.attributes), r.push({
              type: "block",
              delta: n,
              attributes: s.attributes ?? {}
            }), n = new De();
          });
          const a = o[o.length - 1];
          a && n.insert(a, s.attributes);
        } else {
          const o = Object.keys(i)[0];
          if (!o) return;
          this.query(o, Re.INLINE) ? n.push(s) : (n.length() && r.push({
            type: "block",
            delta: n,
            attributes: {}
          }), n = new De(), r.push({
            type: "blockEmbed",
            key: o,
            value: i[o],
            attributes: s.attributes ?? {}
          }));
        }
    }), n.length() && r.push({
      type: "block",
      delta: n,
      attributes: {}
    }), r;
  }
  createBlock(t, r) {
    let n;
    const s = {};
    Object.entries(t).forEach((a) => {
      let [l, c] = a;
      this.query(l, Re.BLOCK & Re.BLOT) != null ? n = l : s[l] = c;
    });
    const i = this.create(n || this.statics.defaultChild.blotName, n ? t[n] : void 0);
    this.insertBefore(i, r || void 0);
    const o = i.length();
    return Object.entries(s).forEach((a) => {
      let [l, c] = a;
      i.formatAt(0, o, l, c);
    }), i;
  }
}
Ee(nu, "blotName", "scroll"), Ee(nu, "className", "ql-editor"), Ee(nu, "tagName", "DIV"), Ee(nu, "defaultChild", rn), Ee(nu, "allowedChildren", [rn, Ts, Tc]);
function ew(e, t, r) {
  r.reduce((n, s) => {
    const i = Ps.Op.length(s);
    let o = s.attributes || {};
    if (s.insert != null) {
      if (typeof s.insert == "string") {
        const a = s.insert;
        e.insertAt(n, a);
        const [l] = e.descendant(pn, n), c = ks(l);
        o = Ps.AttributeMap.diff(c, o) || {};
      } else if (typeof s.insert == "object") {
        const a = Object.keys(s.insert)[0];
        if (a == null) return n;
        if (e.insertAt(n, a, s.insert[a]), e.scroll.query(a, Re.INLINE) != null) {
          const [c] = e.descendant(pn, n), d = ks(c);
          o = Ps.AttributeMap.diff(d, o) || {};
        }
      }
    }
    return Object.keys(o).forEach((a) => {
      e.formatAt(n, i, a, o[a]);
    }), n + i;
  }, t);
}
const wk = {
  scope: Re.BLOCK,
  whitelist: ["right", "center", "justify"]
}, wAe = new Qi("align", "align", wk), WU = new Si("align", "ql-align", wk), KU = new gl("align", "text-align", wk);
class HU extends gl {
  value(t) {
    let r = super.value(t);
    return r.startsWith("rgb(") ? (r = r.replace(/^[^\d]+/, "").replace(/[^\d]+$/, ""), `#${r.split(",").map((s) => `00${parseInt(s, 10).toString(16)}`.slice(-2)).join("")}`) : r;
  }
}
const _Ae = new Si("color", "ql-color", {
  scope: Re.INLINE
}), _k = new HU("color", "color", {
  scope: Re.INLINE
}), SAe = new Si("background", "ql-bg", {
  scope: Re.INLINE
}), Sk = new HU("background", "background-color", {
  scope: Re.INLINE
});
class Ac extends Tc {
  static create(t) {
    const r = super.create(t);
    return r.setAttribute("spellcheck", "false"), r;
  }
  code(t, r) {
    return this.children.map((n) => n.length() <= 1 ? "" : n.domNode.innerText).join(`
`).slice(t, t + r);
  }
  html(t, r) {
    return `<pre>
${Db(this.code(t, r))}
</pre>`;
  }
}
class vn extends rn {
  static register() {
    le.register(Ac);
  }
}
Ee(vn, "TAB", "  ");
class Ek extends eo {
}
Ek.blotName = "code";
Ek.tagName = "CODE";
vn.blotName = "code-block";
vn.className = "ql-code-block";
vn.tagName = "DIV";
Ac.blotName = "code-block-container";
Ac.className = "ql-code-block-container";
Ac.tagName = "DIV";
Ac.allowedChildren = [vn];
vn.allowedChildren = [yi, Ei, id];
vn.requiredContainer = Ac;
const jk = {
  scope: Re.BLOCK,
  whitelist: ["rtl"]
}, YU = new Qi("direction", "dir", jk), GU = new Si("direction", "ql-direction", jk), ZU = new gl("direction", "direction", jk), XU = {
  scope: Re.INLINE,
  whitelist: ["serif", "monospace"]
}, JU = new Si("font", "ql-font", XU);
class EAe extends gl {
  value(t) {
    return super.value(t).replace(/["']/g, "");
  }
}
const QU = new EAe("font", "font-family", XU), e7 = new Si("size", "ql-size", {
  scope: Re.INLINE,
  whitelist: ["small", "large", "huge"]
}), t7 = new gl("size", "font-size", {
  scope: Re.INLINE,
  whitelist: ["10px", "18px", "32px"]
}), jAe = aa("quill:keyboard"), NAe = /Mac/i.test(navigator.platform) ? "metaKey" : "ctrlKey";
class $b extends ji {
  static match(t, r) {
    return ["altKey", "ctrlKey", "metaKey", "shiftKey"].some((n) => !!r[n] !== t[n] && r[n] !== null) ? !1 : r.key === t.key || r.key === t.which;
  }
  constructor(t, r) {
    super(t, r), this.bindings = {}, Object.keys(this.options.bindings).forEach((n) => {
      this.options.bindings[n] && this.addBinding(this.options.bindings[n]);
    }), this.addBinding({
      key: "Enter",
      shiftKey: null
    }, this.handleEnter), this.addBinding({
      key: "Enter",
      metaKey: null,
      ctrlKey: null,
      altKey: null
    }, () => {
    }), /Firefox/i.test(navigator.userAgent) ? (this.addBinding({
      key: "Backspace"
    }, {
      collapsed: !0
    }, this.handleBackspace), this.addBinding({
      key: "Delete"
    }, {
      collapsed: !0
    }, this.handleDelete)) : (this.addBinding({
      key: "Backspace"
    }, {
      collapsed: !0,
      prefix: /^.?$/
    }, this.handleBackspace), this.addBinding({
      key: "Delete"
    }, {
      collapsed: !0,
      suffix: /^.?$/
    }, this.handleDelete)), this.addBinding({
      key: "Backspace"
    }, {
      collapsed: !1
    }, this.handleDeleteRange), this.addBinding({
      key: "Delete"
    }, {
      collapsed: !1
    }, this.handleDeleteRange), this.addBinding({
      key: "Backspace",
      altKey: null,
      ctrlKey: null,
      metaKey: null,
      shiftKey: null
    }, {
      collapsed: !0,
      offset: 0
    }, this.handleBackspace), this.listen();
  }
  addBinding(t) {
    let r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, n = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};
    const s = CAe(t);
    if (s == null) {
      jAe.warn("Attempted to add invalid keyboard binding", s);
      return;
    }
    typeof r == "function" && (r = {
      handler: r
    }), typeof n == "function" && (n = {
      handler: n
    }), (Array.isArray(s.key) ? s.key : [s.key]).forEach((o) => {
      const a = {
        ...s,
        key: o,
        ...r,
        ...n
      };
      this.bindings[a.key] = this.bindings[a.key] || [], this.bindings[a.key].push(a);
    });
  }
  listen() {
    this.quill.root.addEventListener("keydown", (t) => {
      if (t.defaultPrevented || t.isComposing || t.keyCode === 229 && (t.key === "Enter" || t.key === "Backspace")) return;
      const s = (this.bindings[t.key] || []).concat(this.bindings[t.which] || []).filter((v) => $b.match(t, v));
      if (s.length === 0) return;
      const i = le.find(t.target, !0);
      if (i && i.scroll !== this.quill.scroll) return;
      const o = this.quill.getSelection();
      if (o == null || !this.quill.hasFocus()) return;
      const [a, l] = this.quill.getLine(o.index), [c, d] = this.quill.getLeaf(o.index), [f, h] = o.length === 0 ? [c, d] : this.quill.getLeaf(o.index + o.length), p = c instanceof My ? c.value().slice(0, d) : "", g = f instanceof My ? f.value().slice(h) : "", m = {
        collapsed: o.length === 0,
        // @ts-expect-error Fix me later
        empty: o.length === 0 && a.length() <= 1,
        format: this.quill.getFormat(o),
        line: a,
        offset: l,
        prefix: p,
        suffix: g,
        event: t
      };
      s.some((v) => {
        if (v.collapsed != null && v.collapsed !== m.collapsed || v.empty != null && v.empty !== m.empty || v.offset != null && v.offset !== m.offset)
          return !1;
        if (Array.isArray(v.format)) {
          if (v.format.every((b) => m.format[b] == null))
            return !1;
        } else if (typeof v.format == "object" && !Object.keys(v.format).every((b) => v.format[b] === !0 ? m.format[b] != null : v.format[b] === !1 ? m.format[b] == null : Da(v.format[b], m.format[b])))
          return !1;
        return v.prefix != null && !v.prefix.test(m.prefix) || v.suffix != null && !v.suffix.test(m.suffix) ? !1 : v.handler.call(this, o, m, v) !== !0;
      }) && t.preventDefault();
    });
  }
  handleBackspace(t, r) {
    const n = /[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(r.prefix) ? 2 : 1;
    if (t.index === 0 || this.quill.getLength() <= 1) return;
    let s = {};
    const [i] = this.quill.getLine(t.index);
    let o = new De().retain(t.index - n).delete(n);
    if (r.offset === 0) {
      const [a] = this.quill.getLine(t.index - 1);
      if (a && !(a.statics.blotName === "block" && a.length() <= 1)) {
        const c = i.formats(), d = this.quill.getFormat(t.index - 1, 1);
        if (s = Ps.AttributeMap.diff(c, d) || {}, Object.keys(s).length > 0) {
          const f = new De().retain(t.index + i.length() - 2).retain(1, s);
          o = o.compose(f);
        }
      }
    }
    this.quill.updateContents(o, le.sources.USER), this.quill.focus();
  }
  handleDelete(t, r) {
    const n = /^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(r.suffix) ? 2 : 1;
    if (t.index >= this.quill.getLength() - n) return;
    let s = {};
    const [i] = this.quill.getLine(t.index);
    let o = new De().retain(t.index).delete(n);
    if (r.offset >= i.length() - 1) {
      const [a] = this.quill.getLine(t.index + 1);
      if (a) {
        const l = i.formats(), c = this.quill.getFormat(t.index, 1);
        s = Ps.AttributeMap.diff(l, c) || {}, Object.keys(s).length > 0 && (o = o.retain(a.length() - 1).retain(1, s));
      }
    }
    this.quill.updateContents(o, le.sources.USER), this.quill.focus();
  }
  handleDeleteRange(t) {
    Nk({
      range: t,
      quill: this.quill
    }), this.quill.focus();
  }
  handleEnter(t, r) {
    const n = Object.keys(r.format).reduce((i, o) => (this.quill.scroll.query(o, Re.BLOCK) && !Array.isArray(r.format[o]) && (i[o] = r.format[o]), i), {}), s = new De().retain(t.index).delete(t.length).insert(`
`, n);
    this.quill.updateContents(s, le.sources.USER), this.quill.setSelection(t.index + 1, le.sources.SILENT), this.quill.focus();
  }
}
const kAe = {
  bindings: {
    bold: tw("bold"),
    italic: tw("italic"),
    underline: tw("underline"),
    indent: {
      // highlight tab or tab at beginning of list, indent or blockquote
      key: "Tab",
      format: ["blockquote", "indent", "list"],
      handler(e, t) {
        return t.collapsed && t.offset !== 0 ? !0 : (this.quill.format("indent", "+1", le.sources.USER), !1);
      }
    },
    outdent: {
      key: "Tab",
      shiftKey: !0,
      format: ["blockquote", "indent", "list"],
      // highlight tab or tab at beginning of list, indent or blockquote
      handler(e, t) {
        return t.collapsed && t.offset !== 0 ? !0 : (this.quill.format("indent", "-1", le.sources.USER), !1);
      }
    },
    "outdent backspace": {
      key: "Backspace",
      collapsed: !0,
      shiftKey: null,
      metaKey: null,
      ctrlKey: null,
      altKey: null,
      format: ["indent", "list"],
      offset: 0,
      handler(e, t) {
        t.format.indent != null ? this.quill.format("indent", "-1", le.sources.USER) : t.format.list != null && this.quill.format("list", !1, le.sources.USER);
      }
    },
    "indent code-block": j$(!0),
    "outdent code-block": j$(!1),
    "remove tab": {
      key: "Tab",
      shiftKey: !0,
      collapsed: !0,
      prefix: /\t$/,
      handler(e) {
        this.quill.deleteText(e.index - 1, 1, le.sources.USER);
      }
    },
    tab: {
      key: "Tab",
      handler(e, t) {
        if (t.format.table) return !0;
        this.quill.history.cutoff();
        const r = new De().retain(e.index).delete(e.length).insert("	");
        return this.quill.updateContents(r, le.sources.USER), this.quill.history.cutoff(), this.quill.setSelection(e.index + 1, le.sources.SILENT), !1;
      }
    },
    "blockquote empty enter": {
      key: "Enter",
      collapsed: !0,
      format: ["blockquote"],
      empty: !0,
      handler() {
        this.quill.format("blockquote", !1, le.sources.USER);
      }
    },
    "list empty enter": {
      key: "Enter",
      collapsed: !0,
      format: ["list"],
      empty: !0,
      handler(e, t) {
        const r = {
          list: !1
        };
        t.format.indent && (r.indent = !1), this.quill.formatLine(e.index, e.length, r, le.sources.USER);
      }
    },
    "checklist enter": {
      key: "Enter",
      collapsed: !0,
      format: {
        list: "checked"
      },
      handler(e) {
        const [t, r] = this.quill.getLine(e.index), n = {
          // @ts-expect-error Fix me later
          ...t.formats(),
          list: "checked"
        }, s = new De().retain(e.index).insert(`
`, n).retain(t.length() - r - 1).retain(1, {
          list: "unchecked"
        });
        this.quill.updateContents(s, le.sources.USER), this.quill.setSelection(e.index + 1, le.sources.SILENT), this.quill.scrollSelectionIntoView();
      }
    },
    "header enter": {
      key: "Enter",
      collapsed: !0,
      format: ["header"],
      suffix: /^$/,
      handler(e, t) {
        const [r, n] = this.quill.getLine(e.index), s = new De().retain(e.index).insert(`
`, t.format).retain(r.length() - n - 1).retain(1, {
          header: null
        });
        this.quill.updateContents(s, le.sources.USER), this.quill.setSelection(e.index + 1, le.sources.SILENT), this.quill.scrollSelectionIntoView();
      }
    },
    "table backspace": {
      key: "Backspace",
      format: ["table"],
      collapsed: !0,
      offset: 0,
      handler() {
      }
    },
    "table delete": {
      key: "Delete",
      format: ["table"],
      collapsed: !0,
      suffix: /^$/,
      handler() {
      }
    },
    "table enter": {
      key: "Enter",
      shiftKey: null,
      format: ["table"],
      handler(e) {
        const t = this.quill.getModule("table");
        if (t) {
          const [r, n, s, i] = t.getTable(e), o = TAe(r, n, s, i);
          if (o == null) return;
          let a = r.offset();
          if (o < 0) {
            const l = new De().retain(a).insert(`
`);
            this.quill.updateContents(l, le.sources.USER), this.quill.setSelection(e.index + 1, e.length, le.sources.SILENT);
          } else if (o > 0) {
            a += r.length();
            const l = new De().retain(a).insert(`
`);
            this.quill.updateContents(l, le.sources.USER), this.quill.setSelection(a, le.sources.USER);
          }
        }
      }
    },
    "table tab": {
      key: "Tab",
      shiftKey: null,
      format: ["table"],
      handler(e, t) {
        const {
          event: r,
          line: n
        } = t, s = n.offset(this.quill.scroll);
        r.shiftKey ? this.quill.setSelection(s - 1, le.sources.USER) : this.quill.setSelection(s + n.length(), le.sources.USER);
      }
    },
    "list autofill": {
      key: " ",
      shiftKey: null,
      collapsed: !0,
      format: {
        "code-block": !1,
        blockquote: !1,
        table: !1
      },
      prefix: /^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,
      handler(e, t) {
        if (this.quill.scroll.query("list") == null) return !0;
        const {
          length: r
        } = t.prefix, [n, s] = this.quill.getLine(e.index);
        if (s > r) return !0;
        let i;
        switch (t.prefix.trim()) {
          case "[]":
          case "[ ]":
            i = "unchecked";
            break;
          case "[x]":
            i = "checked";
            break;
          case "-":
          case "*":
            i = "bullet";
            break;
          default:
            i = "ordered";
        }
        this.quill.insertText(e.index, " ", le.sources.USER), this.quill.history.cutoff();
        const o = new De().retain(e.index - s).delete(r + 1).retain(n.length() - 2 - s).retain(1, {
          list: i
        });
        return this.quill.updateContents(o, le.sources.USER), this.quill.history.cutoff(), this.quill.setSelection(e.index - r, le.sources.SILENT), !1;
      }
    },
    "code exit": {
      key: "Enter",
      collapsed: !0,
      format: ["code-block"],
      prefix: /^$/,
      suffix: /^\s*$/,
      handler(e) {
        const [t, r] = this.quill.getLine(e.index);
        let n = 2, s = t;
        for (; s != null && s.length() <= 1 && s.formats()["code-block"]; )
          if (s = s.prev, n -= 1, n <= 0) {
            const i = new De().retain(e.index + t.length() - r - 2).retain(1, {
              "code-block": null
            }).delete(1);
            return this.quill.updateContents(i, le.sources.USER), this.quill.setSelection(e.index - 1, le.sources.SILENT), !1;
          }
        return !0;
      }
    },
    "embed left": Hm("ArrowLeft", !1),
    "embed left shift": Hm("ArrowLeft", !0),
    "embed right": Hm("ArrowRight", !1),
    "embed right shift": Hm("ArrowRight", !0),
    "table down": N$(!1),
    "table up": N$(!0)
  }
};
$b.DEFAULTS = kAe;
function j$(e) {
  return {
    key: "Tab",
    shiftKey: !e,
    format: {
      "code-block": !0
    },
    handler(t, r) {
      let {
        event: n
      } = r;
      const s = this.quill.scroll.query("code-block"), {
        TAB: i
      } = s;
      if (t.length === 0 && !n.shiftKey) {
        this.quill.insertText(t.index, i, le.sources.USER), this.quill.setSelection(t.index + i.length, le.sources.SILENT);
        return;
      }
      const o = t.length === 0 ? this.quill.getLines(t.index, 1) : this.quill.getLines(t);
      let {
        index: a,
        length: l
      } = t;
      o.forEach((c, d) => {
        e ? (c.insertAt(0, i), d === 0 ? a += i.length : l += i.length) : c.domNode.textContent.startsWith(i) && (c.deleteAt(0, i.length), d === 0 ? a -= i.length : l -= i.length);
      }), this.quill.update(le.sources.USER), this.quill.setSelection(a, l, le.sources.SILENT);
    }
  };
}
function Hm(e, t) {
  return {
    key: e,
    shiftKey: t,
    altKey: null,
    [e === "ArrowLeft" ? "prefix" : "suffix"]: /^$/,
    handler(n) {
      let {
        index: s
      } = n;
      e === "ArrowRight" && (s += n.length + 1);
      const [i] = this.quill.getLeaf(s);
      return i instanceof ds ? (e === "ArrowLeft" ? t ? this.quill.setSelection(n.index - 1, n.length + 1, le.sources.USER) : this.quill.setSelection(n.index - 1, le.sources.USER) : t ? this.quill.setSelection(n.index, n.length + 1, le.sources.USER) : this.quill.setSelection(n.index + n.length + 1, le.sources.USER), !1) : !0;
    }
  };
}
function tw(e) {
  return {
    key: e[0],
    shortKey: !0,
    handler(t, r) {
      this.quill.format(e, !r.format[e], le.sources.USER);
    }
  };
}
function N$(e) {
  return {
    key: e ? "ArrowUp" : "ArrowDown",
    collapsed: !0,
    format: ["table"],
    handler(t, r) {
      const n = e ? "prev" : "next", s = r.line, i = s.parent[n];
      if (i != null) {
        if (i.statics.blotName === "table-row") {
          let o = i.children.head, a = s;
          for (; a.prev != null; )
            a = a.prev, o = o.next;
          const l = o.offset(this.quill.scroll) + Math.min(r.offset, o.length() - 1);
          this.quill.setSelection(l, 0, le.sources.USER);
        }
      } else {
        const o = s.table()[n];
        o != null && (e ? this.quill.setSelection(o.offset(this.quill.scroll) + o.length() - 1, 0, le.sources.USER) : this.quill.setSelection(o.offset(this.quill.scroll), 0, le.sources.USER));
      }
      return !1;
    }
  };
}
function CAe(e) {
  if (typeof e == "string" || typeof e == "number")
    e = {
      key: e
    };
  else if (typeof e == "object")
    e = Nu(e);
  else
    return null;
  return e.shortKey && (e[NAe] = e.shortKey, delete e.shortKey), e;
}
function Nk(e) {
  let {
    quill: t,
    range: r
  } = e;
  const n = t.getLines(r);
  let s = {};
  if (n.length > 1) {
    const i = n[0].formats(), o = n[n.length - 1].formats();
    s = Ps.AttributeMap.diff(o, i) || {};
  }
  t.deleteText(r, le.sources.USER), Object.keys(s).length > 0 && t.formatLine(r.index, 1, s, le.sources.USER), t.setSelection(r.index, le.sources.SILENT);
}
function TAe(e, t, r, n) {
  return t.prev == null && t.next == null ? r.prev == null && r.next == null ? n === 0 ? -1 : 1 : r.prev == null ? -1 : 1 : t.prev == null ? -1 : t.next == null ? 1 : null;
}
const AAe = /font-weight:\s*normal/, PAe = ["P", "OL", "UL"], k$ = (e) => e && PAe.includes(e.tagName), OAe = (e) => {
  Array.from(e.querySelectorAll("br")).filter((t) => k$(t.previousElementSibling) && k$(t.nextElementSibling)).forEach((t) => {
    var r;
    (r = t.parentNode) == null || r.removeChild(t);
  });
}, DAe = (e) => {
  Array.from(e.querySelectorAll('b[style*="font-weight"]')).filter((t) => {
    var r;
    return (r = t.getAttribute("style")) == null ? void 0 : r.match(AAe);
  }).forEach((t) => {
    var n;
    const r = e.createDocumentFragment();
    r.append(...t.childNodes), (n = t.parentNode) == null || n.replaceChild(r, t);
  });
};
function $Ae(e) {
  e.querySelector('[id^="docs-internal-guid-"]') && (DAe(e), OAe(e));
}
const RAe = /\bmso-list:[^;]*ignore/i, IAe = /\bmso-list:[^;]*\bl(\d+)/i, MAe = /\bmso-list:[^;]*\blevel(\d+)/i, LAe = (e, t) => {
  const r = e.getAttribute("style"), n = r == null ? void 0 : r.match(IAe);
  if (!n)
    return null;
  const s = Number(n[1]), i = r == null ? void 0 : r.match(MAe), o = i ? Number(i[1]) : 1, a = new RegExp(`@list l${s}:level${o}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`, "i"), l = t.match(a), c = l && l[1] === "bullet" ? "bullet" : "ordered";
  return {
    id: s,
    indent: o,
    type: c,
    element: e
  };
}, FAe = (e) => {
  var o, a;
  const t = Array.from(e.querySelectorAll("[style*=mso-list]")), r = [], n = [];
  t.forEach((l) => {
    (l.getAttribute("style") || "").match(RAe) ? r.push(l) : n.push(l);
  }), r.forEach((l) => {
    var c;
    return (c = l.parentNode) == null ? void 0 : c.removeChild(l);
  });
  const s = e.documentElement.innerHTML, i = n.map((l) => LAe(l, s)).filter((l) => l);
  for (; i.length; ) {
    const l = [];
    let c = i.shift();
    for (; c; )
      l.push(c), c = i.length && ((o = i[0]) == null ? void 0 : o.element) === c.element.nextElementSibling && // Different id means the next item doesn't belong to this group.
      i[0].id === c.id ? i.shift() : null;
    const d = document.createElement("ul");
    l.forEach((p) => {
      const g = document.createElement("li");
      g.setAttribute("data-list", p.type), p.indent > 1 && g.setAttribute("class", `ql-indent-${p.indent - 1}`), g.innerHTML = p.element.innerHTML, d.appendChild(g);
    });
    const f = (a = l[0]) == null ? void 0 : a.element, {
      parentNode: h
    } = f ?? {};
    f && (h == null || h.replaceChild(d, f)), l.slice(1).forEach((p) => {
      let {
        element: g
      } = p;
      h == null || h.removeChild(g);
    });
  }
};
function BAe(e) {
  e.documentElement.getAttribute("xmlns:w") === "urn:schemas-microsoft-com:office:word" && FAe(e);
}
const zAe = [BAe, $Ae], UAe = (e) => {
  e.documentElement && zAe.forEach((t) => {
    t(e);
  });
}, qAe = aa("quill:clipboard"), VAe = [[Node.TEXT_NODE, rPe], [Node.TEXT_NODE, T$], ["br", GAe], [Node.ELEMENT_NODE, T$], [Node.ELEMENT_NODE, YAe], [Node.ELEMENT_NODE, HAe], [Node.ELEMENT_NODE, ePe], ["li", JAe], ["ol, ul", QAe], ["pre", ZAe], ["tr", tPe], ["b", rw("bold")], ["i", rw("italic")], ["strike", rw("strike")], ["style", XAe]], WAe = [wAe, YU].reduce((e, t) => (e[t.keyName] = t, e), {}), C$ = [KU, Sk, _k, ZU, QU, t7].reduce((e, t) => (e[t.keyName] = t, e), {});
class r7 extends ji {
  constructor(t, r) {
    super(t, r), this.quill.root.addEventListener("copy", (n) => this.onCaptureCopy(n, !1)), this.quill.root.addEventListener("cut", (n) => this.onCaptureCopy(n, !0)), this.quill.root.addEventListener("paste", this.onCapturePaste.bind(this)), this.matchers = [], VAe.concat(this.options.matchers ?? []).forEach((n) => {
      let [s, i] = n;
      this.addMatcher(s, i);
    });
  }
  addMatcher(t, r) {
    this.matchers.push([t, r]);
  }
  convert(t) {
    let {
      html: r,
      text: n
    } = t, s = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    if (s[vn.blotName])
      return new De().insert(n || "", {
        [vn.blotName]: s[vn.blotName]
      });
    if (!r)
      return new De().insert(n || "", s);
    const i = this.convertHTML(r);
    return Tp(i, `
`) && (i.ops[i.ops.length - 1].attributes == null || s.table) ? i.compose(new De().retain(i.length() - 1).delete(1)) : i;
  }
  normalizeHTML(t) {
    UAe(t);
  }
  convertHTML(t) {
    const r = new DOMParser().parseFromString(t, "text/html");
    this.normalizeHTML(r);
    const n = r.body, s = /* @__PURE__ */ new WeakMap(), [i, o] = this.prepareMatching(n, s);
    return kk(this.quill.scroll, n, i, o, s);
  }
  dangerouslyPasteHTML(t, r) {
    let n = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : le.sources.API;
    if (typeof t == "string") {
      const s = this.convert({
        html: t,
        text: ""
      });
      this.quill.setContents(s, r), this.quill.setSelection(0, le.sources.SILENT);
    } else {
      const s = this.convert({
        html: r,
        text: ""
      });
      this.quill.updateContents(new De().retain(t).concat(s), n), this.quill.setSelection(t + s.length(), le.sources.SILENT);
    }
  }
  onCaptureCopy(t) {
    var o, a;
    let r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !1;
    if (t.defaultPrevented) return;
    t.preventDefault();
    const [n] = this.quill.selection.getRange();
    if (n == null) return;
    const {
      html: s,
      text: i
    } = this.onCopy(n, r);
    (o = t.clipboardData) == null || o.setData("text/plain", i), (a = t.clipboardData) == null || a.setData("text/html", s), r && Nk({
      range: n,
      quill: this.quill
    });
  }
  /*
   * https://www.iana.org/assignments/media-types/text/uri-list
   */
  normalizeURIList(t) {
    return t.split(/\r?\n/).filter((r) => r[0] !== "#").join(`
`);
  }
  onCapturePaste(t) {
    var o, a, l, c, d;
    if (t.defaultPrevented || !this.quill.isEnabled()) return;
    t.preventDefault();
    const r = this.quill.getSelection(!0);
    if (r == null) return;
    const n = (o = t.clipboardData) == null ? void 0 : o.getData("text/html");
    let s = (a = t.clipboardData) == null ? void 0 : a.getData("text/plain");
    if (!n && !s) {
      const f = (l = t.clipboardData) == null ? void 0 : l.getData("text/uri-list");
      f && (s = this.normalizeURIList(f));
    }
    const i = Array.from(((c = t.clipboardData) == null ? void 0 : c.files) || []);
    if (!n && i.length > 0) {
      this.quill.uploader.upload(r, i);
      return;
    }
    if (n && i.length > 0) {
      const f = new DOMParser().parseFromString(n, "text/html");
      if (f.body.childElementCount === 1 && ((d = f.body.firstElementChild) == null ? void 0 : d.tagName) === "IMG") {
        this.quill.uploader.upload(r, i);
        return;
      }
    }
    this.onPaste(r, {
      html: n,
      text: s
    });
  }
  onCopy(t) {
    const r = this.quill.getText(t);
    return {
      html: this.quill.getSemanticHTML(t),
      text: r
    };
  }
  onPaste(t, r) {
    let {
      text: n,
      html: s
    } = r;
    const i = this.quill.getFormat(t.index), o = this.convert({
      text: n,
      html: s
    }, i);
    qAe.log("onPaste", o, {
      text: n,
      html: s
    });
    const a = new De().retain(t.index).delete(t.length).concat(o);
    this.quill.updateContents(a, le.sources.USER), this.quill.setSelection(a.length() - t.length, le.sources.SILENT), this.quill.scrollSelectionIntoView();
  }
  prepareMatching(t, r) {
    const n = [], s = [];
    return this.matchers.forEach((i) => {
      const [o, a] = i;
      switch (o) {
        case Node.TEXT_NODE:
          s.push(a);
          break;
        case Node.ELEMENT_NODE:
          n.push(a);
          break;
        default:
          Array.from(t.querySelectorAll(o)).forEach((l) => {
            if (r.has(l)) {
              const c = r.get(l);
              c == null || c.push(a);
            } else
              r.set(l, [a]);
          });
          break;
      }
    }), [n, s];
  }
}
Ee(r7, "DEFAULTS", {
  matchers: []
});
function Pc(e, t, r, n) {
  return n.query(t) ? e.reduce((s, i) => {
    if (!i.insert) return s;
    if (i.attributes && i.attributes[t])
      return s.push(i);
    const o = r ? {
      [t]: r
    } : {};
    return s.insert(i.insert, {
      ...o,
      ...i.attributes
    });
  }, new De()) : e;
}
function Tp(e, t) {
  let r = "";
  for (let n = e.ops.length - 1; n >= 0 && r.length < t.length; --n) {
    const s = e.ops[n];
    if (typeof s.insert != "string") break;
    r = s.insert + r;
  }
  return r.slice(-1 * t.length) === t;
}
function Ba(e, t) {
  if (!(e instanceof Element)) return !1;
  const r = t.query(e);
  return r && r.prototype instanceof ds ? !1 : ["address", "article", "blockquote", "canvas", "dd", "div", "dl", "dt", "fieldset", "figcaption", "figure", "footer", "form", "h1", "h2", "h3", "h4", "h5", "h6", "header", "iframe", "li", "main", "nav", "ol", "output", "p", "pre", "section", "table", "td", "tr", "ul", "video"].includes(e.tagName.toLowerCase());
}
function KAe(e, t) {
  return e.previousElementSibling && e.nextElementSibling && !Ba(e.previousElementSibling, t) && !Ba(e.nextElementSibling, t);
}
const Ym = /* @__PURE__ */ new WeakMap();
function n7(e) {
  return e == null ? !1 : (Ym.has(e) || (e.tagName === "PRE" ? Ym.set(e, !0) : Ym.set(e, n7(e.parentNode))), Ym.get(e));
}
function kk(e, t, r, n, s) {
  return t.nodeType === t.TEXT_NODE ? n.reduce((i, o) => o(t, i, e), new De()) : t.nodeType === t.ELEMENT_NODE ? Array.from(t.childNodes || []).reduce((i, o) => {
    let a = kk(e, o, r, n, s);
    return o.nodeType === t.ELEMENT_NODE && (a = r.reduce((l, c) => c(o, l, e), a), a = (s.get(o) || []).reduce((l, c) => c(o, l, e), a)), i.concat(a);
  }, new De()) : new De();
}
function rw(e) {
  return (t, r, n) => Pc(r, e, !0, n);
}
function HAe(e, t, r) {
  const n = Qi.keys(e), s = Si.keys(e), i = gl.keys(e), o = {};
  return n.concat(s).concat(i).forEach((a) => {
    let l = r.query(a, Re.ATTRIBUTE);
    l != null && (o[l.attrName] = l.value(e), o[l.attrName]) || (l = WAe[a], l != null && (l.attrName === a || l.keyName === a) && (o[l.attrName] = l.value(e) || void 0), l = C$[a], l != null && (l.attrName === a || l.keyName === a) && (l = C$[a], o[l.attrName] = l.value(e) || void 0));
  }), Object.entries(o).reduce((a, l) => {
    let [c, d] = l;
    return Pc(a, c, d, r);
  }, t);
}
function YAe(e, t, r) {
  const n = r.query(e);
  if (n == null) return t;
  if (n.prototype instanceof ds) {
    const s = {}, i = n.value(e);
    if (i != null)
      return s[n.blotName] = i, new De().insert(s, n.formats(e, r));
  } else if (n.prototype instanceof Ih && !Tp(t, `
`) && t.insert(`
`), "blotName" in n && "formats" in n && typeof n.formats == "function")
    return Pc(t, n.blotName, n.formats(e, r), r);
  return t;
}
function GAe(e, t) {
  return Tp(t, `
`) || t.insert(`
`), t;
}
function ZAe(e, t, r) {
  const n = r.query("code-block"), s = n && "formats" in n && typeof n.formats == "function" ? n.formats(e, r) : !0;
  return Pc(t, "code-block", s, r);
}
function XAe() {
  return new De();
}
function JAe(e, t, r) {
  const n = r.query(e);
  if (n == null || // @ts-expect-error
  n.blotName !== "list" || !Tp(t, `
`))
    return t;
  let s = -1, i = e.parentNode;
  for (; i != null; )
    ["OL", "UL"].includes(i.tagName) && (s += 1), i = i.parentNode;
  return s <= 0 ? t : t.reduce((o, a) => a.insert ? a.attributes && typeof a.attributes.indent == "number" ? o.push(a) : o.insert(a.insert, {
    indent: s,
    ...a.attributes || {}
  }) : o, new De());
}
function QAe(e, t, r) {
  const n = e;
  let s = n.tagName === "OL" ? "ordered" : "bullet";
  const i = n.getAttribute("data-checked");
  return i && (s = i === "true" ? "checked" : "unchecked"), Pc(t, "list", s, r);
}
function T$(e, t, r) {
  if (!Tp(t, `
`)) {
    if (Ba(e, r) && (e.childNodes.length > 0 || e instanceof HTMLParagraphElement))
      return t.insert(`
`);
    if (t.length() > 0 && e.nextSibling) {
      let n = e.nextSibling;
      for (; n != null; ) {
        if (Ba(n, r))
          return t.insert(`
`);
        const s = r.query(n);
        if (s && s.prototype instanceof Ts)
          return t.insert(`
`);
        n = n.firstChild;
      }
    }
  }
  return t;
}
function ePe(e, t, r) {
  var i;
  const n = {}, s = e.style || {};
  return s.fontStyle === "italic" && (n.italic = !0), s.textDecoration === "underline" && (n.underline = !0), s.textDecoration === "line-through" && (n.strike = !0), ((i = s.fontWeight) != null && i.startsWith("bold") || // @ts-expect-error Fix me later
  parseInt(s.fontWeight, 10) >= 700) && (n.bold = !0), t = Object.entries(n).reduce((o, a) => {
    let [l, c] = a;
    return Pc(o, l, c, r);
  }, t), parseFloat(s.textIndent || 0) > 0 ? new De().insert("	").concat(t) : t;
}
function tPe(e, t, r) {
  var s, i;
  const n = ((s = e.parentElement) == null ? void 0 : s.tagName) === "TABLE" ? e.parentElement : (i = e.parentElement) == null ? void 0 : i.parentElement;
  if (n != null) {
    const a = Array.from(n.querySelectorAll("tr")).indexOf(e) + 1;
    return Pc(t, "table", a, r);
  }
  return t;
}
function rPe(e, t, r) {
  var s;
  let n = e.data;
  if (((s = e.parentElement) == null ? void 0 : s.tagName) === "O:P")
    return t.insert(n.trim());
  if (!n7(e)) {
    if (n.trim().length === 0 && n.includes(`
`) && !KAe(e, r))
      return t;
    n = n.replace(/[^\S\u00a0]/g, " "), n = n.replace(/ {2,}/g, " "), (e.previousSibling == null && e.parentElement != null && Ba(e.parentElement, r) || e.previousSibling instanceof Element && Ba(e.previousSibling, r)) && (n = n.replace(/^ /, "")), (e.nextSibling == null && e.parentElement != null && Ba(e.parentElement, r) || e.nextSibling instanceof Element && Ba(e.nextSibling, r)) && (n = n.replace(/ $/, "")), n = n.replaceAll("", " ");
  }
  return t.insert(n);
}
class s7 extends ji {
  constructor(r, n) {
    super(r, n);
    Ee(this, "lastRecorded", 0);
    Ee(this, "ignoreChange", !1);
    Ee(this, "stack", {
      undo: [],
      redo: []
    });
    Ee(this, "currentRange", null);
    this.quill.on(le.events.EDITOR_CHANGE, (s, i, o, a) => {
      s === le.events.SELECTION_CHANGE ? i && a !== le.sources.SILENT && (this.currentRange = i) : s === le.events.TEXT_CHANGE && (this.ignoreChange || (!this.options.userOnly || a === le.sources.USER ? this.record(i, o) : this.transform(i)), this.currentRange = q_(this.currentRange, i));
    }), this.quill.keyboard.addBinding({
      key: "z",
      shortKey: !0
    }, this.undo.bind(this)), this.quill.keyboard.addBinding({
      key: ["z", "Z"],
      shortKey: !0,
      shiftKey: !0
    }, this.redo.bind(this)), /Win/i.test(navigator.platform) && this.quill.keyboard.addBinding({
      key: "y",
      shortKey: !0
    }, this.redo.bind(this)), this.quill.root.addEventListener("beforeinput", (s) => {
      s.inputType === "historyUndo" ? (this.undo(), s.preventDefault()) : s.inputType === "historyRedo" && (this.redo(), s.preventDefault());
    });
  }
  change(r, n) {
    if (this.stack[r].length === 0) return;
    const s = this.stack[r].pop();
    if (!s) return;
    const i = this.quill.getContents(), o = s.delta.invert(i);
    this.stack[n].push({
      delta: o,
      range: q_(s.range, o)
    }), this.lastRecorded = 0, this.ignoreChange = !0, this.quill.updateContents(s.delta, le.sources.USER), this.ignoreChange = !1, this.restoreSelection(s);
  }
  clear() {
    this.stack = {
      undo: [],
      redo: []
    };
  }
  cutoff() {
    this.lastRecorded = 0;
  }
  record(r, n) {
    if (r.ops.length === 0) return;
    this.stack.redo = [];
    let s = r.invert(n), i = this.currentRange;
    const o = Date.now();
    if (
      // @ts-expect-error Fix me later
      this.lastRecorded + this.options.delay > o && this.stack.undo.length > 0
    ) {
      const a = this.stack.undo.pop();
      a && (s = s.compose(a.delta), i = a.range);
    } else
      this.lastRecorded = o;
    s.length() !== 0 && (this.stack.undo.push({
      delta: s,
      range: i
    }), this.stack.undo.length > this.options.maxStack && this.stack.undo.shift());
  }
  redo() {
    this.change("redo", "undo");
  }
  transform(r) {
    A$(this.stack.undo, r), A$(this.stack.redo, r);
  }
  undo() {
    this.change("undo", "redo");
  }
  restoreSelection(r) {
    if (r.range)
      this.quill.setSelection(r.range, le.sources.USER);
    else {
      const n = sPe(this.quill.scroll, r.delta);
      this.quill.setSelection(n, le.sources.USER);
    }
  }
}
Ee(s7, "DEFAULTS", {
  delay: 1e3,
  maxStack: 100,
  userOnly: !1
});
function A$(e, t) {
  let r = t;
  for (let n = e.length - 1; n >= 0; n -= 1) {
    const s = e[n];
    e[n] = {
      delta: r.transform(s.delta, !0),
      range: s.range && q_(s.range, r)
    }, r = s.delta.transform(r), e[n].delta.length() === 0 && e.splice(n, 1);
  }
}
function nPe(e, t) {
  const r = t.ops[t.ops.length - 1];
  return r == null ? !1 : r.insert != null ? typeof r.insert == "string" && r.insert.endsWith(`
`) : r.attributes != null ? Object.keys(r.attributes).some((n) => e.query(n, Re.BLOCK) != null) : !1;
}
function sPe(e, t) {
  const r = t.reduce((s, i) => s + (i.delete || 0), 0);
  let n = t.length() - r;
  return nPe(e, t) && (n -= 1), n;
}
function q_(e, t) {
  if (!e) return e;
  const r = t.transformPosition(e.index), n = t.transformPosition(e.index + e.length);
  return {
    index: r,
    length: n - r
  };
}
class i7 extends ji {
  constructor(t, r) {
    super(t, r), t.root.addEventListener("drop", (n) => {
      var o;
      n.preventDefault();
      let s = null;
      if (document.caretRangeFromPoint)
        s = document.caretRangeFromPoint(n.clientX, n.clientY);
      else if (document.caretPositionFromPoint) {
        const a = document.caretPositionFromPoint(n.clientX, n.clientY);
        s = document.createRange(), s.setStart(a.offsetNode, a.offset), s.setEnd(a.offsetNode, a.offset);
      }
      const i = s && t.selection.normalizeNative(s);
      if (i) {
        const a = t.selection.normalizedToRange(i);
        (o = n.dataTransfer) != null && o.files && this.upload(a, n.dataTransfer.files);
      }
    });
  }
  upload(t, r) {
    const n = [];
    Array.from(r).forEach((s) => {
      var i;
      s && ((i = this.options.mimetypes) != null && i.includes(s.type)) && n.push(s);
    }), n.length > 0 && this.options.handler.call(this, t, n);
  }
}
i7.DEFAULTS = {
  mimetypes: ["image/png", "image/jpeg"],
  handler(e, t) {
    if (!this.quill.scroll.query("image"))
      return;
    const r = t.map((n) => new Promise((s) => {
      const i = new FileReader();
      i.onload = () => {
        s(i.result);
      }, i.readAsDataURL(n);
    }));
    Promise.all(r).then((n) => {
      const s = n.reduce((i, o) => i.insert({
        image: o
      }), new De().retain(e.index).delete(e.length));
      this.quill.updateContents(s, Ae.sources.USER), this.quill.setSelection(e.index + n.length, Ae.sources.SILENT);
    });
  }
};
const iPe = ["insertText", "insertReplacementText"];
class oPe extends ji {
  constructor(t, r) {
    super(t, r), t.root.addEventListener("beforeinput", (n) => {
      this.handleBeforeInput(n);
    }), /Android/i.test(navigator.userAgent) || t.on(le.events.COMPOSITION_BEFORE_START, () => {
      this.handleCompositionStart();
    });
  }
  deleteRange(t) {
    Nk({
      range: t,
      quill: this.quill
    });
  }
  replaceText(t) {
    let r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "";
    if (t.length === 0) return !1;
    if (r) {
      const n = this.quill.getFormat(t.index, 1);
      this.deleteRange(t), this.quill.updateContents(new De().retain(t.index).insert(r, n), le.sources.USER);
    } else
      this.deleteRange(t);
    return this.quill.setSelection(t.index + r.length, 0, le.sources.SILENT), !0;
  }
  handleBeforeInput(t) {
    if (this.quill.composition.isComposing || t.defaultPrevented || !iPe.includes(t.inputType))
      return;
    const r = t.getTargetRanges ? t.getTargetRanges()[0] : null;
    if (!r || r.collapsed === !0)
      return;
    const n = aPe(t);
    if (n == null)
      return;
    const s = this.quill.selection.normalizeNative(r), i = s ? this.quill.selection.normalizedToRange(s) : null;
    i && this.replaceText(i, n) && t.preventDefault();
  }
  handleCompositionStart() {
    const t = this.quill.getSelection();
    t && this.replaceText(t);
  }
}
function aPe(e) {
  var t;
  return typeof e.data == "string" ? e.data : (t = e.dataTransfer) != null && t.types.includes("text/plain") ? e.dataTransfer.getData("text/plain") : null;
}
const lPe = /Mac/i.test(navigator.platform), cPe = 100, uPe = (e) => !!(e.key === "ArrowLeft" || e.key === "ArrowRight" || // RTL scripts or moving from the end of the previous line
e.key === "ArrowUp" || e.key === "ArrowDown" || e.key === "Home" || lPe && e.key === "a" && e.ctrlKey === !0);
class dPe extends ji {
  constructor(r, n) {
    super(r, n);
    Ee(this, "isListening", !1);
    Ee(this, "selectionChangeDeadline", 0);
    this.handleArrowKeys(), this.handleNavigationShortcuts();
  }
  handleArrowKeys() {
    this.quill.keyboard.addBinding({
      key: ["ArrowLeft", "ArrowRight"],
      offset: 0,
      shiftKey: null,
      handler(r, n) {
        let {
          line: s,
          event: i
        } = n;
        if (!(s instanceof di) || !s.uiNode)
          return !0;
        const o = getComputedStyle(s.domNode).direction === "rtl";
        return o && i.key !== "ArrowRight" || !o && i.key !== "ArrowLeft" ? !0 : (this.quill.setSelection(r.index - 1, r.length + (i.shiftKey ? 1 : 0), le.sources.USER), !1);
      }
    });
  }
  handleNavigationShortcuts() {
    this.quill.root.addEventListener("keydown", (r) => {
      !r.defaultPrevented && uPe(r) && this.ensureListeningToSelectionChange();
    });
  }
  /**
   * We only listen to the `selectionchange` event when
   * there is an intention of moving the caret to the beginning using shortcuts.
   * This is primarily implemented to prevent infinite loops, as we are changing
   * the selection within the handler of a `selectionchange` event.
   */
  ensureListeningToSelectionChange() {
    if (this.selectionChangeDeadline = Date.now() + cPe, this.isListening) return;
    this.isListening = !0;
    const r = () => {
      this.isListening = !1, Date.now() <= this.selectionChangeDeadline && this.handleSelectionChange();
    };
    document.addEventListener("selectionchange", r, {
      once: !0
    });
  }
  handleSelectionChange() {
    const r = document.getSelection();
    if (!r) return;
    const n = r.getRangeAt(0);
    if (n.collapsed !== !0 || n.startOffset !== 0) return;
    const s = this.quill.scroll.find(n.startContainer);
    if (!(s instanceof di) || !s.uiNode) return;
    const i = document.createRange();
    i.setStartAfter(s.uiNode), i.setEndAfter(s.uiNode), r.removeAllRanges(), r.addRange(i);
  }
}
le.register({
  "blots/block": rn,
  "blots/block/embed": Ts,
  "blots/break": Ei,
  "blots/container": Tc,
  "blots/cursor": id,
  "blots/embed": xk,
  "blots/inline": eo,
  "blots/scroll": nu,
  "blots/text": yi,
  "modules/clipboard": r7,
  "modules/history": s7,
  "modules/keyboard": $b,
  "modules/uploader": i7,
  "modules/input": oPe,
  "modules/uiNode": dPe
});
class fPe extends Si {
  add(t, r) {
    let n = 0;
    if (r === "+1" || r === "-1") {
      const s = this.value(t) || 0;
      n = r === "+1" ? s + 1 : s - 1;
    } else typeof r == "number" && (n = r);
    return n === 0 ? (this.remove(t), !0) : super.add(t, n.toString());
  }
  canAdd(t, r) {
    return super.canAdd(t, r) || super.canAdd(t, parseInt(r, 10));
  }
  value(t) {
    return parseInt(super.value(t), 10) || void 0;
  }
}
const hPe = new fPe("indent", "ql-indent", {
  scope: Re.BLOCK,
  // @ts-expect-error
  whitelist: [1, 2, 3, 4, 5, 6, 7, 8]
});
class V_ extends rn {
}
Ee(V_, "blotName", "blockquote"), Ee(V_, "tagName", "blockquote");
class W_ extends rn {
  static formats(t) {
    return this.tagName.indexOf(t.tagName) + 1;
  }
}
Ee(W_, "blotName", "header"), Ee(W_, "tagName", ["H1", "H2", "H3", "H4", "H5", "H6"]);
class Ap extends Tc {
}
Ap.blotName = "list-container";
Ap.tagName = "OL";
class Pp extends rn {
  static create(t) {
    const r = super.create();
    return r.setAttribute("data-list", t), r;
  }
  static formats(t) {
    return t.getAttribute("data-list") || void 0;
  }
  static register() {
    le.register(Ap);
  }
  constructor(t, r) {
    super(t, r);
    const n = r.ownerDocument.createElement("span"), s = (i) => {
      if (!t.isEnabled()) return;
      const o = this.statics.formats(r, t);
      o === "checked" ? (this.format("list", "unchecked"), i.preventDefault()) : o === "unchecked" && (this.format("list", "checked"), i.preventDefault());
    };
    n.addEventListener("mousedown", s), n.addEventListener("touchstart", s), this.attachUI(n);
  }
  format(t, r) {
    t === this.statics.blotName && r ? this.domNode.setAttribute("data-list", r) : super.format(t, r);
  }
}
Pp.blotName = "list";
Pp.tagName = "LI";
Ap.allowedChildren = [Pp];
Pp.requiredContainer = Ap;
class Fh extends eo {
  static create() {
    return super.create();
  }
  static formats() {
    return !0;
  }
  optimize(t) {
    super.optimize(t), this.domNode.tagName !== this.statics.tagName[0] && this.replaceWith(this.statics.blotName);
  }
}
Ee(Fh, "blotName", "bold"), Ee(Fh, "tagName", ["STRONG", "B"]);
class K_ extends Fh {
}
Ee(K_, "blotName", "italic"), Ee(K_, "tagName", ["EM", "I"]);
class za extends eo {
  static create(t) {
    const r = super.create(t);
    return r.setAttribute("href", this.sanitize(t)), r.setAttribute("rel", "noopener noreferrer"), r.setAttribute("target", "_blank"), r;
  }
  static formats(t) {
    return t.getAttribute("href");
  }
  static sanitize(t) {
    return o7(t, this.PROTOCOL_WHITELIST) ? t : this.SANITIZED_URL;
  }
  format(t, r) {
    t !== this.statics.blotName || !r ? super.format(t, r) : this.domNode.setAttribute("href", this.constructor.sanitize(r));
  }
}
Ee(za, "blotName", "link"), Ee(za, "tagName", "A"), Ee(za, "SANITIZED_URL", "about:blank"), Ee(za, "PROTOCOL_WHITELIST", ["http", "https", "mailto", "tel", "sms"]);
function o7(e, t) {
  const r = document.createElement("a");
  r.href = e;
  const n = r.href.slice(0, r.href.indexOf(":"));
  return t.indexOf(n) > -1;
}
class H_ extends eo {
  static create(t) {
    return t === "super" ? document.createElement("sup") : t === "sub" ? document.createElement("sub") : super.create(t);
  }
  static formats(t) {
    if (t.tagName === "SUB") return "sub";
    if (t.tagName === "SUP") return "super";
  }
}
Ee(H_, "blotName", "script"), Ee(H_, "tagName", ["SUB", "SUP"]);
class Y_ extends Fh {
}
Ee(Y_, "blotName", "strike"), Ee(Y_, "tagName", ["S", "STRIKE"]);
class G_ extends eo {
}
Ee(G_, "blotName", "underline"), Ee(G_, "tagName", "U");
class gg extends xk {
  static create(t) {
    if (window.katex == null)
      throw new Error("Formula module requires KaTeX.");
    const r = super.create(t);
    return typeof t == "string" && (window.katex.render(t, r, {
      throwOnError: !1,
      errorColor: "#f00"
    }), r.setAttribute("data-value", t)), r;
  }
  static value(t) {
    return t.getAttribute("data-value");
  }
  html() {
    const {
      formula: t
    } = this.value();
    return `<span>${t}</span>`;
  }
}
Ee(gg, "blotName", "formula"), Ee(gg, "className", "ql-formula"), Ee(gg, "tagName", "SPAN");
const P$ = ["alt", "height", "width"];
class Z_ extends ds {
  static create(t) {
    const r = super.create(t);
    return typeof t == "string" && r.setAttribute("src", this.sanitize(t)), r;
  }
  static formats(t) {
    return P$.reduce((r, n) => (t.hasAttribute(n) && (r[n] = t.getAttribute(n)), r), {});
  }
  static match(t) {
    return /\.(jpe?g|gif|png)$/.test(t) || /^data:image\/.+;base64/.test(t);
  }
  static sanitize(t) {
    return o7(t, ["http", "https", "data"]) ? t : "//:0";
  }
  static value(t) {
    return t.getAttribute("src");
  }
  format(t, r) {
    P$.indexOf(t) > -1 ? r ? this.domNode.setAttribute(t, r) : this.domNode.removeAttribute(t) : super.format(t, r);
  }
}
Ee(Z_, "blotName", "image"), Ee(Z_, "tagName", "IMG");
const O$ = ["height", "width"];
class yg extends Ts {
  static create(t) {
    const r = super.create(t);
    return r.setAttribute("frameborder", "0"), r.setAttribute("allowfullscreen", "true"), r.setAttribute("src", this.sanitize(t)), r;
  }
  static formats(t) {
    return O$.reduce((r, n) => (t.hasAttribute(n) && (r[n] = t.getAttribute(n)), r), {});
  }
  static sanitize(t) {
    return za.sanitize(t);
  }
  static value(t) {
    return t.getAttribute("src");
  }
  format(t, r) {
    O$.indexOf(t) > -1 ? r ? this.domNode.setAttribute(t, r) : this.domNode.removeAttribute(t) : super.format(t, r);
  }
  html() {
    const {
      video: t
    } = this.value();
    return `<a href="${t}">${t}</a>`;
  }
}
Ee(yg, "blotName", "video"), Ee(yg, "className", "ql-video"), Ee(yg, "tagName", "IFRAME");
const Pf = new Si("code-token", "hljs", {
  scope: Re.INLINE
});
class Zo extends eo {
  static formats(t, r) {
    for (; t != null && t !== r.domNode; ) {
      if (t.classList && t.classList.contains(vn.className))
        return super.formats(t, r);
      t = t.parentNode;
    }
  }
  constructor(t, r, n) {
    super(t, r, n), Pf.add(this.domNode, n);
  }
  format(t, r) {
    t !== Zo.blotName ? super.format(t, r) : r ? Pf.add(this.domNode, r) : (Pf.remove(this.domNode), this.domNode.classList.remove(this.statics.className));
  }
  optimize() {
    super.optimize(...arguments), Pf.value(this.domNode) || this.unwrap();
  }
}
Zo.blotName = "code-token";
Zo.className = "ql-token";
class Cs extends vn {
  static create(t) {
    const r = super.create(t);
    return typeof t == "string" && r.setAttribute("data-language", t), r;
  }
  static formats(t) {
    return t.getAttribute("data-language") || "plain";
  }
  static register() {
  }
  // Syntax module will register
  format(t, r) {
    t === this.statics.blotName && r ? this.domNode.setAttribute("data-language", r) : super.format(t, r);
  }
  replaceWith(t, r) {
    return this.formatAt(0, this.length(), Zo.blotName, !1), super.replaceWith(t, r);
  }
}
class Jf extends Ac {
  attach() {
    super.attach(), this.forceNext = !1, this.scroll.emitMount(this);
  }
  format(t, r) {
    t === Cs.blotName && (this.forceNext = !0, this.children.forEach((n) => {
      n.format(t, r);
    }));
  }
  formatAt(t, r, n, s) {
    n === Cs.blotName && (this.forceNext = !0), super.formatAt(t, r, n, s);
  }
  highlight(t) {
    let r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !1;
    if (this.children.head == null) return;
    const s = `${Array.from(this.domNode.childNodes).filter((o) => o !== this.uiNode).map((o) => o.textContent).join(`
`)}
`, i = Cs.formats(this.children.head.domNode);
    if (r || this.forceNext || this.cachedText !== s) {
      if (s.trim().length > 0 || this.cachedText == null) {
        const o = this.children.reduce((l, c) => l.concat(qU(c, !1)), new De()), a = t(s, i);
        o.diff(a).reduce((l, c) => {
          let {
            retain: d,
            attributes: f
          } = c;
          return d ? (f && Object.keys(f).forEach((h) => {
            [Cs.blotName, Zo.blotName].includes(h) && this.formatAt(l, d, h, f[h]);
          }), l + d) : l;
        }, 0);
      }
      this.cachedText = s, this.forceNext = !1;
    }
  }
  html(t, r) {
    const [n] = this.children.find(t);
    return `<pre data-language="${n ? Cs.formats(n.domNode) : "plain"}">
${Db(this.code(t, r))}
</pre>`;
  }
  optimize(t) {
    if (super.optimize(t), this.parent != null && this.children.head != null && this.uiNode != null) {
      const r = Cs.formats(this.children.head.domNode);
      r !== this.uiNode.value && (this.uiNode.value = r);
    }
  }
}
Jf.allowedChildren = [Cs];
Cs.requiredContainer = Jf;
Cs.allowedChildren = [Zo, id, yi, Ei];
const pPe = (e, t, r) => {
  if (typeof e.versionString == "string") {
    const n = e.versionString.split(".")[0];
    if (parseInt(n, 10) >= 11)
      return e.highlight(r, {
        language: t
      }).value;
  }
  return e.highlight(t, r).value;
};
class a7 extends ji {
  static register() {
    le.register(Zo, !0), le.register(Cs, !0), le.register(Jf, !0);
  }
  constructor(t, r) {
    if (super(t, r), this.options.hljs == null)
      throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");
    this.languages = this.options.languages.reduce((n, s) => {
      let {
        key: i
      } = s;
      return n[i] = !0, n;
    }, {}), this.highlightBlot = this.highlightBlot.bind(this), this.initListener(), this.initTimer();
  }
  initListener() {
    this.quill.on(le.events.SCROLL_BLOT_MOUNT, (t) => {
      if (!(t instanceof Jf)) return;
      const r = this.quill.root.ownerDocument.createElement("select");
      this.options.languages.forEach((n) => {
        let {
          key: s,
          label: i
        } = n;
        const o = r.ownerDocument.createElement("option");
        o.textContent = i, o.setAttribute("value", s), r.appendChild(o);
      }), r.addEventListener("change", () => {
        t.format(Cs.blotName, r.value), this.quill.root.focus(), this.highlight(t, !0);
      }), t.uiNode == null && (t.attachUI(r), t.children.head && (r.value = Cs.formats(t.children.head.domNode)));
    });
  }
  initTimer() {
    let t = null;
    this.quill.on(le.events.SCROLL_OPTIMIZE, () => {
      t && clearTimeout(t), t = setTimeout(() => {
        this.highlight(), t = null;
      }, this.options.interval);
    });
  }
  highlight() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : null, r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !1;
    if (this.quill.selection.composing) return;
    this.quill.update(le.sources.USER);
    const n = this.quill.getSelection();
    (t == null ? this.quill.scroll.descendants(Jf) : [t]).forEach((i) => {
      i.highlight(this.highlightBlot, r);
    }), this.quill.update(le.sources.SILENT), n != null && this.quill.setSelection(n, le.sources.SILENT);
  }
  highlightBlot(t) {
    let r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "plain";
    if (r = this.languages[r] ? r : "plain", r === "plain")
      return Db(t).split(`
`).reduce((s, i, o) => (o !== 0 && s.insert(`
`, {
        [vn.blotName]: r
      }), s.insert(i)), new De());
    const n = this.quill.root.ownerDocument.createElement("div");
    return n.classList.add(vn.className), n.innerHTML = pPe(this.options.hljs, r, t), kk(this.quill.scroll, n, [(s, i) => {
      const o = Pf.value(s);
      return o ? i.compose(new De().retain(i.length(), {
        [Zo.blotName]: o
      })) : i;
    }], [(s, i) => s.data.split(`
`).reduce((o, a, l) => (l !== 0 && o.insert(`
`, {
      [vn.blotName]: r
    }), o.insert(a)), i)], /* @__PURE__ */ new WeakMap());
  }
}
a7.DEFAULTS = {
  hljs: window.hljs,
  interval: 1e3,
  languages: [{
    key: "plain",
    label: "Plain"
  }, {
    key: "bash",
    label: "Bash"
  }, {
    key: "cpp",
    label: "C++"
  }, {
    key: "cs",
    label: "C#"
  }, {
    key: "css",
    label: "CSS"
  }, {
    key: "diff",
    label: "Diff"
  }, {
    key: "xml",
    label: "HTML/XML"
  }, {
    key: "java",
    label: "Java"
  }, {
    key: "javascript",
    label: "JavaScript"
  }, {
    key: "markdown",
    label: "Markdown"
  }, {
    key: "php",
    label: "PHP"
  }, {
    key: "python",
    label: "Python"
  }, {
    key: "ruby",
    label: "Ruby"
  }, {
    key: "sql",
    label: "SQL"
  }]
};
const ih = class ih extends rn {
  static create(t) {
    const r = super.create();
    return t ? r.setAttribute("data-row", t) : r.setAttribute("data-row", Ck()), r;
  }
  static formats(t) {
    if (t.hasAttribute("data-row"))
      return t.getAttribute("data-row");
  }
  cellOffset() {
    return this.parent ? this.parent.children.indexOf(this) : -1;
  }
  format(t, r) {
    t === ih.blotName && r ? this.domNode.setAttribute("data-row", r) : super.format(t, r);
  }
  row() {
    return this.parent;
  }
  rowOffset() {
    return this.row() ? this.row().rowOffset() : -1;
  }
  table() {
    return this.row() && this.row().table();
  }
};
Ee(ih, "blotName", "table"), Ee(ih, "tagName", "TD");
let ci = ih;
class Xo extends Tc {
  checkMerge() {
    if (super.checkMerge() && this.next.children.head != null) {
      const t = this.children.head.formats(), r = this.children.tail.formats(), n = this.next.children.head.formats(), s = this.next.children.tail.formats();
      return t.table === r.table && t.table === n.table && t.table === s.table;
    }
    return !1;
  }
  optimize(t) {
    super.optimize(t), this.children.forEach((r) => {
      if (r.next == null) return;
      const n = r.formats(), s = r.next.formats();
      if (n.table !== s.table) {
        const i = this.splitAfter(r);
        i && i.optimize(), this.prev && this.prev.optimize();
      }
    });
  }
  rowOffset() {
    return this.parent ? this.parent.children.indexOf(this) : -1;
  }
  table() {
    return this.parent && this.parent.parent;
  }
}
Ee(Xo, "blotName", "table-row"), Ee(Xo, "tagName", "TR");
class Hi extends Tc {
}
Ee(Hi, "blotName", "table-body"), Ee(Hi, "tagName", "TBODY");
class ad extends Tc {
  balanceCells() {
    const t = this.descendants(Xo), r = t.reduce((n, s) => Math.max(s.children.length, n), 0);
    t.forEach((n) => {
      new Array(r - n.children.length).fill(0).forEach(() => {
        let s;
        n.children.head != null && (s = ci.formats(n.children.head.domNode));
        const i = this.scroll.create(ci.blotName, s);
        n.appendChild(i), i.optimize();
      });
    });
  }
  cells(t) {
    return this.rows().map((r) => r.children.at(t));
  }
  deleteColumn(t) {
    const [r] = this.descendant(Hi);
    r == null || r.children.head == null || r.children.forEach((n) => {
      const s = n.children.at(t);
      s != null && s.remove();
    });
  }
  insertColumn(t) {
    const [r] = this.descendant(Hi);
    r == null || r.children.head == null || r.children.forEach((n) => {
      const s = n.children.at(t), i = ci.formats(n.children.head.domNode), o = this.scroll.create(ci.blotName, i);
      n.insertBefore(o, s);
    });
  }
  insertRow(t) {
    const [r] = this.descendant(Hi);
    if (r == null || r.children.head == null) return;
    const n = Ck(), s = this.scroll.create(Xo.blotName);
    r.children.head.children.forEach(() => {
      const o = this.scroll.create(ci.blotName, n);
      s.appendChild(o);
    });
    const i = r.children.at(t);
    r.insertBefore(s, i);
  }
  rows() {
    const t = this.children.head;
    return t == null ? [] : t.children.map((r) => r);
  }
}
Ee(ad, "blotName", "table-container"), Ee(ad, "tagName", "TABLE");
ad.allowedChildren = [Hi];
Hi.requiredContainer = ad;
Hi.allowedChildren = [Xo];
Xo.requiredContainer = Hi;
Xo.allowedChildren = [ci];
ci.requiredContainer = Xo;
function Ck() {
  return `row-${Math.random().toString(36).slice(2, 6)}`;
}
class mPe extends ji {
  static register() {
    le.register(ci), le.register(Xo), le.register(Hi), le.register(ad);
  }
  constructor() {
    super(...arguments), this.listenBalanceCells();
  }
  balanceTables() {
    this.quill.scroll.descendants(ad).forEach((t) => {
      t.balanceCells();
    });
  }
  deleteColumn() {
    const [t, , r] = this.getTable();
    r != null && (t.deleteColumn(r.cellOffset()), this.quill.update(le.sources.USER));
  }
  deleteRow() {
    const [, t] = this.getTable();
    t != null && (t.remove(), this.quill.update(le.sources.USER));
  }
  deleteTable() {
    const [t] = this.getTable();
    if (t == null) return;
    const r = t.offset();
    t.remove(), this.quill.update(le.sources.USER), this.quill.setSelection(r, le.sources.SILENT);
  }
  getTable() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.quill.getSelection();
    if (t == null) return [null, null, null, -1];
    const [r, n] = this.quill.getLine(t.index);
    if (r == null || r.statics.blotName !== ci.blotName)
      return [null, null, null, -1];
    const s = r.parent;
    return [s.parent.parent, s, r, n];
  }
  insertColumn(t) {
    const r = this.quill.getSelection();
    if (!r) return;
    const [n, s, i] = this.getTable(r);
    if (i == null) return;
    const o = i.cellOffset();
    n.insertColumn(o + t), this.quill.update(le.sources.USER);
    let a = s.rowOffset();
    t === 0 && (a += 1), this.quill.setSelection(r.index + a, r.length, le.sources.SILENT);
  }
  insertColumnLeft() {
    this.insertColumn(0);
  }
  insertColumnRight() {
    this.insertColumn(1);
  }
  insertRow(t) {
    const r = this.quill.getSelection();
    if (!r) return;
    const [n, s, i] = this.getTable(r);
    if (i == null) return;
    const o = s.rowOffset();
    n.insertRow(o + t), this.quill.update(le.sources.USER), t > 0 ? this.quill.setSelection(r, le.sources.SILENT) : this.quill.setSelection(r.index + s.children.length, r.length, le.sources.SILENT);
  }
  insertRowAbove() {
    this.insertRow(0);
  }
  insertRowBelow() {
    this.insertRow(1);
  }
  insertTable(t, r) {
    const n = this.quill.getSelection();
    if (n == null) return;
    const s = new Array(t).fill(0).reduce((i) => {
      const o = new Array(r).fill(`
`).join("");
      return i.insert(o, {
        table: Ck()
      });
    }, new De().retain(n.index));
    this.quill.updateContents(s, le.sources.USER), this.quill.setSelection(n.index, le.sources.SILENT), this.balanceTables();
  }
  listenBalanceCells() {
    this.quill.on(le.events.SCROLL_OPTIMIZE, (t) => {
      t.some((r) => ["TD", "TR", "TBODY", "TABLE"].includes(r.target.tagName) ? (this.quill.once(le.events.TEXT_CHANGE, (n, s, i) => {
        i === le.sources.USER && this.balanceTables();
      }), !0) : !1);
    });
  }
}
const D$ = aa("quill:toolbar");
class Tk extends ji {
  constructor(t, r) {
    var n, s;
    if (super(t, r), Array.isArray(this.options.container)) {
      const i = document.createElement("div");
      i.setAttribute("role", "toolbar"), gPe(i, this.options.container), (s = (n = t.container) == null ? void 0 : n.parentNode) == null || s.insertBefore(i, t.container), this.container = i;
    } else typeof this.options.container == "string" ? this.container = document.querySelector(this.options.container) : this.container = this.options.container;
    if (!(this.container instanceof HTMLElement)) {
      D$.error("Container required for toolbar", this.options);
      return;
    }
    this.container.classList.add("ql-toolbar"), this.controls = [], this.handlers = {}, this.options.handlers && Object.keys(this.options.handlers).forEach((i) => {
      var a;
      const o = (a = this.options.handlers) == null ? void 0 : a[i];
      o && this.addHandler(i, o);
    }), Array.from(this.container.querySelectorAll("button, select")).forEach((i) => {
      this.attach(i);
    }), this.quill.on(le.events.EDITOR_CHANGE, () => {
      const [i] = this.quill.selection.getRange();
      this.update(i);
    });
  }
  addHandler(t, r) {
    this.handlers[t] = r;
  }
  attach(t) {
    let r = Array.from(t.classList).find((s) => s.indexOf("ql-") === 0);
    if (!r) return;
    if (r = r.slice(3), t.tagName === "BUTTON" && t.setAttribute("type", "button"), this.handlers[r] == null && this.quill.scroll.query(r) == null) {
      D$.warn("ignoring attaching to nonexistent format", r, t);
      return;
    }
    const n = t.tagName === "SELECT" ? "change" : "click";
    t.addEventListener(n, (s) => {
      let i;
      if (t.tagName === "SELECT") {
        if (t.selectedIndex < 0) return;
        const a = t.options[t.selectedIndex];
        a.hasAttribute("selected") ? i = !1 : i = a.value || !1;
      } else
        t.classList.contains("ql-active") ? i = !1 : i = t.value || !t.hasAttribute("value"), s.preventDefault();
      this.quill.focus();
      const [o] = this.quill.selection.getRange();
      if (this.handlers[r] != null)
        this.handlers[r].call(this, i);
      else if (
        // @ts-expect-error
        this.quill.scroll.query(r).prototype instanceof ds
      ) {
        if (i = prompt(`Enter ${r}`), !i) return;
        this.quill.updateContents(new De().retain(o.index).delete(o.length).insert({
          [r]: i
        }), le.sources.USER);
      } else
        this.quill.format(r, i, le.sources.USER);
      this.update(o);
    }), this.controls.push([r, t]);
  }
  update(t) {
    const r = t == null ? {} : this.quill.getFormat(t);
    this.controls.forEach((n) => {
      const [s, i] = n;
      if (i.tagName === "SELECT") {
        let o = null;
        if (t == null)
          o = null;
        else if (r[s] == null)
          o = i.querySelector("option[selected]");
        else if (!Array.isArray(r[s])) {
          let a = r[s];
          typeof a == "string" && (a = a.replace(/"/g, '\\"')), o = i.querySelector(`option[value="${a}"]`);
        }
        o == null ? (i.value = "", i.selectedIndex = -1) : o.selected = !0;
      } else if (t == null)
        i.classList.remove("ql-active"), i.setAttribute("aria-pressed", "false");
      else if (i.hasAttribute("value")) {
        const o = r[s], a = o === i.getAttribute("value") || o != null && o.toString() === i.getAttribute("value") || o == null && !i.getAttribute("value");
        i.classList.toggle("ql-active", a), i.setAttribute("aria-pressed", a.toString());
      } else {
        const o = r[s] != null;
        i.classList.toggle("ql-active", o), i.setAttribute("aria-pressed", o.toString());
      }
    });
  }
}
Tk.DEFAULTS = {};
function $$(e, t, r) {
  const n = document.createElement("button");
  n.setAttribute("type", "button"), n.classList.add(`ql-${t}`), n.setAttribute("aria-pressed", "false"), r != null ? (n.value = r, n.setAttribute("aria-label", `${t}: ${r}`)) : n.setAttribute("aria-label", t), e.appendChild(n);
}
function gPe(e, t) {
  Array.isArray(t[0]) || (t = [t]), t.forEach((r) => {
    const n = document.createElement("span");
    n.classList.add("ql-formats"), r.forEach((s) => {
      if (typeof s == "string")
        $$(n, s);
      else {
        const i = Object.keys(s)[0], o = s[i];
        Array.isArray(o) ? yPe(n, i, o) : $$(n, i, o);
      }
    }), e.appendChild(n);
  });
}
function yPe(e, t, r) {
  const n = document.createElement("select");
  n.classList.add(`ql-${t}`), r.forEach((s) => {
    const i = document.createElement("option");
    s !== !1 ? i.setAttribute("value", String(s)) : i.setAttribute("selected", "selected"), n.appendChild(i);
  }), e.appendChild(n);
}
Tk.DEFAULTS = {
  container: null,
  handlers: {
    clean() {
      const e = this.quill.getSelection();
      if (e != null)
        if (e.length === 0) {
          const t = this.quill.getFormat();
          Object.keys(t).forEach((r) => {
            this.quill.scroll.query(r, Re.INLINE) != null && this.quill.format(r, !1, le.sources.USER);
          });
        } else
          this.quill.removeFormat(e.index, e.length, le.sources.USER);
    },
    direction(e) {
      const {
        align: t
      } = this.quill.getFormat();
      e === "rtl" && t == null ? this.quill.format("align", "right", le.sources.USER) : !e && t === "right" && this.quill.format("align", !1, le.sources.USER), this.quill.format("direction", e, le.sources.USER);
    },
    indent(e) {
      const t = this.quill.getSelection(), r = this.quill.getFormat(t), n = parseInt(r.indent || 0, 10);
      if (e === "+1" || e === "-1") {
        let s = e === "+1" ? 1 : -1;
        r.direction === "rtl" && (s *= -1), this.quill.format("indent", n + s, le.sources.USER);
      }
    },
    link(e) {
      e === !0 && (e = prompt("Enter link URL:")), this.quill.format("link", e, le.sources.USER);
    },
    list(e) {
      const t = this.quill.getSelection(), r = this.quill.getFormat(t);
      e === "check" ? r.list === "checked" || r.list === "unchecked" ? this.quill.format("list", !1, le.sources.USER) : this.quill.format("list", "unchecked", le.sources.USER) : this.quill.format("list", e, le.sources.USER);
    }
  }
};
const vPe = '<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>', bPe = '<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>', xPe = '<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>', wPe = '<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>', _Pe = '<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>', SPe = '<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>', EPe = '<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>', jPe = '<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>', R$ = '<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>', NPe = '<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>', kPe = '<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>', CPe = '<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>', TPe = '<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>', APe = '<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>', PPe = '<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>', OPe = '<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>', DPe = '<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>', $Pe = '<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>', RPe = '<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>', IPe = '<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>', MPe = '<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>', LPe = '<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>', FPe = '<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>', BPe = '<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>', zPe = '<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>', UPe = '<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>', qPe = '<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>', VPe = '<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>', WPe = '<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>', KPe = '<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>', HPe = '<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>', YPe = '<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>', GPe = '<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>', Bh = {
  align: {
    "": vPe,
    center: bPe,
    right: xPe,
    justify: wPe
  },
  background: _Pe,
  blockquote: SPe,
  bold: EPe,
  clean: jPe,
  code: R$,
  "code-block": R$,
  color: NPe,
  direction: {
    "": kPe,
    rtl: CPe
  },
  formula: TPe,
  header: {
    1: APe,
    2: PPe,
    3: OPe,
    4: DPe,
    5: $Pe,
    6: RPe
  },
  italic: IPe,
  image: MPe,
  indent: {
    "+1": LPe,
    "-1": FPe
  },
  link: BPe,
  list: {
    bullet: zPe,
    check: UPe,
    ordered: qPe
  },
  script: {
    sub: VPe,
    super: WPe
  },
  strike: KPe,
  table: HPe,
  underline: YPe,
  video: GPe
}, ZPe = '<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';
let I$ = 0;
function M$(e, t) {
  e.setAttribute(t, `${e.getAttribute(t) !== "true"}`);
}
class Rb {
  constructor(t) {
    this.select = t, this.container = document.createElement("span"), this.buildPicker(), this.select.style.display = "none", this.select.parentNode.insertBefore(this.container, this.select), this.label.addEventListener("mousedown", () => {
      this.togglePicker();
    }), this.label.addEventListener("keydown", (r) => {
      switch (r.key) {
        case "Enter":
          this.togglePicker();
          break;
        case "Escape":
          this.escape(), r.preventDefault();
          break;
      }
    }), this.select.addEventListener("change", this.update.bind(this));
  }
  togglePicker() {
    this.container.classList.toggle("ql-expanded"), M$(this.label, "aria-expanded"), M$(this.options, "aria-hidden");
  }
  buildItem(t) {
    const r = document.createElement("span");
    r.tabIndex = "0", r.setAttribute("role", "button"), r.classList.add("ql-picker-item");
    const n = t.getAttribute("value");
    return n && r.setAttribute("data-value", n), t.textContent && r.setAttribute("data-label", t.textContent), r.addEventListener("click", () => {
      this.selectItem(r, !0);
    }), r.addEventListener("keydown", (s) => {
      switch (s.key) {
        case "Enter":
          this.selectItem(r, !0), s.preventDefault();
          break;
        case "Escape":
          this.escape(), s.preventDefault();
          break;
      }
    }), r;
  }
  buildLabel() {
    const t = document.createElement("span");
    return t.classList.add("ql-picker-label"), t.innerHTML = ZPe, t.tabIndex = "0", t.setAttribute("role", "button"), t.setAttribute("aria-expanded", "false"), this.container.appendChild(t), t;
  }
  buildOptions() {
    const t = document.createElement("span");
    t.classList.add("ql-picker-options"), t.setAttribute("aria-hidden", "true"), t.tabIndex = "-1", t.id = `ql-picker-options-${I$}`, I$ += 1, this.label.setAttribute("aria-controls", t.id), this.options = t, Array.from(this.select.options).forEach((r) => {
      const n = this.buildItem(r);
      t.appendChild(n), r.selected === !0 && this.selectItem(n);
    }), this.container.appendChild(t);
  }
  buildPicker() {
    Array.from(this.select.attributes).forEach((t) => {
      this.container.setAttribute(t.name, t.value);
    }), this.container.classList.add("ql-picker"), this.label = this.buildLabel(), this.buildOptions();
  }
  escape() {
    this.close(), setTimeout(() => this.label.focus(), 1);
  }
  close() {
    this.container.classList.remove("ql-expanded"), this.label.setAttribute("aria-expanded", "false"), this.options.setAttribute("aria-hidden", "true");
  }
  selectItem(t) {
    let r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !1;
    const n = this.container.querySelector(".ql-selected");
    t !== n && (n != null && n.classList.remove("ql-selected"), t != null && (t.classList.add("ql-selected"), this.select.selectedIndex = Array.from(t.parentNode.children).indexOf(t), t.hasAttribute("data-value") ? this.label.setAttribute("data-value", t.getAttribute("data-value")) : this.label.removeAttribute("data-value"), t.hasAttribute("data-label") ? this.label.setAttribute("data-label", t.getAttribute("data-label")) : this.label.removeAttribute("data-label"), r && (this.select.dispatchEvent(new Event("change")), this.close())));
  }
  update() {
    let t;
    if (this.select.selectedIndex > -1) {
      const n = (
        // @ts-expect-error Fix me later
        this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex]
      );
      t = this.select.options[this.select.selectedIndex], this.selectItem(n);
    } else
      this.selectItem(null);
    const r = t != null && t !== this.select.querySelector("option[selected]");
    this.label.classList.toggle("ql-active", r);
  }
}
class l7 extends Rb {
  constructor(t, r) {
    super(t), this.label.innerHTML = r, this.container.classList.add("ql-color-picker"), Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0, 7).forEach((n) => {
      n.classList.add("ql-primary");
    });
  }
  buildItem(t) {
    const r = super.buildItem(t);
    return r.style.backgroundColor = t.getAttribute("value") || "", r;
  }
  selectItem(t, r) {
    super.selectItem(t, r);
    const n = this.label.querySelector(".ql-color-label"), s = t && t.getAttribute("data-value") || "";
    n && (n.tagName === "line" ? n.style.stroke = s : n.style.fill = s);
  }
}
class c7 extends Rb {
  constructor(t, r) {
    super(t), this.container.classList.add("ql-icon-picker"), Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach((n) => {
      n.innerHTML = r[n.getAttribute("data-value") || ""];
    }), this.defaultItem = this.container.querySelector(".ql-selected"), this.selectItem(this.defaultItem);
  }
  selectItem(t, r) {
    super.selectItem(t, r);
    const n = t || this.defaultItem;
    if (n != null) {
      if (this.label.innerHTML === n.innerHTML) return;
      this.label.innerHTML = n.innerHTML;
    }
  }
}
const XPe = (e) => {
  const {
    overflowY: t
  } = getComputedStyle(e, null);
  return t !== "visible" && t !== "clip";
};
class u7 {
  constructor(t, r) {
    this.quill = t, this.boundsContainer = r || document.body, this.root = t.addContainer("ql-tooltip"), this.root.innerHTML = this.constructor.TEMPLATE, XPe(this.quill.root) && this.quill.root.addEventListener("scroll", () => {
      this.root.style.marginTop = `${-1 * this.quill.root.scrollTop}px`;
    }), this.hide();
  }
  hide() {
    this.root.classList.add("ql-hidden");
  }
  position(t) {
    const r = t.left + t.width / 2 - this.root.offsetWidth / 2, n = t.bottom + this.quill.root.scrollTop;
    this.root.style.left = `${r}px`, this.root.style.top = `${n}px`, this.root.classList.remove("ql-flip");
    const s = this.boundsContainer.getBoundingClientRect(), i = this.root.getBoundingClientRect();
    let o = 0;
    if (i.right > s.right && (o = s.right - i.right, this.root.style.left = `${r + o}px`), i.left < s.left && (o = s.left - i.left, this.root.style.left = `${r + o}px`), i.bottom > s.bottom) {
      const a = i.bottom - i.top, l = t.bottom - t.top + a;
      this.root.style.top = `${n - l}px`, this.root.classList.add("ql-flip");
    }
    return o;
  }
  show() {
    this.root.classList.remove("ql-editing"), this.root.classList.remove("ql-hidden");
  }
}
const JPe = [!1, "center", "right", "justify"], QPe = ["#000000", "#e60000", "#ff9900", "#ffff00", "#008a00", "#0066cc", "#9933ff", "#ffffff", "#facccc", "#ffebcc", "#ffffcc", "#cce8cc", "#cce0f5", "#ebd6ff", "#bbbbbb", "#f06666", "#ffc266", "#ffff66", "#66b966", "#66a3e0", "#c285ff", "#888888", "#a10000", "#b26b00", "#b2b200", "#006100", "#0047b2", "#6b24b2", "#444444", "#5c0000", "#663d00", "#666600", "#003700", "#002966", "#3d1466"], eOe = [!1, "serif", "monospace"], tOe = ["1", "2", "3", !1], rOe = ["small", !1, "large", "huge"];
class Op extends od {
  constructor(t, r) {
    super(t, r);
    const n = (s) => {
      if (!document.body.contains(t.root)) {
        document.body.removeEventListener("click", n);
        return;
      }
      this.tooltip != null && // @ts-expect-error
      !this.tooltip.root.contains(s.target) && // @ts-expect-error
      document.activeElement !== this.tooltip.textbox && !this.quill.hasFocus() && this.tooltip.hide(), this.pickers != null && this.pickers.forEach((i) => {
        i.container.contains(s.target) || i.close();
      });
    };
    t.emitter.listenDOM("click", document.body, n);
  }
  addModule(t) {
    const r = super.addModule(t);
    return t === "toolbar" && this.extendToolbar(r), r;
  }
  buildButtons(t, r) {
    Array.from(t).forEach((n) => {
      (n.getAttribute("class") || "").split(/\s+/).forEach((i) => {
        if (i.startsWith("ql-") && (i = i.slice(3), r[i] != null))
          if (i === "direction")
            n.innerHTML = r[i][""] + r[i].rtl;
          else if (typeof r[i] == "string")
            n.innerHTML = r[i];
          else {
            const o = n.value || "";
            o != null && r[i][o] && (n.innerHTML = r[i][o]);
          }
      });
    });
  }
  buildPickers(t, r) {
    this.pickers = Array.from(t).map((s) => {
      if (s.classList.contains("ql-align") && (s.querySelector("option") == null && pf(s, JPe), typeof r.align == "object"))
        return new c7(s, r.align);
      if (s.classList.contains("ql-background") || s.classList.contains("ql-color")) {
        const i = s.classList.contains("ql-background") ? "background" : "color";
        return s.querySelector("option") == null && pf(s, QPe, i === "background" ? "#ffffff" : "#000000"), new l7(s, r[i]);
      }
      return s.querySelector("option") == null && (s.classList.contains("ql-font") ? pf(s, eOe) : s.classList.contains("ql-header") ? pf(s, tOe) : s.classList.contains("ql-size") && pf(s, rOe)), new Rb(s);
    });
    const n = () => {
      this.pickers.forEach((s) => {
        s.update();
      });
    };
    this.quill.on(Ae.events.EDITOR_CHANGE, n);
  }
}
Op.DEFAULTS = Wa({}, od.DEFAULTS, {
  modules: {
    toolbar: {
      handlers: {
        formula() {
          this.quill.theme.tooltip.edit("formula");
        },
        image() {
          let e = this.container.querySelector("input.ql-image[type=file]");
          e == null && (e = document.createElement("input"), e.setAttribute("type", "file"), e.setAttribute("accept", this.quill.uploader.options.mimetypes.join(", ")), e.classList.add("ql-image"), e.addEventListener("change", () => {
            const t = this.quill.getSelection(!0);
            this.quill.uploader.upload(t, e.files), e.value = "";
          }), this.container.appendChild(e)), e.click();
        },
        video() {
          this.quill.theme.tooltip.edit("video");
        }
      }
    }
  }
});
class d7 extends u7 {
  constructor(t, r) {
    super(t, r), this.textbox = this.root.querySelector('input[type="text"]'), this.listen();
  }
  listen() {
    this.textbox.addEventListener("keydown", (t) => {
      t.key === "Enter" ? (this.save(), t.preventDefault()) : t.key === "Escape" && (this.cancel(), t.preventDefault());
    });
  }
  cancel() {
    this.hide(), this.restoreFocus();
  }
  edit() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : "link", r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null;
    if (this.root.classList.remove("ql-hidden"), this.root.classList.add("ql-editing"), this.textbox == null) return;
    r != null ? this.textbox.value = r : t !== this.root.getAttribute("data-mode") && (this.textbox.value = "");
    const n = this.quill.getBounds(this.quill.selection.savedRange);
    n != null && this.position(n), this.textbox.select(), this.textbox.setAttribute("placeholder", this.textbox.getAttribute(`data-${t}`) || ""), this.root.setAttribute("data-mode", t);
  }
  restoreFocus() {
    this.quill.focus({
      preventScroll: !0
    });
  }
  save() {
    let {
      value: t
    } = this.textbox;
    switch (this.root.getAttribute("data-mode")) {
      case "link": {
        const {
          scrollTop: r
        } = this.quill.root;
        this.linkRange ? (this.quill.formatText(this.linkRange, "link", t, Ae.sources.USER), delete this.linkRange) : (this.restoreFocus(), this.quill.format("link", t, Ae.sources.USER)), this.quill.root.scrollTop = r;
        break;
      }
      case "video":
        t = nOe(t);
      case "formula": {
        if (!t) break;
        const r = this.quill.getSelection(!0);
        if (r != null) {
          const n = r.index + r.length;
          this.quill.insertEmbed(
            n,
            // @ts-expect-error Fix me later
            this.root.getAttribute("data-mode"),
            t,
            Ae.sources.USER
          ), this.root.getAttribute("data-mode") === "formula" && this.quill.insertText(n + 1, " ", Ae.sources.USER), this.quill.setSelection(n + 2, Ae.sources.USER);
        }
        break;
      }
    }
    this.textbox.value = "", this.hide();
  }
}
function nOe(e) {
  let t = e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/) || e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);
  return t ? `${t[1] || "https"}://www.youtube.com/embed/${t[2]}?showinfo=0` : (t = e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/)) ? `${t[1] || "https"}://player.vimeo.com/video/${t[2]}/` : e;
}
function pf(e, t) {
  let r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : !1;
  t.forEach((n) => {
    const s = document.createElement("option");
    n === r ? s.setAttribute("selected", "selected") : s.setAttribute("value", String(n)), e.appendChild(s);
  });
}
const sOe = [["bold", "italic", "link"], [{
  header: 1
}, {
  header: 2
}, "blockquote"]];
class f7 extends d7 {
  constructor(t, r) {
    super(t, r), this.quill.on(Ae.events.EDITOR_CHANGE, (n, s, i, o) => {
      if (n === Ae.events.SELECTION_CHANGE)
        if (s != null && s.length > 0 && o === Ae.sources.USER) {
          this.show(), this.root.style.left = "0px", this.root.style.width = "", this.root.style.width = `${this.root.offsetWidth}px`;
          const a = this.quill.getLines(s.index, s.length);
          if (a.length === 1) {
            const l = this.quill.getBounds(s);
            l != null && this.position(l);
          } else {
            const l = a[a.length - 1], c = this.quill.getIndex(l), d = Math.min(l.length() - 1, s.index + s.length - c), f = this.quill.getBounds(new pc(c, d));
            f != null && this.position(f);
          }
        } else document.activeElement !== this.textbox && this.quill.hasFocus() && this.hide();
    });
  }
  listen() {
    super.listen(), this.root.querySelector(".ql-close").addEventListener("click", () => {
      this.root.classList.remove("ql-editing");
    }), this.quill.on(Ae.events.SCROLL_OPTIMIZE, () => {
      setTimeout(() => {
        if (this.root.classList.contains("ql-hidden")) return;
        const t = this.quill.getSelection();
        if (t != null) {
          const r = this.quill.getBounds(t);
          r != null && this.position(r);
        }
      }, 1);
    });
  }
  cancel() {
    this.show();
  }
  position(t) {
    const r = super.position(t), n = this.root.querySelector(".ql-tooltip-arrow");
    return n.style.marginLeft = "", r !== 0 && (n.style.marginLeft = `${-1 * r - n.offsetWidth / 2}px`), r;
  }
}
Ee(f7, "TEMPLATE", ['<span class="ql-tooltip-arrow"></span>', '<div class="ql-tooltip-editor">', '<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">', '<a class="ql-close"></a>', "</div>"].join(""));
class h7 extends Op {
  constructor(t, r) {
    r.modules.toolbar != null && r.modules.toolbar.container == null && (r.modules.toolbar.container = sOe), super(t, r), this.quill.container.classList.add("ql-bubble");
  }
  extendToolbar(t) {
    this.tooltip = new f7(this.quill, this.options.bounds), t.container != null && (this.tooltip.root.appendChild(t.container), this.buildButtons(t.container.querySelectorAll("button"), Bh), this.buildPickers(t.container.querySelectorAll("select"), Bh));
  }
}
h7.DEFAULTS = Wa({}, Op.DEFAULTS, {
  modules: {
    toolbar: {
      handlers: {
        link(e) {
          e ? this.quill.theme.tooltip.edit() : this.quill.format("link", !1, le.sources.USER);
        }
      }
    }
  }
});
const iOe = [[{
  header: ["1", "2", "3", !1]
}], ["bold", "italic", "underline", "link"], [{
  list: "ordered"
}, {
  list: "bullet"
}], ["clean"]];
class p7 extends d7 {
  constructor() {
    super(...arguments);
    Ee(this, "preview", this.root.querySelector("a.ql-preview"));
  }
  listen() {
    super.listen(), this.root.querySelector("a.ql-action").addEventListener("click", (r) => {
      this.root.classList.contains("ql-editing") ? this.save() : this.edit("link", this.preview.textContent), r.preventDefault();
    }), this.root.querySelector("a.ql-remove").addEventListener("click", (r) => {
      if (this.linkRange != null) {
        const n = this.linkRange;
        this.restoreFocus(), this.quill.formatText(n, "link", !1, Ae.sources.USER), delete this.linkRange;
      }
      r.preventDefault(), this.hide();
    }), this.quill.on(Ae.events.SELECTION_CHANGE, (r, n, s) => {
      if (r != null) {
        if (r.length === 0 && s === Ae.sources.USER) {
          const [i, o] = this.quill.scroll.descendant(za, r.index);
          if (i != null) {
            this.linkRange = new pc(r.index - o, i.length());
            const a = za.formats(i.domNode);
            this.preview.textContent = a, this.preview.setAttribute("href", a), this.show();
            const l = this.quill.getBounds(this.linkRange);
            l != null && this.position(l);
            return;
          }
        } else
          delete this.linkRange;
        this.hide();
      }
    });
  }
  show() {
    super.show(), this.root.removeAttribute("data-mode");
  }
}
Ee(p7, "TEMPLATE", ['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>', '<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">', '<a class="ql-action"></a>', '<a class="ql-remove"></a>'].join(""));
class m7 extends Op {
  constructor(t, r) {
    r.modules.toolbar != null && r.modules.toolbar.container == null && (r.modules.toolbar.container = iOe), super(t, r), this.quill.container.classList.add("ql-snow");
  }
  extendToolbar(t) {
    t.container != null && (t.container.classList.add("ql-snow"), this.buildButtons(t.container.querySelectorAll("button"), Bh), this.buildPickers(t.container.querySelectorAll("select"), Bh), this.tooltip = new p7(this.quill, this.options.bounds), t.container.querySelector(".ql-link") && this.quill.keyboard.addBinding({
      key: "k",
      shortKey: !0
    }, (r, n) => {
      t.handlers.link.call(t, !n.format.link);
    }));
  }
}
m7.DEFAULTS = Wa({}, Op.DEFAULTS, {
  modules: {
    toolbar: {
      handlers: {
        link(e) {
          if (e) {
            const t = this.quill.getSelection();
            if (t == null || t.length === 0) return;
            let r = this.quill.getText(t);
            /^\S+@\S+\.\S+$/.test(r) && r.indexOf("mailto:") !== 0 && (r = `mailto:${r}`);
            const {
              tooltip: n
            } = this.quill.theme;
            n.edit("link", r);
          } else
            this.quill.format("link", !1, le.sources.USER);
        }
      }
    }
  }
});
le.register({
  "attributors/attribute/direction": YU,
  "attributors/class/align": WU,
  "attributors/class/background": SAe,
  "attributors/class/color": _Ae,
  "attributors/class/direction": GU,
  "attributors/class/font": JU,
  "attributors/class/size": e7,
  "attributors/style/align": KU,
  "attributors/style/background": Sk,
  "attributors/style/color": _k,
  "attributors/style/direction": ZU,
  "attributors/style/font": QU,
  "attributors/style/size": t7
}, !0);
le.register({
  "formats/align": WU,
  "formats/direction": GU,
  "formats/indent": hPe,
  "formats/background": Sk,
  "formats/color": _k,
  "formats/font": JU,
  "formats/size": e7,
  "formats/blockquote": V_,
  "formats/code-block": vn,
  "formats/header": W_,
  "formats/list": Pp,
  "formats/bold": Fh,
  "formats/code": Ek,
  "formats/italic": K_,
  "formats/link": za,
  "formats/script": H_,
  "formats/strike": Y_,
  "formats/underline": G_,
  "formats/formula": gg,
  "formats/image": Z_,
  "formats/video": yg,
  "modules/syntax": a7,
  "modules/table": mPe,
  "modules/toolbar": Tk,
  "themes/bubble": h7,
  "themes/snow": m7,
  "ui/icons": Bh,
  "ui/picker": Rb,
  "ui/icon-picker": c7,
  "ui/color-picker": l7,
  "ui/tooltip": u7
}, !0);
class Dp extends ge.Component {
  constructor(t) {
    super(t), this.editingAreaRef = oC(), this.containerRef = oC(), this.dirtyProps = [
      "modules",
      "formats",
      "bounds",
      "theme",
      "children"
    ], this.cleanProps = [
      "id",
      "className",
      "style",
      "placeholder",
      "tabIndex",
      "onChange",
      "onChangeSelection",
      "onFocus",
      "onBlur",
      "onKeyPress",
      "onKeyDown",
      "onKeyUp"
    ], this.state = {
      generation: 0
    }, this.selection = null, this.onEditorChange = (n, s, i, o) => {
      var a, l;
      n === "text-change" ? (a = this.onEditorChangeText) == null || a.call(this, this.editor.root.innerHTML, s, o, this.unprivilegedEditor) : n === "selection-change" && ((l = this.onEditorChangeSelection) == null || l.call(this, s, o, this.unprivilegedEditor));
    };
    const r = this.isControlled() ? t.value : t.defaultValue;
    this.value = r ?? "";
  }
  validateProps(t) {
    if (ge.Children.count(t.children) > 1)
      throw new Error("The Quill editing area can only be composed of a single React element.");
    if (ge.Children.count(t.children)) {
      const r = ge.Children.only(t.children);
      if ((r == null ? void 0 : r.type) === "textarea")
        throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.");
    }
    if (this.lastDeltaChangeSet && t.value === this.lastDeltaChangeSet)
      throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas");
  }
  shouldComponentUpdate(t, r) {
    if (this.validateProps(t), !this.editor || this.state.generation !== r.generation)
      return !0;
    if ("value" in t) {
      const n = this.getEditorContents(), s = t.value ?? "";
      this.isEqualValue(s, n) || this.setEditorContents(this.editor, s);
    }
    return t.readOnly !== this.props.readOnly && this.setEditorReadOnly(this.editor, t.readOnly), [...this.cleanProps, ...this.dirtyProps].some((n) => !Da(t[n], this.props[n]));
  }
  shouldComponentRegenerate(t) {
    return this.dirtyProps.some((r) => !Da(t[r], this.props[r]));
  }
  componentDidMount() {
    this.instantiateEditor(), this.setEditorContents(this.editor, this.getEditorContents());
  }
  componentWillUnmount() {
    this.destroyEditor();
  }
  componentDidUpdate(t, r) {
    if (this.editor && this.shouldComponentRegenerate(t)) {
      const n = this.editor.getContents(), s = this.editor.getSelection();
      this.regenerationSnapshot = { delta: n, selection: s }, this.setState({ generation: this.state.generation + 1 }), this.destroyEditor();
    }
    if (this.state.generation !== r.generation) {
      const { delta: n, selection: s } = this.regenerationSnapshot;
      delete this.regenerationSnapshot, this.instantiateEditor();
      const i = this.editor;
      i.setContents(n), L$(() => this.setEditorSelection(i, s));
    }
  }
  instantiateEditor() {
    this.editor ? this.hookEditor(this.editor) : this.editor = this.createEditor(this.getEditingArea(), this.getEditorConfig());
  }
  destroyEditor() {
    var n, s;
    if (!this.editor)
      return;
    this.unhookEditor(this.editor);
    const t = (n = this.props.modules) == null ? void 0 : n.toolbar;
    if (!(typeof t == "object" && t && "container" in t && typeof t.container == "string" || typeof t == "string")) {
      const i = (s = this.containerRef.current) == null ? void 0 : s.querySelector(".ql-toolbar");
      i && i.remove();
    }
    delete this.editor;
  }
  /*
  We consider the component to be controlled if `value` is being sent in props.
  */
  isControlled() {
    return "value" in this.props;
  }
  getEditorConfig() {
    return {
      bounds: this.props.bounds,
      formats: this.props.formats,
      modules: this.props.modules,
      placeholder: this.props.placeholder,
      readOnly: this.props.readOnly,
      tabIndex: this.props.tabIndex,
      theme: this.props.theme
    };
  }
  getEditor() {
    if (!this.editor)
      throw new Error("Accessing non-instantiated editor");
    return this.editor;
  }
  /**
  Creates an editor on the given element. The editor will be passed the
  configuration, have its events bound,
  */
  createEditor(t, r) {
    const n = new le(t, r);
    return r.tabIndex != null && this.setEditorTabIndex(n, r.tabIndex), this.hookEditor(n), n;
  }
  hookEditor(t) {
    this.unprivilegedEditor = this.makeUnprivilegedEditor(t), t.on("editor-change", this.onEditorChange);
  }
  unhookEditor(t) {
    t.off("editor-change", this.onEditorChange);
  }
  getEditorContents() {
    return this.value;
  }
  getEditorSelection() {
    return this.selection;
  }
  /*
  True if the value is a Delta instance or a Delta look-alike.
  */
  isDelta(t) {
    return t && t.ops;
  }
  /*
  Special comparison function that knows how to compare Deltas.
  */
  isEqualValue(t, r) {
    return this.isDelta(t) && this.isDelta(r) ? Da(t.ops, r.ops) : Da(t, r);
  }
  /*
  Replace the contents of the editor, but keep the previous selection hanging
  around so that the cursor won't move.
  */
  setEditorContents(t, r) {
    this.value = r;
    const n = this.getEditorSelection();
    typeof r == "string" ? t.setContents(t.clipboard.convert({ html: r })) : t.setContents(r), L$(() => this.setEditorSelection(t, n));
  }
  setEditorSelection(t, r) {
    if (this.selection = r, r) {
      const n = t.getLength();
      r.index = Math.max(0, Math.min(r.index, n - 1)), r.length = Math.max(0, Math.min(r.length, n - 1 - r.index)), t.setSelection(r);
    }
  }
  setEditorTabIndex(t, r) {
    var n;
    (n = t == null ? void 0 : t.scroll) != null && n.domNode && (t.scroll.domNode.tabIndex = r);
  }
  setEditorReadOnly(t, r) {
    r ? t.disable() : t.enable();
  }
  /*
  Returns a weaker, unprivileged proxy object that only exposes read-only
  accessors found on the editor instance, without any state-modifying methods.
  */
  makeUnprivilegedEditor(t) {
    const r = t;
    return {
      getHTML: () => r.root.innerHTML,
      getSemanticHTML: r.getSemanticHTML.bind(r),
      getLength: r.getLength.bind(r),
      getText: r.getText.bind(r),
      getContents: r.getContents.bind(r),
      getSelection: r.getSelection.bind(r),
      getBounds: r.getBounds.bind(r)
    };
  }
  getEditingArea() {
    const t = this.editingAreaRef.current;
    if (!t)
      throw new Error("Cannot find element for editing area");
    if (t.nodeType === 3)
      throw new Error("Editing area cannot be a text node");
    return t;
  }
  /*
  Renders an editor area, unless it has been provided one to clone.
  */
  renderEditingArea() {
    const { children: t, preserveWhitespace: r } = this.props, { generation: n } = this.state, s = {
      key: n,
      ref: this.editingAreaRef
    };
    return ge.Children.count(t) ? ge.cloneElement(ge.Children.only(t), s) : r ? ge.createElement("pre", { ...s }) : ge.createElement("div", { ...s });
  }
  render() {
    return ge.createElement("div", { ref: this.containerRef, id: this.props.id, style: this.props.style, key: this.state.generation, className: `quill ${this.props.className ?? ""}`, onKeyPress: this.props.onKeyPress, onKeyDown: this.props.onKeyDown, onKeyUp: this.props.onKeyUp }, this.renderEditingArea());
  }
  onEditorChangeText(t, r, n, s) {
    var o, a;
    if (!this.editor)
      return;
    const i = this.isDelta(this.value) ? s.getContents() : s.getHTML();
    i !== this.getEditorContents() && (this.lastDeltaChangeSet = r, this.value = i, (a = (o = this.props).onChange) == null || a.call(o, t, r, n, s));
  }
  onEditorChangeSelection(t, r, n) {
    var a, l, c, d, f, h;
    if (!this.editor)
      return;
    const s = this.getEditorSelection(), i = !s && t, o = s && !t;
    Da(t, s) || (this.selection = t, (l = (a = this.props).onChangeSelection) == null || l.call(a, t, r, n), i ? (d = (c = this.props).onFocus) == null || d.call(c, t, r, n) : o && ((h = (f = this.props).onBlur) == null || h.call(f, s, r, n)));
  }
  focus() {
    this.editor && this.editor.focus();
  }
  blur() {
    this.editor && (this.selection = null, this.editor.blur());
  }
}
Dp.displayName = "React Quill";
Dp.Quill = le;
Dp.defaultProps = {
  theme: "snow",
  modules: {},
  readOnly: !1
};
function L$(e) {
  Promise.resolve().then(e);
}
const oOe = async () => {
  const { data: e, error: t } = await he.from("posts").select("*");
  if (t)
    throw new Error(t.message);
  return e;
}, aOe = async (e) => {
  const { data: { user: t }, error: r } = await he.auth.getUser();
  if (r)
    throw new Error(r.message);
  if (!t)
    throw new Error("User not authenticated.");
  console.log("Attempting to create post with data:", { ...e, author_id: t.id });
  const { data: n, error: s } = await he.from("posts").insert({ ...e, author_id: t.id }).select();
  if (s)
    throw new Error(s.message);
  if (!n || n.length === 0)
    throw new Error("Failed to create post: No data returned.");
  return n[0];
}, lOe = async (e) => {
  const { data: t, error: r } = await he.from("posts").update(e).eq("id", e.id).select();
  if (r)
    throw new Error(r.message);
  return t[0];
}, cOe = async (e) => {
  const { error: t } = await he.from("posts").delete().eq("id", e);
  if (t)
    throw new Error(t.message);
}, uOe = ({ post: e, onSave: t, onCancel: r }) => {
  const [n, s] = L({
    title: (e == null ? void 0 : e.title) || "",
    content: (e == null ? void 0 : e.content) || "",
    status: (e == null ? void 0 : e.status) || "draft",
    slug: (e == null ? void 0 : e.slug) || ""
  }), i = () => {
    if (!n.title.trim()) {
      Ri.error("Title cannot be empty.");
      return;
    }
    if (!n.slug.trim()) {
      Ri.error("Slug cannot be empty.");
      return;
    }
    const o = e ? { ...e, ...n } : n;
    t(o);
  };
  return u.jsxs("div", { className: "bg-white rounded-lg shadow-sm border p-6", children: [u.jsxs("div", { className: "flex items-center justify-between mb-6", children: [u.jsx("h2", { className: "text-2xl font-bold text-gray-900", children: e ? "Edit Post" : "Create New Post" }), u.jsx("button", { onClick: r, className: "p-2 text-gray-500 hover:text-gray-700", children: u.jsx(Ya, { className: "w-5 h-5" }) })] }), u.jsxs("div", { className: "space-y-6", children: [u.jsxs("div", { children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Title" }), u.jsx("input", { type: "text", value: n.title, onChange: (o) => s({ ...n, title: o.target.value }), className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500", placeholder: "Enter post title...", required: !0 })] }), u.jsxs("div", { children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Slug" }), u.jsx("input", { type: "text", value: n.slug, onChange: (o) => s({ ...n, slug: o.target.value }), className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500", placeholder: "post-url-slug" })] }), u.jsxs("div", { children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Content" }), u.jsx(Dp, { theme: "snow", value: n.content, onChange: (o) => s({ ...n, content: o }), className: "h-64 mb-12" })] }), u.jsxs("div", { children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Status" }), u.jsxs("select", { value: n.status, onChange: (o) => s({ ...n, status: o.target.value }), className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500", children: [u.jsx("option", { value: "draft", children: "Draft" }), u.jsx("option", { value: "published", children: "Published" }), u.jsx("option", { value: "archived", children: "Archived" })] })] }), u.jsxs("div", { className: "flex gap-3 pt-4", children: [u.jsxs("button", { type: "button", onClick: i, className: "flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors", children: [u.jsx(YS, { className: "w-4 h-4" }), "Save Post"] }), u.jsx("button", { type: "button", onClick: r, className: "flex items-center gap-2 bg-gray-200 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-300 transition-colors", children: "Cancel" })] })] })] });
}, yRe = () => {
  const e = ea(), [t, r] = L(!1), [n, s] = L(null), [i, o] = L(""), [a, l] = L("all"), { data: c, isLoading: d, isError: f, error: h } = br({ queryKey: ["posts"], queryFn: oOe }), p = ir({
    mutationFn: aOe,
    onSuccess: () => {
      e.invalidateQueries({ queryKey: ["posts"] }), r(!1), s(null);
    }
  }), g = ir({
    mutationFn: lOe,
    onSuccess: () => {
      e.invalidateQueries({ queryKey: ["posts"] }), r(!1), s(null);
    }
  }), m = ir({
    mutationFn: cOe,
    onSuccess: () => {
      e.invalidateQueries({ queryKey: ["posts"] });
    }
  }), y = (x) => {
    if (n)
      g.mutate(x);
    else {
      const { ...S } = x;
      p.mutate(S);
    }
  }, v = (x) => {
    window.confirm("Are you sure you want to delete this post?") && m.mutate(x);
  }, b = (c == null ? void 0 : c.filter((x) => {
    const S = x.title.toLowerCase().includes(i.toLowerCase()), w = a === "all" || x.status === a;
    return S && w;
  })) || [];
  return d ? u.jsx("div", { children: "Loading posts..." }) : f ? u.jsxs("div", { children: ["Error loading posts: ", h == null ? void 0 : h.message] }) : u.jsx("div", { className: "space-y-6", children: t ? u.jsx(uOe, { post: n, onSave: y, onCancel: () => {
    r(!1), s(null);
  } }) : u.jsxs(u.Fragment, { children: [u.jsxs("div", { className: "flex items-center justify-between", children: [u.jsx("h1", { className: "text-3xl font-bold text-gray-900", children: "Posts" }), u.jsxs("button", { onClick: () => {
    s(null), r(!0);
  }, className: "flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors", children: [u.jsx(Gi, { className: "w-4 h-4" }), "New Post"] })] }), u.jsx("div", { className: "bg-white p-4 rounded-lg shadow-sm border", children: u.jsxs("div", { className: "flex gap-4", children: [u.jsx("div", { className: "flex-1", children: u.jsxs("div", { className: "relative", children: [u.jsx(xc, { className: "w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400" }), u.jsx("input", { type: "text", value: i, onChange: (x) => o(x.target.value), placeholder: "Search posts...", className: "w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" })] }) }), u.jsxs("select", { value: a, onChange: (x) => l(x.target.value), className: "px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500", children: [u.jsx("option", { value: "all", children: "All Status" }), u.jsx("option", { value: "published", children: "Published" }), u.jsx("option", { value: "draft", children: "Draft" }), u.jsx("option", { value: "archived", children: "Archived" })] })] }) }), u.jsx("div", { className: "bg-white rounded-lg shadow-sm border overflow-hidden", children: u.jsxs("table", { className: "w-full", children: [u.jsx("thead", { className: "bg-gray-50 border-b border-gray-200", children: u.jsxs("tr", { children: [u.jsx("th", { className: "text-left py-3 px-6 text-sm font-medium text-gray-900", children: "Title" }), u.jsx("th", { className: "text-left py-3 px-6 text-sm font-medium text-gray-900", children: "Status" }), u.jsx("th", { className: "text-left py-3 px-6 text-sm font-medium text-gray-900", children: "Author" }), u.jsx("th", { className: "text-left py-3 px-6 text-sm font-medium text-gray-900", children: "Date" }), u.jsx("th", { className: "text-left py-3 px-6 text-sm font-medium text-gray-900", children: "Views" }), u.jsx("th", { className: "text-right py-3 px-6 text-sm font-medium text-gray-900", children: "Actions" })] }) }), u.jsx("tbody", { children: b.map((x) => u.jsxs("tr", { className: "border-b border-gray-200 hover:bg-gray-50", children: [u.jsx("td", { className: "py-4 px-6", children: u.jsx("div", { className: "font-medium text-gray-900", children: x.title }) }), u.jsx("td", { className: "py-4 px-6", children: u.jsx("span", { className: `inline-flex px-2 py-1 text-xs font-semibold rounded-full ${x.status === "published" ? "bg-green-100 text-green-800" : x.status === "draft" ? "bg-yellow-100 text-yellow-800" : "bg-gray-100 text-gray-800"}`, children: x.status }) }), u.jsx("td", { className: "py-4 px-6 text-sm text-gray-500", children: x.author_id }), u.jsx("td", { className: "py-4 px-6 text-sm text-gray-500", children: new Date(x.created_at).toLocaleDateString() }), u.jsx("td", { className: "py-4 px-6 text-sm text-gray-500", children: x.views }), u.jsx("td", { className: "py-4 px-6", children: u.jsxs("div", { className: "flex items-center justify-end gap-2", children: [u.jsx("button", { onClick: () => {
    s(x), r(!0);
  }, className: "p-1 text-gray-500 hover:text-blue-600", children: u.jsx(gv, { className: "w-4 h-4" }) }), u.jsx("button", { className: "p-1 text-gray-500 hover:text-green-600", children: u.jsx(np, { className: "w-4 h-4" }) }), u.jsx("button", { onClick: () => v(x.id), className: "p-1 text-gray-500 hover:text-red-600", children: u.jsx(wc, { className: "w-4 h-4" }) })] }) })] }, x.id)) })] }) })] }) });
};
function dOe(e) {
  return e && e.__esModule && Object.prototype.hasOwnProperty.call(e, "default") ? e.default : e;
}
var fOe = dOe(function(e) {
  const t = new URLSearchParams();
  t.append("code", e);
  for (let r = 1; r < arguments.length; r++) t.append("v", arguments[r]);
  throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`);
});
const g7 = dr(null);
function hOe(e, t) {
  return { getTheme: function() {
    return t ?? null;
  } };
}
function Rd() {
  const e = Dt(g7);
  return e == null && fOe(8), e;
}
function pOe(e) {
  return {};
}
const Ak = {}, mOe = {}, y7 = {}, tc = {}, Tu = {}, By = {}, Au = {}, Pk = {}, X_ = {}, zh = {}, Uh = {}, Ua = {}, Ok = {}, Dk = {}, gOe = {}, v7 = {}, yOe = {}, b7 = {}, vOe = {}, x7 = {}, w7 = {}, zy = {}, bOe = {}, _7 = {}, S7 = {}, E7 = {}, xOe = {}, wOe = {}, _Oe = {}, F$ = {}, j7 = {}, SOe = {}, N7 = {}, k7 = {}, EOe = {}, Ib = {}, $k = {}, J_ = {}, jOe = {}, NOe = {}, Gm = {}, Zm = {}, kOe = {}, COe = {}, TOe = {}, Ni = typeof window < "u" && window.document !== void 0 && window.document.createElement !== void 0, AOe = Ni && "documentMode" in document ? document.documentMode : null, Gs = Ni && /Mac|iPod|iPhone|iPad/.test(navigator.platform), Ka = Ni && /^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent), Uy = !(!Ni || !("InputEvent" in window) || AOe) && "getTargetRanges" in new window.InputEvent("input"), Rk = Ni && /Version\/[\d.]+.*Safari/.test(navigator.userAgent), Mb = Ni && /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream, POe = Ni && /Android/.test(navigator.userAgent), C7 = Ni && /^(?=.*Chrome).*/i.test(navigator.userAgent), OOe = Ni && POe && C7, Ik = Ni && /AppleWebKit\/[\d.]+/.test(navigator.userAgent) && !C7, $p = 1, yl = 3, mc = 0, T7 = 1, ld = 2, DOe = 0, $Oe = 1, ROe = 2, qy = 4, Vy = 8, Mk = 128, IOe = 112 | (3 | qy | Vy) | Mk, Lk = 1, Fk = 2, Bk = 3, zk = 4, Uk = 5, qk = 6, Lb = Rk || Mb || Ik ? "" : "", Jo = `

`, MOe = Ka ? "" : Lb, A7 = "---", P7 = "A-Za-z--------", LOe = new RegExp("^[^" + P7 + "]*[" + A7 + "]"), FOe = new RegExp("^[^" + A7 + "]*[" + P7 + "]"), gc = { bold: 1, code: 16, highlight: Mk, italic: 2, strikethrough: qy, subscript: 32, superscript: 64, underline: Vy }, BOe = { directionless: 1, unmergeable: 2 }, B$ = { center: Fk, end: qk, justify: zk, left: Lk, right: Bk, start: Uk }, zOe = { [Fk]: "center", [qk]: "end", [zk]: "justify", [Lk]: "left", [Bk]: "right", [Uk]: "start" }, UOe = { normal: 0, segmented: 2, token: 1 }, qOe = { [DOe]: "normal", [ROe]: "segmented", [$Oe]: "token" };
function VOe(e) {
  return e && e.__esModule && Object.prototype.hasOwnProperty.call(e, "default") ? e.default : e;
}
var Ne = VOe(function(e) {
  const t = new URLSearchParams();
  t.append("code", e);
  for (let r = 1; r < arguments.length; r++) t.append("v", arguments[r]);
  throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`);
});
function Wy(...e) {
  const t = [];
  for (const r of e) if (r && typeof r == "string") for (const [n] of r.matchAll(/\S+/g)) t.push(n);
  return t;
}
const WOe = 100;
let Q_ = !1, Vk = 0;
function KOe(e) {
  Vk = e.timeStamp;
}
function nw(e, t, r) {
  return t.__lexicalLineBreak === e || e[`__lexicalKey_${r._key}`] !== void 0;
}
function HOe(e, t, r) {
  const n = ro(r._window);
  let s = null, i = null;
  n !== null && n.anchorNode === e && (s = n.anchorOffset, i = n.focusOffset);
  const o = e.nodeValue;
  o !== null && Yk(t, o, s, i, !1);
}
function YOe(e, t, r) {
  if (we(e)) {
    const n = e.anchor.getNode();
    if (n.is(r) && e.format !== n.getFormat()) return !1;
  }
  return t.nodeType === yl && r.isAttached();
}
function O7(e, t, r) {
  Q_ = !0;
  const n = performance.now() - Vk > WOe;
  try {
    is(e, () => {
      const s = Fe() || function(h) {
        return h.getEditorState().read(() => {
          const p = Fe();
          return p !== null ? p.clone() : null;
        });
      }(e), i = /* @__PURE__ */ new Map(), o = e.getRootElement(), a = e._editorState, l = e._blockCursorElement;
      let c = !1, d = "";
      for (let h = 0; h < t.length; h++) {
        const p = t[h], g = p.type, m = p.target;
        let y = yc(m, a);
        if (!(y === null && m !== o || Ut(y))) {
          if (g === "characterData") n && Se(y) && YOe(s, m, y) && HOe(m, y, e);
          else if (g === "childList") {
            c = !0;
            const v = p.addedNodes;
            for (let S = 0; S < v.length; S++) {
              const w = v[S], j = M7(w), N = w.parentNode;
              if (N != null && w !== l && j === null && (w.nodeName !== "BR" || !nw(w, N, e))) {
                if (Ka) {
                  const k = w.innerText || w.nodeValue;
                  k && (d += k);
                }
                N.removeChild(w);
              }
            }
            const b = p.removedNodes, x = b.length;
            if (x > 0) {
              let S = 0;
              for (let w = 0; w < x; w++) {
                const j = b[w];
                (j.nodeName === "BR" && nw(j, m, e) || l === j) && (m.appendChild(j), S++);
              }
              x !== S && (m === o && (y = F7(a)), i.set(m, y));
            }
          }
        }
      }
      if (i.size > 0) for (const [h, p] of i) if (de(p)) {
        const g = p.getChildrenKeys();
        let m = h.firstChild;
        for (let y = 0; y < g.length; y++) {
          const v = g[y], b = e.getElementByKey(v);
          b !== null && (m == null ? (h.appendChild(b), m = b) : m !== b && h.replaceChild(b, m), m = m.nextSibling);
        }
      } else Se(p) && p.markDirty();
      const f = r.takeRecords();
      if (f.length > 0) {
        for (let h = 0; h < f.length; h++) {
          const p = f[h], g = p.addedNodes, m = p.target;
          for (let y = 0; y < g.length; y++) {
            const v = g[y], b = v.parentNode;
            b == null || v.nodeName !== "BR" || nw(v, m, e) || b.removeChild(v);
          }
        }
        r.takeRecords();
      }
      s !== null && (c && (s.dirty = !0, to(s)), Ka && q7(e) && s.insertRawText(d));
    });
  } finally {
    Q_ = !1;
  }
}
function D7(e) {
  const t = e._observer;
  t !== null && O7(e, t.takeRecords(), t);
}
function $7(e) {
  (function(t) {
    Vk === 0 && zb(t).addEventListener("textInput", KOe, !0);
  })(e), e._observer = new MutationObserver((t, r) => {
    O7(e, t, r);
  });
}
function z$(e, t) {
  const r = e.__mode, n = e.__format, s = e.__style, i = t.__mode, o = t.__format, a = t.__style;
  return !(r !== null && r !== i || n !== null && n !== o || s !== null && s !== a);
}
function U$(e, t) {
  const r = e.mergeWithSibling(t), n = ur()._normalizedNodes;
  return n.add(e.__key), n.add(t.__key), r;
}
function q$(e) {
  let t, r, n = e;
  if (n.__text !== "" || !n.isSimpleText() || n.isUnmergeable()) {
    for (; (t = n.getPreviousSibling()) !== null && Se(t) && t.isSimpleText() && !t.isUnmergeable(); ) {
      if (t.__text !== "") {
        if (z$(t, n)) {
          n = U$(t, n);
          break;
        }
        break;
      }
      t.remove();
    }
    for (; (r = n.getNextSibling()) !== null && Se(r) && r.isSimpleText() && !r.isUnmergeable(); ) {
      if (r.__text !== "") {
        if (z$(n, r)) {
          n = U$(n, r);
          break;
        }
        break;
      }
      r.remove();
    }
  } else n.remove();
}
function R7(e) {
  return V$(e.anchor), V$(e.focus), e;
}
function V$(e) {
  for (; e.type === "element"; ) {
    const t = e.getNode(), r = e.offset;
    let n, s;
    if (r === t.getChildrenSize() ? (n = t.getChildAtIndex(r - 1), s = !0) : (n = t.getChildAtIndex(r), s = !1), Se(n)) {
      e.set(n.__key, s ? n.getTextContentSize() : 0, "text");
      break;
    }
    if (!de(n)) break;
    e.set(n.__key, s ? n.getChildrenSize() : 0, "element");
  }
}
let GOe = 1;
const ZOe = typeof queueMicrotask == "function" ? queueMicrotask : (e) => {
  Promise.resolve().then(e);
};
function Wk(e) {
  const t = document.activeElement;
  if (t === null) return !1;
  const r = t.nodeName;
  return Ut(yc(e)) && (r === "INPUT" || r === "TEXTAREA" || t.contentEditable === "true" && t.__lexicalEditor == null);
}
function Rp(e, t, r) {
  const n = e.getRootElement();
  try {
    return n !== null && n.contains(t) && n.contains(r) && t !== null && !Wk(t) && I7(t) === e;
  } catch {
    return !1;
  }
}
function I7(e) {
  let t = e;
  for (; t != null; ) {
    const r = t.__lexicalEditor;
    if (r != null) return r;
    t = Bb(t);
  }
  return null;
}
function su(e) {
  return e.isToken() || e.isSegmented();
}
function XOe(e) {
  return e.nodeType === yl;
}
function Ky(e) {
  let t = e;
  for (; t != null; ) {
    if (XOe(t)) return t;
    t = t.firstChild;
  }
  return null;
}
function eS(e, t, r) {
  const n = gc[t];
  if (r !== null && (e & n) == (r & n)) return e;
  let s = e ^ n;
  return t === "subscript" ? s &= -65 : t === "superscript" && (s &= -33), s;
}
function JOe(e, t) {
  if (t != null) return void (e.__key = t);
  Fn(), c9();
  const r = ur(), n = la(), s = "" + GOe++;
  n._nodeMap.set(s, e), de(e) ? r._dirtyElements.set(s, !0) : r._dirtyLeaves.add(s), r._cloneNotNeeded.add(s), r._dirtyType = T7, e.__key = s;
}
function rc(e) {
  const t = e.getParent();
  if (t !== null) {
    const r = e.getWritable(), n = t.getWritable(), s = e.getPreviousSibling(), i = e.getNextSibling();
    if (s === null) if (i !== null) {
      const o = i.getWritable();
      n.__first = i.__key, o.__prev = null;
    } else n.__first = null;
    else {
      const o = s.getWritable();
      if (i !== null) {
        const a = i.getWritable();
        a.__prev = o.__key, o.__next = a.__key;
      } else o.__next = null;
      r.__prev = null;
    }
    if (i === null) if (s !== null) {
      const o = s.getWritable();
      n.__last = s.__key, o.__next = null;
    } else n.__last = null;
    else {
      const o = i.getWritable();
      if (s !== null) {
        const a = s.getWritable();
        a.__next = o.__key, o.__prev = a.__key;
      } else o.__prev = null;
      r.__next = null;
    }
    n.__size--, r.__parent = null;
  }
}
function Hy(e) {
  c9();
  const t = e.getLatest(), r = t.__parent, n = la(), s = ur(), i = n._nodeMap, o = s._dirtyElements;
  r !== null && function(l, c, d) {
    let f = l;
    for (; f !== null; ) {
      if (d.has(f)) return;
      const h = c.get(f);
      if (h === void 0) break;
      d.set(f, !1), f = h.__parent;
    }
  }(r, i, o);
  const a = t.__key;
  s._dirtyType = T7, de(e) ? o.set(a, !0) : s._dirtyLeaves.add(a);
}
function tn(e) {
  Fn();
  const t = ur(), r = t._compositionKey;
  if (e !== r) {
    if (t._compositionKey = e, r !== null) {
      const n = Nn(r);
      n !== null && n.getWritable();
    }
    if (e !== null) {
      const n = Nn(e);
      n !== null && n.getWritable();
    }
  }
}
function qa() {
  return Bp() ? null : ur()._compositionKey;
}
function Nn(e, t) {
  const r = (t || la())._nodeMap.get(e);
  return r === void 0 ? null : r;
}
function M7(e, t) {
  const r = e[`__lexicalKey_${ur()._key}`];
  return r !== void 0 ? Nn(r, t) : null;
}
function yc(e, t) {
  let r = e;
  for (; r != null; ) {
    const n = M7(r, t);
    if (n !== null) return n;
    r = Bb(r);
  }
  return null;
}
function L7(e) {
  const t = e._decorators, r = Object.assign({}, t);
  return e._pendingDecorators = r, r;
}
function W$(e) {
  return e.read(() => Er().getTextContent());
}
function Er() {
  return F7(la());
}
function F7(e) {
  return e._nodeMap.get("root");
}
function to(e) {
  Fn();
  const t = la();
  e !== null && (e.dirty = !0, e.setCachedNodes(null)), t._selection = e;
}
function gu(e) {
  const t = ur(), r = function(n, s) {
    let i = n;
    for (; i != null; ) {
      const o = i[`__lexicalKey_${s._key}`];
      if (o !== void 0) return o;
      i = Bb(i);
    }
    return null;
  }(e, t);
  return r === null ? e === t.getRootElement() ? Nn("root") : null : Nn(r);
}
function K$(e, t) {
  return t ? e.getTextContentSize() : 0;
}
function B7(e) {
  return /[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(e);
}
function Kk(e) {
  const t = [];
  let r = e;
  for (; r !== null; ) t.push(r), r = r._parentEditor;
  return t;
}
function z7() {
  return Math.random().toString(36).replace(/[^a-z]+/g, "").substr(0, 5);
}
function U7(e) {
  return e.nodeType === yl ? e.nodeValue : null;
}
function Hk(e, t, r) {
  const n = ro(t._window);
  if (n === null) return;
  const s = n.anchorNode;
  let { anchorOffset: i, focusOffset: o } = n;
  if (s !== null) {
    let a = U7(s);
    const l = yc(s);
    if (a !== null && Se(l)) {
      if (a === Lb && r) {
        const c = r.length;
        a = r, i = c, o = c;
      }
      a !== null && Yk(l, a, i, o, e);
    }
  }
}
function Yk(e, t, r, n, s) {
  let i = e;
  if (i.isAttached() && (s || !i.isDirty())) {
    const o = i.isComposing();
    let a = t;
    (o || s) && t[t.length - 1] === Lb && (a = t.slice(0, -1));
    const l = i.getTextContent();
    if (s || a !== l) {
      if (a === "") {
        if (tn(null), Rk || Mb || Ik) i.remove();
        else {
          const m = ur();
          setTimeout(() => {
            m.update(() => {
              i.isAttached() && i.remove();
            });
          }, 20);
        }
        return;
      }
      const c = i.getParent(), d = Fp(), f = i.getTextContentSize(), h = qa(), p = i.getKey();
      if (i.isToken() || h !== null && p === h && !o || we(d) && (c !== null && !c.canInsertTextBefore() && d.anchor.offset === 0 || d.anchor.key === e.__key && d.anchor.offset === 0 && !i.canInsertTextBefore() && !o || d.focus.key === e.__key && d.focus.offset === f && !i.canInsertTextAfter() && !o)) return void i.markDirty();
      const g = Fe();
      if (!we(g) || r === null || n === null) return void i.setTextContent(a);
      if (g.setTextNodeRange(i, r, i, n), i.isSegmented()) {
        const m = dn(i.getTextContent());
        i.replace(m), i = m;
      }
      i.setTextContent(a);
    }
  }
}
function QOe(e, t) {
  if (t.isSegmented()) return !0;
  if (!e.isCollapsed()) return !1;
  const r = e.anchor.offset, n = t.getParentOrThrow(), s = t.isToken();
  return r === 0 ? !t.canInsertTextBefore() || !n.canInsertTextBefore() && !t.isComposing() || s || function(i) {
    const o = i.getPreviousSibling();
    return (Se(o) || de(o) && o.isInline()) && !o.canInsertTextAfter();
  }(t) : r === t.getTextContentSize() && (!t.canInsertTextAfter() || !n.canInsertTextAfter() && !t.isComposing() || s);
}
function H$(e) {
  return e === "ArrowLeft";
}
function Y$(e) {
  return e === "ArrowRight";
}
function Of(e, t) {
  return Gs ? e : t;
}
function G$(e) {
  return e === "Enter";
}
function mf(e) {
  return e === "Backspace";
}
function gf(e) {
  return e === "Delete";
}
function Z$(e, t, r) {
  return e.toLowerCase() === "a" && Of(t, r);
}
function e2e() {
  const e = Er();
  to(R7(e.select(0, e.getChildrenSize())));
}
function Qf(e, t) {
  e.__lexicalClassNameCache === void 0 && (e.__lexicalClassNameCache = {});
  const r = e.__lexicalClassNameCache, n = r[t];
  if (n !== void 0) return n;
  const s = e[t];
  if (typeof s == "string") {
    const i = Wy(s);
    return r[t] = i, i;
  }
  return s;
}
function Gk(e, t, r, n, s) {
  if (r.size === 0) return;
  const i = n.__type, o = n.__key, a = t.get(i);
  a === void 0 && Ne(33, i);
  const l = a.klass;
  let c = e.get(l);
  c === void 0 && (c = /* @__PURE__ */ new Map(), e.set(l, c));
  const d = c.get(o), f = d === "destroyed" && s === "created";
  (d === void 0 || f) && c.set(o, f ? "updated" : s);
}
function X$(e, t, r) {
  const n = e.getParent();
  let s = r, i = e;
  return n !== null && (t && r === 0 ? (s = i.getIndexWithinParent(), i = n) : t || r !== i.getChildrenSize() || (s = i.getIndexWithinParent() + 1, i = n)), i.getChildAtIndex(t ? s - 1 : s);
}
function qh(e, t) {
  const r = e.offset;
  if (e.type === "element")
    return X$(e.getNode(), t, r);
  {
    const n = e.getNode();
    if (t && r === 0 || !t && r === n.getTextContentSize()) {
      const s = t ? n.getPreviousSibling() : n.getNextSibling();
      return s === null ? X$(n.getParentOrThrow(), t, n.getIndexWithinParent() + (t ? 0 : 1)) : s;
    }
  }
  return null;
}
function q7(e) {
  const t = zb(e).event, r = t && t.inputType;
  return r === "insertFromPaste" || r === "insertFromPasteAsQuotation";
}
function Ce(e, t, r) {
  return u9(e, t, r);
}
function Fb(e) {
  return !yn(e) && !e.isLastChild() && !e.isInline();
}
function Yy(e, t) {
  const r = e._keyToDOMMap.get(t);
  return r === void 0 && Ne(75, t), r;
}
function Bb(e) {
  const t = e.assignedSlot || e.parentElement;
  return t !== null && t.nodeType === 11 ? t.host : t;
}
function tS(e, t) {
  let r = e.getParent();
  for (; r !== null; ) {
    if (r.is(t)) return !0;
    r = r.getParent();
  }
  return !1;
}
function zb(e) {
  const t = e._window;
  return t === null && Ne(78), t;
}
function t2e(e) {
  let t = e.getParentOrThrow();
  for (; t !== null; ) {
    if (Id(t)) return t;
    t = t.getParentOrThrow();
  }
  return t;
}
function Id(e) {
  return yn(e) || de(e) && e.isShadowRoot();
}
function Ub(e) {
  const t = ur(), r = e.constructor.getType(), n = t._nodes.get(r);
  n === void 0 && Ne(97);
  const s = n.replace;
  if (s !== null) {
    const i = s(e);
    return i instanceof e.constructor || Ne(98), i;
  }
  return e;
}
function sw(e, t) {
  !yn(e.getParent()) || de(t) || Ut(t) || Ne(99);
}
function iw(e) {
  return (Ut(e) || de(e) && !e.canBeEmpty()) && !e.isInline();
}
function Zk(e, t, r) {
  r.style.removeProperty("caret-color"), t._blockCursorElement = null;
  const n = e.parentElement;
  n !== null && n.removeChild(e);
}
function r2e(e, t, r) {
  let n = e._blockCursorElement;
  if (we(r) && r.isCollapsed() && r.anchor.type === "element" && t.contains(document.activeElement)) {
    const s = r.anchor, i = s.getNode(), o = s.offset;
    let a = !1, l = null;
    if (o === i.getChildrenSize())
      iw(i.getChildAtIndex(o - 1)) && (a = !0);
    else {
      const c = i.getChildAtIndex(o);
      if (iw(c)) {
        const d = c.getPreviousSibling();
        (d === null || iw(d)) && (a = !0, l = e.getElementByKey(c.__key));
      }
    }
    if (a) {
      const c = e.getElementByKey(i.__key);
      return n === null && (e._blockCursorElement = n = function(d) {
        const f = d.theme, h = document.createElement("div");
        h.contentEditable = "false", h.setAttribute("data-lexical-cursor", "true");
        let p = f.blockCursor;
        if (p !== void 0) {
          if (typeof p == "string") {
            const g = Wy(p);
            p = f.blockCursor = g;
          }
          p !== void 0 && h.classList.add(...p);
        }
        return h;
      }(e._config)), t.style.caretColor = "transparent", void (l === null ? c.appendChild(n) : c.insertBefore(n, l));
    }
  }
  n !== null && Zk(n, e, t);
}
function ro(e) {
  return Ni ? (e || window).getSelection() : null;
}
function Xk(e) {
  return e.nodeType === 1;
}
function n2e(e) {
  const t = new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/, "i");
  return e.nodeName.match(t) !== null;
}
function s2e(e) {
  const t = new RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/, "i");
  return e.nodeName.match(t) !== null;
}
function iu(e) {
  if (yn(e) || Ut(e) && !e.isInline()) return !0;
  if (!de(e) || Id(e)) return !1;
  const t = e.getFirstChild(), r = t === null || rh(t) || Se(t) || t.isInline();
  return !e.isInline() && e.canBeEmpty() !== !1 && r;
}
function ow(e, t) {
  let r = e;
  for (; r !== null && r.getParent() !== null && !t(r); ) r = r.getParentOrThrow();
  return t(r) ? r : null;
}
function V7(e, t, r, n, s, i) {
  let o = e.getFirstChild();
  for (; o !== null; ) {
    const a = o.__key;
    o.__parent === t && (de(o) && V7(o, a, r, n, s, i), r.has(a) || i.delete(a), s.push(a)), o = o.getNextSibling();
  }
}
let tl, On, Vh, qb, rS, nS, vc, fi, sS, Wh, $r = "", An = "", Xs = null, So = "", W7 = !1, Vb = !1, vg = null;
function Gy(e, t) {
  const r = vc.get(e);
  if (t !== null) {
    const n = aS(e);
    n.parentNode === t && t.removeChild(n);
  }
  if (fi.has(e) || On._keyToDOMMap.delete(e), de(r)) {
    const n = Xy(r, vc);
    iS(n, 0, n.length - 1, null);
  }
  r !== void 0 && Gk(Wh, Vh, qb, r, "destroyed");
}
function iS(e, t, r, n) {
  let s = t;
  for (; s <= r; ++s) {
    const i = e[s];
    i !== void 0 && Gy(i, n);
  }
}
function Nl(e, t) {
  e.setProperty("text-align", t);
}
const i2e = "40px";
function K7(e, t) {
  const r = tl.theme.indent;
  if (typeof r == "string") {
    const s = e.classList.contains(r);
    t > 0 && !s ? e.classList.add(r) : t < 1 && s && e.classList.remove(r);
  }
  const n = getComputedStyle(e).getPropertyValue("--lexical-indent-base-value") || i2e;
  e.style.setProperty("padding-inline-start", t === 0 ? "" : `calc(${t} * ${n})`);
}
function H7(e, t) {
  const r = e.style;
  t === 0 ? Nl(r, "") : t === Lk ? Nl(r, "left") : t === Fk ? Nl(r, "center") : t === Bk ? Nl(r, "right") : t === zk ? Nl(r, "justify") : t === Uk ? Nl(r, "start") : t === qk && Nl(r, "end");
}
function Zy(e, t, r) {
  const n = fi.get(e);
  n === void 0 && Ne(60);
  const s = n.createDOM(tl, On);
  if (function(i, o, a) {
    const l = a._keyToDOMMap;
    o["__lexicalKey_" + a._key] = i, l.set(i, o);
  }(e, s, On), Se(n) ? s.setAttribute("data-lexical-text", "true") : Ut(n) && s.setAttribute("data-lexical-decorator", "true"), de(n)) {
    const i = n.__indent, o = n.__size;
    if (i !== 0 && K7(s, i), o !== 0) {
      const l = o - 1;
      (function(c, d, f, h) {
        const p = An;
        An = "", oS(c, f, 0, d, h, null), G7(f, h), An = p;
      })(Xy(n, fi), l, n, s);
    }
    const a = n.__format;
    a !== 0 && H7(s, a), n.isInline() || Y7(null, n, s), Fb(n) && ($r += Jo, So += Jo);
  } else {
    const i = n.getTextContent();
    if (Ut(n)) {
      const o = n.decorate(On, tl);
      o !== null && Z7(e, o), s.contentEditable = "false";
    } else Se(n) && (n.isDirectionless() || (An += i));
    $r += i, So += i;
  }
  if (t !== null) if (r != null) t.insertBefore(s, r);
  else {
    const i = t.__lexicalLineBreak;
    i != null ? t.insertBefore(s, i) : t.appendChild(s);
  }
  return Gk(Wh, Vh, qb, n, "created"), s;
}
function oS(e, t, r, n, s, i) {
  const o = $r;
  $r = "";
  let a = r;
  for (; a <= n; ++a) {
    Zy(e[a], s, i);
    const l = fi.get(e[a]);
    l !== null && Xs === null && Se(l) && (Xs = l.getFormat());
  }
  Fb(t) && ($r += Jo), s.__lexicalTextContent = $r, $r = o + $r;
}
function J$(e, t) {
  const r = t.get(e);
  return rh(r) || Ut(r) && r.isInline();
}
function Y7(e, t, r) {
  const n = e !== null && (e.__size === 0 || J$(e.__last, vc)), s = t.__size === 0 || J$(t.__last, fi);
  if (n) {
    if (!s) {
      const i = r.__lexicalLineBreak;
      i != null && r.removeChild(i), r.__lexicalLineBreak = null;
    }
  } else if (s) {
    const i = document.createElement("br");
    r.__lexicalLineBreak = i, r.appendChild(i);
  }
}
function G7(e, t) {
  const r = t.__lexicalDirTextContent, n = t.__lexicalDir;
  if (r !== An || n !== vg) {
    const i = An === "", o = i ? vg : (s = An, LOe.test(s) ? "rtl" : FOe.test(s) ? "ltr" : null);
    if (o !== n) {
      const a = t.classList, l = tl.theme;
      let c = n !== null ? l[n] : void 0, d = o !== null ? l[o] : void 0;
      if (c !== void 0) {
        if (typeof c == "string") {
          const f = Wy(c);
          c = l[n] = f;
        }
        a.remove(...c);
      }
      if (o === null || i && o === "ltr") t.removeAttribute("dir");
      else {
        if (d !== void 0) {
          if (typeof d == "string") {
            const f = Wy(d);
            d = l[o] = f;
          }
          d !== void 0 && a.add(...d);
        }
        t.dir = o;
      }
      Vb || (e.getWritable().__dir = o);
    }
    vg = o, t.__lexicalDirTextContent = An, t.__lexicalDir = o;
  }
  var s;
}
function o2e(e, t, r) {
  const n = An;
  var s;
  An = "", Xs = null, function(i, o, a) {
    const l = $r, c = i.__size, d = o.__size;
    if ($r = "", c === 1 && d === 1) {
      const f = i.__first, h = o.__first;
      if (f === h) Df(f, a);
      else {
        const g = aS(f), m = Zy(h, null, null);
        a.replaceChild(m, g), Gy(f, null);
      }
      const p = fi.get(h);
      Xs === null && Se(p) && (Xs = p.getFormat());
    } else {
      const f = Xy(i, vc), h = Xy(o, fi);
      if (c === 0) d !== 0 && oS(h, o, 0, d - 1, a, null);
      else if (d === 0) {
        if (c !== 0) {
          const p = a.__lexicalLineBreak == null;
          iS(f, 0, c - 1, p ? null : a), p && (a.textContent = "");
        }
      } else (function(p, g, m, y, v, b) {
        const x = y - 1, S = v - 1;
        let w, j, N = ($ = b, $.firstChild), k = 0, C = 0;
        for (var $; k <= x && C <= S; ) {
          const O = g[k], z = m[C];
          if (O === z) N = aw(Df(z, b)), k++, C++;
          else {
            w === void 0 && (w = new Set(g)), j === void 0 && (j = new Set(m));
            const G = j.has(O), q = w.has(z);
            if (G) if (q) {
              const Z = Yy(On, z);
              Z === N ? N = aw(Df(z, b)) : (N != null ? b.insertBefore(Z, N) : b.appendChild(Z), Df(z, b)), k++, C++;
            } else Zy(z, b, N), C++;
            else N = aw(aS(O)), Gy(O, b), k++;
          }
          const U = fi.get(z);
          U !== null && Xs === null && Se(U) && (Xs = U.getFormat());
        }
        const I = k > x, M = C > S;
        if (I && !M) {
          const O = m[S + 1];
          oS(m, p, C, S, b, O === void 0 ? null : On.getElementByKey(O));
        } else M && !I && iS(g, k, x, b);
      })(o, f, h, c, d, a);
    }
    Fb(o) && ($r += Jo), a.__lexicalTextContent = $r, $r = l + $r;
  }(e, t, r), G7(t, r), ud(s = t) && Xs != null && Xs !== s.__textFormat && !Vb && s.setTextFormat(Xs), An = n, Xs = null;
}
function Xy(e, t) {
  const r = [];
  let n = e.__first;
  for (; n !== null; ) {
    const s = t.get(n);
    s === void 0 && Ne(101), r.push(n), n = s.__next;
  }
  return r;
}
function Df(e, t) {
  const r = vc.get(e);
  let n = fi.get(e);
  r !== void 0 && n !== void 0 || Ne(61);
  const s = W7 || nS.has(e) || rS.has(e), i = Yy(On, e);
  if (r === n && !s) {
    if (de(r)) {
      const o = i.__lexicalTextContent;
      o !== void 0 && ($r += o, So += o);
      const a = i.__lexicalDirTextContent;
      a !== void 0 && (An += a);
    } else {
      const o = r.getTextContent();
      Se(r) && !r.isDirectionless() && (An += o), So += o, $r += o;
    }
    return i;
  }
  if (r !== n && s && Gk(Wh, Vh, qb, n, "updated"), n.updateDOM(r, i, tl)) {
    const o = Zy(e, null, null);
    return t === null && Ne(62), t.replaceChild(o, i), Gy(e, null), o;
  }
  if (de(r) && de(n)) {
    const o = n.__indent;
    o !== r.__indent && K7(i, o);
    const a = n.__format;
    a !== r.__format && H7(i, a), s && (o2e(r, n, i), yn(n) || n.isInline() || Y7(r, n, i)), Fb(n) && ($r += Jo, So += Jo);
  } else {
    const o = n.getTextContent();
    if (Ut(n)) {
      const a = n.decorate(On, tl);
      a !== null && Z7(e, a);
    } else Se(n) && !n.isDirectionless() && (An += o);
    $r += o, So += o;
  }
  if (!Vb && yn(n) && n.__cachedText !== So) {
    const o = n.getWritable();
    o.__cachedText = So, n = o;
  }
  return i;
}
function Z7(e, t) {
  let r = On._pendingDecorators;
  const n = On._decorators;
  if (r === null) {
    if (n[e] === t) return;
    r = L7(On);
  }
  r[e] = t;
}
function aw(e) {
  let t = e.nextSibling;
  return t !== null && t === On._blockCursorElement && (t = t.nextSibling), t;
}
function a2e(e, t, r, n, s, i) {
  $r = "", So = "", An = "", W7 = n === ld, vg = null, On = r, tl = r._config, Vh = r._nodes, qb = On._listeners.mutation, rS = s, nS = i, vc = e._nodeMap, fi = t._nodeMap, Vb = t._readOnly, sS = new Map(r._keyToDOMMap);
  const o = /* @__PURE__ */ new Map();
  return Wh = o, Df("root", null), On = void 0, Vh = void 0, rS = void 0, nS = void 0, vc = void 0, fi = void 0, tl = void 0, sS = void 0, Wh = void 0, o;
}
function aS(e) {
  const t = sS.get(e);
  return t === void 0 && Ne(75, e), t;
}
const bo = Object.freeze({}), lS = 30, cS = [["keydown", function(e, t) {
  if (eh = e.timeStamp, X7 = e.key, t.isComposing()) return;
  const { key: r, shiftKey: n, ctrlKey: s, metaKey: i, altKey: o } = e;
  Ce(t, gOe, e) || r != null && (function(a, l, c, d) {
    return Y$(a) && !l && !d && !c;
  }(r, s, o, i) ? Ce(t, v7, e) : function(a, l, c, d, f) {
    return Y$(a) && !d && !c && (l || f);
  }(r, s, n, o, i) ? Ce(t, yOe, e) : function(a, l, c, d) {
    return H$(a) && !l && !d && !c;
  }(r, s, o, i) ? Ce(t, b7, e) : function(a, l, c, d, f) {
    return H$(a) && !d && !c && (l || f);
  }(r, s, n, o, i) ? Ce(t, vOe, e) : /* @__PURE__ */ function(a, l, c) {
    return /* @__PURE__ */ function(d) {
      return d === "ArrowUp";
    }(a) && !l && !c;
  }(r, s, i) ? Ce(t, x7, e) : /* @__PURE__ */ function(a, l, c) {
    return /* @__PURE__ */ function(d) {
      return d === "ArrowDown";
    }(a) && !l && !c;
  }(r, s, i) ? Ce(t, w7, e) : function(a, l) {
    return G$(a) && l;
  }(r, n) ? (th = !0, Ce(t, zy, e)) : /* @__PURE__ */ function(a) {
    return a === " ";
  }(r) ? Ce(t, bOe, e) : function(a, l) {
    return Gs && l && a.toLowerCase() === "o";
  }(r, s) ? (e.preventDefault(), th = !0, Ce(t, Tu, !0)) : function(a, l) {
    return G$(a) && !l;
  }(r, n) ? (th = !1, Ce(t, zy, e)) : function(a, l, c, d) {
    return Gs ? !l && !c && (mf(a) || a.toLowerCase() === "h" && d) : !(d || l || c) && mf(a);
  }(r, o, i, s) ? mf(r) ? Ce(t, _7, e) : (e.preventDefault(), Ce(t, tc, !0)) : /* @__PURE__ */ function(a) {
    return a === "Escape";
  }(r) ? Ce(t, S7, e) : function(a, l, c, d, f) {
    return Gs ? !(c || d || f) && (gf(a) || a.toLowerCase() === "d" && l) : !(l || d || f) && gf(a);
  }(r, s, n, o, i) ? gf(r) ? Ce(t, E7, e) : (e.preventDefault(), Ce(t, tc, !1)) : function(a, l, c) {
    return mf(a) && (Gs ? l : c);
  }(r, o, s) ? (e.preventDefault(), Ce(t, zh, !0)) : function(a, l, c) {
    return gf(a) && (Gs ? l : c);
  }(r, o, s) ? (e.preventDefault(), Ce(t, zh, !1)) : function(a, l) {
    return Gs && l && mf(a);
  }(r, i) ? (e.preventDefault(), Ce(t, Uh, !0)) : function(a, l) {
    return Gs && l && gf(a);
  }(r, i) ? (e.preventDefault(), Ce(t, Uh, !1)) : function(a, l, c, d) {
    return a.toLowerCase() === "b" && !l && Of(c, d);
  }(r, o, i, s) ? (e.preventDefault(), Ce(t, Ua, "bold")) : function(a, l, c, d) {
    return a.toLowerCase() === "u" && !l && Of(c, d);
  }(r, o, i, s) ? (e.preventDefault(), Ce(t, Ua, "underline")) : function(a, l, c, d) {
    return a.toLowerCase() === "i" && !l && Of(c, d);
  }(r, o, i, s) ? (e.preventDefault(), Ce(t, Ua, "italic")) : /* @__PURE__ */ function(a, l, c, d) {
    return a === "Tab" && !l && !c && !d;
  }(r, o, s, i) ? Ce(t, xOe, e) : function(a, l, c, d) {
    return a.toLowerCase() === "z" && !l && Of(c, d);
  }(r, n, i, s) ? (e.preventDefault(), Ce(t, Ok, void 0)) : function(a, l, c, d) {
    return Gs ? a.toLowerCase() === "z" && c && l : a.toLowerCase() === "y" && d || a.toLowerCase() === "z" && d && l;
  }(r, n, i, s) ? (e.preventDefault(), Ce(t, Dk, void 0)) : ri(t._editorState._selection) ? function(a, l, c, d) {
    return !l && a.toLowerCase() === "c" && (Gs ? c : d);
  }(r, n, i, s) ? (e.preventDefault(), Ce(t, Ib, e)) : function(a, l, c, d) {
    return !l && a.toLowerCase() === "x" && (Gs ? c : d);
  }(r, n, i, s) ? (e.preventDefault(), Ce(t, $k, e)) : Z$(r, i, s) && (e.preventDefault(), Ce(t, J_, e)) : !Ka && Z$(r, i, s) && (e.preventDefault(), Ce(t, J_, e)), /* @__PURE__ */ function(a, l, c, d) {
    return a || l || c || d;
  }(s, n, o, i) && Ce(t, TOe, e));
}], ["pointerdown", function(e, t) {
  const r = e.target, n = e.pointerType;
  r instanceof Node && n !== "touch" && is(t, () => {
    Ut(yc(r)) || (dS = !0);
  });
}], ["compositionstart", function(e, t) {
  is(t, () => {
    const r = Fe();
    if (we(r) && !t.isComposing()) {
      const n = r.anchor, s = r.anchor.getNode();
      tn(n.key), (e.timeStamp < eh + lS || n.type === "element" || !r.isCollapsed() || s.getFormat() !== r.format || Se(s) && s.getStyle() !== r.style) && Ce(t, Au, MOe);
    }
  });
}], ["compositionend", function(e, t) {
  Ka ? yf = !0 : is(t, () => {
    lw(t, e.data);
  });
}], ["input", function(e, t) {
  e.stopPropagation(), is(t, () => {
    const r = Fe(), n = e.data, s = t9(e);
    if (n != null && we(r) && e9(r, s, n, e.timeStamp, !1)) {
      yf && (lw(t, n), yf = !1);
      const i = r.anchor.getNode(), o = ro(t._window);
      if (o === null) return;
      const a = r.isBackward(), l = a ? r.anchor.offset : r.focus.offset, c = a ? r.focus.offset : r.anchor.offset;
      Uy && !r.isCollapsed() && Se(i) && o.anchorNode !== null && i.getTextContent().slice(0, l) + n + i.getTextContent().slice(l + c) === U7(o.anchorNode) || Ce(t, Au, n);
      const d = n.length;
      Ka && d > 1 && e.inputType === "insertCompositionText" && !t.isComposing() && (r.anchor.offset -= d), Rk || Mb || Ik || !t.isComposing() || (eh = 0, tn(null));
    } else
      Hk(!1, t, n !== null ? n : void 0), yf && (lw(t, n || void 0), yf = !1);
    Fn(), D7(ur());
  }), ou = null;
}], ["click", function(e, t) {
  is(t, () => {
    const r = Fe(), n = ro(t._window), s = Fp();
    if (n) {
      if (we(r)) {
        const i = r.anchor, o = i.getNode();
        i.type === "element" && i.offset === 0 && r.isCollapsed() && !yn(o) && Er().getChildrenSize() === 1 && o.getTopLevelElementOrThrow().isEmpty() && s !== null && r.is(s) ? (n.removeAllRanges(), r.dirty = !0) : e.detail === 3 && !r.isCollapsed() && o !== r.focus.getNode() && (de(o) ? o.select(0) : o.getParentOrThrow().select(0));
      } else if (e.pointerType === "touch") {
        const i = n.anchorNode;
        if (i !== null) {
          const o = i.nodeType;
          (o === $p || o === yl) && to(Qk(s, n, t, e));
        }
      }
    }
    Ce(t, y7, e);
  });
}], ["cut", bo], ["copy", bo], ["dragstart", bo], ["dragover", bo], ["dragend", bo], ["paste", bo], ["focus", bo], ["blur", bo], ["drop", bo]];
Uy && cS.push(["beforeinput", (e, t) => function(r, n) {
  const s = r.inputType, i = t9(r);
  s === "deleteCompositionText" || Ka && q7(n) || s !== "insertCompositionText" && is(n, () => {
    const o = Fe();
    if (s === "deleteContentBackward") {
      if (o === null) {
        const p = Fp();
        if (!we(p)) return;
        to(p.clone());
      }
      if (we(o)) {
        const p = o.anchor.key === o.focus.key;
        if (a = r.timeStamp, X7 === "MediaLast" && a < eh + lS && n.isComposing() && p) {
          if (tn(null), eh = 0, setTimeout(() => {
            is(n, () => {
              tn(null);
            });
          }, lS), we(o)) {
            const g = o.anchor.getNode();
            g.markDirty(), o.format = g.getFormat(), Se(g) || Ne(142), o.style = g.getStyle();
          }
        } else {
          tn(null), r.preventDefault();
          const g = o.anchor.getNode().getTextContent(), m = o.anchor.offset === 0 && o.focus.offset === g.length;
          OOe && p && !m || Ce(n, tc, !0);
        }
        return;
      }
    }
    var a;
    if (!we(o)) return;
    const l = r.data;
    ou !== null && Hk(!1, n, ou), o.dirty && ou === null || !o.isCollapsed() || yn(o.anchor.getNode()) || i === null || o.applyDOMRange(i), ou = null;
    const c = o.anchor, d = o.focus, f = c.getNode(), h = d.getNode();
    if (s !== "insertText" && s !== "insertTranspose") switch (r.preventDefault(), s) {
      case "insertFromYank":
      case "insertFromDrop":
      case "insertReplacementText":
        Ce(n, Au, r);
        break;
      case "insertFromComposition":
        tn(null), Ce(n, Au, r);
        break;
      case "insertLineBreak":
        tn(null), Ce(n, Tu, !1);
        break;
      case "insertParagraph":
        tn(null), th && !Mb ? (th = !1, Ce(n, Tu, !1)) : Ce(n, By, void 0);
        break;
      case "insertFromPaste":
      case "insertFromPasteAsQuotation":
        Ce(n, Pk, r);
        break;
      case "deleteByComposition":
        (function(p, g) {
          return p !== g || de(p) || de(g) || !p.isToken() || !g.isToken();
        })(f, h) && Ce(n, X_, r);
        break;
      case "deleteByDrag":
      case "deleteByCut":
        Ce(n, X_, r);
        break;
      case "deleteContent":
        Ce(n, tc, !1);
        break;
      case "deleteWordBackward":
        Ce(n, zh, !0);
        break;
      case "deleteWordForward":
        Ce(n, zh, !1);
        break;
      case "deleteHardLineBackward":
      case "deleteSoftLineBackward":
        Ce(n, Uh, !0);
        break;
      case "deleteContentForward":
      case "deleteHardLineForward":
      case "deleteSoftLineForward":
        Ce(n, Uh, !1);
        break;
      case "formatStrikeThrough":
        Ce(n, Ua, "strikethrough");
        break;
      case "formatBold":
        Ce(n, Ua, "bold");
        break;
      case "formatItalic":
        Ce(n, Ua, "italic");
        break;
      case "formatUnderline":
        Ce(n, Ua, "underline");
        break;
      case "historyUndo":
        Ce(n, Ok, void 0);
        break;
      case "historyRedo":
        Ce(n, Dk, void 0);
    }
    else {
      if (l === `
`) r.preventDefault(), Ce(n, Tu, !1);
      else if (l === Jo) r.preventDefault(), Ce(n, By, void 0);
      else if (l == null && r.dataTransfer) {
        const p = r.dataTransfer.getData("text/plain");
        r.preventDefault(), o.insertRawText(p);
      } else l != null && e9(o, i, l, r.timeStamp, !0) ? (r.preventDefault(), Ce(n, Au, l)) : ou = l;
      J7 = r.timeStamp;
    }
  });
}(e, t)]);
let eh = 0, X7 = null, J7 = 0, ou = null;
const Jy = /* @__PURE__ */ new WeakMap();
let uS = !1, dS = !1, th = !1, yf = !1, Q7 = [0, "", 0, "root", 0];
function e9(e, t, r, n, s) {
  const i = e.anchor, o = e.focus, a = i.getNode(), l = ur(), c = ro(l._window), d = c !== null ? c.anchorNode : null, f = i.key, h = l.getElementByKey(f), p = r.length;
  return f !== o.key || !Se(a) || (!s && (!Uy || J7 < n + 50) || a.isDirty() && p < 2 || B7(r)) && i.offset !== o.offset && !a.isComposing() || su(a) || a.isDirty() && p > 1 || (s || !Uy) && h !== null && !a.isComposing() && d !== Ky(h) || c !== null && t !== null && (!t.collapsed || t.startContainer !== c.anchorNode || t.startOffset !== c.anchorOffset) || a.getFormat() !== e.format || a.getStyle() !== e.style || QOe(e, a);
}
function Q$(e, t) {
  return e !== null && e.nodeValue !== null && e.nodeType === yl && t !== 0 && t !== e.nodeValue.length;
}
function eR(e, t, r) {
  const { anchorNode: n, anchorOffset: s, focusNode: i, focusOffset: o } = e;
  uS && (uS = !1, Q$(n, s) && Q$(i, o)) || is(t, () => {
    if (!r) return void to(null);
    if (!Rp(t, n, i)) return;
    const a = Fe();
    if (we(a)) {
      const l = a.anchor, c = l.getNode();
      if (a.isCollapsed()) {
        e.type === "Range" && e.anchorNode === e.focusNode && (a.dirty = !0);
        const d = zb(t).event, f = d ? d.timeStamp : performance.now(), [h, p, g, m, y] = Q7, v = Er(), b = t.isComposing() === !1 && v.getTextContent() === "";
        if (f < y + 200 && l.offset === g && l.key === m) a.format = h, a.style = p;
        else if (l.type === "text") Se(c) || Ne(141), a.format = c.getFormat(), a.style = c.getStyle();
        else if (l.type === "element" && !b) {
          const x = l.getNode();
          x instanceof Ld && x.getChildrenSize() === 0 ? a.format = x.getTextFormat() : a.format = 0, a.style = "";
        }
      } else {
        const d = l.key, f = a.focus.key, h = a.getNodes(), p = h.length, g = a.isBackward(), m = g ? o : s, y = g ? s : o, v = g ? f : d, b = g ? d : f;
        let x = IOe, S = !1;
        for (let w = 0; w < p; w++) {
          const j = h[w], N = j.getTextContentSize();
          if (Se(j) && N !== 0 && !(w === 0 && j.__key === v && m === N || w === p - 1 && j.__key === b && y === 0) && (S = !0, x &= j.getFormat(), x === 0)) break;
        }
        a.format = S ? x : 0;
      }
    }
    Ce(t, Ak, void 0);
  });
}
function t9(e) {
  if (!e.getTargetRanges) return null;
  const t = e.getTargetRanges();
  return t.length === 0 ? null : t[0];
}
function lw(e, t) {
  const r = e._compositionKey;
  if (tn(null), r !== null && t != null) {
    if (t === "") {
      const n = Nn(r), s = Ky(e.getElementByKey(r));
      return void (s !== null && s.nodeValue !== null && Se(n) && Yk(n, s.nodeValue, null, null, !0));
    }
    if (t[t.length - 1] === `
`) {
      const n = Fe();
      if (we(n)) {
        const s = n.focus;
        return n.anchor.set(s.key, s.offset, s.type), void Ce(e, zy, null);
      }
    }
  }
  Hk(!0, e, t);
}
function r9(e) {
  let t = e.__lexicalEventHandles;
  return t === void 0 && (t = [], e.__lexicalEventHandles = t), t;
}
const Pu = /* @__PURE__ */ new Map();
function n9(e) {
  const t = e.target, r = ro(t == null ? null : t.nodeType === 9 ? t.defaultView : t.ownerDocument.defaultView);
  if (r === null) return;
  const n = I7(r.anchorNode);
  if (n === null) return;
  dS && (dS = !1, is(n, () => {
    const c = Fp(), d = r.anchorNode;
    if (d === null) return;
    const f = d.nodeType;
    f !== $p && f !== yl || to(Qk(c, r, n, e));
  }));
  const s = Kk(n), i = s[s.length - 1], o = i._key, a = Pu.get(o), l = a || i;
  l !== n && eR(r, l, !1), eR(r, n, !0), n !== i ? Pu.set(o, n) : a && Pu.delete(o);
}
function tR(e) {
  e._lexicalHandled = !0;
}
function rR(e) {
  return e._lexicalHandled === !0;
}
function l2e(e) {
  const t = e.ownerDocument, r = Jy.get(t);
  r === void 0 && Ne(162);
  const n = r - 1;
  n >= 0 || Ne(164), Jy.set(t, n), n === 0 && t.removeEventListener("selectionchange", n9);
  const s = e.__lexicalEditor;
  s != null && (function(o) {
    if (o._parentEditor !== null) {
      const a = Kk(o), l = a[a.length - 1]._key;
      Pu.get(l) === o && Pu.delete(l);
    } else Pu.delete(o._key);
  }(s), e.__lexicalEditor = null);
  const i = r9(e);
  for (let o = 0; o < i.length; o++) i[o]();
  e.__lexicalEventHandles = [];
}
function fS(e, t, r) {
  Fn();
  const n = e.__key, s = e.getParent();
  if (s === null) return;
  const i = function(a) {
    const l = Fe();
    if (!we(l) || !de(a)) return l;
    const { anchor: c, focus: d } = l, f = c.getNode(), h = d.getNode();
    return tS(f, a) && c.set(a.__key, 0, "element"), tS(h, a) && d.set(a.__key, 0, "element"), l;
  }(e);
  let o = !1;
  if (we(i) && t) {
    const a = i.anchor, l = i.focus;
    a.key === n && (ev(a, e, s, e.getPreviousSibling(), e.getNextSibling()), o = !0), l.key === n && (ev(l, e, s, e.getPreviousSibling(), e.getNextSibling()), o = !0);
  } else ri(i) && t && e.isSelected() && e.selectPrevious();
  if (we(i) && t && !o) {
    const a = e.getIndexWithinParent();
    rc(e), Qy(i, s, a, -1);
  } else rc(e);
  r || Id(s) || s.canBeEmpty() || !s.isEmpty() || fS(s, t), t && yn(s) && s.isEmpty() && s.selectEnd();
}
class Wb {
  static getType() {
    Ne(64, this.name);
  }
  static clone(t) {
    Ne(65, this.name);
  }
  constructor(t) {
    this.__type = this.constructor.getType(), this.__parent = null, this.__prev = null, this.__next = null, JOe(this, t);
  }
  getType() {
    return this.__type;
  }
  isInline() {
    Ne(137, this.constructor.name);
  }
  isAttached() {
    let t = this.__key;
    for (; t !== null; ) {
      if (t === "root") return !0;
      const r = Nn(t);
      if (r === null) break;
      t = r.__parent;
    }
    return !1;
  }
  isSelected(t) {
    const r = t || Fe();
    if (r == null) return !1;
    const n = r.getNodes().some((s) => s.__key === this.__key);
    return (Se(this) || !we(r) || r.anchor.type !== "element" || r.focus.type !== "element" || r.anchor.key !== r.focus.key || r.anchor.offset !== r.focus.offset) && n;
  }
  getKey() {
    return this.__key;
  }
  getIndexWithinParent() {
    const t = this.getParent();
    if (t === null) return -1;
    let r = t.getFirstChild(), n = 0;
    for (; r !== null; ) {
      if (this.is(r)) return n;
      n++, r = r.getNextSibling();
    }
    return -1;
  }
  getParent() {
    const t = this.getLatest().__parent;
    return t === null ? null : Nn(t);
  }
  getParentOrThrow() {
    const t = this.getParent();
    return t === null && Ne(66, this.__key), t;
  }
  getTopLevelElement() {
    let t = this;
    for (; t !== null; ) {
      const r = t.getParent();
      if (Id(r)) return de(t) || Ne(138), t;
      t = r;
    }
    return null;
  }
  getTopLevelElementOrThrow() {
    const t = this.getTopLevelElement();
    return t === null && Ne(67, this.__key), t;
  }
  getParents() {
    const t = [];
    let r = this.getParent();
    for (; r !== null; ) t.push(r), r = r.getParent();
    return t;
  }
  getParentKeys() {
    const t = [];
    let r = this.getParent();
    for (; r !== null; ) t.push(r.__key), r = r.getParent();
    return t;
  }
  getPreviousSibling() {
    const t = this.getLatest().__prev;
    return t === null ? null : Nn(t);
  }
  getPreviousSiblings() {
    const t = [], r = this.getParent();
    if (r === null) return t;
    let n = r.getFirstChild();
    for (; n !== null && !n.is(this); ) t.push(n), n = n.getNextSibling();
    return t;
  }
  getNextSibling() {
    const t = this.getLatest().__next;
    return t === null ? null : Nn(t);
  }
  getNextSiblings() {
    const t = [];
    let r = this.getNextSibling();
    for (; r !== null; ) t.push(r), r = r.getNextSibling();
    return t;
  }
  getCommonAncestor(t) {
    const r = this.getParents(), n = t.getParents();
    de(this) && r.unshift(this), de(t) && n.unshift(t);
    const s = r.length, i = n.length;
    if (s === 0 || i === 0 || r[s - 1] !== n[i - 1]) return null;
    const o = new Set(n);
    for (let a = 0; a < s; a++) {
      const l = r[a];
      if (o.has(l)) return l;
    }
    return null;
  }
  is(t) {
    return t != null && this.__key === t.__key;
  }
  isBefore(t) {
    if (this === t) return !1;
    if (t.isParentOf(this)) return !0;
    if (this.isParentOf(t)) return !1;
    const r = this.getCommonAncestor(t);
    let n = 0, s = 0, i = this;
    for (; ; ) {
      const o = i.getParentOrThrow();
      if (o === r) {
        n = i.getIndexWithinParent();
        break;
      }
      i = o;
    }
    for (i = t; ; ) {
      const o = i.getParentOrThrow();
      if (o === r) {
        s = i.getIndexWithinParent();
        break;
      }
      i = o;
    }
    return n < s;
  }
  isParentOf(t) {
    const r = this.__key;
    if (r === t.__key) return !1;
    let n = t;
    for (; n !== null; ) {
      if (n.__key === r) return !0;
      n = n.getParent();
    }
    return !1;
  }
  getNodesBetween(t) {
    const r = this.isBefore(t), n = [], s = /* @__PURE__ */ new Set();
    let i = this;
    for (; i !== null; ) {
      const o = i.__key;
      if (s.has(o) || (s.add(o), n.push(i)), i === t) break;
      const a = de(i) ? r ? i.getFirstChild() : i.getLastChild() : null;
      if (a !== null) {
        i = a;
        continue;
      }
      const l = r ? i.getNextSibling() : i.getPreviousSibling();
      if (l !== null) {
        i = l;
        continue;
      }
      const c = i.getParentOrThrow();
      if (s.has(c.__key) || n.push(c), c === t) break;
      let d = null, f = c;
      do {
        if (f === null && Ne(68), d = r ? f.getNextSibling() : f.getPreviousSibling(), f = f.getParent(), f === null) break;
        d !== null || s.has(f.__key) || n.push(f);
      } while (d === null);
      i = d;
    }
    return r || n.reverse(), n;
  }
  isDirty() {
    const t = ur()._dirtyLeaves;
    return t !== null && t.has(this.__key);
  }
  getLatest() {
    const t = Nn(this.__key);
    return t === null && Ne(113), t;
  }
  getWritable() {
    Fn();
    const t = la(), r = ur(), n = t._nodeMap, s = this.__key, i = this.getLatest(), o = i.__parent, a = r._cloneNotNeeded, l = Fe();
    if (l !== null && l.setCachedNodes(null), a.has(s)) return Hy(i), i;
    const c = i.constructor.clone(i);
    return c.__parent = o, c.__next = i.__next, c.__prev = i.__prev, de(i) && de(c) ? (ud(i) && ud(c) && (c.__textFormat = i.__textFormat), c.__first = i.__first, c.__last = i.__last, c.__size = i.__size, c.__indent = i.__indent, c.__format = i.__format, c.__dir = i.__dir) : Se(i) && Se(c) && (c.__format = i.__format, c.__style = i.__style, c.__mode = i.__mode, c.__detail = i.__detail), a.add(s), c.__key = s, Hy(c), n.set(s, c), c;
  }
  getTextContent() {
    return "";
  }
  getTextContentSize() {
    return this.getTextContent().length;
  }
  createDOM(t, r) {
    Ne(70);
  }
  updateDOM(t, r, n) {
    Ne(71);
  }
  exportDOM(t) {
    return { element: this.createDOM(t._config, t) };
  }
  exportJSON() {
    Ne(72);
  }
  static importJSON(t) {
    Ne(18, this.name);
  }
  static transform() {
    return null;
  }
  remove(t) {
    fS(this, !0, t);
  }
  replace(t, r) {
    Fn();
    let n = Fe();
    n !== null && (n = n.clone()), sw(this, t);
    const s = this.getLatest(), i = this.__key, o = t.__key, a = t.getWritable(), l = this.getParentOrThrow().getWritable(), c = l.__size;
    rc(a);
    const d = s.getPreviousSibling(), f = s.getNextSibling(), h = s.__prev, p = s.__next, g = s.__parent;
    if (fS(s, !1, !0), d === null ? l.__first = o : d.getWritable().__next = o, a.__prev = h, f === null ? l.__last = o : f.getWritable().__prev = o, a.__next = p, a.__parent = g, l.__size = c, r && (de(this) && de(a) || Ne(139), this.getChildren().forEach((m) => {
      a.append(m);
    })), we(n)) {
      to(n);
      const m = n.anchor, y = n.focus;
      m.key === i && aR(m, a), y.key === i && aR(y, a);
    }
    return qa() === i && tn(o), a;
  }
  insertAfter(t, r = !0) {
    Fn(), sw(this, t);
    const n = this.getWritable(), s = t.getWritable(), i = s.getParent(), o = Fe();
    let a = !1, l = !1;
    if (i !== null) {
      const p = t.getIndexWithinParent();
      if (rc(s), we(o)) {
        const g = i.__key, m = o.anchor, y = o.focus;
        a = m.type === "element" && m.key === g && m.offset === p + 1, l = y.type === "element" && y.key === g && y.offset === p + 1;
      }
    }
    const c = this.getNextSibling(), d = this.getParentOrThrow().getWritable(), f = s.__key, h = n.__next;
    if (c === null ? d.__last = f : c.getWritable().__prev = f, d.__size++, n.__next = f, s.__next = h, s.__prev = n.__key, s.__parent = n.__parent, r && we(o)) {
      const p = this.getIndexWithinParent();
      Qy(o, d, p + 1);
      const g = d.__key;
      a && o.anchor.set(g, p + 2, "element"), l && o.focus.set(g, p + 2, "element");
    }
    return t;
  }
  insertBefore(t, r = !0) {
    Fn(), sw(this, t);
    const n = this.getWritable(), s = t.getWritable(), i = s.__key;
    rc(s);
    const o = this.getPreviousSibling(), a = this.getParentOrThrow().getWritable(), l = n.__prev, c = this.getIndexWithinParent();
    o === null ? a.__first = i : o.getWritable().__next = i, a.__size++, n.__prev = i, s.__prev = l, s.__next = n.__key, s.__parent = n.__parent;
    const d = Fe();
    return r && we(d) && Qy(d, this.getParentOrThrow(), c), t;
  }
  isParentRequired() {
    return !1;
  }
  createParentElementNode() {
    return Yi();
  }
  selectStart() {
    return this.selectPrevious();
  }
  selectEnd() {
    return this.selectNext(0, 0);
  }
  selectPrevious(t, r) {
    Fn();
    const n = this.getPreviousSibling(), s = this.getParentOrThrow();
    if (n === null) return s.select(0, 0);
    if (de(n)) return n.select();
    if (!Se(n)) {
      const i = n.getIndexWithinParent() + 1;
      return s.select(i, i);
    }
    return n.select(t, r);
  }
  selectNext(t, r) {
    Fn();
    const n = this.getNextSibling(), s = this.getParentOrThrow();
    if (n === null) return s.select();
    if (de(n)) return n.select(0, 0);
    if (!Se(n)) {
      const i = n.getIndexWithinParent();
      return s.select(i, i);
    }
    return n.select(t, r);
  }
  markDirty() {
    this.getWritable();
  }
}
class Ip extends Wb {
  static getType() {
    return "linebreak";
  }
  static clone(t) {
    return new Ip(t.__key);
  }
  constructor(t) {
    super(t);
  }
  getTextContent() {
    return `
`;
  }
  createDOM() {
    return document.createElement("br");
  }
  updateDOM() {
    return !1;
  }
  static importDOM() {
    return { br: (t) => function(r) {
      const n = r.parentElement;
      if (n !== null) {
        const s = n.firstChild;
        if (s === r || s.nextSibling === r && nR(s)) {
          const i = n.lastChild;
          if (i === r || i.previousSibling === r && nR(i)) return !0;
        }
      }
      return !1;
    }(t) ? null : { conversion: c2e, priority: 0 } };
  }
  static importJSON(t) {
    return cd();
  }
  exportJSON() {
    return { type: "linebreak", version: 1 };
  }
}
function c2e(e) {
  return { node: cd() };
}
function cd() {
  return Ub(new Ip());
}
function rh(e) {
  return e instanceof Ip;
}
function nR(e) {
  return e.nodeType === yl && /^( |\t|\r?\n)+$/.test(e.textContent || "");
}
function cw(e, t) {
  return 16 & t ? "code" : t & Mk ? "mark" : 32 & t ? "sub" : 64 & t ? "sup" : null;
}
function uw(e, t) {
  return 1 & t ? "strong" : 2 & t ? "em" : "span";
}
function s9(e, t, r, n, s) {
  const i = n.classList;
  let o = Qf(s, "base");
  o !== void 0 && i.add(...o), o = Qf(s, "underlineStrikethrough");
  let a = !1;
  const l = t & Vy && t & qy;
  o !== void 0 && (r & Vy && r & qy ? (a = !0, l || i.add(...o)) : l && i.remove(...o));
  for (const c in gc) {
    const d = gc[c];
    if (o = Qf(s, c), o !== void 0) if (r & d) {
      if (a && (c === "underline" || c === "strikethrough")) {
        t & d && i.remove(...o);
        continue;
      }
      t & d && (!l || c !== "underline") && c !== "strikethrough" || i.add(...o);
    } else t & d && i.remove(...o);
  }
}
function i9(e, t, r) {
  const n = t.firstChild, s = r.isComposing(), i = e + (s ? Lb : "");
  if (n == null) t.textContent = i;
  else {
    const o = n.nodeValue;
    if (o !== i) if (s || Ka) {
      const [a, l, c] = function(d, f) {
        const h = d.length, p = f.length;
        let g = 0, m = 0;
        for (; g < h && g < p && d[g] === f[g]; ) g++;
        for (; m + g < h && m + g < p && d[h - m - 1] === f[p - m - 1]; ) m++;
        return [g, h - g - m, f.slice(g, p - m)];
      }(o, i);
      l !== 0 && n.deleteData(a, l), n.insertData(a, c);
    } else n.nodeValue = i;
  }
}
function sR(e, t, r, n, s, i) {
  i9(s, e, t);
  const o = i.theme.text;
  o !== void 0 && s9(0, 0, n, e, o);
}
function Xm(e, t) {
  const r = document.createElement(t);
  return r.appendChild(e), r;
}
class Md extends Wb {
  static getType() {
    return "text";
  }
  static clone(t) {
    return new Md(t.__text, t.__key);
  }
  constructor(t, r) {
    super(r), this.__text = t, this.__format = 0, this.__style = "", this.__mode = 0, this.__detail = 0;
  }
  getFormat() {
    return this.getLatest().__format;
  }
  getDetail() {
    return this.getLatest().__detail;
  }
  getMode() {
    const t = this.getLatest();
    return qOe[t.__mode];
  }
  getStyle() {
    return this.getLatest().__style;
  }
  isToken() {
    return this.getLatest().__mode === 1;
  }
  isComposing() {
    return this.__key === qa();
  }
  isSegmented() {
    return this.getLatest().__mode === 2;
  }
  isDirectionless() {
    return !!(1 & this.getLatest().__detail);
  }
  isUnmergeable() {
    return !!(2 & this.getLatest().__detail);
  }
  hasFormat(t) {
    const r = gc[t];
    return !!(this.getFormat() & r);
  }
  isSimpleText() {
    return this.__type === "text" && this.__mode === 0;
  }
  getTextContent() {
    return this.getLatest().__text;
  }
  getFormatFlags(t, r) {
    return eS(this.getLatest().__format, t, r);
  }
  canHaveFormat() {
    return !0;
  }
  createDOM(t, r) {
    const n = this.__format, s = cw(0, n), i = uw(0, n), o = s === null ? i : s, a = document.createElement(o);
    let l = a;
    this.hasFormat("code") && a.setAttribute("spellcheck", "false"), s !== null && (l = document.createElement(i), a.appendChild(l)), sR(l, this, 0, n, this.__text, t);
    const c = this.__style;
    return c !== "" && (a.style.cssText = c), a;
  }
  updateDOM(t, r, n) {
    const s = this.__text, i = t.__format, o = this.__format, a = cw(0, i), l = cw(0, o), c = uw(0, i), d = uw(0, o);
    if ((a === null ? c : a) !== (l === null ? d : l)) return !0;
    if (a === l && c !== d) {
      const m = r.firstChild;
      m == null && Ne(48);
      const y = document.createElement(d);
      return sR(y, this, 0, o, s, n), r.replaceChild(y, m), !1;
    }
    let f = r;
    l !== null && a !== null && (f = r.firstChild, f == null && Ne(49)), i9(s, f, this);
    const h = n.theme.text;
    h !== void 0 && i !== o && s9(0, i, o, f, h);
    const p = t.__style, g = this.__style;
    return p !== g && (r.style.cssText = g), !1;
  }
  static importDOM() {
    return { "#text": () => ({ conversion: h2e, priority: 0 }), b: () => ({ conversion: d2e, priority: 0 }), code: () => ({ conversion: xa, priority: 0 }), em: () => ({ conversion: xa, priority: 0 }), i: () => ({ conversion: xa, priority: 0 }), s: () => ({ conversion: xa, priority: 0 }), span: () => ({ conversion: u2e, priority: 0 }), strong: () => ({ conversion: xa, priority: 0 }), sub: () => ({ conversion: xa, priority: 0 }), sup: () => ({ conversion: xa, priority: 0 }), u: () => ({ conversion: xa, priority: 0 }) };
  }
  static importJSON(t) {
    const r = dn(t.text);
    return r.setFormat(t.format), r.setDetail(t.detail), r.setMode(t.mode), r.setStyle(t.style), r;
  }
  exportDOM(t) {
    let { element: r } = super.exportDOM(t);
    return r !== null && Xk(r) || Ne(132), r.style.whiteSpace = "pre-wrap", this.hasFormat("bold") && (r = Xm(r, "b")), this.hasFormat("italic") && (r = Xm(r, "i")), this.hasFormat("strikethrough") && (r = Xm(r, "s")), this.hasFormat("underline") && (r = Xm(r, "u")), { element: r };
  }
  exportJSON() {
    return { detail: this.getDetail(), format: this.getFormat(), mode: this.getMode(), style: this.getStyle(), text: this.getTextContent(), type: "text", version: 1 };
  }
  selectionTransform(t, r) {
  }
  setFormat(t) {
    const r = this.getWritable();
    return r.__format = typeof t == "string" ? gc[t] : t, r;
  }
  setDetail(t) {
    const r = this.getWritable();
    return r.__detail = typeof t == "string" ? BOe[t] : t, r;
  }
  setStyle(t) {
    const r = this.getWritable();
    return r.__style = t, r;
  }
  toggleFormat(t) {
    const r = eS(this.getFormat(), t, null);
    return this.setFormat(r);
  }
  toggleDirectionless() {
    const t = this.getWritable();
    return t.__detail ^= 1, t;
  }
  toggleUnmergeable() {
    const t = this.getWritable();
    return t.__detail ^= 2, t;
  }
  setMode(t) {
    const r = UOe[t];
    if (this.__mode === r) return this;
    const n = this.getWritable();
    return n.__mode = r, n;
  }
  setTextContent(t) {
    if (this.__text === t) return this;
    const r = this.getWritable();
    return r.__text = t, r;
  }
  select(t, r) {
    Fn();
    let n = t, s = r;
    const i = Fe(), o = this.getTextContent(), a = this.__key;
    if (typeof o == "string") {
      const l = o.length;
      n === void 0 && (n = l), s === void 0 && (s = l);
    } else n = 0, s = 0;
    if (!we(i)) return l9(a, n, a, s, "text", "text");
    {
      const l = qa();
      l !== i.anchor.key && l !== i.focus.key || tn(a), i.setTextNodeRange(this, n, this, s);
    }
    return i;
  }
  selectStart() {
    return this.select(0, 0);
  }
  selectEnd() {
    const t = this.getTextContentSize();
    return this.select(t, t);
  }
  spliceText(t, r, n, s) {
    const i = this.getWritable(), o = i.__text, a = n.length;
    let l = t;
    l < 0 && (l = a + l, l < 0 && (l = 0));
    const c = Fe();
    if (s && we(c)) {
      const f = t + a;
      c.setTextNodeRange(i, f, i, f);
    }
    const d = o.slice(0, l) + n + o.slice(l + r);
    return i.__text = d, i;
  }
  canInsertTextBefore() {
    return !0;
  }
  canInsertTextAfter() {
    return !0;
  }
  splitText(...t) {
    Fn();
    const r = this.getLatest(), n = r.getTextContent(), s = r.__key, i = qa(), o = new Set(t), a = [], l = n.length;
    let c = "";
    for (let N = 0; N < l; N++) c !== "" && o.has(N) && (a.push(c), c = ""), c += n[N];
    c !== "" && a.push(c);
    const d = a.length;
    if (d === 0) return [];
    if (a[0] === n) return [r];
    const f = a[0], h = r.getParentOrThrow();
    let p;
    const g = r.getFormat(), m = r.getStyle(), y = r.__detail;
    let v = !1;
    r.isSegmented() ? (p = dn(f), p.__format = g, p.__style = m, p.__detail = y, v = !0) : (p = r.getWritable(), p.__text = f);
    const b = Fe(), x = [p];
    let S = f.length;
    for (let N = 1; N < d; N++) {
      const k = a[N], C = k.length, $ = dn(k).getWritable();
      $.__format = g, $.__style = m, $.__detail = y;
      const I = $.__key, M = S + C;
      if (we(b)) {
        const O = b.anchor, z = b.focus;
        O.key === s && O.type === "text" && O.offset > S && O.offset <= M && (O.key = I, O.offset -= S, b.dirty = !0), z.key === s && z.type === "text" && z.offset > S && z.offset <= M && (z.key = I, z.offset -= S, b.dirty = !0);
      }
      i === s && tn(I), S = M, x.push($);
    }
    (function(N) {
      const k = N.getPreviousSibling(), C = N.getNextSibling();
      k !== null && Hy(k), C !== null && Hy(C);
    })(this);
    const w = h.getWritable(), j = this.getIndexWithinParent();
    return v ? (w.splice(j, 0, x), this.remove()) : w.splice(j, 1, x), we(b) && Qy(b, h, j, d - 1), x;
  }
  mergeWithSibling(t) {
    const r = t === this.getPreviousSibling();
    r || t === this.getNextSibling() || Ne(50);
    const n = this.__key, s = t.__key, i = this.__text, o = i.length;
    qa() === s && tn(n);
    const a = Fe();
    if (we(a)) {
      const f = a.anchor, h = a.focus;
      f !== null && f.key === s && (pR(f, r, n, t, o), a.dirty = !0), h !== null && h.key === s && (pR(h, r, n, t, o), a.dirty = !0);
    }
    const l = t.__text, c = r ? l + i : i + l;
    this.setTextContent(c);
    const d = this.getWritable();
    return t.remove(), d;
  }
  isTextEntity() {
    return !1;
  }
}
function u2e(e) {
  return { forChild: Jk(e.style), node: null };
}
function d2e(e) {
  const t = e, r = t.style.fontWeight === "normal";
  return { forChild: Jk(t.style, r ? void 0 : "bold"), node: null };
}
const iR = /* @__PURE__ */ new WeakMap();
function f2e(e) {
  return e.nodeName === "PRE" || e.nodeType === $p && e.style !== void 0 && e.style.whiteSpace !== void 0 && e.style.whiteSpace.startsWith("pre");
}
function h2e(e) {
  const t = e;
  e.parentElement === null && Ne(129);
  let r = t.textContent || "";
  if (function(n) {
    let s, i = n.parentNode;
    const o = [n];
    for (; i !== null && (s = iR.get(i)) === void 0 && !f2e(i); ) o.push(i), i = i.parentNode;
    const a = s === void 0 ? i : s;
    for (let l = 0; l < o.length; l++) iR.set(o[l], a);
    return a;
  }(t) !== null) {
    const n = r.split(/(\r?\n|\t)/), s = [], i = n.length;
    for (let o = 0; o < i; o++) {
      const a = n[o];
      a === `
` || a === `\r
` ? s.push(cd()) : a === "	" ? s.push(Lp()) : a !== "" && s.push(dn(a));
    }
    return { node: s };
  }
  if (r = r.replace(/\r/g, "").replace(/[ \t\n]+/g, " "), r === "") return { node: null };
  if (r[0] === " ") {
    let n = t, s = !0;
    for (; n !== null && (n = oR(n, !1)) !== null; ) {
      const i = n.textContent || "";
      if (i.length > 0) {
        /[ \t\n]$/.test(i) && (r = r.slice(1)), s = !1;
        break;
      }
    }
    s && (r = r.slice(1));
  }
  if (r[r.length - 1] === " ") {
    let n = t, s = !0;
    for (; n !== null && (n = oR(n, !0)) !== null; )
      if ((n.textContent || "").replace(/^( |\t|\r?\n)+/, "").length > 0) {
        s = !1;
        break;
      }
    s && (r = r.slice(0, r.length - 1));
  }
  return r === "" ? { node: null } : { node: dn(r) };
}
function oR(e, t) {
  let r = e;
  for (; ; ) {
    let n;
    for (; (n = t ? r.nextSibling : r.previousSibling) === null; ) {
      const i = r.parentElement;
      if (i === null) return null;
      r = i;
    }
    if (r = n, r.nodeType === $p) {
      const i = r.style.display;
      if (i === "" && !n2e(r) || i !== "" && !i.startsWith("inline")) return null;
    }
    let s = r;
    for (; (s = t ? r.firstChild : r.lastChild) !== null; ) r = s;
    if (r.nodeType === yl) return r;
    if (r.nodeName === "BR") return null;
  }
}
const p2e = { code: "code", em: "italic", i: "italic", s: "strikethrough", strong: "bold", sub: "subscript", sup: "superscript", u: "underline" };
function xa(e) {
  const t = p2e[e.nodeName.toLowerCase()];
  return t === void 0 ? { node: null } : { forChild: Jk(e.style, t), node: null };
}
function dn(e = "") {
  return Ub(new Md(e));
}
function Se(e) {
  return e instanceof Md;
}
function Jk(e, t) {
  const r = e.fontWeight, n = e.textDecoration.split(" "), s = r === "700" || r === "bold", i = n.includes("line-through"), o = e.fontStyle === "italic", a = n.includes("underline"), l = e.verticalAlign;
  return (c) => (Se(c) && (s && !c.hasFormat("bold") && c.toggleFormat("bold"), i && !c.hasFormat("strikethrough") && c.toggleFormat("strikethrough"), o && !c.hasFormat("italic") && c.toggleFormat("italic"), a && !c.hasFormat("underline") && c.toggleFormat("underline"), l !== "sub" || c.hasFormat("subscript") || c.toggleFormat("subscript"), l !== "super" || c.hasFormat("superscript") || c.toggleFormat("superscript"), t && !c.hasFormat(t) && c.toggleFormat(t)), c);
}
class Mp extends Md {
  static getType() {
    return "tab";
  }
  static clone(t) {
    const r = new Mp(t.__key);
    return r.__text = t.__text, r.__format = t.__format, r.__style = t.__style, r;
  }
  constructor(t) {
    super("	", t), this.__detail = 2;
  }
  static importDOM() {
    return null;
  }
  static importJSON(t) {
    const r = Lp();
    return r.setFormat(t.format), r.setStyle(t.style), r;
  }
  exportJSON() {
    return { ...super.exportJSON(), type: "tab", version: 1 };
  }
  setTextContent(t) {
    Ne(126);
  }
  setDetail(t) {
    Ne(127);
  }
  setMode(t) {
    Ne(128);
  }
  canInsertTextBefore() {
    return !1;
  }
  canInsertTextAfter() {
    return !1;
  }
}
function Lp() {
  return Ub(new Mp());
}
function m2e(e) {
  return e instanceof Mp;
}
class g2e {
  constructor(t, r, n) {
    this._selection = null, this.key = t, this.offset = r, this.type = n;
  }
  is(t) {
    return this.key === t.key && this.offset === t.offset && this.type === t.type;
  }
  isBefore(t) {
    let r = this.getNode(), n = t.getNode();
    const s = this.offset, i = t.offset;
    if (de(r)) {
      const o = r.getDescendantByIndex(s);
      r = o ?? r;
    }
    if (de(n)) {
      const o = n.getDescendantByIndex(i);
      n = o ?? n;
    }
    return r === n ? s < i : r.isBefore(n);
  }
  getNode() {
    const t = Nn(this.key);
    return t === null && Ne(20), t;
  }
  set(t, r, n) {
    const s = this._selection, i = this.key;
    this.key = t, this.offset = r, this.type = n, Bp() || (qa() === i && tn(t), s !== null && (s.setCachedNodes(null), s.dirty = !0));
  }
}
function no(e, t, r) {
  return new g2e(e, t, r);
}
function dw(e, t) {
  let r = t.__key, n = e.offset, s = "element";
  if (Se(t)) {
    s = "text";
    const i = t.getTextContentSize();
    n > i && (n = i);
  } else if (!de(t)) {
    const i = t.getNextSibling();
    if (Se(i)) r = i.__key, n = 0, s = "text";
    else {
      const o = t.getParent();
      o && (r = o.__key, n = t.getIndexWithinParent() + 1);
    }
  }
  e.set(r, n, s);
}
function aR(e, t) {
  if (de(t)) {
    const r = t.getLastDescendant();
    de(r) || Se(r) ? dw(e, r) : dw(e, t);
  } else dw(e, t);
}
function Ca(e, t, r, n) {
  e.key = t, e.offset = r, e.type = n;
}
class Kb {
  constructor(t) {
    this._cachedNodes = null, this._nodes = t, this.dirty = !1;
  }
  getCachedNodes() {
    return this._cachedNodes;
  }
  setCachedNodes(t) {
    this._cachedNodes = t;
  }
  is(t) {
    if (!ri(t)) return !1;
    const r = this._nodes, n = t._nodes;
    return r.size === n.size && Array.from(r).every((s) => n.has(s));
  }
  isCollapsed() {
    return !1;
  }
  isBackward() {
    return !1;
  }
  getStartEndPoints() {
    return null;
  }
  add(t) {
    this.dirty = !0, this._nodes.add(t), this._cachedNodes = null;
  }
  delete(t) {
    this.dirty = !0, this._nodes.delete(t), this._cachedNodes = null;
  }
  clear() {
    this.dirty = !0, this._nodes.clear(), this._cachedNodes = null;
  }
  has(t) {
    return this._nodes.has(t);
  }
  clone() {
    return new Kb(new Set(this._nodes));
  }
  extract() {
    return this.getNodes();
  }
  insertRawText(t) {
  }
  insertText() {
  }
  insertNodes(t) {
    const r = this.getNodes(), n = r.length, s = r[n - 1];
    let i;
    if (Se(s)) i = s.select();
    else {
      const o = s.getIndexWithinParent() + 1;
      i = s.getParentOrThrow().select(o, o);
    }
    i.insertNodes(t);
    for (let o = 0; o < n; o++) r[o].remove();
  }
  getNodes() {
    const t = this._cachedNodes;
    if (t !== null) return t;
    const r = this._nodes, n = [];
    for (const s of r) {
      const i = Nn(s);
      i !== null && n.push(i);
    }
    return Bp() || (this._cachedNodes = n), n;
  }
  getTextContent() {
    const t = this.getNodes();
    let r = "";
    for (let n = 0; n < t.length; n++) r += t[n].getTextContent();
    return r;
  }
}
function we(e) {
  return e instanceof vl;
}
class vl {
  constructor(t, r, n, s) {
    this.anchor = t, this.focus = r, t._selection = this, r._selection = this, this._cachedNodes = null, this.format = n, this.style = s, this.dirty = !1;
  }
  getCachedNodes() {
    return this._cachedNodes;
  }
  setCachedNodes(t) {
    this._cachedNodes = t;
  }
  is(t) {
    return !!we(t) && this.anchor.is(t.anchor) && this.focus.is(t.focus) && this.format === t.format && this.style === t.style;
  }
  isCollapsed() {
    return this.anchor.is(this.focus);
  }
  getNodes() {
    const t = this._cachedNodes;
    if (t !== null) return t;
    const r = this.anchor, n = this.focus, s = r.isBefore(n), i = s ? r : n, o = s ? n : r;
    let a = i.getNode(), l = o.getNode();
    const c = i.offset, d = o.offset;
    if (de(a)) {
      const h = a.getDescendantByIndex(c);
      a = h ?? a;
    }
    if (de(l)) {
      let h = l.getDescendantByIndex(d);
      h !== null && h !== a && l.getChildAtIndex(d) === h && (h = h.getPreviousSibling()), l = h ?? l;
    }
    let f;
    return f = a.is(l) ? de(a) && a.getChildrenSize() > 0 ? [] : [a] : a.getNodesBetween(l), Bp() || (this._cachedNodes = f), f;
  }
  setTextNodeRange(t, r, n, s) {
    Ca(this.anchor, t.__key, r, "text"), Ca(this.focus, n.__key, s, "text"), this._cachedNodes = null, this.dirty = !0;
  }
  getTextContent() {
    const t = this.getNodes();
    if (t.length === 0) return "";
    const r = t[0], n = t[t.length - 1], s = this.anchor, i = this.focus, o = s.isBefore(i), [a, l] = hS(this);
    let c = "", d = !0;
    for (let f = 0; f < t.length; f++) {
      const h = t[f];
      if (de(h) && !h.isInline()) d || (c += `
`), d = !h.isEmpty();
      else if (d = !1, Se(h)) {
        let p = h.getTextContent();
        h === r ? h === n ? s.type === "element" && i.type === "element" && i.offset !== s.offset || (p = a < l ? p.slice(a, l) : p.slice(l, a)) : p = o ? p.slice(a) : p.slice(l) : h === n && (p = o ? p.slice(0, l) : p.slice(0, a)), c += p;
      } else !Ut(h) && !rh(h) || h === n && this.isCollapsed() || (c += h.getTextContent());
    }
    return c;
  }
  applyDOMRange(t) {
    const r = ur(), n = r.getEditorState()._selection, s = a9(t.startContainer, t.startOffset, t.endContainer, t.endOffset, r, n);
    if (s === null) return;
    const [i, o] = s;
    Ca(this.anchor, i.key, i.offset, i.type), Ca(this.focus, o.key, o.offset, o.type), this._cachedNodes = null;
  }
  clone() {
    const t = this.anchor, r = this.focus;
    return new vl(no(t.key, t.offset, t.type), no(r.key, r.offset, r.type), this.format, this.style);
  }
  toggleFormat(t) {
    this.format = eS(this.format, t, null), this.dirty = !0;
  }
  setStyle(t) {
    this.style = t, this.dirty = !0;
  }
  hasFormat(t) {
    const r = gc[t];
    return !!(this.format & r);
  }
  insertRawText(t) {
    const r = t.split(/(\r?\n|\t)/), n = [], s = r.length;
    for (let i = 0; i < s; i++) {
      const o = r[i];
      o === `
` || o === `\r
` ? n.push(cd()) : o === "	" ? n.push(Lp()) : n.push(dn(o));
    }
    this.insertNodes(n);
  }
  insertText(t) {
    const r = this.anchor, n = this.focus, s = this.format, i = this.style;
    let o = r, a = n;
    !this.isCollapsed() && n.isBefore(r) && (o = n, a = r), o.type === "element" && function(y, v, b, x) {
      const S = y.getNode(), w = S.getChildAtIndex(y.offset), j = dn(), N = yn(S) ? Yi().append(j) : j;
      j.setFormat(b), j.setStyle(x), w === null ? S.append(N) : w.insertBefore(N), y.is(v) && v.set(j.__key, 0, "text"), y.set(j.__key, 0, "text");
    }(o, a, s, i);
    const l = o.offset;
    let c = a.offset;
    const d = this.getNodes(), f = d.length;
    let h = d[0];
    Se(h) || Ne(26);
    const p = h.getTextContent().length, g = h.getParentOrThrow();
    let m = d[f - 1];
    if (f === 1 && a.type === "element" && (c = p, a.set(o.key, c, "text")), this.isCollapsed() && l === p && (h.isSegmented() || h.isToken() || !h.canInsertTextAfter() || !g.canInsertTextAfter() && h.getNextSibling() === null)) {
      let y = h.getNextSibling();
      if (Se(y) && y.canInsertTextBefore() && !su(y) || (y = dn(), y.setFormat(s), y.setStyle(i), g.canInsertTextAfter() ? h.insertAfter(y) : g.insertAfter(y)), y.select(0, 0), h = y, t !== "") return void this.insertText(t);
    } else if (this.isCollapsed() && l === 0 && (h.isSegmented() || h.isToken() || !h.canInsertTextBefore() || !g.canInsertTextBefore() && h.getPreviousSibling() === null)) {
      let y = h.getPreviousSibling();
      if (Se(y) && !su(y) || (y = dn(), y.setFormat(s), g.canInsertTextBefore() ? h.insertBefore(y) : g.insertBefore(y)), y.select(), h = y, t !== "") return void this.insertText(t);
    } else if (h.isSegmented() && l !== p) {
      const y = dn(h.getTextContent());
      y.setFormat(s), h.replace(y), h = y;
    } else if (!this.isCollapsed() && t !== "") {
      const y = m.getParent();
      if (!g.canInsertTextBefore() || !g.canInsertTextAfter() || de(y) && (!y.canInsertTextBefore() || !y.canInsertTextAfter())) return this.insertText(""), o9(this.anchor, this.focus, null), void this.insertText(t);
    }
    if (f === 1) {
      if (h.isToken()) {
        const x = dn(t);
        return x.select(), void h.replace(x);
      }
      const y = h.getFormat(), v = h.getStyle();
      if (l !== c || y === s && v === i) {
        if (m2e(h)) {
          const x = dn(t);
          return x.setFormat(s), x.setStyle(i), x.select(), void h.replace(x);
        }
      } else {
        if (h.getTextContent() !== "") {
          const x = dn(t);
          if (x.setFormat(s), x.setStyle(i), x.select(), l === 0) h.insertBefore(x, !1);
          else {
            const [S] = h.splitText(l);
            S.insertAfter(x, !1);
          }
          return void (x.isComposing() && this.anchor.type === "text" && (this.anchor.offset -= t.length));
        }
        h.setFormat(s), h.setStyle(i);
      }
      const b = c - l;
      h = h.spliceText(l, b, t, !0), h.getTextContent() === "" ? h.remove() : this.anchor.type === "text" && (h.isComposing() ? this.anchor.offset -= t.length : (this.format = y, this.style = v));
    } else {
      const y = /* @__PURE__ */ new Set([...h.getParentKeys(), ...m.getParentKeys()]), v = de(h) ? h : h.getParentOrThrow();
      let b = de(m) ? m : m.getParentOrThrow(), x = m;
      if (!v.is(b) && b.isInline()) do
        x = b, b = b.getParentOrThrow();
      while (b.isInline());
      if (a.type === "text" && (c !== 0 || m.getTextContent() === "") || a.type === "element" && m.getIndexWithinParent() < c) if (Se(m) && !m.isToken() && c !== m.getTextContentSize()) {
        if (m.isSegmented()) {
          const k = dn(m.getTextContent());
          m.replace(k), m = k;
        }
        yn(a.getNode()) || a.type !== "text" || (m = m.spliceText(0, c, "")), y.add(m.__key);
      } else {
        const k = m.getParentOrThrow();
        k.canBeEmpty() || k.getChildrenSize() !== 1 ? m.remove() : k.remove();
      }
      else y.add(m.__key);
      const S = b.getChildren(), w = new Set(d), j = v.is(b), N = v.isInline() && h.getNextSibling() === null ? v : h;
      for (let k = S.length - 1; k >= 0; k--) {
        const C = S[k];
        if (C.is(h) || de(C) && C.isParentOf(h)) break;
        C.isAttached() && (!w.has(C) || C.is(x) ? j || N.insertAfter(C, !1) : C.remove());
      }
      if (!j) {
        let k = b, C = null;
        for (; k !== null; ) {
          const $ = k.getChildren(), I = $.length;
          (I === 0 || $[I - 1].is(C)) && (y.delete(k.__key), C = k), k = k.getParent();
        }
      }
      if (h.isToken()) if (l === p) h.select();
      else {
        const k = dn(t);
        k.select(), h.replace(k);
      }
      else h = h.spliceText(l, p - l, t, !0), h.getTextContent() === "" ? h.remove() : h.isComposing() && this.anchor.type === "text" && (this.anchor.offset -= t.length);
      for (let k = 1; k < f; k++) {
        const C = d[k], $ = C.__key;
        y.has($) || C.remove();
      }
    }
  }
  removeText() {
    this.insertText("");
  }
  formatText(t) {
    if (this.isCollapsed()) return this.toggleFormat(t), void tn(null);
    const r = this.getNodes(), n = [];
    for (const b of r) Se(b) && n.push(b);
    const s = n.length;
    if (s === 0) return this.toggleFormat(t), void tn(null);
    const i = this.anchor, o = this.focus, a = this.isBackward(), l = a ? o : i, c = a ? i : o;
    let d = 0, f = n[0], h = l.type === "element" ? 0 : l.offset;
    if (l.type === "text" && h === f.getTextContentSize() && (d = 1, f = n[1], h = 0), f == null) return;
    const p = f.getFormatFlags(t, null), g = s - 1;
    let m = n[g];
    const y = c.type === "text" ? c.offset : m.getTextContentSize();
    if (f.is(m)) {
      if (h === y) return;
      if (su(f) || h === 0 && y === f.getTextContentSize()) f.setFormat(p);
      else {
        const b = f.splitText(h, y), x = h === 0 ? b[0] : b[1];
        x.setFormat(p), l.type === "text" && l.set(x.__key, 0, "text"), c.type === "text" && c.set(x.__key, y - h, "text");
      }
      return void (this.format = p);
    }
    h === 0 || su(f) || ([, f] = f.splitText(h), h = 0), f.setFormat(p);
    const v = m.getFormatFlags(t, p);
    y > 0 && (y === m.getTextContentSize() || su(m) || ([m] = m.splitText(y)), m.setFormat(v));
    for (let b = d + 1; b < g; b++) {
      const x = n[b], S = x.getFormatFlags(t, v);
      x.setFormat(S);
    }
    l.type === "text" && l.set(f.__key, h, "text"), c.type === "text" && c.set(m.__key, y, "text"), this.format = p | v;
  }
  insertNodes(t) {
    if (t.length === 0) return;
    if (this.anchor.key === "root") {
      this.insertParagraph();
      const g = Fe();
      return we(g) || Ne(134), g.insertNodes(t);
    }
    const r = ow((this.isBackward() ? this.focus : this.anchor).getNode(), iu), n = t[t.length - 1];
    if ("__language" in r && de(r)) {
      if ("__language" in t[0]) this.insertText(t[0].getTextContent());
      else {
        const g = fw(this);
        r.splice(g, 0, t), n.selectEnd();
      }
      return;
    }
    if (!t.some((g) => (de(g) || Ut(g)) && !g.isInline())) {
      de(r) || Ne(135);
      const g = fw(this);
      return r.splice(g, 0, t), void n.selectEnd();
    }
    const s = function(g) {
      const m = Yi();
      let y = null;
      for (let v = 0; v < g.length; v++) {
        const b = g[v], x = rh(b);
        if (x || Ut(b) && b.isInline() || de(b) && b.isInline() || Se(b) || b.isParentRequired()) {
          if (y === null && (y = b.createParentElementNode(), m.append(y), x)) continue;
          y !== null && y.append(b);
        } else m.append(b), y = null;
      }
      return m;
    }(t), i = s.getLastDescendant(), o = s.getChildren(), a = (g) => "__value" in g && "__checked" in g, l = !de(r) || !r.isEmpty() ? this.insertParagraph() : null, c = o[o.length - 1];
    let d = o[0];
    var f;
    de(f = d) && iu(f) && !f.isEmpty() && de(r) && (!r.isEmpty() || a(r)) && (de(r) || Ne(135), r.append(...d.getChildren()), d = o[1]), d && function(g, m, y) {
      const v = m.getParentOrThrow().getLastChild();
      let b = m;
      const x = [m];
      for (; b !== v; ) b.getNextSibling() || Ne(140), b = b.getNextSibling(), x.push(b);
      let S = g;
      for (const w of x) S = S.insertAfter(w);
    }(r, d);
    const h = ow(i, iu);
    l && de(h) && (a(l) || iu(c)) && (h.append(...l.getChildren()), l.remove()), de(r) && r.isEmpty() && r.remove(), i.selectEnd();
    const p = de(r) ? r.getLastChild() : null;
    rh(p) && h !== r && p.remove();
  }
  insertParagraph() {
    if (this.anchor.key === "root") {
      const o = Yi();
      return Er().splice(this.anchor.offset, 0, [o]), o.select(), o;
    }
    const t = fw(this), r = ow(this.anchor.getNode(), iu);
    de(r) || Ne(136);
    const n = r.getChildAtIndex(t), s = n ? [n, ...n.getNextSiblings()] : [], i = r.insertNewAfter(this, !1);
    return i ? (i.append(...s), i.selectStart(), i) : null;
  }
  insertLineBreak(t) {
    const r = cd();
    if (this.insertNodes([r]), t) {
      const n = r.getParentOrThrow(), s = r.getIndexWithinParent();
      n.select(s, s);
    }
  }
  extract() {
    const t = this.getNodes(), r = t.length, n = r - 1, s = this.anchor, i = this.focus;
    let o = t[0], a = t[n];
    const [l, c] = hS(this);
    if (r === 0) return [];
    if (r === 1) {
      if (Se(o) && !this.isCollapsed()) {
        const f = l > c ? c : l, h = l > c ? l : c, p = o.splitText(f, h), g = f === 0 ? p[0] : p[1];
        return g != null ? [g] : [];
      }
      return [o];
    }
    const d = s.isBefore(i);
    if (Se(o)) {
      const f = d ? l : c;
      f === o.getTextContentSize() ? t.shift() : f !== 0 && ([, o] = o.splitText(f), t[0] = o);
    }
    if (Se(a)) {
      const f = a.getTextContent().length, h = d ? c : l;
      h === 0 ? t.pop() : h !== f && ([a] = a.splitText(h), t[n] = a);
    }
    return t;
  }
  modify(t, r, n) {
    const s = this.focus, i = this.anchor, o = t === "move", a = qh(s, r);
    if (Ut(a) && !a.isIsolated()) {
      if (o && a.isKeyboardSelectable()) {
        const p = fR();
        return p.add(a.__key), void to(p);
      }
      const h = r ? a.getPreviousSibling() : a.getNextSibling();
      if (Se(h)) {
        const p = h.__key, g = r ? h.getTextContent().length : 0;
        return s.set(p, g, "text"), void (o && i.set(p, g, "text"));
      }
      {
        const p = a.getParentOrThrow();
        let g, m;
        return de(h) ? (m = h.__key, g = r ? h.getChildrenSize() : 0) : (g = a.getIndexWithinParent(), m = p.__key, r || g++), s.set(m, g, "element"), void (o && i.set(m, g, "element"));
      }
    }
    const l = ur(), c = ro(l._window);
    if (!c) return;
    const d = l._blockCursorElement, f = l._rootElement;
    if (f === null || d === null || !de(a) || a.isInline() || a.canBeEmpty() || Zk(d, l, f), function(h, p, g, m) {
      h.modify(p, g, m);
    }(c, t, r ? "backward" : "forward", n), c.rangeCount > 0) {
      const h = c.getRangeAt(0), p = this.anchor.getNode(), g = yn(p) ? p : t2e(p);
      if (this.applyDOMRange(h), this.dirty = !0, !o) {
        const m = this.getNodes(), y = [];
        let v = !1;
        for (let b = 0; b < m.length; b++) {
          const x = m[b];
          tS(x, g) ? y.push(x) : v = !0;
        }
        if (v && y.length > 0) if (r) {
          const b = y[0];
          de(b) ? b.selectStart() : b.getParentOrThrow().selectStart();
        } else {
          const b = y[y.length - 1];
          de(b) ? b.selectEnd() : b.getParentOrThrow().selectEnd();
        }
        c.anchorNode === h.startContainer && c.anchorOffset === h.startOffset || function(b) {
          const x = b.focus, S = b.anchor, w = S.key, j = S.offset, N = S.type;
          Ca(S, x.key, x.offset, x.type), Ca(x, w, j, N), b._cachedNodes = null;
        }(this);
      }
    }
  }
  forwardDeletion(t, r, n) {
    if (!n && (t.type === "element" && de(r) && t.offset === r.getChildrenSize() || t.type === "text" && t.offset === r.getTextContentSize())) {
      const s = r.getParent(), i = r.getNextSibling() || (s === null ? null : s.getNextSibling());
      if (de(i) && i.isShadowRoot()) return !0;
    }
    return !1;
  }
  deleteCharacter(t) {
    const r = this.isCollapsed();
    if (this.isCollapsed()) {
      const n = this.anchor;
      let s = n.getNode();
      if (this.forwardDeletion(n, s, t)) return;
      const i = this.focus, o = qh(i, t);
      if (Ut(o) && !o.isIsolated()) {
        if (o.isKeyboardSelectable() && de(s) && s.getChildrenSize() === 0) {
          s.remove();
          const a = fR();
          a.add(o.__key), to(a);
        } else
          o.remove(), ur().dispatchCommand(Ak, void 0);
        return;
      }
      if (!t && de(o) && de(s) && s.isEmpty()) return s.remove(), void o.selectStart();
      if (this.modify("extend", t, "character"), this.isCollapsed()) {
        if (t && n.offset === 0 && (n.type === "element" ? n.getNode() : n.getNode().getParentOrThrow()).collapseAtStart(this))
          return;
      } else {
        const a = i.type === "text" ? i.getNode() : null;
        if (s = n.type === "text" ? n.getNode() : null, a !== null && a.isSegmented()) {
          const l = i.offset, c = a.getTextContentSize();
          if (a.is(s) || t && l !== c || !t && l !== 0) return void cR(a, t, l);
        } else if (s !== null && s.isSegmented()) {
          const l = n.offset, c = s.getTextContentSize();
          if (s.is(a) || t && l !== 0 || !t && l !== c) return void cR(s, t, l);
        }
        (function(l, c) {
          const d = l.anchor, f = l.focus, h = d.getNode(), p = f.getNode();
          if (h === p && d.type === "text" && f.type === "text") {
            const g = d.offset, m = f.offset, y = g < m, v = y ? g : m, b = y ? m : g, x = b - 1;
            v !== x && (B7(h.getTextContent().slice(v, b)) || (c ? f.offset = x : d.offset = x));
          }
        })(this, t);
      }
    }
    if (this.removeText(), t && !r && this.isCollapsed() && this.anchor.type === "element" && this.anchor.offset === 0) {
      const n = this.anchor.getNode();
      n.isEmpty() && yn(n.getParent()) && n.getIndexWithinParent() === 0 && n.collapseAtStart(this);
    }
  }
  deleteLine(t) {
    if (this.isCollapsed()) {
      const r = this.anchor.type === "element";
      if (r && this.insertText(" "), this.modify("extend", t, "lineboundary"), (t ? this.focus : this.anchor).offset === 0 && this.modify("extend", t, "character"), r) {
        const n = t ? this.anchor : this.focus;
        n.set(n.key, n.offset + 1, n.type);
      }
    }
    this.removeText();
  }
  deleteWord(t) {
    if (this.isCollapsed()) {
      const r = this.anchor, n = r.getNode();
      if (this.forwardDeletion(r, n, t)) return;
      this.modify("extend", t, "word");
    }
    this.removeText();
  }
  isBackward() {
    return this.focus.isBefore(this.anchor);
  }
  getStartEndPoints() {
    return [this.anchor, this.focus];
  }
}
function ri(e) {
  return e instanceof Kb;
}
function lR(e) {
  const t = e.offset;
  if (e.type === "text") return t;
  const r = e.getNode();
  return t === r.getChildrenSize() ? r.getTextContent().length : 0;
}
function hS(e) {
  const t = e.getStartEndPoints();
  if (t === null) return [0, 0];
  const [r, n] = t;
  return r.type === "element" && n.type === "element" && r.key === n.key && r.offset === n.offset ? [0, 0] : [lR(r), lR(n)];
}
function cR(e, t, r) {
  const n = e, s = n.getTextContent().split(/(?=\s)/g), i = s.length;
  let o = 0, a = 0;
  for (let c = 0; c < i; c++) {
    const d = c === i - 1;
    if (a = o, o += s[c].length, t && o === r || o > r || d) {
      s.splice(c, 1), d && (a = void 0);
      break;
    }
  }
  const l = s.join("").trim();
  l === "" ? n.remove() : (n.setTextContent(l), n.select(a, a));
}
function uR(e, t, r, n) {
  let s, i = t;
  if (e.nodeType === $p) {
    let o = !1;
    const a = e.childNodes, l = a.length, c = n._blockCursorElement;
    i === l && (o = !0, i = l - 1);
    let d = a[i], f = !1;
    if (d === c) d = a[i + 1], f = !0;
    else if (c !== null) {
      const h = c.parentNode;
      e === h && t > Array.prototype.indexOf.call(h.children, c) && i--;
    }
    if (s = gu(d), Se(s)) i = K$(s, o);
    else {
      let h = gu(e);
      if (h === null) return null;
      if (de(h)) {
        i = Math.min(h.getChildrenSize(), i);
        let p = h.getChildAtIndex(i);
        if (de(p) && function(g, m, y) {
          const v = g.getParent();
          return y === null || v === null || !v.canBeEmpty() || v !== y.getNode();
        }(p, 0, r)) {
          const g = o ? p.getLastDescendant() : p.getFirstDescendant();
          g === null ? h = p : (p = g, h = de(p) ? p : p.getParentOrThrow()), i = 0;
        }
        Se(p) ? (s = p, h = null, i = K$(p, o)) : p !== h && o && !f && i++;
      } else {
        const p = h.getIndexWithinParent();
        i = t === 0 && Ut(h) && gu(e) === h ? p : p + 1, h = h.getParentOrThrow();
      }
      if (de(h)) return no(h.__key, i, "element");
    }
  } else s = gu(e);
  return Se(s) ? no(s.__key, i, "text") : null;
}
function dR(e, t, r) {
  const n = e.offset, s = e.getNode();
  if (n === 0) {
    const i = s.getPreviousSibling(), o = s.getParent();
    if (t) {
      if ((r || !t) && i === null && de(o) && o.isInline()) {
        const a = o.getPreviousSibling();
        Se(a) && (e.key = a.__key, e.offset = a.getTextContent().length);
      }
    } else de(i) && !r && i.isInline() ? (e.key = i.__key, e.offset = i.getChildrenSize(), e.type = "element") : Se(i) && (e.key = i.__key, e.offset = i.getTextContent().length);
  } else if (n === s.getTextContent().length) {
    const i = s.getNextSibling(), o = s.getParent();
    if (t && de(i) && i.isInline()) e.key = i.__key, e.offset = 0, e.type = "element";
    else if ((r || t) && i === null && de(o) && o.isInline() && !o.canInsertTextAfter()) {
      const a = o.getNextSibling();
      Se(a) && (e.key = a.__key, e.offset = 0);
    }
  }
}
function o9(e, t, r) {
  if (e.type === "text" && t.type === "text") {
    const n = e.isBefore(t), s = e.is(t);
    dR(e, n, s), dR(t, !n, s), s && (t.key = e.key, t.offset = e.offset, t.type = e.type);
    const i = ur();
    if (i.isComposing() && i._compositionKey !== e.key && we(r)) {
      const o = r.anchor, a = r.focus;
      Ca(e, o.key, o.offset, o.type), Ca(t, a.key, a.offset, a.type);
    }
  }
}
function a9(e, t, r, n, s, i) {
  if (e === null || r === null || !Rp(s, e, r)) return null;
  const o = uR(e, t, we(i) ? i.anchor : null, s);
  if (o === null) return null;
  const a = uR(r, n, we(i) ? i.focus : null, s);
  if (a === null) return null;
  if (o.type === "element" && a.type === "element") {
    const l = gu(e), c = gu(r);
    if (Ut(l) && Ut(c)) return null;
  }
  return o9(o, a, i), [o, a];
}
function pS(e) {
  return de(e) && !e.isInline();
}
function l9(e, t, r, n, s, i) {
  const o = la(), a = new vl(no(e, t, s), no(r, n, i), 0, "");
  return a.dirty = !0, o._selection = a, a;
}
function y2e() {
  const e = no("root", 0, "element"), t = no("root", 0, "element");
  return new vl(e, t, 0, "");
}
function fR() {
  return new Kb(/* @__PURE__ */ new Set());
}
function Qk(e, t, r, n) {
  const s = r._window;
  if (s === null) return null;
  const i = n || s.event, o = i ? i.type : void 0, a = o === "selectionchange", l = !Q_ && (a || o === "beforeinput" || o === "compositionstart" || o === "compositionend" || o === "click" && i && i.detail === 3 || o === "drop" || o === void 0);
  let c, d, f, h;
  if (we(e) && !l) return e.clone();
  if (t === null) return null;
  if (c = t.anchorNode, d = t.focusNode, f = t.anchorOffset, h = t.focusOffset, a && we(e) && !Rp(r, c, d)) return e.clone();
  const p = a9(c, f, d, h, r, e);
  if (p === null) return null;
  const [g, m] = p;
  return new vl(g, m, we(e) ? e.format : 0, we(e) ? e.style : "");
}
function Fe() {
  return la()._selection;
}
function Fp() {
  return ur()._editorState._selection;
}
function Qy(e, t, r, n = 1) {
  const s = e.anchor, i = e.focus, o = s.getNode(), a = i.getNode();
  if (!t.is(o) && !t.is(a)) return;
  const l = t.__key;
  if (e.isCollapsed()) {
    const c = s.offset;
    if (r <= c && n > 0 || r < c && n < 0) {
      const d = Math.max(0, c + n);
      s.set(l, d, "element"), i.set(l, d, "element"), hR(e);
    }
  } else {
    const c = e.isBackward(), d = c ? i : s, f = d.getNode(), h = c ? s : i, p = h.getNode();
    if (t.is(f)) {
      const g = d.offset;
      (r <= g && n > 0 || r < g && n < 0) && d.set(l, Math.max(0, g + n), "element");
    }
    if (t.is(p)) {
      const g = h.offset;
      (r <= g && n > 0 || r < g && n < 0) && h.set(l, Math.max(0, g + n), "element");
    }
  }
  hR(e);
}
function hR(e) {
  const t = e.anchor, r = t.offset, n = e.focus, s = n.offset, i = t.getNode(), o = n.getNode();
  if (e.isCollapsed()) {
    if (!de(i)) return;
    const a = i.getChildrenSize(), l = r >= a, c = l ? i.getChildAtIndex(a - 1) : i.getChildAtIndex(r);
    if (Se(c)) {
      let d = 0;
      l && (d = c.getTextContentSize()), t.set(c.__key, d, "text"), n.set(c.__key, d, "text");
    }
  } else {
    if (de(i)) {
      const a = i.getChildrenSize(), l = r >= a, c = l ? i.getChildAtIndex(a - 1) : i.getChildAtIndex(r);
      if (Se(c)) {
        let d = 0;
        l && (d = c.getTextContentSize()), t.set(c.__key, d, "text");
      }
    }
    if (de(o)) {
      const a = o.getChildrenSize(), l = s >= a, c = l ? o.getChildAtIndex(a - 1) : o.getChildAtIndex(s);
      if (Se(c)) {
        let d = 0;
        l && (d = c.getTextContentSize()), n.set(c.__key, d, "text");
      }
    }
  }
}
function ev(e, t, r, n, s) {
  let i = null, o = 0, a = null;
  n !== null ? (i = n.__key, Se(n) ? (o = n.getTextContentSize(), a = "text") : de(n) && (o = n.getChildrenSize(), a = "element")) : s !== null && (i = s.__key, Se(s) ? a = "text" : de(s) && (a = "element")), i !== null && a !== null ? e.set(i, o, a) : (o = t.getIndexWithinParent(), o === -1 && (o = r.getChildrenSize()), e.set(r.__key, o, "element"));
}
function pR(e, t, r, n, s) {
  e.type === "text" ? (e.key = r, t || (e.offset += s)) : e.offset > n.getIndexWithinParent() && (e.offset -= 1);
}
function v2e(e, t, r, n, s, i, o) {
  const a = n.anchorNode, l = n.focusNode, c = n.anchorOffset, d = n.focusOffset, f = document.activeElement;
  if (s.has("collaboration") && f !== i || f !== null && Wk(f)) return;
  if (!we(t)) return void (e !== null && Rp(r, a, l) && n.removeAllRanges());
  const h = t.anchor, p = t.focus, g = h.key, m = p.key, y = Yy(r, g), v = Yy(r, m), b = h.offset, x = p.offset, S = t.format, w = t.style, j = t.isCollapsed();
  let N = y, k = v, C = !1;
  if (h.type === "text") {
    N = Ky(y);
    const U = h.getNode();
    C = U.getFormat() !== S || U.getStyle() !== w;
  } else we(e) && e.anchor.type === "text" && (C = !0);
  var $, I, M, O, z;
  if (p.type === "text" && (k = Ky(v)), N !== null && k !== null && (j && (e === null || C || we(e) && (e.format !== S || e.style !== w)) && ($ = S, I = w, M = b, O = g, z = performance.now(), Q7 = [$, I, M, O, z]), c !== b || d !== x || a !== N || l !== k || n.type === "Range" && j || (f !== null && i.contains(f) || i.focus({ preventScroll: !0 }), h.type === "element"))) {
    try {
      n.setBaseAndExtent(N, b, k, x);
    } catch {
    }
    if (!s.has("skip-scroll-into-view") && t.isCollapsed() && i !== null && i === document.activeElement) {
      const U = t instanceof vl && t.anchor.type === "element" ? N.childNodes[b] || null : n.rangeCount > 0 ? n.getRangeAt(0) : null;
      if (U !== null) {
        let G;
        if (U instanceof Text) {
          const q = document.createRange();
          q.selectNode(U), G = q.getBoundingClientRect();
        } else G = U.getBoundingClientRect();
        (function(q, Z, ie) {
          const D = ie.ownerDocument, B = D.defaultView;
          if (B === null) return;
          let { top: X, bottom: oe } = Z, W = 0, K = 0, ee = ie;
          for (; ee !== null; ) {
            const te = ee === D.body;
            if (te) W = 0, K = zb(q).innerHeight;
            else {
              const V = ee.getBoundingClientRect();
              W = V.top, K = V.bottom;
            }
            let ue = 0;
            if (X < W ? ue = -(W - X) : oe > K && (ue = oe - K), ue !== 0) if (te) B.scrollBy(0, ue);
            else {
              const V = ee.scrollTop;
              ee.scrollTop += ue;
              const H = ee.scrollTop - V;
              X -= H, oe -= H;
            }
            if (te) break;
            ee = Bb(ee);
          }
        })(r, G, i);
      }
    }
    uS = !0;
  }
}
function b2e(e) {
  let t = Fe() || Fp();
  t === null && (t = Er().selectEnd()), t.insertNodes(e);
}
function fw(e) {
  let t = e;
  e.isCollapsed() || t.removeText();
  const r = Fe();
  we(r) && (t = r), we(t) || Ne(161);
  const n = t.anchor;
  let s = n.getNode(), i = n.offset;
  for (; !iu(s); ) [s, i] = x2e(s, i);
  return i;
}
function x2e(e, t) {
  const r = e.getParent();
  if (!r) {
    const s = Yi();
    return Er().append(s), s.select(), [Er(), 0];
  }
  if (Se(e)) {
    const s = e.splitText(t);
    if (s.length === 0) return [r, e.getIndexWithinParent()];
    const i = t === 0 ? 0 : 1;
    return [r, s[0].getIndexWithinParent() + i];
  }
  if (!de(e) || t === 0) return [r, e.getIndexWithinParent()];
  const n = e.getChildAtIndex(t);
  if (n) {
    const s = new vl(no(e.__key, t, "element"), no(e.__key, t, "element"), 0, ""), i = e.insertNewAfter(s);
    i && i.append(n, ...n.getNextSiblings());
  }
  return [r, e.getIndexWithinParent() + 1];
}
let Vr = null, Wr = null, qn = !1, hw = !1, bg = 0;
const mR = { characterData: !0, childList: !0, subtree: !0 };
function Bp() {
  return qn || Vr !== null && Vr._readOnly;
}
function Fn() {
  qn && Ne(13);
}
function c9() {
  bg > 99 && Ne(14);
}
function la() {
  return Vr === null && Ne(15), Vr;
}
function ur() {
  return Wr === null && Ne(16), Wr;
}
function w2e() {
  return Wr;
}
function gR(e, t, r) {
  const n = t.__type, s = function(a, l) {
    const c = a._nodes.get(l);
    return c === void 0 && Ne(30, l), c;
  }(e, n);
  let i = r.get(n);
  i === void 0 && (i = Array.from(s.transforms), r.set(n, i));
  const o = i.length;
  for (let a = 0; a < o && (i[a](t), t.isAttached()); a++) ;
}
function yR(e, t) {
  return e !== void 0 && e.__key !== t && e.isAttached();
}
function _2e(e) {
  return eC(e, ur()._nodes);
}
function eC(e, t) {
  const r = e.type, n = t.get(r);
  n === void 0 && Ne(17, r);
  const s = n.klass;
  e.type !== s.getType() && Ne(18, s.name);
  const i = s.importJSON(e), o = e.children;
  if (de(i) && Array.isArray(o)) for (let a = 0; a < o.length; a++) {
    const l = eC(o[a], t);
    i.append(l);
  }
  return i;
}
function vR(e, t) {
  const r = Vr, n = qn, s = Wr;
  Vr = e, qn = !0, Wr = null;
  try {
    return t();
  } finally {
    Vr = r, qn = n, Wr = s;
  }
}
function nc(e, t) {
  const r = e._pendingEditorState, n = e._rootElement, s = e._headless || n === null;
  if (r === null) return;
  const i = e._editorState, o = i._selection, a = r._selection, l = e._dirtyType !== mc, c = Vr, d = qn, f = Wr, h = e._updating, p = e._observer;
  let g = null;
  if (e._pendingEditorState = null, e._editorState = r, !s && l && p !== null) {
    Wr = e, Vr = r, qn = !1, e._updating = !0;
    try {
      const j = e._dirtyType, N = e._dirtyElements, k = e._dirtyLeaves;
      p.disconnect(), g = a2e(i, r, e, j, N, k);
    } catch (j) {
      if (j instanceof Error && e._onError(j), hw) throw j;
      return h9(e, null, n, r), $7(e), e._dirtyType = ld, hw = !0, nc(e, i), void (hw = !1);
    } finally {
      p.observe(n, mR), e._updating = h, Vr = c, qn = d, Wr = f;
    }
  }
  r._readOnly || (r._readOnly = !0);
  const m = e._dirtyLeaves, y = e._dirtyElements, v = e._normalizedNodes, b = e._updateTags, x = e._deferred;
  l && (e._dirtyType = mc, e._cloneNotNeeded.clear(), e._dirtyLeaves = /* @__PURE__ */ new Set(), e._dirtyElements = /* @__PURE__ */ new Map(), e._normalizedNodes = /* @__PURE__ */ new Set(), e._updateTags = /* @__PURE__ */ new Set()), function(j, N) {
    const k = j._decorators;
    let C = j._pendingDecorators || k;
    const $ = N._nodeMap;
    let I;
    for (I in C) $.has(I) || (C === k && (C = L7(j)), delete C[I]);
  }(e, r);
  const S = s ? null : ro(e._window);
  if (e._editable && S !== null && (l || a === null || a.dirty)) {
    Wr = e, Vr = r;
    try {
      if (p !== null && p.disconnect(), l || a === null || a.dirty) {
        const j = e._blockCursorElement;
        j !== null && Zk(j, e, n), v2e(o, a, e, S, b, n);
      }
      r2e(e, n, a), p !== null && p.observe(n, mR);
    } finally {
      Wr = f, Vr = c;
    }
  }
  g !== null && function(j, N, k, C, $) {
    const I = Array.from(j._listeners.mutation), M = I.length;
    for (let O = 0; O < M; O++) {
      const [z, U] = I[O], G = N.get(U);
      G !== void 0 && z(G, { dirtyLeaves: C, prevEditorState: $, updateTags: k });
    }
  }(e, g, b, m, i), we(a) || a === null || o !== null && o.is(a) || e.dispatchCommand(Ak, void 0);
  const w = e._pendingDecorators;
  w !== null && (e._decorators = w, e._pendingDecorators = null, nh("decorator", e, !0, w)), function(j, N, k) {
    const C = W$(N), $ = W$(k);
    C !== $ && nh("textcontent", j, !0, $);
  }(e, t || i, r), nh("update", e, !0, { dirtyElements: y, dirtyLeaves: m, editorState: r, normalizedNodes: v, prevEditorState: t || i, tags: b }), function(j, N) {
    if (j._deferred = [], N.length !== 0) {
      const k = j._updating;
      j._updating = !0;
      try {
        for (let C = 0; C < N.length; C++) N[C]();
      } finally {
        j._updating = k;
      }
    }
  }(e, x), function(j) {
    const N = j._updates;
    if (N.length !== 0) {
      const k = N.shift();
      if (k) {
        const [C, $] = k;
        d9(j, C, $);
      }
    }
  }(e);
}
function nh(e, t, r, ...n) {
  const s = t._updating;
  t._updating = r;
  try {
    const i = Array.from(t._listeners[e]);
    for (let o = 0; o < i.length; o++) i[o].apply(null, n);
  } finally {
    t._updating = s;
  }
}
function u9(e, t, r) {
  if (e._updating === !1 || Wr !== e) {
    let s = !1;
    return e.update(() => {
      s = u9(e, t, r);
    }), s;
  }
  const n = Kk(e);
  for (let s = 4; s >= 0; s--) for (let i = 0; i < n.length; i++) {
    const o = n[i]._commands.get(t);
    if (o !== void 0) {
      const a = o[s];
      if (a !== void 0) {
        const l = Array.from(a), c = l.length;
        for (let d = 0; d < c; d++) if (l[d](r, e) === !0) return !0;
      }
    }
  }
  return !1;
}
function bR(e, t) {
  const r = e._updates;
  let n = t || !1;
  for (; r.length !== 0; ) {
    const s = r.shift();
    if (s) {
      const [i, o] = s;
      let a, l;
      o !== void 0 && (a = o.onUpdate, l = o.tag, o.skipTransforms && (n = !0), a && e._deferred.push(a), l && e._updateTags.add(l)), i();
    }
  }
  return n;
}
function d9(e, t, r) {
  const n = e._updateTags;
  let s, i, o = !1, a = !1;
  r !== void 0 && (s = r.onUpdate, i = r.tag, i != null && n.add(i), o = r.skipTransforms || !1, a = r.discrete || !1), s && e._deferred.push(s);
  const l = e._editorState;
  let c = e._pendingEditorState, d = !1;
  (c === null || c._readOnly) && (c = e._pendingEditorState = new Yb(new Map((c || l)._nodeMap)), d = !0), c._flushSync = a;
  const f = Vr, h = qn, p = Wr, g = e._updating;
  Vr = c, qn = !1, e._updating = !0, Wr = e;
  try {
    d && (e._headless ? l._selection !== null && (c._selection = l._selection.clone()) : c._selection = function(b) {
      const x = b.getEditorState()._selection, S = ro(b._window);
      return we(x) || x == null ? Qk(x, S, b, null) : x.clone();
    }(e));
    const y = e._compositionKey;
    t(), o = bR(e, o), function(b, x) {
      const S = x.getEditorState()._selection, w = b._selection;
      if (we(w)) {
        const j = w.anchor, N = w.focus;
        let k;
        if (j.type === "text" && (k = j.getNode(), k.selectionTransform(S, w)), N.type === "text") {
          const C = N.getNode();
          k !== C && C.selectionTransform(S, w);
        }
      }
    }(c, e), e._dirtyType !== mc && (o ? function(b, x) {
      const S = x._dirtyLeaves, w = b._nodeMap;
      for (const j of S) {
        const N = w.get(j);
        Se(N) && N.isAttached() && N.isSimpleText() && !N.isUnmergeable() && q$(N);
      }
    }(c, e) : function(b, x) {
      const S = x._dirtyLeaves, w = x._dirtyElements, j = b._nodeMap, N = qa(), k = /* @__PURE__ */ new Map();
      let C = S, $ = C.size, I = w, M = I.size;
      for (; $ > 0 || M > 0; ) {
        if ($ > 0) {
          x._dirtyLeaves = /* @__PURE__ */ new Set();
          for (const O of C) {
            const z = j.get(O);
            Se(z) && z.isAttached() && z.isSimpleText() && !z.isUnmergeable() && q$(z), z !== void 0 && yR(z, N) && gR(x, z, k), S.add(O);
          }
          if (C = x._dirtyLeaves, $ = C.size, $ > 0) {
            bg++;
            continue;
          }
        }
        x._dirtyLeaves = /* @__PURE__ */ new Set(), x._dirtyElements = /* @__PURE__ */ new Map();
        for (const O of I) {
          const z = O[0], U = O[1];
          if (z !== "root" && !U) continue;
          const G = j.get(z);
          G !== void 0 && yR(G, N) && gR(x, G, k), w.set(z, U);
        }
        C = x._dirtyLeaves, $ = C.size, I = x._dirtyElements, M = I.size, bg++;
      }
      x._dirtyLeaves = S, x._dirtyElements = w;
    }(c, e), bR(e), function(b, x, S, w) {
      const j = b._nodeMap, N = x._nodeMap, k = [];
      for (const [C] of w) {
        const $ = N.get(C);
        $ !== void 0 && ($.isAttached() || (de($) && V7($, C, j, N, k, w), j.has(C) || w.delete(C), k.push(C)));
      }
      for (const C of k) N.delete(C);
      for (const C of S) {
        const $ = N.get(C);
        $ === void 0 || $.isAttached() || (j.has(C) || S.delete(C), N.delete(C));
      }
    }(l, c, e._dirtyLeaves, e._dirtyElements)), y !== e._compositionKey && (c._flushSync = !0);
    const v = c._selection;
    if (we(v)) {
      const b = c._nodeMap, x = v.anchor.key, S = v.focus.key;
      b.get(x) !== void 0 && b.get(S) !== void 0 || Ne(19);
    } else ri(v) && v._nodes.size === 0 && (c._selection = null);
  } catch (y) {
    return y instanceof Error && e._onError(y), e._pendingEditorState = l, e._dirtyType = ld, e._cloneNotNeeded.clear(), e._dirtyLeaves = /* @__PURE__ */ new Set(), e._dirtyElements.clear(), void nc(e);
  } finally {
    Vr = f, qn = h, Wr = p, e._updating = g, bg = 0;
  }
  e._dirtyType !== mc || function(y, v) {
    const b = v.getEditorState()._selection, x = y._selection;
    if (x !== null) {
      if (x.dirty || !x.is(b)) return !0;
    } else if (b !== null) return !0;
    return !1;
  }(c, e) ? c._flushSync ? (c._flushSync = !1, nc(e)) : d && ZOe(() => {
    nc(e);
  }) : (c._flushSync = !1, d && (n.clear(), e._deferred = [], e._pendingEditorState = null));
}
function is(e, t, r) {
  e._updating ? e._updates.push([t, r]) : d9(e, t, r);
}
class Hb extends Wb {
  constructor(t) {
    super(t), this.__first = null, this.__last = null, this.__size = 0, this.__format = 0, this.__indent = 0, this.__dir = null;
  }
  getFormat() {
    return this.getLatest().__format;
  }
  getFormatType() {
    const t = this.getFormat();
    return zOe[t] || "";
  }
  getIndent() {
    return this.getLatest().__indent;
  }
  getChildren() {
    const t = [];
    let r = this.getFirstChild();
    for (; r !== null; ) t.push(r), r = r.getNextSibling();
    return t;
  }
  getChildrenKeys() {
    const t = [];
    let r = this.getFirstChild();
    for (; r !== null; ) t.push(r.__key), r = r.getNextSibling();
    return t;
  }
  getChildrenSize() {
    return this.getLatest().__size;
  }
  isEmpty() {
    return this.getChildrenSize() === 0;
  }
  isDirty() {
    const t = ur()._dirtyElements;
    return t !== null && t.has(this.__key);
  }
  isLastChild() {
    const t = this.getLatest(), r = this.getParentOrThrow().getLastChild();
    return r !== null && r.is(t);
  }
  getAllTextNodes() {
    const t = [];
    let r = this.getFirstChild();
    for (; r !== null; ) {
      if (Se(r) && t.push(r), de(r)) {
        const n = r.getAllTextNodes();
        t.push(...n);
      }
      r = r.getNextSibling();
    }
    return t;
  }
  getFirstDescendant() {
    let t = this.getFirstChild();
    for (; de(t); ) {
      const r = t.getFirstChild();
      if (r === null) break;
      t = r;
    }
    return t;
  }
  getLastDescendant() {
    let t = this.getLastChild();
    for (; de(t); ) {
      const r = t.getLastChild();
      if (r === null) break;
      t = r;
    }
    return t;
  }
  getDescendantByIndex(t) {
    const r = this.getChildren(), n = r.length;
    if (t >= n) {
      const i = r[n - 1];
      return de(i) && i.getLastDescendant() || i || null;
    }
    const s = r[t];
    return de(s) && s.getFirstDescendant() || s || null;
  }
  getFirstChild() {
    const t = this.getLatest().__first;
    return t === null ? null : Nn(t);
  }
  getFirstChildOrThrow() {
    const t = this.getFirstChild();
    return t === null && Ne(45, this.__key), t;
  }
  getLastChild() {
    const t = this.getLatest().__last;
    return t === null ? null : Nn(t);
  }
  getLastChildOrThrow() {
    const t = this.getLastChild();
    return t === null && Ne(96, this.__key), t;
  }
  getChildAtIndex(t) {
    const r = this.getChildrenSize();
    let n, s;
    if (t < r / 2) {
      for (n = this.getFirstChild(), s = 0; n !== null && s <= t; ) {
        if (s === t) return n;
        n = n.getNextSibling(), s++;
      }
      return null;
    }
    for (n = this.getLastChild(), s = r - 1; n !== null && s >= t; ) {
      if (s === t) return n;
      n = n.getPreviousSibling(), s--;
    }
    return null;
  }
  getTextContent() {
    let t = "";
    const r = this.getChildren(), n = r.length;
    for (let s = 0; s < n; s++) {
      const i = r[s];
      t += i.getTextContent(), de(i) && s !== n - 1 && !i.isInline() && (t += Jo);
    }
    return t;
  }
  getTextContentSize() {
    let t = 0;
    const r = this.getChildren(), n = r.length;
    for (let s = 0; s < n; s++) {
      const i = r[s];
      t += i.getTextContentSize(), de(i) && s !== n - 1 && !i.isInline() && (t += Jo.length);
    }
    return t;
  }
  getDirection() {
    return this.getLatest().__dir;
  }
  hasFormat(t) {
    if (t !== "") {
      const r = B$[t];
      return !!(this.getFormat() & r);
    }
    return !1;
  }
  select(t, r) {
    Fn();
    const n = Fe();
    let s = t, i = r;
    const o = this.getChildrenSize();
    if (!this.canBeEmpty()) {
      if (t === 0 && r === 0) {
        const l = this.getFirstChild();
        if (Se(l) || de(l)) return l.select(0, 0);
      } else if (!(t !== void 0 && t !== o || r !== void 0 && r !== o)) {
        const l = this.getLastChild();
        if (Se(l) || de(l)) return l.select();
      }
    }
    s === void 0 && (s = o), i === void 0 && (i = o);
    const a = this.__key;
    return we(n) ? (n.anchor.set(a, s, "element"), n.focus.set(a, i, "element"), n.dirty = !0, n) : l9(a, s, a, i, "element", "element");
  }
  selectStart() {
    const t = this.getFirstDescendant();
    return t ? t.selectStart() : this.select();
  }
  selectEnd() {
    const t = this.getLastDescendant();
    return t ? t.selectEnd() : this.select();
  }
  clear() {
    const t = this.getWritable();
    return this.getChildren().forEach((r) => r.remove()), t;
  }
  append(...t) {
    return this.splice(this.getChildrenSize(), 0, t);
  }
  setDirection(t) {
    const r = this.getWritable();
    return r.__dir = t, r;
  }
  setFormat(t) {
    return this.getWritable().__format = t !== "" ? B$[t] : 0, this;
  }
  setIndent(t) {
    return this.getWritable().__indent = t, this;
  }
  splice(t, r, n) {
    const s = n.length, i = this.getChildrenSize(), o = this.getWritable(), a = o.__key, l = [], c = [], d = this.getChildAtIndex(t + r);
    let f = null, h = i - r + s;
    if (t !== 0) if (t === i) f = this.getLastChild();
    else {
      const g = this.getChildAtIndex(t);
      g !== null && (f = g.getPreviousSibling());
    }
    if (r > 0) {
      let g = f === null ? this.getFirstChild() : f.getNextSibling();
      for (let m = 0; m < r; m++) {
        g === null && Ne(100);
        const y = g.getNextSibling(), v = g.__key;
        rc(g.getWritable()), c.push(v), g = y;
      }
    }
    let p = f;
    for (let g = 0; g < s; g++) {
      const m = n[g];
      p !== null && m.is(p) && (f = p = p.getPreviousSibling());
      const y = m.getWritable();
      y.__parent === a && h--, rc(y);
      const v = m.__key;
      if (p === null) o.__first = v, y.__prev = null;
      else {
        const b = p.getWritable();
        b.__next = v, y.__prev = b.__key;
      }
      m.__key === a && Ne(76), y.__parent = a, l.push(v), p = m;
    }
    if (t + r === i)
      p !== null && (p.getWritable().__next = null, o.__last = p.__key);
    else if (d !== null) {
      const g = d.getWritable();
      if (p !== null) {
        const m = p.getWritable();
        g.__prev = p.__key, m.__next = d.__key;
      } else g.__prev = null;
    }
    if (o.__size = h, c.length) {
      const g = Fe();
      if (we(g)) {
        const m = new Set(c), y = new Set(l), { anchor: v, focus: b } = g;
        xR(v, m, y) && ev(v, v.getNode(), this, f, d), xR(b, m, y) && ev(b, b.getNode(), this, f, d), h !== 0 || this.canBeEmpty() || Id(this) || this.remove();
      }
    }
    return o;
  }
  exportJSON() {
    return { children: [], direction: this.getDirection(), format: this.getFormatType(), indent: this.getIndent(), type: "element", version: 1 };
  }
  insertNewAfter(t, r) {
    return null;
  }
  canIndent() {
    return !0;
  }
  collapseAtStart(t) {
    return !1;
  }
  excludeFromCopy(t) {
    return !1;
  }
  canReplaceWith(t) {
    return !0;
  }
  canInsertAfter(t) {
    return !0;
  }
  canBeEmpty() {
    return !0;
  }
  canInsertTextBefore() {
    return !0;
  }
  canInsertTextAfter() {
    return !0;
  }
  isInline() {
    return !1;
  }
  isShadowRoot() {
    return !1;
  }
  canMergeWith(t) {
    return !1;
  }
  extractWithChild(t, r, n) {
    return !1;
  }
}
function de(e) {
  return e instanceof Hb;
}
function xR(e, t, r) {
  let n = e.getNode();
  for (; n; ) {
    const s = n.__key;
    if (t.has(s) && !r.has(s)) return !0;
    n = n.getParent();
  }
  return !1;
}
class S2e extends Wb {
  constructor(t) {
    super(t);
  }
  decorate(t, r) {
    Ne(47);
  }
  isIsolated() {
    return !1;
  }
  isInline() {
    return !0;
  }
  isKeyboardSelectable() {
    return !0;
  }
}
function Ut(e) {
  return e instanceof S2e;
}
class zp extends Hb {
  static getType() {
    return "root";
  }
  static clone() {
    return new zp();
  }
  constructor() {
    super("root"), this.__cachedText = null;
  }
  getTopLevelElementOrThrow() {
    Ne(51);
  }
  getTextContent() {
    const t = this.__cachedText;
    return !Bp() && ur()._dirtyType !== mc || t === null ? super.getTextContent() : t;
  }
  remove() {
    Ne(52);
  }
  replace(t) {
    Ne(53);
  }
  insertBefore(t) {
    Ne(54);
  }
  insertAfter(t) {
    Ne(55);
  }
  updateDOM(t, r) {
    return !1;
  }
  append(...t) {
    for (let r = 0; r < t.length; r++) {
      const n = t[r];
      de(n) || Ut(n) || Ne(56);
    }
    return super.append(...t);
  }
  static importJSON(t) {
    const r = Er();
    return r.setFormat(t.format), r.setIndent(t.indent), r.setDirection(t.direction), r;
  }
  exportJSON() {
    return { children: [], direction: this.getDirection(), format: this.getFormatType(), indent: this.getIndent(), type: "root", version: 1 };
  }
  collapseAtStart() {
    return !0;
  }
}
function yn(e) {
  return e instanceof zp;
}
function tC() {
  return new Yb(/* @__PURE__ */ new Map([["root", new zp()]]));
}
function f9(e) {
  const t = e.exportJSON(), r = e.constructor;
  if (t.type !== r.getType() && Ne(130, r.name), de(e)) {
    const n = t.children;
    Array.isArray(n) || Ne(59, r.name);
    const s = e.getChildren();
    for (let i = 0; i < s.length; i++) {
      const o = f9(s[i]);
      n.push(o);
    }
  }
  return t;
}
class Yb {
  constructor(t, r) {
    this._nodeMap = t, this._selection = r || null, this._flushSync = !1, this._readOnly = !1;
  }
  isEmpty() {
    return this._nodeMap.size === 1 && this._selection === null;
  }
  read(t) {
    return vR(this, t);
  }
  clone(t) {
    const r = new Yb(this._nodeMap, t === void 0 ? this._selection : t);
    return r._readOnly = !0, r;
  }
  toJSON() {
    return vR(this, () => ({ root: f9(Er()) }));
  }
}
class rC extends Hb {
  static getType() {
    return "artificial";
  }
  createDOM(t) {
    return document.createElement("div");
  }
}
class Ld extends Hb {
  constructor(t) {
    super(t), this.__textFormat = 0;
  }
  static getType() {
    return "paragraph";
  }
  getTextFormat() {
    return this.getLatest().__textFormat;
  }
  setTextFormat(t) {
    const r = this.getWritable();
    return r.__textFormat = t, r;
  }
  hasTextFormat(t) {
    const r = gc[t];
    return !!(this.getTextFormat() & r);
  }
  static clone(t) {
    return new Ld(t.__key);
  }
  createDOM(t) {
    const r = document.createElement("p"), n = Qf(t.theme, "paragraph");
    return n !== void 0 && r.classList.add(...n), r;
  }
  updateDOM(t, r, n) {
    return !1;
  }
  static importDOM() {
    return { p: (t) => ({ conversion: E2e, priority: 0 }) };
  }
  exportDOM(t) {
    const { element: r } = super.exportDOM(t);
    if (r && Xk(r)) {
      this.isEmpty() && r.append(document.createElement("br"));
      const n = this.getFormatType();
      r.style.textAlign = n;
      const s = this.getDirection();
      s && (r.dir = s);
      const i = this.getIndent();
      i > 0 && (r.style.textIndent = 20 * i + "px");
    }
    return { element: r };
  }
  static importJSON(t) {
    const r = Yi();
    return r.setFormat(t.format), r.setIndent(t.indent), r.setDirection(t.direction), r.setTextFormat(t.textFormat), r;
  }
  exportJSON() {
    return { ...super.exportJSON(), textFormat: this.getTextFormat(), type: "paragraph", version: 1 };
  }
  insertNewAfter(t, r) {
    const n = Yi();
    n.setTextFormat(t.format);
    const s = this.getDirection();
    return n.setDirection(s), n.setFormat(this.getFormatType()), this.insertAfter(n, r), n;
  }
  collapseAtStart() {
    const t = this.getChildren();
    if (t.length === 0 || Se(t[0]) && t[0].getTextContent().trim() === "") {
      if (this.getNextSibling() !== null) return this.selectNext(), this.remove(), !0;
      if (this.getPreviousSibling() !== null) return this.selectPrevious(), this.remove(), !0;
    }
    return !1;
  }
}
function E2e(e) {
  const t = Yi();
  if (e.style) {
    t.setFormat(e.style.textAlign);
    const r = parseInt(e.style.textIndent, 10) / 20;
    r > 0 && t.setIndent(r);
  }
  return { node: t };
}
function Yi() {
  return Ub(new Ld());
}
function ud(e) {
  return e instanceof Ld;
}
const pt = 0, j2e = 4;
function h9(e, t, r, n) {
  const s = e._keyToDOMMap;
  s.clear(), e._editorState = tC(), e._pendingEditorState = n, e._compositionKey = null, e._dirtyType = mc, e._cloneNotNeeded.clear(), e._dirtyLeaves = /* @__PURE__ */ new Set(), e._dirtyElements.clear(), e._normalizedNodes = /* @__PURE__ */ new Set(), e._updateTags = /* @__PURE__ */ new Set(), e._updates = [], e._blockCursorElement = null;
  const i = e._observer;
  i !== null && (i.disconnect(), e._observer = null), t !== null && (t.textContent = ""), r !== null && (r.textContent = "", s.set("root", r));
}
function N2e(e) {
  const t = e || {}, r = w2e(), n = t.theme || {}, s = e === void 0 ? r : t.parentEditor || null, i = t.disableEvents || !1, o = tC(), a = t.namespace || (s !== null ? s._config.namespace : z7()), l = t.editorState, c = [zp, Md, Ip, Mp, Ld, rC, ...t.nodes || []], { onError: d, html: f } = t, h = t.editable === void 0 || t.editable;
  let p;
  if (e === void 0 && r !== null) p = r._nodes;
  else {
    p = /* @__PURE__ */ new Map();
    for (let m = 0; m < c.length; m++) {
      let y = c[m], v = null, b = null;
      if (typeof y != "function") {
        const j = y;
        y = j.replace, v = j.with, b = j.withKlass || null;
      }
      const x = y.getType(), S = y.transform(), w = /* @__PURE__ */ new Set();
      S !== null && w.add(S), p.set(x, { exportDOM: f && f.export ? f.export.get(y) : void 0, klass: y, replace: v, replaceWithKlass: b, transforms: w });
    }
  }
  const g = new k2e(o, s, p, { disableEvents: i, namespace: a, theme: n }, d || console.error, function(m, y) {
    const v = /* @__PURE__ */ new Map(), b = /* @__PURE__ */ new Set(), x = (S) => {
      Object.keys(S).forEach((w) => {
        let j = v.get(w);
        j === void 0 && (j = [], v.set(w, j)), j.push(S[w]);
      });
    };
    return m.forEach((S) => {
      const w = S.klass.importDOM;
      if (w == null || b.has(w)) return;
      b.add(w);
      const j = w.call(S.klass);
      j !== null && x(j);
    }), y && x(y), v;
  }(p, f ? f.import : void 0), h);
  return l !== void 0 && (g._pendingEditorState = l, g._dirtyType = ld), g;
}
class k2e {
  constructor(t, r, n, s, i, o, a) {
    this._parentEditor = r, this._rootElement = null, this._editorState = t, this._pendingEditorState = null, this._compositionKey = null, this._deferred = [], this._keyToDOMMap = /* @__PURE__ */ new Map(), this._updates = [], this._updating = !1, this._listeners = { decorator: /* @__PURE__ */ new Set(), editable: /* @__PURE__ */ new Set(), mutation: /* @__PURE__ */ new Map(), root: /* @__PURE__ */ new Set(), textcontent: /* @__PURE__ */ new Set(), update: /* @__PURE__ */ new Set() }, this._commands = /* @__PURE__ */ new Map(), this._config = s, this._nodes = n, this._decorators = {}, this._pendingDecorators = null, this._dirtyType = mc, this._cloneNotNeeded = /* @__PURE__ */ new Set(), this._dirtyLeaves = /* @__PURE__ */ new Set(), this._dirtyElements = /* @__PURE__ */ new Map(), this._normalizedNodes = /* @__PURE__ */ new Set(), this._updateTags = /* @__PURE__ */ new Set(), this._observer = null, this._key = z7(), this._onError = i, this._htmlConversions = o, this._editable = a, this._headless = r !== null && r._headless, this._window = null, this._blockCursorElement = null;
  }
  isComposing() {
    return this._compositionKey != null;
  }
  registerUpdateListener(t) {
    const r = this._listeners.update;
    return r.add(t), () => {
      r.delete(t);
    };
  }
  registerEditableListener(t) {
    const r = this._listeners.editable;
    return r.add(t), () => {
      r.delete(t);
    };
  }
  registerDecoratorListener(t) {
    const r = this._listeners.decorator;
    return r.add(t), () => {
      r.delete(t);
    };
  }
  registerTextContentListener(t) {
    const r = this._listeners.textcontent;
    return r.add(t), () => {
      r.delete(t);
    };
  }
  registerRootListener(t) {
    const r = this._listeners.root;
    return t(this._rootElement, null), r.add(t), () => {
      t(null, this._rootElement), r.delete(t);
    };
  }
  registerCommand(t, r, n) {
    n === void 0 && Ne(35);
    const s = this._commands;
    s.has(t) || s.set(t, [/* @__PURE__ */ new Set(), /* @__PURE__ */ new Set(), /* @__PURE__ */ new Set(), /* @__PURE__ */ new Set(), /* @__PURE__ */ new Set()]);
    const i = s.get(t);
    i === void 0 && Ne(36, String(t));
    const o = i[n];
    return o.add(r), () => {
      o.delete(r), i.every((a) => a.size === 0) && s.delete(t);
    };
  }
  registerMutationListener(t, r) {
    let n = this._nodes.get(t.getType());
    n === void 0 && Ne(37, t.name);
    let s = t, i = null;
    for (; i = n.replaceWithKlass; ) s = i, n = this._nodes.get(i.getType()), n === void 0 && Ne(37, i.name);
    const o = this._listeners.mutation;
    return o.set(r, s), () => {
      o.delete(r);
    };
  }
  registerNodeTransformToKlass(t, r) {
    const n = t.getType(), s = this._nodes.get(n);
    return s === void 0 && Ne(37, t.name), s.transforms.add(r), s;
  }
  registerNodeTransform(t, r) {
    const n = this.registerNodeTransformToKlass(t, r), s = [n], i = n.replaceWithKlass;
    if (i != null) {
      const l = this.registerNodeTransformToKlass(i, r);
      s.push(l);
    }
    var o, a;
    return o = this, a = t.getType(), is(o, () => {
      const l = la();
      if (l.isEmpty()) return;
      if (a === "root") return void Er().markDirty();
      const c = l._nodeMap;
      for (const [, d] of c) d.markDirty();
    }, o._pendingEditorState === null ? { tag: "history-merge" } : void 0), () => {
      s.forEach((l) => l.transforms.delete(r));
    };
  }
  hasNode(t) {
    return this._nodes.has(t.getType());
  }
  hasNodes(t) {
    return t.every(this.hasNode.bind(this));
  }
  dispatchCommand(t, r) {
    return Ce(this, t, r);
  }
  getDecorators() {
    return this._decorators;
  }
  getRootElement() {
    return this._rootElement;
  }
  getKey() {
    return this._key;
  }
  setRootElement(t) {
    const r = this._rootElement;
    if (t !== r) {
      const n = Qf(this._config.theme, "root"), s = this._pendingEditorState || this._editorState;
      if (this._rootElement = t, h9(this, r, t, s), r !== null && (this._config.disableEvents || l2e(r), n != null && r.classList.remove(...n)), t !== null) {
        const i = function(a) {
          const l = a.ownerDocument;
          return l && l.defaultView || null;
        }(t), o = t.style;
        o.userSelect = "text", o.whiteSpace = "pre-wrap", o.wordBreak = "break-word", t.setAttribute("data-lexical-editor", "true"), this._window = i, this._dirtyType = ld, $7(this), this._updateTags.add("history-merge"), nc(this), this._config.disableEvents || function(a, l) {
          const c = a.ownerDocument, d = Jy.get(c);
          (d === void 0 || d < 1) && c.addEventListener("selectionchange", n9), Jy.set(c, (d || 0) + 1), a.__lexicalEditor = l;
          const f = r9(a);
          for (let h = 0; h < cS.length; h++) {
            const [p, g] = cS[h], m = typeof g == "function" ? (y) => {
              rR(y) || (tR(y), (l.isEditable() || p === "click") && g(y, l));
            } : (y) => {
              if (rR(y)) return;
              tR(y);
              const v = l.isEditable();
              switch (p) {
                case "cut":
                  return v && Ce(l, $k, y);
                case "copy":
                  return Ce(l, Ib, y);
                case "paste":
                  return v && Ce(l, Pk, y);
                case "dragstart":
                  return v && Ce(l, N7, y);
                case "dragover":
                  return v && Ce(l, k7, y);
                case "dragend":
                  return v && Ce(l, EOe, y);
                case "focus":
                  return v && Ce(l, kOe, y);
                case "blur":
                  return v && Ce(l, COe, y);
                case "drop":
                  return v && Ce(l, j7, y);
              }
            };
            a.addEventListener(p, m), f.push(() => {
              a.removeEventListener(p, m);
            });
          }
        }(t, this), n != null && t.classList.add(...n);
      } else this._editorState = s, this._pendingEditorState = null, this._window = null;
      nh("root", this, !1, t, r);
    }
  }
  getElementByKey(t) {
    return this._keyToDOMMap.get(t) || null;
  }
  getEditorState() {
    return this._editorState;
  }
  setEditorState(t, r) {
    t.isEmpty() && Ne(38), D7(this);
    const n = this._pendingEditorState, s = this._updateTags, i = r !== void 0 ? r.tag : null;
    n === null || n.isEmpty() || (i != null && s.add(i), nc(this)), this._pendingEditorState = t, this._dirtyType = ld, this._dirtyElements.set("root", !1), this._compositionKey = null, i != null && s.add(i), nc(this);
  }
  parseEditorState(t, r) {
    return function(n, s, i) {
      const o = tC(), a = Vr, l = qn, c = Wr, d = s._dirtyElements, f = s._dirtyLeaves, h = s._cloneNotNeeded, p = s._dirtyType;
      s._dirtyElements = /* @__PURE__ */ new Map(), s._dirtyLeaves = /* @__PURE__ */ new Set(), s._cloneNotNeeded = /* @__PURE__ */ new Set(), s._dirtyType = 0, Vr = o, qn = !1, Wr = s;
      try {
        const g = s._nodes;
        eC(n.root, g), i && i(), o._readOnly = !0;
      } catch (g) {
        g instanceof Error && s._onError(g);
      } finally {
        s._dirtyElements = d, s._dirtyLeaves = f, s._cloneNotNeeded = h, s._dirtyType = p, Vr = a, qn = l, Wr = c;
      }
      return o;
    }(typeof t == "string" ? JSON.parse(t) : t, this, r);
  }
  update(t, r) {
    is(this, t, r);
  }
  focus(t, r = {}) {
    const n = this._rootElement;
    n !== null && (n.setAttribute("autocapitalize", "off"), is(this, () => {
      const s = Fe(), i = Er();
      s !== null ? s.dirty = !0 : i.getChildrenSize() !== 0 && (r.defaultSelection === "rootStart" ? i.selectStart() : i.selectEnd());
    }, { onUpdate: () => {
      n.removeAttribute("autocapitalize"), t && t();
    }, tag: "focus" }), this._pendingEditorState === null && n.removeAttribute("autocapitalize"));
  }
  blur() {
    const t = this._rootElement;
    t !== null && t.blur();
    const r = ro(this._window);
    r !== null && r.removeAllRanges();
  }
  isEditable() {
    return this._editable;
  }
  setEditable(t) {
    this._editable !== t && (this._editable = t, nh("editable", this, !0, t));
  }
  toJSON() {
    return { editorState: this._editorState.toJSON() };
  }
}
const p9 = typeof window < "u" && window.document !== void 0 && window.document.createElement !== void 0, C2e = p9 ? rl : ve, Jm = { tag: "history-merge" };
function T2e({ initialConfig: e, children: t }) {
  const r = Ht(() => {
    const { theme: n, namespace: s, editor__DEPRECATED: i, nodes: o, onError: a, editorState: l, html: c } = e, d = hOe(null, n);
    let f = i || null;
    if (f === null) {
      const h = N2e({ editable: e.editable, html: c, namespace: s, nodes: o, onError: (p) => a(p, h), theme: n });
      (function(p, g) {
        if (g !== null) {
          if (g === void 0) p.update(() => {
            const m = Er();
            if (m.isEmpty()) {
              const y = Yi();
              m.append(y);
              const v = p9 ? document.activeElement : null;
              (Fe() !== null || v !== null && v === p.getRootElement()) && y.select();
            }
          }, Jm);
          else if (g !== null) switch (typeof g) {
            case "string": {
              const m = p.parseEditorState(g);
              p.setEditorState(m, Jm);
              break;
            }
            case "object":
              p.setEditorState(g, Jm);
              break;
            case "function":
              p.update(() => {
                Er().isEmpty() && g(p);
              }, Jm);
          }
        }
      })(h, l), f = h;
    }
    return [f, d];
  }, []);
  return C2e(() => {
    const n = e.editable, [s] = r;
    s.setEditable(n === void 0 || n);
  }, []), u.jsx(g7.Provider, { value: r, children: t });
}
const A2e = typeof window < "u" && window.document !== void 0 && window.document.createElement !== void 0 ? rl : ve;
function P2e(e) {
  return { initialValueFn: () => e.isEditable(), subscribe: (t) => e.registerEditableListener(t) };
}
function O2e() {
  return function(e) {
    const [t] = Rd(), r = Ht(() => e(t), [t, e]), n = We(r.initialValueFn()), [s, i] = L(n.current);
    return A2e(() => {
      const { initialValueFn: o, subscribe: a } = r, l = o();
      return n.current !== l && (n.current = l, i(l)), a((c) => {
        n.current = c, i(c);
      });
    }, [r, e]), s;
  }(P2e);
}
function D2e() {
  return Er().getTextContent();
}
function $2e(e, t = !0) {
  if (e) return !1;
  let r = D2e();
  return t && (r = r.trim()), r === "";
}
function R2e(e) {
  if (!$2e(e, !1)) return !1;
  const t = Er().getChildren(), r = t.length;
  if (r > 1) return !1;
  for (let n = 0; n < r; n++) {
    const s = t[n];
    if (Ut(s)) return !1;
    if (de(s)) {
      if (!ud(s) || s.__indent !== 0) return !1;
      const i = s.getChildren(), o = i.length;
      for (let a = 0; a < o; a++) {
        const l = i[n];
        if (!Se(l)) return !1;
      }
    }
  }
  return !0;
}
function I2e(e) {
  return () => R2e(e);
}
function M2e(e) {
  return e && e.__esModule && Object.prototype.hasOwnProperty.call(e, "default") ? e.default : e;
}
M2e(function(e) {
  const t = new URLSearchParams();
  t.append("code", e);
  for (let r = 1; r < arguments.length; r++) t.append("v", arguments[r]);
  throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`);
});
function L2e(e) {
  return e && e.__esModule && Object.prototype.hasOwnProperty.call(e, "default") ? e.default : e;
}
L2e(function(e) {
  const t = new URLSearchParams();
  t.append("code", e);
  for (let r = 1; r < arguments.length; r++) t.append("v", arguments[r]);
  throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`);
});
const F2e = /* @__PURE__ */ new Map();
function B2e(e) {
  const t = {}, r = e.split(";");
  for (const n of r) if (n !== "") {
    const [s, i] = n.split(/:([^]+)/);
    s && i && (t[s.trim()] = i.trim());
  }
  return t;
}
function m9(e) {
  const t = e.constructor.clone(e);
  return t.__parent = e.__parent, t.__next = e.__next, t.__prev = e.__prev, de(e) && de(t) ? (n = e, (r = t).__first = n.__first, r.__last = n.__last, r.__size = n.__size, r.__format = n.__format, r.__indent = n.__indent, r.__dir = n.__dir, r) : Se(e) && Se(t) ? function(s, i) {
    return s.__format = i.__format, s.__style = i.__style, s.__mode = i.__mode, s.__detail = i.__detail, s;
  }(t, e) : ud(e) && ud(t) ? function(s, i) {
    return s.__textFormat = i.__textFormat, s;
  }(t, e) : t;
  var r, n;
}
function g9(e, t) {
  const r = e.getStartEndPoints();
  if (t.isSelected(e) && !t.isSegmented() && !t.isToken() && r !== null) {
    const [n, s] = r, i = e.isBackward(), o = n.getNode(), a = s.getNode(), l = t.is(o), c = t.is(a);
    if (l || c) {
      const [d, f] = hS(e), h = o.is(a), p = t.is(i ? a : o), g = t.is(i ? o : a);
      let m, y = 0;
      return h ? (y = d > f ? f : d, m = d > f ? d : f) : p ? (y = i ? f : d, m = void 0) : g && (y = 0, m = i ? d : f), t.__text = t.__text.slice(y, m), t;
    }
  }
  return t;
}
function z2e(e) {
  const t = e.getStyle(), r = B2e(t);
  F2e.set(t, r);
}
function wR(e, t) {
  const r = qh(e.focus, t);
  return Ut(r) && !r.isIsolated() || de(r) && !r.isInline() && !r.canBeEmpty();
}
function U2e(e, t, r, n) {
  e.modify(t ? "extend" : "move", r, n);
}
function q2e(e) {
  const t = e.anchor.getNode();
  return (yn(t) ? t : t.getParentOrThrow()).getDirection() === "rtl";
}
function _R(e, t, r) {
  const n = q2e(e);
  U2e(e, t, r ? !n : n, "character");
}
function V2e(e) {
  return e && e.__esModule && Object.prototype.hasOwnProperty.call(e, "default") ? e.default : e;
}
var W2e = V2e(function(e) {
  const t = new URLSearchParams();
  t.append("code", e);
  for (let r = 1; r < arguments.length; r++) t.append("v", arguments[r]);
  throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`);
});
const y9 = typeof window < "u" && window.document !== void 0 && window.document.createElement !== void 0, K2e = y9 && "documentMode" in document ? document.documentMode : null;
!(!y9 || !("InputEvent" in window) || K2e) && "getTargetRanges" in new window.InputEvent("input");
function Gb(...e) {
  return () => {
    for (let t = e.length - 1; t >= 0; t--) e[t]();
    e.length = 0;
  };
}
function H2e(e) {
  const t = nC(e, (r) => de(r) && !r.isInline());
  return de(t) || W2e(4, e.__key), t;
}
const nC = (e, t) => {
  let r = e;
  for (; r !== Er() && r != null; ) {
    if (t(r)) return r;
    r = r.getParent();
  }
  return null;
};
function Ul(e, t) {
  return e !== null && Object.getPrototypeOf(e).constructor.name === t.name;
}
function Y2e(e) {
  const t = window.location.origin, r = (n) => {
    if (n.origin !== t) return;
    const s = e.getRootElement();
    if (document.activeElement !== s) return;
    const i = n.data;
    if (typeof i == "string") {
      let o;
      try {
        o = JSON.parse(i);
      } catch {
        return;
      }
      if (o && o.protocol === "nuanria_messaging" && o.type === "request") {
        const a = o.payload;
        if (a && a.functionId === "makeChanges") {
          const l = a.args;
          if (l) {
            const [c, d, f, h, p, g] = l;
            e.update(() => {
              const m = Fe();
              if (we(m)) {
                const y = m.anchor;
                let v = y.getNode(), b = 0, x = 0;
                if (Se(v) && c >= 0 && d >= 0 && (b = c, x = c + d, m.setTextNodeRange(v, b, v, x)), b === x && f === "" || (m.insertRawText(f), v = y.getNode()), Se(v)) {
                  b = h, x = h + p;
                  const S = v.getTextContentSize();
                  b = b > S ? S : b, x = x > S ? S : x, m.setTextNodeRange(v, b, v, x);
                }
                n.stopImmediatePropagation();
              }
            });
          }
        }
      }
    }
  };
  return window.addEventListener("message", r, !0), () => {
    window.removeEventListener("message", r, !0);
  };
}
function G2e(e, t) {
  const r = t.body ? t.body.childNodes : [];
  let n = [];
  const s = [];
  for (let i = 0; i < r.length; i++) {
    const o = r[i];
    if (!b9.has(o.nodeName)) {
      const a = x9(o, e, s, !1);
      a !== null && (n = n.concat(a));
    }
  }
  return function(i) {
    for (const o of i) o.getNextSibling() instanceof rC && o.insertAfter(cd());
    for (const o of i) {
      const a = o.getChildren();
      for (const l of a) o.insertBefore(l);
      o.remove();
    }
  }(s), n;
}
function Z2e(e, t) {
  if (typeof document > "u" || typeof window > "u" && global.window === void 0) throw new Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");
  const r = document.createElement("div"), n = Er().getChildren();
  for (let s = 0; s < n.length; s++)
    v9(e, n[s], r, t);
  return r.innerHTML;
}
function v9(e, t, r, n = null) {
  let s = n === null || t.isSelected(n);
  const i = de(t) && t.excludeFromCopy("html");
  let o = t;
  if (n !== null) {
    let p = m9(t);
    p = Se(p) && n !== null ? g9(n, p) : p, o = p;
  }
  const a = de(o) ? o.getChildren() : [], l = e._nodes.get(o.getType());
  let c;
  c = l && l.exportDOM !== void 0 ? l.exportDOM(e, o) : o.exportDOM(e);
  const { element: d, after: f } = c;
  if (!d) return !1;
  const h = document.createDocumentFragment();
  for (let p = 0; p < a.length; p++) {
    const g = a[p], m = v9(e, g, h, n);
    !s && de(t) && m && t.extractWithChild(g, n, "html") && (s = !0);
  }
  if (s && !i) {
    if (Xk(d) && d.append(h), r.append(d), f) {
      const p = f.call(o, d);
      p && d.replaceWith(p);
    }
  } else r.append(h);
  return s;
}
const b9 = /* @__PURE__ */ new Set(["STYLE", "SCRIPT"]);
function x9(e, t, r, n, s = /* @__PURE__ */ new Map(), i) {
  let o = [];
  if (b9.has(e.nodeName)) return o;
  let a = null;
  const l = function(g, m) {
    const { nodeName: y } = g, v = m._htmlConversions.get(y.toLowerCase());
    let b = null;
    if (v !== void 0) for (const x of v) {
      const S = x(g);
      S !== null && (b === null || (b.priority || 0) < (S.priority || 0)) && (b = S);
    }
    return b !== null ? b.conversion : null;
  }(e, t), c = l ? l(e) : null;
  let d = null;
  if (c !== null) {
    d = c.after;
    const g = c.node;
    if (a = Array.isArray(g) ? g[g.length - 1] : g, a !== null) {
      for (const [, m] of s) if (a = m(a, i), !a) break;
      a && o.push(...Array.isArray(g) ? g : [a]);
    }
    c.forChild != null && s.set(e.nodeName, c.forChild);
  }
  const f = e.childNodes;
  let h = [];
  const p = (a == null || !Id(a)) && (a != null && pS(a) || n);
  for (let g = 0; g < f.length; g++) h.push(...x9(f[g], t, r, p, new Map(s), a));
  return d != null && (h = d(h)), s2e(e) && (h = X2e(e, h, p ? () => {
    const g = new rC();
    return r.push(g), g;
  } : Yi)), a == null ? o = o.concat(h) : de(a) && a.append(...h), o;
}
function X2e(e, t, r) {
  const n = e.style.textAlign, s = [];
  let i = [];
  for (let o = 0; o < t.length; o++) {
    const a = t[o];
    if (pS(a)) n && !a.getFormat() && a.setFormat(n), s.push(a);
    else if (i.push(a), o === t.length - 1 || o < t.length - 1 && pS(t[o + 1])) {
      const l = r();
      l.setFormat(n), l.append(...i), s.push(l), i = [];
    }
  }
  return s;
}
function J2e(e) {
  return e && e.__esModule && Object.prototype.hasOwnProperty.call(e, "default") ? e.default : e;
}
var tv = J2e(function(e) {
  const t = new URLSearchParams();
  t.append("code", e);
  for (let r = 1; r < arguments.length; r++) t.append("v", arguments[r]);
  throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`);
});
const Q2e = typeof window < "u" && window.document !== void 0 && window.document.createElement !== void 0, w9 = (e) => Q2e ? (e || window).getSelection() : null;
function eDe(e) {
  const t = Fe();
  return t == null && tv(166), we(t) && t.isCollapsed() || t.getNodes().length === 0 ? "" : Z2e(e, t);
}
function tDe(e) {
  const t = Fe();
  return t == null && tv(166), we(t) && t.isCollapsed() || t.getNodes().length === 0 ? null : JSON.stringify(rDe(e, t));
}
function SR(e, t, r) {
  const n = e.getData("application/x-lexical-editor");
  if (n) try {
    const o = JSON.parse(n);
    if (o.namespace === r._config.namespace && Array.isArray(o.nodes))
      return ER(r, nDe(o.nodes), t);
  } catch {
  }
  const s = e.getData("text/html");
  if (s) try {
    const o = new DOMParser().parseFromString(s, "text/html");
    return ER(r, G2e(r, o), t);
  } catch {
  }
  const i = e.getData("text/plain") || e.getData("text/uri-list");
  if (i != null) if (we(t)) {
    const o = i.split(/(\r?\n|\t)/);
    o[o.length - 1] === "" && o.pop();
    for (let a = 0; a < o.length; a++) {
      const l = Fe();
      if (we(l)) {
        const c = o[a];
        c === `
` || c === `\r
` ? l.insertParagraph() : c === "	" ? l.insertNodes([Lp()]) : l.insertText(c);
      }
    }
  } else t.insertRawText(i);
}
function ER(e, t, r) {
  e.dispatchCommand(mOe, { nodes: t, selection: r }) || r.insertNodes(t);
}
function _9(e, t, r, n = []) {
  let s = t === null || r.isSelected(t);
  const i = de(r) && r.excludeFromCopy("html");
  let o = r;
  if (t !== null) {
    let c = m9(r);
    c = Se(c) && t !== null ? g9(t, c) : c, o = c;
  }
  const a = de(o) ? o.getChildren() : [], l = function(c) {
    const d = c.exportJSON(), f = c.constructor;
    if (d.type !== f.getType() && tv(58, f.name), de(c)) {
      const h = d.children;
      Array.isArray(h) || tv(59, f.name);
    }
    return d;
  }(o);
  if (Se(o)) {
    const c = o.__text;
    c.length > 0 ? l.text = c : s = !1;
  }
  for (let c = 0; c < a.length; c++) {
    const d = a[c], f = _9(e, t, d, l.children);
    !s && de(r) && f && r.extractWithChild(d, t, "clone") && (s = !0);
  }
  if (s && !i) n.push(l);
  else if (Array.isArray(l.children)) for (let c = 0; c < l.children.length; c++) {
    const d = l.children[c];
    n.push(d);
  }
  return s;
}
function rDe(e, t) {
  const r = [], n = Er().getChildren();
  for (let s = 0; s < n.length; s++)
    _9(e, t, n[s], r);
  return { namespace: e._config.namespace, nodes: r };
}
function nDe(e) {
  const t = [];
  for (let r = 0; r < e.length; r++) {
    const n = e[r], s = _2e(n);
    Se(s) && z2e(s), t.push(s);
  }
  return t;
}
let Yc = null;
async function jR(e, t) {
  if (Yc !== null) return !1;
  if (t !== null) return new Promise((a, l) => {
    e.update(() => {
      a(NR(e, t));
    });
  });
  const r = e.getRootElement(), n = e._window == null ? window.document : e._window.document, s = w9(e._window);
  if (r === null || s === null) return !1;
  const i = n.createElement("span");
  i.style.cssText = "position: fixed; top: -1000px;", i.append(n.createTextNode("#")), r.append(i);
  const o = new Range();
  return o.setStart(i, 0), o.setEnd(i, 1), s.removeAllRanges(), s.addRange(o), new Promise((a, l) => {
    const c = e.registerCommand(Ib, (d) => (Ul(d, ClipboardEvent) && (c(), Yc !== null && (window.clearTimeout(Yc), Yc = null), a(NR(e, d))), !0), j2e);
    Yc = window.setTimeout(() => {
      c(), Yc = null, a(!1);
    }, 50), n.execCommand("copy"), i.remove();
  });
}
function NR(e, t) {
  const r = w9(e._window);
  if (!r) return !1;
  const n = r.anchorNode, s = r.focusNode;
  if (n !== null && s !== null && !Rp(e, n, s)) return !1;
  t.preventDefault();
  const i = t.clipboardData, o = Fe();
  if (i === null || o === null) return !1;
  const a = eDe(e), l = tDe(e);
  let c = "";
  return o !== null && (c = o.getTextContent()), a !== null && i.setData("text/html", a), l !== null && i.setData("application/x-lexical-editor", l), i.setData("text/plain", c), !0;
}
function kR(e, t) {
  if (document.caretRangeFromPoint !== void 0) {
    const r = document.caretRangeFromPoint(e, t);
    return r === null ? null : { node: r.startContainer, offset: r.startOffset };
  }
  if (document.caretPositionFromPoint !== "undefined") {
    const r = document.caretPositionFromPoint(e, t);
    return r === null ? null : { node: r.offsetNode, offset: r.offset };
  }
  return null;
}
const Fd = typeof window < "u" && window.document !== void 0 && window.document.createElement !== void 0, sDe = Fd && "documentMode" in document ? document.documentMode : null, iDe = !(!Fd || !("InputEvent" in window) || sDe) && "getTargetRanges" in new window.InputEvent("input"), oDe = Fd && /Version\/[\d.]+.*Safari/.test(navigator.userAgent), aDe = Fd && /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream, lDe = Fd && /^(?=.*Chrome).*/i.test(navigator.userAgent), cDe = Fd && /AppleWebKit\/[\d.]+/.test(navigator.userAgent) && !lDe, CR = pOe();
function Qm(e) {
  let t = null;
  if (Ul(e, DragEvent) ? t = e.dataTransfer : Ul(e, ClipboardEvent) && (t = e.clipboardData), t === null) return [!1, [], !1];
  const r = t.types, n = r.includes("Files"), s = r.includes("text/html") || r.includes("text/plain");
  return [n, Array.from(t.files), s];
}
function TR(e) {
  const t = Fe();
  if (!we(t)) return !1;
  const r = /* @__PURE__ */ new Set(), n = t.getNodes();
  for (let s = 0; s < n.length; s++) {
    const i = n[s], o = i.getKey();
    if (r.has(o)) continue;
    const a = nC(i, (c) => de(c) && !c.isInline());
    if (a === null) continue;
    const l = a.getKey();
    a.canIndent() && !r.has(l) && (r.add(l), e(a));
  }
  return r.size > 0;
}
function eg(e) {
  const t = yc(e);
  return Ut(t);
}
function uDe(e) {
  return Gb(e.registerCommand(y7, (t) => {
    const r = Fe();
    return !!ri(r) && (r.clear(), !0);
  }, 0), e.registerCommand(tc, (t) => {
    const r = Fe();
    return !!we(r) && (r.deleteCharacter(t), !0);
  }, pt), e.registerCommand(zh, (t) => {
    const r = Fe();
    return !!we(r) && (r.deleteWord(t), !0);
  }, pt), e.registerCommand(Uh, (t) => {
    const r = Fe();
    return !!we(r) && (r.deleteLine(t), !0);
  }, pt), e.registerCommand(Au, (t) => {
    const r = Fe();
    if (typeof t == "string") r !== null && r.insertText(t);
    else {
      if (r === null) return !1;
      const n = t.dataTransfer;
      if (n != null) SR(n, r, e);
      else if (we(r)) {
        const s = t.data;
        return s && r.insertText(s), !0;
      }
    }
    return !0;
  }, pt), e.registerCommand(X_, () => {
    const t = Fe();
    return !!we(t) && (t.removeText(), !0);
  }, pt), e.registerCommand(Ua, (t) => {
    const r = Fe();
    return !!we(r) && (r.formatText(t), !0);
  }, pt), e.registerCommand(SOe, (t) => {
    const r = Fe();
    if (!we(r) && !ri(r)) return !1;
    const n = r.getNodes();
    for (const s of n) {
      const i = nC(s, (o) => de(o) && !o.isInline());
      i !== null && i.setFormat(t);
    }
    return !0;
  }, pt), e.registerCommand(Tu, (t) => {
    const r = Fe();
    return !!we(r) && (r.insertLineBreak(t), !0);
  }, pt), e.registerCommand(By, () => {
    const t = Fe();
    return !!we(t) && (t.insertParagraph(), !0);
  }, pt), e.registerCommand(wOe, () => (b2e([Lp()]), !0), pt), e.registerCommand(_Oe, () => TR((t) => {
    const r = t.getIndent();
    t.setIndent(r + 1);
  }), pt), e.registerCommand(F$, () => TR((t) => {
    const r = t.getIndent();
    r > 0 && t.setIndent(r - 1);
  }), pt), e.registerCommand(x7, (t) => {
    const r = Fe();
    if (ri(r) && !eg(t.target)) {
      const n = r.getNodes();
      if (n.length > 0) return n[0].selectPrevious(), !0;
    } else if (we(r)) {
      const n = qh(r.focus, !0);
      if (!t.shiftKey && Ut(n) && !n.isIsolated() && !n.isInline()) return n.selectPrevious(), t.preventDefault(), !0;
    }
    return !1;
  }, pt), e.registerCommand(w7, (t) => {
    const r = Fe();
    if (ri(r)) {
      const n = r.getNodes();
      if (n.length > 0) return n[0].selectNext(0, 0), !0;
    } else if (we(r)) {
      if (function(s) {
        const i = s.focus;
        return i.key === "root" && i.offset === Er().getChildrenSize();
      }(r)) return t.preventDefault(), !0;
      const n = qh(r.focus, !1);
      if (!t.shiftKey && Ut(n) && !n.isIsolated() && !n.isInline()) return n.selectNext(), t.preventDefault(), !0;
    }
    return !1;
  }, pt), e.registerCommand(b7, (t) => {
    const r = Fe();
    if (ri(r)) {
      const n = r.getNodes();
      if (n.length > 0) return t.preventDefault(), n[0].selectPrevious(), !0;
    }
    if (!we(r)) return !1;
    if (wR(r, !0)) {
      const n = t.shiftKey;
      return t.preventDefault(), _R(r, n, !0), !0;
    }
    return !1;
  }, pt), e.registerCommand(v7, (t) => {
    const r = Fe();
    if (ri(r) && !eg(t.target)) {
      const s = r.getNodes();
      if (s.length > 0) return t.preventDefault(), s[0].selectNext(0, 0), !0;
    }
    if (!we(r)) return !1;
    const n = t.shiftKey;
    return !!wR(r, !1) && (t.preventDefault(), _R(r, n, !1), !0);
  }, pt), e.registerCommand(_7, (t) => {
    if (eg(t.target)) return !1;
    const r = Fe();
    if (!we(r)) return !1;
    t.preventDefault();
    const { anchor: n } = r, s = n.getNode();
    return r.isCollapsed() && n.offset === 0 && !yn(s) && H2e(s).getIndent() > 0 ? e.dispatchCommand(F$, void 0) : e.dispatchCommand(tc, !0);
  }, pt), e.registerCommand(E7, (t) => {
    if (eg(t.target)) return !1;
    const r = Fe();
    return !!we(r) && (t.preventDefault(), e.dispatchCommand(tc, !1));
  }, pt), e.registerCommand(zy, (t) => {
    const r = Fe();
    if (!we(r)) return !1;
    if (t !== null) {
      if ((aDe || oDe || cDe) && iDe) return !1;
      if (t.preventDefault(), t.shiftKey) return e.dispatchCommand(Tu, !1);
    }
    return e.dispatchCommand(By, void 0);
  }, pt), e.registerCommand(S7, () => {
    const t = Fe();
    return !!we(t) && (e.blur(), !0);
  }, pt), e.registerCommand(j7, (t) => {
    const [, r] = Qm(t);
    if (r.length > 0) {
      const s = kR(t.clientX, t.clientY);
      if (s !== null) {
        const { offset: i, node: o } = s, a = yc(o);
        if (a !== null) {
          const l = y2e();
          if (Se(a)) l.anchor.set(a.getKey(), i, "text"), l.focus.set(a.getKey(), i, "text");
          else {
            const d = a.getParentOrThrow().getKey(), f = a.getIndexWithinParent() + 1;
            l.anchor.set(d, f, "element"), l.focus.set(d, f, "element");
          }
          const c = R7(l);
          to(c);
        }
        e.dispatchCommand(CR, r);
      }
      return t.preventDefault(), !0;
    }
    const n = Fe();
    return !!we(n);
  }, pt), e.registerCommand(N7, (t) => {
    const [r] = Qm(t), n = Fe();
    return !(r && !we(n));
  }, pt), e.registerCommand(k7, (t) => {
    const [r] = Qm(t), n = Fe();
    if (r && !we(n)) return !1;
    const s = kR(t.clientX, t.clientY);
    if (s !== null) {
      const i = yc(s.node);
      Ut(i) && t.preventDefault();
    }
    return !0;
  }, pt), e.registerCommand(J_, () => (e2e(), !0), pt), e.registerCommand(Ib, (t) => (jR(e, Ul(t, ClipboardEvent) ? t : null), !0), pt), e.registerCommand($k, (t) => (async function(r, n) {
    await jR(n, Ul(r, ClipboardEvent) ? r : null), n.update(() => {
      const s = Fe();
      we(s) ? s.removeText() : ri(s) && s.getNodes().forEach((i) => i.remove());
    });
  }(t, e), !0), pt), e.registerCommand(Pk, (t) => {
    const [, r, n] = Qm(t);
    return r.length > 0 && !n ? (e.dispatchCommand(CR, r), !0) : Wk(t.target) ? !1 : Fe() !== null && (function(s, i) {
      s.preventDefault(), i.update(() => {
        const o = Fe(), a = Ul(s, InputEvent) || Ul(s, KeyboardEvent) ? null : s.clipboardData;
        a != null && o !== null && SR(a, o, i);
      }, { tag: "paste" });
    }(t, e), !0);
  }, pt));
}
const mS = typeof window < "u" && window.document !== void 0 && window.document.createElement !== void 0 ? rl : ve;
function AR(e) {
  return e.getEditorState().read(I2e(e.isComposing()));
}
function dDe({ contentEditable: e, placeholder: t, ErrorBoundary: r }) {
  const [n] = Rd(), s = function(i, o) {
    const [a, l] = L(() => i.getDecorators());
    return mS(() => i.registerDecoratorListener((c) => {
      VR(() => {
        l(c);
      });
    }), [i]), ve(() => {
      l(i.getDecorators());
    }, [i]), Ht(() => {
      const c = [], d = Object.keys(a);
      for (let f = 0; f < d.length; f++) {
        const h = d[f], p = u.jsx(o, { onError: (m) => i._onError(m), children: u.jsx(zR, { fallback: null, children: a[h] }) }), g = i.getElementByKey(h);
        g !== null && c.push(Zh(p, g, h));
      }
      return c;
    }, [o, a, i]);
  }(n, r);
  return function(i) {
    mS(() => Gb(uDe(i), Y2e(i)), [i]);
  }(n), u.jsxs(u.Fragment, { children: [e, u.jsx(fDe, { content: t }), s] });
}
function fDe({ content: e }) {
  const [t] = Rd(), r = function(s) {
    const [i, o] = L(() => AR(s));
    return mS(() => {
      function a() {
        const l = AR(s);
        o(l);
      }
      return a(), Gb(s.registerUpdateListener(() => {
        a();
      }), s.registerEditableListener(() => {
        a();
      }));
    }, [s]), i;
  }(t), n = O2e();
  return r ? typeof e == "function" ? e(n) : e : null;
}
const hDe = typeof window < "u" && window.document !== void 0 && window.document.createElement !== void 0 ? rl : ve;
function pDe({ ariaActiveDescendant: e, ariaAutoComplete: t, ariaControls: r, ariaDescribedBy: n, ariaExpanded: s, ariaLabel: i, ariaLabelledBy: o, ariaMultiline: a, ariaOwns: l, ariaRequired: c, autoCapitalize: d, className: f, id: h, role: p = "textbox", spellCheck: g = !0, style: m, tabIndex: y, "data-testid": v, ...b }) {
  const [x] = Rd(), [S, w] = L(!1), j = ze((N) => {
    N && N.ownerDocument && N.ownerDocument.defaultView && x.setRootElement(N);
  }, [x]);
  return hDe(() => (w(x.isEditable()), x.registerEditableListener((N) => {
    w(N);
  })), [x]), u.jsx("div", { ...b, "aria-activedescendant": S ? e : void 0, "aria-autocomplete": S ? t : "none", "aria-controls": S ? r : void 0, "aria-describedby": n, "aria-expanded": S && p === "combobox" ? !!s : void 0, "aria-label": i, "aria-labelledby": o, "aria-multiline": a, "aria-owns": S ? l : void 0, "aria-readonly": !S || void 0, "aria-required": c, autoCapitalize: d, className: f, contentEditable: S, "data-testid": v, id: h, ref: j, role: p, spellCheck: g, style: m, tabIndex: y });
}
const tg = 0, gS = 1, yS = 2, Qs = 0, mDe = 1, PR = 2, gDe = 3, yDe = 4;
function vDe(e, t, r, n, s) {
  if (e === null || r.size === 0 && n.size === 0 && !s) return Qs;
  const i = t._selection, o = e._selection;
  if (s) return mDe;
  if (!(we(i) && we(o) && o.isCollapsed() && i.isCollapsed())) return Qs;
  const a = function(v, b, x) {
    const S = v._nodeMap, w = [];
    for (const j of b) {
      const N = S.get(j);
      N !== void 0 && w.push(N);
    }
    for (const [j, N] of x) {
      if (!N) continue;
      const k = S.get(j);
      k === void 0 || yn(k) || w.push(k);
    }
    return w;
  }(t, r, n);
  if (a.length === 0) return Qs;
  if (a.length > 1) {
    const v = t._nodeMap, b = v.get(i.anchor.key), x = v.get(o.anchor.key);
    return b && x && !e._nodeMap.has(b.__key) && Se(b) && b.__text.length === 1 && i.anchor.offset === 1 ? PR : Qs;
  }
  const l = a[0], c = e._nodeMap.get(l.__key);
  if (!Se(c) || !Se(l) || c.__mode !== l.__mode) return Qs;
  const d = c.__text, f = l.__text;
  if (d === f) return Qs;
  const h = i.anchor, p = o.anchor;
  if (h.key !== p.key || h.type !== "text") return Qs;
  const g = h.offset, m = p.offset, y = f.length - d.length;
  return y === 1 && m === g - 1 ? PR : y === -1 && m === g + 1 ? gDe : y === -1 && m === g ? yDe : Qs;
}
function bDe(e, t) {
  let r = Date.now(), n = Qs;
  return (s, i, o, a, l, c) => {
    const d = Date.now();
    if (c.has("historic")) return n = Qs, r = d, yS;
    const f = vDe(s, i, a, l, e.isComposing()), h = (() => {
      const p = o === null || o.editor === e, g = c.has("history-push");
      if (!g && p && c.has("history-merge")) return tg;
      if (s === null) return gS;
      const m = i._selection;
      return a.size > 0 || l.size > 0 ? g === !1 && f !== Qs && f === n && d < r + t && p || a.size === 1 && function(y, v, b) {
        const x = v._nodeMap.get(y), S = b._nodeMap.get(y), w = v._selection, j = b._selection;
        let N = !1;
        return we(w) && we(j) && (N = w.anchor.type === "element" && w.focus.type === "element" && j.anchor.type === "text" && j.focus.type === "text"), !(N || !Se(x) || !Se(S)) && x.__type === S.__type && x.__text === S.__text && x.__mode === S.__mode && x.__detail === S.__detail && x.__style === S.__style && x.__format === S.__format && x.__parent === S.__parent;
      }(Array.from(a)[0], s, i) ? tg : gS : m !== null ? tg : yS;
    })();
    return r = d, n = f, h;
  };
}
function OR(e) {
  e.undoStack = [], e.redoStack = [], e.current = null;
}
function xDe(e, t, r) {
  const n = bDe(e, r);
  return Gb(e.registerCommand(Ok, () => (function(i, o) {
    const a = o.redoStack, l = o.undoStack;
    if (l.length !== 0) {
      const c = o.current, d = l.pop();
      c !== null && (a.push(c), i.dispatchCommand(Gm, !0)), l.length === 0 && i.dispatchCommand(Zm, !1), o.current = d || null, d && d.editor.setEditorState(d.editorState, { tag: "historic" });
    }
  }(e, t), !0), pt), e.registerCommand(Dk, () => (function(i, o) {
    const a = o.redoStack, l = o.undoStack;
    if (a.length !== 0) {
      const c = o.current;
      c !== null && (l.push(c), i.dispatchCommand(Zm, !0));
      const d = a.pop();
      a.length === 0 && i.dispatchCommand(Gm, !1), o.current = d || null, d && d.editor.setEditorState(d.editorState, { tag: "historic" });
    }
  }(e, t), !0), pt), e.registerCommand(jOe, () => (OR(t), !1), pt), e.registerCommand(NOe, () => (OR(t), e.dispatchCommand(Gm, !1), e.dispatchCommand(Zm, !1), !0), pt), e.registerUpdateListener(({ editorState: i, prevEditorState: o, dirtyLeaves: a, dirtyElements: l, tags: c }) => {
    const d = t.current, f = t.redoStack, h = t.undoStack, p = d === null ? null : d.editorState;
    if (d !== null && i === p) return;
    const g = n(o, i, d, a, l, c);
    if (g === gS) f.length !== 0 && (t.redoStack = [], e.dispatchCommand(Gm, !1)), d !== null && (h.push({ ...d }), e.dispatchCommand(Zm, !0));
    else if (g === yS) return;
    t.current = { editor: e, editorState: i };
  }));
}
function wDe() {
  return { current: null, redoStack: [], undoStack: [] };
}
function _De({ externalHistoryState: e }) {
  const [t] = Rd();
  return function(r, n, s = 1e3) {
    const i = Ht(() => n || wDe(), [n]);
    ve(() => xDe(r, i, s), [s, r, i]);
  }(t, e), null;
}
function SDe({ defaultSelection: e }) {
  const [t] = Rd();
  return ve(() => {
    t.focus(() => {
      const r = document.activeElement, n = t.getRootElement();
      n === null || r !== null && n.contains(r) || n.focus({ preventScroll: !0 });
    }, { defaultSelection: e });
  }, [e, t]), null;
}
function vS(e, t) {
  return vS = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(r, n) {
    return r.__proto__ = n, r;
  }, vS(e, t);
}
var DR = { error: null }, EDe = function(e) {
  var t, r;
  function n() {
    for (var i, o = arguments.length, a = new Array(o), l = 0; l < o; l++) a[l] = arguments[l];
    return (i = e.call.apply(e, [this].concat(a)) || this).state = DR, i.resetErrorBoundary = function() {
      for (var c, d = arguments.length, f = new Array(d), h = 0; h < d; h++) f[h] = arguments[h];
      i.props.onReset == null || (c = i.props).onReset.apply(c, f), i.reset();
    }, i;
  }
  r = e, (t = n).prototype = Object.create(r.prototype), t.prototype.constructor = t, vS(t, r), n.getDerivedStateFromError = function(i) {
    return { error: i };
  };
  var s = n.prototype;
  return s.reset = function() {
    this.setState(DR);
  }, s.componentDidCatch = function(i, o) {
    var a, l;
    (a = (l = this.props).onError) == null || a.call(l, i, o);
  }, s.componentDidUpdate = function(i, o) {
    var a, l, c, d, f = this.state.error, h = this.props.resetKeys;
    f !== null && o.error !== null && ((c = i.resetKeys) === void 0 && (c = []), (d = h) === void 0 && (d = []), c.length !== d.length || c.some(function(p, g) {
      return !Object.is(p, d[g]);
    })) && ((a = (l = this.props).onResetKeysChange) == null || a.call(l, i.resetKeys, h), this.reset());
  }, s.render = function() {
    var i = this.state.error, o = this.props, a = o.fallbackRender, l = o.FallbackComponent, c = o.fallback;
    if (i !== null) {
      var d = { error: i, resetErrorBoundary: this.resetErrorBoundary };
      if (_.isValidElement(c)) return c;
      if (typeof a == "function") return a(d);
      if (l) return _.createElement(l, d);
      throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop");
    }
    return this.props.children;
  }, n;
}(_.Component);
function jDe({ children: e, onError: t }) {
  return u.jsx(EDe, { fallback: u.jsx("div", { style: { border: "1px solid #f00", color: "#f00", padding: "8px" }, children: "An error was thrown." }), onError: t, children: e });
}
function NDe({ item: e, contentType: t, onSave: r, onCancel: n }) {
  const [s, i] = L(l()), [o, a] = L({});
  function l() {
    if (e) {
      const { id: y, created_at: v, updated_at: b, created_by: x, ...S } = e;
      return S;
    }
    return (() => {
      switch (t) {
        case "posts":
        case "pages":
          return {
            status: "draft",
            title: "",
            content: "",
            slug: "",
            author_id: void 0,
            excerpt: void 0,
            featured_image: void 0,
            tags: [],
            category_id: void 0
          };
        case "storeItems":
          return {
            status: "active",
            name: "",
            description: "",
            price: 0,
            category: "digital",
            image_url: void 0,
            stock_quantity: 0,
            sku: void 0
          };
        case "libraryItems":
          return {
            status: "draft",
            title: "",
            description: "",
            file_url: "",
            file_type: void 0,
            file_size: 0,
            category: "tutorial",
            thumbnail_url: void 0
          };
        case "characters":
          return {
            status: "draft",
            name: "",
            description: "",
            role: "",
            backstory: "",
            image_url: "",
            birth_date: void 0,
            death_date: void 0,
            species: void 0,
            occupation: void 0,
            relationships: void 0
          };
        case "timelineEvents":
          return {
            status: "draft",
            title: "",
            date: "",
            era: "ancient",
            description: "",
            is_published: !1,
            details: null,
            background_image: null,
            nested_events: []
          };
        case "betaUsers":
          return {
            status: "pending",
            name: "",
            email: "",
            message: ""
          };
        default:
          throw new Error(`Unsupported content type: ${t}`);
      }
    })();
  }
  const c = ze(() => {
    const m = e ? { ...e, ...s } : s;
    r(m);
  }, [s, e, r]), d = {
    namespace: "MyEditor",
    theme: {
      // Add your theme styles here
      // For example:
      // paragraph: 'editor-paragraph',
      // text: {
      //   bold: 'editor-text-bold',
      //   italic: 'editor-text-italic',
      // },
    },
    onError(m) {
      console.error(m);
    }
  }, f = ze((m) => (y) => {
    const v = y.target.value;
    i((b) => ({ ...b, [m]: v }));
  }, []), h = ze((m) => (y) => {
    const v = parseFloat(y.target.value);
    i((b) => ({ ...b, [m]: v }));
  }, []), p = ze((m) => (y) => {
    const v = y.target.value;
    i((b) => ({ ...b, [m]: v }));
  }, []), g = () => {
    switch (t) {
      case "posts":
      case "pages":
        const m = s;
        return u.jsxs(u.Fragment, { children: [u.jsxs("div", { children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Title" }), u.jsx("input", { type: "text", value: m.title, onChange: f("title"), className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500", placeholder: "Enter title...", required: !0 })] }), u.jsxs("div", { children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Slug" }), u.jsx("input", { type: "text", value: m.slug, onChange: (w) => i((j) => ({ ...j, slug: w.target.value })), className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500", placeholder: "my-awesome-post" }), u.jsx("p", { className: "mt-1 text-sm text-gray-500", children: "URL-friendly version of the title. e.g., 'my-awesome-post'" })] }), u.jsxs("div", { children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Content" }), u.jsx("div", { className: "editor-container", children: u.jsxs(T2e, { initialConfig: d, children: [u.jsx(dDe, { contentEditable: u.jsx(pDe, { className: "editor-input" }), placeholder: u.jsx("div", { className: "editor-placeholder", children: "Enter your content..." }), ErrorBoundary: jDe }), u.jsx(_De, {}), u.jsx(SDe, {})] }) })] })] });
      case "storeItems":
        const y = s;
        return u.jsxs(u.Fragment, { children: [u.jsxs("div", { children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Product Name" }), u.jsx("input", { type: "text", value: y.name, onChange: f("name"), className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500", placeholder: "Product name..." })] }), u.jsxs("div", { children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Price" }), u.jsx("input", { type: "number", step: "0.01", value: y.price, onChange: h("price"), className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500", placeholder: "0.00" })] }), u.jsxs("div", { children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Category" }), u.jsxs("select", { value: y.category, onChange: p("category"), className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500", children: [u.jsx("option", { value: "digital", children: "Digital" }), u.jsx("option", { value: "physical", children: "Physical" }), u.jsx("option", { value: "subscription", children: "Subscription" })] })] }), u.jsxs("div", { children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Description" }), u.jsx("textarea", { value: y.description, onChange: f("description"), rows: 6, className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500", placeholder: "Product description..." })] })] });
      case "libraryItems":
        const v = s;
        return u.jsxs(u.Fragment, { children: [u.jsxs("div", { children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Title" }), u.jsx("input", { type: "text", value: v.title, onChange: f("title"), className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500", placeholder: "Resource title..." })] }), u.jsxs("div", { children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Category" }), u.jsxs("select", { value: v.category, onChange: p("category"), className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500", children: [u.jsx("option", { value: "tutorial", children: "Tutorial" }), u.jsx("option", { value: "resources", children: "Resources" }), u.jsx("option", { value: "template", children: "Template" }), u.jsx("option", { value: "guide", children: "Guide" })] })] }), u.jsxs("div", { children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "File URL" }), u.jsx("input", { type: "url", value: v.file_url, onChange: f("file_url"), className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500", placeholder: "https://..." })] }), u.jsxs("div", { children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Description" }), u.jsx("textarea", { value: v.description, onChange: f("description"), rows: 6, className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500", placeholder: "Resource description..." })] })] });
      case "characters":
        const b = s;
        return u.jsxs(u.Fragment, { children: [u.jsxs("div", { children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Character Name" }), u.jsx("input", { type: "text", value: b.name, onChange: f("name"), className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500", placeholder: "Character name..." })] }), u.jsxs("div", { children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Role" }), u.jsxs("select", { value: b.role, onChange: p("role"), className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500", children: [u.jsx("option", { value: "protagonist", children: "Protagonist" }), u.jsx("option", { value: "antagonist", children: "Antagonist" }), u.jsx("option", { value: "mentor", children: "Mentor" }), u.jsx("option", { value: "ally", children: "Ally" }), u.jsx("option", { value: "neutral", children: "Neutral" })] })] }), u.jsxs("div", { children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Description" }), u.jsx("textarea", { value: b.description, onChange: f("description"), rows: 4, className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500", placeholder: "Character description..." })] }), u.jsxs("div", { children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Backstory" }), u.jsx("textarea", { value: b.backstory, onChange: f("backstory"), rows: 6, className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500", placeholder: "Character backstory..." })] })] });
      case "timelineEvents":
        const x = s;
        return u.jsxs(u.Fragment, { children: [u.jsxs("div", { children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Event Title" }), u.jsx("input", { type: "text", value: x.title, onChange: f("title"), className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500", placeholder: "Event title..." })] }), u.jsxs("div", { children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Date" }), u.jsx("input", { type: "date", value: x.date, onChange: f("date"), className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" })] }), u.jsxs("div", { children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Era" }), u.jsxs("select", { value: x.era, onChange: p("era"), className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500", children: [u.jsx("option", { value: "ancient", children: "Ancient" }), u.jsx("option", { value: "medieval", children: "Medieval" }), u.jsx("option", { value: "modern", children: "Modern" }), u.jsx("option", { value: "future", children: "Future" })] })] }), u.jsxs("div", { children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Description" }), u.jsx("textarea", { value: x.description, onChange: f("description"), rows: 6, className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500", placeholder: "Event description..." })] })] });
      case "betaUsers":
        const S = s;
        return u.jsxs(u.Fragment, { children: [u.jsxs("div", { children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Name" }), u.jsx("input", { type: "text", value: S.name, onChange: f("name"), className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500", placeholder: "User name..." })] }), u.jsxs("div", { children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Email" }), u.jsx("input", { type: "email", value: S.email, onChange: f("email"), className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500", placeholder: "user@example.com" })] }), u.jsxs("div", { children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Message" }), u.jsx("textarea", { value: S.message, onChange: f("message"), rows: 4, className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500", placeholder: "User message/notes..." })] })] });
      default:
        return null;
    }
  };
  return u.jsxs("div", { className: "bg-white rounded-lg shadow-sm border p-6", children: [u.jsxs("div", { className: "flex items-center justify-between mb-6", children: [u.jsx("h2", { className: "text-2xl font-bold text-gray-900", children: e ? `Edit ${t}` : `Create New ${t}` }), u.jsx("button", { onClick: n, className: "p-2 text-gray-500 hover:text-gray-700", children: u.jsx(Ya, { className: "w-5 h-5" }) })] }), u.jsxs("div", { className: "space-y-6", children: [g(), u.jsxs("div", { children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Status" }), u.jsxs("select", { value: s.status, onChange: (m) => i({ ...s, status: m.target.value }), className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500", children: [t === "posts" && u.jsxs(u.Fragment, { children: [u.jsx("option", { value: "draft", children: "Draft" }), u.jsx("option", { value: "published", children: "Published" }), u.jsx("option", { value: "archived", children: "Archived" })] }), t === "pages" && u.jsxs(u.Fragment, { children: [u.jsx("option", { value: "draft", children: "Draft" }), u.jsx("option", { value: "published", children: "Published" })] }), t === "storeItems" && u.jsxs(u.Fragment, { children: [u.jsx("option", { value: "active", children: "Active" }), u.jsx("option", { value: "inactive", children: "Inactive" })] }), t === "libraryItems" && u.jsxs(u.Fragment, { children: [u.jsx("option", { value: "draft", children: "Draft" }), u.jsx("option", { value: "published", children: "Published" })] }), t === "characters" && u.jsxs(u.Fragment, { children: [u.jsx("option", { value: "draft", children: "Draft" }), u.jsx("option", { value: "published", children: "Published" })] }), t === "timelineEvents" && u.jsxs(u.Fragment, { children: [u.jsx("option", { value: "draft", children: "Draft" }), u.jsx("option", { value: "published", children: "Published" })] }), t === "betaUsers" && u.jsxs(u.Fragment, { children: [u.jsx("option", { value: "pending", children: "Pending" }), u.jsx("option", { value: "active", children: "Active" }), u.jsx("option", { value: "inactive", children: "Inactive" })] })] })] }), u.jsxs("div", { className: "flex gap-3 pt-4", children: [u.jsxs("button", { type: "button", onClick: c, className: "flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors", children: [u.jsx(YS, { className: "w-4 h-4" }), "Save"] }), u.jsx("button", { type: "button", onClick: n, className: "flex items-center gap-2 bg-gray-200 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-300 transition-colors", children: "Cancel" })] })] })] });
}
const kDe = ({ contentType: e, items: t, title: r, columns: n, createActionLabel: s, onEdit: i, onDelete: o, onCreateNew: a }) => {
  const [l, c] = L(""), [d, f] = L("all"), h = t.filter((p) => {
    const g = Object.values(p).some((y) => y && y.toString().toLowerCase().includes(l.toLowerCase())), m = d === "all" || p.status === d;
    return g && m;
  });
  return u.jsxs("div", { className: "space-y-6", children: [u.jsxs("div", { className: "flex items-center justify-between", children: [u.jsx("h1", { className: "text-3xl font-bold text-gray-900", children: r }), u.jsxs("button", { onClick: a, className: "flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors", children: [u.jsx(Gi, { className: "w-4 h-4" }), s] })] }), u.jsx("div", { className: "bg-white p-4 rounded-lg shadow-sm border", children: u.jsxs("div", { className: "flex gap-4", children: [u.jsx("div", { className: "flex-1", children: u.jsxs("div", { className: "relative", children: [u.jsx(xc, { className: "w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400" }), u.jsx("input", { type: "text", value: l, onChange: (p) => c(p.target.value), placeholder: `Search ${r.toLowerCase()}...`, className: "w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" })] }) }), u.jsxs("select", { value: d, onChange: (p) => f(p.target.value), className: "px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500", children: [u.jsx("option", { value: "all", children: "All Status" }), u.jsx("option", { value: "published", children: "Published" }), u.jsx("option", { value: "draft", children: "Draft" }), u.jsx("option", { value: "active", children: "Active" }), u.jsx("option", { value: "inactive", children: "Inactive" }), u.jsx("option", { value: "pending", children: "Pending" })] })] }) }), u.jsx("div", { className: "bg-white rounded-lg shadow-sm border overflow-hidden", children: u.jsxs("table", { className: "w-full", children: [u.jsx("thead", { className: "bg-gray-50 border-b border-gray-200", children: u.jsxs("tr", { children: [n.map((p) => u.jsx("th", { className: "text-left py-3 px-6 text-sm font-medium text-gray-900", children: p.label }, p.key)), u.jsx("th", { className: "text-right py-3 px-6 text-sm font-medium text-gray-900", children: "Actions" })] }) }), u.jsx("tbody", { children: h.map((p) => u.jsxs("tr", { className: "border-b border-gray-200 hover:bg-gray-50", children: [n.map((g) => u.jsx("td", { className: "py-4 px-6", children: g.render ? g.render(p) : u.jsx("div", { className: g.key === n[0].key ? "font-medium text-gray-900" : "text-sm text-gray-500", children: p[g.key] }) }, g.key)), u.jsx("td", { className: "py-4 px-6", children: u.jsxs("div", { className: "flex items-center justify-end gap-2", children: [u.jsx("button", { onClick: () => i(p), className: "p-1 text-gray-500 hover:text-blue-600", children: u.jsx(gv, { className: "w-4 h-4" }) }), u.jsx("button", { className: "p-1 text-gray-500 hover:text-green-600", children: u.jsx(np, { className: "w-4 h-4" }) }), u.jsx("button", { onClick: () => o(p.id), className: "p-1 text-gray-500 hover:text-red-600", children: u.jsx(wc, { className: "w-4 h-4" }) })] }) })] }, p.id)) })] }) })] });
}, CDe = async () => {
  const { data: e, error: t } = await he.from("pages").select("*");
  if (t)
    throw new Error(t.message);
  return e;
}, TDe = async (e) => {
  const { data: t, error: r } = await he.from("pages").insert(e).select();
  if (r)
    throw new Error(r.message);
  return t[0];
}, ADe = async (e) => {
  const { data: t, error: r } = await he.from("pages").update(e).eq("id", e.id).select();
  if (r)
    throw new Error(r.message);
  return t[0];
}, PDe = async (e) => {
  const { error: t } = await he.from("pages").delete().eq("id", e);
  if (t)
    throw new Error(t.message);
}, vRe = () => {
  const e = ea(), [t, r] = L(!1), [n, s] = L(null), { data: i, isLoading: o, isError: a, error: l } = br({ queryKey: ["pages"], queryFn: CDe }), c = ir({
    mutationFn: TDe,
    onSuccess: () => {
      e.invalidateQueries({ queryKey: ["pages"] }), r(!1), s(null);
    }
  }), d = ir({
    mutationFn: ADe,
    onSuccess: () => {
      e.invalidateQueries({ queryKey: ["pages"] }), r(!1), s(null);
    }
  }), f = ir({
    mutationFn: PDe,
    onSuccess: () => {
      e.invalidateQueries({ queryKey: ["pages"] });
    }
  }), h = (m) => {
    n ? d.mutate(m) : c.mutate(m);
  }, p = (m) => {
    window.confirm("Are you sure you want to delete this page?") && f.mutate(m);
  }, g = [
    { key: "title", label: "Page Title" },
    { key: "slug", label: "URL Slug" },
    {
      key: "status",
      label: "Status",
      render: (m) => u.jsx("span", { className: `inline-flex px-2 py-1 text-xs font-semibold rounded-full ${m.status === "published" ? "bg-green-100 text-green-800" : m.status === "draft" ? "bg-yellow-100 text-yellow-800" : "bg-gray-100 text-gray-800"}`, children: m.status })
    },
    { key: "created_at", label: "Created At", render: (m) => new Date(m.created_at).toLocaleDateString() },
    { key: "updated_at", label: "Last Updated", render: (m) => new Date(m.updated_at).toLocaleDateString() }
  ];
  return o ? u.jsx("div", { children: "Loading pages..." }) : a ? u.jsxs("div", { children: ["Error loading pages: ", l == null ? void 0 : l.message] }) : u.jsx("div", { className: "space-y-6", children: t ? u.jsx(NDe, { item: n, contentType: "pages", onSave: h, onCancel: () => {
    r(!1), s(null);
  } }) : u.jsx(kDe, { contentType: "pages", items: i || [], title: "Website Pages", columns: g, createActionLabel: "New Page", onEdit: (m) => {
    s(m), r(!0);
  }, onDelete: p, onCreateNew: () => {
    s(null), r(!0);
  } }) });
}, ODe = async () => {
  const { data: e, error: t } = await he.from("characters").select("*").order("created_at", { ascending: !0 });
  if (t)
    throw new Error(t.message);
  return e;
}, DDe = async (e) => {
  const { data: t, error: r } = await he.from("characters").insert(e).select();
  if (r)
    throw new Error(r.message);
  return t[0];
}, $De = async (e) => {
  const { id: t, ...r } = e, { data: n, error: s } = await he.from("characters").update(r).eq("id", t).select();
  if (s)
    throw new Error(s.message);
  return n[0];
}, RDe = async (e) => {
  const { error: t } = await he.from("characters").delete().eq("id", e);
  if (t)
    throw new Error(t.message);
}, IDe = ({ character: e, onSave: t, onCancel: r }) => {
  const [n, s] = L({
    name: (e == null ? void 0 : e.name) || "",
    title: (e == null ? void 0 : e.title) || "",
    description: (e == null ? void 0 : e.description) || "",
    traits: (e == null ? void 0 : e.traits.join(", ")) || "",
    image_url: (e == null ? void 0 : e.image_url) || "",
    silhouette_url: (e == null ? void 0 : e.silhouette_url) || ""
  }), i = () => {
    const o = {
      ...n,
      traits: n.traits.split(",").map((a) => a.trim()).filter((a) => a !== "")
    };
    t({ ...e, ...o, id: e == null ? void 0 : e.id });
  };
  return u.jsxs("div", { className: "bg-white rounded-lg shadow-sm border p-6 mb-6", children: [u.jsx("h2", { className: "text-2xl font-bold text-gray-900 mb-4", children: e ? "Edit Character" : "Create New Character" }), u.jsxs("form", { onSubmit: (o) => {
    o.preventDefault(), i();
  }, children: [u.jsxs("div", { className: "mb-4", children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Name" }), u.jsx("input", { type: "text", value: n.name, onChange: (o) => s({ ...n, name: o.target.value }), className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500", required: !0 })] }), u.jsxs("div", { className: "mb-4", children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Title" }), u.jsx("input", { type: "text", value: n.title, onChange: (o) => s({ ...n, title: o.target.value }), className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" })] }), u.jsxs("div", { className: "mb-4", children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Description" }), u.jsx("textarea", { value: n.description, onChange: (o) => s({ ...n, description: o.target.value }), className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 h-32" })] }), u.jsxs("div", { className: "mb-4", children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Traits (comma-separated)" }), u.jsx("input", { type: "text", value: n.traits, onChange: (o) => s({ ...n, traits: o.target.value }), className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" })] }), u.jsxs("div", { className: "mb-4", children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Image URL" }), u.jsx("input", { type: "url", value: n.image_url, onChange: (o) => s({ ...n, image_url: o.target.value }), className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" })] }), u.jsxs("div", { className: "mb-4", children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Silhouette URL (Optional)" }), u.jsx("input", { type: "url", value: n.silhouette_url, onChange: (o) => s({ ...n, silhouette_url: o.target.value }), className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" })] }), u.jsxs("div", { className: "flex gap-3", children: [u.jsx("button", { type: "submit", className: "bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors", children: "Save Character" }), u.jsx("button", { type: "button", onClick: r, className: "bg-gray-200 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-300 transition-colors", children: "Cancel" })] })] })] });
}, bRe = () => {
  const e = ea(), [t, r] = L(!1), [n, s] = L(null), [i, o] = L(""), { data: a, isLoading: l, isError: c, error: d } = br({ queryKey: ["characters"], queryFn: ODe }), f = ir({
    mutationFn: DDe,
    onSuccess: () => {
      e.invalidateQueries({ queryKey: ["characters"] }), r(!1), s(null);
    }
  }), h = ir({
    mutationFn: $De,
    onSuccess: () => {
      e.invalidateQueries({ queryKey: ["characters"] }), r(!1), s(null);
    }
  }), p = ir({
    mutationFn: RDe,
    onSuccess: () => {
      e.invalidateQueries({ queryKey: ["characters"] });
    }
  }), g = (v) => {
    n ? h.mutate(v) : f.mutate(v);
  }, m = (v) => {
    window.confirm("Are you sure you want to delete this character?") && p.mutate(v);
  }, y = (a == null ? void 0 : a.filter((v) => v.name.toLowerCase().includes(i.toLowerCase()))) || [];
  return l ? u.jsx("div", { children: "Loading characters..." }) : c ? u.jsxs("div", { children: ["Error loading characters: ", d == null ? void 0 : d.message] }) : u.jsx("div", { className: "space-y-6", children: t ? u.jsx(IDe, { character: n, onSave: g, onCancel: () => {
    r(!1), s(null);
  } }) : u.jsxs(u.Fragment, { children: [u.jsxs("div", { className: "flex items-center justify-between", children: [u.jsx("h1", { className: "text-3xl font-bold text-gray-900", children: "Characters" }), u.jsxs("button", { onClick: () => {
    s(null), r(!0);
  }, className: "flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors", children: [u.jsx(Gi, { className: "w-4 h-4" }), "New Character"] })] }), u.jsx("div", { className: "bg-white p-4 rounded-lg shadow-sm border mb-6", children: u.jsxs("div", { className: "relative", children: [u.jsx(xc, { className: "w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400" }), u.jsx("input", { type: "text", value: i, onChange: (v) => o(v.target.value), placeholder: "Search characters...", className: "w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" })] }) }), u.jsx("div", { className: "bg-white rounded-lg shadow-sm border overflow-hidden", children: u.jsxs("table", { className: "w-full", children: [u.jsx("thead", { className: "bg-gray-50 border-b border-gray-200", children: u.jsxs("tr", { children: [u.jsx("th", { className: "text-left py-3 px-6 text-sm font-medium text-gray-900", children: "Name" }), u.jsx("th", { className: "text-left py-3 px-6 text-sm font-medium text-gray-900", children: "Title" }), u.jsx("th", { className: "text-left py-3 px-6 text-sm font-medium text-gray-900", children: "Traits" }), u.jsx("th", { className: "text-right py-3 px-6 text-sm font-medium text-gray-900", children: "Actions" })] }) }), u.jsx("tbody", { children: y.map((v) => u.jsxs("tr", { className: "border-b border-gray-200 hover:bg-gray-50", children: [u.jsx("td", { className: "py-4 px-6", children: u.jsx("div", { className: "font-medium text-gray-900", children: v.name }) }), u.jsx("td", { className: "py-4 px-6 text-sm text-gray-500", children: v.title }), u.jsx("td", { className: "py-4 px-6 text-sm text-gray-500", children: v.traits.join(", ") }), u.jsx("td", { className: "py-4 px-6", children: u.jsxs("div", { className: "flex items-center justify-end gap-2", children: [u.jsx("button", { onClick: () => {
    s(v), r(!0);
  }, className: "p-1 text-gray-500 hover:text-blue-600", children: u.jsx(gv, { className: "w-4 h-4" }) }), u.jsx("button", { onClick: () => m(v.id), className: "p-1 text-gray-500 hover:text-red-600", children: u.jsx(wc, { className: "w-4 h-4" }) })] }) })] }, v.id)) })] }) })] }) });
}, MDe = async () => {
  const { data: e, error: t } = await he.from("works").select("*").order("created_at", { ascending: !0 });
  if (t)
    throw new Error(t.message);
  return e;
}, LDe = async (e) => {
  const { data: t, error: r } = await he.from("works").insert(e).select();
  if (r)
    throw new Error(r.message);
  return t[0];
}, FDe = async (e) => {
  const { id: t, ...r } = e, { data: n, error: s } = await he.from("works").update(r).eq("id", t).select();
  if (s)
    throw new Error(s.message);
  return n[0];
}, BDe = async (e) => {
  const { error: t } = await he.from("works").delete().eq("id", e);
  if (t)
    throw new Error(t.message);
}, zDe = ({ work: e, onSave: t, onCancel: r, allWorks: n }) => {
  const [s, i] = L({
    title: (e == null ? void 0 : e.title) || "",
    type: (e == null ? void 0 : e.type) || "book",
    parent_id: (e == null ? void 0 : e.parent_id) || "",
    order_in_parent: (e == null ? void 0 : e.order_in_parent) || "",
    description: (e == null ? void 0 : e.description) || "",
    status: (e == null ? void 0 : e.status) || "planning",
    progress_percentage: (e == null ? void 0 : e.progress_percentage) || 0,
    release_date: (e == null ? void 0 : e.release_date) || "",
    estimated_release: (e == null ? void 0 : e.estimated_release) || "",
    cover_image_url: (e == null ? void 0 : e.cover_image_url) || "",
    sample_content: (e == null ? void 0 : e.sample_content) || "",
    is_purchasable: (e == null ? void 0 : e.is_purchasable) ?? !0,
    is_featured: (e == null ? void 0 : e.is_featured) ?? !1,
    word_count: (e == null ? void 0 : e.word_count) || "",
    target_word_count: (e == null ? void 0 : e.target_word_count) || ""
  }), o = () => {
    t({
      ...e,
      ...s,
      parent_id: s.parent_id === "" ? null : s.parent_id,
      // Convert empty string to null for UUID
      order_in_parent: s.order_in_parent ? Number(s.order_in_parent) : void 0,
      progress_percentage: s.progress_percentage ? Number(s.progress_percentage) : void 0,
      word_count: s.word_count ? Number(s.word_count) : void 0,
      target_word_count: s.target_word_count ? Number(s.target_word_count) : void 0,
      id: e == null ? void 0 : e.id
      // Ensure ID is passed for updates
    });
  }, a = n.filter((l) => l.id !== (e == null ? void 0 : e.id));
  return u.jsxs("div", { className: "bg-white rounded-lg shadow-sm border p-6 mb-6", children: [u.jsx("h2", { className: "text-2xl font-bold text-gray-900 mb-4", children: e ? "Edit Work" : "Create New Work" }), u.jsxs("form", { onSubmit: (l) => {
    l.preventDefault(), o();
  }, children: [u.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4 mb-4", children: [u.jsxs("div", { children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Title" }), u.jsx("input", { type: "text", value: s.title, onChange: (l) => i({ ...s, title: l.target.value }), className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500", required: !0 })] }), u.jsxs("div", { children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Type" }), u.jsxs("select", { value: s.type, onChange: (l) => i({ ...s, type: l.target.value }), className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500", required: !0, children: [u.jsx("option", { value: "book", children: "Book" }), u.jsx("option", { value: "volume", children: "Volume" }), u.jsx("option", { value: "saga", children: "Saga" }), u.jsx("option", { value: "arc", children: "Arc" }), u.jsx("option", { value: "issue", children: "Issue" })] })] })] }), u.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4 mb-4", children: [u.jsxs("div", { children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Parent Work (for nesting)" }), u.jsxs("select", { value: s.parent_id, onChange: (l) => i({ ...s, parent_id: l.target.value }), className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500", children: [u.jsx("option", { value: "", children: "None" }), a.map((l) => u.jsxs("option", { value: l.id, children: [l.title, " (", l.type, ")"] }, l.id))] })] }), u.jsxs("div", { children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Order in Parent" }), u.jsx("input", { type: "number", value: s.order_in_parent, onChange: (l) => i({ ...s, order_in_parent: l.target.value }), className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" })] })] }), u.jsxs("div", { className: "mb-4", children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Description" }), u.jsx("textarea", { value: s.description, onChange: (l) => i({ ...s, description: l.target.value }), className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 h-32" })] }), u.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4 mb-4", children: [u.jsxs("div", { children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Status" }), u.jsxs("select", { value: s.status, onChange: (l) => i({ ...s, status: l.target.value }), className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500", required: !0, children: [u.jsx("option", { value: "planning", children: "Planning" }), u.jsx("option", { value: "writing", children: "Writing" }), u.jsx("option", { value: "editing", children: "Editing" }), u.jsx("option", { value: "published", children: "Published" }), u.jsx("option", { value: "on_hold", children: "On Hold" })] })] }), u.jsxs("div", { children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Progress Percentage (0-100)" }), u.jsx("input", { type: "number", value: s.progress_percentage, onChange: (l) => i({ ...s, progress_percentage: l.target.value }), className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500", min: "0", max: "100" })] })] }), u.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4 mb-4", children: [u.jsxs("div", { children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Release Date" }), u.jsx("input", { type: "date", value: s.release_date, onChange: (l) => i({ ...s, release_date: l.target.value }), className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" })] }), u.jsxs("div", { children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Estimated Release (e.g., Q2 2024)" }), u.jsx("input", { type: "text", value: s.estimated_release, onChange: (l) => i({ ...s, estimated_release: l.target.value }), className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" })] })] }), u.jsxs("div", { className: "mb-4", children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Cover Image URL" }), u.jsx("input", { type: "url", value: s.cover_image_url, onChange: (l) => i({ ...s, cover_image_url: l.target.value }), className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" })] }), u.jsxs("div", { className: "mb-4", children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Sample Content" }), u.jsx("textarea", { value: s.sample_content, onChange: (l) => i({ ...s, sample_content: l.target.value }), className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 h-48" })] }), u.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4 mb-4", children: [u.jsxs("div", { children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Word Count" }), u.jsx("input", { type: "number", value: s.word_count, onChange: (l) => i({ ...s, word_count: l.target.value }), className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" })] }), u.jsxs("div", { children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Target Word Count" }), u.jsx("input", { type: "number", value: s.target_word_count, onChange: (l) => i({ ...s, target_word_count: l.target.value }), className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" })] })] }), u.jsxs("div", { className: "mb-4 flex items-center", children: [u.jsx("input", { type: "checkbox", id: "isPurchasable", checked: s.is_purchasable, onChange: (l) => i({ ...s, is_purchasable: l.target.checked }), className: "mr-2" }), u.jsx("label", { htmlFor: "isPurchasable", className: "text-sm font-medium text-gray-700", children: "Is Purchasable" })] }), u.jsxs("div", { className: "mb-4 flex items-center", children: [u.jsx("input", { type: "checkbox", id: "isFeatured", checked: s.is_featured, onChange: (l) => i({ ...s, is_featured: l.target.checked }), className: "mr-2" }), u.jsx("label", { htmlFor: "isFeatured", className: "text-sm font-medium text-gray-700", children: "Is Featured" })] }), u.jsxs("div", { className: "flex gap-3", children: [u.jsx("button", { type: "submit", className: "bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors", children: "Save Work" }), u.jsx("button", { type: "button", onClick: r, className: "bg-gray-200 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-300 transition-colors", children: "Cancel" })] })] })] });
}, xRe = () => {
  const e = ea(), [t, r] = L(!1), [n, s] = L(null), [i, o] = L(""), [a, l] = L("all"), [c, d] = L("all"), { data: f, isLoading: h, isError: p, error: g } = br({ queryKey: ["works"], queryFn: MDe }), m = ir({
    mutationFn: LDe,
    onSuccess: () => {
      e.invalidateQueries({ queryKey: ["works"] }), r(!1), s(null);
    },
    onError: (w) => {
      alert(`Error creating work: ${w.message}`);
    }
  }), y = ir({
    mutationFn: FDe,
    onSuccess: () => {
      e.invalidateQueries({ queryKey: ["works"] }), r(!1), s(null);
    },
    onError: (w) => {
      alert(`Error updating work: ${w.message}`);
    }
  }), v = ir({
    mutationFn: BDe,
    onSuccess: () => {
      e.invalidateQueries({ queryKey: ["works"] });
    }
  }), b = (w) => {
    n ? y.mutate(w) : m.mutate(w);
  }, x = (w) => {
    window.confirm("Are you sure you want to delete this work?") && v.mutate(w);
  }, S = (f == null ? void 0 : f.filter((w) => {
    const j = w.title.toLowerCase().includes(i.toLowerCase()), N = a === "all" || w.type === a, k = c === "all" || w.status === c;
    return j && N && k;
  })) || [];
  return h ? u.jsx("div", { children: "Loading works..." }) : p ? u.jsxs("div", { children: ["Error loading works: ", g == null ? void 0 : g.message] }) : u.jsx("div", { className: "space-y-6", children: t ? u.jsx(zDe, { work: n, onSave: b, onCancel: () => {
    r(!1), s(null);
  }, allWorks: f || [] }) : u.jsxs(u.Fragment, { children: [u.jsxs("div", { className: "flex items-center justify-between", children: [u.jsx("h1", { className: "text-3xl font-bold text-gray-900", children: "Works Management" }), u.jsxs("button", { onClick: () => {
    s(null), r(!0);
  }, className: "flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors", children: [u.jsx(Gi, { className: "w-4 h-4" }), "New Work"] })] }), u.jsx("div", { className: "bg-white p-4 rounded-lg shadow-sm border mb-6", children: u.jsxs("div", { className: "flex gap-4", children: [u.jsxs("div", { className: "relative flex-1", children: [u.jsx(xc, { className: "w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400" }), u.jsx("input", { type: "text", value: i, onChange: (w) => o(w.target.value), placeholder: "Search works...", className: "w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" })] }), u.jsxs("select", { value: a, onChange: (w) => l(w.target.value), className: "px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500", children: [u.jsx("option", { value: "all", children: "All Types" }), u.jsx("option", { value: "book", children: "Book" }), u.jsx("option", { value: "volume", children: "Volume" }), u.jsx("option", { value: "saga", children: "Saga" }), u.jsx("option", { value: "arc", children: "Arc" }), u.jsx("option", { value: "issue", children: "Issue" })] }), u.jsxs("select", { value: c, onChange: (w) => d(w.target.value), className: "px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500", children: [u.jsx("option", { value: "all", children: "All Status" }), u.jsx("option", { value: "planning", children: "Planning" }), u.jsx("option", { value: "writing", children: "Writing" }), u.jsx("option", { value: "editing", children: "Editing" }), u.jsx("option", { value: "published", children: "Published" }), u.jsx("option", { value: "on_hold", children: "On Hold" })] })] }) }), u.jsx("div", { className: "bg-white rounded-lg shadow-sm border overflow-hidden", children: u.jsxs("table", { className: "w-full", children: [u.jsx("thead", { className: "bg-gray-50 border-b border-gray-200", children: u.jsxs("tr", { children: [u.jsx("th", { className: "text-left py-3 px-6 text-sm font-medium text-gray-900", children: "Title" }), u.jsx("th", { className: "text-left py-3 px-6 text-sm font-medium text-gray-900", children: "Type" }), u.jsx("th", { className: "text-left py-3 px-6 text-sm font-medium text-gray-900", children: "Status" }), u.jsx("th", { className: "text-left py-3 px-6 text-sm font-medium text-gray-900", children: "Parent" }), u.jsx("th", { className: "text-left py-3 px-6 text-sm font-medium text-gray-900", children: "Release Date" }), u.jsx("th", { className: "text-right py-3 px-6 text-sm font-medium text-gray-900", children: "Actions" })] }) }), u.jsx("tbody", { children: S.map((w) => {
    var j;
    return u.jsxs("tr", { className: "border-b border-gray-200 hover:bg-gray-50", children: [u.jsx("td", { className: "py-4 px-6", children: u.jsx("div", { className: "font-medium text-gray-900", children: w.title }) }), u.jsx("td", { className: "py-4 px-6 text-sm text-gray-500", children: w.type }), u.jsx("td", { className: "py-4 px-6", children: u.jsx("span", { className: `inline-flex px-2 py-1 text-xs font-semibold rounded-full ${w.status === "published" ? "bg-green-100 text-green-800" : w.status === "planning" ? "bg-blue-100 text-blue-800" : w.status === "writing" ? "bg-yellow-100 text-yellow-800" : w.status === "editing" ? "bg-purple-100 text-purple-800" : "bg-gray-100 text-gray-800"}`, children: w.status }) }), u.jsx("td", { className: "py-4 px-6 text-sm text-gray-500", children: ((j = f == null ? void 0 : f.find((N) => N.id === w.parent_id)) == null ? void 0 : j.title) || "N/A" }), u.jsx("td", { className: "py-4 px-6 text-sm text-gray-500", children: w.release_date || w.estimated_release || "N/A" }), u.jsx("td", { className: "py-4 px-6", children: u.jsxs("div", { className: "flex items-center justify-end gap-2", children: [u.jsx("button", { onClick: () => {
      s(w), r(!0);
    }, className: "p-1 text-gray-500 hover:text-blue-600", children: u.jsx(gv, { className: "w-4 h-4" }) }), u.jsx("button", { onClick: () => x(w.id), className: "p-1 text-gray-500 hover:text-red-600", children: u.jsx(wc, { className: "w-4 h-4" }) })] }) })] }, w.id);
  }) })] }) })] }) });
}, wRe = () => {
  const [e, t] = L(""), [r, n] = L("chapter"), [s, i] = L(""), [o, a] = L(""), [l, c] = L(""), [d, f] = L(null), [h, p] = L(null), [g, m] = L(null), [y, v] = L(""), [b, x] = L(""), [S, w] = L(!1), [j, N] = L([]), [k, C] = L(!0), [$, I] = L(null), [M, O] = L(!1), [z, U] = L(null), [G, q] = L(""), [Z, ie] = L(!1), [D, B] = L(""), [X, oe] = L(""), W = async () => {
    C(!0), I(null);
    try {
      const { data: { session: V } } = await he.auth.getSession();
      if (!V) {
        I("User not authenticated."), C(!1);
        return;
      }
      const H = await fetch("/api/admin/users", {
        headers: {
          Authorization: `Bearer ${V.access_token}`
        }
      });
      if (!H.ok) {
        const P = await H.json();
        throw new Error(P.error || "Failed to fetch users.");
      }
      const se = await H.json();
      N(se.users);
    } catch (V) {
      console.error("Error fetching users:", V instanceof Error ? V.message : V), I("Failed to load users: " + (V instanceof Error ? V.message : "Unknown error"));
    } finally {
      C(!1);
    }
  };
  ve(() => {
    W();
  }, []);
  const K = async (V) => {
    V.preventDefault(), v(""), x(""), w(!0);
    const H = new FormData();
    H.append("title", e), H.append("type", r), H.append("description", s), H.append("release_date", o), H.append("cover_image_url", l), d && H.append("epub_file", d), h && H.append("pdf_file", h), g && H.append("mobi_file", g);
    try {
      const se = "YOUR_ADMIN_USER_ID";
      if (se === "YOUR_ADMIN_USER_ID") {
        x("Please replace 'YOUR_ADMIN_USER_ID' with an actual admin user's ID in AdminUploadPage.jsx"), w(!1);
        return;
      }
      const P = await fetch("http://localhost:3001/api/admin/works", {
        method: "POST",
        headers: {
          "x-user-id": se
          // Pass user ID for admin authorization middleware
          // If you implement JWT, you'd add: 'Authorization': `Bearer ${yourAuthToken}`
        },
        body: H
      }), be = await P.json();
      P.ok ? (v("Work uploaded successfully!"), t(""), n("chapter"), i(""), a(""), c(""), f(null), p(null), m(null), document.getElementById("epubFileInput").value = "", document.getElementById("pdfFileInput").value = "", document.getElementById("mobiFileInput").value = "") : x(be.message || "Failed to upload work.");
    } catch (se) {
      console.error("Error uploading work:", se), x("An error occurred while uploading the work. Check console for details.");
    } finally {
      w(!1);
    }
  }, ee = (V) => {
    U(V);
    const H = V.subscriptions.find((se) => se.status === "active" || se.status === "trialing");
    H ? (q(H.subscription_type), ie(H.status === "active" || H.status === "trialing"), B(H.start_date ? H.start_date.split("T")[0] : ""), oe(H.current_period_end ? H.current_period_end.split("T")[0] : "")) : (q(""), ie(!1), B((/* @__PURE__ */ new Date()).toISOString().split("T")[0]), oe("")), O(!0);
  }, te = () => {
    O(!1), U(null);
  }, ue = async (V) => {
    if (V.preventDefault(), !!z)
      try {
        const { data: { session: H } } = await he.auth.getSession();
        if (!H) {
          alert("You must be logged in to manage subscriptions.");
          return;
        }
        const se = await fetch(`/api/admin/users/${z.id}/subscription`, {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            Authorization: `Bearer ${H.access_token}`
          },
          body: JSON.stringify({
            subscription_type: G,
            status: Z ? "active" : "canceled",
            // Map boolean isActive to status string
            start_date: D,
            current_period_end: X || null
          })
        });
        if (!se.ok) {
          const P = await se.json();
          throw new Error(P.error || "Failed to update subscription.");
        }
        alert("Subscription updated successfully!"), te(), W();
      } catch (H) {
        console.error("Error updating subscription:", H instanceof Error ? H.message : H), alert("Error updating subscription: " + (H instanceof Error ? H.message : "Unknown error"));
      }
  };
  return u.jsxs("div", { style: { padding: "20px", maxWidth: "1200px", margin: "auto", fontFamily: "Arial, sans-serif" }, children: [u.jsx("h1", { style: { textAlign: "center", marginBottom: "30px" }, children: "Admin Dashboard" }), u.jsxs("div", { style: { marginBottom: "50px", border: "1px solid #ccc", padding: "20px", borderRadius: "8px" }, children: [u.jsx("h2", { children: "Upload New Work (Chapter/Issue)" }), y && u.jsx("p", { style: { color: "green", fontWeight: "bold" }, children: y }), b && u.jsx("p", { style: { color: "red", fontWeight: "bold" }, children: b }), u.jsxs("form", { onSubmit: K, style: { display: "flex", flexDirection: "column", gap: "15px" }, children: [u.jsxs("div", { children: [u.jsx("label", { style: { display: "block", marginBottom: "5px" }, children: "Title:" }), u.jsx("input", { type: "text", value: e, onChange: (V) => t(V.target.value), required: !0, style: { width: "100%", padding: "8px", boxSizing: "border-box" } })] }), u.jsxs("div", { children: [u.jsx("label", { style: { display: "block", marginBottom: "5px" }, children: "Type:" }), u.jsxs("select", { value: r, onChange: (V) => n(V.target.value), style: { width: "100%", padding: "8px", boxSizing: "border-box" }, children: [u.jsx("option", { value: "chapter", children: "Chapter" }), u.jsx("option", { value: "issue", children: "Issue" }), u.jsx("option", { value: "book", children: "Book" }), u.jsx("option", { value: "volume", children: "Volume" }), u.jsx("option", { value: "saga", children: "Saga" }), u.jsx("option", { value: "arc", children: "Arc" })] })] }), u.jsxs("div", { children: [u.jsx("label", { style: { display: "block", marginBottom: "5px" }, children: "Description:" }), u.jsx("textarea", { value: s, onChange: (V) => i(V.target.value), style: { width: "100%", padding: "8px", boxSizing: "border-box", minHeight: "80px" } })] }), u.jsxs("div", { children: [u.jsx("label", { style: { display: "block", marginBottom: "5px" }, children: "Release Date:" }), u.jsx("input", { type: "date", value: o, onChange: (V) => a(V.target.value), style: { width: "100%", padding: "8px", boxSizing: "border-box" } })] }), u.jsxs("div", { children: [u.jsx("label", { style: { display: "block", marginBottom: "5px" }, children: "Cover Image URL:" }), u.jsx("input", { type: "text", value: l, onChange: (V) => c(V.target.value), placeholder: "e.g., https://example.com/cover.jpg", style: { width: "100%", padding: "8px", boxSizing: "border-box" } })] }), u.jsxs("div", { children: [u.jsx("label", { style: { display: "block", marginBottom: "5px" }, children: "EPUB File:" }), u.jsx("input", { type: "file", id: "epubFileInput", onChange: (V) => f(V.target.files[0]), accept: ".epub", style: { width: "100%", padding: "8px", boxSizing: "border-box" } })] }), u.jsxs("div", { children: [u.jsx("label", { style: { display: "block", marginBottom: "5px" }, children: "PDF File:" }), u.jsx("input", { type: "file", id: "pdfFileInput", onChange: (V) => p(V.target.files[0]), accept: ".pdf", style: { width: "100%", padding: "8px", boxSizing: "border-box" } })] }), u.jsxs("div", { children: [u.jsx("label", { style: { display: "block", marginBottom: "5px" }, children: "MOBI File:" }), u.jsx("input", { type: "file", id: "mobiFileInput", onChange: (V) => m(V.target.files[0]), accept: ".mobi", style: { width: "100%", padding: "8px", boxSizing: "border-box" } })] }), u.jsx("button", { type: "submit", disabled: S, style: {
    padding: "10px 20px",
    backgroundColor: "#007bff",
    color: "white",
    border: "none",
    borderRadius: "5px",
    cursor: S ? "not-allowed" : "pointer",
    fontSize: "16px"
  }, children: S ? "Uploading..." : "Upload Work" })] })] }), u.jsxs("div", { style: { border: "1px solid #ccc", padding: "20px", borderRadius: "8px" }, children: [u.jsx("h2", { children: "User Management" }), k && u.jsx("p", { children: "Loading users..." }), $ && u.jsx("p", { style: { color: "red" }, children: $ }), !k && !$ && u.jsxs("table", { style: { width: "100%", borderCollapse: "collapse", marginTop: "20px" }, children: [u.jsx("thead", { children: u.jsxs("tr", { style: { backgroundColor: "#f2f2f2" }, children: [u.jsx("th", { style: { border: "1px solid #ddd", padding: "8px", textAlign: "left" }, children: "Email" }), u.jsx("th", { style: { border: "1px solid #ddd", padding: "8px", textAlign: "left" }, children: "Display Name" }), u.jsx("th", { style: { border: "1px solid #ddd", padding: "8px", textAlign: "left" }, children: "Role" }), u.jsx("th", { style: { border: "1px solid #ddd", padding: "8px", textAlign: "left" }, children: "Subscription Status" }), u.jsx("th", { style: { border: "1px solid #ddd", padding: "8px", textAlign: "left" }, children: "Actions" })] }) }), u.jsx("tbody", { children: j.map((V) => {
    var H, se;
    return u.jsxs("tr", { children: [u.jsx("td", { style: { border: "1px solid #ddd", padding: "8px" }, children: V.email }), u.jsx("td", { style: { border: "1px solid #ddd", padding: "8px" }, children: ((H = V.profile) == null ? void 0 : H.display_name) || "N/A" }), u.jsx("td", { style: { border: "1px solid #ddd", padding: "8px" }, children: ((se = V.profile) == null ? void 0 : se.role) || "user" }), u.jsx("td", { style: { border: "1px solid #ddd", padding: "8px" }, children: V.subscriptions.length > 0 && V.subscriptions.some((P) => P.status === "active" || P.status === "trialing") ? "Active" : "Inactive" }), u.jsxs("td", { style: { border: "1px solid #ddd", padding: "8px" }, children: [u.jsx("button", { style: { marginRight: "5px", padding: "5px 10px", backgroundColor: "#28a745", color: "white", border: "none", borderRadius: "3px", cursor: "pointer" }, onClick: () => ee(V), children: "Manage Subscription" }), u.jsx("button", { style: { padding: "5px 10px", backgroundColor: "#007bff", color: "white", border: "none", borderRadius: "3px", cursor: "pointer" }, children: "Manage Entitlements" })] })] }, V.id);
  }) })] })] }), M && z && u.jsx("div", { style: { position: "fixed", top: 0, left: 0, right: 0, bottom: 0, backgroundColor: "rgba(0,0,0,0.5)", display: "flex", justifyContent: "center", alignItems: "center" }, children: u.jsxs("div", { style: { backgroundColor: "white", padding: "20px", borderRadius: "8px", width: "500px", color: "black" }, children: [u.jsxs("h3", { style: { marginBottom: "15px" }, children: ["Manage Subscription for ", z.email] }), u.jsxs("form", { onSubmit: ue, style: { display: "flex", flexDirection: "column", gap: "10px" }, children: [u.jsxs("div", { children: [u.jsx("label", { children: "Subscription Type:" }), u.jsx("input", { type: "text", value: G, onChange: (V) => q(V.target.value), required: !0, style: { width: "100%", padding: "8px", border: "1px solid #ddd", borderRadius: "4px" } })] }), u.jsxs("div", { children: [u.jsx("label", { children: "Is Active:" }), u.jsx("input", { type: "checkbox", checked: Z, onChange: (V) => ie(V.target.checked), style: { marginLeft: "10px" } })] }), u.jsxs("div", { children: [u.jsx("label", { children: "Start Date:" }), u.jsx("input", { type: "date", value: D, onChange: (V) => B(V.target.value), required: !0, style: { width: "100%", padding: "8px", border: "1px solid #ddd", borderRadius: "4px" } })] }), u.jsxs("div", { children: [u.jsx("label", { children: "End Date:" }), u.jsx("input", { type: "date", value: X, onChange: (V) => oe(V.target.value), style: { width: "100%", padding: "8px", border: "1px solid #ddd", borderRadius: "4px" } })] }), u.jsxs("div", { style: { display: "flex", justifyContent: "flex-end", gap: "10px", marginTop: "20px" }, children: [u.jsx("button", { type: "button", onClick: te, style: { padding: "8px 15px", backgroundColor: "#dc3545", color: "white", border: "none", borderRadius: "4px", cursor: "pointer" }, children: "Cancel" }), u.jsx("button", { type: "submit", style: { padding: "8px 15px", backgroundColor: "#007bff", color: "white", border: "none", borderRadius: "4px", cursor: "pointer" }, children: "Save" })] })] })] }) })] });
}, _Re = () => {
  var Ci;
  const [e, t] = L([]), [r, n] = L(!0), [s, i] = L(null), [o, a] = L(!1), [l, c] = L(!1), [d, f] = L(!1), [h, p] = L(!1), [g, m] = L(null), [y, v] = L(null), [b, x] = L(null), [S, w] = L(""), [j, N] = L("active"), [k, C] = L(""), [$, I] = L(""), [M, O] = L(""), [z, U] = L(""), [G, q] = L(!1), [Z, ie] = L(!1), [D, B] = L(""), [X, oe] = L(""), [W, K] = L(""), [ee, te] = L(""), [ue, V] = L("user"), [H, se] = L(!1), [P, be] = L(""), [ke, Ve] = L(""), [He, lt] = L(""), [Tt, Rt] = L(""), [R, Y] = L(""), [J, xe] = L("created_at"), [pe, me] = L("desc"), [je, Ue] = L(1), [Je, Zt] = L(10);
  function It(ae) {
    return !ae.subscriptions || ae.subscriptions.length === 0 ? "No Subscription" : ae.subscriptions.some((re) => re.status === "active" || re.status === "trialing") ? "Active" : "Inactive";
  }
  function Zr(ae) {
    switch (ae) {
      case "Active":
        return u.jsx(Aa, { className: "w-4 h-4 text-green-500" });
      case "Inactive":
        return u.jsx(KS, { className: "w-4 h-4 text-red-500" });
      default:
        return u.jsx(Mi, { className: "w-4 h-4 text-gray-400" });
    }
  }
  function ki(ae) {
    switch (ae) {
      case "admin":
        return "bg-purple-100 text-purple-800";
      case "user":
        return "bg-blue-100 text-blue-800";
      default:
        return "bg-gray-100 text-gray-800";
    }
  }
  function fs(ae) {
    if (!ae)
      return "";
    const A = new Date(ae);
    return Number.isNaN(A.getTime()) ? "" : A.toLocaleString();
  }
  const [hs, Kn] = L(!1), sn = ze(async () => {
    n(!0), i(null);
    try {
      const { data: { session: ae } } = await he.auth.getSession();
      if (!ae) {
        i("User not authenticated."), n(!1);
        return;
      }
      const A = await fetch("/api/admin/users", {
        headers: {
          "Content-Type": "application/json",
          Authorization: `Bearer ${ae.access_token}`
        }
      });
      if (!A.ok) {
        const ye = await A.json();
        throw new Error(ye.error || "Failed to fetch users.");
      }
      const re = await A.json();
      t(re), re.length > 0 && (re[0].role === "admin" || re[0].role === "super_admin") ? Kn(!0) : Kn(!1);
    } catch (ae) {
      console.error("Error fetching users or checking admin status:", ae), i((ae instanceof Error ? ae.message : String(ae)) || "An unexpected error occurred.");
    } finally {
      n(!1);
    }
  }, []);
  ve(() => {
    sn();
  }, [sn]);
  const bn = Ht(() => {
    const ae = e.filter((A) => {
      var Be;
      const re = A.email.toLowerCase().includes(He.toLowerCase()) || (((Be = A.profile) == null ? void 0 : Be.display_name) || "").toLowerCase().includes(He.toLowerCase()), ye = !Tt || A.role === Tt, Pe = It(A);
      return re && ye && (!R || Pe === R);
    });
    return ae.sort((A, re) => {
      var Qe, Be;
      let ye = A[J], Pe = re[J];
      return J === "display_name" && (ye = ((Qe = A.profile) == null ? void 0 : Qe.display_name) || "", Pe = ((Be = re.profile) == null ? void 0 : Be.display_name) || ""), (J === "created_at" || J === "last_sign_in") && (ye = new Date(ye), Pe = new Date(Pe)), ye < Pe ? pe === "asc" ? -1 : 1 : ye > Pe ? pe === "asc" ? 1 : -1 : 0;
    }), ae;
  }, [e, He, Tt, R, J, pe]), Br = Ht(() => {
    const ae = (je - 1) * Je;
    return bn.slice(ae, ae + Je);
  }, [bn, je, Je]), Nr = Math.ceil(bn.length / Je) || 1, xn = () => {
    K(""), te(""), V("user"), be(""), Ve(""), f(!0);
  }, Hn = () => {
    f(!1);
  }, Yn = (ae) => {
    var re;
    m(ae);
    const A = (re = ae.subscriptions) == null ? void 0 : re.find((ye) => ye.is_active);
    A ? (w(A.plan_id || ""), N(A.status), C(A.current_period_start ? new Date(A.current_period_start).toISOString().split("T")[0] : ""), I(A.current_period_end ? new Date(A.current_period_end).toISOString().split("T")[0] : "")) : (w(""), N("active"), C((/* @__PURE__ */ new Date()).toISOString().split("T")[0]), I("")), O(""), U(""), a(!0);
  }, ps = () => {
    a(!1), m(null), q(!1);
  }, qs = (ae) => {
    v(ae), B(""), oe(""), c(!0);
  }, ms = () => {
    c(!1), v(null), ie(!1);
  }, co = (ae) => {
    x(ae), p(!0);
  }, gs = () => {
    p(!1), x(null);
  }, Gn = async (ae) => {
    ae.preventDefault(), se(!0), be(""), Ve("");
    try {
      if (!W || !/\S+@\S+\.\S+/.test(W))
        throw new Error("Please enter a valid email address.");
      if (e.some((Pe) => Pe.email.toLowerCase() === W.toLowerCase()))
        throw new Error("A user with this email already exists in the list.");
      const A = {
        action: "addProfile",
        data: {
          username: ee || W.split("@")[0],
          email: W,
          role: ue
        }
      }, re = await fetch("/functions/v1/manage-user-subscriptions", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
          Authorization: `Bearer ${(await he.auth.getSession()).data.session.access_token}`
        },
        body: JSON.stringify(A)
      }), ye = await re.json();
      if (!re.ok)
        throw new Error(ye.error || "Failed to add user profile via Edge Function");
      be("User profile added successfully! Full user creation (auth.users) might require backend."), sn(), setTimeout(() => {
        Hn();
      }, 600);
    } catch (A) {
      console.error("Error adding user:", A), Ve((A instanceof Error ? A.message : String(A)) || "An unexpected error occurred while adding user.");
    } finally {
      se(!1);
    }
  }, ca = async (ae) => {
    if (ae.preventDefault(), !!g) {
      q(!0), O(""), U("");
      try {
        if (k && $ && new Date(k) >= new Date($))
          throw new Error("End date must be after start date.");
        const A = {
          action: "updateSubscription",
          userId: g.id,
          data: {
            plan_id: S,
            status: j,
            current_period_start: k ? new Date(k).toISOString() : null,
            current_period_end: $ ? new Date($).toISOString() : null
          }
        }, re = await fetch("/functions/v1/manage-user-subscriptions", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            Authorization: `Bearer ${(await he.auth.getSession()).data.session.access_token}`
          },
          body: JSON.stringify(A)
        }), ye = await re.json();
        if (!re.ok)
          throw new Error(ye.error || "Failed to update subscription via Edge Function");
        O("Subscription updated successfully!"), sn(), setTimeout(() => {
          ps();
        }, 600);
      } catch (A) {
        console.error("Error managing subscription:", A), U((A instanceof Error ? A.message : String(A)) || "An unexpected error occurred while managing subscription.");
      } finally {
        q(!1);
      }
    }
  }, Zn = async (ae) => {
    if (ae.preventDefault(), !!y) {
      ie(!0), B(""), oe("");
      try {
        const A = new FormData(ae.target), re = A.get("displayName"), ye = A.get("role"), Pe = {
          action: "changeRole",
          // Reusing changeRole action for simplicity, as it updates role and display_name
          targetUserId: y.id,
          newRole: ye,
          data: { display_name: re }
          // Pass display_name as part of data
        }, Qe = await fetch("/functions/v1/manage-user-subscriptions", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            Authorization: `Bearer ${(await he.auth.getSession()).data.session.access_token}`
          },
          body: JSON.stringify(Pe)
        }), Be = await Qe.json();
        if (!Qe.ok)
          throw new Error(Be.error || "Failed to update user details via Edge Function");
        B("User details updated successfully!"), sn(), setTimeout(() => {
          ms();
        }, 600);
      } catch (A) {
        console.error("Error updating user details:", A), oe((A instanceof Error ? A.message : String(A)) || "An unexpected error occurred while updating user details.");
      } finally {
        ie(!1);
      }
    }
  }, ua = async () => {
    if (b)
      try {
        const ae = {
          action: "deleteUser",
          targetUserId: b.id
        }, A = await fetch("/functions/v1/manage-user-subscriptions", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            Authorization: `Bearer ${(await he.auth.getSession()).data.session.access_token}`
          },
          body: JSON.stringify(ae)
        }), re = await A.json();
        if (!A.ok)
          throw new Error(re.error || "Failed to delete user via Edge Function");
        t((ye) => ye.filter((Pe) => Pe.id !== b.id)), gs(), Br.length === 1 && je > 1 && Ue(je - 1), alert(`User ${b.email} deleted successfully.`);
      } catch (ae) {
        console.error("Error deleting user:", ae), alert(`Failed to delete user: ${ae instanceof Error ? ae.message : String(ae)}`);
      }
  }, Vs = (ae) => {
    J === ae ? me(pe === "asc" ? "desc" : "asc") : (xe(ae), me("asc")), Ue(1);
  }, uo = (ae) => {
    ae < 1 || ae > Nr || Ue(ae);
  }, da = (ae) => {
    Zt(ae), Ue(1);
  };
  return r ? u.jsx("div", { className: "flex items-center justify-center min-h-screen bg-gray-50", children: u.jsxs("div", { className: "flex items-center space-x-2", children: [u.jsx("div", { className: "animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600" }), u.jsx("span", { className: "text-gray-600", children: "Loading users and plans..." })] }) }) : s ? u.jsx("div", { className: "flex items-center justify-center min-h-screen bg-gray-50", children: u.jsxs("div", { className: "bg-red-50 border border-red-200 rounded-lg p-6 max-w-md", children: [u.jsxs("div", { className: "flex items-center space-x-2 text-red-600 mb-2", children: [u.jsx(Mi, { className: "w-5 h-5" }), u.jsx("span", { className: "font-semibold", children: "Error" })] }), u.jsx("p", { className: "text-red-700", children: s }), u.jsx("button", { onClick: sn, className: "mt-4 px-4 py-2 bg-red-600 text-white text-sm rounded-lg hover:bg-red-700 transition-colors", children: "Try Again" })] }) }) : u.jsxs("div", { className: "min-h-screen bg-gray-50", children: [u.jsxs("div", { className: "max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8", children: [u.jsx("div", { className: "bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6", children: u.jsxs("div", { className: "flex flex-col sm:flex-row sm:items-center sm:justify-between", children: [u.jsxs("div", { children: [u.jsx("h1", { className: "text-2xl font-bold text-gray-900 mb-2", children: "User Management" }), u.jsx("p", { className: "text-gray-600", children: "Manage users, subscriptions, and account details" })] }), u.jsx("div", { className: "mt-4 sm:mt-0", children: u.jsxs("button", { onClick: xn, className: "inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors", children: [u.jsx(sG, { className: "w-4 h-4 mr-2" }), "Add User"] }) })] }) }), u.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-4 gap-4 mb-6", children: [u.jsx("div", { className: "bg-white rounded-lg shadow-sm border border-gray-200 p-4", children: u.jsxs("div", { className: "flex items-center", children: [u.jsx(xu, { className: "w-8 h-8 text-blue-500" }), u.jsxs("div", { className: "ml-3", children: [u.jsx("p", { className: "text-sm font-medium text-gray-500", children: "Total Users" }), u.jsx("p", { className: "text-2xl font-bold text-gray-900", children: e.length })] })] }) }), u.jsx("div", { className: "bg-white rounded-lg shadow-sm border border-gray-200 p-4", children: u.jsxs("div", { className: "flex items-center", children: [u.jsx(Aa, { className: "w-8 h-8 text-green-500" }), u.jsxs("div", { className: "ml-3", children: [u.jsx("p", { className: "text-sm font-medium text-gray-500", children: "Active Subscriptions" }), u.jsx("p", { className: "text-2xl font-bold text-gray-900", children: e.filter((ae) => It(ae) === "Active").length })] })] }) }), u.jsx("div", { className: "bg-white rounded-lg shadow-sm border border-gray-200 p-4", children: u.jsxs("div", { className: "flex items-center", children: [u.jsx(ch, { className: "w-8 h-8 text-purple-500" }), u.jsxs("div", { className: "ml-3", children: [u.jsx("p", { className: "text-sm font-medium text-gray-500", children: "Admin Users" }), u.jsx("p", { className: "text-2xl font-bold text-gray-900", children: e.filter((ae) => ae.role === "admin").length })] })] }) }), u.jsx("div", { className: "bg-white rounded-lg shadow-sm border border-gray-200 p-4", children: u.jsxs("div", { className: "flex items-center", children: [u.jsx(Mi, { className: "w-8 h-8 text-gray-400" }), u.jsxs("div", { className: "ml-3", children: [u.jsx("p", { className: "text-sm font-medium text-gray-500", children: "No Subscription" }), u.jsx("p", { className: "text-2xl font-bold text-gray-900", children: e.filter((ae) => It(ae) === "No Subscription").length })] })] }) })] }), u.jsx("div", { className: "bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6", children: u.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4", children: [u.jsxs("div", { className: "relative", children: [u.jsx(xc, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4" }), u.jsx("input", { type: "text", placeholder: "Search users...", value: He, onChange: (ae) => {
    lt(ae.target.value), Ue(1);
  }, className: "pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" })] }), u.jsxs("select", { value: Tt, onChange: (ae) => {
    Rt(ae.target.value), Ue(1);
  }, className: "px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent", children: [u.jsx("option", { value: "", children: "All Roles" }), u.jsx("option", { value: "admin", children: "Admin" }), u.jsx("option", { value: "user", children: "User" })] }), u.jsxs("select", { value: R, onChange: (ae) => {
    Y(ae.target.value), Ue(1);
  }, className: "px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent", children: [u.jsx("option", { value: "", children: "All Statuses" }), u.jsx("option", { value: "Active", children: "Active" }), u.jsx("option", { value: "Inactive", children: "Inactive" }), u.jsx("option", { value: "No Subscription", children: "No Subscription" })] }), u.jsxs("select", { value: Je, onChange: (ae) => da(Number(ae.target.value)), className: "px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent", children: [u.jsx("option", { value: 5, children: "5 per page" }), u.jsx("option", { value: 10, children: "10 per page" }), u.jsx("option", { value: 25, children: "25 per page" }), u.jsx("option", { value: 50, children: "50 per page" })] }), u.jsxs("div", { className: "text-sm text-gray-600 flex items-center", children: [u.jsx(UY, { className: "w-4 h-4 mr-2" }), bn.length, " of ", e.length, " users"] })] }) }), u.jsxs("div", { className: "bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden", children: [u.jsx("div", { className: "overflow-x-auto", children: u.jsxs("table", { className: "min-w-full divide-y divide-gray-200", children: [u.jsx("thead", { className: "bg-gray-50", children: u.jsxs("tr", { children: [u.jsx("th", { className: "px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100", onClick: () => Vs("email"), children: u.jsxs("div", { className: "flex items-center space-x-1", children: [u.jsx(sL, { className: "w-4 h-4" }), u.jsx("span", { children: "Email" }), J === "email" && u.jsx("span", { className: "text-blue-500", children: pe === "asc" ? "" : "" })] }) }), u.jsx("th", { className: "px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100", onClick: () => Vs("display_name"), children: u.jsxs("div", { className: "flex items-center space-x-1", children: [u.jsx(xu, { className: "w-4 h-4" }), u.jsx("span", { children: "Display Name" }), J === "display_name" && u.jsx("span", { className: "text-blue-500", children: pe === "asc" ? "" : "" })] }) }), u.jsx("th", { className: "px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: u.jsxs("div", { className: "flex items-center space-x-1", children: [u.jsx(ch, { className: "w-4 h-4" }), u.jsx("span", { children: "Role" })] }) }), u.jsx("th", { className: "px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Subscription Status" }), u.jsx("th", { className: "px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100", onClick: () => Vs("created_at"), children: u.jsxs("div", { className: "flex items-center space-x-1", children: [u.jsx(QM, { className: "w-4 h-4" }), u.jsx("span", { children: "Created At" }), J === "created_at" && u.jsx("span", { className: "text-blue-500", children: pe === "asc" ? "" : "" })] }) }), u.jsx("th", { className: "px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100", onClick: () => Vs("last_sign_in"), children: u.jsxs("div", { className: "flex items-center space-x-1", children: [u.jsx(HS, { className: "w-4 h-4" }), u.jsx("span", { children: "Last Sign In" }), J === "last_sign_in" && u.jsx("span", { className: "text-blue-500", children: pe === "asc" ? "" : "" })] }) }), u.jsx("th", { className: "px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Actions" })] }) }), u.jsxs("tbody", { className: "bg-white divide-y divide-gray-200", children: [Br.length === 0 && u.jsx("tr", { children: u.jsx("td", { colSpan: 7, className: "px-6 py-8 text-center text-sm text-gray-500", children: "No users found." }) }), Br.map((ae) => {
    var re;
    const A = It(ae);
    return u.jsxs("tr", { className: "hover:bg-gray-50 transition-colors", children: [u.jsx("td", { className: "px-6 py-4 whitespace-nowrap", children: u.jsxs("div", { className: "flex items-center", children: [u.jsx("div", { className: "flex-shrink-0 h-8 w-8", children: u.jsx("div", { className: "h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center", children: u.jsx(xu, { className: "w-4 h-4 text-gray-500" }) }) }), u.jsx("div", { className: "ml-3", children: u.jsx("div", { className: "text-sm font-medium text-gray-900", children: ae.email }) })] }) }), u.jsx("td", { className: "px-6 py-4 whitespace-nowrap text-sm text-gray-900", children: ((re = ae.profile) == null ? void 0 : re.display_name) || "" }), u.jsx("td", { className: "px-6 py-4 whitespace-nowrap", children: u.jsx("span", { className: `inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ki(ae.role)}`, children: ae.role }) }), u.jsx("td", { className: "px-6 py-4 whitespace-nowrap", children: u.jsxs("div", { className: "flex items-center space-x-2 text-sm", children: [Zr(A), u.jsx("span", { className: "text-gray-900", children: A })] }) }), u.jsx("td", { className: "px-6 py-4 whitespace-nowrap text-sm text-gray-900", children: fs(ae.created_at) }), u.jsx("td", { className: "px-6 py-4 whitespace-nowrap text-sm text-gray-900", children: ae.last_sign_in ? fs(ae.last_sign_in) : "Never" }), u.jsx("td", { className: "px-6 py-4 whitespace-nowrap text-sm text-gray-700", children: u.jsxs("div", { className: "flex items-center gap-2", children: [u.jsxs("button", { onClick: () => qs(ae), className: "inline-flex items-center px-2.5 py-1.5 border border-gray-300 rounded-md hover:bg-gray-50", title: "Edit Details", children: [u.jsx(GY, { className: "w-4 h-4 mr-1" }), "Edit"] }), u.jsxs("button", { onClick: () => Yn(ae), className: "inline-flex items-center px-2.5 py-1.5 border border-gray-300 rounded-md hover:bg-gray-50", title: "Manage Subscription", children: [u.jsx(np, { className: "w-4 h-4 mr-1" }), "Subscription"] }), u.jsxs("button", { onClick: () => co(ae), className: "inline-flex items-center px-2.5 py-1.5 border border-red-300 text-red-700 rounded-md hover:bg-red-50", title: "Delete User", children: [u.jsx(wc, { className: "w-4 h-4 mr-1" }), "Delete"] })] }) })] }, ae.id);
  })] })] }) }), u.jsxs("div", { className: "px-6 py-4 flex items-center justify-between", children: [u.jsxs("div", { className: "text-sm text-gray-600", children: ["Page ", je, " of ", Nr] }), u.jsxs("div", { className: "flex items-center gap-2", children: [u.jsx("button", { onClick: () => uo(je - 1), disabled: je === 1, className: "px-3 py-1.5 text-sm border rounded-md disabled:opacity-50", children: "Previous" }), Array.from({ length: Nr }).map((ae, A) => u.jsx("button", { onClick: () => uo(A + 1), className: `px-3 py-1.5 text-sm border rounded-md ${je === A + 1 ? "bg-blue-600 text-white border-blue-600" : "hover:bg-gray-50"}`, children: A + 1 }, A)), u.jsx("button", { onClick: () => uo(je + 1), disabled: je === Nr, className: "px-3 py-1.5 text-sm border rounded-md disabled:opacity-50", children: "Next" })] })] })] })] }), d && u.jsxs("div", { className: "fixed inset-0 z-50 flex items-center justify-center", children: [u.jsx("div", { className: "absolute inset-0 bg-black/40", onClick: Hn }), u.jsxs("div", { className: "relative bg-white w-full max-w-lg rounded-lg shadow-lg p-6", children: [u.jsx("h3", { className: "text-lg font-semibold mb-4", children: "Add New User" }), u.jsxs("form", { onSubmit: Gn, className: "space-y-4", children: [u.jsxs("div", { children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-1", children: "Email" }), u.jsx("input", { type: "email", value: W, onChange: (ae) => K(ae.target.value), className: "w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent", placeholder: "user@example.com", required: !0 })] }), u.jsxs("div", { children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-1", children: "Display Name (optional)" }), u.jsx("input", { type: "text", value: ee, onChange: (ae) => te(ae.target.value), className: "w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent", placeholder: "Jane Doe" })] }), u.jsxs("div", { children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-1", children: "Role" }), u.jsxs("select", { value: ue, onChange: (ae) => V(ae.target.value), className: "w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent", children: [u.jsx("option", { value: "user", children: "User" }), u.jsx("option", { value: "admin", children: "Admin" }), u.jsx("option", { value: "super_admin", children: "Super Admin" })] })] }), ke && u.jsxs("div", { className: "text-sm text-red-600 flex items-center gap-2", children: [u.jsx(Mi, { className: "w-4 h-4" }), ke] }), P && u.jsxs("div", { className: "text-sm text-green-600 flex items-center gap-2", children: [u.jsx(Aa, { className: "w-4 h-4" }), P] }), u.jsxs("div", { className: "flex items-center justify-end gap-2 pt-2", children: [u.jsx("button", { type: "button", onClick: Hn, className: "px-4 py-2 rounded-md border", children: "Cancel" }), u.jsx("button", { type: "submit", disabled: H, className: "px-4 py-2 rounded-md bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50", children: H ? "Adding" : "Add User" })] })] })] })] }), o && g && u.jsxs("div", { className: "fixed inset-0 z-50 flex items-center justify-center", children: [u.jsx("div", { className: "absolute inset-0 bg-black/40", onClick: ps }), u.jsxs("div", { className: "relative bg-white w-full max-w-xl rounded-lg shadow-lg p-6", children: [u.jsx("h3", { className: "text-lg font-semibold mb-1", children: "Manage Subscription" }), u.jsx("p", { className: "text-sm text-gray-600 mb-4", children: g.email }), u.jsxs("form", { onSubmit: ca, className: "space-y-4", children: [u.jsxs("div", { children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-1", children: "Plan" }), u.jsxs("select", { value: S, onChange: (ae) => w(ae.target.value), className: "w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent", children: [u.jsx("option", { value: "", children: " Select a plan " }), u.jsx("option", { value: "Monthly", children: "Monthly" }), u.jsx("option", { value: "Yearly", children: "Yearly" })] })] }), u.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-3 gap-4", children: [u.jsxs("div", { children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-1", children: "Status" }), u.jsxs("select", { value: j, onChange: (ae) => N(ae.target.value), className: "w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent", children: [u.jsx("option", { value: "active", children: "active" }), u.jsx("option", { value: "trialing", children: "trialing" }), u.jsx("option", { value: "canceled", children: "canceled" }), u.jsx("option", { value: "paused", children: "paused" })] })] }), u.jsxs("div", { children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-1", children: "Start Date" }), u.jsx("input", { type: "date", value: k, onChange: (ae) => C(ae.target.value), className: "w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent" })] }), u.jsxs("div", { children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-1", children: "End Date" }), u.jsx("input", { type: "date", value: $, onChange: (ae) => I(ae.target.value), className: "w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent" })] })] }), z && u.jsxs("div", { className: "text-sm text-red-600 flex items-center gap-2", children: [u.jsx(Mi, { className: "w-4 h-4" }), z] }), M && u.jsxs("div", { className: "text-sm text-green-600 flex items-center gap-2", children: [u.jsx(Aa, { className: "w-4 h-4" }), M] }), u.jsxs("div", { className: "flex items-center justify-end gap-2 pt-2", children: [u.jsx("button", { type: "button", onClick: ps, className: "px-4 py-2 rounded-md border", children: "Cancel" }), u.jsx("button", { type: "submit", disabled: G, className: "px-4 py-2 rounded-md bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50", children: G ? "Saving" : "Save Changes" })] })] })] })] }), l && y && u.jsxs("div", { className: "fixed inset-0 z-50 flex items-center justify-center", children: [u.jsx("div", { className: "absolute inset-0 bg-black/40", onClick: ms }), u.jsxs("div", { className: "relative bg-white w-full max-w-lg rounded-lg shadow-lg p-6", children: [u.jsx("h3", { className: "text-lg font-semibold mb-1", children: "Edit User Details" }), u.jsx("p", { className: "text-sm text-gray-600 mb-4", children: y.email }), u.jsxs("form", { onSubmit: Zn, className: "space-y-4", children: [u.jsxs("div", { children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-1", children: "Display Name" }), u.jsx("input", { name: "displayName", type: "text", defaultValue: ((Ci = y.profile) == null ? void 0 : Ci.display_name) || "", className: "w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent", placeholder: "Jane Doe" })] }), u.jsxs("div", { children: [u.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-1", children: "Role" }), u.jsxs("select", { name: "role", defaultValue: y.role, className: "w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent", children: [u.jsx("option", { value: "user", children: "User" }), u.jsx("option", { value: "admin", children: "Admin" }), u.jsx("option", { value: "super_admin", children: "Super Admin" })] })] }), X && u.jsxs("div", { className: "text-sm text-red-600 flex items-center gap-2", children: [u.jsx(Mi, { className: "w-4 h-4" }), X] }), D && u.jsxs("div", { className: "text-sm text-green-600 flex items-center gap-2", children: [u.jsx(Aa, { className: "w-4 h-4" }), D] }), u.jsxs("div", { className: "flex items-center justify-end gap-2 pt-2", children: [u.jsx("button", { type: "button", onClick: ms, className: "px-4 py-2 rounded-md border", children: "Cancel" }), u.jsx("button", { type: "submit", disabled: Z, className: "px-4 py-2 rounded-md bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50", children: Z ? "Saving" : "Save Changes" })] })] })] })] }), h && b && u.jsxs("div", { className: "fixed inset-0 z-50 flex items-center justify-center", children: [u.jsx("div", { className: "absolute inset-0 bg-black/40", onClick: gs }), u.jsxs("div", { className: "relative bg-white w-full max-w-md rounded-lg shadow-lg p-6", children: [u.jsxs("div", { className: "flex items-start gap-3", children: [u.jsx("div", { className: "shrink-0 mt-1", children: u.jsx(Mi, { className: "w-6 h-6 text-red-600" }) }), u.jsxs("div", { children: [u.jsx("h3", { className: "text-lg font-semibold", children: "Delete user?" }), u.jsxs("p", { className: "text-sm text-gray-600 mt-1", children: ["This will permanently remove ", u.jsx("span", { className: "font-mono", children: b.email }), " and their subscriptions from the local list."] })] })] }), u.jsxs("div", { className: "flex items-center justify-end gap-2 mt-6", children: [u.jsx("button", { onClick: gs, className: "px-4 py-2 rounded-md border", children: "Cancel" }), u.jsx("button", { onClick: ua, className: "px-4 py-2 rounded-md bg-red-600 text-white hover:bg-red-700", children: "Delete" })] })] })] })] });
}, SRe = () => {
  const e = We(null);
  return ve(() => {
    const t = e.current;
    if (!t)
      return;
    const r = 50, n = () => {
      const i = document.createElement("div");
      i.className = "star absolute bg-ink rounded-full", i.style.left = Math.random() * 100 + "%", i.style.top = Math.random() * 100 + "%";
      const o = Math.random() * 3 + 1;
      i.style.width = i.style.height = o + "px", i.style.animationDelay = Math.random() * 3 + "s", i.style.animationDuration = Math.random() * 2 + 2 + "s", t.appendChild(i);
    };
    t.innerHTML = "";
    for (let i = 0; i < r; i++)
      n();
    const s = () => {
      const o = window.pageYOffset * -0.1;
      t && (t.style.transform = `translateY(${o}px)`);
    };
    return window.addEventListener("scroll", s), () => {
      window.removeEventListener("scroll", s);
    };
  }, []), u.jsx("div", { ref: e, className: "stars fixed top-0 left-0 w-full h-full pointer-events-none -z-10", children: " " });
}, UDe = async () => {
  const { data: e, error: t } = await he.from("works").select("id, title");
  if (t)
    throw new Error(t.message);
  return e;
}, qDe = async (e) => {
  const { data: t, error: r } = await he.from("works").insert({ title: e, type: "book" }).select();
  if (r)
    throw new Error(r.message);
  return t[0];
}, ERe = () => {
  const e = ea(), [t, r] = L(null), [n, s] = L(""), [i, o] = L(1), [a, l] = L(""), [c, d] = L(""), [f, h] = L(!1), [p, g] = L(!1), { data: m, isLoading: y, isError: v, error: b } = br({ queryKey: ["books"], queryFn: UDe }), x = ir({
    mutationFn: qDe,
    onSuccess: (j) => {
      e.invalidateQueries({ queryKey: ["books"] }), l(j.id), d(""), Ri.success(`Book "${j.title}" created successfully!`);
    },
    onError: (j) => {
      Ri.error(`Error creating book: ${j.message}`);
    }
  }), S = (j) => {
    j.target.files && j.target.files[0] && r(j.target.files[0]);
  }, w = async (j) => {
    if (j.preventDefault(), !t || !n || !i) {
      Ri.error("Please fill in all required chapter fields and select a file.");
      return;
    }
    let N = a;
    if (c) {
      if (x.isPending) {
        Ri.error("Book creation is already in progress. Please wait.");
        return;
      }
      try {
        N = (await x.mutateAsync(c)).id;
      } catch {
        return;
      }
    }
    if (!N) {
      Ri.error("Please select an existing book or create a new one.");
      return;
    }
    g(!0);
    const k = new FormData();
    k.append("file", t), k.append("title", n), k.append("chapter_number", i.toString()), k.append("book_id", N), k.append("is_published", f.toString());
    try {
      const { data: { session: C }, error: $ } = await he.auth.getSession();
      if ($ || !C) {
        Ri.error("User session not found. Please log in."), g(!1);
        return;
      }
      const I = await fetch("/api/chapters/upload", {
        method: "POST",
        body: k,
        headers: {
          Authorization: `Bearer ${C.access_token}`
          // Include the JWT token
        }
      });
      if (!I.ok) {
        const M = await I.json();
        throw new Error(M.message || M.error || "Failed to upload chapter.");
      }
      await I.json(), Ri.success("Chapter uploaded successfully!"), r(null), s(""), o(1), l(""), d(""), h(!1), j.target instanceof HTMLFormElement && j.target.reset();
    } catch (C) {
      console.error("Upload error:", C), Ri.error(C.message || "An error occurred during upload.");
    } finally {
      g(!1);
    }
  };
  return y ? u.jsx("div", { className: "text-center py-8", children: "Loading books..." }) : v ? u.jsxs("div", { className: "text-center py-8 text-red-500", children: ["Error loading books: ", b == null ? void 0 : b.message] }) : u.jsxs("div", { className: "container mx-auto px-4 py-8", children: [u.jsx(QEe, {}), u.jsx("h1", { className: "text-3xl font-bold text-gray-900 mb-6", children: "Upload New Chapter" }), u.jsx("div", { className: "bg-white rounded-lg shadow-sm border p-6", children: u.jsxs("form", { onSubmit: w, children: [u.jsxs("div", { className: "mb-4", children: [u.jsx("label", { htmlFor: "file", className: "block text-sm font-medium text-gray-700 mb-2", children: "Chapter File (PDF, DOCX, TXT, HTML)" }), u.jsx("input", { type: "file", id: "file", onChange: S, className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500", accept: ".pdf,.docx,.txt,.html", required: !0 }), t && u.jsxs("p", { className: "mt-2 text-sm text-gray-600", children: ["Selected file: ", t.name] })] }), u.jsxs("div", { className: "mb-4", children: [u.jsx("label", { htmlFor: "chapterTitle", className: "block text-sm font-medium text-gray-700 mb-2", children: "Chapter Title" }), u.jsx("input", { type: "text", id: "chapterTitle", value: n, onChange: (j) => s(j.target.value), className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500", required: !0 })] }), u.jsxs("div", { className: "mb-4", children: [u.jsx("label", { htmlFor: "chapterNumber", className: "block text-sm font-medium text-gray-700 mb-2", children: "Chapter Number" }), u.jsx("input", { type: "number", id: "chapterNumber", value: i, onChange: (j) => o(parseInt(j.target.value) || ""), className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500", required: !0, min: "1" })] }), u.jsxs("div", { className: "mb-4", children: [u.jsx("label", { htmlFor: "bookId", className: "block text-sm font-medium text-gray-700 mb-2", children: "Select Existing Book" }), u.jsxs("select", { id: "bookId", value: a, onChange: (j) => l(j.target.value), className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500", children: [u.jsx("option", { value: "", children: "-- Select a Book --" }), m == null ? void 0 : m.map((j) => u.jsx("option", { value: j.id, children: j.title }, j.id))] })] }), u.jsxs("div", { className: "mb-4 flex items-center", children: [u.jsx("span", { className: "text-gray-500 mr-2", children: "OR" }), u.jsx("div", { className: "flex-grow border-t border-gray-300" })] }), u.jsxs("div", { className: "mb-4", children: [u.jsx("label", { htmlFor: "newBookTitle", className: "block text-sm font-medium text-gray-700 mb-2", children: "Create New Book" }), u.jsx("input", { type: "text", id: "newBookTitle", value: c, onChange: (j) => d(j.target.value), className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500", placeholder: "Enter new book title" })] }), u.jsxs("div", { className: "mb-4 flex items-center", children: [u.jsx("input", { type: "checkbox", id: "isPublished", checked: f, onChange: (j) => h(j.target.checked), className: "mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" }), u.jsx("label", { htmlFor: "isPublished", className: "text-sm font-medium text-gray-700", children: "Publish Immediately" })] }), u.jsx("button", { type: "submit", className: "flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed", disabled: p || x.isPending, children: p ? u.jsxs(u.Fragment, { children: [u.jsx(LY, { className: "w-4 h-4 animate-pulse" }), "Uploading Chapter..."] }) : x.isPending ? u.jsxs(u.Fragment, { children: [u.jsx($Y, { className: "w-4 h-4 animate-pulse" }), "Creating Book..."] }) : u.jsxs(u.Fragment, { children: [u.jsx(Gi, { className: "w-4 h-4" }), "Upload Chapter"] }) })] }) })] });
}, xg = _.forwardRef(({ className: e, ...t }, r) => u.jsx("div", { ref: r, className: Sr("rounded-lg border bg-card text-card-foreground shadow-sm", e), ...t }));
xg.displayName = "Card";
const wg = _.forwardRef(({ className: e, ...t }, r) => u.jsx("div", { ref: r, className: Sr("flex flex-col space-y-1.5 p-6", e), ...t }));
wg.displayName = "CardHeader";
const bS = _.forwardRef(({ className: e, ...t }, r) => u.jsx("h3", { ref: r, className: Sr("text-2xl font-semibold leading-none tracking-tight", e), ...t }));
bS.displayName = "CardTitle";
const VDe = _.forwardRef(({ className: e, ...t }, r) => u.jsx("p", { ref: r, className: Sr("text-sm text-muted-foreground", e), ...t }));
VDe.displayName = "CardDescription";
const _g = _.forwardRef(({ className: e, ...t }, r) => u.jsx("div", { ref: r, className: Sr("p-6 pt-0", e), ...t }));
_g.displayName = "CardContent";
const WDe = _.forwardRef(({ className: e, ...t }, r) => u.jsx("div", { ref: r, className: Sr("flex items-center p-6 pt-0", e), ...t }));
WDe.displayName = "CardFooter";
const KDe = nv("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2", {
  variants: {
    variant: {
      default: "border-transparent bg-primary/10 text-primary hover:bg-primary/20",
      secondary: "border-transparent bg-secondary/10 text-secondary-foreground hover:bg-secondary/20",
      destructive: "border-transparent bg-destructive/10 text-destructive hover:bg-destructive/20",
      outline: "text-foreground"
    }
  },
  defaultVariants: {
    variant: "default"
  }
});
function $R({ className: e, variant: t, ...r }) {
  return u.jsx("div", { className: Sr(KDe({ variant: t }), e), ...r });
}
const xS = rt(({ value: e, onChange: t, theme: r = "snow", modules: n = {
  toolbar: [
    [{ header: [1, 2, 3, 4, 5, 6, !1] }],
    ["bold", "italic", "underline", "strike"],
    [{ list: "ordered" }, { list: "bullet" }],
    ["link", "image"],
    ["clean"]
  ]
}, formats: s = [
  "header",
  "bold",
  "italic",
  "underline",
  "strike",
  "list",
  "bullet",
  "link",
  "image"
], ...i }, o) => {
  const a = (l) => {
    try {
      t && t(l);
    } catch (c) {
      console.error("Error in handleChange:", c);
    }
  };
  return u.jsx("div", { className: "mt-4", children: u.jsx(Dp, { ref: o, theme: r, value: e, onChange: a, modules: {
    toolbar: [
      [{ header: [1, 2, 3, 4, 5, 6, !1] }],
      ["bold", "italic", "underline", "strike"],
      [{ list: "ordered" }, { list: "bullet" }],
      ["link", "image"],
      ["clean"]
    ]
  }, formats: [
    "header",
    "bold",
    "italic",
    "underline",
    "strike",
    "list",
    "bullet",
    "link",
    "image"
  ], ...i }) });
});
xS.displayName = "QuillEditor";
function HDe({ id: e, onUpdatePage: t, initialData: r }) {
  const { id: n } = pv(), s = io(), [i, o] = L(!!e), [a, l] = L(!1), [c, d] = L([]), [f, h] = L(""), [p, g] = L(!1), [m, y] = L(null), [v, b] = L(""), [x, S] = L(!1), [w, j] = L(() => r ? {
    ...r,
    category: r.category || null,
    user: r.user || null
  } : {
    id: "",
    title: "",
    slug: "",
    excerpt: null,
    content: "",
    seo_title: null,
    seo_description: null,
    seo_keywords: [],
    sections: [],
    category_id: null,
    is_published: !1,
    created_at: (/* @__PURE__ */ new Date()).toISOString(),
    updated_at: (/* @__PURE__ */ new Date()).toISOString(),
    created_by: null,
    folder_id: null,
    view_count: null,
    category: null,
    user: null
  }), [N, k] = L("");
  ve(() => {
    const W = e || n;
    C(), W ? $(W) : o(!1);
  }, [e, n]);
  const C = async () => {
    try {
      console.log("Fetching categories...");
      const W = await XV();
      d(W || []), (!W || W.length === 0) && (console.warn("No categories found in the database"), Ye.warning("No categories found. Please create categories first."));
    } catch (W) {
      console.error("Error in fetchCategories:", W), Ye.error("Failed to load categories. Check console for details.");
    }
  }, $ = async (W) => {
    try {
      const K = await ZV(W);
      if (K) {
        const ee = {
          ...K,
          sections: K.sections || []
        };
        j(ee), K.category && y(K.category);
      } else
        throw new Error("Wiki page not found.");
    } catch (K) {
      console.error("Error fetching wiki page:", K), Ye.error("Failed to load wiki page");
    } finally {
      o(!1);
    }
  }, I = (W) => {
    const { name: K, value: ee } = W.target;
    j((te) => ({ ...te, [K]: ee }));
  }, M = (W) => {
    const K = {
      id: `section-${Date.now()}`,
      title: "New Section",
      content: "",
      type: W || "paragraph"
      // Default to paragraph if type is not provided
    };
    j((ee) => ({
      ...ee,
      sections: [...ee.sections, K]
    }));
  }, O = (W, K) => {
    j((ee) => ({
      ...ee,
      sections: ee.sections.map((te) => te.id === W ? { ...te, ...K } : te)
    }));
  }, z = (W) => {
    if (w.sections.length <= 1) {
      Ye.error("You must have at least one section");
      return;
    }
    j((K) => ({
      ...K,
      sections: K.sections.filter((ee) => ee.id !== W)
    }));
  }, U = (W) => {
    y(W), j((K) => ({ ...K, category_id: W.id })), g(!1);
  }, G = () => {
    y(null), j((W) => ({ ...W, category_id: null }));
  }, q = (W) => W.toLowerCase().replace(/[^\w\s-]/g, "").replace(/\s+/g, "-").replace(/--+/g, "-").trim(), Z = (W) => {
    const K = W.target.value;
    j((ee) => ({
      ...ee,
      title: K,
      slug: q(K),
      seo_title: ee.seo_title || K
    }));
  }, ie = async () => {
    var W, K;
    l(!0);
    try {
      if (!((W = w == null ? void 0 : w.title) != null && W.trim())) {
        Ye.error("Title is required"), l(!1);
        return;
      }
      if (!((K = w.slug) != null && K.trim())) {
        Ye.error("Slug is required"), l(!1);
        return;
      }
      const { data: { user: ee }, error: te } = await he.auth.getUser();
      if (te || !ee) {
        Ye.error("You must be signed in to save changes."), l(!1);
        return;
      }
      const ue = {
        title: w.title.trim(),
        slug: w.slug.trim(),
        category_id: w.category_id || null,
        is_published: w.is_published,
        updated_at: (/* @__PURE__ */ new Date()).toISOString()
      };
      let V = null;
      if (e) {
        const { data: H, error: se } = await he.from("wiki_pages").update(ue).eq("id", e).select().single();
        if (se)
          throw se;
        if (H)
          V = H;
        else
          throw new Error("Page data not found after update.");
        Ye.success("Wiki page updated successfully");
        const { error: P } = await he.from("wiki_content_blocks").delete().eq("page_id", V.id);
        if (P)
          throw console.error("Error deleting old content blocks:", P), new Error("Failed to update content blocks");
      } else {
        const { data: H, error: se } = await he.from("wiki_pages").insert([
          {
            ...ue,
            created_by: ee.id,
            // Add created_by for new pages
            created_at: (/* @__PURE__ */ new Date()).toISOString(),
            view_count: 0
          }
        ]).select("*, user:profiles(*), category:wiki_categories(*)").single();
        if (se)
          throw se;
        if (H)
          V = H;
        else
          throw new Error("Page data not found after creation.");
        Ye.success("Wiki page created successfully");
      }
      if (V && w.sections && w.sections.length > 0) {
        const H = w.sections.map((P, be) => ({
          page_id: V.id,
          type: P.type,
          content: P.content,
          // Assuming content is already in the correct format (jsonb)
          position: be,
          created_by: ee.id
          // Assign created_by for content blocks
        })), { error: se } = await he.from("wiki_content_blocks").insert(H);
        if (se)
          throw console.error("Error saving content blocks:", se), new Error("Failed to save content blocks");
      }
      if (V) {
        let H = null;
        V.user && typeof V.user == "object" && !("error" in V.user) && (H = V.user);
        const se = {
          ...V,
          title: w.title,
          slug: w.slug,
          excerpt: w.excerpt || null,
          is_published: w.is_published,
          category_id: w.category_id || null,
          category: m || null,
          sections: w.sections || [],
          created_at: V.created_at || (/* @__PURE__ */ new Date()).toISOString(),
          updated_at: (/* @__PURE__ */ new Date()).toISOString(),
          user: H
          // Assign the correctly typed user
        };
        t && t(se), e || s(`/account/admin/wiki/page/${V.id}`);
      }
    } catch (ee) {
      throw console.error("Error saving wiki page:", ee), ee.code === "23505" ? Ye.error("A page with this slug already exists") : ee.code === "42501" ? Ye.error("You do not have permission to perform this action") : Ye.error(`Failed to save wiki page: ${(ee instanceof Error ? ee.message : String(ee)) || "Unknown error"}`), ee;
    } finally {
      l(!1);
    }
  }, D = async () => {
    const W = !w.is_published;
    if (j((K) => ({ ...K, is_published: W })), e)
      try {
        const { error: K } = await he.from("wiki_pages").update({
          is_published: W,
          published_at: W ? (/* @__PURE__ */ new Date()).toISOString() : null
        }).eq("id", e);
        if (K)
          throw K;
        Ye.success(`Page ${W ? "published" : "unpublished"} successfully`);
      } catch (K) {
        console.error("Error updating publish status:", K), Ye.error(`Failed to update page status: ${K instanceof Error ? K.message : String(K)}`), j((ee) => ({ ...ee, is_published: !W }));
      }
  }, B = async () => {
    if (!v.trim()) {
      Ye.error("Category name cannot be empty");
      return;
    }
    try {
      const { data: { user: W } } = await he.auth.getUser();
      if (!W) {
        Ye.error("You must be logged in to create categories");
        return;
      }
      const { data: K, error: ee } = await he.from("wiki_categories").insert([
        {
          name: v.trim(),
          slug: v.trim().toLowerCase().replace(/\s+/g, "-"),
          created_by: W.id,
          is_active: !0
        }
      ]).select().single();
      if (ee)
        throw console.error("Error creating category:", ee), new Error("Failed to create category");
      if (K === null) {
        console.error("No data returned after creating category, but no error was thrown."), Ye.error("Failed to create category: No data received.");
        return;
      }
      const te = K;
      d((ue) => [...ue, te]), U(te), b(""), S(!1), Ye.success("Category created successfully");
    } catch (W) {
      console.error("Error creating category:", W), Ye.error("Failed to create category");
    }
  }, X = () => u.jsxs("div", { className: "space-y-2", children: [u.jsx(js, { children: "Category" }), m ? u.jsxs("div", { className: "flex items-center justify-between p-2 border rounded-md", children: [u.jsxs("div", { className: "flex items-center", children: [u.jsx($R, { className: "h-4 w-4 mr-2 text-muted-foreground" }), u.jsx("span", { children: m.name })] }), u.jsx(dt, { type: "button", variant: "ghost", size: "sm", onClick: G, children: u.jsx(Ya, { className: "h-4 w-4" }) })] }) : x ? u.jsxs("div", { className: "space-y-2", children: [u.jsxs("div", { className: "flex space-x-2", children: [u.jsx(ai, { placeholder: "Enter category name", value: v, onChange: (W) => b(W.target.value), autoFocus: !0 }), u.jsx(dt, { type: "button", onClick: B, disabled: !v.trim(), children: "Add" })] }), u.jsx(dt, { type: "button", variant: "ghost", size: "sm", onClick: () => S(!1), children: "Cancel" })] }) : u.jsxs("div", { className: "space-y-2", children: [u.jsxs(dt, { type: "button", variant: "outline", className: "w-full justify-start", onClick: () => g(!0), children: [u.jsx($R, { className: "h-4 w-4 mr-2" }), "Select a category"] }), u.jsxs("div", { className: "text-center text-sm text-muted-foreground", children: ["or", " ", u.jsx("button", { type: "button", className: "text-primary hover:underline", onClick: () => S(!0), children: "create a new category" })] })] })] }), oe = (W) => {
    const K = (ee) => {
      O(W.id, { content: ee });
    };
    switch (W.type) {
      case "heading_1":
      case "heading_2":
      case "heading_3":
      case "paragraph":
      case "bullet_list":
      case "ordered_list":
        return u.jsx("div", { className: "mt-4", children: u.jsx(xS, { value: W.content || "", onChange: K, placeholder: "Start writing..." }) });
      case "quote":
        return u.jsx("div", { className: "mt-4 border-l-4 border-gray-300 pl-4 italic", children: u.jsx(xS, { value: W.content || "", onChange: K, placeholder: "Start writing..." }) });
      case "code":
        return u.jsx("div", { className: "mt-4 bg-gray-100 p-4 rounded-md font-mono text-sm", children: u.jsx(dE, { value: W.content || "", onChange: (ee) => O(W.id, { content: ee.target.value }), placeholder: "Enter code...", rows: 6, className: "font-mono" }) });
      case "divider":
        return u.jsx("div", { className: "my-6 border-t border-gray-200" });
      case "image":
        return u.jsxs("div", { className: "mt-4", children: [u.jsx(ai, { type: "text", value: W.content || "", onChange: (ee) => O(W.id, { content: ee.target.value }), placeholder: "Enter image URL..." }), W.content && u.jsx("div", { className: "mt-2", children: u.jsx("img", { src: W.content, alt: "Section content", className: "max-w-full h-auto rounded-md" }) })] });
      default:
        return u.jsxs("div", { className: "mt-4 text-gray-500 italic", children: ["Unsupported section type: ", W.type] });
    }
  };
  return i ? u.jsx("div", { className: "flex items-center justify-center h-64", children: u.jsx(qu, { className: "h-8 w-8 animate-spin" }) }) : (f && c.filter((W) => W.name.toLowerCase().includes(f.toLowerCase())), u.jsx("div", { className: "container mx-auto p-6", children: u.jsxs("form", { onSubmit: (W) => W.preventDefault(), children: [u.jsxs("div", { className: "flex justify-between items-center mb-6", children: [u.jsxs("div", { className: "flex items-center space-x-4", children: [u.jsxs(dt, { type: "button", variant: "outline", size: "sm", onClick: () => s("/account/admin/wiki"), children: [u.jsx(JM, { className: "mr-2 h-4 w-4" }), " Back to Wiki"] }), u.jsx("h1", { className: "text-2xl font-bold", children: e ? "Edit Wiki Page" : "Create New Wiki Page" })] }), u.jsxs("div", { className: "flex items-center space-x-4", children: [u.jsxs("div", { className: "flex items-center space-x-2", children: [u.jsx(js, { htmlFor: "is_published", children: "Publish" }), u.jsx(Vg, { id: "is_published", checked: w.is_published, onCheckedChange: D })] }), u.jsx(dt, { type: "button", disabled: a, onClick: ie, children: a ? u.jsxs(u.Fragment, { children: [u.jsx(qu, { className: "mr-2 h-4 w-4 animate-spin" }), "Saving..."] }) : u.jsxs(u.Fragment, { children: [u.jsx(YS, { className: "mr-2 h-4 w-4" }), "Save Changes"] }) })] })] }), u.jsxs("div", { className: "grid grid-cols-1 lg:grid-cols-3 gap-6", children: [u.jsx("div", { className: "lg:col-span-2 space-y-6", children: u.jsxs(xg, { children: [u.jsx(wg, { children: u.jsx(bS, { children: "Page Content" }) }), u.jsxs(_g, { className: "space-y-4", children: [u.jsxs("div", { className: "space-y-2", children: [u.jsx(js, { htmlFor: "title", children: "Title *" }), u.jsx(ai, { id: "title", name: "title", value: w.title, onChange: Z, placeholder: "Enter page title", required: !0 })] }), u.jsxs("div", { className: "space-y-2", children: [u.jsxs("div", { className: "flex justify-between items-center", children: [u.jsx(js, { htmlFor: "slug", children: "URL Slug *" }), u.jsx("span", { className: "text-sm text-muted-foreground", children: `${window.location.origin}/wiki/${w.slug || "your-page-slug"}` })] }), u.jsx(ai, { id: "slug", name: "slug", value: w.slug, onChange: I, placeholder: "page-slug", required: !0 })] }), X(), u.jsxs("div", { className: "space-y-2", children: [u.jsx(js, { children: "Sections" }), w.sections.map((W, K) => u.jsxs(xg, { className: "mb-4", children: [u.jsx(wg, { children: u.jsxs("div", { className: "flex justify-between items-center", children: [u.jsx(ai, { value: W.title, onChange: (ee) => O(W.id, { title: ee.target.value }), placeholder: "Section Title", className: "text-xl font-bold" }), u.jsxs("div", { className: "flex space-x-2", children: [u.jsxs("select", { value: W.type, onChange: (ee) => O(W.id, { type: ee.target.value }), className: "text-sm p-1 border rounded", children: [u.jsx("option", { value: "paragraph", children: "Paragraph" }), u.jsx("option", { value: "heading_1", children: "Heading 1" }), u.jsx("option", { value: "heading_2", children: "Heading 2" }), u.jsx("option", { value: "heading_3", children: "Heading 3" }), u.jsx("option", { value: "bullet_list", children: "Bullet List" }), u.jsx("option", { value: "ordered_list", children: "Ordered List" }), u.jsx("option", { value: "image", children: "Image" }), u.jsx("option", { value: "table", children: "Table" }), u.jsx("option", { value: "quote", children: "Quote" }), u.jsx("option", { value: "code", children: "Code" }), u.jsx("option", { value: "divider", children: "Divider" })] }), u.jsx(dt, { variant: "ghost", size: "icon", type: "button", onClick: () => z(W.id), disabled: w.sections.length <= 1, children: u.jsx(Ya, { className: "h-4 w-4" }) })] })] }) }), u.jsx(_g, { children: oe(W) })] }, W.id))] }), u.jsxs("div", { className: "flex flex-wrap gap-2 mb-6", children: [u.jsx(dt, { type: "button", variant: "outline", onClick: () => M("paragraph"), children: "Add Paragraph" }), u.jsx(dt, { type: "button", variant: "outline", onClick: () => M("heading_1"), children: "Add Heading 1" }), u.jsx(dt, { type: "button", variant: "outline", onClick: () => M("quote"), children: "Add Quote" })] })] })] }) }), u.jsx("div", { className: "space-y-6", children: u.jsxs(xg, { children: [u.jsx(wg, { children: u.jsx(bS, { children: "Publishing" }) }), u.jsxs(_g, { className: "space-y-4", children: [u.jsxs("div", { className: "flex items-center justify-between", children: [u.jsxs("div", { children: [u.jsx("h4", { className: "font-medium", children: "Status" }), u.jsx("p", { className: "text-sm text-muted-foreground", children: w.is_published ? "Published" : "Draft" })] }), u.jsx(Vg, { checked: w.is_published, onCheckedChange: D })] }), e && u.jsxs("div", { className: "space-y-2", children: [u.jsx("h4", { className: "font-medium", children: "URL" }), u.jsx("div", { className: "flex items-center", children: u.jsxs("a", { href: `/wiki/${w.slug}`, target: "_blank", rel: "noopener noreferrer", className: "text-sm text-blue-600 hover:underline flex items-center", children: ["View page ", u.jsx(np, { className: "ml-1 h-3 w-3" })] }) })] })] })] }) })] })] }) }));
}
function YDe({
  folders: e,
  pages: t,
  selectedFolder: r,
  selectedPage: n,
  onSelect: s,
  onPageSelect: i,
  onDeleteFolder: o,
  onEditFolder: a,
  onDeletePage: l,
  onEditPage: c
  // onMoveItem is not used but kept in props for future use
}) {
  const d = Ht(() => {
    const h = /* @__PURE__ */ new Map(), p = [];
    e.forEach((m) => {
      const y = {
        ...m,
        children: [],
        pages: [],
        type: "folder"
      };
      h.set(m.id, y);
    }), e.forEach((m) => {
      const y = h.get(m.id);
      if (y && m.parent_id && h.has(m.parent_id)) {
        const v = h.get(m.parent_id);
        v && v.children.push(y);
      } else y && p.push(y);
    });
    const g = [];
    return t.forEach((m) => {
      const y = {
        id: m.id,
        title: m.title,
        slug: m.slug,
        folder_id: m.folder_id,
        category_id: m.category_id,
        created_at: m.created_at,
        updated_at: m.updated_at,
        created_by: m.created_by,
        is_published: m.is_published || !1,
        excerpt: m.excerpt || null,
        view_count: m.view_count || 0,
        type: "page",
        content: m.content
        // Use type assertion since content might exist
      };
      if (m.folder_id && h.has(m.folder_id)) {
        const v = h.get(m.folder_id);
        v && v.pages.push(y);
      } else m.folder_id || g.push(y);
    }), [...p, ...g];
  }, [e, t]), f = (h, p = 0) => h ? h.type === "page" ? u.jsxs("div", { className: Sr("flex items-center px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-800", n === h.id && "bg-blue-50 dark:bg-blue-900/30"), onClick: () => i(h.id), children: [u.jsx(Cg, { className: "h-4 w-4 mr-2 text-gray-500" }), u.jsx("span", { className: "truncate", children: h.title })] }, h.id) : u.jsxs("div", { className: "space-y-1", children: [u.jsxs("div", { className: Sr("flex items-center justify-between p-2 rounded-md cursor-pointer", r === h.id ? "bg-blue-50 dark:bg-blue-900/30" : "hover:bg-gray-100 dark:hover:bg-gray-800"), onClick: () => s(h.id), children: [u.jsxs("div", { className: "flex items-center space-x-2 flex-1 min-w-0", children: [u.jsx(Tg, { className: "h-4 w-4 text-blue-500" }), u.jsx("span", { className: "truncate", children: h.name })] }), u.jsxs("div", { className: "flex space-x-1", children: [u.jsx(dt, { variant: "ghost", size: "icon", className: "h-6 w-6", onClick: (g) => {
    g.stopPropagation(), a(h);
  }, children: u.jsx(QY, { className: "h-3.5 w-3.5" }) }), u.jsx(dt, { variant: "ghost", size: "icon", className: "h-6 w-6 text-red-500 hover:text-red-600", onClick: (g) => {
    g.stopPropagation(), o(h.id);
  }, children: u.jsx(wc, { className: "h-3.5 w-3.5" }) })] })] }), h.children.length > 0 && u.jsx("div", { className: "pl-4 border-l border-gray-200 dark:border-gray-700", children: h.children.map((g) => f(g, p + 1)) }), h.pages.length > 0 && u.jsx("div", { className: "pl-4", children: h.pages.map((g) => f(g, p + 1)) })] }, h.id) : null;
  return u.jsx("div", { className: "space-y-1", children: d.map((h) => u.jsx("div", { children: f(h, 0) }, h.id)) });
}
function jRe() {
  const { folderId: e } = pv(), t = io(), [r, n] = L([]), [s, i] = L([]), [o, a] = L(""), [l, c] = L(""), [d, f] = L(!1), [h, p] = L(!1), [g, m] = L(null), [y, v] = L(null), [b, x] = L(null), [S, w] = L(""), [j, N] = L(!0);
  ve(() => {
    (async () => {
      try {
        N(!0);
        const { data: B, error: X } = await he.from("wiki_folders").select("*").order("name");
        if (X)
          throw X;
        const { data: oe, error: W } = await he.from("wiki_pages").select(`
            *,
            sections:wiki_sections(*)
          `);
        if (W)
          throw W;
        const K = (oe || []).map((ee) => ({
          ...ee,
          sections: (ee.sections || []).map((te) => ({
            ...te,
            content: te.content || ""
          }))
        }));
        n(B || []), i(K);
      } catch (B) {
        console.error("Error fetching wiki data:", B), Ye.error("Failed to load wiki content");
      } finally {
        N(!1);
      }
    })();
  }, []);
  const k = async () => {
    if (o.trim())
      try {
        const D = (await he.auth.getUser()).data.user;
        if (!D) {
          Ye.error("You must be logged in to create a folder");
          return;
        }
        const { data: B, error: X } = await he.from("wiki_folders").insert([{
          name: o.trim(),
          slug: o.trim().toLowerCase().replace(/\s+/g, "-"),
          parent_id: e || null,
          created_by: D.id
        }]).select().single();
        if (X)
          throw X;
        n((oe) => [...oe, B]), a(""), f(!1), t(`/account/admin/wiki/folder/${B.id}`), Ye.success("Folder created successfully");
      } catch (D) {
        console.error("Error creating folder:", D), Ye.error(D instanceof Error ? D.message : "Failed to create folder");
      }
  }, C = async (D) => {
    try {
      const B = (await he.auth.getUser()).data.user;
      if (!B) {
        Ye.error("You must be logged in to create a page");
        return;
      }
      const { data: X, error: oe } = await he.from("wiki_pages").insert([
        {
          title: "New Page",
          content: "",
          folder_id: D || null,
          is_published: !1,
          created_by: B.id,
          excerpt: "",
          slug: "new-page-" + Date.now(),
          seo_title: "New Page",
          seo_description: "",
          seo_keywords: [],
          view_count: 0,
          created_at: (/* @__PURE__ */ new Date()).toISOString(),
          updated_at: (/* @__PURE__ */ new Date()).toISOString(),
          category_id: null
        }
      ]).select("*").single();
      if (oe)
        throw oe;
      i((W) => [...W, {
        ...X,
        sections: []
      }]), X && (m(X.id), v(X.id)), c(""), p(!1), Ye.success("Page created successfully");
    } catch (B) {
      console.error("Error creating page:", B), Ye.error(B instanceof Error ? B.message : "Failed to create page");
    }
  }, $ = (D) => {
    v(D.id), m(D.id);
  }, I = async (D) => {
    if (confirm("Are you sure you want to delete this page? This action cannot be undone."))
      try {
        N(!0);
        const { error: B } = await he.from("wiki_content_blocks").delete().eq("page_id", D);
        if (B)
          throw B;
        const { error: X } = await he.from("wiki_pages").delete().eq("id", D);
        if (X)
          throw X;
        i((oe) => oe.filter((W) => W.id !== D)), g === D && (m(null), v(null)), Ye.success("Page deleted successfully");
      } catch (B) {
        console.error("Error deleting page:", B), Ye.error("Failed to delete page");
      } finally {
        N(!1);
      }
  }, M = async (D) => {
    var B;
    try {
      const { data: X, error: oe } = await he.from("wiki_pages").upsert({
        ...D,
        updated_at: (/* @__PURE__ */ new Date()).toISOString(),
        updated_by: (B = (await he.auth.getUser()).data.user) == null ? void 0 : B.id
      }).select().single();
      if (oe)
        throw oe;
      return i((W) => W.map((K) => K.id === X.id ? { ...K, ...X } : K)), Ye.success("Page saved successfully"), X;
    } catch (X) {
      throw console.error("Error saving page:", X), Ye.error("Failed to save page"), X;
    }
  }, O = (D) => {
    x(D), w(D.name);
  }, z = async () => {
    if (!(!b || !S.trim()))
      try {
        const { data: D, error: B } = await he.from("wiki_folders").update({
          name: S.trim(),
          slug: S.trim().toLowerCase().replace(/\s+/g, "-")
        }).eq("id", b.id).select().single();
        if (B)
          throw B;
        n((X) => X.map((oe) => oe.id === D.id ? D : oe)), x(null), w(""), Ye.success("Folder updated successfully");
      } catch (D) {
        console.error("Error updating folder:", D), Ye.error("Failed to update folder");
      }
  }, U = async (D) => {
    var B;
    if (confirm("Are you sure you want to delete this folder and all its contents? This action cannot be undone."))
      try {
        N(!0);
        const { error: X } = await he.from("wiki_folders").delete().eq("id", D);
        if (X)
          throw X;
        const oe = (W, K) => W.reduce((ee, te) => te.id === K || te.parent_id === K ? ee : [...ee, te], []);
        if (n((W) => oe(W, D)), D === D || r.some((W) => W.parent_id === D && W.id === D)) {
          const W = (B = r.find((K) => K.id === D)) == null ? void 0 : B.parent_id;
          t(W ? `/account/admin/wiki/folder/${W}` : "/account/admin/wiki");
        }
        Ye.success("Folder and its contents deleted successfully");
      } catch (X) {
        console.error("Error deleting folder:", X), Ye.error("Failed to delete folder. Please try again.");
      } finally {
        N(!1);
      }
  }, G = async (D, B) => {
    try {
      if (r.some((oe) => oe.id === D)) {
        const { error: oe } = await he.from("wiki_folders").update({ parent_id: B }).eq("id", D);
        if (oe)
          throw oe;
        n((W) => W.map((K) => K.id === D ? { ...K, parent_id: B } : K));
      } else {
        const { error: oe } = await he.from("wiki_pages").update({ folder_id: B }).eq("id", D);
        if (oe)
          throw oe;
        i((W) => W.map((K) => K.id === D ? { ...K, folder_id: B } : K));
      }
      Ye.success("Item moved successfully");
    } catch (X) {
      console.error("Error moving item:", X), Ye.error("Failed to move item");
    }
  }, q = (D) => {
    m(null), v(null), t(`/account/admin/wiki/folder/${D}`);
  };
  Ht(() => {
    const D = /* @__PURE__ */ new Map(), B = [];
    r.forEach((W) => {
      D.set(W.id, { ...W, children: [] });
    }), r.forEach((W) => {
      const K = D.get(W.id);
      if (K)
        if (W.parent_id && D.has(W.parent_id)) {
          const ee = D.get(W.parent_id);
          ee && ee.children.push(K);
        } else
          B.push(K);
    });
    const X = (W) => [...W].sort((K, ee) => {
      var te, ue;
      return (((te = K.data) == null ? void 0 : te.order_index) ?? 0) - (((ue = ee.data) == null ? void 0 : ue.order_index) ?? 0);
    }), oe = (W) => X(W).map((ee) => ({
      ...ee,
      children: ee.children ? oe(ee.children) : []
    }));
    return oe(B);
  }, [r, e]);
  const Z = r.find((D) => D.id === e), ie = s.find((D) => D.id === g);
  return u.jsxs("div", { className: "flex h-screen bg-gray-100 dark:bg-gray-900", children: [u.jsxs("div", { className: "w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col", children: [u.jsxs("div", { className: "p-4 border-b border-gray-200 dark:border-gray-700", children: [u.jsx("h1", { className: "text-xl font-bold text-gray-900 dark:text-white", children: "Wiki Manager" }), u.jsxs("div", { className: "flex items-center text-sm text-gray-600 dark:text-gray-400 mt-2 overflow-x-auto", children: [u.jsx("button", { onClick: () => t("/account/admin/wiki"), className: "hover:text-blue-600 dark:hover:text-blue-400", children: "Home" }), Z && u.jsxs(u.Fragment, { children: [u.jsx(lh, { className: "h-4 w-4 mx-1" }), u.jsx("span", { className: "font-medium text-blue-600 dark:text-blue-400", children: Z.name })] })] })] }), u.jsxs("div", { className: "flex-1 overflow-y-auto p-2", children: [u.jsxs("div", { className: "space-y-2 mb-4", children: [u.jsxs("div", { className: "flex space-x-2", children: [u.jsxs(dt, { variant: "outline", size: "sm", className: "flex-1 justify-center bg-white dark:bg-gray-700 text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600", onClick: () => C(e), children: [u.jsx(Gi, { size: 14, className: "mr-2" }), "New Page"] }), u.jsxs(dt, { variant: "outline", size: "sm", className: "flex-1 justify-center bg-white dark:bg-gray-700 text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600", onClick: () => f(!d), children: [u.jsx(Tg, { size: 14, className: "mr-2" }), "New Folder"] })] }), d && u.jsxs("div", { className: "flex space-x-2 bg-white dark:bg-gray-800 p-2 rounded border border-gray-200 dark:border-gray-700", children: [u.jsx(ai, { autoFocus: !0, value: o, onChange: (D) => a(D.target.value), onKeyDown: (D) => D.key === "Enter" && k(), placeholder: "Folder name", className: "h-8 text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white" }), u.jsx(dt, { size: "sm", onClick: k, disabled: !o.trim(), className: "bg-blue-600 hover:bg-blue-700 text-white", children: "Add" })] }), h && u.jsxs("div", { className: "flex space-x-2 bg-white dark:bg-gray-800 p-2 rounded border border-gray-200 dark:border-gray-700", children: [u.jsx(ai, { autoFocus: !0, value: l, onChange: (D) => c(D.target.value), onKeyDown: (D) => {
    D.key === "Enter" && C(e);
  }, placeholder: "Page title", className: "h-8 text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white" }), u.jsx(dt, { size: "sm", onClick: () => C(e), disabled: !l.trim(), className: "bg-blue-600 hover:bg-blue-700 text-white", children: "Add" })] })] }), u.jsx("div", { className: "mt-2", children: j ? u.jsx("div", { className: "flex justify-center py-4", children: u.jsx(qu, { className: "h-4 w-4 animate-spin text-gray-700 dark:text-gray-300" }) }) : u.jsx("div", { className: "text-gray-700 dark:text-gray-300", children: u.jsx(YDe, { folders: r, pages: s, selectedFolder: e, selectedPage: g, onSelect: q, onPageSelect: (D) => {
    m(D), v(D);
  }, onDeleteFolder: U, onEditFolder: O, onDeletePage: I, onEditPage: $, onMoveItem: G }) }) })] })] }), u.jsx("div", { className: "flex-1 overflow-y-auto p-6", children: ie ? u.jsx(HDe, { id: ie.id, onUpdatePage: M }) : u.jsxs("div", { className: "flex flex-col items-center justify-center h-full text-center p-8", children: [u.jsx(Cg, { className: "h-16 w-16 text-gray-400 mb-4" }), u.jsx("h3", { className: "text-lg font-medium text-gray-900 dark:text-white mb-2", children: Z ? `No pages in ${Z.name}` : "No page selected" }), u.jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400 mb-6", children: Z ? "Create a new page in this folder using the sidebar." : "Select a page from the sidebar or create a new one." }), u.jsxs(dt, { onClick: () => C(e), className: "bg-blue-600 hover:bg-blue-700 text-white", children: [u.jsx(Gi, { className: "h-4 w-4 mr-2" }), "New Page"] })] }) }), b && u.jsx("div", { className: "fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50", children: u.jsxs("div", { className: "bg-white dark:bg-gray-800 p-6 rounded-lg shadow-xl w-96", children: [u.jsx("h3", { className: "text-lg font-semibold mb-4", children: "Edit Folder" }), u.jsx(ai, { autoFocus: !0, value: S, onChange: (D) => w(D.target.value), onKeyDown: (D) => D.key === "Enter" && z(), placeholder: "Folder name", className: "mb-4" }), u.jsxs("div", { className: "flex justify-end space-x-2", children: [u.jsx(dt, { variant: "outline", onClick: () => {
    x(null), w("");
  }, children: "Cancel" }), u.jsx(dt, { onClick: z, disabled: !S.trim(), className: "bg-blue-600 hover:bg-blue-700 text-white", children: "Save Changes" })] })] }) })] });
}
const NRe = () => u.jsx("div", { children: u.jsx("h1", { className: "text-3xl font-bold", children: "Timelines" }) }), GDe = {
  "Stage 1": {
    title: "Basic Information & Pre-Screening",
    description: "Initial qualification and basic details",
    auto_disqualify: !0,
    min_score_required: 15,
    max_possible_score: 30,
    questions: [
      {
        id: "reading_frequency",
        type: "multiple_choice",
        question: "How many books do you typically read per year?",
        options: [
          {
            text: "0-5 books",
            score: 1
          },
          {
            text: "6-11 books",
            score: 3
          },
          {
            text: "12-24 books",
            score: 5
          },
          {
            text: "25-49 books",
            score: 7
          },
          {
            text: "50+ books",
            score: 10
          }
        ],
        weight: 0.33,
        required: !0
      },
      {
        id: "genre_familiarity",
        type: "multiple_choice",
        question: "How familiar are you with [YOUR GENRE] fiction?",
        options: [
          {
            text: "Never read it",
            score: 1
          },
          {
            text: "Read a few books",
            score: 3
          },
          {
            text: "Read occasionally",
            score: 5
          },
          {
            text: "Read regularly",
            score: 7
          },
          {
            text: "Expert knowledge",
            score: 10
          }
        ],
        weight: 0.33,
        required: !0
      },
      {
        id: "time_commitment",
        type: "multiple_choice",
        question: "How many hours per week can you dedicate to beta reading?",
        options: [
          {
            text: "1-2 hours",
            score: 2
          },
          {
            text: "3-5 hours",
            score: 5
          },
          {
            text: "6-9 hours",
            score: 7
          },
          {
            text: "10-14 hours",
            score: 9
          },
          {
            text: "15+ hours",
            score: 10
          }
        ],
        weight: 0.34,
        required: !0
      }
    ]
  },
  "Stage 2": {
    title: "Experience & Skills Assessment",
    description: "Detailed evaluation of reading and feedback experience",
    conditional_display: !0,
    min_score_required: 25,
    max_possible_score: 40,
    questions: [
      {
        id: "beta_experience",
        type: "multiple_choice",
        question: "How many beta reading projects have you completed?",
        options: [
          {
            text: "None",
            score: 2
          },
          {
            text: "1 project",
            score: 4
          },
          {
            text: "2-4 projects",
            score: 6
          },
          {
            text: "5-9 projects",
            score: 8
          },
          {
            text: "10+ projects",
            score: 10
          }
        ],
        weight: 0.25,
        required: !0
      },
      {
        id: "feedback_strengths",
        type: "checkbox_multiple",
        question: "What are your strongest areas for providing feedback? (Select all that apply)",
        options: [
          {
            text: "Plot structure and pacing",
            score: 3
          },
          {
            text: "Character development",
            score: 3
          },
          {
            text: "Dialogue authenticity",
            score: 2
          },
          {
            text: "World-building consistency",
            score: 2
          },
          {
            text: "Grammar and style",
            score: 2
          },
          {
            text: "Emotional impact",
            score: 2
          }
        ],
        weight: 0.3,
        max_selections: 4,
        required: !0
      },
      {
        id: "writing_background",
        type: "multiple_choice",
        question: "What best describes your writing/editing background?",
        options: [
          {
            text: "No writing experience",
            score: 2
          },
          {
            text: "Casual writer",
            score: 4
          },
          {
            text: "Serious writer (unpublished)",
            score: 6
          },
          {
            text: "Published author",
            score: 8
          },
          {
            text: "Professional editor/reviewer",
            score: 10
          }
        ],
        weight: 0.25,
        required: !0
      },
      {
        id: "reading_speed",
        type: "slider",
        question: "Approximately how many pages can you read per hour?",
        min: 10,
        max: 100,
        step: 5,
        scoring_formula: "Math.min(10, Math.floor(value / 10))",
        weight: 0.2,
        required: !0
      }
    ]
  },
  "Stage 3": {
    title: "Sample Feedback Analysis",
    description: "Evaluate analytical skills through sample text review",
    min_score_required: 30,
    max_possible_score: 50,
    questions: [
      {
        id: "excerpt_analysis",
        type: "textarea",
        question: "Read this excerpt and identify what works well (100-300 words):",
        sample_text: "The obsidian gates groaned, not with the weight of stone, but with the sorrow of ages. Kaelen watched from the shadows, his breath a ghost in the frigid air, as the sigil on the archway pulsed with a faint, sickly green light. It was a warning. It was an invitation.",
        scoring_criteria: [
          {
            aspect: "Identifies specific literary techniques",
            max_score: 3
          },
          {
            aspect: "Provides concrete examples from text",
            max_score: 3
          },
          {
            aspect: "Shows genre awareness",
            max_score: 2
          },
          {
            aspect: "Demonstrates emotional engagement",
            max_score: 2
          }
        ],
        min_words: 100,
        max_words: 300,
        weight: 0.3,
        required: !0
      },
      {
        id: "problem_identification",
        type: "textarea",
        question: "What, if anything, was confusing or unclear? How could it be improved? (100-300 words)",
        scoring_criteria: [
          {
            aspect: "Identifies genuine readability issues",
            max_score: 3
          },
          {
            aspect: "Distinguishes objective vs subjective concerns",
            max_score: 3
          },
          {
            aspect: "Explains reasoning clearly",
            max_score: 2
          },
          {
            aspect: "Provides constructive context",
            max_score: 2
          }
        ],
        min_words: 100,
        max_words: 300,
        weight: 0.3,
        required: !0
      },
      {
        id: "actionable_suggestion",
        type: "textarea",
        question: "Provide one specific, actionable suggestion to enhance this scene (60-200 words)",
        scoring_criteria: [
          {
            aspect: "Offers specific, implementable solution",
            max_score: 4
          },
          {
            aspect: "Shows understanding of author's intent",
            max_score: 3
          },
          {
            aspect: "Suggests enhancement rather than just fixes",
            max_score: 3
          }
        ],
        min_words: 60,
        max_words: 200,
        weight: 0.4,
        required: !0
      }
    ]
  },
  "Stage 4": {
    title: "Final Assessment & Preferences",
    description: "Communication style and final compatibility check",
    min_score_required: 20,
    max_possible_score: 30,
    questions: [
      {
        id: "communication_style",
        type: "multiple_choice",
        question: "How would you describe your feedback style?",
        options: [
          {
            text: "Direct and detailed",
            score: 8
          },
          {
            text: "Gentle but thorough",
            score: 10
          },
          {
            text: "Focused on major issues",
            score: 6
          },
          {
            text: "Encouraging with suggestions",
            score: 9
          },
          {
            text: "Technical and analytical",
            score: 7
          }
        ],
        weight: 0.4,
        required: !0
      },
      {
        id: "availability_window",
        type: "date_range",
        question: "What is your availability window for this project?",
        scoring_criteria: [
          {
            aspect: "Matches project timeline",
            max_score: 5
          },
          {
            aspect: "Provides realistic timeframe",
            max_score: 3
          },
          {
            aspect: "Shows flexibility",
            max_score: 2
          }
        ],
        weight: 0.3,
        required: !0
      },
      {
        id: "motivation",
        type: "textarea",
        question: "Why do you want to be a beta reader for this project? (50-150 words)",
        scoring_criteria: [
          {
            aspect: "Shows genuine interest in the work",
            max_score: 4
          },
          {
            aspect: "Demonstrates understanding of role",
            max_score: 3
          },
          {
            aspect: "Articulates value they can provide",
            max_score: 3
          }
        ],
        min_words: 50,
        max_words: 150,
        weight: 0.3,
        required: !0
      }
    ]
  }
}, ZDe = {
  overall_thresholds: {
    auto_accept: 90,
    strong_candidate: 75,
    interview_required: 60
  }
}, XDe = {
  application_stages: GDe,
  scoring_system: ZDe
}, RR = XDe, kRe = () => {
  const [e, t] = L(0), [r, n] = L({}), [s, i] = L({}), [o, a] = L({}), [l, c] = L(!0), [d, f] = L(!1), [h, p] = L(""), [g, m] = L(0), y = Object.values(RR.application_stages), v = y[e], b = y.length;
  ve(() => {
    const O = {};
    y.forEach((z) => {
      z.questions.forEach((U) => {
        U.type === "checkbox_multiple" || U.type === "date_range" ? O[U.id] = [] : (U.type === "multiple_choice" || U.type === "slider" || U.type === "textarea") && (O[U.id] = "");
      });
    }), n(O);
  }, []);
  const x = (O) => {
    const { name: z, value: U, type: G, checked: q } = O.target;
    n((Z) => ({
      ...Z,
      [z]: G === "checkbox" ? q : U
    })), i((Z) => ({ ...Z, [z]: void 0 }));
  }, S = (O) => O.trim().split(/\s+/).filter((z) => z.length > 0).length, w = () => {
    let O = {}, z = !0;
    return v.questions.forEach((U) => {
      if (U.required) {
        const G = r[U.id];
        if (!G || Array.isArray(G) && G.length === 0)
          O[U.id] = "This field is required.", z = !1;
        else if (U.type === "textarea") {
          const q = S(G);
          U.min_words && q < U.min_words && (O[U.id] = `Minimum ${U.min_words} words required.`, z = !1), U.max_words && q > U.max_words && (O[U.id] = `Maximum ${U.max_words} words allowed.`, z = !1);
        }
      }
      U.type === "checkbox_multiple" && U.max_selections && r[U.id] && r[U.id].length > U.max_selections && (O[U.id] = `You can select a maximum of ${U.max_selections} options.`, z = !1);
    }), i(O), z;
  }, j = (O, z) => {
    let U = 0;
    if (O.type === "multiple_choice" && O.options) {
      const G = O.options.find((q) => q.text === z);
      U = G ? G.score : 0;
    } else O.type === "checkbox_multiple" && O.options && Array.isArray(z) ? U = z.reduce((G, q) => {
      var ie;
      const Z = (ie = O.options) == null ? void 0 : ie.find((D) => D.text === q);
      return G + (Z ? Z.score : 0);
    }, 0) : O.type === "slider" && z ? U = Math.min(10, Math.floor(parseInt(z) / 10)) : O.type === "textarea" && (U = z && S(z) > 0 ? 5 : 0);
    return U * O.weight;
  }, N = (O) => {
    let z = 0;
    return O.questions.forEach((U) => {
      z += j(U, r[U.id]);
    }), Math.round(z * (O.max_possible_score / 10));
  }, k = () => {
    if (w()) {
      const O = N(v);
      if (a((z) => ({ ...z, [e]: O })), v.min_score_required && O < v.min_score_required) {
        c(!1), f(!0);
        return;
      }
      e < b - 1 ? t((z) => z + 1) : I();
    }
  }, C = () => {
    e > 0 && t((O) => O - 1);
  }, $ = (O) => {
    const z = RR.scoring_system.overall_thresholds;
    return O >= z.auto_accept ? "auto_accept" : O >= z.strong_candidate ? "strong_candidate" : O >= z.interview_required ? "interview_required" : "auto_reject";
  }, I = () => {
    let O = Object.values(o).reduce((z, U) => z + U, 0);
    m(O), p($(O)), f(!0);
  }, M = (O) => {
    var G, q;
    const z = r[O.id], U = s[O.id];
    switch (O.type) {
      case "multiple_choice":
        return u.jsxs("div", { className: "question-container mb-4 p-4 bg-background-light rounded-lg shadow-sm border-l-4 border-primary", children: [u.jsxs("label", { className: "block text-lg font-semibold text-textLight mb-2", children: [O.question, " ", O.required && u.jsx("span", { className: "text-errorRed", children: "*" })] }), (G = O.options) == null ? void 0 : G.map((Z) => u.jsxs("label", { className: "radio-option", children: [u.jsx("input", { type: "radio", name: O.id, value: Z.text, checked: z === Z.text, onChange: x }), u.jsx("span", { className: "radio-custom" }), u.jsx("span", { className: "option-text", children: Z.text })] }, Z.text)), U && u.jsx("p", { className: "text-errorRed text-sm mt-1", children: U })] }, O.id);
      case "checkbox_multiple":
        return u.jsxs("div", { className: "question-container mb-4 p-4 bg-background-light rounded-lg shadow-sm border-l-4 border-primary", children: [u.jsxs("label", { className: "block text-lg font-semibold text-textLight mb-2", children: [O.question, " ", O.required && u.jsx("span", { className: "text-errorRed", children: "*" })] }), (q = O.options) == null ? void 0 : q.map((Z) => u.jsxs("label", { className: "checkbox-option", children: [u.jsx("input", { type: "checkbox", name: O.id, value: Z.text, checked: Array.isArray(z) && z.includes(Z.text), onChange: x }), u.jsx("span", { className: "checkbox-custom" }), u.jsx("span", { className: "option-text", children: Z.text })] }, Z.text)), O.max_selections && u.jsxs("p", { className: "text-sm text-grayDark mt-1", children: ["Select up to ", O.max_selections] }), U && u.jsx("p", { className: "text-errorRed text-sm mt-1", children: U })] }, O.id);
      case "textarea":
        return u.jsxs("div", { className: "question-container mb-4 p-4 bg-background-light rounded-lg shadow-sm border-l-4 border-primary", children: [u.jsxs("label", { htmlFor: O.id, className: "block text-lg font-semibold text-textLight mb-2", children: [O.question, " ", O.required && u.jsx("span", { className: "text-errorRed", children: "*" })] }), O.sample_text && u.jsx("p", { className: "text-grayDark text-base mb-2 italic", children: O.sample_text }), u.jsx("textarea", { id: O.id, name: O.id, value: z || "", onChange: x, rows: 6, className: "mt-1 block w-full border border-borderColorLight rounded-md shadow-sm p-2 focus:border-primary focus:ring-primary" }), O.min_words && O.max_words && u.jsxs("p", { className: "text-xs text-grayDark mt-1", children: ["Words: ", S(z || ""), " / ", O.max_words, " (min: ", O.min_words, ")"] }), U && u.jsx("p", { className: "text-errorRed text-sm mt-1", children: U })] }, O.id);
      case "slider":
        return u.jsxs("div", { className: "question-container mb-4 p-4 bg-background-light rounded-lg shadow-sm border-l-4 border-primary", children: [u.jsxs("label", { htmlFor: O.id, className: "block text-lg font-semibold text-textLight mb-2", children: [O.question, " ", O.required && u.jsx("span", { className: "text-errorRed", children: "*" })] }), u.jsx("input", { type: "range", id: O.id, name: O.id, min: O.min, max: O.max, step: O.step, value: z || O.min || 0, onChange: x, className: "w-full h-2 bg-grayMedium rounded-lg appearance-none cursor-pointer accent-primary" }), u.jsxs("div", { className: "flex justify-between text-sm text-grayDark mt-1", children: [u.jsx("span", { children: O.min }), u.jsx("span", { children: z || O.min || 0 }), u.jsx("span", { children: O.max })] }), U && u.jsx("p", { className: "text-errorRed text-sm mt-1", children: U })] }, O.id);
      case "date_range":
        return u.jsxs("div", { className: "question-container mb-4 p-4 bg-background-light rounded-lg shadow-sm border-l-4 border-primary", children: [u.jsxs("label", { htmlFor: O.id, className: "block text-lg font-semibold text-textLight mb-2", children: [O.question, " ", O.required && u.jsx("span", { className: "text-errorRed", children: "*" })] }), u.jsx("p", { className: "text-base text-grayDark", children: "Date range selection not fully implemented in this example." }), U && u.jsx("p", { className: "text-errorRed text-sm mt-1", children: U })] }, O.id);
      default:
        return u.jsxs("p", { className: "text-errorRed", children: ["Unknown question type: ", O.type] }, O.id);
    }
  };
  if (d)
    if (l) {
      const O = {
        auto_accept: "Congratulations! You have been automatically accepted into our beta reader program.",
        strong_candidate: "Excellent! You are a strong candidate. We will contact you within 48 hours.",
        interview_required: "Thank you for applying. We would like to schedule a brief interview with you.",
        auto_reject: "Thank you for your interest. Unfortunately, you do not meet our current requirements."
      };
      return u.jsxs("div", { className: "container mx-auto p-4 text-center text-textLight rounded-lg shadow-lg my-8 card-glow", children: [u.jsx("h1", { className: "text-4xl font-bold mb-4", children: "Application Complete" }), u.jsxs("div", { className: "p-6 rounded-lg shadow-md mb-6 card-glow", children: [u.jsxs("h2", { className: "text-3xl font-semibold mb-2", children: ["Your Score: ", g] }), u.jsx("p", { className: "text-lg", children: O[h] })] }), u.jsx("button", { onClick: () => window.location.reload(), className: "btn-glow text-white p-3 rounded-md font-semibold active:scale-95 active:shadow-inner cursor-pointer transition duration-300 ease-in-out", children: "Apply Again" })] });
    } else
      return u.jsxs("div", { className: "container mx-auto p-4 text-center text-textLight rounded-lg shadow-lg my-8 card-glow", children: [u.jsx("h1", { className: "text-4xl font-bold mb-4 text-errorRed", children: "Application Not Qualified" }), u.jsx("p", { className: "text-lg mb-4 text-grayDark", children: "Thank you for your interest in our beta reader program." }), u.jsx("p", { className: "text-md mb-6 text-grayDark", children: "Unfortunately, you do not meet the minimum requirements for this stage. We encourage you to gain more reading experience and apply again in the future." }), u.jsx("button", { onClick: () => window.location.reload(), className: "btn-glow text-white p-3 rounded-md font-semibold active:scale-95 active:shadow-inner cursor-pointer transition duration-300 ease-in-out", children: "Start Over" })] });
  return u.jsxs("div", { className: "container mx-auto p-4 bg-background-light text-textLight rounded-lg shadow-lg my-8", children: [u.jsx("h1", { className: "text-4xl font-bold mb-6 text-primary text-center hero-title-glow", children: "Beta Program Application" }), u.jsx("div", { className: "w-full bg-grayMedium rounded-full h-2.5 mb-4", children: u.jsx("div", { className: "bg-primary h-2.5 rounded-full transition-all duration-500 ease-in-out", style: { width: `${(e + 1) / b * 100}%` } }) }), u.jsxs("p", { className: "text-center text-base text-grayDark mb-6", children: ["Stage ", e + 1, " of ", b, ": ", v.title] }), u.jsxs("form", { onSubmit: (O) => {
    O.preventDefault(), k();
  }, className: "space-y-6", children: [u.jsxs("section", { className: "p-6 bg-background-light rounded-lg shadow-md border border-borderColorLight", children: [u.jsx("h2", { className: "text-3xl font-semibold mb-4 text-textLight", children: v.title }), u.jsx("p", { className: "text-lg text-grayDark mb-4", children: v.description }), v.questions.map(M)] }), u.jsxs("div", { className: "flex justify-between mt-6", children: [e > 0 && u.jsx("button", { type: "button", onClick: C, className: "btn-glow text-white p-3 rounded-md font-semibold active:scale-95 active:shadow-inner cursor-pointer transition duration-300 ease-in-out", children: "Previous" }), u.jsx("button", { type: "submit", className: "btn-glow text-white p-3 rounded-md font-semibold active:scale-95 active:shadow-inner cursor-pointer transition duration-300 ease-in-out ml-auto", children: e === b - 1 ? "Submit Application" : "Next" })] })] })] });
}, CRe = ({ product: e, onPurchase: t, showCheckout: r = !1 }) => {
  const [n, s] = L(!1), [i, o] = L(!1), [a, l] = L(null), { addItem: c, isInCart: d } = vI(), f = e.prices && e.prices.length > 0 ? {
    id: e.prices[0].id,
    unit_amount: e.prices[0].unit_amount,
    currency: e.prices[0].currency,
    interval: e.prices[0].interval || void 0,
    // Add interval if available
    trial_days: e.prices[0].trial_days || void 0
    // Add trial_days if available
  } : null, h = (b, x) => new Intl.NumberFormat("en-US", {
    style: "currency",
    currency: x.toUpperCase()
  }).format(b / 100), p = (b) => {
    l(b), s(!0);
  }, g = () => {
    f && c({
      id: e.id,
      title: e.name,
      // Temporarily cast to any
      price: f.unit_amount / 100,
      currency: f.currency,
      format: "digital"
      // Added a placeholder format
    });
  }, m = (b) => {
    s(!1), t && t(e.id), console.log("Purchase successful:", b);
  }, y = () => {
    s(!1);
  };
  if (!f)
    return null;
  const v = d(e.id);
  return u.jsxs(u.Fragment, { children: [u.jsxs("div", { className: "bg-background-light/30 backdrop-blur-sm rounded-2xl shadow-lg overflow-hidden hover:shadow-2xl transition-all duration-300 product-card-hover glass-effect border border-border/30", children: [u.jsxs("div", { className: "relative h-64 bg-gradient-to-br from-primary/30 via-secondary/30 to-accent/30", children: [u.jsx("div", { className: "w-full h-full flex items-center justify-center", children: u.jsxs("div", { className: "text-center", children: [u.jsx(ch, { className: "w-16 h-16 text-secondary mx-auto mb-2" }), u.jsx("p", { className: "text-text-light/60 text-sm font-medium", children: e.name })] }) }), e.active && u.jsx("div", { className: "absolute top-4 right-4 bg-success text-white px-3 py-1 rounded-full text-xs font-medium shadow-lg", children: "Available" }), e.product_type === "bundle" && u.jsx("div", { className: "absolute top-4 left-4 bg-secondary text-background px-3 py-1 rounded-full text-xs font-medium shadow-lg", children: "Bundle" }), (e.product_type === "chapter_pass" || e.product_type === "arc_pass") && u.jsx("div", { className: "absolute top-4 left-4 bg-accent text-white px-3 py-1 rounded-full text-xs font-medium shadow-lg", children: "Subscription" })] }), u.jsxs("div", { className: "p-6", children: [u.jsx("h3", { className: "text-xl font-bold text-text-light mb-3 line-clamp-2", children: e.name }), u.jsx("p", { className: "text-text-light/70 text-sm mb-4 line-clamp-3 leading-relaxed", children: e.description }), u.jsxs("div", { className: "mb-6", children: [u.jsx("div", { className: "text-3xl font-bold text-secondary mb-2", children: h(f.unit_amount, f.currency) }), (e.product_type === "chapter_pass" || e.product_type === "arc_pass") && u.jsx("div", { className: "text-text-light/70 text-sm", children: "per month" }), !(e.product_type === "chapter_pass" || e.product_type === "arc_pass") && u.jsx("div", { className: "text-text-light/70 text-sm", children: "One-time purchase" })] }), u.jsxs("div", { className: "space-y-3", children: [u.jsx("button", { onClick: g, disabled: v, className: `w-full py-3 px-4 rounded-xl font-medium transition-all duration-200 flex items-center justify-center space-x-2 ${v ? "bg-success text-white cursor-not-allowed" : "bg-secondary text-background hover:bg-secondary-dark focus:outline-none focus:ring-2 focus:ring-secondary/50 focus:ring-offset-2 focus:ring-offset-background-light shadow-lg hover:shadow-xl"}`, children: v ? u.jsxs(u.Fragment, { children: [u.jsx("span", { children: "" }), u.jsx("span", { children: "Added to Cart" })] }) : u.jsxs(u.Fragment, { children: [u.jsx(Gi, { className: "w-5 h-5" }), u.jsx("span", { children: "Add to Cart" })] }) }), u.jsxs("button", { onClick: () => p(f), className: "w-full bg-primary text-white py-3 px-4 rounded-xl font-medium hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-primary/50 focus:ring-offset-2 focus:ring-offset-background-light transition-all duration-200 flex items-center justify-center space-x-2 shadow-lg hover:shadow-xl", children: [u.jsx(oL, { className: "w-5 h-5" }), u.jsx("span", { children: e.product_type === "chapter_pass" || e.product_type === "arc_pass" ? "Start Subscription" : "Buy Now" })] })] }), u.jsx("div", { className: "mt-6 pt-4 border-t border-border/30", children: u.jsxs("div", { className: "grid grid-cols-2 gap-4 text-sm text-text-dark", children: [u.jsxs("div", { children: [u.jsx("span", { className: "font-medium text-text-light", children: "Published:" }), u.jsx("br", {}), new Date(e.created_at).toLocaleDateString()] }), u.jsxs("div", { children: [u.jsx("span", { className: "font-medium text-text-light", children: "Type:" }), u.jsx("br", {}), e.product_type === "bundle" ? "Bundle" : e.product_type === "chapter_pass" || e.product_type === "arc_pass" ? "Subscription" : "Single Issue"] })] }) })] })] }), n && a && u.jsx("div", { className: "fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50", children: u.jsxs("div", { className: "bg-background-light rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto glass-effect border border-border/30", children: [u.jsx("div", { className: "p-6 border-b border-border/30", children: u.jsxs("div", { className: "flex items-center justify-between", children: [u.jsx("h3", { className: "text-lg font-medium text-text-light", children: "Complete Purchase" }), u.jsxs("button", { onClick: () => s(!1), className: "text-text-dark hover:text-text-light transition-colors p-1 rounded-lg hover:bg-background/30", children: [u.jsx("span", { className: "sr-only", children: "Close" }), u.jsx("svg", { className: "w-6 h-6", fill: "none", viewBox: "0 0 24 24", stroke: "currentColor", children: u.jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M6 18L18 6M6 6l12 12" }) })] })] }) }), u.jsx(f5, { product: {
    id: e.id,
    name: e.name,
    price: a.unit_amount,
    currency: a.currency,
    interval: a.interval,
    trial_period_days: a.trial_days,
    is_subscription: e.product_type === "chapter_pass" || e.product_type === "arc_pass"
  }, onSuccess: m, onCancel: y })] }) })] });
}, JDe = ({ item: e, isActive: t = !1, level: r = 0, onClick: n }) => {
  const { title: s, slug: i, type: o, children: a = [] } = e, l = a && a.length > 0, c = `${r * 16 + 8}px`, d = (f) => {
    f.preventDefault(), n && n(i);
  };
  return u.jsxs("div", { className: `wiki-nav-item ${t ? "active" : ""}`, style: { paddingLeft: c }, children: [u.jsxs(qr, { to: `/wiki/${i}`, className: `nav-link ${o}`, onClick: d, children: [s, l && u.jsx("span", { className: "nav-toggle", children: t ? "" : "" })] }), l && t && u.jsx("div", { className: "nav-children", children: a.map((f, h) => u.jsx(JDe, { item: f, level: r + 1, isActive: t, onClick: n }, f.slug)) })] });
}, TRe = ({ count: e = 4, viewMode: t = "grid", className: r }) => {
  const n = Array.from({ length: e }, (s, i) => u.jsxs("div", { className: `${t === "grid" ? "bg-background-light/30 backdrop-blur-sm rounded-2xl border border-border/30 overflow-hidden" : "bg-background-light/30 backdrop-blur-sm rounded-2xl p-6 border border-border/30"}`, children: [u.jsx("div", { className: "h-64 bg-gradient-to-r from-border/20 to-border/40 skeleton" }), u.jsxs("div", { className: "p-6", children: [u.jsx("div", { className: "h-6 bg-border/20 rounded skeleton mb-3" }), u.jsxs("div", { className: "space-y-2 mb-4", children: [u.jsx("div", { className: "h-4 bg-border/20 rounded skeleton" }), u.jsx("div", { className: "h-4 bg-border/20 rounded skeleton w-3/4" }), u.jsx("div", { className: "h-4 bg-border/20 rounded skeleton w-1/2" })] }), u.jsxs("div", { className: "mb-4", children: [u.jsx("div", { className: "h-4 bg-border/20 rounded skeleton w-24 mb-2" }), u.jsxs("div", { className: "flex space-x-2", children: [u.jsx("div", { className: "h-6 bg-border/20 rounded-full skeleton w-16" }), u.jsx("div", { className: "h-6 bg-border/20 rounded-full skeleton w-20" })] })] }), u.jsxs("div", { className: "mb-6", children: [u.jsx("div", { className: "h-8 bg-border/20 rounded skeleton w-20 mb-2" }), u.jsx("div", { className: "h-4 bg-border/20 rounded skeleton w-32" })] }), u.jsxs("div", { className: "space-y-3", children: [u.jsx("div", { className: "h-12 bg-border/20 rounded-xl skeleton" }), u.jsx("div", { className: "h-10 bg-border/20 rounded-xl skeleton" })] })] })] }, i));
  return u.jsx("div", { className: Sr(t === "grid" ? "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6" : "space-y-4", r), children: n });
};
function ARe() {
  return { toast: ({ title: t, description: r, variant: n }) => {
    n === "destructive" ? Qt.error(t, {
      id: t,
      // Use title as ID to prevent duplicate toasts
      duration: 5e3,
      style: {
        background: "#fee2e2",
        // red-100
        color: "#ef4444",
        // red-500
        border: "1px solid #fca5a5"
        // red-300
      },
      iconTheme: {
        primary: "#ef4444",
        secondary: "#fee2e2"
      }
    }) : Qt.success(t, {
      id: t,
      duration: 3e3,
      style: {
        background: "#dcfce7",
        // green-100
        color: "#22c55e",
        // green-500
        border: "1px solid #86efac"
        // green-300
      },
      iconTheme: {
        primary: "#22c55e",
        secondary: "#dcfce7"
      }
    });
  } };
}
const QDe = {
  default: "bg-primary text-primary-foreground hover:bg-primary/80 border-transparent",
  secondary: "bg-secondary text-secondary-foreground hover:bg-secondary/80 border-transparent",
  destructive: "bg-destructive text-destructive-foreground hover:bg-destructive/80 border-transparent",
  outline: "text-foreground border border-input hover:bg-accent hover:text-accent-foreground",
  success: "bg-green-500 text-white hover:bg-green-600 border-transparent"
}, e$e = _.forwardRef(({ className: e, variant: t = "default", ...r }, n) => u.jsx("div", { ref: n, className: Ze("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2", QDe[t], e), ...r }));
e$e.displayName = "Badge";
export {
  HDe as $,
  b$e as A,
  dt as B,
  Ef as C,
  W$e as D,
  K$e as E,
  cRe as F,
  F$e as G,
  E$e as H,
  ai as I,
  uRe as J,
  yRe as K,
  js as L,
  vRe as M,
  U$e as N,
  oG as O,
  uG as P,
  bRe as Q,
  lG as R,
  dG as S,
  Z4 as T,
  xRe as U,
  wRe as V,
  I$e as W,
  _Re as X,
  SRe as Y,
  ERe as Z,
  jRe as _,
  jf as a,
  NRe as a0,
  kRe as a1,
  CRe as a2,
  JDe as a3,
  TRe as a4,
  g$e as a5,
  y$e as a6,
  Sr as a7,
  ARe as a8,
  TW as a9,
  OM as aA,
  DM as aB,
  $M as aC,
  RM as aD,
  IM as aE,
  Lse as aF,
  Bse as aG,
  Q4 as aH,
  A$e as aI,
  Fse as aJ,
  e5 as aK,
  t5 as aL,
  zse as aM,
  r5 as aN,
  Use as aO,
  Vg as aP,
  Ise as aQ,
  Jse as aa,
  Xse as ab,
  vm as ac,
  C$e as ad,
  bm as ae,
  _f as af,
  Sf as ag,
  Sse as ah,
  Di as ai,
  Ese as aj,
  JZ as ak,
  AL as al,
  xf as am,
  wf as an,
  dE as ao,
  e$e as ap,
  _E as aq,
  SE as ar,
  Wg as as,
  Dse as at,
  aH as au,
  lH as av,
  TM as aw,
  m$e as ax,
  AM as ay,
  PM as az,
  Nf as b,
  kf as c,
  Mse as d,
  X4 as e,
  ag as f,
  Xc as g,
  J4 as h,
  Cl as i,
  u as j,
  v$e as k,
  cG as l,
  aG as m,
  x$e as n,
  w$e as o,
  _$e as p,
  P$e as q,
  O$e as r,
  $$e as s,
  R$e as t,
  M$e as u,
  L$e as v,
  B$e as w,
  z$e as x,
  q$e as y,
  V$e as z
};
